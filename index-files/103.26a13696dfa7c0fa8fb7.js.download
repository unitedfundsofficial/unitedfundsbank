(window.webpackJsonp=window.webpackJsonp||[]).push([[103,"series-icons-map"],{"+KIV":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M8 9.5H6.5a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1V20m-8-1.5h11a1 1 0 0 0 1-1v-11a1 1 0 0 0-1-1h-11a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1z"/></svg>'},"1Tx8":function(e,t,n){e.exports={button:"button-YsN2vRuA",withText:"withText-JhQdRoPu",withoutText:"withoutText-f6SoijeW"}},"1uoO":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="currentColor"><path d="M9 8v12h3V8H9zm-1-.502C8 7.223 8.215 7 8.498 7h4.004c.275 0 .498.22.498.498v13.004a.493.493 0 0 1-.498.498H8.498A.496.496 0 0 1 8 20.502V7.498z"/><path d="M10 4h1v3.5h-1z"/><path d="M17 6v6h3V6h-3zm-1-.5c0-.276.215-.5.498-.5h4.004c.275 0 .498.23.498.5v7c0 .276-.215.5-.498.5h-4.004a.503.503 0 0 1-.498-.5v-7z"/><path d="M18 2h1v3.5h-1z"/></svg>'},"23di":function(e,t,n){e.exports={wrap:"wrap-3OynVXTx",titleWrap:"titleWrap-yVINuOIC",indicators:"indicators-CRJ2i71K",title:"title-Iod5hZQV",icon:"icon-3bTRbX0U",text:"text-2BJe_3ce",labelRow:"labelRow-2Vs9IqnP",label:"label-1LxfyrID"}},"2xRE":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M18.293 13l-2.647 2.646.707.708 3.854-3.854-3.854-3.854-.707.708L18.293 12H12.5A5.5 5.5 0 0 0 7 17.5V19h1v-1.5a4.5 4.5 0 0 1 4.5-4.5h5.793z"/></svg>'},"39J6":function(e,t,n){"use strict";function a(e){return i.createElement("div",{className:r.spinnerWrap},i.createElement(o.Loader,null))}var i,o,r;n.d(t,"a",function(){return a}),i=n("q1tI"),o=n("ntfI"),r=n("Oy6E")},"3p5r":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="25" height="21"><g fill="none" stroke="currentColor" transform="translate(.5 .5)"><rect width="24" height="20" rx="2"/><path d="M0 10h24M6 0v20M12 0v20M18 0v20"/></g></svg>'},"4hTN":function(e,t,n){e.exports={value:"value-DWZXOdoK",selected:"selected-2V87KUXm"}},"4pMH":function(e,t,n){},"53FK":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor" transform="translate(.5 .5)"><rect width="22" height="20" rx="2"/><path d="M0 10h11M11 0v20"/></g></svg>'},"5ijr":function(e){e.exports=JSON.parse('{"switcherWrapper":"switcherWrapper-1wFH-_jm","input":"input-J7QIcTTo","switcherThumbWrapper":"switcherThumbWrapper-2u191lDO","switcherTrack":"switcherTrack-2XruDVTa","switcherThumb":"switcherThumb-2yuEucci","focus":"focus-uZMRkCO0"}')},"6w+I":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor" transform="translate(.5 .5)"><rect width="22" height="20" rx="2"/><path d="M0 10h22M7 10v10M15 10v10"/></g></svg>'},"77oG":function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M18 5v5h3V5h-3zm-1-1h5v7h-5V4zm-4 13h3v-5h-3v5zm-1-6h5v7h-5v-7zM8 24h3v-5H8v5zm-1-6h5v7H7v-7z"/></svg>'},"7RQU":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor" transform="translate(.5 .5)"><rect width="22" height="20" rx="2"/><path d="M0 5h22M0 10h22M0 15h22M11 0v20"/></g></svg>'},"8OHs":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" width="23" height="23"><circle fill="none" stroke="currentColor" cx="11.5" cy="11.5" r="11"/><path fill="currentColor" d="M11.366 6.636c0-.327.116-.6.348-.816a1.19 1.19 0 0 1 .846-.326c.327 0 .607.108.842.326.234.217.351.49.351.816 0 .322-.117.593-.351.813-.235.22-.515.33-.842.33-.328 0-.608-.109-.843-.326a1.067 1.067 0 0 1-.351-.817zM11.908 17h-1.86l1.186-6.372H10.23l.308-1.472h2.835L11.908 17z"/></svg>'},"9NBK":function(e,t,n){e.exports={item:"item-b8AKccvl",round:"round-2UQxqNA1"}},BxJQ:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor" transform="translate(.5 .5)"><rect width="22" height="20" rx="2"/><path d="M11 0v20"/></g></svg>'},C9Qp:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor" transform="translate(.5 .5)"><rect width="22" height="20" rx="2"/><path d="M0 10h22M11 0v10"/></g></svg>'},CX26:function(e,t,n){e.exports={form:"form-2itceCqS",interacting:"interacting-3joY26dg",input:"input-z46tLQgj",menu:"menu-35lWsSKr",add:"add-1NrfSAvb",hovered:"hovered-1nwOcWv8",hover:"hover-2JY1kj4n",wrap:"wrap-1oB2WI2R"}},D3Kn:function(e,t,n){"use strict";function a(e){var t,n;void 0===e&&(e={}),window.is_authenticated?(t="",e=Object(o.a)(e),Object.keys(e).forEach(function(n){t+='<input type="text" name="'+TradingView.clean(n)+'" value="'+TradingView.clean(e[n])+'">'}),n=$('<form method="POST" target="_blank" action="/chart/" style="display: none;"><input type="text" name="new" value="1">'+t+'<input type="submit"></form>'),$("body").append(n),n.submit()):window.open(Object(o.b)({},$.param(e)),"_blank")}var i,o;n.d(t,"a",function(){return a}),i=n("P5fv"),o=n("BxxN")},"Db7+":function(e,t,n){"use strict";function a(e){var t=e.text,n=e.className,a=e.displayMode,h=e.collapseWhen,u=void 0===h?c:h,d=Object(i.__rest)(e,["text","className","displayMode","collapseWhen"]),v=!u.includes(a);return o.createElement(s.a,Object(i.__assign)({},d,{text:v?t:void 0,className:r(n,l.button,v?l.withText:l.withoutText)}))}var i,o,r,s,l,c;n.d(t,"a",function(){return a}),i=n("mrSG"),o=n("q1tI"),r=n("TSYQ"),s=n("tU7i"),l=n("1Tx8"),c=["medium","small"]},DeZa:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor" transform="translate(.5 .5)"><rect width="22" height="20" rx="2"/><path d="M0 10h22M7 0v20M15 0v20"/></g></svg>'},EsZh:function(e,t,n){"use strict"
;var a,i,o,r,s,l,c,h,u,d,v,p,m,g,f;n.r(t),n.d(t,"SERIES_ICONS",function(){return f}),a=n("77oG"),i=n("NblU"),o=n("j1g1"),r=n("pIlP"),s=n("lRGL"),l=n("G2sT"),c=n("Jtxf"),h=n("pqsj"),u=n("1uoO"),d=n("FO3N"),v=n("t2Sj"),p=n("fD7T"),m=n("VgwI"),(g={})[3]=l,g[0]=c,g[1]=h,g[8]=u,g[9]=d,g[2]=v,g[10]=p,g[12]=m,(f=g)[4]=a,f[6]=i,f[7]=o,f[5]=r,f[11]=s},EvtC:function(e,t,n){e.exports={button:"button-2-lC3gh4"}},FO3N:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="currentColor"><path d="M17 11v6h3v-6h-3zm-.5-1h4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5z"/><path d="M18 7h1v3.5h-1zm0 10.5h1V21h-1z"/><path d="M9 8v11h3V8H9zm-.5-1h4a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-12a.5.5 0 0 1 .5-.5z"/><path d="M10 4h1v5h-1zm0 14h1v5h-1zM8.5 9H10v1H8.5zM11 9h1.5v1H11zm-1 1h1v1h-1zm-1.5 1H10v1H8.5zm2.5 0h1.5v1H11zm-1 1h1v1h-1zm-1.5 1H10v1H8.5zm2.5 0h1.5v1H11zm-1 1h1v1h-1zm-1.5 1H10v1H8.5zm2.5 0h1.5v1H11zm-1 1h1v1h-1zm-1.5 1H10v1H8.5zm2.5 0h1.5v1H11z"/></svg>'},FzLb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n("mrSG").__exportStar(n("j3s+"),t)},G2sT:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="currentColor"><path d="M12.5 17.207L18.707 11h2l3.647-3.646-.708-.708L20.293 10h-2L12.5 15.793l-3-3-4.854 4.853.708.708L9.5 14.207z"/><path d="M9 16h1v1H9zm1 1h1v1h-1zm-1 1h1v1H9zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1H9zm2 0h1v1h-1zm-3-3h1v1H8zm-1 1h1v1H7zm-1 1h1v1H6zm2 0h1v1H8zm-1 1h1v1H7zm-2 0h1v1H5zm17-9h1v1h-1zm1-1h1v1h-1zm0 2h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-5-7h1v1h-1zm2 0h1v1h-1zm1-1h1v1h-1zm-2 2h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-2-6h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-3-3h1v1h-1zm-1 1h1v1h-1zm-1 1h1v1h-1zm2 0h1v1h-1zm-1 1h1v1h-1z"/></svg>'},GgvM:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="currentColor"><path d="M21 7v4h1V6h-5v1z"/><path d="M16.854 11.854l5-5-.708-.708-5 5zM7 7v4H6V6h5v1z"/><path d="M11.146 11.854l-5-5 .708-.708 5 5zM21 21v-4h1v5h-5v-1z"/><path d="M16.854 16.146l5 5-.708.708-5-5z"/><g><path d="M7 21v-4H6v5h5v-1z"/><path d="M11.146 16.146l-5 5 .708.708 5-5z"/></g></g></svg>'},HBiQ:function(e,t,n){e.exports={button:"button-1IIz2ju4",first:"first-bfrNico9",last:"last-3h-LFsOr"}},Jtxf:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="none" stroke="currentColor" stroke-linecap="square"><path d="M10.5 7.5v15M7.5 20.5H10M13.5 11.5H11M19.5 6.5v15M16.5 9.5H19M22.5 16.5H20"/></g></svg>'},LBcQ:function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor" transform="translate(.5 .5)"><rect width="22" height="20" rx="2"/><path d="M11 0v20M11 7h11M11 13h11"/></g></svg>'},MB0Y:function(e,t,n){"use strict";function a(e){var t=e.className,n=e.checked,a=e.id,o=e.label,s=e.labelDescription,d=e.value,v=e.preventLabelHighlight,p=e.reference,m=e.switchReference,g=e.theme,f=void 0===g?u:g,w=l()(f.label,n&&!v&&f.labelOn),b=l()(t,f.wrapper,n&&f.wrapperWithOnLabel);return r.a.createElement("label",{className:b,htmlFor:a,ref:p},r.a.createElement("div",{className:f.labelRow},r.a.createElement("div",{className:w},o),s&&r.a.createElement("div",{className:f.labelHint},s)),r.a.createElement(c.Switch,Object(i.__assign)({reference:m,checked:n,onChange:function(t){var n=t.target.checked;void 0!==e.onChange&&e.onChange(n)},value:d,tabIndex:-1,id:a},Object(h.a)(e))))}var i,o,r,s,l,c,h,u;n.d(t,"a",function(){return a}),i=n("mrSG"),o=n("q1tI"),r=n.n(o),s=n("TSYQ"),l=n.n(s),c=n("FzLb"),h=n("QpNh"),u=n("OP2o")},MrUa:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor" transform="translate(.5 .5)"><rect width="22" height="20" rx="2"/><path d="M7 0v20M15 0v20"/></g></svg>'},NblU:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="currentColor"><path d="M14.5 16a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm0-1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm0 7a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm0-1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm3.293-15.5l4.707 4.707.707-.707L18.5 4.793z"/><path d="M18.5 10.207L23.207 5.5l-.707-.707L17.793 9.5zm-.707 1.293l4.707 4.707.707-.707-4.707-4.707z"/><path d="M18.5 16.207l4.707-4.707-.707-.707-4.707 4.707zM5.793 17.5l4.707 4.707.707-.707L6.5 16.793z"/><path d="M6.5 22.207l4.707-4.707-.707-.707L5.793 21.5zM5.793 5.5l4.707 4.707.707-.707L6.5 4.793z"/><path d="M6.5 10.207L11.207 5.5l-.707-.707L5.793 9.5zM5.793 11.5l4.707 4.707.707-.707L6.5 10.793z"/><path d="M6.5 16.207l4.707-4.707-.707-.707L5.793 15.5z"/></svg>'},OP2o:function(e,t,n){e.exports={wrapper:"wrapper-3Sj-FzgR",hovered:"hovered-1G0yygIe",labelRow:"labelRow-3h7cSJ_L",label:"label-3iLxp29M",labelHint:"labelHint-3qxeiVfa",labelOn:"labelOn-10QGwv2n"}},Ol5X:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor" transform="translate(.5 .5)"><rect width="22" height="20" rx="2"/><path d="M0 5h22M0 10h22M0 15h22"/></g></svg>'},Oy6E:function(e,t,n){e.exports={spinnerWrap:"spinnerWrap-EgWaITv6"}},PEkK:function(e,t,n){e.exports={button:"button-15hYulep",dropdown:"dropdown-338JX1v2",title:"title-2P6mSSuQ",icon:"icon-26CTZVvy",syncTable:"syncTable-1R6gew45"}},Q2dY:function(e,t,n){"use strict";function a(e){var t=e.onClick,n=e.settingsHintKey,a=e.placeHolderClassName,i=e.smallPlaceHolderClassName,o=e.placement,r=e.reference;return p.a.createElement(G.a,{
text:d.t("Note that these features are accessible from the menu on the left as well."),buttonText:d.t("Got it!"),onClick:t?function(){Object(g.ensureDefined)(t)(),n&&B.emit("OPEN_BURGER_MENU")}:void 0,settingsHintKey:n,placeHolderClassName:a,smallPlaceHolderClassName:i,placement:o,reference:r})}var i,o,r,s,l,c,h,u=n("mrSG"),d=(n("bSeV"),n("YFKU")),v=n("q1tI"),p=n.n(v),m=n("TSYQ"),g=n("Eyy1"),f=n("N5tr"),w=n("KKsp"),b=n("kg8i"),C=n("82wv"),y=n("Db7+"),_=n("beCu"),S=n("j1f4"),k=n("nrMg"),x="M21.5 21.5h-14a5 5 0 1 1 .42-9.983 7.5 7.5 0 0 1 14.57 2.106 4.002 4.002 0 0 1-.99 7.877z",M=62.332908630371094,E=.8*M,O=.21*M,I=.79*M,j={strokeDashOffset:I,strokeDash:E,strokeGap:O,strokeDashCheck:0},A={strokeDashOffset:O+E,strokeGap:0,strokeDash:E+O,strokeDashCheck:200},N=function(e){function t(t){var n=e.call(this,t)||this;return n.state=j,n}return Object(u.__extends)(t,e),t.prototype.componentDidMount=function(){"saved"===this.props.state?this.setState(A):this._goToNextState(this.props.state)},t.prototype.componentWillUnmount=function(){this._currentAnimation=void 0},t.prototype.componentWillReceiveProps=function(e){this.props.state!==e.state&&this._goToNextState(e.state)},t.prototype.render=function(){var e,t=this.state,n=t.strokeDashOffset,a=t.strokeDash,i=t.strokeGap,o=t.strokeDashCheck,r=this.props,s=r.className,l=r.size,c=r.onClick,h=r.state,u=r.isHovered,d=void 0!==u&&u,p=m(k.container,s,d&&k.hovered,((e={})[k.unsaved]="unsaved"===h,e[k.saving]="saving"===h,e[k.saved]="saved"===h,e));return v.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:p,version:"1.1",width:l,height:l,viewBox:"0 0 28 28",onClick:c},v.createElement("g",{fill:"none"},v.createElement("path",{className:k.dottedCloud,stroke:"currentColor",strokeDasharray:"3.5,2.5",d:x}),v.createElement("path",{className:k.spinningCloud,stroke:"currentColor",strokeDasharray:a+" "+i,strokeDashoffset:n,d:x}),v.createElement("path",{className:k.arrowGap,d:"M11 20h6v5h-6z"}),v.createElement("g",{className:k.arrow,stroke:"currentColor"},v.createElement("path",{strokeLinecap:"square",d:"M14.5 14.5v10"}),v.createElement("path",{d:"M11 17l3.5-3.5L18 17"})),v.createElement("g",{className:k.check,stroke:"currentColor"},v.createElement("path",{strokeDasharray:o+"% "+(200-o)+"%",d:"M10 15l2.5 2.5L18 12"}))))},t.prototype._goToNextState=function(e){var t=this;switch(e){case"unsaved":this.setState(j);break;case"saving":"unsaved"!==this.props.state&&this.setState(j),this._currentAnimation=Promise.resolve(this._currentAnimation).then(function(){return t._createSpinAnimationWhile(function(){return"saving"===t.props.state})});break;case"saved":this._currentAnimation=Promise.resolve(this._currentAnimation).then(this._createFillGapAnimation.bind(this)).then(this._createCheckAnimation.bind(this))}},t.prototype._createSpinAnimationWhile=function(e){var t=this;return this._createSpinAnimation().then(function(){return e()?t._createSpinAnimationWhile(e):Promise.resolve()})},t.prototype._createSpinAnimation=function(){var e=this;return new Promise(function(t){Object(_.doAnimate)({
onStep:function(t,n){void 0!==e._currentAnimation&&e.setState({strokeDashOffset:n})},onComplete:function(){return t()},from:I,to:I+M,easing:S.easingFunc.linear,duration:1e3})})},t.prototype._createCheckAnimation=function(){var e=this;return new Promise(function(t){Object(_.doAnimate)({onStep:function(t,n){void 0!==e._currentAnimation&&e.setState({strokeDashCheck:Math.round(n)})},onComplete:function(){return t()},from:0,to:200,easing:S.easingFunc.linear,duration:1e3})})},t.prototype._createFillGapAnimation=function(){var e=this;return new Promise(function(t){Object(_.doAnimate)({onStep:function(t,n){void 0!==e._currentAnimation&&e.setState({strokeDashOffset:O+E-n,strokeGap:n,strokeDash:E+O-n})},onComplete:function(){return t()},from:O,to:0,easing:S.easingFunc.linear,duration:200})})},t}(v.PureComponent),z=n("nPPD"),T=n("h4Fc"),H=n("MB0Y"),R=window.t("Autosave On"),F=Object(T.b)(),W=window.t("Autosave Off"),L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(u.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.isAutoSaveEnabled,a=e.id;return v.createElement(H.a,{checked:n,onChange:this.props.onAutoSaveChanged,className:t,id:a,label:n?R:W,labelDescription:F,value:"autoSaveSwitcher"})},t}(v.PureComponent),P=window.t("Sharing On"),D=window.t("Sharing Off"),V=window.t("Everyone with the link can view and copy"),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(u.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.isSharingEnabled,a=e.id;return v.createElement(H.a,{checked:n,onChange:this.props.onSharingChanged,className:t,id:a,label:n?P:D,labelDescription:V,value:"sharingSwitcher"})},t}(v.PureComponent),B=n("FQhm"),G=n("cLWw"),K=n("ei7k"),Q=n("Kxc7"),q=n("jjrI"),Y=n("+KIV"),J=n("RGo6"),X=n("bQ7Y"),Z=n("SchQ");n.d(t,"a",function(){return h}),i=Q.enabled("widget"),o=Object(z.b)(X,Z),r=Object(u.__assign)(Object(u.__assign)({},X),o),s={copy:window.t("Copy"),makeCopy:window.t("Make a Copy"),newChartLayout:window.t("New Chart Layout"),loadChartLayout:window.t("Load Chart Layout..."),rename:window.t("Rename..."),renameChartLayout:window.t("Rename Chart Layout"),saveAs:window.t("Make a Copy..."),saveChartLayout:window.t("Save"),saveChartLayoutOnAutoSaveEnable:window.t("Save Now"),saveChartLayoutLong:window.t("Save all charts for all symbols and intervals on your layout"),manageChartLayouts:window.t("Manage Chart Layouts")},l=[],c=Object(K.b)({keys:["Ctrl","S"],text:"{0} + {1}"}),h=function(e){function t(t){var n=e.call(this,t)||this;return n._toolWidgetMenuRef=v.createRef(),n._handleTooltipWizardClick=function(){Object(g.ensureNotNull)(n._toolWidgetMenuRef.current).close()},n._handleSaveHoverBegin=function(){n.setState({iconHovered:!0})},n._handleSaveHoverEnd=function(){n.setState({iconHovered:!1})},n.state={iconHovered:!1},n}return Object(u.__extends)(t,e),t.prototype.render=function(){
var e=this.props,t=e.id,n=e.isReadOnly,o=e.displayMode,h=e.isProcessing,u=e.title,d=e.chartId,p=e.wasChanges,g=e.onCloneChart,f=e.onSaveChart,w=e.hideMenu,_=this.state.iconHovered,S=!n&&!w,k="saved";return!p&&u||(k="unsaved"),h&&(k="saving"),v.createElement(b.a,null,n?v.createElement(b.a,null,v.createElement(y.a,{id:t,displayMode:o,icon:v.createElement(q.a,{icon:Y}),isDisabled:h,onClick:g,text:s.copy,title:s.makeCopy,onMouseEnter:this._handleSaveHoverBegin,onMouseLeave:this._handleSaveHoverEnd,collapseWhen:l})):v.createElement(b.a,null,v.createElement(y.a,{id:t,className:m(J.button,S&&J.buttonSmallPadding),displayMode:o,icon:v.createElement(N,{size:28,state:k,isHovered:_}),isDisabled:d&&!p||h,onClick:f,text:u||s.saveChartLayout,title:s.saveChartLayoutLong,onMouseEnter:this._handleSaveHoverBegin,onMouseLeave:this._handleSaveHoverEnd,theme:r,collapseWhen:l,"data-tooltip-hotkey":i?"":c}),S&&v.createElement(C.b,{ref:this._toolWidgetMenuRef,className:"js-save-load-menu-open-button",arrow:!0,title:s.manageChartLayouts},v.createElement(a,{placeHolderClassName:J.hintPlaceHolder,smallPlaceHolderClassName:J.smallHintPlaceHolder,settingsHintKey:"hint.layoutMenu",placement:"left-start",onClick:this._handleTooltipWizardClick}),this._renderMenuItems())))},t.prototype._renderMenuItems=function(){var e,t=this.props,n=t.wasChanges,a=t.isProcessing,i=t.chartId,o=t.onSaveChartFromMenu,r=t.onRenameChart,l=t.onSaveAsChart,c=t.onLoadChart,h=t.onNewChart,u=t.isAutoSaveEnabled,d=t.autoSaveId,p=t.sharingId,m=t.onAutoSaveChanged,g=t.isSharingEnabled,b=t.onSharingChanged,C=[];return e=i,void 0!==u&&void 0!==m&&e&&C.push(v.createElement(L,{key:"auto-save",className:J.autoSaveWrapper,isAutoSaveEnabled:u,onAutoSaveChanged:m,id:d})),C.push(v.createElement(f.b,{key:"save",isDisabled:Boolean(a||!n&&i),label:u&&e?s.saveChartLayoutOnAutoSaveEnable:s.saveChartLayout,onClick:o,shortcut:"Ctrl+S"})),void 0!==i&&(C.push(v.createElement(w.a,{key:"existing-chart-section-begin"})),window.TradingView.isFeatureEnabled("chart_sharing")&&void 0!==g&&void 0!==b&&C.push(v.createElement(U,{key:"sharing",className:J.sharingWrapper,isSharingEnabled:g,onSharingChanged:b,id:p})),C.push.apply(C,[v.createElement(f.b,{key:"rename",label:s.rename,onClick:r}),v.createElement(f.b,{key:"save-as",label:s.saveAs,onClick:l})])),C.push(v.createElement(w.a,{key:"platform-section-begin"})),C.push(v.createElement(f.b,{key:"new-chart",label:s.newChartLayout,onClick:h})),C.push(v.createElement(f.b,{key:"load-chart",className:"js-save-load-menu-item-load-chart",label:s.loadChartLayout,onClick:c})),C},t}(v.PureComponent)},"R4+T":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 8" width="16" height="8"><path fill="currentColor" d="M0 1.475l7.396 6.04.596.485.593-.49L16 1.39 14.807 0 7.393 6.122 8.58 6.12 1.186.08z"/></svg>'},RGo6:function(e,t,n){e.exports={opened:"opened-GQFVkrpV",hover:"hover-1s0KqpdE",autoSaveWrapper:"autoSaveWrapper-1MJY41zr",sharingWrapper:"sharingWrapper-2a3BKnuf",button:"button-X9fdkr3t",
buttonSmallPadding:"buttonSmallPadding-3OtdkF4f",hintPlaceHolder:"hintPlaceHolder-3xGrUHN7",smallHintPlaceHolder:"smallHintPlaceHolder-3ftZG2PP"}},RYBj:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M13.5 6a8.5 8.5 0 1 0 0 17 8.5 8.5 0 0 0 0-17zM4 14.5a9.5 9.5 0 1 1 19 0 9.5 9.5 0 0 1-19 0z"/><path fill="currentColor" d="M9 14h4v-4h1v4h4v1h-4v4h-1v-4H9v-1z"/></svg>'},"S+Ii":function(e,t,n){e.exports={buttonUndo:"buttonUndo-342XpPC1",buttonRedo:"buttonRedo-3o_XdU_J"}},S0BX:function(e,t,n){e.exports={dropdown:"dropdown-3caJUCGx",label:"label-3vchy5zS"}},SEmj:function(e,t,n){e.exports={toggler:"toggler-3M6cPWhq",hovered:"hovered-sDWDWJPw",label:"label-3U-Q7znG",centered:"centered-CTgzlaNx",checked:"checked-1FNlvOzU"}},SchQ:function(e,t,n){e.exports={button:"button-1EU5-JL7",isDisabled:"isDisabled-1RjJSnJ7",text:"text-1HWeUAzA"}},UJ4t:function(e,t,n){e.exports={wrap:"wrap-18oKCBRc"}},VSd1:function(e,t,n){e.exports={row:"row-txOnyZqX",rowInner:"rowInner-1QH8tKyA",rowLabel:"rowLabel-1Exz7IaM",rowButtons:"rowButtons-3Cpcgn73",layoutButtonWrap:"layoutButtonWrap-1no4xYwD",layoutButton:"layoutButton-1RUQ3MV6",hovered:"hovered-2pkyyhwF",isActive:"isActive-1jEKN3Ib",layoutButtons:"layoutButtons-1igAhA5w"}},VgwI:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M7.5 7H7v14h5V7H7.5zM8 20V8h3v12H8zm7.5-11H15v10h5V9h-4.5zm.5 9v-8h3v8h-3z"/></svg>'},X7WP:function(e,t,n){e.exports={wrap:"wrap-CUt4Mg1V",inner:"inner-32OP7ejC",actions:"actions-1cGPn1dW",hover:"hover-3dmVjFov",input:"input-3lfOzLDc",isExpanded:"isExpanded-1pdStI5Z"}},XWsk:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentColor" d="M20 17l-5 5M15 17l5 5M9 11.5h7M17.5 8a2.5 2.5 0 0 0-5 0v11a2.5 2.5 0 0 1-5 0"/></svg>'},YEs3:function(e,t,n){e.exports={button:"button-1F3Go35E",menu:"menu-16FRUKka"}},YNF9:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor" transform="translate(.5 .5)"><rect width="22" height="20" rx="2"/><path d="M11 0v20M11 10h11"/></g></svg>'},aVq2:function(e,t,n){e.exports={button:"button-1XkSWU32",first:"first-2UbSFGzF",last:"last-1rdUnwE6",menu:"menu-1fA401bY",dropdown:"dropdown-1zOBoqnG",menuContent:"menuContent-1vyIDg3J",section:"section-1p7gLxC9"}},cwLw:function(e,t,n){"use strict";function a(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:s()(e.className,c.summary),onClick:function(){e.onStateChange&&e.onStateChange(!e.open)},"data-open":e.open},e.summary,o.a.createElement(l.a,{className:c.caret,dropped:Boolean(e.open)})),e.open&&e.children)}var i,o,r,s,l,c;n.d(t,"a",function(){return a}),i=n("q1tI"),o=n.n(i),r=n("TSYQ"),s=n.n(r),l=n("ML8+"),c=n("fioS")},dwD8:function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor" transform="translate(.5 .5)"><rect width="22" height="20" rx="2"/><path d="M0 10h22"/></g></svg>'},ewWO:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor" transform="translate(.5 .5)"><rect width="22" height="20" rx="2"/><path d="M11 0v20M11 5h11M11 10h11M11 15h11"/></g></svg>'},fD7T:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="none" stroke="currentColor"><path stroke-dasharray="1,1" d="M4 14.5h22"/><path stroke-linecap="round" stroke-linejoin="round" d="M7.5 12.5l2-4 1 2 2-4 3 6"/><path stroke-linecap="round" d="M5.5 16.5l-1 2"/><path stroke-linecap="round" stroke-linejoin="round" d="M17.5 16.5l2 4 2-4m2-4l1-2-1 2z"/></g></svg>'},fESK:function(e,t,n){e.exports={labelRow:"labelRow-1loM6nbt",toolbox:"toolbox-3y2qhvbG",description:"description-UeULl1bt",item:"item-GOMwFObW",titleItem:"titleItem-3OGNprLt",wrap:"wrap-3ulNVWio",hovered:"hovered-tcAOA2o_"}},fioS:function(e,t,n){e.exports={summary:"summary-3_6tmh1R",hovered:"hovered-1yGmee-_",caret:"caret-1v4NzWzm"}},gla1:function(e,t,n){"use strict";var a,i;n.d(t,"a",function(){return i}),a=n("q1tI"),i=function(){return Object(a.useReducer)(function(e,t){return e+1},0)[1]}},h4Fc:function(e,t,n){"use strict";function a(){var e=Math.ceil(i()/6e4);return window.t("Every minute",{plural:"Every {0} minutes",count:e}).format(e)}function i(){return Object(o.isFeatureEnabled)("chart_autosave_2min")?12e4:Object(o.isFeatureEnabled)("chart_autosave_3min")?18e4:Object(o.isFeatureEnabled)("chart_autosave_5min")?3e5:Object(o.isFeatureEnabled)("chart_autosave_7min")?42e4:Object(o.isFeatureEnabled)("chart_autosave_10min")?6e5:6e4}var o;n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i}),n("YFKU"),n("HbRj"),o=n("+GxX")},"i/MG":function(e,t,n){"use strict";var a,i,o,r,s,l,c;n.d(t,"a",function(){return c}),a=n("mrSG"),n("YFKU"),i=n("q1tI"),o=n("TSYQ"),r=n("kXJy"),s=n("+l9v"),l={remove:window.t("Remove")},c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleClick=function(e){var n=t.props,a=n.onClick,i=n.onClickArg;a&&a(i,e)},t}return Object(a.__extends)(t,e),t.prototype.render=function(){return i.createElement("span",{className:o(r.button,"apply-common-tooltip",this.props.hidden&&r.hidden),dangerouslySetInnerHTML:{__html:s},onClick:this._handleClick,title:l.remove,"data-name":"remove-button"})},t}(i.PureComponent)},ifT7:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="25" height="21"><g fill="none" stroke="currentColor" transform="translate(.5 .5)"><rect width="24" height="20" rx="2"/><path d="M0 10h24M6 10v10M12 10v10M18 10v10"/></g></svg>'},j1g1:function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M18 24h3V12h-3v12zm-1-13h5v14h-5V11zm-4-8v7h3V3h-3zm-1-1h5v9h-5V2zM8 19h3v-7H8v7zm-1-8h5v9H7v-9z"/></svg>'},"j3s+":function(e,t,n){"use strict";var a,i,o,r,s;Object.defineProperty(t,"__esModule",{value:!0}),a=n("mrSG"),i=n("q1tI"),o=n("TSYQ"),r=n("5ijr"),n("4pMH"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.reference,s=a.__rest(e,["className","reference"]),l=o(r.input,-1!==this.props.tabIndex&&r.focus);return i.createElement("div",{className:o(t,r.switcherWrapper)},i.createElement("input",a.__assign({},s,{type:"checkbox",className:l,ref:n})),i.createElement("div",{className:r.switcherThumbWrapper},i.createElement("div",{className:r.switcherTrack}),i.createElement("div",{className:r.switcherThumb})))},t}(i.PureComponent),t.Switch=s},jKyl:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none"><path stroke="currentColor" d="M11 20.5H7.5a5 5 0 1 1 .42-9.98 7.5 7.5 0 0 1 14.57 2.1 4 4 0 0 1-1 7.877H18"/><path stroke="currentColor" d="M14.5 24V12.5M11 16l3.5-3.5L18 16"/></g></svg>'},jbim:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><rect width="22" height="20" fill="none" stroke="currentColor" rx="2" transform="translate(.5 .5)"/></svg>'},jeSM:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="25" height="21"><g fill="none" stroke="currentColor" transform="translate(.5 .5)"><rect width="24" height="20" rx="2"/><path d="M6 0v20M12 0v20M18 0v20"/></g></svg>'},kXJy:function(e,t,n){e.exports={button:"button-1scLo53s",hidden:"hidden-2GRQzIQ1"}},kg8i:function(e,t,n){"use strict";var a,i,o,r,s;n.d(t,"a",function(){return s}),a=n("mrSG"),i=n("q1tI"),o=n("TSYQ"),r=n("UJ4t"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,s=Object(a.__rest)(e,["children","className"]);return i.createElement("div",Object(a.__assign)({className:o(n,r.wrap)},s),t)},t}(i.PureComponent)},kuuR:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor" transform="translate(.5 .5)"><rect width="22" height="20" rx="2"/><path d="M0 10h22M0 15h22M11 0v10"/></g></svg>'},l3c7:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor" transform="translate(.5 .5)"><rect width="22" height="20" rx="2"/><path d="M0 7h22M0 13h22M11 0v20"/></g></svg>'},lAXe:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 21" width="21" height="21"><g fill="none" stroke="currentColor"><path d="M18.5 11v5.5a2 2 0 0 1-2 2h-13a2 2 0 0 1-2-2v-13a2 2 0 0 1 2-2H9"/><path stroke-linecap="square" d="M18 2l-8.5 8.5m4-9h5v5"/></g></svg>'},lRBB:function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor" transform="translate(.5 .5)"><rect width="22" height="20" rx="2"/><path d="M0 7h22M0 13h22"/></g></svg>'},lRGL:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="none" stroke="currentColor"><path d="M10.5 9v12M7 18.5h3.5M14 9.5h-3.5M19.5 3v12M16 6.5h3.5M23 14.5h-3.5M18.5 19.5h2a1 1 0 1 0 0-2h-2V22v-2.5zM21.5 22L20 19.5"/></g></svg>'},miV2:function(e,t,n){"use strict";function a(e,t){var n,a,o,r;return 0===e.length?Promise.resolve([]):(L.logNormal("Requesting favorites info"),n=[],a=new Map,o=new Map,r=new Map,e.forEach(function(e){switch(e.type){case"java":r.set(e.studyId,e);break;case"pine":Object(F.isPublishedPineId)(e.pineId)?a.set(e.pineId,e):o.set(e.pineId,e);break;default:Object(z.assert)(!1,"unknown favorite type "+JSON.stringify(e))}}),0!==r.size&&n.push(t.findAllJavaStudies().then(function(e){var t,n,a,i=new Map;for(t=0,n=e;t<n.length;t++)a=n[t],r.has(a.id)&&i.set(a.id,{name:a.description,localizedName:a.description_localized,studyMarketShittyObject:a});return i}).then(function(e){var t,n=i(r,e);return 0!==n.notFoundItems.length&&(t=n.notFoundItems.map(function(e){return e.studyId}),L.logWarn("Cannot find java scripts: "+JSON.stringify(t))),n.items})),n.push(function(e){var t=new Map;if(0===e.length)return Promise.resolve(t);return Promise.resolve(H.info(e).promise()).then(function(e){var n,a,i;if(void 0!==e)for(n=0,a=e;n<a.length;n++)i=a[n],t.set(i.scriptIdPart,{name:i.scriptName,agreeCount:i.agreeCount,authorUsername:i.author.username,studyMarketShittyObject:i});return t})}(Array.from(a.keys())).then(function(e){var t,n=i(a,e);return 0!==n.notFoundItems.length&&(t=n.notFoundItems.map(function(e){return e.pineId}),L.logWarn("Cannot find pub scripts: "+JSON.stringify(t))),n.items})),n.push(function(e){var t=new Map;if(0===e.length)return Promise.resolve(t);return Object(R.requestInfoForScripts)(e).then(function(n){var a,i,o,r=new Set(e);for(a=0,i=n;a<i.length;a++)o=i[a],r.has(o.scriptIdPart)&&t.set(o.scriptIdPart,{name:o.scriptName,studyMarketShittyObject:o});return t})}(Array.from(o.keys())).then(function(e){var t,n=i(o,e);return 0!==n.notFoundItems.length&&(t=n.notFoundItems.map(function(e){return e.pineId}),L.logWarn("Cannot find pine scripts: "+JSON.stringify(t))),n.items})),Promise.all(n).then(function(e){return L.logNormal("Requesting favorites info finished"),e.reduce(function(e,t){return e.concat(t)},[])}))}function i(e,t){var n={items:[],notFoundItems:[]};return e.forEach(function(e,a){var i=t.get(a);void 0!==i?n.items.push({item:e,info:i}):n.notFoundItems.push(e)}),n}function o(e){return qt.createElement("div",{className:sn(e.className,U.title)},e.children)}function r(e){return e.info.localizedName||Object(S.t)(e.info.name,{context:"study"})}function s(e){var t;return qt.createElement("div",{className:sn(X.value,(t={},t[X.selected]=e.isSelected,t))},e.value,e.metric)}function l(e){
var t,n,a,i,o,r,s=e.interval,l=e.hint,c=e.isActive,h=e.isDisabled,u=e.isFavorite,d=e.isSignaling,v=e.onClick,p=Object(hn.a)(e),m=Object(re.b)(),g=m[0],f=m[1];return qt.createElement("div",Object(Qt.__assign)({},f),qt.createElement(an.b,Object(Qt.__assign)({},p,{isActive:c,isDisabled:h,isHovered:d,onClick:v,onClickArg:s,toolbox:(t=e.isRemovable,n=e.isFavoritingAllowed,a=e.onClickFavorite,i=e.onClickRemove,o=qt.createElement(oe.a,{key:"remove",hidden:!Modernizr.touch&&!g,onClick:i,onClickArg:s}),r=qt.createElement(tn.a,{key:"favorite",isFilled:u,onClick:a,onClickArg:s}),[t&&o,!h&&n&&r]),showToolboxOnHover:!u,label:l})))}function c(e,t){return void 0===t&&(t=!1),{id:e,name:le[e],items:[],mayOmitSeparator:t}}function h(e){var t=e.onClick;return Yt.a.createElement(an.b,{theme:He,className:Te.wrap,label:Yt.a.createElement("div",{className:Te.titleWrap},Yt.a.createElement("div",{className:Te.title},Yt.a.createElement(nn.a,{className:Te.icon,icon:ze}),Yt.a.createElement("div",{className:Te.text},Re.text))),onClick:t})}function u(e){var t=new Map;return e.forEach(function(e){var n=t.get(e.id)||[e.description,0],a=n[0],i=n[1];t.set(e.id,[a,i+1])}),Array.from(t.values()).map(function(e){var t=e[0],n=e[1];return t+(n>1?" x "+n:"")}).join(", ")}function d(e){return qt.createElement("div",{className:sn(We.description,e.className)},e.children)}function v(e){function t(){(0,e.onApply)(n)}var n=e.item,a=e.onFavor,i=e.favorite,o=e.isFavoritingAllowed,r=Object(re.b)(),s=r[0],l=r[1],c=n.meta_info,h=c?u(c.indicators):void 0;return Yt.a.createElement("div",Object(Qt.__assign)({},l,{className:Le.wrap,"data-name":n.name,"data-id":n.id,"data-is-default":Boolean(n.is_default)}),Yt.a.createElement(an.b,{theme:Pe,label:n.name,isHovered:s,showToolboxOnHover:!i&&!s,onClick:t,toolbox:Yt.a.createElement(Yt.a.Fragment,null,!n.is_default&&Yt.a.createElement(oe.a,{key:"remove",hidden:!Modernizr.touch&&!s,onClick:function(){(0,e.onRemove)(n)}}),Boolean(a)&&o&&Yt.a.createElement(tn.a,{key:"favorite",isFilled:Boolean(i),onClick:function(){a&&a(n)}}))}),h&&Yt.a.createElement(an.b,{theme:De,label:Yt.a.createElement(d,{className:Le.description},h),onClick:t,isHovered:s}))}function p(e){var t,n=e.id,a=e.className,i=e.mode,o=e.favorites,r=e.templates,s=e.isMenuOpen,l=ln()(a,Qe.wrap,((t={})[Qe.full]="full"===i,t[Qe.medium]="medium"===i,t)),c=r.filter(function(e){return o.includes(e.name)}),u="small"!==i&&e.onTemplateFavorite&&c.length>0;return Yt.a.createElement(rn.a,{id:n,className:l},Yt.a.createElement(on.b,{onOpen:e.onMenuOpen,content:Yt.a.createElement(k.a,{className:ln()(u&&Qe.buttonWithFavorites),displayMode:i,isOpened:s,icon:Ke,text:qe.title,title:qe.tooltip,forceInteractive:!0}),arrow:!1},Yt.a.createElement("div",{className:Qe.menu},Yt.a.createElement(h,{onClick:e.onTemplateSave}),r.length>0&&Yt.a.createElement(vn.a,null),Yt.a.createElement(g,{favorites:c.map(function(e){return e.name}),templates:r,onTemplateSelect:e.onTemplateSelect,onTemplateRemove:e.onTemplateRemove,onTemplateFavorite:e.onTemplateFavorite}))),u&&Yt.a.createElement(m,{favorites:c,
onTemplateSelect:e.onTemplateSelect}))}function m(e){return Yt.a.createElement(Yt.a.Fragment,null,e.favorites.map(function(t,n,a){var i;return Yt.a.createElement(Ue,{key:t.name,item:t,onApply:e.onTemplateSelect,className:ln()((i={},i[Qe.first]=0===n,i[Qe.last]=n===a.length-1,i))})}))}function g(e){var t,n=e.templates.filter(function(e){return e.is_default}),a=e.templates.filter(function(e){return!e.is_default}),i=Object(qt.useContext)(Ye),o=Object(qt.useContext)(Ge.a),r=Object(Be.a)();return Object(qt.useEffect)(function(){if(null!==i){var e={};return i.getOnChange().subscribe(e,function(){r(),o&&o.update()}),function(){return i.getOnChange().unsubscribeAll(e)}}return function(){}},[]),t=function(t){return Yt.a.createElement(v,{key:t.name,item:t,isFavoritingAllowed:Boolean(e.onTemplateFavorite),favorite:e.favorites.includes(t.name),onApply:e.onTemplateSelect,onFavor:e.onTemplateFavorite,onRemove:e.onTemplateRemove})},Yt.a.createElement(Yt.a.Fragment,null,a.map(t),i&&n.length>0&&a.length>0&&Yt.a.createElement(Yt.a.Fragment,null,Yt.a.createElement(vn.a,null),Yt.a.createElement(ce.a,{summary:Object(S.t)("Default templates"),open:!i.get().defaultsCollapsed,onStateChange:function(e){return i.set({defaultsCollapsed:!e})}},n.map(t))),i&&n.length>0&&0===a.length&&n.map(t))}function f(e){var t,n,a=e.onClick,i=e.label,o=e.hint,r=e.isChecked,s=e.isLabelCentered;return qt.createElement("div",{className:sn(st.toggler,(t={},t[st.checked]=r,t)),onClick:a},qt.createElement("div",{className:sn(st.label,(n={},n[st.centered]=s,n))},i),qt.createElement(nn.a,{className:"apply-common-tooltip",title:o,icon:lt}))}function w(e){var t=e.title,n=e.children,a=e.separator;return qt.createElement("div",{className:pt.row},qt.createElement("div",{className:pt.rowInner},qt.createElement("div",{className:pt.rowLabel},t),qt.createElement("div",{className:pt.rowButtons},n)),a)}function b(){var e;return e=Kt.enabled("header_layouttoggle")?Vt:void 0,{Bars:Kt.enabled("header_chart_type")?_:void 0,Compare:Kt.enabled("header_compare")?O:void 0,Custom:Gt,Fullscreen:Kt.enabled("header_fullscreen_button")?N:void 0,Indicators:Kt.enabled("header_indicators")?q:void 0,Intervals:Kt.enabled("header_resolutions")?ve:void 0,OpenPopup:fe,Properties:Kt.enabled("header_settings")&&Kt.enabled("show_chart_property_page")?Ce:void 0,SaveLoad:Kt.enabled("header_saveload")?ke:void 0,Screenshot:Kt.enabled("header_screenshot")?Ee:void 0,SymbolSearch:Kt.enabled("header_symbol_search")?Ae:void 0,Templates:Kt.enabled("study_templates")?Je:void 0,UndoRedo:Kt.enabled("header_undo_redo")?rt:void 0,Layout:e}}
var C,y,_,S,k,x,M,E,O,I,j,A,N,z,T,H,R,F,W,L,P,D,V,U,B,G,K,Q,q,Y,J,X,Z,$,ee,te,ne,ae,ie,oe,re,se,le,ce,he,ue,de,ve,pe,me,ge,fe,we,be,Ce,ye,_e,Se,ke,xe,Me,Ee,Oe,Ie,je,Ae,Ne,ze,Te,He,Re,Fe,We,Le,Pe,De,Ve,Ue,Be,Ge,Ke,Qe,qe,Ye,Je,Xe,Ze,$e,et,tt,nt,at,it,ot,rt,st,lt,ct,ht,ut,dt,vt,pt,mt,gt,ft,wt,bt,Ct,yt,_t,St,kt,xt,Mt,Et,Ot,It,jt,At,Nt,zt,Tt,Ht,Rt,Ft,Wt,Lt,Pt,Dt,Vt,Ut,Bt,Gt,Kt=n("Kxc7"),Qt=n("mrSG"),qt=n("q1tI"),Yt=n.n(qt),Jt=n("17x9"),Xt=n.n(Jt),Zt=n("+GxX"),$t=n("dfhE"),en=n("EsZh"),tn=n("pr86"),nn=n("jjrI"),an=n("N5tr"),on=n("82wv"),rn=n("kg8i"),sn=n("TSYQ"),ln=n.n(sn),cn=n("tU7i"),hn=n("QpNh"),un=n("HBiQ"),dn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleClick=function(){var e=t.props,n=e.onClick,a=e.onClickArg;n&&n(a)},t}return Object(Qt.__extends)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.isFirst,a=t.isLast,i=t.hint,o=t.text,r=t.icon,s=t.isActive,l=t.isDisabled,c=t.className,h=Object(hn.a)(this.props);return qt.createElement(cn.a,Object(Qt.__assign)({},h,{icon:r,text:o,title:i,isDisabled:l,isActive:s,isGrouped:!0,onClick:this._handleClick,className:sn(c,un.button,(e={},e[un.first]=n,e[un.last]=a,e))}))},t}(qt.PureComponent),vn=n("KKsp"),pn=n("YEs3"),mn=((C={})[0]=window.t("Bars"),C[1]=window.t("Candles"),C[9]=window.t("Hollow Candles"),C[8]=window.t("Heikin Ashi"),C[2]=window.t("Line"),C[3]=window.t("Area"),C[10]=window.t("Baseline"),C[12]=window.t("High-Low"),C);mn[4]=window.t("Renko"),mn[7]=window.t("Line Break"),mn[5]=window.t("Kagi"),mn[6]=window.t("Point & Figure"),mn[11]=window.t("Range"),y={barsStyle:window.t("Bar's Style"),labels:mn},_=function(e){function t(t,n){var a,i,o,r,s,l=e.call(this,t,n)||this;return l._handleChangeStyle=function(e){var t=l.state,n=t.favorites,a=t.lastSelectedNotFavorite,i=t.activeStyle;l.setState({activeStyle:e,lastSelectedNotFavorite:n.includes(i)?a:i})},l._handleSelectStyle=function(e){var t=l.context.chartWidgetCollection;e!==t.activeChartStyle.value()&&t.trySetChartStyleToActiveWidget(e)},l._handleClickFavorite=function(e){l._isStyleFavorited(e)?l._handleRemoveFavorite(e):l._handleAddFavorite(e)},a=n.chartWidgetCollection,i=n.favoriteChartStylesService,o=a.activeChartStyle.value(),r=i.get(),s=[],Kt.enabled("japanese_chart_styles")&&(s.push(4,7,5,6),s.push(11)),l.state={activeStyle:o,favorites:r,styles:[0,1,9,8,2,3,10],japaneseStyles:s},Object(Zt.isFeatureEnabled)("chart_style_hilo")&&l.state.styles.push(12),l}return Object(Qt.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.context,t=e.chartWidgetCollection,n=e.favoriteChartStylesService;t.activeChartStyle.subscribe(this._handleChangeStyle),n.getOnChange().subscribe(this,this._handleChangeSettings)},t.prototype.componentWillUnmount=function(){var e=this.context,t=e.chartWidgetCollection,n=e.favoriteChartStylesService;t.activeChartStyle.unsubscribe(this._handleChangeStyle),n.getOnChange().unsubscribe(this,this._handleChangeSettings)},t.prototype.render=function(){
var e,t,n,a=this,i=this.props,o=i.isShownQuicks,r=i.displayMode,s=void 0===r?"full":r,l=i.id,c=this.state,h=c.activeStyle,u=c.favorites,d=c.styles,v=c.japaneseStyles,p=c.lastSelectedNotFavorite,m="small"!==s&&o&&0!==u.length,g=Object(Qt.__spreadArrays)(u);return g.includes(h)?void 0!==p&&g.push(p):g.push(h),e=m&&g.length>1,t=d.map(function(e){return a._renderPopupMenuItem(e,e===h)}),n=v.map(function(e){return a._renderPopupMenuItem(e,e===h)}),qt.createElement(rn.a,{id:l},e&&g.map(function(e,t){return qt.createElement(dn,{className:pn.button,icon:en.SERIES_ICONS[e],isActive:m&&h===e,key:t,hint:y.labels[e],isFirst:0===t,isLast:t===g.length-1,onClick:m?a._handleSelectStyle:void 0,onClickArg:e,"data-value":$t.STYLE_SHORT_NAMES[e]})}),qt.createElement(on.b,{arrow:Boolean(e),content:e?void 0:qt.createElement(rn.a,null,qt.createElement(nn.a,{icon:en.SERIES_ICONS[h]})),title:e?y.barsStyle:y.labels[h],className:pn.menu},t,!!n.length&&qt.createElement(vn.a,null),n))},t.prototype._renderPopupMenuItem=function(e,t){var n=this.props.isFavoritingAllowed,a=this._isStyleFavorited(e);return qt.createElement(an.b,{key:e,icon:en.SERIES_ICONS[e],isActive:t,label:y.labels[e]||"",onClick:this._handleSelectStyle,onClickArg:e,showToolboxOnHover:!a,toolbox:n&&qt.createElement(tn.a,{isFilled:a,onClick:this._handleClickFavorite,onClickArg:e}),"data-value":$t.STYLE_SHORT_NAMES[e]})},t.prototype._handleChangeSettings=function(e){this.setState({lastSelectedNotFavorite:void 0,favorites:e})},t.prototype._isStyleFavorited=function(e){return-1!==this.state.favorites.indexOf(e)},t.prototype._handleAddFavorite=function(e){var t=this.state.favorites,n=this.context.favoriteChartStylesService;n.set(Object(Qt.__spreadArrays)(t,[e]))},t.prototype._handleRemoveFavorite=function(e){var t=this.state.favorites,n=this.context.favoriteChartStylesService;n.set(t.filter(function(t){return t!==e}))},t.contextTypes={chartWidgetCollection:Jt.any.isRequired,favoriteChartStylesService:Jt.any.isRequired},t}(qt.PureComponent),S=n("YFKU"),k=n("Db7+"),x=n("PC8g"),M=n("RYBj"),E={compare:window.t("Compare"),compareOrAddSymbol:window.t("Compare or Add Symbol")},O=function(e){function t(t,n){var a=e.call(this,t,n)||this;return a._handleClick=function(){Object(x.trackEvent)("GUI","Chart Header Toolbar","compare"),a.setState({isActive:!0}),a.context.chartWidgetCollection.showAddCompareDialog().then(function(e){e.on("afterOpen",function(){return a.setState({isActive:!0})}),e.on("beforeClose",function(){return a.setState({isActive:!1})})})},a.state={isActive:!1},a}return Object(Qt.__extends)(t,e),t.prototype.render=function(){var e=this.state.isActive;return qt.createElement(k.a,Object(Qt.__assign)({},this.props,{icon:M,isOpened:e,onClick:this._handleClick,text:E.compare,title:E.compareOrAddSymbol}))},t.contextTypes={chartWidgetCollection:Jt.any.isRequired},t}(qt.PureComponent),I=n("p0W+"),j=n("GgvM"),A={hint:window.t("Fullscreen mode")},N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleClick=function(){
t.context.chartWidgetCollection.startFullscreen()},t}return Object(Qt.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.id;return qt.createElement(I.a,{id:n,icon:j,onClick:this._handleClick,title:A.hint,className:sn(t)})},t.contextTypes={chartWidgetCollection:Jt.any.isRequired},t}(qt.PureComponent),z=n("Eyy1"),T=n("ei7k"),H=n("SNmj"),R=n("nmnj"),F=n("TcSq"),W=n("uOxu"),L=Object(W.getLogger)("FavoritesInfo"),P=n("CW80"),D=n("mMWL"),V=n("39J6"),U=n("sHKj"),B=n("XWsk"),G=n("S0BX"),K={text:window.t("Indicators"),hint:Kt.enabled("study_dialog_fundamentals_economy_addons")?window.t("Indicators & Strategies"):window.t("Indicators"),favorites:window.t("Favorites")},Q=Object(T.b)({keys:["/"],text:"{0}"}),q=function(e){function t(t,n){var a,i,o=e.call(this,t,n)||this;return o._promise=null,o._menu=Yt.a.createRef(),o._handleClick=function(){var e=o.props.studyMarket;o.setState({isActive:!0},function(){e.isVisible()?e.hide():e.show()})},o._handleSelectIndicator=function(e){var t,n;e=Object(z.ensureDefined)(e),t=o.context.chartWidgetCollection,"java"!==e.type||null===(n=Object(P.tryFindStudyLineToolNameByStudyId)(e.studyId))?t.activeChartWidget.value().insertStudy(e):D.tool.setValue(n)},o._handleFavoriteIndicatorsChange=function(){var e=o.context.favoriteScriptsModel,t=Object(Qt.__spreadArrays)(Object(z.ensureDefined)(e).favorites());o.setState({favorites:t}),o._clearCache()},o._handleMouseEnter=function(){o._prefetchFavorites()},o._handleWrapClick=function(){o._prefetchFavorites()},o._handleChangeActiveWidget=function(){o._clearCache()},o._clearCache=function(){o._promise=null,o.setState({infos:[]})},i=void 0!==(a=n.favoriteScriptsModel)?a.favorites():[],o.state={isActive:!1,isLoading:!1,favorites:i,infos:[]},o}return Object(Qt.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props.studyMarket,t=this.context,n=t.favoriteScriptsModel,a=t.chartWidgetCollection;e.visibilityChanged.subscribe(this,this._setActiveState),void 0!==n&&(n.favoritesChanged().subscribe(this,this._handleFavoriteIndicatorsChange),a.activeChartWidget.subscribe(this._handleChangeActiveWidget))},t.prototype.componentWillUnmount=function(){var e=this.props.studyMarket,t=this.context,n=t.favoriteScriptsModel,a=t.chartWidgetCollection;e.visibilityChanged.unsubscribe(this,this._setActiveState),void 0!==n&&(n.favoritesChanged().unsubscribe(this,this._handleFavoriteIndicatorsChange),a.activeChartWidget.unsubscribe(this._handleChangeActiveWidget)),this._promise=null},t.prototype.render=function(){var e=this,t=this.state,n=t.isActive,a=t.favorites,i=t.isLoading,s=this.props,l=s.className,c=s.displayMode,h=s.id,u=this.context.chartWidgetCollection;return Yt.a.createElement(rn.a,{id:h,onMouseEnter:this._handleMouseEnter,onClick:this._handleWrapClick},Yt.a.createElement(k.a,{displayMode:c,className:l,icon:B,isOpened:n,onClick:this._handleClick,text:K.text,title:K.hint,"data-role":"button","data-name":"open-indicators-dialog","data-tooltip-hotkey":Q}),a.length>0&&Yt.a.createElement(on.b,{key:u.activeChartWidget.value().id(),
arrow:!0,closeOnClickOutside:!0,title:K.favorites,ref:this._menu,"data-name":"show-favorite-indicators"},Yt.a.createElement("div",{className:ln()(G.dropdown)},Yt.a.createElement(o,null,window.t("Favorite Indicators")),i&&Yt.a.createElement(V.a,null),!i&&Yt.a.createElement(Yt.a.Fragment,null,this.state.infos.length>0?this.state.infos.map(function(t){return Yt.a.createElement(an.b,{key:"java"===t.item.type?t.item.studyId:t.item.pineId,onClick:e._handleSelectIndicator,onClickArg:t.item,label:Yt.a.createElement("span",{className:ln()(G.label,"apply-overflow-tooltip")},r(t))})}):null!==this._promise&&Yt.a.createElement(an.b,{isDisabled:!0,label:window.t("You have no Favorites Indicators yet")})))))},t.prototype._setActiveState=function(e){this.setState({isActive:e})},t.prototype._prefetchFavorites=function(){var e,t,n=this,i=this.context.chartWidgetCollection;null===this._promise&&(e=i.activeChartWidget.value().model().model().studyMetaInfoRepository(),this.setState({isLoading:!0}),t=this._promise=a(this.state.favorites,e).then(function(e){if(t===n._promise){e=Object(Qt.__spreadArrays)(e).sort(function(e,t){return r(e).localeCompare(r(t))}),n.setState({infos:e,isLoading:!1},function(){n._menu.current&&n._menu.current.update()})}}))},t.contextTypes={favoriteScriptsModel:Xt.a.any,chartWidgetCollection:Xt.a.any.isRequired},t}(Yt.a.PureComponent),Y=n("PT1i"),J=n("pPtI"),X=n("4hTN"),Z=n("9dlw"),$=n("ML8+"),ee=n("LxhU"),te=n("CX26"),ne={add:window.t("Add")},(ae=[{name:"1",label:window.t("minutes",{context:"interval"})},{name:"1H",label:window.t("hours",{context:"interval"})},{name:"1D",label:window.t("days",{context:"interval"})},{name:"1W",label:window.t("weeks",{context:"interval"})},{name:"1M",label:window.t("months",{context:"interval"})}]).push({name:"1R",label:window.t("range",{context:"interval"})}),ie=function(e){function t(t){var n=e.call(this,t)||this;return n._timeMenu=null,n._setMenuRef=function(e){n._timeMenu=e},n._handleChangeInput=function(e){var t=e.currentTarget.value;/^[0-9]*$/.test(t)&&n.setState({inputValue:t})},n._handleSelectTime=function(e){n.setState({selectedTime:e}),n._closeMenu()},n._handleClickAdd=function(){var e,t,a,i,o,r=n.state,s=r.inputValue,l=r.selectedTime,c=parseInt(s);c===(i=c,o=l,Math.max(1,Math.min(i,Object(J.getMaxResolutionValue)(o))))&&(t=(e=ee.Interval.parse(l)).isMinuteHours()?60*c:c,a=new ee.Interval(e.kind(),t),n.props.onAdd(a.value()))},n._toggleMenu=function(){n.state.isOpenedMenu?n._closeMenu():n._openMenu()},n._closeMenu=function(){n.props.onCloseMenu(),n.setState({isOpenedMenu:!1})},n._openMenu=function(){n.props.onOpenMenu(),n.setState({isOpenedMenu:!0})},n._getMenuPosition=function(){var e=Object(z.ensureNotNull)(n._timeMenu),t=e.getBoundingClientRect();return{overrideWidth:t.width,x:t.left,y:t.bottom+1}},n.state={inputValue:"1",isOpenedMenu:!1,selectedTime:ae[0].name},n}return Object(Qt.__extends)(t,e),t.prototype.render=function(){var e,t=this,n=this.state,a=n.inputValue,i=n.isOpenedMenu,o=n.menuWidth,r=n.selectedTime;return qt.createElement("div",{
className:sn(te.form,(e={},e[te.interacting]=i,e))},qt.createElement("input",{className:te.input,maxLength:4,onChange:this._handleChangeInput,value:a}),qt.createElement("div",{className:te.menu,onClick:this._toggleMenu,ref:this._setMenuRef},ae.find(function(e){return e.name===r}).label,qt.createElement($.a,{dropped:i})),qt.createElement("div",{className:te.add,onClick:this._handleClickAdd},ne.add),qt.createElement(Z.a,{doNotCloseOn:this,isOpened:i,minWidth:o,onClose:this._closeMenu,position:this._getMenuPosition},ae.map(function(e){return qt.createElement(an.b,{dontClosePopup:!0,key:e.name,label:e.label,onClick:t._handleSelectTime,onClickArg:e.name})})))},t}(qt.PureComponent),n("bf9a"),oe=n("i/MG"),re=n("8d0Q"),(se={})[ee.ResolutionKind.Seconds]=window.t("Seconds",{context:"interval_group_name"}),se[ee.ResolutionKind.Minutes]=window.t("Minutes",{context:"interval_group_name"}),se[ee.SpecialResolutionKind.Hours]=window.t("Hours",{context:"interval_group_name"}),se[ee.ResolutionKind.Days]=window.t("Days",{context:"interval_group_name"}),se[ee.ResolutionKind.Weeks]=window.t("Weeks",{context:"interval_group_name"}),se[ee.ResolutionKind.Months]=window.t("Months",{context:"interval_group_name"}),se[ee.ResolutionKind.Range]=window.t("Ranges",{context:"interval_group_name"}),se[ee.ResolutionKind.Invalid]="",le=se,ce=n("cwLw"),he=n("aVq2"),ue={openDialog:window.t("Open Interval Dialog"),timeInterval:window.t("Time Interval")},de=Object(T.b)({keys:[","],text:window.t("Number or {0}")}),ve=function(e){function t(t,n){var a,i,o,r,s,l,c,h,u,d=e.call(this,t,n)||this;return d._menu=Yt.a.createRef(),d._handleChangeInterval=function(e){var t=d.state,n=t.activeInterval,a=t.lastNotQuicked,i=d._getQuicks();d.setState({activeInterval:Object(J.normalizeIntervalString)(e),lastNotQuicked:void 0===n||i.includes(n)?a:n})},d._handleCloseMenu=function(){d.setState({isOpenedFormMenu:!1})},d._handleOpenMenu=function(){d.setState({isOpenedFormMenu:!0})},d._bindedForceUpdate=function(){d.forceUpdate()},d._handleSelectInterval=function(e){void 0!==e&&e!==Y.linking.interval.value()&&(Object(J.setLastUsedResolution)(e),Y.linking.interval.setValue(e)),e&&Object(x.trackEvent)("GUI","Time Interval",e)},d._handleClickFavorite=function(e){e=Object(z.ensureDefined)(e),d._isIntervalFavorite(e)?d._handleRemoveFavorite(e):d._handleAddFavorite(e)},d._handleAddFavorite=function(e){var t=d.state.favorites;d.context.favoriteIntervalsService.set(Object(Qt.__spreadArrays)(t,[e]))},d._handleRemoveFavorite=function(e){var t=d.state.favorites;d.context.favoriteIntervalsService.set(t.filter(function(t){return t!==e}))},d._handleAddInterval=function(e){var t=d.state.customs,n=d.context.customIntervalsService,a=Object(J.normalizeIntervalString)(e);void 0!==n&&(d._isIntervalDefault(a)||t.includes(a)||n.set(Object(J.sortResolutions)(Object(Qt.__spreadArrays)(t,[a])))),d.setState({lastAddedInterval:a})},d._handleRemoveInterval=function(e){var t=d.context.customIntervalsService,n=d.state.customs;void 0!==t&&(t.set(n.filter(function(t){return t!==e})),
d._handleRemoveFavorite(e))},d._getHandleSectionStateChange=function(e){return function(t){var n,a=d.state.menuViewState,i=d.context.intervalsMenuViewStateService;i.set(Object(Qt.__assign)(Object(Qt.__assign)({},a),((n={})[e]=!t,n)))}},a=n.chartApiInstance,i=n.favoriteIntervalsService,o=n.customIntervalsService,r=n.intervalsMenuViewStateService,d._customIntervals=Kt.enabled("custom_resolutions"),l=(s=Y.linking.interval.value())&&Object(J.normalizeIntervalString)(s),c=i.get(),h=void 0!==o?o.get():[],u=r.get(),d._defaultsIntervals=a.defaultResolutions().map(J.normalizeIntervalString),d.state={isOpenedFormMenu:!1,activeInterval:l,favorites:c,customs:h,menuViewState:u},d}return Object(Qt.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.context,t=e.favoriteIntervalsService,n=e.customIntervalsService,a=e.intervalsMenuViewStateService;t.getOnChange().subscribe(this,this._handleChangeFavorites),a.getOnChange().subscribe(this,this._handleChangeMenuViewState),void 0!==n&&n.getOnChange().subscribe(this,this._handleChangeCustoms),Y.linking.interval.subscribe(this._handleChangeInterval),Y.linking.intraday.subscribe(this._bindedForceUpdate),Y.linking.supportedResolutions.subscribe(this._bindedForceUpdate)},t.prototype.componentWillUnmount=function(){var e=this.context,t=e.favoriteIntervalsService,n=e.customIntervalsService,a=e.intervalsMenuViewStateService;t.getOnChange().unsubscribe(this,this._handleChangeFavorites),a.getOnChange().unsubscribe(this,this._handleChangeMenuViewState),n&&n.getOnChange().unsubscribe(this,this._handleChangeCustoms),Y.linking.interval.unsubscribe(this._handleChangeInterval),Y.linking.intraday.unsubscribe(this._bindedForceUpdate),Y.linking.supportedResolutions.unsubscribe(this._bindedForceUpdate)},t.prototype.componentDidUpdate=function(e,t){var n=this;this.state.lastAddedInterval&&setTimeout(function(){return n.setState({lastAddedInterval:void 0})},400)},t.prototype.render=function(){var e,t,n,a,i,o=this,r=this.props,l=r.isShownQuicks,c=r.id,h=this.state,u=h.activeInterval,d=h.customs,v=h.lastNotQuicked,p=this._defaultsIntervals,m=this._getQuicks(),g=Object(J.sortResolutions)(Object(Qt.__spreadArrays)(m));return void 0!==u&&g.includes(u)?void 0!==v&&g.push(v):void 0!==u&&g.push(u),e=(!(!l||0===m.length)||void 0)&&g.length>1,t={},n=Object(J.mergeResolutions)(p,d),(void 0!==u?n.concat(u):n).filter(J.isAvailable).forEach(function(e){return t[e]=!0}),a=Object(Qt.__spreadArrays)(this._createMenuItems(n),this._createIntervalForm()),i=void 0!==u?Object(J.getTranslatedResolutionModel)(u):null,Yt.a.createElement(rn.a,{id:c},e&&g.map(function(e,n){var a,i=Object(J.getTranslatedResolutionModel)(e);return Yt.a.createElement(dn,{key:n,className:sn(he.button,(a={},a[he.first]=0===n,a[he.last]=n===g.length-1,a)),text:Yt.a.createElement(s,{value:i.mayOmitMultiplier?void 0:i.multiplier,metric:i.shortKind}),hint:i.hint,isActive:u===e,isDisabled:!t[e]&&e!==v,onClick:o._handleSelectInterval,onClickArg:e,"data-value":e})}),Yt.a.createElement(on.b,{arrow:Boolean(e),closeOnClickOutside:!0,
content:e||null===i?void 0:Yt.a.createElement(rn.a,{className:he.menuContent},Yt.a.createElement(s,{value:i.mayOmitMultiplier?void 0:i.multiplier,metric:i.shortKind})),title:e||null===i?ue.timeInterval:i.hint,hotKey:e?de:void 0,className:he.menu,ref:this._menu},Yt.a.createElement("div",{className:he.dropdown},a)))},t.prototype._createMenuItems=function(e){var t,n,a,i,o,r,s,l,h=this,u=(n=e,a=c(ee.ResolutionKind.Seconds),i=c(ee.ResolutionKind.Minutes),o=c(ee.SpecialResolutionKind.Hours),r=c(ee.ResolutionKind.Days),s=c(ee.ResolutionKind.Range),n.forEach(function(e){var t=ee.Interval.parse(e);t.isMinuteHours()?o.items.push(e):t.isMinutes()?Object(ee.isHour)(Number(t.multiplier()))?o.items.push(e):i.items.push(e):t.isSeconds()?a.items.push(e):t.isDWM()?r.items.push(e):t.isRange()&&s.items.push(e)}),[a,i,o,r,s].filter(function(e){return 0!==e.items.length})).map(function(e,t,n){return h._renderResolutionsGroup(e,1===n.length)}),d=(t=[]).concat.apply(t,u);return l=!1,d.filter(function(e,t,n){var a=!0;return e.type===vn.a&&(0!==t&&t!==n.length-1||(a=!1),l&&(a=!1)),l=e.type===vn.a,a})},t.prototype._createIntervalForm=function(){return this._customIntervals?[Yt.a.createElement(vn.a,{key:"custom-interval-separator"}),Yt.a.createElement(ie,{key:"add-form",onAdd:this._handleAddInterval,onCloseMenu:this._handleCloseMenu,onOpenMenu:this._handleOpenMenu})]:[]},t.prototype._renderResolutionsGroup=function(e,t){var n,a,i,o,r,s=this;if(void 0===t&&(t=!1),n=[],a=e.items.map(function(e){return s._renderPopupMenuItem(e)}),t)n.push.apply(n,a);else{if(i=this.context.intervalsMenuViewStateService,o=this.state.menuViewState,!i.isAllowed(e.id))return[];r=Yt.a.createElement(ce.a,{key:e.id,className:he.section,summary:e.name,open:!o[e.id],onStateChange:this._getHandleSectionStateChange(e.id)},a),n.push(r)}return(!e.mayOmitSeparator||e.items.length>1)&&(n.unshift(Yt.a.createElement(vn.a,{key:"begin-"+e.name})),n.push(Yt.a.createElement(vn.a,{key:"end-"+e.name}))),n},t.prototype._handleChangeFavorites=function(e){this.setState({lastNotQuicked:void 0,favorites:e})},t.prototype._handleChangeCustoms=function(e){this.setState({customs:e})},t.prototype._handleChangeMenuViewState=function(e){var t=this;this.setState({menuViewState:e},function(){t._menu.current&&t._menu.current.update()})},t.prototype._renderPopupMenuItem=function(e){var t=this.props.isFavoritingAllowed,n=this.state,a=n.activeInterval,i=n.lastAddedInterval,o=e===a,r=Object(J.isAvailable)(e),s=this._isIntervalFavorite(e),c=this._isIntervalDefault(e),h=Object(J.getTranslatedResolutionModel)(e);return Yt.a.createElement(l,{key:e,interval:e,hint:h.hint,isSignaling:i===e,isFavoritingAllowed:t,isDisabled:!r,isFavorite:s,isRemovable:!c,isActive:o,onClick:this._handleSelectInterval,onClickRemove:this._handleRemoveInterval,onClickFavorite:this._handleClickFavorite,"data-value":e})},t.prototype._isIntervalDefault=function(e){return this._defaultsIntervals.includes(e)},t.prototype._isIntervalFavorite=function(e){return this.state.favorites.includes(e)},t.prototype._getQuicks=function(e){
return this.props.isShownQuicks&&"small"!==this.props.displayMode?void 0===e?this.state.favorites:e:[]},t.contextTypes={chartApiInstance:Jt.any.isRequired,favoriteIntervalsService:Jt.any.isRequired,intervalsMenuViewStateService:Jt.any.isRequired,customIntervalsService:Jt.any},t}(Yt.a.PureComponent),pe=n("sbT4"),me=n("lAXe"),ge={hint:window.t("Open chart in popup")},fe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleClick=function(){var e=t.context,n=e.chartWidgetCollection,a=e.windowMessageService,i=e.isFundamental,o=n.activeChartWidget.value();o.withModel(null,function(){a.post(parent,"openChartInPopup",{symbol:o.model().mainSeries().actualSymbol(),interval:o.model().mainSeries().interval(),fundamental:i})})},t}return Object(Qt.__extends)(t,e),t.prototype.render=function(){var e=this.props.className;return qt.createElement(I.a,{className:sn(e,pe.button),icon:me,onClick:this._handleClick,title:ge.hint})},t.contextTypes={isFundamental:Jt.any,chartWidgetCollection:Jt.any.isRequired,windowMessageService:Jt.any.isRequired},t}(qt.PureComponent),we=n("uafl"),be={hint:window.t("Chart Properties")},Ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleClick=function(){var e=t.context.chartWidgetCollection,n=e.activeChartWidget.value();Object(x.trackEvent)("GUI","Chart Header Toolbar","chart properties"),n.showGeneralChartProperties()},t}return Object(Qt.__extends)(t,e),t.prototype.render=function(){return qt.createElement(I.a,Object(Qt.__assign)({},this.props,{icon:we,title:be.hint,onClick:this._handleClick}))},t.contextTypes={chartWidgetCollection:Jt.any.isRequired},t}(qt.PureComponent),ye=n("lxNp"),_e=n("D3Kn"),Se=n("Q2dY"),ke=function(e){function t(t,n){var a,i,o,r,s=e.call(this,t,n)||this;return s._syncState=function(e){s.setState(e)},s._onChangeHasChanges=function(e){s.state.wasChanges!==e&&s.setState({wasChanges:e})},s._onChangeAutoSaveEnabled=function(e){s.setState({isAutoSaveEnabled:e})},s._onChangeSharingEnabled=function(e){s.setState({isSharingEnabled:e})},s._onChangeTitle=function(e){s.setState({title:e})},s._onChangeId=function(e){s.setState({id:e})},s._onChartAboutToBeSaved=function(){s.setState({isProcessing:!0})},s._onChartSaved=function(){s.setState({isProcessing:!1})},s._handleAutoSaveEnabled=function(e){Object(x.trackEvent)("Autosave",e?"On":"Off"),s.context.saveChartService.setAutoSaveEnabled(e)},s._handleSharingEnabled=function(e){var t=e?"on":"off";Object(x.trackEvent)("GUI","Turn sharing chart "+t),Object(z.ensureDefined)(s.context.sharingChartService).setSharingEnabled(e)},s._handleClickSave=function(){s.context.saveChartService.saveChartOrShowTitleDialog(),s._trackEvent("Save click")},s._handleClickSaveFromMenu=function(){s.context.saveChartService.saveChartOrShowTitleDialog(),s._trackEvent("Save From Menu")},s._handleClickClone=function(){s.context.saveChartService.cloneChart()},s._handleClickSaveAs=function(){s.context.saveChartService.saveChartAs(),s._trackEvent("Make a copy")},s._handleClickNew=function(){Object(_e.a)(),
s._trackEvent("New chart layout")},s._handleClickLoad=function(){s.context.loadChartService.showLoadDialog(),s._trackEvent("Load chart layout")},s._handleHotkey=function(){s.context.loadChartService.showLoadDialog()},s._handleClickRename=function(){s.context.saveChartService.renameChart(),s._trackEvent("Rename")},a=n.chartWidgetCollection,i=n.chartChangesWatcher,o=n.saveChartService,r=n.sharingChartService,s.state={isAuthenticated:window.is_authenticated,isProcessing:!1,id:a.metaInfo.id.value(),title:a.metaInfo.name.value(),wasChanges:i.hasChanges(),isAutoSaveEnabled:o.autoSaveEnabled().value(),isSharingEnabled:!!r&&r.sharingEnabled().value(),iconHovered:!1},s}return Object(Qt.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.chartSaver,n=e.isFake,a=e.stateSyncEmitter,i=this.context,o=i.chartWidgetCollection,r=i.chartChangesWatcher,s=i.saveChartService,l=i.sharingChartService;n?a.on("change",this._syncState):(r.getOnChange().subscribe(this,this._onChangeHasChanges),s.autoSaveEnabled().subscribe(this._onChangeAutoSaveEnabled),Object(z.ensureDefined)(l).sharingEnabled().subscribe(this._onChangeSharingEnabled),o.metaInfo.name.subscribe(this._onChangeTitle),o.metaInfo.id.subscribe(this._onChangeId),this._hotkeys=Object(ye.createGroup)({desc:"Save/Load"}),this._hotkeys.add({desc:window.t("Load Chart Layout"),handler:this._handleHotkey,hotkey:190}),t.chartSaved().subscribe(this,this._onChartSaved),t.chartAboutToBeSaved().subscribe(this,this._onChartAboutToBeSaved),window.loginStateChange.subscribe(this,this._onLoginStateChange))},t.prototype.componentDidUpdate=function(e,t){this.props.isFake||t!==this.state&&this.props.stateSyncEmitter.emit("change",this.state)},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.chartSaver,n=e.isFake,a=e.stateSyncEmitter,i=this.context,o=i.chartWidgetCollection,r=i.chartChangesWatcher,s=i.saveChartService,l=i.sharingChartService;n?a.off("change",this._syncState):(r.getOnChange().unsubscribe(this,this._onChangeHasChanges),s.autoSaveEnabled().unsubscribe(this._onChangeAutoSaveEnabled),Object(z.ensureDefined)(l).sharingEnabled().unsubscribe(this._onChangeSharingEnabled),o.metaInfo.name.unsubscribe(this._onChangeTitle),o.metaInfo.id.unsubscribe(this._onChangeId),Object(z.ensureDefined)(this._hotkeys).destroy(),t.chartSaved().unsubscribe(this,this._onChartSaved),t.chartAboutToBeSaved().unsubscribe(this,this._onChartAboutToBeSaved),window.loginStateChange.unsubscribe(this,this._onLoginStateChange))},t.prototype.render=function(){var e=this.props,t=e.isReadOnly,n=e.displayMode,a=e.id,i=e.isFake,o=this.state,r=o.isProcessing,s=o.isAuthenticated,l=o.title,c=o.id,h=o.wasChanges,u=o.isAutoSaveEnabled,d=o.isSharingEnabled,v={displayMode:n,isReadOnly:t,isAuthenticated:s,isProcessing:r,wasChanges:h,title:l,id:a,chartId:null!==c?c:void 0,onCloneChart:this._handleClickClone,onSaveChart:this._handleClickSave,onSaveChartFromMenu:this._handleClickSaveFromMenu,onRenameChart:this._handleClickRename,onSaveAsChart:this._handleClickSaveAs,onLoadChart:this._handleClickLoad
};return v.onNewChart=this._handleClickNew,v.onAutoSaveChanged=this._handleAutoSaveEnabled,v.onSharingChanged=this._handleSharingEnabled,v.isAutoSaveEnabled=u,v.isSharingEnabled=d,v.autoSaveId=i?void 0:"chart-auto-save",qt.createElement(Se.a,Object(Qt.__assign)({},v))},t.prototype._onLoginStateChange=function(){this.setState({isAuthenticated:window.is_authenticated})},t.prototype._trackEvent=function(e){Object(x.trackEvent)("GUI","Manage chart layout",e)},t.contextTypes={chartWidgetCollection:Jt.any.isRequired,chartChangesWatcher:Jt.any.isRequired,saveChartService:Jt.any.isRequired,sharingChartService:Jt.any.isRequired,loadChartService:Jt.any.isRequired},t}(qt.PureComponent),xe=n("U8H2"),Me=n("koZ+"),Ee=Object(xe.a)(function(e){return qt.createElement(cn.a,{id:e.id,className:e.className,isDisabled:e.isProcessing,onClick:e.onClick,title:e.tooltip,"data-tooltip-hotkey":e.hotkey,icon:Me})}),Oe=n("pZll"),Ie=n("h24c"),je=n("X7WP"),Ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._actions=null,t._input=null,t._promise=null,t._preventDefault=function(e){e.preventDefault()},t._trackSymbolSearchOpenEvent=function(){Object(x.trackEvent)("GUI","SS","main search")},t}return Object(Qt.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this,t=Object(z.ensureNotNull)(this._input),n=this._promise=Object(Oe.symbolSearchUIService)().bindToInput(t,{spreadActions:this._actions||void 0,syncWithChartWidget:!0,syncOnBlur:!0,onPopupOpen:this._trackSymbolSearchOpenEvent}).then(function(){n===e._promise&&null!==e._actions&&Array.from(e._actions.querySelectorAll("button")).forEach(function(e){return e.tabIndex=-1})})},t.prototype.componentWillUnmount=function(){this._promise=null},t.prototype.render=function(){var e,t=this,n=this.props,a=n.isActionsVisible,i=n.isExpanded,o=n.onFocus,r=n.onBlur,s=n.id,l=n.className;return qt.createElement("div",{id:s,className:sn(je.wrap,l)},qt.createElement("div",{className:sn(je.inner,(e={},e[je.isExpanded]=i,e))},qt.createElement("input",{className:je.input,maxLength:1e3,onBlur:r,onFocus:o,ref:function(e){return t._input=e},type:"text",tabIndex:-1}),Object(Ie.canShowSpreadActions)()&&a&&qt.createElement("div",{className:je.actions,onMouseDown:this._preventDefault,ref:function(e){return t._actions=e}})))},t}(qt.PureComponent),Ne=n("nPPD"),ze=n("jKyl"),Te=n("23di"),He=Object(Ne.a)(an.a,Te),Re={text:window.t("Save Indicator template...")},Fe=n("3ClC"),We=n("s0T6"),Le=n("fESK"),Pe=Object(Ne.a)(an.a,{labelRow:Le.labelRow,toolbox:Le.toolbox,item:Le.titleItem}),De=Object(Ne.a)(an.a,{item:Le.item}),Ve=n("9NBK"),Ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleClick=function(e){e.stopPropagation();var n=t.props;(0,n.onApply)(n.item)},t}return Object(Qt.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.item;return qt.createElement("div",{className:sn(t,Ve.item,"apply-common-tooltip"),onClick:this._handleClick,title:n.name},qt.createElement("div",{className:Ve.round
},n.name.length>0?n.name[0].toUpperCase():" "))},t}(qt.PureComponent),Be=n("gla1"),Ge=n("PN6A"),Ke=n("zgWb"),Qe=n("yGrx"),qe={title:Object(S.t)("Templates"),tooltip:Object(S.t)("Indicator Templates")},Ye=Yt.a.createContext(null),Je=function(e){function t(t,n){var a,i,o,r,s=e.call(this,t)||this;return s._handleFavorTemplate=function(e){if(s.props.isShownQuicks){var t=e.name;s._isTemplateFavorite(t)?s._removeFavoriteTemplate(t):s._addFavoriteTemplate(t)}},s._handleSaveTemplate=function(){s.context.studyTemplates.showSaveAsDialog()},s._handleApplyTemplate=function(e){s._handleClose(),s.context.studyTemplates.applyTemplate(e.name)},s._handleRemoveTemplate=function(e){s._handleClose(),s.context.studyTemplates.deleteStudyTemplate(e.name)},s._handleClose=function(){s._handleToggleDropdown(!1)},s._handleToggleDropdown=function(e){var t=s.state.isActive,n="boolean"==typeof e?e:!t;s.setState({isActive:n})},s._handleDropdownOpen=function(){var e=s.context.chartWidgetCollection,t=e.activeChartWidget.value().model(),n=function(e,t){return{indicators:e.orderedDataSources(!0).filter(function(e){return Object(Fe.isStudy)(e)&&!Object(Fe.isESDStudy)(e)}).map(function(e){return{id:e.metaInfo().id,description:e.title(!0,void 0,!0)}}),interval:t}}(t);s.setState({indicatorNames:u(n.indicators)})},a=n.favoriteStudyTemplatesService,i=n.studyTemplates,o=void 0!==a?a.get():[],r=i.list(),s.state={isActive:!1,studyTemplatesList:r,favorites:o},s}return Object(Qt.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.context,t=e.favoriteStudyTemplatesService,n=e.studyTemplates;n.getOnChange().subscribe(this,this._handleTemplatesChange),n.refreshStudyTemplateList(),void 0!==t&&t.getOnChange().subscribe(this,this._handleFavoritesChange)},t.prototype.componentWillUnmount=function(){var e=this.context,t=e.favoriteStudyTemplatesService;e.studyTemplates.getOnChange().unsubscribe(this,this._handleTemplatesChange),void 0!==t&&t.getOnChange().unsubscribe(this,this._handleFavoritesChange)},t.prototype.render=function(){var e=this.state,t=e.studyTemplatesList,n=e.favorites,a=this.props,i=a.isShownQuicks,o=a.className,r=a.displayMode,s=a.id;return Yt.a.createElement(Ye.Provider,{value:this.context.templatesMenuViewStateService||null},Yt.a.createElement(p,{id:s,className:o,mode:r,templates:t,favorites:n,onMenuOpen:this._handleDropdownOpen,onTemplateFavorite:i?this._handleFavorTemplate:void 0,onTemplateSelect:this._handleApplyTemplate,onTemplateRemove:this._handleRemoveTemplate,onTemplateSave:this._handleSaveTemplate}))},t.prototype._handleTemplatesChange=function(){this.setState({studyTemplatesList:this.context.studyTemplates.list()})},t.prototype._handleFavoritesChange=function(e){this.props.isShownQuicks&&this.setState({favorites:e})},t.prototype._removeFavoriteTemplate=function(e){var t,n=this.context.favoriteStudyTemplatesService;void 0!==n&&(t=this.state.favorites,n.set(t.filter(function(t){return t!==e})))},t.prototype._addFavoriteTemplate=function(e){var t,n=this.context.favoriteStudyTemplatesService;void 0!==n&&(t=this.state.favorites,
n.set(Object(Qt.__spreadArrays)(t,[e])))},t.prototype._isTemplateFavorite=function(e){return this.state.favorites.includes(e)},t.contextTypes={favoriteStudyTemplatesService:Xt.a.any,studyTemplates:Xt.a.any.isRequired,chartWidgetCollection:Xt.a.any.isRequired,templatesMenuViewStateService:Xt.a.any},t}(Yt.a.PureComponent),n("HbRj"),Xe=n("S+Ii"),Ze=n("bQ7Y"),$e=n("wnRL"),et=n("2xRE"),tt={undoHint:window.t("Undo {0}"),redoHint:window.t("Redo {0}")},nt={undoHotKey:Object(T.b)({keys:["Ctrl","Z"],text:"{0} + {1}"}),redoHotKey:Object(T.b)({keys:["Ctrl","Y"],text:"{0} + {1}"})},at=Object(Ne.b)(Ze,Xe,{buttonUndo:"button",buttonRedo:"button"}),it=Object(Qt.__assign)(Object(Qt.__assign)({},Ze),{button:at.buttonUndo}),ot=Object(Qt.__assign)(Object(Qt.__assign)({},Ze),{button:at.buttonRedo}),rt=function(e){function t(t,n){var a=e.call(this,t,n)||this;return a._batched=null,a._handleClickUndo=function(){Object(x.trackEvent)("GUI","Undo"),a.context.chartWidgetCollection.undoHistory.undo()},a._handleClickRedo=function(){Object(x.trackEvent)("GUI","Redo"),a.context.chartWidgetCollection.undoHistory.redo()},a.state=a._getStateFromUndoHistory(),a}return Object(Qt.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.context.chartWidgetCollection;e.undoHistory.redoStack().onChange().subscribe(this,this._onChangeStack),e.undoHistory.undoStack().onChange().subscribe(this,this._onChangeStack)},t.prototype.componentWillUnmount=function(){var e=this.context.chartWidgetCollection;e.undoHistory.redoStack().onChange().unsubscribe(this,this._onChangeStack),e.undoHistory.undoStack().onChange().unsubscribe(this,this._onChangeStack),this._batched=null},t.prototype.render=function(){var e=this.props.id,t=this.state,n=t.isEnabledRedo,a=t.isEnabledUndo,i=t.redoStack,o=t.undoStack;return qt.createElement(rn.a,{id:e},qt.createElement(cn.a,{icon:$e,isDisabled:!a,onClick:this._handleClickUndo,title:a?tt.undoHint.format(o):void 0,"data-tooltip-hotkey":a?nt.undoHotKey:void 0,theme:it}),qt.createElement(cn.a,{icon:et,isDisabled:!n,onClick:this._handleClickRedo,title:n?tt.redoHint.format(i):void 0,"data-tooltip-hotkey":n?nt.redoHotKey:void 0,theme:ot}))},t.prototype._onChangeStack=function(){var e=this;null===this._batched&&(this._batched=Promise.resolve().then(function(){if(null!==e._batched){e._batched=null;var t=e._getStateFromUndoHistory();e.setState(t)}}))},t.prototype._getStateFromUndoHistory=function(){var e=this.context.chartWidgetCollection,t=e.undoHistory.undoStack(),n=e.undoHistory.redoStack(),a=n.head(),i=t.head();return{isEnabledRedo:!n.isEmpty(),isEnabledUndo:!t.isEmpty(),redoStack:a?a.text():"",undoStack:i?i.text():""}},t.contextTypes={chartWidgetCollection:Jt.any.isRequired},t}(qt.PureComponent),st=n("SEmj"),lt=n("8OHs"),ct=function(e){function t(t){var n=e.call(this,t)||this;return n._onChange=function(){n.setState({isChecked:n.props.watchedValue.value()})},n._handleClick=function(){var e=n.props;(0,e.onClick)(e.watchedValue)},n.state={isChecked:n.props.watchedValue.value()},n}return Object(Qt.__extends)(t,e),
t.prototype.componentDidMount=function(){this.props.watchedValue.subscribe(this._onChange)},t.prototype.componentWillUnmount=function(){this.props.watchedValue.unsubscribe(this._onChange)},t.prototype.render=function(){var e=this.props,t=e.label,n=e.hint,a=e.isLabelCentered,i=this.state.isChecked;return qt.createElement(f,{label:t,hint:n,isChecked:i,isLabelCentered:a,onClick:this._handleClick})},t}(qt.PureComponent),ht=n("tWVy"),ut=n("Ocx9"),dt={label:window.t("Drawings"),hint:window.t("New drawings are replicated to all charts in the layout and shown when the same ticker is selected")},vt=function(e){function t(t){var n=e.call(this,t)||this;return n._property=Object(D.drawOnAllCharts)(),n._handleClick=function(){Object(ut.saveDefaultProperties)(!0),n._property.setValue(!n._property.value()),Object(ut.saveDefaultProperties)(!1)},n.state={isActive:n._property.value()},n}return Object(Qt.__extends)(t,e),t.prototype.componentDidMount=function(){this._property.subscribe(this,this._onChange)},t.prototype.componentWillUnmount=function(){this._property.unsubscribe(this,this._onChange)},t.prototype.render=function(){var e=this.state.isActive;return qt.createElement(f,{label:dt.label,hint:dt.hint,isLabelCentered:!0,isChecked:e,onClick:this._handleClick})},t.prototype._onChange=function(e){this.setState({isActive:e.value()})},t}(qt.PureComponent),pt=n("VSd1"),mt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleClick=function(){var e=t.props,n=e.layout;(0,e.onClick)(n)},t}return Object(Qt.__extends)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.isActive,a=t.icon;return qt.createElement("div",{className:pt.layoutButtonWrap},qt.createElement("div",{className:sn(pt.layoutButton,(e={},e[pt.isActive]=n,e)),onClick:this._handleClick},qt.createElement(nn.a,{icon:a})))},t}(qt.PureComponent),gt=n("PEkK"),ft=n("JENg"),wt=n("jbim"),bt=n("z1A+"),Ct=n("6w+I"),yt=n("ifT7"),_t=n("C9Qp"),St=n("kuuR"),kt=n("BxJQ"),xt=n("dwD8"),Mt=n("MrUa"),Et=n("53FK"),Ot=n("YNF9"),It=n("lRBB"),jt=n("wUwu"),At=n("jeSM"),Nt=n("LBcQ"),zt=n("Ol5X"),Tt=n("ewWO"),Ht=n("DeZa"),Rt=n("l3c7"),Ft=n("3p5r"),Wt=n("7RQU"),Lt={s:wt,"1-2":bt,"1-3":Ct,"1-4":yt,"2-1":_t,"2-2":St,"2h":kt,"2v":xt,"3h":Mt,"3r":Et,"3s":Ot,"3v":It,4:jt,"4h":At,"4s":Nt,"4v":zt,"5s":Tt,6:Ht,"6c":Rt,8:Ft,"8c":Wt},Pt={hint:window.t("Select Layout"),syncGroupTitle:window.t("Sync on all charts"),syncCrosshairLabel:window.t("Crosshair"),syncCrosshairHint:window.t("Crosshair is synced across all charts of the layout"),syncIntervalLabel:window.t("Interval"),syncIntervalHint:window.t("Interval changes on all charts of the layout simultaneously"),syncSymbolLabel:window.t("Symbol"),syncSymbolHint:window.t("Symbol changes on all charts of the layout simultaneously"),syncTrackLabel:window.t("Time"),syncTrackHint:window.t("When clicked on a single chart others get scrolled to display the same point on time axis")},Dt=[{layouts:["s"],title:"1"},{layouts:["2h","2v"],title:"2"},{layouts:["3v","3h","3s","2-1","1-2","3r"],title:"3"},{
layouts:["4","4h","4v","4s","1-3","2-2"],title:"4"},{layouts:["1-4","5s"],title:"5"},{layouts:["6","6c"],title:"6"},{layouts:["8","8c"],title:"8"}],Vt=function(e){function t(t,n){var a=e.call(this,t,n)||this;return a._handleSyncSymbol=function(e){var t=a.context.chartWidgetCollection,n=!e.value();t.lock.setSymbolLockWithUndo(n)},a._handleSyncInterval=function(e){var t=a.context.chartWidgetCollection,n=!e.value();t.lock.setIntervalLockWithUndo(n)},a._handleSyncCrosshair=function(e){var t=!e.value();e.setValue(t)},a._handleSyncTrack=function(e){var t=a.context.chartWidgetCollection,n=!e.value();t.lock.setTrackTimeWithUndo(n)},a._onUpdateLayout=function(e){var t=a.context.chartWidgetCollection;a.setState({currentId:e||t.layout.value()})},a._handleOpenLayout=function(){Object(x.trackEvent)("GUI","Chart Header Toolbar","select layout")},a._handleClickLayout=function(e){Object(ht.b)();var t=a.context.chartWidgetCollection;t.layout.value()===e?t.revertToInline():t.setChartLayoutWithUndo(e)},a.state={currentId:"s"},a}return Object(Qt.__extends)(t,e),t.prototype.componentDidMount=function(){this.context.chartWidgetCollection.layout.subscribe(this._onUpdateLayout,{callWithLast:!0})},t.prototype.componentWillUnmount=function(){this.context.chartWidgetCollection.layout.unsubscribe(this._onUpdateLayout)},t.prototype.render=function(){var e=this.props,t=e.className,n=e.id,a=this.state.currentId;return qt.createElement(on.b,{id:n,arrow:!1,content:qt.createElement(nn.a,{className:gt.icon,icon:ft.a[a]}),title:Pt.hint,className:sn(t,gt.button),onOpen:this._handleOpenLayout},qt.createElement("div",{className:gt.dropdown},this._renderLayoutList(),qt.createElement("div",{className:gt.title},Pt.syncGroupTitle),this._renderSyncTable()))},t.prototype._renderLayoutList=function(){var e=this,t=this.state.currentId;return qt.createElement("div",null,Dt.map(function(n,a){return qt.createElement(w,{key:n.title,title:n.title,separator:a!==Dt.length-1&&qt.createElement(vn.a,null)},n.layouts.map(function(n){return qt.createElement(mt,{key:n,layout:n,icon:Lt[n],onClick:e._handleClickLayout,isActive:n===t})}))}))},t.prototype._renderSyncTable=function(){var e=this.context.chartWidgetCollection;return qt.createElement("table",{className:gt.syncTable},qt.createElement("tbody",null,qt.createElement("tr",null,qt.createElement("td",null,qt.createElement(ct,{label:Pt.syncSymbolLabel,hint:Pt.syncSymbolHint,watchedValue:e.lock.symbol,onClick:this._handleSyncSymbol})),qt.createElement("td",null,qt.createElement(ct,{label:Pt.syncIntervalLabel,hint:Pt.syncIntervalHint,watchedValue:e.lock.interval,onClick:this._handleSyncInterval}))),qt.createElement("tr",null,qt.createElement("td",null,qt.createElement(ct,{label:Pt.syncCrosshairLabel,hint:Pt.syncCrosshairHint,watchedValue:e.lock.crosshair,onClick:this._handleSyncCrosshair})),qt.createElement("td",null,qt.createElement(ct,{label:Pt.syncTrackLabel,hint:Pt.syncTrackHint,watchedValue:e.lock.trackTime,onClick:this._handleSyncTrack}))),qt.createElement("tr",null,qt.createElement("td",{colSpan:2
},qt.createElement(vt,null)))))},t.contextTypes={chartWidgetCollection:Jt.any.isRequired},t}(qt.PureComponent),Ut=n("i8i4"),Bt=n("XmVn"),Gt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._ref=null,t._update=function(){t.forceUpdate()},t._setRef=function(e){t._ref=e},t._handleMeasure=function(e){var n=e.width;t.props.width.setValue(n)},t}return Object(Qt.__extends)(t,e),t.prototype.componentDidMount=function(){var e,t=this.props,n=t.element,a=t.isFake,i=t.width;a?i.subscribe(this._update):(e=Object(z.ensureNotNull)(this._ref),Ut.findDOMNode(e).appendChild(n))},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.width;e.isFake&&t.unsubscribe(this._update)},t.prototype.render=function(){var e=this.props,t=e.isFake,n=void 0!==t&&t,a=e.width;return qt.createElement(Bt,{shouldMeasure:!n,whitelist:["width"],onMeasure:this._handleMeasure},qt.createElement(rn.a,{ref:this._setRef,style:n?{width:a.value()}:void 0}))},t}(qt.PureComponent),n.d(t,"a",function(){return b})},nrMg:function(e,t,n){e.exports={dottedCloud:"dottedCloud-1Vw3lVny",check:"check-3V48_rMp",spinningCloud:"spinningCloud-2fkbB-rw",arrow:"arrow-1zkKEROH",arrowGap:"arrowGap-gjAe6jEn",container:"container-riYIb01a",unsaved:"unsaved-2Kg_w3Vw",hovered:"hovered-18DzoW0E",saving:"saving-31YVVfHU",saved:"saved-2kLd4nmd"}},"p0W+":function(e,t,n){"use strict";var a,i,o,r,s,l;n.d(t,"a",function(){return l}),a=n("mrSG"),i=n("q1tI"),o=n("TSYQ"),r=n("tU7i"),s=n("EvtC"),l=i.forwardRef(function(e,t){var n=e.className,l=Object(a.__rest)(e,["className"]);return i.createElement(r.a,Object(a.__assign)({},l,{ref:t,className:o(n,s.button)}))})},pIlP:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M11 5h3v12h5V8h3v13h1V7h-5v9h-3V4h-5v18H7v-5H6v6h5z"/></svg>'},pqsj:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="currentColor"><path d="M17 11v6h3v-6h-3zm-.5-1h4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5z"/><path d="M18 7h1v3.5h-1zm0 10.5h1V21h-1z"/><path d="M9 8v12h3V8H9zm-.5-1h4a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 .5-.5z"/><path d="M10 4h1v3.5h-1zm0 16.5h1V24h-1z"/></svg>'},s0T6:function(e,t,n){e.exports={description:"description-3yVDcIyu"}},sHKj:function(e,t,n){e.exports={title:"title-17mjZSJk"}},sbT4:function(e,t,n){e.exports={button:"button-3wAyKO3i"}},t2Sj:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M11.982 16.689L17.192 12h3.033l4.149-4.668-.748-.664L19.776 11h-2.968l-4.79 4.311L9 12.293l-4.354 4.353.708.708L9 13.707z"/></svg>'},uafl:function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="currentColor" fill-rule="evenodd"><path fill-rule="nonzero" d="M14 17a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0-1a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/><path d="M5.005 16A1.003 1.003 0 0 1 4 14.992v-1.984A.998.998 0 0 1 5 12h1.252a7.87 7.87 0 0 1 .853-2.06l-.919-.925c-.356-.397-.348-1 .03-1.379l1.42-1.42a1 1 0 0 1 1.416.007l.889.882A7.96 7.96 0 0 1 12 6.253V5c0-.514.46-1 1-1h2c.557 0 1 .44 1 1v1.253a7.96 7.96 0 0 1 2.06.852l.888-.882a1 1 0 0 1 1.416-.006l1.42 1.42a.999.999 0 0 1 .029 1.377s-.4.406-.918.926a7.87 7.87 0 0 1 .853 2.06H23c.557 0 1 .447 1 1.008v1.984A.998.998 0 0 1 23 16h-1.252a7.87 7.87 0 0 1-.853 2.06l.882.888a1 1 0 0 1 .006 1.416l-1.42 1.42a1 1 0 0 1-1.415-.007l-.889-.882a7.96 7.96 0 0 1-2.059.852v1.248c0 .56-.45 1.005-1.008 1.005h-1.984A1.004 1.004 0 0 1 12 22.995v-1.248a7.96 7.96 0 0 1-2.06-.852l-.888.882a1 1 0 0 1-1.416.006l-1.42-1.42a1 1 0 0 1 .007-1.415l.882-.888A7.87 7.87 0 0 1 6.252 16H5.005zm3.378-6.193l-.227.34A6.884 6.884 0 0 0 7.14 12.6l-.082.4H5.005C5.002 13 5 13.664 5 14.992c0 .005.686.008 2.058.008l.082.4c.18.883.52 1.71 1.016 2.453l.227.34-1.45 1.46c-.004.003.466.477 1.41 1.422l1.464-1.458.34.227a6.959 6.959 0 0 0 2.454 1.016l.399.083v2.052c0 .003.664.005 1.992.005.005 0 .008-.686.008-2.057l.399-.083a6.959 6.959 0 0 0 2.454-1.016l.34-.227 1.46 1.45c.003.004.477-.466 1.422-1.41l-1.458-1.464.227-.34A6.884 6.884 0 0 0 20.86 15.4l.082-.4h2.053c.003 0 .005-.664.005-1.992 0-.005-.686-.008-2.058-.008l-.082-.4a6.884 6.884 0 0 0-1.016-2.453l-.227-.34 1.376-1.384.081-.082-1.416-1.416-1.465 1.458-.34-.227a6.959 6.959 0 0 0-2.454-1.016L15 7.057V5c0-.003-.664-.003-1.992 0-.005 0-.008.686-.008 2.057l-.399.083a6.959 6.959 0 0 0-2.454 1.016l-.34.227-1.46-1.45c-.003-.004-.477.466-1.421 1.408l1.457 1.466z"/></g></svg>'},wUwu:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor" transform="translate(.5 .5)"><rect width="22" height="20" rx="2"/><path d="M0 10h22M11 0v20"/></g></svg>'},wnRL:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M8.707 13l2.647 2.646-.707.708L6.792 12.5l3.853-3.854.708.708L8.707 12H14.5a5.5 5.5 0 0 1 5.5 5.5V19h-1v-1.5a4.5 4.5 0 0 0-4.5-4.5H8.707z"/></svg>'},yGrx:function(e,t,n){e.exports={wrap:"wrap-15BhAobm",full:"full-2VMT2UlC",first:"first-1vAzGgSq",last:"last-xMjAcadb",medium:"medium-1BEsHMFf",loader:"loader-1uURoPBh",buttonWithFavorites:"buttonWithFavorites-3S-vuMxR",menu:"menu-pdQdEiwV"}},"z1A+":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="21"><g fill="none" stroke="currentColor" transform="translate(.5 .5)"><rect width="22" height="20" rx="2"/><path d="M0 10h22M11 10v10"/></g></svg>'},zgWb:function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentColor" d="M6 12l3.88-4.31a1 1 0 0 1 1.35-.13l5.07 3.9a1 1 0 0 0 1.32-.08L23 6M6.5 22v-4m4 4v-8m4 8v-6m4 6v-4m4 4v-8"/></svg>'}}]);