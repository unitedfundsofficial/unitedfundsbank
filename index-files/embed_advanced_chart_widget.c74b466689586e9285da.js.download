(window.webpackJsonp=window.webpackJsonp||[]).push([["embed_advanced_chart_widget",3,5,8,19,23,28,30,31,43,55,58,60,62,63,67,69,76,79,80,83,88,97,100,116,123,133,142,149,150,152,159,160,166,175,"badge-element","get-price-alerts-dispatcher","screener-alerts",179,187,216,217,227,238,250,252,258],{"+6ja":function(e,t,i){"use strict";function n(e){for(var t=0;t<h.length;t++)if(e===h[t].id)return!0;return!1}var r,o,s,a,l,c,u,h;for(i.r(t),i.d(t,"availableTimezones",function(){return h}),i.d(t,"timezoneIsAvailable",function(){return n}),i("YFKU"),r=i("U/gD"),o=[{id:"Etc/UTC",title:window.t("UTC")},{id:"exchange",title:window.t("Exchange")}],a=0,l=s=[{id:"Africa/Cairo",title:window.t("Cairo"),offset:0},{id:"Africa/Johannesburg",title:window.t("Johannesburg"),offset:0},{id:"Africa/Lagos",title:window.t("Lagos"),offset:0},{id:"America/Argentina/Buenos_Aires",title:window.t("Buenos Aires"),offset:0},{id:"America/Bogota",title:window.t("Bogota"),offset:0},{id:"America/Caracas",title:window.t("Caracas"),offset:0},{id:"America/Chicago",title:window.t("Chicago"),offset:0},{id:"America/El_Salvador",title:window.t("San Salvador"),offset:0},{id:"America/Juneau",title:window.t("Juneau"),offset:0},{id:"America/Lima",title:window.t("Lima"),offset:0},{id:"America/Los_Angeles",title:window.t("Los Angeles"),offset:0},{id:"America/Mexico_City",title:window.t("Mexico City"),offset:0},{id:"America/New_York",title:window.t("New York"),offset:0},{id:"America/Phoenix",title:window.t("Phoenix"),offset:0},{id:"America/Santiago",title:window.t("Santiago"),offset:0},{id:"America/Sao_Paulo",title:window.t("Sao Paulo"),offset:0},{id:"America/Toronto",title:window.t("Toronto"),offset:0},{id:"America/Vancouver",title:window.t("Vancouver"),offset:0},{id:"US/Mountain",title:window.t("Denver"),offset:0},{id:"Asia/Almaty",title:window.t("Almaty"),offset:0},{id:"Asia/Ashkhabad",title:window.t("Ashkhabad"),offset:0},{id:"Asia/Bahrain",title:window.t("Bahrain"),offset:0},{id:"Asia/Bangkok",title:window.t("Bangkok"),offset:0},{id:"Asia/Chongqing",title:window.t("Chongqing"),offset:0},{id:"Asia/Dubai",title:window.t("Dubai"),offset:0},{id:"Asia/Ho_Chi_Minh",title:window.t("Ho Chi Minh"),offset:0},{id:"Asia/Hong_Kong",title:window.t("Hong Kong"),offset:0},{id:"Asia/Jakarta",title:window.t("Jakarta"),offset:0},{id:"Asia/Jerusalem",title:window.t("Jerusalem"),offset:0},{id:"Asia/Kolkata",title:window.t("Kolkata"),offset:0},{id:"Asia/Kuwait",title:window.t("Kuwait"),offset:0},{id:"Asia/Muscat",title:window.t("Muscat"),offset:0},{id:"Asia/Qatar",title:window.t("Qatar"),offset:0},{id:"Asia/Riyadh",title:window.t("Riyadh"),offset:0},{id:"Asia/Seoul",title:window.t("Seoul"),offset:0},{id:"Asia/Shanghai",title:window.t("Shanghai"),offset:0},{id:"Asia/Singapore",title:window.t("Singapore"),offset:0},{id:"Asia/Taipei",title:window.t("Taipei"),offset:0},{id:"Asia/Tehran",title:window.t("Tehran"),offset:0},{id:"Asia/Tokyo",title:window.t("Tokyo"),offset:0},{id:"Atlantic/Reykjavik",title:window.t("Reykjavik"),offset:0},{id:"Australia/Adelaide",title:window.t("Adelaide"),
offset:0},{id:"Australia/Brisbane",title:window.t("Brisbane"),offset:0},{id:"Australia/Perth",title:window.t("Perth"),offset:0},{id:"Australia/Sydney",title:window.t("Sydney"),offset:0},{id:"Europe/Athens",title:window.t("Athens"),offset:0},{id:"Europe/Belgrade",title:window.t("Belgrade"),offset:0},{id:"Europe/Berlin",title:window.t("Berlin"),offset:0},{id:"Europe/Copenhagen",title:window.t("Copenhagen"),offset:0},{id:"Europe/Helsinki",title:window.t("Helsinki"),offset:0},{id:"Europe/Istanbul",title:window.t("Istanbul"),offset:0},{id:"Europe/London",title:window.t("London"),offset:0},{id:"Europe/Luxembourg",title:window.t("Luxembourg"),offset:0},{id:"Europe/Madrid",title:window.t("Madrid"),offset:0},{id:"Europe/Moscow",title:window.t("Moscow"),offset:0},{id:"Europe/Oslo",title:window.t("Oslo"),offset:0},{id:"Europe/Paris",title:window.t("Paris"),offset:0},{id:"Europe/Riga",title:window.t("Riga"),offset:0},{id:"Europe/Rome",title:window.t("Rome"),offset:0},{id:"Europe/Stockholm",title:window.t("Stockholm"),offset:0},{id:"Europe/Tallinn",title:window.t("Tallinn"),offset:0},{id:"Europe/Vilnius",title:window.t("Vilnius"),offset:0},{id:"Europe/Warsaw",title:window.t("Warsaw"),offset:0},{id:"Europe/Zurich",title:window.t("Zurich"),offset:0},{id:"Pacific/Auckland",title:window.t("New Zealand"),offset:0},{id:"Pacific/Chatham",title:window.t("Chatham Islands"),offset:0},{id:"Pacific/Fakaofo",title:window.t("Tokelau"),offset:0},{id:"Pacific/Honolulu",title:window.t("Honolulu"),offset:0},{id:"Pacific/Norfolk",title:window.t("Norfolk Island"),offset:0}];a<l.length;a++)c=l[a],u=Object(r.a)(c.id),c.title="("+u.string+") "+c.title,c.offset=u.offset;s.sort(function(e,t){var i=e.offset-t.offset;return 0!==i?i:e.title.localeCompare(t.title)}),h=o.concat(s)},"+DwS":function(e,t,i){"use strict";function n(e,t){var i,n=new o.a(e()),r={};return t.subscribe(r,function(){n.setValue(e())}),i=function(){return t.unsubscribeAll(r)},n.readonly().spawn(i)}var r,o;i.d(t,"a",function(){return n}),r=i("hY0g"),o=i.n(r)},"+GxX":function(e,t,i){"use strict";var n=i("VVxS").TVLocalStorage;i("qFKp"),TradingView.FeatureToggle={force_prefix:"forcefeaturetoggle.",enableFeature:function(e){n.setItem(this.force_prefix+e,"true")},disableFeature:function(e){n.setItem(this.force_prefix+e,"false")},resetFeature:function(e){n.removeItem(this.force_prefix+e)}},TradingView.isFeatureEnabled=function(e){function t(t){var i=Math.random()<=e[t];return n.setItem(r+t,i),i}var r="featuretoggle.";return TradingView.onWidget()||Promise.all([i.e("vendors_embed"),i.e(43),i.e(142),i.e(250)]).then(function(n){i("TxTq").on("featuretoggle",function(i){e[i.name]=i.state,t(i.name)})}.bind(null,i)).catch(i.oe),function(i){var o;return!("local"!==window.environment||!function(e){
return-1===["black_friday_mainpage","black_friday_popup","black_friday","broker_ALOR_dev","broker_TRADESTATION_coming_soon","datawindow","hide-copy-readonly","chart_sharing","hide-alert-controls-on-property-page","trading-fast-renew-oauth-token","switching_trial_year_to_month_disabled","switching_year_to_month_disabled","default_year_billing_cycle_switcher","order_countries_zip","marketing-analytics","trial_verify_phone","disable_obs_streaming","broker_FXCM_token_v2","disable-alert-resolution-filter","google-ads","visible_address_fields_by_default","slow-support-warning","hide-trading-floating-toolbar","news_provider_tradingview"].indexOf(e)&&-1===e.indexOf("-maintenance")}(i))||(!e[i]||-1!==e[i])&&(!!("true"===n.getItem(TradingView.FeatureToggle.force_prefix+i)||window.is_authenticated&&"undefined"!=typeof user&&user.settings&&"true"===user.settings[TradingView.FeatureToggle.force_prefix+i])||!("false"===n.getItem(TradingView.FeatureToggle.force_prefix+i)||window.is_authenticated&&"undefined"!=typeof user&&user.settings&&"false"===user.settings[TradingView.FeatureToggle.force_prefix+i])&&(!!e[i]&&(1===e[i]||(void 0===(o=n.getItem(r+i))||null===o?t(i):"true"===o))))}}(window.featureToggleState||{}),t.FeatureToggle=TradingView.FeatureToggle,t.isFeatureEnabled=TradingView.isFeatureEnabled},"+a6K":function(e,t,i){"use strict";function n(e,t){var i,n;return e.start>=t.length||e.stop>=t.length?null:(i=t[e.start],n=t[e.stop],i===s.INVALID_TIME_POINT_INDEX||n===s.INVALID_TIME_POINT_INDEX?null:(Object(o.assert)(i<=n,"start should not exceed stop"),{start:i,stop:n}))}function r(e,t,i){var n=Object(a.ensureTimePointIndexIndex)(i.indexOf(e.start)),r=Object(a.ensureTimePointIndexIndex)(i.indexOf(e.stop));return{id:t,start:n,stop:r}}var o,s,a;i.d(t,"b",function(){return n}),i.d(t,"a",function(){return r}),o=i("Eyy1"),s=i("tqok"),a=i("hsV8")},"+h+m":function(e,t,i){"use strict";function n(e,t,i){return Object(l.fetch)(e,Object.assign({method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},i))}function r(e,t,r,l){return Object(o.__awaiter)(this,void 0,void 0,function(){var d,p,f,_,m,g,y;return Object(o.__generator)(this,function(v){switch(v.label){case 0:return[4,function(e){return Object(o.__awaiter)(this,void 0,void 0,function(){return Object(o.__generator)(this,function(t){switch(t.label){case 0:return a.CheckMobile.iOS()?[2,""]:[4,h];case 1:return t.sent(),[2,window.grecaptcha.execute(window.RECAPTCHA_SITE_KEY_V3,{action:e})]}})})}(r)];case 1:return d=v.sent(),p=Object(o.__assign)(((g={})[c]=d,g),t),[4,n(e,p,l)];case 2:return[4,v.sent().json()];case 3:return(f=v.sent()).rc_v2_required||f.rc_fail?[4,Promise.all([i.e("vendors_embed"),i.e(4),i.e(14),i.e(24),i.e(27),i.e(37),i.e(289),i.e(22),i.e(31),i.e("recaptcha-popup")]).then(i.bind(null,"6jL0")).then(function(e){return e.createRecaptchaPopup()})]:[2,f];case 4:return _=v.sent(),m=Object(o.__assign)(((y={})[u]=_,y),t),[4,n(e,m,l)];case 5:return[4,v.sent().json()];case 6:
if((f=v.sent()).rc_fail)throw new Error(s.t("reCAPTCHA check failed. Please, try again."));return[2,f]}})})}var o,s,a,l,c,u,h;i.r(t),o=i("mrSG"),i("bSeV"),i("d1kB"),s=i("YFKU"),a=i("qFKp"),l=i("BHQF"),i.d(t,"RC_RESPONSE_PARAM",function(){return c}),i.d(t,"RC_RESPONSE_PARAM_V2",function(){return u}),i.d(t,"recaptchaLoaded",function(){return h}),i.d(t,"protectedFetch",function(){return r}),c="g-recaptcha-response",u="g-recaptcha-response-v2",h=new Promise(function(e,t){var i,n;if(Object(a.isOnMobileAppPage)("any"))return e();(i=document.createElement("script")).src="https://www.recaptcha.net/recaptcha/api.js?render="+window.RECAPTCHA_SITE_KEY_V3+"&hl="+window.language,i.onload=function(){window.grecaptcha.ready(e)},i.onerror=t,(n=document.querySelector("head"))&&n.appendChild(i)})},"+h5a":function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h;i.r(t),i("bSeV"),i("PvO/"),n=i("0waE"),r=i("Wt0y"),o=i("VVxS"),s=i("uOxu"),a=i("BHQF"),l=Object(s.getLogger)("Common.Evercookie"),i.d(t,"EvercookieChecker",function(){return h}),c=Object(s.getLogger)("Common.Evercookie"),u=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,h=function(){function e(){var e=this;this._cookieName="tv_ecuid",this._env=null,this._ec=null,this.check=function(){if(!e._isEcNotAvailable()&&o.TVLocalStorage.getItem("_tv_ec_ignore_username")!==window.user.username){var t=window.user.id;e._getEcUids().catch(function(e){c.logWarn("Error thrown inside getEcUids(). Leave evercookie data untouched. User: "+window.user.username+" ("+window.user.id+")\nActual error: "+e)}).then(function(r){var s,h,d,p,f;void 0!==r?(s=r.localEcUid,h=r.oldRemoteEcUid,d=r.remoteEcUids,p=r.isLocalEcUidOld,s&&h!==s&&!p&&u.test(s)||(s=Object(n.guid)(),e._getEc().set(e._cookieName,s)),f=function(e){e.subscription_canceled&&Promise.all([i.e("vendors_embed"),i.e(4),i.e(9),i.e(10),i.e(32),i.e(37),i.e(245),i.e(31),i.e("trial-canceled")]).then(i.bind(null,"jmzw")).then(function(e){return e.createTrialCanceledDialog()}),void 0!==e.is_suspicious&&(t===window.user.id&&e.is_suspicious?o.TVLocalStorage.setItem("is_suspicious","1"):o.TVLocalStorage.removeItem("is_suspicious"))},d&&0!==d.length||t!==window.user.id?-1===d.indexOf(s)&&t===window.user.id&&function(e){var t=new FormData;return t.append("new_ecuid",e),Object(a.fetch)("/accounts/ch-ecuid/",{body:t,credentials:"include",method:"POST"}).then(function(e){if(e.ok)return e.json().catch(function(e){l.logWarn("Error in reponse.json() of /accounts/ch-ecuid/. User: "+window.user.username+" ("+window.user.id+")\nActual error: "+e)});throw new Error("Unable to change remote ecuids. Response was not OK")})}(s).then(f):function(e){var t=new FormData;return t.append("first_ecuid",e),Object(a.fetch)("/accounts/set-ecuid/",{body:t,credentials:"include",method:"POST"}).then(function(e){if(e.ok)return e.json().catch(function(e){l.logWarn("Error in reponse.json() of /accounts/set-ecuid/. User: "+window.user.username+" ("+window.user.id+")\nActual error: "+e)});throw new Error("Unable to set remote ecuids. Response was not OK")})
}(s).then(f)):c.logWarn("getEcUids() returned no data. Leave evercookie data untouched. User: "+window.user.username+" ("+window.user.id+")")}).catch(function(e){c.logError(e.message+" User: "+window.user.username+" ("+window.user.id+")")})}},this._isEcNotAvailable()||(this._env=Object(r.environment)(),Object(r.isDebug)()&&(this._cookieName+="_"+this._env))}return e.prototype._isEcNotAvailable=function(){return TradingView.onWidget&&TradingView.onWidget()||!window.user},e.prototype._getEc=function(){return this._ec||(this._ec=new window.evercookie({domain:Object(r.isProd)()?".tradingview.com":location.hostname,lso:!1})),this._ec},e.prototype._getLocalEcUid=function(){var e=this;return new Promise(function(t){e._getEc().get(e._cookieName,function(e){t(e)})})},e.prototype._getEcUids=function(){var e=this;return new Promise(function(t,i){var n;e._getLocalEcUid().then(function(e){return n=e,function(e){return new Promise(function(t,i){var n=new FormData;e&&n.append("local_ecuid",e),Object(a.fetch)("/accounts/get-ecuid/",{body:n,credentials:"include",method:"POST"}).then(function(e){if(e.ok)return e.json().catch(function(e){l.logWarn("Error in reponse.json() of /accounts/get-ecuid/. User: "+window.user.username+" ("+window.user.id+")\nActual error: "+e)});throw new Error("Unable to get remote ecuids. Response was not OK")}).then(function(e){t(e)}).catch(function(e){i(e)})})}(e)}).then(function(e){if(void 0===e)throw new Error("getRemoteEcUids() returned no response. User: "+window.user.username+" ("+window.user.id+")");t({isLocalEcUidOld:e.is_local_ecuid_old,localEcUid:n,oldRemoteEcUid:e.ecuid_old,remoteEcUids:e.ecuids})}).catch(function(e){i(e)})})},e}()},"+hLl":function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolBrush";var o=t||n.createProperties();r.call(this,e,o),this._finished=!1,Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("00XE").BrushPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=window.t("Brush");inherit(n,r),n.prototype.pointsCount=function(){return-1},n.prototype.finished=function(){return this._finished},n.prototype.finish=function(){this._finished=!0,this._lastPoint=null,this.normalizePoints(),this.createServerPoints()},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Brush"},n.prototype.hasEditableCoordinates=function(){return!1},n.prototype.percentDistance=function(e,t){return Math.abs((t-e)/e)},n.prototype.addPoint=function(e){var t,i;return!!this._finished||(this._lastPoint=null,this._points.length>0&&(t=this._points[this._points.length-1],i=this.pointToScreenPoint(t)[1],this.pointToScreenPoint(e)[1].subtract(i).length()<2)?this._finished:(r.prototype.addPoint.call(this,e),this._finished))},n.prototype.restorePoints=function(e,t,i){r.prototype.restorePoints.call(this,e,t,i),this._finished=!0},n.prototype.getInputsPropertyPage=function(){return null},n.prototype.getStylesPropertyPage=function(){
return s.LineToolBrushStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("ZSes").BrushDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new o("linetoolbrush",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolBrush=n},"+lbv":function(e){
e.exports=JSON.parse('{"free":{"CHART_STORAGE":{"limit":1},"MULTIPLE_CHARTS":{"limit":1},"INDICATORS_ON_CHART":{"limit":3},"STUDY_ON_STUDY":{"limit":270,"child_limit":1},"SERVER_SIDE_ALERTS":{"limit":1},"SCREENER_ALERTS":{"limit":1},"SCREENER_INTERVALS":{"interval":["1D","1W","1M"]},"STUDY_TEMPLATES":{"limit":1},"SIMULTANEOUS_CONNECTIONS":{"limit":1}},"__legacy_pro":{"CHART_STORAGE":{"limit":99999},"MULTIPLE_CHARTS":{"limit":8},"CUSTOM_INTERVALS":{},"MULTIPLE_WATCHLISTS":{},"IMPORT_WATCHLISTS":{},"EXPORT_WATCHLISTS":{},"INDICATORS_ON_CHART":{"limit":99999},"TV_VOLUMEBYPRICE":{"study_packages":["tv-volumebyprice"]},"STUDY_ON_STUDY":{"limit":270,"child_limit":99999},"TICK_BY_TICK_PUSH_DATA":{},"SERVER_SIDE_ALERTS":{"limit":10},"SCREENER_ALERTS":{"limit":99999},"SCREENER_AUTO_REFRESH":{},"SCREENER_EXPORT_DATA":{},"SCREENER_INTERVALS":{"interval":["1m","5m","15m","1h","4h","1D","1W","1M"]},"SCREENER_REALTIME_IDC":{},"NO_SPONSORED_ADS":{},"STUDY_TEMPLATES":{"limit":99999},"SIMULTANEOUS_CONNECTIONS":{"limit":1},"IDC_AVAILABLE_DELAY":{},"STATUS":{"disable_on_trial":true},"MULTIFLAGGED_SYMBOLS_LISTS":{},"BAR_REPLAY_INTRADAY":{},"SHOWS":{"disable_on_trial":true},"ALERTS_WEBHOOK":{},"DEEP_FUNDAMENTALS_HISTORY":{}},"__legacy_pro_realtime":{"extends":"__legacy_pro","TV_PROSTUDIES":{"study_packages":["tv-prostudies"]},"SERVER_SIDE_ALERTS":{"limit":1000},"CAN_EDIT_PUBLIC_CHATS":{"disable_on_trial":true},"EXPORT_CHART_DATA":{}},"__legacy_pro_premium":{"extends":"__legacy_pro_realtime","ALERTS_TRUE_SMS":{"disable_on_trial":true},"IDEA_SIGNATURE":{"disable_on_trial":true},"PROFILE_WEBSITE_FIELD":{"disable_on_trial":true},"ALERTS_NO_EXPIRATION":{},"PUBLISH_INVITE_ONLY_SCRIPTS":{"disable_on_trial":true},"EXPORT_CHART_DATA":{},"ALERTS_ON_SECONDS":{"disable_on_trial":true}},"pro":{"CHART_STORAGE":{"limit":5},"MULTIPLE_CHARTS":{"limit":2},"CUSTOM_INTERVALS":{},"MULTIPLE_WATCHLISTS":{},"IMPORT_WATCHLISTS":{},"EXPORT_WATCHLISTS":{},"INDICATORS_ON_CHART":{"limit":5},"TV_VOLUMEBYPRICE":{"study_packages":["tv-volumebyprice"]},"STUDY_ON_STUDY":{"limit":270,"child_limit":1},"TICK_BY_TICK_PUSH_DATA":{},"SERVER_SIDE_ALERTS":{"limit":10},"SCREENER_ALERTS":{"limit":99999},"SCREENER_AUTO_REFRESH":{},"SCREENER_EXPORT_DATA":{},"SCREENER_INTERVALS":{"interval":["1m","5m","15m","1h","4h","1D","1W","1M"]},"SCREENER_REALTIME_IDC":{},"NO_SPONSORED_ADS":{},"STUDY_TEMPLATES":{"limit":99999},"SIMULTANEOUS_CONNECTIONS":{"limit":1},"IDC_AVAILABLE_DELAY":{},"STATUS":{"disable_on_trial":true},"BAR_REPLAY_INTRADAY":{},"MULTIFLAGGED_SYMBOLS_LISTS":{},"SHOWS":{"disable_on_trial":true},"ALERTS_WEBHOOK":{},"DEEP_FUNDAMENTALS_HISTORY":{}},"pro_realtime":{"extends":"pro","CHART_STORAGE":{"limit":10},"MULTIPLE_CHARTS":{"limit":4},"INDICATORS_ON_CHART":{"limit":10},"TV_PROSTUDIES":{"study_packages":["tv-prostudies"]},"STUDY_ON_STUDY":{"limit":270,"child_limit":99999},"SERVER_SIDE_ALERTS":{"limit":30},"CAN_EDIT_PUBLIC_CHATS":{"disable_on_trial":true},"SIMULTANEOUS_CONNECTIONS":{"limit":2},"EXPORT_CHART_DATA":{}},"pro_premium":{"extends":"pro_realtime","CHART_STORAGE":{"limit":99999},"MULTIPLE_CHARTS":{"limit":8},"INDICATORS_ON_CHART":{"limit":25},"SERVER_SIDE_ALERTS":{"limit":400},"SIMULTANEOUS_CONNECTIONS":{"limit":5},"ALERTS_TRUE_SMS":{"disable_on_trial":true},"IDEA_SIGNATURE":{"disable_on_trial":true},"PROFILE_WEBSITE_FIELD":{"disable_on_trial":true},"ALERTS_NO_EXPIRATION":{},"PUBLISH_INVITE_ONLY_SCRIPTS":{"disable_on_trial":true},"EXPORT_CHART_DATA":{},"ALERTS_ON_SECONDS":{"disable_on_trial":true}},"pro_mini_alerts":{"extends":"free","SERVER_SIDE_ALERTS":{"limit":30},"SCREENER_ALERTS":{"limit":99999},"SCREENER_REALTIME_IDC":{},"SHOWS":{"disable_on_trial":true},"IDC_AVAILABLE_DELAY":{},"DEEP_FUNDAMENTALS_HISTORY":{}},"pro_mini_ads":{"extends":"free","SCREENER_REALTIME_IDC":{},"NO_SPONSORED_ADS":{},"SHOWS":{"disable_on_trial":true},"IDC_AVAILABLE_DELAY":{},"DEEP_FUNDAMENTALS_HISTORY":{}},"pro_mini_layouts":{"extends":"free","MULTIPLE_CHARTS":{"limit":8},"SCREENER_REALTIME_IDC":{},"SHOWS":{"disable_on_trial":true},"IDC_AVAILABLE_DELAY":{},"DEEP_FUNDAMENTALS_HISTORY":{}},"pro_edu":{"extends":"free","CHART_STORAGE":{"limit":3},"MULTIPLE_CHARTS":{"limit":2},"MULTIPLE_WATCHLISTS":{},"IMPORT_WATCHLISTS":{},"EXPORT_WATCHLISTS":{},"TICK_BY_TICK_PUSH_DATA":{},"SERVER_SIDE_ALERTS":{"limit":5},"SCREENER_ALERTS":{"limit":99999},"SCREENER_REALTIME_IDC":{},"SHOWS":{"disable_on_trial":true},"IDC_AVAILABLE_DELAY":{},"DEEP_FUNDAMENTALS_HISTORY":{}}}')
},"+q2u":function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"PaneRendererCrossShape",function(){return o}),n=i("mrSG"),r=i("2WC2"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype._drawItemShape=function(e,t,i){var n,r,o,s,a=i.width,l=i.height,c=i.x-a/2,u=i.vertOffset,h=i.y-l/2+u,d=t.pixelRatio,p=this._lineWidth(t),f=p%2?.5:0,_=Math.round(c*d),m=Math.round((c+a)*d);(m-_)%2!=p%2&&(m+=1),n=Math.floor((_+m)/2)+f,r=Math.round(h*d),((o=Math.round((h+l)*d))-r)%2!=p%2&&(o+=1),s=Math.floor((r+o)/2)+f,e.moveTo(n,r),e.lineTo(n,o),e.moveTo(_,s),e.lineTo(m,s)},t}(r.c)},"+slJ":function(e,t,i){"use strict";function n(e){return o().then(function(t){return t.hasUserAccessToDataSource(e)})}function r(e){return o().then(function(t){return t.filterAccessibleDataSources(e)})}i.d(t,"b",function(){return n}),i.d(t,"a",function(){return r});var o=function(){return Promise.all([i.e(123),i.e(19),i.e(23),i.e(28),i.e(30),i.e(62),i.e(63),i.e(60),i.e(55),i.e(67),i.e(79),i.e(76),i.e(80),i.e(83),i.e(88),i.e(100),i.e(116),i.e(133),i.e("alert-utils-has-user-access-to-data-source")]).then(i.bind(null,"SlIP"))}},"+wdc":function(e,t,i){"use strict";(function(e){function i(){if(!d){var e=a.expirationTime;p?P():p=!0,w(o,e)}}function n(){var e,t,n,r,o=a,s=a.next;a===s?a=null:(e=a.previous,a=e.next=s,s.previous=e),o.next=o.previous=null,e=o.callback,s=o.expirationTime,o=o.priorityLevel,t=c,n=h,c=o,h=s;try{r=e()}finally{c=t,h=n}if("function"==typeof r)if(r={callback:r,priorityLevel:o,expirationTime:s,next:null,previous:null},null===a)a=r.next=r.previous=r;else{e=null,o=a;do{if(o.expirationTime>=s){e=o;break}o=o.next}while(o!==a);null===e?e=a:e===a&&(a=r,i()),(s=e.previous).next=e.previous=r,r.next=e,r.previous=s}}function r(){if(-1===u&&null!==a&&1===a.priorityLevel){d=!0;try{do{n()}while(null!==a&&1===a.priorityLevel)}finally{d=!1,null!==a?i():p=!1}}}function o(e){var o,s;d=!0,o=l,l=e;try{if(e)for(;null!==a&&(s=t.unstable_now(),a.expirationTime<=s);)do{n()}while(null!==a&&a.expirationTime<=s);else if(null!==a)do{n()}while(null!==a&&!T())}finally{d=!1,l=o,null!==a?i():p=!1,r()}}function s(e){v=g(function(t){m(b),e(t)}),b=_(function(){y(v),e(t.unstable_now())},100)}var a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B,N,F;Object.defineProperty(t,"__esModule",{value:!0}),a=null,l=!1,c=3,u=-1,h=-1,d=!1,p=!1,f=Date,_="function"==typeof setTimeout?setTimeout:void 0,m="function"==typeof clearTimeout?clearTimeout:void 0,g="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,y="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0,"object"==typeof performance&&"function"==typeof performance.now?(S=performance,t.unstable_now=function(){return S.now()}):t.unstable_now=function(){return f.now()},C=null,"undefined"!=typeof window?C=window:void 0!==e&&(C=e),C&&C._schedMock?(x=C._schedMock,w=x[0],P=x[1],T=x[2],t.unstable_now=x[3]):"undefined"==typeof window||"function"!=typeof MessageChannel?(I=null,E=function(e){if(null!==I)try{I(e)}finally{I=null}},
w=function(e){null!==I?setTimeout(w,0,e):(I=e,setTimeout(E,0,!1))},P=function(){I=null},T=function(){return!1}):("undefined"!=typeof console&&("function"!=typeof g&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),L=null,A=!1,O=-1,M=!1,k=!1,D=0,R=33,V=33,T=function(){return D<=t.unstable_now()},B=new MessageChannel,N=B.port2,B.port1.onmessage=function(){var e,i,n,r;if(A=!1,e=L,i=O,L=null,O=-1,n=t.unstable_now(),r=!1,0>=D-n){if(!(-1!==i&&i<=n))return M||(M=!0,s(F)),L=e,void(O=i);r=!0}if(null!==e){k=!0;try{e(r)}finally{k=!1}}},F=function(e){if(null!==L){s(F);var t=e-D+V;t<V&&R<V?(8>t&&(t=8),V=t<R?R:t):R=t,D=e+V,A||(A=!0,N.postMessage(void 0))}else M=!1},w=function(e,t){L=e,O=t,k||0>t?N.postMessage(void 0):M||(M=!0,s(F))},P=function(){L=null,A=!1,O=-1}),t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,i){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=c,o=u;c=e,u=t.unstable_now();try{return i()}finally{c=n,u=o,r()}},t.unstable_next=function(e){var i,n,o;switch(c){case 1:case 2:case 3:i=3;break;default:i=c}n=c,o=u,c=i,u=t.unstable_now();try{return e()}finally{c=n,u=o,r()}},t.unstable_scheduleCallback=function(e,n){var r,o=-1!==u?u:t.unstable_now();if("object"==typeof n&&null!==n&&"number"==typeof n.timeout)n=o+n.timeout;else switch(c){case 1:n=o+-1;break;case 2:n=o+250;break;case 5:n=o+1073741823;break;case 4:n=o+1e4;break;default:n=o+5e3}if(e={callback:e,priorityLevel:c,expirationTime:n,next:null,previous:null},null===a)a=e.next=e.previous=e,i();else{o=null,r=a;do{if(r.expirationTime>n){o=r;break}r=r.next}while(r!==a);null===o?o=a:o===a&&(a=e,i()),(n=o.previous).next=o.previous=e,e.next=o,e.previous=n}return e},t.unstable_cancelCallback=function(e){var t,i=e.next;null!==i&&(i===e?a=null:(e===a&&(a=i),(t=e.previous).next=i,i.previous=t),e.next=e.previous=null)},t.unstable_wrapCallback=function(e){var i=c;return function(){var n=c,o=u;c=i,u=t.unstable_now();try{return e.apply(this,arguments)}finally{c=n,u=o,r()}}},t.unstable_getCurrentPriorityLevel=function(){return c},t.unstable_shouldYield=function(){return!l&&(null!==a&&a.expirationTime<h||T())},t.unstable_continueExecution=function(){null!==a&&i()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return a}}).call(this,i("yLpj"))},"+wtf":function(e,t,i){"use strict";function n(e){var t,i,o,s,a,l,c=e.metaInfo();if(!0===c.historyCalculationMayChange)return r.DataSourceDangerReason.PineRepainting;for(t=0,i=c.inputs.filter(function(e){return"symbol"===e.type}).map(function(e){return e.id});t<i.length;t++)if(o=i[t],s=e.properties().inputs[o].value(),a=e.resolvedSymbolInfoBySymbol(s)){
if("spread"===a.type)return r.DataSourceDangerReason.Spread;if("CRYPTOCAP"===a.exchange)return r.DataSourceDangerReason.CryptoCap}return l=e.ownerSource(),e.isChildStudy()&&l?n(l):null}i.r(t),i.d(t,"getStudyDangerReason",function(){return n});var r=i("PjMa")},"//lt":function(e,t,i){"use strict";var n;i.r(t),i.d(t,"PaneCursorType",function(){return n}),function(e){e[e.Default=0]="Default",e[e.Pointer=1]="Pointer",e[e.Eraser=2]="Eraser",e[e.Dot=3]="Dot",e[e.Grabbing=4]="Grabbing",e[e.ZoomIn=5]="ZoomIn",e[e.VerticalResize=6]="VerticalResize",e[e.HorizontalResize=7]="HorizontalResize"}(n||(n={}))},"/3z9":function(e,t,i){"use strict";function n(e){var t=0;return e.shiftKey&&(t+=1024),e.altKey&&(t+=512),e.ctrlKey&&(t+=256),e.metaKey&&(t+=2048),t}function r(e){return n(e)|e.keyCode}function o(e){var t="";return 256&e&&(t+=l?"^":"Ctrl + "),512&e&&(t+=l?"⌥":"Alt + "),1024&e&&(t+=l?"⇧":"Shift + "),2048&e&&(t+=l?"⌘":"Win + "),t}function s(e){var t=o(e),i=255&e;return t+=i in u?u[i]:String.fromCharCode(i)}var a,l,c,u,h;for(i.r(t),i.d(t,"isMacKeyboard",function(){return l}),i.d(t,"Modifiers",function(){return c}),i.d(t,"modifiersFromEvent",function(){return n}),i.d(t,"hashFromEvent",function(){return r}),i.d(t,"humanReadableModifiers",function(){return o}),i.d(t,"humanReadableHash",function(){return s}),a=i("qFKp"),i.n(a),l=Object(a.isMac)()||a.CheckMobile.iOS(),function(e){e[e.None=0]="None",e[e.Alt=512]="Alt",e[e.Shift=1024]="Shift",e[e.Mod=l?2048:256]="Mod",e[e.Control=256]="Control",e[e.Meta=2048]="Meta"}(c||(c={})),u={9:"⇥",13:"↵",27:"Esc",8:l?"⌫":"Backspace",32:"Space",35:"End",36:"Home",37:"←",38:"↑",39:"→",40:"↓",45:"Ins",46:"Del",191:"/"},h=1;h<=16;h++)u[h+111]="F"+h},"/DxK":function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolHorzLine";var s=t||n.createProperties();this._priceAxisView=new o(this),r.call(this,e,s),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("ckl+").HorzLinePaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("p1SQ").LineToolHorzLinePriceAxisView,s=i("tc+8"),a=i("Ocx9").DefaultProperty,l=i("hayr").propertyPages,c=window.t("Horizontal Line");inherit(n,r),n.prototype.state=function(e){var t=r.prototype.state.call(this,e);return t.points&&0!==t.points.length&&(t.points[0].offset=0),t},n.prototype.pointsCount=function(){return 1},n.prototype.translatedType=function(){return c},n.prototype.name=function(){return"Horizontal Line"},n.prototype.priceAxisViews=function(e,t){return this.isSourceHidden()?null:t===this.priceScale()&&this.properties().showPrice.value()&&this._model.paneForSource(this)===e?[this._priceAxisView]:null},n.prototype.updateAllViews=function(){r.prototype.updateAllViews.call(this),this._priceAxisView.update()},n.prototype.canHasAlert=function(){return!0},n.prototype._getAlertPlots=function(){return[this.points()[0].price]},n.prototype.getInputsPropertyPage=function(){return l.LineToolHorzLineInputsPropertyPage},n.prototype.getStylesPropertyPage=function(){
return l.LineToolHorzLineStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("NEbb").HorizontalLineDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.prototype.template=function(){var e=r.prototype.template.call(this);return e.text=this.properties().childs().text.value(),e},n.prototype._applyTemplateImpl=function(e){r.prototype._applyTemplateImpl.call(this,e),this.properties().childs().text.setValue(e.text)},n.createProperties=function(e){var t=new a("linetoolhorzline",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e),e.hasChild("text")||e.addChild("text",new s("")),e.addExclusion("text")},t.LineToolHorzLine=n},"/Kki":function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"SeriesPrevClosePriceLinePaneView",function(){return s}),n=i("mrSG"),r=i("k4w6"),o=i("8Uy/"),s=function(e){function t(t){var i=e.call(this,t)||this;return i._lineRendererData.linestyle=o.LINESTYLE_DOTTED,i}return Object(n.__extends)(t,e),t.prototype._updateImpl=function(){if(this._lineRendererData.visible=!1,this._series.properties().showPrevClosePriceLine.value()&&!this._series.isDWM()){var e=this._series.prevClose();null!==e&&(this._lineRendererData.visible=!0,this._lineRendererData.y=e.coordinate,this._lineRendererData.color=this._series.properties().prevClosePriceLineColor.value(),this._lineRendererData.width=this._model.timeScale().width(),this._lineRendererData.height=this._series.priceScale().height(),this._lineRendererData.linewidth=this._series.properties().prevClosePriceLineWidth.value())}},t}(r.a)},"/McG":function(e){
e.exports=JSON.parse('{"content":{"chartProperties":{"scalesProperties":{"textColor":"#50535E","lineColor":"#50535E","backgroundColor":"#ffffff"},"paneProperties":{"gridProperties":{"color":"#e1ecf2"},"background":"#ffffff"}},"sessions":{"graphics":{"backgrounds":{"outOfSession":{"color":"#2196F3","transparency":92}},"vertlines":{"sessBreaks":{"color":"#4985e7","style":2,"width":1}}}},"mainSourceProperties":{"baseLineColor":"#B2B5BE","candleStyle":{"borderColor":"#378658","upColor":"#26a69a","wickColor":"#737375","wickUpColor":"#26a69a","wickDownColor":"#ef5350","downColor":"#ef5350","borderUpColor":"#26a69a","borderDownColor":"#ef5350"},"haStyle":{"borderColor":"#378658","upColor":"#26a69a","wickColor":"#737375","wickUpColor":"#26a69a","wickDownColor":"#ef5350","downColor":"#ef5350","borderUpColor":"#26a69a","borderDownColor":"#ef5350"},"barStyle":{"downColor":"#ef5350","upColor":"#26a69a"},"pnfStyle":{"downColor":"#ef5350","upColor":"#26a69a","upColorProjection":"#a9dcc3","downColorProjection":"#f5a6ae"},"baselineStyle":{"baselineColor":"rgba( 117, 134, 150, 1)","topFillColor1":"rgba( 38, 166, 154, 0.28)","topFillColor2":"rgba( 38, 166, 154, 0.05)","bottomFillColor1":"rgba( 239, 83, 80, 0.05)","bottomFillColor2":"rgba( 239, 83, 80, 0.28)","topLineColor":"rgba( 38, 166, 154, 1)","bottomLineColor":"rgba( 239, 83, 80, 1)"},"areaStyle":{"transparency":100,"color1":"rgba(33, 150, 243, 0.28)","color2":"#2196f3","linecolor":"#2196f3","linewidth":2,"linestyle":0},"renkoStyle":{"upColor":"#26a69a","downColor":"#ef5350","borderUpColor":"#26a69a","borderDownColor":"#ef5350","upColorProjection":"#a9dcc3","downColorProjection":"#f5a6ae","borderUpColorProjection":"#a9dcc3","borderDownColorProjection":"#f5a6ae","wickUpColor":"#26a69a","wickDownColor":"#ef5350"},"lineStyle":{"color":"#2196f3","linewidth":2,"linestyle":0},"kagiStyle":{"downColor":"#ef5350","upColor":"#26a69a","upColorProjection":"#a9dcc3","downColorProjection":"#f5a6ae"},"pbStyle":{"upColor":"#26a69a","downColor":"#ef5350","borderUpColor":"#26a69a","borderDownColor":"#ef5350","upColorProjection":"#a9dcc3","downColorProjection":"#f5a6ae","borderUpColorProjection":"#a9dcc3","borderDownColorProjection":"#f5a6ae"},"rangeStyle":{"upColor":"#26a69a","downColor":"#ef5350","upColorProjection":"#a9dcc3","downColorProjection":"#f5a6ae"}}}}')},"/SnT":function(e,t,i){"use strict";function n(e){var t,i,n;if("string"!=typeof e)throw new Error("string cannot be undefined or null");for(t=[],i=0,n=0;i<e.length;)l(e[i+(n+=r(i+n,e))])&&n++,s(e[i+n])&&n++,a(e[i+n])&&n++,c(e[i+n])?n++:(t.push(e.substring(i,i+n)),i+=n,n=0);return t}function r(e,t){var i,n,r=t[e];return function(e){return e&&h(e[0].charCodeAt(0),d,p)}(r)&&e!==t.length-1?(i=r+t[e+1],n=t.substring(e+2,e+5),o(i)&&o(n)?4:function(e){return h(u(e),g,y)}(n)?4:2):1}function o(e){return h(u(e),_,m)}function s(e){return"string"==typeof e&&h(e.charCodeAt(0),v,b)}function a(e){return"string"==typeof e&&h(e.charCodeAt(0),S,w)}function l(e){return"string"==typeof e&&-1!==T.indexOf(e.charCodeAt(0))}function c(e){
return"string"==typeof e&&e.charCodeAt(0)===P}function u(e){var t=e.charCodeAt(0)-d,i=e.charCodeAt(1)-f;return(t<<10)+i+65536}function h(e,t,i){return e>=t&&e<=i}var d=55296,p=56319,f=56320,_=127462,m=127487,g=127995,y=127999,v=65024,b=65039,S=8400,w=8447,P=8205,T=[776,2359,2359,2367,2367,2984,3007,3021,3633,3635,3648,3657,4352,4449,4520];e.exports=n,e.exports.substr=function(e,t,i){var r,o,s=n(e);return void 0===t?e:t>=s.length?"":(r=s.length-t,(o=t+(void 0===i?r:i))>t+r&&(o=void 0),s.slice(t,o).join(""))}},"/ToI":function(e,t,i){"use strict";var n,r,o,s,a;i.r(t),i.d(t,"MoveToNewPriceScaleUndoCommand",function(){return s}),i.d(t,"MoveToExistingPriceScaleUndoCommand",function(){return a}),n=i("mrSG"),r=i("Eyy1"),o=function(e){function t(t,i,n,r){var o=e.call(this,t,i,r)||this;return o._sourcePaneRemoved=!1,o._targetPaneIndex=t.panes().indexOf(n),o}return Object(n.__extends)(t,e),t.prototype.redo=function(){var e,t,i,n,o=this._chartModel.panes()[this._initialPaneIndex],s=this._chartModel.panes()[this._targetPaneIndex],a=o!==s,l=this._targetPriceScale(s),c=Object(r.ensureNotNull)(this._chartModel.dataSourceForId(this._sourceId)),u=this._chartModel.children(c,!0);for(e=0,t=u;e<t.length;e++)i=t[e],a?(this._chartModel.detachSource(i),s.addDataSource(i,l,!1)):s.move(i,l);a?(this._sourcePaneRemoved=this._chartModel.detachSource(c),s.addDataSource(c,l,!1)):s.move(c,l),n=s.priceScalePosition(l),s.movePriceScale(l,n,this._targetPriceScaleIndex(c)),this._chartModel.fullUpdate()},t.prototype.undo=function(){var e,t,i,n,o,s,a;for(this._sourcePaneRemoved&&this._chartModel.createPane(this._initialPaneIndex),t=(e=this._chartModel.panes()[this._initialPaneIndex])!==this._chartModel.panes()[this._targetPaneIndex],i=Object(r.ensureNotNull)(this._chartModel.dataSourceForId(this._sourceId)),null===(n=e.getPriceScaleById(this._initialPriceScaleId))&&(n=e.createPriceScaleAtPosition(this._initialPriceScalePosition,this._initialPriceScaleIndex)),o=0,s=this._chartModel.children(i,!0);o<s.length;o++)a=s[o],t?(this._chartModel.detachSource(a),e.addDataSource(a,n,!1)):e.move(a,n);t?(this._chartModel.detachSource(i),e.addDataSource(i,n,!1)):e.move(i,n),this._chartModel.fullUpdate()},t}(i("3u3j").a),s=function(e){function t(t,i,n,o,s){var a=e.call(this,t,i,n,s)||this;return a._targetPriceScalePosition=o,a._sourceScaleState=Object(r.ensureNotNull)(i.priceScale()).state(),delete a._sourceScaleState.m_isLockScale,delete a._sourceScaleState.id,a}return Object(n.__extends)(t,e),t.prototype._targetPriceScale=function(e){var t=e.createPriceScaleAtPosition(this._targetPriceScalePosition);return t.restoreState(this._sourceScaleState),t},t.prototype._targetPriceScaleIndex=function(e){return e===this._chartModel.mainSeries()?0:void 0},t}(o),a=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i,n,o)||this;return s._targetPriceScaleId=r.id(),s}return Object(n.__extends)(t,e),t.prototype._targetPriceScale=function(e){return Object(r.ensureNotNull)(e.getPriceScaleById(this._targetPriceScaleId))},t.prototype._targetPriceScaleIndex=function(e){},t}(o)},
"/Y2c":function(e,t,i){"use strict";(function(t){var n=i("Eyy1").assert,r=i("VNzU").layouts,o=i("Zo2/"),s=i("qFKp"),a=s.supportTouch,l=i("qFKp").isIE,c=i("qFKp").isEdge,u=i("x8jL").createUndoHistory,h=i("mMWL"),d=i("lxNp"),p=i("/3z9"),f=i("FQhm"),_=i("l7mP"),m=i("Kxc7"),g=i("ijBy").SetChartLayoutCommand,y=i("hY0g"),v=i("HySD").ResizerDetacherState,b=i("HV/F").delegateToPromise,S=i("sEk5"),w=i("lJvs"),P=i("uOxu").getLogger("Chart.ChartWidgetCollection"),T=i("PC8g").trackEvent,C=i("wamh").ChangeToolBarsThemeUndoCommand,x=i("EsvI").getCurrentTheme,I=i("ULlu").unwrap,E=i("dfhE"),L=i("vPbs").CollectionViewMode,A=i("ZbcA").tvToasts,O=i("33OQ"),M=i("2jAL").SwapChartsUndoCommand,k=i("Qf4T"),D=i("NP3r").enabled,R=i("NP3r").getConfig,V=i("bKsZ").ProductFeatures,B=i("s4+V"),N=i("dBCn").TimingsMeter,F=i("LBej"),j=i("xtHi").detachToPopup,W=i("xtHi").screenBox,U=i("poeh").pushChartPage,H=i("+GxX").isFeatureEnabled,z=i("HWna").reconnectChartApi,G=i("K55a").marketStatusText,Y={saveChartEnabled:!0,takeScreenshotEnabled:!0},q=H("hide_interval_exchange_legend");e.exports=function(e){function s(){gt.forEach(function(e){e.chartWidget.onZoom().unsubscribeAll(this)})}function X(){var e=pt+ft,t=qe?qe.offsetHeight:0;return{width:Re.value()-2*e,height:Ve.value()-ht-t-e,top:ht,left:e}}function K(){return H("save_all_charts_in_layout")?gt.length+Te.length:r[wt].count}function Q(e,t,i,n){return e<gt.length?gt[e].chartWidget.state(t,i,n):Te[e-gt.length].content}function Z(){var e,t;for(e=Be?[Be]:gt.slice(0,St.count).filter(function(e){return!e.hiddenInLayout.value()}),t=0;t<e.length;t++)J(e[t],t,e.length)}function J(e,t,i){var n=St.sizer(X(),t,i,dt+ft);n.width=Math.max(Math.round(n.width),0),n.height=Math.max(Math.round(n.height),0),n.top=Math.round(n.top),n.left=Math.round(n.left),e.metrics=n,$(e.container.value()).css(n),q&&$(e.container.value()).toggleClass("single-visible",1===i),e.width.setValue(n.width),e.height.setValue(n.height)}function ee(e,t){ut.mobileForceChartMaximizeEnabled&&(!Je.includes(O.device)||t&&Je.includes(t)?Je.includes(O.device)||t&&!Je.includes(t)||(Qe=!1,!Ze&&window.is_authenticated&&oe(null)):(Qe=!0,window.is_authenticated&&Pt.value()===L.ForceFullscreen&&(Ze=Be,_t.value().requestFullscreen())))}function te(e){return e.rdState.owner.value()!==e}function ie(e){function t(){s.visible.setValue(!s.hiddenInLayout.value()&&ut.resizerBridge.visible.value())}var n,r,s;return e=Object.assign({chartWidgetCollection:ct,isActive:0===gt.length,barsMarksContainersFactory:ne,undoHistory:We,readOnly:mt,initialLoading:Ie},e||{}),r=$(document.createElement("div")).addClass("chart-container").appendTo(He).css({position:"absolute",overflow:"hidden"}),(l||c)&&r.css({"touch-action":"none","-ms-touch-action":"none"}),ut.className&&r.addClass(ut.className),(s={alive:new y(!0),container:new y(I(r)),width:new y,height:new y,hiddenInLayout:new y(!1),visible:new y,rdState:new v,detach:function(){j(s.rdState,Object.assign({title:window.t("Detached chart")},W(s.rdState.bridge().container.value())))},requestFullscreen:function(){vt.value()&&(oe(s),
_t.setValue(s.chartWidget))},exitFullscreen:function(){_t.value()===s.chartWidget&&oe(null)},detachable:vt,fullscreenable:vt,fullscreen:new y}).rdState.pushOwner(s),s.rdState.owner.subscribe(function(e){e!==s&&(Promise.all([i.e(268),i.e("detached-chart-message")]).then(function(e){i("9g5h").show(s.rdState.bridge().container.value())}.bind(null,i)).catch(i.oe),T("GUI","Chart detached")),Be===s&&oe(null),se(wt)}),gt.push(s),s.hiddenInLayout.subscribe(t),ut.resizerBridge.visible.subscribe(t),t(),function(e){var t,i=0,n=0;for(t=0;t<St.count;t++)gt[t]&&te(gt[t])||(gt[t]===e&&(n=i),i++);J(e,n,i)}(s),Object.assign(e,s.rdState.bridge()),s.chartWidget=n=new o.ChartWidget(e),mt||(s.timingsMeter=new N(String(gt.length-1)),s.chartWidget.setTimingsMeter(s.timingsMeter)),e.containsData?n.finishInitWithoutConnect():n.connect(),n.withModel(null,function(){var e=n.model().model();rt.forEach(function(t,i){e.addCustomSource(i,t)})}),ae(),le(),Ge.fire(n),n}function ne(e){var t,i,n,r=[];return m.enabled("charting_library_base")?(i=new S(e),r.push(i),n=new w(e),r.push(n)):m.enabled("widget")||(t=new F(e,re),r.push(t)),r}function re(e){e=Object.assign({},e,{chartWidgetCollection:ct}),U(e)}function oe(e){Be!==e&&(Be=e,se(wt))}function se(e){function t(){gt.every(function(e){return null!==e.chartWidget.model()})&&(ae(),f.emit("layout_changed"))}function i(){t()}function n(e){ie(Object.assign({},Ne,Te.shift()||(_t.value()?{content:_t.value().state()}:null)||{},0===e||Ee.value()?{}:{defSymbol:null})).modelCreated().subscribe(null,i,!0)}function o(e){e.hiddenInLayout.setValue(!0),$(e.container.value()).detach(),e.fullscreen.setValue(!1)}var a,l,c,u,h,d;e in r||(e="s"),s(),a=wt,l=r[e].count,f.emit("layout_about_to_be_changed",e),wt=e,St=r[e];for(c=l;c<gt.length;c++)te(u=gt[c])&&u.rdState.bridge().attach();for(Qe&&Pt.value()===L.ForceFullscreen?Be?((h=gt.indexOf(Be))<0||h>=l)&&(Be=gt[0]):Be=gt[0]:a!==e&&Be&&(Be=null),Be&&_t.setValue(Be.chartWidget),c=0;c<l||c<gt.length;c++)u=gt[c],(Be?Be!==u:!(c<l)||u&&te(u))?u?o(u):Qe&&Pt.value()===L.ForceFullscreen&&(n(c),o(gt[c])):(u?(He.append($(u.container.value())),u.hiddenInLayout.setValue(!1),xe&&(d=Te.shift())&&(Ce=!0,u.chartWidget.loadContent(d.content,Ie),Ce=!1)):(n(c),u=gt[c]),$(u.container.value()).toggleClass("multiple",l>1),u.fullscreen.setValue(Be===u));Z(),ae(),function(){for(var e=St.count,t=e,i=0;i<e;i++)gt[i]&&te(gt[i])&&t--;bt.setValue(t),vt.setValue(t>1)}(),t(),gt.forEach(function(e){e.chartWidget.onZoom().subscribe(this,function(e){Ye.fire(e)})}),bt.value()<1&&l>0&&gt[l-1].rdState.bridge().attach()}function ae(){var e,t=Math.min(St.count,gt.length)-1;t<0?_t.deleteValue():((e=yt)<0&&(e=0),e>t&&(e=t),_t.setValue(gt[e].chartWidget))}function le(){var e,t;for(e=gt.length;e--;)t=e===yt,$(gt[e].container.value()).toggleClass("active",t).toggleClass("inactive",!t)}function ce(e,t){var i,n=gt.slice(0,St.count).filter(function(e){return!te(e)}).map(function(e,t,i){return{def:e,metrics:St.sizer({top:0,left:0,width:256,height:256},t,i.length,0)}}).sort(function(e,t){
return e.metrics.top-t.metrics.top||e.metrics.left-t.metrics.left}).map(function(e){return e.def});return n.length<2?null:-1===(i=n.indexOf(e))?null:n[i=(i+(t?n.length-1:1))%n.length]}function ue(){var e=ce(gt[yt],!1);e&&(_t.setValue(e.chartWidget),Be&&se(wt))}function he(e,t){var i,n,r,o;if(i=gt.findIndex(function(t){return t.chartWidget===e}),n=gt.findIndex(function(e){return e.chartWidget===t}),-1===i||-1===n)throw new Error("chart is not in the layout");r=gt[i],o=gt[n],gt[i]=o,gt[n]=r,yt===i?yt=n:yt===n&&(yt=i),Z()}function de(e){var t=e.mainSeries().properties();t.style.subscribe(null,pe),pe(t.style),e.model().onSelectedSourceChanged().subscribe(null,fe),fe(e.selection().sources())}function pe(e){et.setValue(e.value())}function fe(){var e=it.model();tt.setValue(e.selection().sources())}function _e(e){var t,i,n,r=!1;for(t=0;t<gt.length;t++)(n=(i=gt[t].chartWidget).model())&&(n.mainSeries().properties().symbol.value()!==e||m.enabled("same_data_requery"))&&(r||(We.beginUndoMacro("Change Symbol"),r=!0),i.setSymbol(e));r&&We.endUndoMacro()}function me(){var e={snapshotUrl:ut.snapshotUrl},t=m.enabled("show_dialog_on_snapshot_ready")?_.getImageOfChart:_.getImageOfChartSilently;t(ct,e,function(e){f.emit("onScreenshotReady",e)})}function ge(e){if(0!==gt.length){for(var t=gt.length;t--;)gt[t].chartWidget.setActive(!1);gt[yt].chartWidget.setActive(e)}}function ye(e){var t,i,n,o,s;if(m.enabled("charting_library_base"))return e;if("s"===e||Ne.containsData||mt||D(V.MULTIPLE_CHARTS)&&R(V.MULTIPLE_CHARTS).limit>=r[e].count)return e;for(o in t="s",i=1,n=R(V.MULTIPLE_CHARTS).limit,r)r.hasOwnProperty(o)&&(s=r[o].count)<=n&&s>i&&(t=o,i=s);return k("multipleCharts"),B.createGoProDialog({feature:"multipleCharts"}).then(function(e){e.open()}),t}function ve(e,t){var i,n;if(xe=!0,Ie=Boolean(t),Te=[],e){for(e.charts||(e={layout:"s",charts:[e]}),wt=ye(e.layout||"s"),i=0;i<e.charts.length;i++)n=e.charts[i],Te.push({content:n});e.symbolLock&&Ee.setValue(!0),e.intervalLock&&Le.setValue(!0),e.trackTimeLock&&Ae.setValue(!0)}De.setValue(wt),se(wt),h.init(),h.properties().magnet.subscribe(null,be),h.tool.subscribe(we),h.tool.subscribe(Se),xe=!1,Ie=!1}function be(e){var t,i,n,r;e.value()&&null===ot&&(t=window.t("Magnet Mode is On"),i=window.t("Drawing anchors will be snapped to the closest OHLC values of nearby bars"),n="success",(ot=A.toast({title:t,text:i,type:n,time:r})).dfd.always(function(){ot=null}))}function Se(){var e=_t.value();gt.forEach(function(t){t.chartWidget!==e&&t.chartWidget.updateCrossHairPositionIfNeeded()}),e&&e.updateCrossHairPositionIfNeeded()}function we(){gt.forEach(function(e){e.chartWidget.onToolChanged()})}function Pe(){0==--st&&f.emitOnce("onChartReady")}var Te,Ce,xe,Ie,Ee,Le,Ae,Oe,Me,ke,De,Re,Ve,Be,Ne,Fe,je,We,Ue,He,ze,Ge,Ye,qe,Xe,Ke,Qe,Ze,Je,$e,et,tt,it,nt,rt,ot,st,at,lt,ct=this,ut=Object.assign({},Y,e),ht=1,dt=2,pt=0,ft=0,_t=new y,mt=ut.readOnly||!1,gt=[],yt=0,vt=new y,bt=new y,St=null,wt="s",Pt=new y;Pt.setValue(L.ForceFullscreen),Te=[],Ce=!1,xe=!1,Ie=!1,Ee=new y(!1),Le=new y(!1),Ae=new y(!1),
Oe=new y(TVSettings.getBool("chart.syncCrosshair",!0)),Me=d.createGroup({desc:"Layout"}),ke=Oe.value(),Oe.subscribe(function(e){var t,i;for(ke=e=!!e,TVSettings.setValue("chart.syncCrosshair",e),t=0;t<gt.length;++t)(i=gt[t].chartWidget.model())&&i.model().lightUpdate()}),De=new y(wt),Re=ut.resizerBridge.width,Ve=ut.resizerBridge.height,Be=null,"padding"in ut&&(dt=ut.padding),"topOffset"in ut&&(ht=ut.topOffset),"edge"in ut&&(pt=ut.edge),"border"in ut&&(ft=ut.border),Ne=ut.widgetOptions||{},Fe=ut.metaInfo||{},je={id:new y(Fe.id||null),name:new y(Fe.name),description:new y(Fe.description),username:new y(Fe.username),uid:new y(Fe.uid),lastModified:new y(Fe.lastModified)},Ue=function(e){f.emit("undo_redo_state_changed",e)},(We=u()).onChange().subscribe(null,Ue),He=$(ut.resizerBridge.container.value()).eq(0),ze=$.Deferred(),Ge=new t,Ye=new t,qe=null,Xe=null,Ke=null,ut.seriesControlBarEnabled&&(lt=pt+ft+"px",(qe=document.createElement("div")).style.left=lt,qe.style.right=lt,qe.style.bottom=lt,qe.classList.add("chart-toolbar","chart-controls-bar"),He[0].appendChild(qe),Promise.all([i.e("vendors_embed"),i.e(2),i.e(12),i.e(16),i.e(48),i.e(65),i.e(74),i.e(161),i.e(195),i.e(11),i.e(13),i.e(52),i.e(143),i.e("chart-bottom-toolbar")]).then(function(e){var n,r=i("MfqI").BottomToolbarRenderer,o=ut.resizerBridge,s=[o.container.spawn(),o.width.spawn(),o.height.spawn()],a=o.container.value(),l=function(){var e=a.getBoundingClientRect(),t=X();return t.top=e.top+t.top,t.left=e.left+t.left,t},c=new t,u=function(){c.fire()};s.forEach(function(e){e.subscribe(u)}),n=function(){s.forEach(function(e){e.destroy()}),c.destroy()},Xe=new r(qe,c,l,ct,ChartApiInstance,Ne,ut.seriesControlBar),Ke=function(){null!==Xe&&(Xe.destroy(),Xe=null,qe.remove(),qe=null),n()}}.bind(null,i)).catch(i.oe)),A.setToastContainerPosition(He),Re.subscribe(Z),Ve.subscribe(Z),this.updateLayout=Z,Qe=!1,Je=["phone","phone-vertical"],$e=new t,et=new y,tt=new y,it=null,_t.subscribe(function(e){var t,i;if(e){for(i=gt.length;i--;)if(gt[i].chartWidget===e){t=i;break}if(!isFinite(t))throw new Error("Cannot make detached ChartWidget active");if(yt!==t){for(Be&&(te(gt[t])||(Be=gt[t])),yt=t,le(),i=gt.length;i--;)gt[i].chartWidget!==e&&gt[i].chartWidget.setActive(!1);Se(),e.setActive(!0)}!function(e){var t,i;it!==e&&(it&&(it.modelCreated().unsubscribe(null,de),(t=it.model())&&(t.mainSeries().properties().style.unsubscribe(null,pe),t.model().onSelectedSourceChanged().unsubscribe(null,fe),it=null)),e&&(it=e,(i=e.model())?de(i):e.modelCreated().subscribe(null,de)))}(e)}},{callWithLast:!0}),nt=!1,mt||Me.add({desc:"Switch active chart",hotkey:9,handler:ue}),ut.takeScreenshotEnabled&&Me.add({desc:"Screenshot",hotkey:p.Modifiers.Alt+83,handler:me}),ut.saveChartEnabled&&Me.add({desc:"Save Chart Layout",hotkey:p.Modifiers.Mod+83,handler:function(){$e.fire()}}),rt=new Map,Object.assign(this,{createChartWidget:ie,getAll:function(){return gt.map(function(e){return e.chartWidget})},destroy:function(){ge(!1),null!==Ke&&(Ke(),Ke=null),s(),gt.forEach(function(e){
void 0!==e.timingsMeter&&e.timingsMeter.destroy(),e.chartWidget.destroy()}),ut.resizerBridge.remove(),$(window).off("resize",Z),$(document).off("onUpdate",Z),ut.mobileForceChartMaximizeEnabled&&O.off("changeDevice",ee),A.destroy(),h.properties().magnet.unsubscribe(null,be),h.tool.unsubscribe(Se),h.tool.unsubscribe(we),ze.resolve(),He.remove(),rt.clear(),Me.destroy()},layout:De,activeChartWidget:_t,viewMode:Pt,activeChartStyle:et.readonly(),trySetChartStyleToActiveWidget:function(e){var t=_t.value();return!!t&&t.trySetChartStyle(e)},selectedSources:tt.readonly(),metaInfo:je,state:function(e,t,i){var n,r,o=[],s=K();for(n=0;n<s;n++)o.push(Q(n,e,t,i));return r={name:ct.metaInfo.name.value(),layout:wt,charts:o},Ee.value()&&(r.symbolLock=1),Le.value()&&(r.intervalLock=1),Ae.value()&&(r.trackTimeLock=1),r},asyncState:function(){var e,t,i=[],n=K();for(e=0;e<n;e++)i.push((t=e)<gt.length?gt[t].chartWidget.asyncState():Promise.resolve({}));return Promise.all(i).then(function(e){var t,i={charts:[]};for(t=0;t<e.length;t++)i.charts.push(e[t]);return i})},readOnly:function(){return mt},onZoom:function(){return Ye},lock:{symbol:Ee,setSymbolLockWithUndo:function(e){var t,i,n,r;if(e!==Ee.value()){if(We.beginUndoMacro("Symbol Lock"),e)for(i=(t=_t.value()).getSymbol(),n=0;n<gt.length;n++)(r=gt[n].chartWidget)!==t&&r.getSymbol()!==i&&r.setSymbol(i);We.setWatchedValue(Ee,e,"Symbol Lock"),We.endUndoMacro()}},interval:Le,setIntervalLockWithUndo:function(e){var t,i,n,r;if(e!==Le.value()){if(We.beginUndoMacro("Interval Lock"),e)for(i=(t=_t.value()).getResolution(),n=0;n<gt.length;n++)(r=gt[n].chartWidget)!==t&&r.getResolution()!==i&&r.setResolution(i);We.setWatchedValue(Le,e,"Resolution Lock"),We.endUndoMacro()}},crosshair:Oe,trackTime:Ae,setTrackTimeWithUndo:function(e){Ae.value()!==e&&We.setWatchedValue(Ae,e,"Track Time")}},setSymbol:function(e){Ee.value()?_e(e):_t.value().setSymbol(e)},setResolution:function(e){var t,i,n;if(!Ce&&!nt)if(Le.value()){for(t=!1,i=0;i<gt.length;i++)(n=gt[i].chartWidget).model().mainSeries().properties().interval.value()!==e&&(t||(We.beginUndoMacro("Change Resolution"),t=!0),n.setResolution(e));t&&We.endUndoMacro()}else _t.value().setResolution(e)},setTimeFrame:function(e){var t,i,n;if(!Ce&&!nt){if(nt=!0,Le.value())for(t=0;t<gt.length;t++)n=(i=gt[t].chartWidget).model().model().appliedTimeFrame().state(),e.res===n.res&&e.val===n.val||i.loadRange(e);else _t.value().loadRange(e);nt=!1}},updateLayout:Z,setChartLayoutWithUndo:function(e){return e=ye(e),De.value()!==e&&(We.pushUndoCommand(new g(ct,e)),!0)},images:function(e){var t,i,n,r=Math.max(1,window.devicePixelRatio||1);if(e&&e.onlyActiveChart||Be)return{layout:"s",hidpiRatio:r,theme:x().name,charts:[_t.value().images()]};for(t=[],i=St.count,n=0;n<gt.length&&n<i;n++)t.push(gt[n].chartWidget.images());return{layout:wt,hidpiRatio:r,theme:x().name,charts:t}},tags:function(){var e,t=[];for(e=0;e<gt.length&&e<St.count;e++)t=t.concat(gt[e].chartWidget.tags());return t=$.unique(t),t=$.map(t,function(e){
return e.toLowerCase().replace(/\W+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")})},syncCrosshair:function(e,t,i,n){var r,o,s,a;if(i||ke)for(r=St.count,o=0;o<gt.length&&o<r;o++)(s=gt[o].chartWidget)!==t&&gt[o].rdState.bridge().visible.value()&&(a=s.model())&&a.model().setExternalPosition(e,n)},syncScroll:function(e,t){var i,n,r,o;if(Ae.value()){for(i=St.count,We.beginUndoMacro("Sync Time"),n=0;n<gt.length&&n<i;n++)if(r=gt[n].chartWidget.model()){if((o=r.model())===t)continue;o.syncTimeWithModel(t,e)}We.endUndoMacro()}},setSymbolAll:_e,clearChartMetaInfo:function(){je.id.setValue(null),je.uid.setValue(void 0),je.name.setValue(void 0)},takeScreenshot:me,loadContent:ve,purgeUnusedWidgets:function(){for(var e=r[wt].count;e<gt.length;e++)gt[e].chartWidget.destroy();gt.splice(r[wt].count)},applyOverrides:function(e){for(var t=0;t<gt.length;t++)gt[t].chartWidget.applyOverrides(e)},applyStudiesOverrides:function(e){for(var t=0;t<gt.length;t++)gt[t].chartWidget.applyStudiesOverrides(e)},switchChart:ue,startFullscreen:function(){ut.resizerBridge.requestFullscreen()},exitFullscreen:function(){ut.resizerBridge.exitFullscreen()},destroyPromise:function(){return ze.promise()},chartWidgetCreated:function(){return Ge},saveKeysPressed:function(){return $e},getContainer:function(){return He},onWidget:Ne.onWidget,applyTheme:function(e,t,i,n,r,o,s){var a,l;void 0===o&&(o=!0),a=x().name,l=t?[{chartWidget:_t.value()}]:gt,s?(r&&new C(a,n,o).redo(),l.forEach(function(t){t.chartWidget._model.model().restoreTheme(e,i,s)})):(We.beginUndoMacro("Apply Chart Theme"),r&&We.pushUndoCommand(new C(a,n,o)),l.forEach(function(t){t.chartWidget._model.model().restoreTheme(e,i)}),We.endUndoMacro())},setActive:ge,inlineChartsCount:bt.readonly(),revertToInline:function(){if(!Qe||Pt.value()!==L.ForceFullscreen){oe(null);for(var e=0;e<gt.length;e++)gt[e].rdState.bridge().attach()}},chartMarketStatuses:function(){return gt.map(function(e){var t,i;return null!==(i=(t=e.chartWidget.model())?t.mainSeries().marketStatusModel():null)?G(i.status()):"-"})},chartSeriesStatuses:function(){return gt.map(function(e){var t=e.chartWidget.model(),i=t?t.mainSeries().status():null,n=null===i?"":E.SERIES_STATUS_TEXT[i];return n+" ("+i+")"})},undoHistory:We,showAddCompareDialog:function(){var e=this;return Promise.all([i.e("dialogs-core"),i.e(0),i.e(1),i.e(7),i.e(47),i.e(90),i.e(124),i.e(228),i.e(6),i.e(42),i.e("add-compare-dialog")]).then(i.t.bind(null,"tkV1",7)).then(function(t){var i=t.AddCompareDialog,n=new i(e);return n.show()})},applyPreferencesToAllCharts:function(e){var t=e.model().preferences();gt.forEach(function(i){i.chartWidget._model!==e&&i.chartWidget._model.applyPreferences(t)})},addCustomSource:function(e,t){var i,r;for(n(!rt.has(e),"Cannot create the same custom source multiple times"),rt.set(e,t),i=0;i<gt.length;++i)(r=gt[i].chartWidget.model())&&r.model().addCustomSource(e,t)},removeCustomSource:function(e){var t,i;for(n(rt.has(e),"Cannot remove not created custom source"),rt.remove(e),
t=0;t<gt.length;++t)(i=gt[t].chartWidget.model())&&i.model().removeCustomSource(e)},setViewMode:function(e){Pt.setValue(e)},moveActiveChartWithUndo:function(e){var t,i;(i=ce(t=gt[yt],e))&&We.pushUndoCommand(new M(he,t.chartWidget,i.chartWidget))},activeChartCanBeMoved:function(){return!(mt||bt.value()<2||te(gt[yt]))},generalPropertiesDefinitions:function(){return _t.value().generalPropertiesDefinitions()},reconnectChartApi:function(e){z(e)}}),ot=null,ve(ut.content,!0),De.subscribe(function(e){le(),se(e)}),De.hook=function(e){return e===this.value()?e:ye(e)},mt&&(De.writeLock=!0),$(window).on("resize",Z),$(document).on("onUpdate",Z),ut.mobileForceChartMaximizeEnabled&&(O.on("changeDevice",ee),ee()),m.enabled("datasource_copypaste")&&ut.globalEvents&&(Me.add({desc:"Paste sources",hotkey:d.Modifiers.Mod+86,handler:function(){_t.value().onAppClipboardPaste()}}),Me.add({desc:"Copy sources",hotkey:d.Modifiers.Mod+67,handler:function(){_t.value().onAppClipboardCopy()}}),Me.add({desc:"Cut sources",hotkey:d.Modifiers.Mod+88,handler:function(){_t.value().onAppClipboardCut()}}),p.isMacKeyboard||(Me.add({desc:"Paste sources",hotkey:d.Modifiers.Shift+45,handler:function(){_t.value().onAppClipboardPaste()}}),Me.add({desc:"Copy sources",hotkey:d.Modifiers.Mod+45,handler:function(){_t.value().onAppClipboardCopy()}}),Me.add({desc:"Cut sources",hotkey:d.Modifiers.Shift+46,handler:function(){_t.value().onAppClipboardCut()}}))),st=0,gt.forEach(function(e){if(e){st++;var t=e.chartWidget;t.withModel(null,function(){var e,i,n=t.model().mainSeries();n.bars().size()>0||n.status()===E.STATUS_INVALID_SYMBOL||n.status()===E.STATUS_NO_BARS?Pe():(e=n.dataEvents(),i=function(){Pe(),e.barReceived().unsubscribe(null,i),e.completed().unsubscribe(null,i),e.error().unsubscribe(null,i)},e.barReceived().subscribe(null,i),e.completed().subscribe(null,i),e.error().subscribe(null,i))})}}),a()&&(at=h.tool.setValue,h.tool.setValue=function(){ct.selectedSources.value()&&ct.activeChartWidget.value().model().lineBeingCreated()&&ct.activeChartWidget.value().model().cancelCreatingLine(),at.apply(h.tool,arguments)}),Promise.all(gt.map(function(e){return b(e.chartWidget.modelCreated()).promise})).then(function(){return Promise.all(gt.map(function(e){return b(e.chartWidget.model().mainSeries().dataEvents().symbolResolved()).promise}))}).then(function(){window.saver&&window.is_authenticated&&ut.widgetOptions.justCloned&&window.saver.saveChartSilently()}).catch(P.logError.bind(P))}}).call(this,i("aIyQ"))},"/YGI":function(e,t,i){"use strict";var n,r,o,s,a,l,c;i.r(t),i.d(t,"StudyInserter",function(){return c}),n=i("mrSG"),r=i("0YCj"),o=i.n(r),s=i("XuOW"),a=i("uOxu"),l=Object(a.getLogger)("Chart.Studies.StudyInserter"),c=function(){function e(e,t,i){this._parentSource=void 0,this._propsState=void 0,this._preferredPriceScale=void 0,this._paneSize=void 0,this._forceOverlay=!1,this._studyMetaInfoRepository=t,this._inserterImpl=i,this._studyDescriptor=e}return e.prototype.setParentSource=function(e){this._parentSource=e||void 0},e.prototype.setPaneSize=function(e){
this._paneSize=e},e.prototype.setPreferredPriceScale=function(e){this._preferredPriceScale=e},e.prototype.setForceOverlay=function(e){this._forceOverlay=e},e.prototype.setPropertiesState=function(e){this._propsState=e},e.prototype.insert=function(e,t){return Object(n.__awaiter)(this,void 0,void 0,function(){var i,r,o,a,c,u,h;return Object(n.__generator)(this,function(d){switch(d.label){case 0:p=this._inserterImpl,i=void 0!==p.createStub&&void 0!==p.removeStub?this._inserterImpl.createStub():null,r=!0,d.label=1;case 1:return d.trys.push([1,3,4,5]),[4,this._studyMetaInfoRepository.findById(this._studyDescriptor)];case 2:return o=d.sent(),[3,5];case 3:return d.sent(),l.logWarn("Cannot get study "+JSON.stringify(this._studyDescriptor)),[2,Promise.reject(s.InsertionErrorCode.CannotGetMetainfo)];case 4:return null!==i&&(r=this._inserterImpl.removeStub(i)),[7];case 5:return r?void 0!==t&&t.cancelled?[2,Promise.reject(s.InsertionErrorCode.Cancelled)]:this._canApplyStudyToParent(o)?(a=Object(n.__assign)({},o.defaults.inputs),void 0===e?[3,7]:[4,e(a,o.inputs,o)]):[2,Promise.reject(s.InsertionErrorCode.StudyCannotBeChild)]:[2,Promise.reject(s.InsertionErrorCode.StubWasRemoved)];case 6:return u=d.sent(),[3,8];case 7:u={},d.label=8;case 8:return c=u,void 0!==t&&t.cancelled?[2,Promise.reject(s.InsertionErrorCode.Cancelled)]:null===(h=this._insertStudy(o,c))?[2,Promise.reject(s.InsertionErrorCode.Unknown)]:[2,h]}var p})})},e.prototype._insertStudy=function(e,t){return this._inserterImpl.createStudy(e,t,null,this._propsState,this._forceOverlay,this._parentSource,this._preferredPriceScale,this._paneSize)},e.prototype._canApplyStudyToParent=function(e){return void 0===this._parentSource||o.a.canBeChild(e)},e}()},"/b+7":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 13" width="22" height="13"><path fill="#37A6EF" fill-rule="nonzero" d="M19.354 4.932c.379.55.611 1.207.642 1.918A3.007 3.007 0 0 1 22 9.686a3.003 3.003 0 0 1-3 3.006H4a3.983 3.983 0 0 1-2.814-1.16l6.363-5.048a1.657 1.657 0 0 0 1.495.037l3.034 2.66a1.672 1.672 0 0 0 1.589 2.175 1.668 1.668 0 0 0 1.552-2.28l4.135-4.144zm-.942-.945L14.276 8.13a1.66 1.66 0 0 0-1.32.044l-3.034-2.66A1.672 1.672 0 0 0 8.333 3.34a1.668 1.668 0 0 0-1.611 2.097l-6.316 5.01A3.999 3.999 0 0 1 0 8.683a4.004 4.004 0 0 1 4.041-4.008A5.338 5.338 0 0 1 9.333 0a5.337 5.337 0 0 1 5.124 3.857 3.644 3.644 0 0 1 1.876-.517c.772 0 1.488.239 2.079.647z"/></svg>'},"/hKg":function(e,t,i){"use strict";var n,r,o,s,a;i.r(t),i.d(t,"PaneRendererCandles",function(){return a}),n=i("Eyy1"),r=i("VdBB"),o=i("gAom"),s=i("Zp/P"),a=function(){function e(e){this._bars=[],this._barSpacing=1,this._barWidth=1,this._borderVisible=!1,this._barBorderWidth=1,this._wickVisible=!1,this._bodyVisible=!0,this._borderColor=void 0,this._wickColor=void 0,this._hittest=void 0,e&&this.setData(e)}return e.prototype.setData=function(e){this._bars=e.bars,this._barSpacing=e.barSpacing,this._borderVisible=e.borderVisible,this._bodyVisible=e.bodyVisible,this._wickVisible=e.wickVisible,this._borderColor=e.borderColor,
this._wickColor=e.wickColor,this._hittest=e.hittest},e.prototype.hitTest=function(e){var t,i,n,o,a,l,c,u=this._bars,h=.5*this._barSpacing;if(0===u.length)return null;if(e.x<u[0].time-h)return null;if(e.x>u[u.length-1].time+h)return null;for(t=null,i=0,n=u;i<n.length;i++)if(o=n[i],e.x<=o.time+h){t=o;break}return null===t?null:(a=Object(s.selectionTolerance)(this._barBorderWidth),l=Math.min(t.high,t.low),c=Math.max(t.high,t.low),l-a<=e.y&&e.y<=c+a?this._hittest||new r.HitTestResult(r.HitTestResult.REGULAR):null)},e.prototype.draw=function(e,t){var i;0!==this._bars.length&&(i=t.pixelRatio,this._barWidth=Object(s.optimalCandlestickWidth)(this._barSpacing,i),this._barWidth>=2&&Math.floor(i)%2!=this._barWidth%2&&this._barWidth--,this._wickVisible&&this._drawWicks(e,i),this._borderVisible&&this._drawBorder(e,i),this._bodyVisible&&this._drawCandles(e,i))},e.prototype._drawWicks=function(e,t){var i,r,o,s,a,l,c,u,h,d,p=this._bars,f="",_=Math.min(Math.floor(t),Math.floor(this._barSpacing*t));for(_=Math.max(Math.floor(t),Math.min(_,this._barWidth)),i=Math.floor(.5*_),r=0,o=p;r<o.length;r++)(a=(s=o[r]).wickColor?s.wickColor:Object(n.ensureDefined)(this._wickColor))!==f&&(e.fillStyle=a,f=a),l=Math.round(Math.min(s.open,s.close)*t),c=Math.round(Math.max(s.open,s.close)*t),u=Math.round(s.high*t),h=Math.round(s.low*t),d=Math.round(t*s.time),e.fillRect(d-i,u,_,l-u),e.fillRect(d-i,c+1,_,h-c)},e.prototype._calculateBorderWidth=function(e){var t,i=Math.floor(1*e);return this._barWidth<=2*i&&(i=Math.floor(.5*(this._barWidth-1))),t=Math.max(Math.floor(e),i),this._barWidth<=2*t?Math.max(Math.floor(e),Math.floor(1*e)):t},e.prototype._drawBorder=function(e,t){var i,r,s,a,l,c,u,h,d="",p=this._calculateBorderWidth(t);for(i=0,r=this._bars;i<r.length;i++)(s=r[i]).borderColor!==d&&(e.fillStyle=s.borderColor?s.borderColor:Object(n.ensureDefined)(this._borderColor),d=s.borderColor),this._bodyVisible&&s.hollow||(l=(a=Math.round(s.time*t)-Math.floor(.5*this._barWidth))+this._barWidth-1,c=Math.round(Math.min(s.open,s.close)*t),u=Math.round(Math.max(s.open,s.close)*t),this._barSpacing*t>2*p?Object(o.fillRectInnerBorder)(e,a,c,l-a+1,u-c+1,p):(h=l-a+1,e.fillRect(a,c,h,u-c+1)))},e.prototype._drawCandles=function(e,t){var i,n,r,s,a,l,c,u,h="",d=this._calculateBorderWidth(t);for(i=0,n=this._bars;i<n.length;i++)if(r=n[i],!(this._borderVisible&&this._barWidth<=2*d)||r.hollow)if(s=Math.round(Math.min(r.open,r.close)*t),a=Math.round(Math.max(r.open,r.close)*t),c=(l=Math.round(r.time*t)-Math.floor(.5*this._barWidth))+this._barWidth-1,r.color!==h&&(u=r.color,e.fillStyle=u,h=u),r.hollow)e.fillStyle=r.color,Object(o.fillRectInnerBorder)(e,l,s,c-l+1,a-s+1,d);else{if(this._borderVisible&&(l+=d,s+=d,c-=d,a-=d),s>a)continue;e.fillRect(l,s,c-l+1,a-s+1)}},e}()},"/jjs":function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"Magnet",function(){return s}),n=i("Eyy1"),r=i("4o++"),o=i("zL3Q"),s=function(){function e(){}return e.prototype.align=function(e,t,i){var s,a,l,c,u,h,d,p,f,_,m=e
;return Object(o.a)().value()?null===(s=i.mainDataSource())?m:s!==(a=s.model().mainSeries())?m:(l=a.priceScale(),c=a.bars(),l.isEmpty()||!c.contains(t)?m:null===(u=c.valueAt(t))?m:(h=[u[1],u[2],u[3],u[4]],d=Object(n.ensure)(a.firstValue()),p=h.map(function(e){return{y:l.priceToCoordinate(e,d),price:e}}),f=l.priceToCoordinate(e,d),p.sort(function(e,t){var i=Math.abs(e.y-f),n=Math.abs(t.y-f);return i-n}),_=p[0],(Object(o.b)().value()===r.MagnetMode.StrongMagnet||Math.abs(_.y-f)<50)&&(m=_.price),m)):m},e}()},"/kal":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" transform="translate(4 5)"><path fill="currentColor" d="M3 1h1v13.5H3z"/><circle stroke="currentColor" cx="3.5" cy="16.5" r="2"/><path fill="currentColor" d="M5.5 16H18v1H5.5z"/><path stroke="currentColor" d="M0 4L3.5.5 7 4m8 9l3.5 3.5L15 20"/></g></svg>'},"08i5":function(e,t,i){"use strict";var n,r;i.r(t),i.d(t,"AlertStatus",function(){return n}),i.d(t,"Direction",function(){return r}),function(e){e[e.Waiting=0]="Waiting",e[e.Success=1]="Success",e[e.Failure=2]="Failure"}(n||(n={})),function(e){e[e.Up=1]="Up",e[e.Down=2]="Down"}(r||(r={}))},"0F0w":function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h,d,p,f,_;i.r(t),n=i("mrSG"),r=i("aIyQ"),o=i.n(r),s=i("Eyy1"),a=i("hY0g"),l=i.n(a),c=i("0waE"),u=i("uOxu"),h=Object(u.getLogger)("ChartApi.AbstractSession"),d="",p=function(){function e(e,t,i){this._isConnected=new l.a(!1),this._state=0,this._isConnectForbidden=!1,this._sessionId=d,this._sessionIdChanged=new o.a,this._chartApi=e,this._sessionPrefix=t,this._shouldReconnectAfterCriticalError=i}return e.prototype.destroy=function(){this._logNormal("Destroying session"),this._isConnected.unsubscribe(),this.disconnect(),this._sessionIdChanged.destroy(),delete this._chartApi,this._logNormal("Session has been destroyed")},e.prototype.isConnected=function(){return this._isConnected},e.prototype.sessionId=function(){return this._sessionId},e.prototype.onSessionIdChanged=function(){return this._sessionIdChanged},e.prototype.connect=function(){0===this._state&&(Object(s.assert)(!this._isConnectForbidden,"Cannot call connect because it is forbidden at this moment"),this._setSessionId(this._sessionPrefix+"_"+Object(c.randomHash)()),this._logNormal("Connecting session - wait until transport stay connected"),this._state=1,this._chartApi.createSession(this._sessionId,this))},e.prototype.disconnect=function(){var e=this;0!==this._state&&(Object(s.assert)(this._sessionId!==d,"sessionId must not be invalid"),this._logNormal("Disconnecting session..."),this._forbidConnectWhile(function(){e._chartApi.connected()&&e._sendRemoveSession(),e._processDestroyingOnServer()}))},e.prototype.onMessage=function(e){var t,i;switch(e.method){case"connected":return void this._onChartApiConnected();case"disconnected":return void this._onChartApiDisconnected();case"critical_error":return t=String(e.params[0]),i=String(e.params[1]),void this._onCriticalError(t,i)}this._onMessage(e)},e.prototype._getChartApi=function(){
return this._chartApi},e.prototype._generateLogMessage=function(e){return"["+this._sessionId+"] "+e},e.prototype._onCriticalError=function(e,t){var i=this;this._logError("Critical error. Reason="+e+", info="+t+"."),this._forbidConnectWhile(function(){i._processDestroyingOnServer()}),this._shouldReconnectAfterCriticalError?(this._logNormal("Reconnecting after critical error..."),this.connect()):this._logNormal("Reconnecting after critical error skipped")},e.prototype._onChartApiConnected=function(){Object(s.assert)(1===this._state,"Session is not registered"),this._logNormal("Transport is connected. Creating session on the server"),this._sendCreateSession(),this._state=2,this._isConnected.setValue(!0)},e.prototype._onChartApiDisconnected=function(){var e=this;this._logNormal("Transport is disconnected. Reconnecting..."),this._forbidConnectWhile(function(){e._processDestroyingOnServer()}),this.connect()},e.prototype._setSessionId=function(e){var t=this._sessionId;this._logNormal("Changing sessionId: old="+t+", new="+e),this._sessionId=e,this._sessionIdChanged.fire(e,t)},e.prototype._logNormal=function(e){h.logNormal(this._generateLogMessage(e))},e.prototype._logError=function(e){h.logError(this._generateLogMessage(e))},e.prototype._processDestroyingOnServer=function(){this._state=0,this._isConnected.setValue(!1),this._chartApi.removeSession(this._sessionId),this._setSessionId(d)},e.prototype._forbidConnectWhile=function(e){this._isConnectForbidden=!0,e(),this._isConnectForbidden=!1},e}(),i.d(t,"ChartSession",function(){return _}),f=Object(u.getLogger)("ChartSession"),_=function(e){function t(t,i){void 0===i&&(i=!1);var n=e.call(this,t,"cs",!1)||this;return n._sessionDisabled=!1,n._handler=null,n._criticalError=new o.a,n._disableStatistics=i,n}return Object(n.__extends)(t,e),t.prototype.destroy=function(){this._criticalError.destroy(),this._handler=null,e.prototype.destroy.call(this)},t.prototype.serverTimeOffset=function(){return this._getChartApi().serverTimeOffset()},t.prototype.switchTimezone=function(e){return this._getChartApi().switchTimezone(this.sessionId(),e)},t.prototype.resolveSymbol=function(e,t,i){return this._getChartApi().resolveSymbol(this.sessionId(),e,t,i)},t.prototype.requestFirstBarTime=function(e,t,i){return this._getChartApi().requestFirstBarTime(this.sessionId(),e,t,i)},t.prototype.createSeries=function(e,t,i,n,r,o){return this._getChartApi().createSeries(this.sessionId(),e,t,i,n,r,o)},t.prototype.modifySeries=function(e,t,i,n,r){return this._getChartApi().modifySeries(this.sessionId(),e,t,i,n,r)},t.prototype.removeSeries=function(e,t){return!!this.isConnected().value()&&this._getChartApi().removeSeries(this.sessionId(),e,t)},t.prototype.requestMoreData=function(e,t,i){return this._getChartApi().requestMoreData(this.sessionId(),e,t,i)},t.prototype.requestMoreTickmarks=function(e,t,i){return this._getChartApi().requestMoreTickmarks(this.sessionId(),e,t,i)},t.prototype.requestMetadata=function(e,t){var i=this,n=function(){return i._getChartApi().requestMetadata(i.sessionId(),e,t)}
;window.localForageReady.done(n).fail(function(e){f.logError("localForage is not initialized, cannot proceed. "+e)})},t.prototype.isCanCreateStudy=function(e){return this._getChartApi().isCanCreateStudy(e)},t.prototype.createStudy=function(e,t,i,n,r,o,s){return this._getChartApi().createStudy(this.sessionId(),e,t,i,n,r,o,s)},t.prototype.rebindStudy=function(e,t,i,n,r,o,s){return this._getChartApi().rebindStudy(this.sessionId(),e,t,i,n,r,o,s)},t.prototype.modifyStudy=function(e,t,i,n){return this._getChartApi().modifyStudy(this.sessionId(),e,t,i,n)},t.prototype.removeStudy=function(e,t,i){return this._getChartApi().removeStudy(this.sessionId(),e,t,i)},t.prototype.createPointset=function(e,t,i,n,r,o){return this._getChartApi().createPointset(this.sessionId(),e,t,i,n,r,o)},t.prototype.modifyPointset=function(e,t,i,n){return this._getChartApi().modifyPointset(this.sessionId(),e,t,i,n)},t.prototype.removePointset=function(e){return this._getChartApi().removePointset(this.sessionId(),e)},t.prototype.setVisibleTimeRange=function(e,t,i,n,r){0},t.prototype.criticalError=function(){return this._criticalError},t.prototype.connect=function(t){void 0===t&&(t=null),null!==t&&(this._handler=t),e.prototype.connect.call(this)},t.prototype.setHandler=function(e){this._handler=e},t.prototype.connected=function(){return this.isConnected().value()&&!this._sessionDisabled},t.prototype.disable=function(){this._sessionDisabled=!0},t.prototype.chartApi=function(){return this._getChartApi()},t.prototype._sendCreateSession=function(){var e=this;Object.keys(this).forEach(function(t){/^(s|st|symbol_)\d+$/.test(t)&&delete e[t]}),this._getChartApi().chartCreateSession(this.sessionId(),this._disableStatistics)},t.prototype._sendRemoveSession=function(){this._getChartApi().chartDeleteSession(this.sessionId())},t.prototype._onMessage=function(e){this._handler&&this._handler(e)},t.prototype._onCriticalError=function(t,i){this._criticalError.fire(t,i),e.prototype._onCriticalError.call(this,t,i)},t}(p)},"0Pxc":function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolArc";var r=t||n.createProperties();h.call(this,e,r),this.version=n.version,Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("dKqZ").ArcPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("aO4+").Point,o=i("GEp6").distanceToLine,s=i("hfHJ"),a=s.rotationMatrix,l=s.scalingMatrix,c=s.translationMatrix,u=s.transformPoint,h=i("Ss5c").LineDataSource,d=i("Ocx9").DefaultProperty,p=i("hayr").propertyPages,f=window.t("Arc");inherit(n,h),n.prototype.startChanging=function(e,t){var i,n,s,a,l,c;h.prototype.startChanging.call(this,e,t),0!==e&&1!==e||(i=this.pointToScreenPoint(this._points[0])[0],n=this.pointToScreenPoint(this._points[1])[0],s=this.pointToScreenPoint(this._points[2])[0],this._dist=o(i,n,s).distance,a=n.subtract(i),l=new r(-a.y,a.x),c=i.add(n).scaled(.5),s.subtract(c).dotProduct(l)<0&&(this._dist=-this._dist))},n.prototype.pointsCount=function(){return 3},n.prototype.translatedType=function(){return f},
n.prototype.name=function(){return"Arc"},n.prototype.hasEditableCoordinates=function(){return!1},n.prototype.setPoint=function(e,t){var i,n,s,h,d,p,f,_,m,g,y,v,b=Object.assign({},t),S=this.pointToScreenPoint(this._points[0])[0],w=this.pointToScreenPoint(this._points[1])[0],P=this.pointToScreenPoint(this._points[2])[0];switch(e){case 0:S=this.pointToScreenPoint(b)[0],i=w.subtract(S),n=S.add(w).scaled(.5),s=(s=new r(-i.y,i.x)).normalized(),P=n.add(s.scaled(this._dist)),P=this.screenPointToPoint(P),this._points[0]=b,this._points[2]=P;break;case 1:h=o(S,w,P).distance,i=(w=this.pointToScreenPoint(b)[0]).subtract(S),n=S.add(w).scaled(.5),s=(s=new r(-i.y,i.x)).normalized(),P=n.add(s.scaled(this._dist)),P=this.screenPointToPoint(P),this._points[1]=b,this._points[2]=P;break;case 2:b=this.pointToScreenPoint(b)[0],h=o(S,w,b).distance,i=w.subtract(S),n=S.add(w).scaled(.5),s=(s=new r(-i.y,i.x)).normalized(),P=n.add(s.scaled(h)),d=n.add(s.scaled(-h)),p=i.length(),f=i.x/p,_=i.y/p,m=Math.acos(f),_<0&&(m=-m),g=c(-n.x,-n.y),b=u(g,b),y=u(g,P),g=a(-m),b=u(g,b),y=u(g,y),g=l(1,p/(2*h)),b=u(g,b),y=u(g,y),v=b.y*y.y>=0?new r(P.x,P.y):new r(d.x,d.y),v=this.screenPointToPoint(v),this._points[2]=v}this.normalizePoints()},n.version=2,n.prototype.migrateVersion=function(e,t,i){var n,r;1===e&&2===this._points.length&&(n=(2*this._points[0].price+3*this._points[1].price)/5,this._points.append({price:n,index:this._points[1].index})),1===e&&2===this._timePoint.length&&(r={price:n=(2*this._timePoint[0].price+3*this._timePoint[1].price)/5,offset:this._timePoint[1].offset,time_t:this._timePoint[1].time_t},this._timePoint.append(r))},n.prototype.getInputsPropertyPage=function(){return null},n.prototype.getStylesPropertyPage=function(){return p.LineToolArcStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("Zd1D").GeneralFiguresDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new d("linetoolarc",e);return n._configureProperties(t),t},n._configureProperties=function(e){h._configureProperties(e)},t.LineToolArc=n},"0UyP":function(e,t,i){"use strict";function n(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e,t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return window.user&&!window.user.do_not_track?[3,1]:[2,null];case 1:return[4,i.e("snowplow-tracker").then(i.bind(null,"fZ4Q"))];case 2:return e=n.sent(),(t=e.getTrackerInstance())?[2,t]:[2,null]}})})}i.r(t),i.d(t,"getTracker",function(){return n});var r=i("mrSG")},"0YCj":function(e,t,i){"use strict";(function(e,t){function n(e){TradingView.merge(this,{palettes:{},inputs:[],plots:[],graphics:{},defaults:{}}),TradingView.merge(this,e);var t=e.fullId||e.id;TradingView.merge(this,n.parseIdString(t)),this.name=this.id}i("Eyy1").assert;var r=i("uOxu").getLogger("Chart.Study.MetaInfo"),o=i("9iCb").applyOverridesToStudyDefaults,s=null;n.VERSION_STUDY_ARG_SOURCE=41,n.METAINFO_FORMAT_VERSION_SOS_V2=42,
n.VERSION_PINE_PROTECT_TV_4164=43,n.CURRENT_METAINFO_FORMAT_VERSION=50,n.VERSION_NEW_STUDY_PRECISION_FORMAT=46,n.CHILD_STUDY_ALLOWED_PLOT_TYPES=["line"],n.canPlotBeSourceOfChildStudy=function(e){return n.CHILD_STUDY_ALLOWED_PLOT_TYPES.includes(e)},n.CHILD_STUDY_EXCLUDE_IDS=["CorrelationCoefficient@tv-basicstudies","Correlation - Log@tv-basicstudies-1"],n.CHILD_STUDY_PARENT_EXCLUDE_IDS=[],n.FilledArea={},n.FilledArea.TYPE_PLOTS="plot_plot",n.FilledArea.TYPE_HLINES="hline_hline",n.versionOf=function(e){var t="_metainfoVersion"in e&&isNumber(e._metainfoVersion)?e._metainfoVersion:0;return t<0&&r.logError("Metainfo format version cannot be negative: "+t),t},n.parseIdString=function(e){var t,i,n,r,o={};if(-1===e.indexOf("@"))o.shortId=e,o.packageId="tv-basicstudies",o.id=e+"@"+o.packageId,o.version=1;else if(t=e.split("@"),o.shortId=t[0],3===(i=t[1].split("-")).length)o.packageId=i.slice(0,2).join("-"),o.id=o.shortId+"@"+o.packageId,o.version=i[2];else if(1===i.length&&"decisionbar"===i[0])o.packageId="les-"+i[0],o.id=o.shortId+"@"+o.packageId,o.version=1;else{if(1!==i.length)throw new Error("unexpected study id:"+e);o.packageId="tv-"+i[0],o.id=o.shortId+"@"+o.packageId,o.version=1}return o.fullId=o.id+"-"+o.version,"tv-scripting"===o.packageId&&(0===(n=o.shortId).indexOf("Script$")||0===n.indexOf("StrategyScript$"))?(r=n.indexOf("_"),o.productId=r>=0?n.substring(0,r):o.packageId):o.productId=o.packageId,o},n.getPackageName=function(e){return(/^[^@]+@([^-]+-[^-]+)/.exec(e||"")||[0,"tv-basicstudies"])[1]},n.cutDollarHash=function(e){var t=e.indexOf("$"),i=e.indexOf("@");return-1===t?e:e.substr(0,t)+(i>=0?e.substr(i):"")},n.hasUserIdSuffix=function(e){return/^USER;[\d\w]+;\d+$/.test(e)},n.isStandardPine=function(e){return/^(Strategy)?Script\$STD;.*@tv-scripting$/.test(e)},n.getSourceIdByInputs=function(e,t){var i,r,o;if(!Array.isArray(e)||!t)return null;for(i=0;i<e.length;++i)if(r=e[i],n.isSourceInput(r)&&"string"==typeof t[r.id])return~(o=t[r.id]).indexOf("$")&&(o=o.split("$")[0]),o;return null},n.getSourceInputIds=function(e){var t,i,r=[],o=e.inputs;for(t=0;t<o.length;++t)i=o[t],n.isSourceInput(i)&&r.push(i.id);return r},n.setChildStudyMetaInfoPropertiesSourceId=function(t,i,r){var o,s,a,l;for(o=0;o<t.inputs.length;++o)s=t.inputs[o],n.isSourceInput(s)&&r instanceof e&&r.inputs&&r.inputs[s.id]&&(a=r.inputs[s.id].value()).indexOf("$")>0&&(l=a.replace(/^[^\$]+/,i),r.inputs[s.id].setValue(l))},n.patchChildStudyMetaInfoState=function(e){e.state&&function e(t){if("object"==typeof t)for(var i in t)"string"==typeof t[i]&&/^[^\$]+\$\d+$/.test(t[i])?t[i]=t[i].replace(/^[^\$]+/,"{pid}"):e(t[i])}(e.state.inputs),e.state.isChildStudy=!0},n.prototype.parseValue=function(e,t){return"bool"===e?TradingView.parseBool(t):t},n.prototype.defaultInputs=function(){var e,t=[];for(e=0;e<this.inputs.length;e++)t.push(this.inputs[e].defval);return t},n.prototype.state=function(e){var t,i={};for(t in this)this.hasOwnProperty(t)&&(i[t]=this[t],!0!==e&&"id"===t&&(i[t]+="-"+this.version));return i},n.prototype.symbolInputId=function(){
var e=this.inputs.filter(function(e){return"symbol"===e.type});return e.length>0?e[0].id:null},n.prototype.createDefaults=function(){var e,t;this.defaults&&((e=TradingView.clone(this.defaults)).precision="default",t=n.getStudyPropertyRootName(this),defaults.create(t,e))},n.prototype.removeDefaults=function(){defaults.remove(n.getStudyPropertyRootName(this))},n.findStudyMetaInfoByDescription=function(e,t){if(e){for(var i=0;i<e.length;++i)if(e[i].description.toLowerCase()===t.toLowerCase())return e[i];throw new Error("unexpected study id:"+t)}throw new Error("There is no studies metainfo")},n.isParentSourceId=function(e){return"string"==typeof e&&/^[^\$]+\$\d+$/.test(e)},n.isSourceInput=function(e){return e.id&&(("source"===e.id||"src"===e.id)&&("text"===e.type||"source"===e.type)||"source"===e.type)},n.getChildSourceInputTitles=function(e,t,i){var r,o,s,a,l={};if(t.plots&&t.plots.length&&e.options&&e.options.length)for(r=0;r<e.options.length;++r)s=(o=e.options[r])&&+o.split("$")[1],(a=isFinite(s)&&t.plots[s])&&~n.CHILD_STUDY_ALLOWED_PLOT_TYPES.indexOf(a.type)&&(l[o]=t.styles&&t.styles[a.id]&&t.styles[a.id].title||a.id,i&&(l[o]=i+": "+l[o]));return l},n.getStudyPropertyRootName=function(e){var t="study_"+e.id;return e.pine&&e.pine.version&&(t+="_"+e.pine.version.replace(".","_")),t},n.getStudyPropertyRootNameById=function(e){return"study_"+e},n.overrideDefaults=function(e){null!==s&&0!==e.length&&o(s,e,function(e){return TradingView.defaultProperties[n.getStudyPropertyRootName(e)]||null})},n.setDefaultsOverrides=function(e){s=e},n.isScriptStrategy=function(e){if(e.extra&&e.extra.kind)return e.extra.kind===TVScript.Kinds.STRATEGY;if(!0===e.isTVScriptStrategy)return!0;var t=e.TVScriptSourceCode||e.scriptSource;return!!t&&TVScript.isStrategy(t)},n.getOrderedInputIds=function(e){var t,i,n=[],r=e.inputs;for(t=0;t<r.length;++t)i=r[t],n.push(i.id);return n},n.canBeChild=function(e){var t,i,r;if(e&&"string"==typeof e)return!0;if(!e||e.extra&&!n.isAllowedSourceInputsCount(e.extra.sourceInputsCount)||!0===e.canNotBeChild||!1===e.canBeChild||~n.CHILD_STUDY_EXCLUDE_IDS.indexOf(e.id)||e.isTVScriptStrategy||e.TVScriptSourceCode&&TVScript.isStrategy(e.TVScriptSourceCode))return!1;for(t=e.inputs,i=0,r=0;r<t.length;++r)n.isSourceInput(t[r])&&++i;return n.isAllowedSourceInputsCount(i)},n.isAllowedSourceInputsCount=function(e){return 1===e},n.canHaveChildren=function(e){if(e){if(e.isTVScriptStrategy||e.TVScriptSourceCode&&TVScript.isStrategy(e.TVScriptSourceCode))return!1;if(e.id&&!~n.CHILD_STUDY_PARENT_EXCLUDE_IDS.indexOf(e.id)&&Array.isArray(e.plots))for(var t=0;t<e.plots.length;++t)if(~n.CHILD_STUDY_ALLOWED_PLOT_TYPES.indexOf(e.plots[t].type))return!0}return!1},TradingView.StudyMetaInfo=n,t&&t.exports&&(t.exports=n)}).call(this,i("tc+8"),i("YuTi")(e))},"0dm4":function(e,t,i){"use strict";function n(e){return!s.Interval.isSeconds(e)||Object(a.isFeatureEnabled)("alerts_on_seconds")&&Object(l.enabled)(c.ProductFeatures.ALERTS_ON_SECONDS)}function r(){Object(a.isFeatureEnabled)("alerts_on_seconds")?Object(u.createGoProDialog)({
feature:"alertsOnSeconds"}).then(function(e){e.open()}):Object(h.showNoticeDialog)({title:d,content:p})}var o,s,a,l,c,u,h,d,p;i.r(t),o=i("YFKU"),s=i("LxhU"),a=i("+GxX"),l=i("NP3r"),c=i("bKsZ"),u=i("s4+V"),h=i("brCa"),i.d(t,"canPlaceAlertOnResolution",function(){return n}),i.d(t,"showUnsupportedResolutionDialog",function(){return r}),d=o.t("Oops! An alert can’t be created for this timeframe"),p=o.t("Alerts are not available for seconds-based intervals at this time. Please change your timeframe (has to be 1 minute or longer) and try again.")},"0gbU":function(e,t,i){"use strict";function n(e,t,i,n){r.call(this,e,t,i,n);var o=this;this._properties.minTick.listeners().subscribe(null,function(){o._recreatePriceFormattingDependencies()}),this.properties().minTick.listeners().subscribe(null,function(){o._model.fullUpdate()}),this._properties.merge({skipHistogramBaseOnAutoScale:!0})}var r=i("GVHu").Study,o=i("2Fqk").CompareLegendView,s=i("TrvT").CompareDataWindowView,a=i("hayr").propertyPages,l=i("Kxc7"),c=i("8aff").CompareStudyPriceAxisView,u=i("8xSi").CompareStatusView,h=i("n5al").createSeriesFormatter,d=i("n5al").seriesCurrency,p=!l.enabled("hide_study_compare_legend_item"),f=l.enabled("study_overlay_compare_legend_option"),_=l.enabled("force_exchange_as_title"),m=l.enabled("uppercase_instrument_names");inherit(n,r),n.prototype.createPriceAxisView=function(e){return new c(this,{plotIndex:"compare"})},n.prototype._showLastValueOnPriceScale=function(){return this._model.properties().scalesProperties.showSeriesLastValue.value()},n.prototype.createViews=function(){this._legendView||(this._legendView=new o(this,this._model)),this._dataWindowView||(this._dataWindowView=new s(this,this._model)),this._statusView||(this._statusView=new u(this,this._model.properties().scalesProperties.textColor)),r.prototype.createViews.call(this)},n.prototype._tryCreateFormatter=function(){var e=this.properties().inputs.symbol.value(),t=this._resolvedSymbols?this._resolvedSymbols[e]:null;return h(t,this.properties().minTick.value())},n.prototype._onSymbolResolved=function(e){r.prototype._onSymbolResolved.call(this,e),this._recreatePriceFormattingDependencies()},n.prototype.symbol=function(){var e,t=this.properties().inputs.symbol.value(),i=this._resolvedSymbols?this._resolvedSymbols[t]:null,n=i&&i.exchange&&0!==i.exchange.length;return e=_&&n?i.exchange:i?i.name:t,m?e.toUpperCase():e},n.prototype.currency=function(){return d(this.symbolInfo())},n.prototype.title=function(e,t,i,n){var r=this._titleInParts(e,t,i,n),o=r.join(", ");return m?o.toUpperCase():o},n.prototype.titleInParts=function(e,t,i,n){var r=this._titleInParts(e,t,i,n),o=r.join(", ");return[m?o.toUpperCase():o]},n.prototype._titleInParts=function(e,t,i,n){var r,o=this.properties().inputs.symbol.value(),s=this._resolvedSymbols?this._resolvedSymbols[o]:null,a=s&&s.exchange&&0!==s.exchange.length,l=[];return _&&a?l.push(s.exchange):s?(f?(r=this._model.mainSeries().properties().statusViewStyle.symbolTextSource.value(),l.push("description"===r?s.description:s.name)):l.push(s.name),
a&&!n&&l.push([s.exchange])):l.push(o),l},n.prototype.symbolInfo=function(){if(!this._resolvedSymbols)return null;var e=this._properties.inputs.symbol.value();return e&&this._resolvedSymbols[e]||null},n.prototype.lastPriceLabelFixedCoordinate=function(){return this._priceAxisViews[0]._fixedCoordinate},n.prototype.tags=function(){var e=this.symbol();return e?[e]:[]},n.prototype.statusView=function(){return p?r.prototype.statusView.call(this):null},n.prototype.getInputsPropertyPage=function(){return a.StudyCompareInputsPropertyPage},n.prototype.guiPlotName=function(e){return this.properties().inputs.symbol.value()},n.prototype.canOverrideMinTick=function(){return!0},t.study_Compare=n},"0h28":function(e,t,i){"use strict";(function(t){var n,r=function(){function e(e,t){var i,n;for(i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i("TxTq"),s=(n=o)&&n.__esModule?n:{default:n},a=i("xlbu"),l=i("uOxu"),c=(0,l.getLogger)("ReutersCalendar"),u=function(){function e(i){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!(this instanceof e))throw new Error("ChartEvents is a constructor");this.changed=new t,this.reset(i),this.pendingDfd=null,this._boundPushstreamHandler=this._pushstreamHandler.bind(this),s.default.on("chartevents-reuters",this._boundPushstreamHandler)}return r(e,[{key:"items",value:function(){return this._items}},{key:"reset",value:function(e){this.pendingDfd&&this.pendingDfd.reject(),this._items=[],this.itemsById={},this.minObtainedTimestamp=1/0,this.noResults=!1,e&&null!=e.from?this.from=Number(e.from):this.from=Date.now()-864e5,this._historyLimit=e&&e.historyLimit,this._maxItems=1/0,e&&e.maxItems>0&&(this._maxItems=+e.maxItems),e&&null!=e.to?this.to=e.to:this.to=this.from+this.defaultSelectionTimeAmount,this.from=this.cacheFriendlyTimestamp(this.from),this.to=this.cacheFriendlyTimestamp(this.to),this.currencyFilter=e&&e.currencyFilter?e.currencyFilter:[],e&&null!=e.minImportance&&isFinite(+e.minImportance)?this.minImportance=Math.max(-1,Math.min(1,Math.floor(e.minImportance))):this.minImportance=-1}},{key:"cacheFriendlyTimestamp",value:function(e){return e-e%36e5}},{key:"formatTimestampForRequest",value:function(e){return new Date(e).toISOString()}},{key:"requestMore",value:function(e){var t,i,n,r,o,s,l=this;return this.pendingDfd?this.pendingDfd.promise():(isFinite(this.minObtainedTimestamp)&&null!=this._historyLimit&&Number(new Date(this.from))<this._historyLimit&&(this.noResults=!0),this._items.length>=this._maxItems&&(this.noResults=!0),this.noResults?$.Deferred().resolve({added:[],changed:[],noResults:!0}).promise():(t=$.Deferred(),this.pendingDfd=t,t.always(function(){l.pendingDfd=null}),i={},-1!==this.minImportance&&(i.minImportance=this.minImportance),isFinite(this.minObtainedTimestamp)&&(this.to=this.from,this.from=this.from-this.defaultSelectionTimeAmount),
e&&e.from&&e.from<this.minObtainedTimestamp&&(this.from=this.cacheFriendlyTimestamp(e.from)),i.from=this.formatTimestampForRequest(this.from),i.to=this.formatTimestampForRequest(this.to),this.currencyFilter.length&&(i.currencies=this.currencyFilter.toString()),n=Object.keys(i).map(function(e){return e+"="+i[e]}).join("&"),r=this.eventsUrl+(n?"?"+n:""),o=Date.now(),s=$.ajax({method:"GET",url:r,dataType:"json"}).done(function(e,i,n){var r,s,u=Date.now()-o;if(a.telemetry.sendReport("calendars","chartevents_http_status",{value:n.status}),a.telemetry.sendReport("calendars","chartevents_response_time_frame",{value:u}),t===l.pendingDfd){if(!e||!e.status||"error"===e.status)return a.telemetry.sendReport("calendars","chartevents_error"),r=e&&e.errmsg||"invalid response",c.logError(r),void t.reject(new Error(r));a.telemetry.sendReport("calendars","chartevents_ok"),l.minObtainedTimestamp=l.from,"no_data"===e.status&&(l.noResults=!0,l.minObtainedTimestamp=-1/0),s=l._mergeItems(e.result||[]),t.resolve(s),l.changed.fire(s)}}).fail(function(e,i){if(t===l.pendingDfd&&"abort"!==i){c.logWarn("ChartEvents error on request {0}, status: {1}, status text: {2}".format(r,e.status,e.statusText));var n=Date.now()-o;a.telemetry.sendReport("calendars","chartevents_error"),a.telemetry.sendReport("calendars","chartevents_http_status",{value:e.status||400}),a.telemetry.sendReport("calendars","chartevents_response_time_frame",{value:n})}t.reject(e)}),t.fail(function(){s.abort()}),t.promise()))}},{key:"destroy",value:function(){s.default.off("chartevents-reuters",this._boundPushstreamHandler),this._items=[],this.reset()}},{key:"_mergeItems",value:function(e){var t,i,n,r,o,s,a,l=this,c={added:[],changed:[],noResults:l.noResults},u=[];for(t=e.length;t--;)i=e[t],-1!==this.minImportance&&this.minImportance>i.importance||(i.timestamp=Date.parse(i.date),null!=this._historyLimit&&i.timestamp<this._historyLimit||u.push(i));for(n=0;n<u.length;n++)if(r=u[n],this.itemsById[r.id]){for(a in o=!1,s=this.itemsById[r.id],r)s[a]!==r[a]&&(s[a]=r[a],o=!0);o&&c.changed.push(s)}else this._items.length===this._maxItems&&(delete this.itemsById[this._items[0].id],this._items.shift(),c.added.shift()),this.itemsById[r.id]=r,this._items.push(r),c.added.push(r);return c}},{key:"_pushstreamHandler",value:function(e){var t=this._mergeItems([].concat(e));(t.changed.length||t.added.length)&&this.changed.fire(t)}},{key:"defaultSelectionTimeAmount",get:function(){return 6048e5}},{key:"eventsUrl",get:function(){return window.CHARTEVENTS_URL+"events"||!1}}]),e}();e.exports=u}).call(this,i("aIyQ"))},"0waE":function(e,t,i){"use strict";function n(){return s.replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"===e?t:3&t|8;return i.toString(16)})}function r(){return o(12)}function o(e){var t,i,n="";for(t=0;t<e;++t)i=Math.floor(Math.random()*a.length),n+=a[i];return n}var s,a;i.r(t),i.d(t,"guid",function(){return n}),i.d(t,"randomHash",function(){return r}),i.d(t,"randomHashN",function(){return o}),s="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",
a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"},"0wn8":function(e,t,i){},"1AAW":function(e,t,i){"use strict";function n(e){var t,i,n,r,s,a,l,c,u=[];for(t=1;t<arguments.length;t++)u[t-1]=arguments[t];for(i=function(){var t,i=[];for(t=0;t<arguments.length;t++)i[t]=arguments[t];return e.apply(void 0,i.map(function(e){return e.value()}))},n=new o.a(i.apply(void 0,u)),r=function(){return n.setValue(i.apply(void 0,u))},a=0,l=s=u.map(function(e){return e.spawn()});a<l.length;a++)l[a].subscribe(r);return c=function(){return s.forEach(function(e){return e.destroy()})},n.readonly().spawn(c)}var r,o;i.d(t,"a",function(){return n}),r=i("hY0g"),o=i.n(r)},"1IXQ":function(e,t,i){"use strict";function n(e,t,i,r,o,s,a){var l,u;this._options=V(B(U),o),this._pane=e,this._priceScale=null,this._isLeft=n.isLeft(r),this._properties=t,this._rendererOptionsProvider=i,this._axisInfo=s,this._backgroundBasedTheme=a,this._size=null,this._offset=0,this._cell=document.createElement("div"),this._cell.className="price-axis",this._cell.style.width="25px",this._cell.style.left="0",this._canvasConfiguredHandler=function(){this._recreateTickMarksCache(this._rendererOptionsProvider.options()),this._pane.chart().model().model().lightUpdate()}.bind(this),this._canvasBinding=g(this._cell,new w(16,16)),this._canvasBinding.subscribeCanvasConfigured(this._canvasConfiguredHandler),(l=this._canvasBinding.canvas).style.position="absolute",l.style.zIndex="1",l.style.left="0",l.style.top="0",this._topCanvasConfiguredHandler=function(){this._pane.chart().model().model().lightUpdate()}.bind(this),this._topCanvasBinding=g(this._cell,new w(16,16)),this._topCanvasBinding.subscribeCanvasConfigured(this._topCanvasConfiguredHandler),(u=this._topCanvasBinding.canvas).style.position="absolute",u.style.zIndex="2",u.style.left="0",u.style.top="0",this._currencyText="",this._currencyFontSize=0,this._currencyLabelWidth=null,this._options.currencyLabelEnabled?(this._currencyLabelWrapper=document.createElement("div"),this._currencyLabelWrapper.className=W["price-axis-currency-label-wrapper"],this._cell.appendChild(this._currencyLabelWrapper),this._currencyLabel=document.createElement("span"),this._currencyLabel.className=W["price-axis-currency-label"],this._currencyLabelWrapper.appendChild(this._currencyLabel)):(this._currencyLabelWrapper=null,this._currencyLabel=null),this.restoreDefaultCursor(),this.update(),this._updateTimeout=null,this._mouseEventHandler=new P(this._topCanvasBinding.canvas,this,{treatVertTouchDragAsPageScroll:!1,treatHorzTouchDragAsPageScroll:!0}),this.contextMenu=null,this.actions=null,this._isVisible=!0,this._widthCache=new c(50),this._tickmarksCache=new f(12,"#000",F,""),this._color=null,this._fontSize=null,this._prevOptimalWidth=0,this._highlighted=!1,this._properties.fontSize.subscribe(this,this._onFontSizeChanged)}function r(e){var t=new E(e);return function(e,i){return isNumber(i)&&!e.isLog()?t.format(i):""}}var o,s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B,N,F,j,W,U,H,z;i("jJ9X"),o=i("aO4+"),s=o.Point,
a=i("/3z9"),l=i("qFKp").CheckMobile,c=i("u+0B").TextWidthCache,u=i("7KDR"),h=u.Action,d=u.Separator,p=i("5VQP").ContextMenuManager,f=i("D1wV").LabelsImageCache,_=i("i1o5").InvalidationLevel,m=i("ikwP"),g=m.createBoundCanvas,y=m.getContext2D,v=m.hardResizeCanvas,b=m.clearRect,S=m.fillRect,w=m.Size,P=i("S8xo").MouseEventHandler,T=i("PC8g").trackEvent,C=i("XlJ7").makeFont,x=i("YmeR").ActionBinder,I=i("uOxu").getLogger("Chart.PriceAxisWidget"),E=i("T6Of").LimitedPrecisionNumericFormatter,L=i("CW80").isLineTool,A=i("1gmO"),O=A.AlertLabel,M=A.ALERT_LABEL_WIDTH,k=i("+GxX").isFeatureEnabled,D=i("EsvI").themes,R=i("3/8U").axesHighlightColor,V=i("ogJP").merge,B=i("ogJP").clone,N=i("Kxc7"),F=i("zDbI").CHART_FONT_FAMILY,j=4,W=i("CxTi"),U={contextMenuEnabled:!0,currencyLabelEnabled:!1,contextMenu:{general:!0,source:!0},pressedMouseMoveScale:!0,croppedTickMarks:!0},H=window.t("Merge All Scales Into One"),n.LHS="left",n.RHS="right",n.isLeft=function(e){return e===n.LHS||e!==n.RHS&&(I.logDebug("PriceAxisWidget.isLeft: wrong side"),!1)},n.prototype.destroy=function(){null!==this.actions&&this.actions.reset&&this.actions.reset.destroy(),this._mouseEventHandler.destroy(),$(this._topCanvasBinding.canvas).remove(),this._topCanvasBinding.unsubscribeCanvasConfigured(this._topCanvasConfiguredHandler),this._topCanvasBinding.destroy(),this._canvasBinding.unsubscribeCanvasConfigured(this._canvasConfiguredHandler),this._canvasBinding.destroy(),this._properties.fontSize.unsubscribe(this,this._onFontSizeChanged),null!==this._priceScale&&this._priceScale.onMarksChanged().unsubscribe(this,this.onOptimalWidthNeedToBeRecalculated),this._priceScale=null,this._updateTimeout&&(clearTimeout(this._updateTimeout),this._updateTimeout=null),this._tickmarksCache.destroy(),this._tickmarksCache=null,this._destroyed=!0},n.prototype.getElement=function(){return this._cell},n.prototype.backgroundColor=function(){return this._pane.chart().model().model().backgroundColor().value()},n.prototype.lineColor=function(){return this._properties.lineColor.value()},n.prototype.textColor=function(){return this._properties.textColor.value()},n.prototype.fontSize=function(){return this._properties.fontSize.value()},n.prototype.baseFont=function(){return C(this.fontSize(),F,"")},n.prototype._hasAlertLabel=function(){return this._priceScale.dataSources().some(function(e){return e instanceof O})},n.prototype.rendererOptions=function(){var e=this._rendererOptionsProvider.options();return this._color===e.color&&this._fontSize===e.fontSize||(this._recreateTickMarksCache(e),this._color=e.color),this._fontSize!==e.fontSize&&(this._widthCache.reset(),this._fontSize=e.fontSize,this._currencyLabelWidth=null,this._currencyFontSize=0),this._hasAlertLabel()&&(e=Object.assign({},e,{paddingInner:Math.max(e.paddingInner,M)})),e},n.prototype.dataSourceAtPoint=function(e,t){function i(e,t){var i=_?_.result():0;e.result()>i&&(_=e,f=t)}var n,r,o,a,l,c,u,h,d=this._grouppedSources(),p=d.sources.concat(Array.from(d.topLevelSources)).concat(this._pane.state().customSources()),f=null,_=null
;if(!this._priceScale)return null;for(n=new s(e,t),r=this._pane.state(),o=p.length-1;o>=0;--o)if((l=(a=p[o]).priceAxisViews(r,this._priceScale))&&0!==l.length)for(c=l.length-1;c>=0;--c)null!==(u=l[c].renderer())&&void 0!==u.hitTest&&null!==(h=u.hitTest(n,this._size.w,this._isLeft?"left":"right"))&&i(h,a);return f},n.prototype._setCursorClassName=function(e){var t="";e&&(t="price-axis--cursor-"+e),this._currentCursorClassName!==t&&(this._currentCursorClassName&&this._cell.classList.remove(this._currentCursorClassName),t&&this._cell.classList.add(t),this._currentCursorClassName=t)},n.prototype.mouseClickEvent=function(e){var t=this.dataSourceAtPoint(e.localX,e.localY);t&&this._pane.chart().model().selectionMacro(function(e){e.selection().isSelected(t)||(e.clearSelection(),e.addSourceToSelection(t))})},n.prototype.mouseMoveEvent=function(e){this._priceScale&&(this.dataSourceAtPoint(e.localX,e.localY)?this._setCursorClassName("pointer"):this._setResizeCursor())},n.prototype._zoomAvailable=function(){return!this.priceScale().isEmpty()&&this._pane.chart().model().model().zoomEnabled()&&this._options.pressedMouseMoveScale},n.prototype.mouseDownEvent=function(e){var t,i;this._zoomAvailable()&&(t=this._pane.chart().model(),i=this._pane.state(),this._mousedown=!0,t.startScalePrice(i,this.priceScale(),e.localY))},n.prototype.pressedMouseMoveEvent=function(e){var t,i,n;this._zoomAvailable()&&(t=this._pane.chart().model(),i=this._pane.state(),n=this.priceScale(),t.scalePriceTo(i,n,e.localY))},n.prototype.mouseDownOutsideEvent=function(e){var t,i,n;this._zoomAvailable()&&this._pane.hasState()&&(t=this._pane.chart().model(),i=this._pane.state(),n=this.priceScale(),this._mousedown&&(this._mousedown=!1,t.endScalePrice(i,n),this.restoreDefaultCursor()))},n.prototype.mouseUpEvent=function(e){var t,i,n;this._zoomAvailable()&&(t=this._pane.chart().model(),i=this._pane.state(),n=this.priceScale(),this._mousedown=!1,t.endScalePrice(i,n),this.restoreDefaultCursor())},n.prototype.mouseEnterEvent=function(e){this._setResizeCursor()},n.prototype.mouseLeaveEvent=function(e){this._setCursorClassName("")},n.prototype._setResizeCursor=function(){this._priceScale.isPercentage()||this._priceScale.isIndexedTo100()?this._setCursorClassName(""):this._pane.chart().model().model().zoomEnabled()&&this._setCursorClassName("ns-resize")},n.prototype._initActions=function(e){var t,r;this._pane.hasState()&&null===this.actions&&(this.actions={},t=this,r=this._pane.chart().model(),this.actions.reset=new h({label:window.t("Reset Price Scale"),icon:i("LdoW"),shortcut:"Alt+R",shortcutHint:a.humanReadableHash(a.Modifiers.Alt+82),statName:"ResetScale",onExecute:n.prototype.reset.bind(this)}),this.actions.setAutoScale=new h({label:window.t("Auto (Fits Data To Screen)"),checkable:!0,checked:!0,statName:"ToggleAutoScale",onExecute:function(){r.togglePriceScaleAutoScaleMode(t.priceScale()),t._updateScalesActions()}}),this.actions.setPercentage=new h({label:window.t("Percent",{context:"scale_menu"}),checkable:!0,checked:this.priceScale().isPercentage(),
statName:"TogglePercantage",onExecute:function(){r.togglePriceScalePercentageScaleMode(t.priceScale()),t._updateScalesActions()}}),this.actions.setIndexedTo100=new h({label:window.t("Indexed to 100",{context:"scale_menu"}),checkable:!0,checked:this.priceScale().isIndexedTo100(),statName:"ToggleIndexedTo100",onExecute:function(){r.togglePriceScaleIndexedTo100ScaleMode(t.priceScale()),t._updateScalesActions()}}),this.actions.setLog=new h({label:window.t("Logarithmic",{context:"scale_menu"}),checkable:!0,checked:this.priceScale().isLog(),statName:"ToggleLogScale",onExecute:function(){r.togglePriceScaleLogScaleMode(t.priceScale()),t._updateScalesActions()}}),this.actions.setRegular=new h({label:window.t("Regular",{context:"scale_menu"}),checkable:!0,checked:this.priceScale().isRegular(),statName:"ToggleRegularScale",onExecute:function(){r.setPriceScaleRegularScaleMode(t.priceScale()),t._updateScalesActions()}}),this.actions.alignLabels=new h({label:window.t("No Overlapping Labels",{context:"scale_menu"}),checkable:!0,checked:!1,statName:"TogglePreciseLabels"}),this.actions.alignLabels.binding=new x(this.actions.alignLabels,this.priceScale().properties().alignLabels,this._pane.chart().model(),"No Overlapping Labels"),this.actions.invertScale=new h({label:window.t("Invert Scale",{context:"scale_menu"}),checkable:!0,checked:this.priceScale().isInverted(),statName:"Invert Scale",onExecute:function(){r.invertPriceScale(t.priceScale()),t._updateScalesActions()}}),this._updateScalesActions())},n.prototype._logAction=function(){return this._isMainSeriesAxis()?this._pane.chart().actions().logSeriesScale:this.actions.setLog},n.prototype._percentageAction=function(){return this._isMainSeriesAxis()?this._pane.chart().actions().percentSeriesScale:this.actions.setPercentage},n.prototype._indexedTo100Action=function(){return this._isMainSeriesAxis()?this._pane.chart().actions().indexedTo100SeriesScale:this.actions.setIndexedTo100},n.prototype._autoScaleAction=function(){return this._isMainSeriesAxis()?this._pane.chart().actions().autoSeriesScale:this.actions.setAutoScale},n.prototype._regularScaleAction=function(){return this._isMainSeriesAxis()?this._pane.chart().actions().regularSeriesScale:this.actions.setRegular},n.prototype._lockScaleAction=function(){var e=this._pane.chart().actions().lockSeriesScale,t=z(this.priceScale(),this._pane.chart().model().model().mainSeriesScaleRatio());return e.update({hint:t}),e},n.prototype._invertAction=function(){return this._isMainSeriesAxis()?this._pane.chart().actions().invertSeriesScale:this.actions.invertScale},n.prototype._isMainSeriesAxis=function(){return this.priceScale().hasMainSeries()},n.prototype._updateMainSeriesScalesActions=function(){this._isMainSeriesAxis()&&null!==this.actions&&this._updateScalesActions()},n.prototype._updateScalesActions=function(){var e=this.priceScale(),t=this._isMainSeriesAxis(),i=e.mainSource().properties(),n=t&&e.isLockScale(),r=t&&i.style.value()===TradingView.Series.STYLE_PNF;this.actions.setRegular.update({checked:e.isRegular(),disabled:n||r}),
this.actions.setPercentage.update({checked:e.isPercentage(),disabled:n||r}),this.actions.setIndexedTo100.update({checked:e.isIndexedTo100(),disabled:n||r}),this.actions.setLog.update({checked:e.isLog(),disabled:n||r}),this.actions.setAutoScale.update({checked:e.isAutoScale(),disabled:e.properties().autoScaleDisabled.value()})},n.prototype.mouseDoubleClickEvent=function(e){var t=this.dataSourceAtPoint(e.localX,e.localY);t?this._pane.processDoubleClickOnSource(t):(this.reset(),T("GUI","Double click price scale"))},n.prototype.contextMenuEvent=function(e){var t;if(this._options.contextMenuEnabled){if(null!==(t=this.dataSourceAtPoint(e.localX,e.localY))&&this._options.contextMenu.source)return void this._pane.chart().model().selectionMacro(function(i){i.selection().isSelected(t)||(i.clearSelection(),i.addSourceToSelection(t)),this._pane.showContextMenuForSelection(e)}.bind(this));this._options.contextMenu.general&&this._createContextMenu().then(function(t){t.show(e)})}},n.prototype._createContextMenu=function(){return p.createMenu(this.getContextMenuActions(),{statName:"PriceScaleContextMenu"})},n.prototype._createMergeScalesAction=function(){var e,t=this._pane.chart().actions(),i=this._pane.chart().model().model(),n=i.priceScaleSlotsCount();return n.left+n.right===1?0===n.left?t.moveScaleToLeft:t.moveScaleToRight:((e=[]).push(t.mergeLeftScalesAction),e.push(t.mergeRightScalesAction),new h({label:H,subItems:e}))},n.prototype.getContextMenuActions=function(){var e,t,i;return this._initActions(),e=this._pane.chart().actions(),(t=[]).push(this.actions.reset,new d,this._autoScaleAction()),this._isMainSeriesAxis()&&t.push(this._lockScaleAction()),t.push(e.scaleSeriesOnly,this._invertAction(),new d,this._regularScaleAction(),this._percentageAction(),this._indexedTo100Action(),this._logAction(),new d),l.any()||(t.push(this._createMergeScalesAction()),t.push(new d)),N.enabled("fundamental_widget")||(i=k("financials_button"),t.push(new h({label:window.t("Labels"),subItems:[e.showSymbolLabelsAction,e.showSeriesLastValue,e.showSeriesPrevCloseValue,e.showStudyPlotNamesAction,e.showStudyLastValue,i?e.showFundamentalNamesAction:null,i?e.showFundamentalsLastValueAction:null,this.actions.alignLabels].filter(Boolean)}))),N.enabled("countdown")&&t.push(e.showCountdown),this._options.currencyLabelEnabled&&t.push(e.showCurrency),!TradingView.onWidget()&&N.enabled("show_chart_property_page")&&N.enabled("chart_property_page_scales")&&e.scalesProperties&&t.push(new d,e.scalesProperties),t},n.prototype._sameSideSources=function(){var e=this._isLeft?"left":"right";return this._pane.state().orderedSources(e)},n.prototype._grouppedSources=function(){var e,t,i=this._pane,n=i.chart().model(),r=this._sameSideSources().slice(),o=i.state(),s=this.priceScale(),a=new Set,l=n.lineBeingEdited()||n.lineBeingCreated();if(l&&a.add(l),n.sourcesBeingMoved().forEach(function(e){a.add(e)}),n.selection().sources().forEach(function(e){a.add(e)}),n.hoveredSource()&&a.add(n.hoveredSource()),s===o.defaultPriceScale())for(e=this._pane.state().dataSources(),
t=0;t<e.length;t++)o.isOverlay(e[t])&&r.push(e[t]);return{sources:r,topLevelSources:a}},n.prototype.backLabels=function(e){var t=[],i=this._grouppedSources(),n=function(n){var r,o,s,a;for(r=0;r<n.length;++r)if(o=n[r],(e||!i.topLevelSources.has(o))&&(s=o.priceAxisViews(this._pane.state(),this.priceScale())))for(a=0;a<s.length;a++)t.push(s[a])}.bind(this);return n(i.sources),n(this._pane.state().customSources()),t},n.prototype._isCurrencyLabelVisible=function(){return null!==this._currencyLabel&&!this._currencyLabel.classList.contains("js-hidden")},n.prototype.optimalWidth=function(){var e,t,i,n,r,o,s,a,l,c,u;if(!this.isVisible())return 0;if(e=32,t=this.rendererOptions(),this._pane.hasState())for(i=y(this._canvasBinding.canvas),n=this.priceScale().marks(),i.setFont(this.baseFont()),n.length>0&&(e=Math.max(this._widthCache.measureText(i,n[0].label),this._widthCache.measureText(i,n[n.length-1].label))),o=(r=this.backLabels(!0)).length;o--;)s=this._widthCache.measureText(i,r[o].text()),e=Math.max(e,s),(a=r[o].secondLineText())&&(e=Math.max(e,this._widthCache.measureText(i,a)));return l=0,this._isCurrencyLabelVisible()&&(null===this._currencyLabelWidth&&(s=(c=this._currencyLabel.getBoundingClientRect()).right-c.left+1,this._currencyLabelWidth=2*j+s),l=this._currencyLabelWidth),u=Math.max(l,Math.ceil(t.borderSize+t.tickLength+t.paddingInner+t.paddingOuter+e)),u+=u%2},n.prototype.setSizeAndOffset=function(e,t){if(e.w<0||e.h<0)throw new Error("Try to set invalid size to PriceAxisWidget "+JSON.stringify(e));null!==this._size&&this._size.equals(e)||(this._size=e,this._canvasBinding.resizeCanvas({width:e.w,height:e.h}),this._topCanvasBinding.resizeCanvas({width:e.w,height:e.h}),this._cell.style.width=e.w+"px",this._cell.style.height=e.h+"px",this._cell.style.minWidth=e.w+"px"),this._offset!==t&&(this._offset=t,this._cell.style.left=t+"px")},n.prototype.getWidth=function(){return this._size.w},n.prototype.getImage=function(){return this._canvasBinding.canvas},n.prototype.update=function(){},n.prototype._hightlightBackground=function(e,t,i,n){var r,o,s,a,l,c,u,h;if(i){for(r=t[0].price,o=t[0].price,s=1;s<t.length;s++)r=Math.min(r,t[s].price),o=Math.max(o,t[s].price);a=i.firstValue(),l=Math.floor(this.priceScale().priceToCoordinate(r,a)*n),c=Math.ceil(this.priceScale().priceToCoordinate(o,a)*n),u=this._backgroundBasedTheme.value(),h=R(u),S(e,Math.floor(n),l,Math.ceil((this._size.w-1)*n)+1,c-l,h)}},n.prototype.drawBackground=function(e,t){var i,n,r,o,s,a=Math.ceil(this._size.w*t),l=Math.ceil(this._size.h*t);b(e,0,0,a+1,l+1,this.backgroundColor()),this._highlighted&&(e.globalAlpha=.5,i=D[this._backgroundBasedTheme.value()].getThemedColor("color-price-axis-highlight"),S(e,0,0,a+1,l+1,i),e.globalAlpha=1),n=this._pane.chart().model(),r=this.priceScale(),(o=n.model().selection().sources().filter(function(e){return e.priceScale()===r}).filter(function(e){return L(e)}).reduce(function(e,t){var i=t.axisPoints();return 0===i.length?e:e.concat(i)},[])).length>0&&this._hightlightBackground(e,o,this.priceScale().mainSource(),t),
(s=n.model().crossHairSource()).startMeasurePoint()&&this._hightlightBackground(e,s.measurePoints(),this.priceScale().mainSource(),t)},n.prototype.drawBorder=function(e,t){var i,n;e.save(),e.fillStyle=this.lineColor(),i=Math.max(1,Math.floor(this.rendererOptions().borderSize*t)),n=this._isLeft?Math.floor(this._size.w*t)-i:0,e.fillRect(n,0,i,Math.ceil(this._size.h*t)+1),e.restore()},n.prototype.drawTickMarks=function(e,t){var i,n,r,o,s,a,l,c,u,h,d,p=this.priceScale().marks();for(e.save(),e.setFont(this.baseFont()),i=this.rendererOptions(),n=this._isLeft?Math.floor((this._size.w-i.tickLength-i.borderSize)*t):Math.floor(i.borderSize*t),r=this._isLeft?Math.round(n-i.paddingInner*t):Math.round(n+(i.tickLength+i.paddingInner)*t),o=this._isLeft?"right":"left",s=Math.round(i.tickLength*t),a=Math.max(1,Math.floor(t)),l=Math.floor(.5*t),c=0!==p.length?this._tickmarksCache.getLabelHeight(e,p[0].label):0,u=this._isCurrencyLabelVisible()?this._currencyLabelLineHeight()+Number(W.css_value_currency_label_top):0,h=p.map(function(e){var t;return!!this._options.croppedTickMarks||(t=e.coord-c/2,!(e.coord+c/2>this._size.h||t<u))},this),e.fillStyle=this.lineColor(),e.beginPath(),d=p.length;d--;)h[d]&&e.rect(n,Math.round(p[d].coord*t)-l,s,a);for(e.fill(),e.fillStyle=this.textColor(),d=p.length;d--;)h[d]&&this._tickmarksCache.paintTo(e,p[d].label,r,Math.round(p[d].coord*t),o);e.restore()},n.prototype._alignLabels=function(){function e(e){var t,i,n,o,a;for(t=0;t<e.length;++t)if(n=(i=e[t]).priceAxisViews(w,v),s.has(i)&&n&&n.forEach(function(e){e.setFixedCoordinate(null)}),n){for(o=0;o<n.length;o++)(a=n[o]).isVisible()&&y.push(a);r===i&&n.length>0&&(g=n[0].floatCoordinate())}}var t,i,n,r,o,s,a,l,c,u,h,d,p,f,_,m,g=this._size.h/2,y=[],v=this.priceScale(),b=v.orderedSources().slice(),S=this._pane,w=S.state(),P=this.rendererOptions(),T=v===w.defaultPriceScale();if(T)for(t=this._pane.state().dataSources(),i=0;i<t.length;i++)w.isOverlay(t[i])&&b.push(t[i]);for(n=this._pane.chart().model().model(),r=v.mainSource(),o=n.selection().sources(),s=new Set,o.forEach(function(e){s.add(e)}),e(b),e(this._pane.state().customSources()),a=y.filter(function(e){return e.floatCoordinate()<=g}),l=y.filter(function(e){return e.floatCoordinate()>g}),a.sort(function(e,t){return t.floatCoordinate()-e.floatCoordinate()}),a.length&&l.length&&l.push(a[0]),l.sort(function(e,t){return e.floatCoordinate()-t.floatCoordinate()}),c=y.length,i=0;i<c;i++)(u=y[i]).setFixedCoordinate(u.coordinate());if((h=this.priceScale().properties()).alignLabels&&h.alignLabels.value()){for(i=1;i<a.length;i++)u=a[i],p=(d=a[i-1]).height(P,!1),f=u.coordinate(),_=d.getFixedCoordinate(),(f||_)&&f>_-p&&u.setFixedCoordinate(_-p);for(m=1;m<l.length;m++)u=l[m],p=(d=l[m-1]).height(P,!0),f=u.coordinate(),_=d.getFixedCoordinate(),(f||_)&&f<_+p&&u.setFixedCoordinate(_+p)}},n.prototype.drawBackLabels=function(e,t){var i,n,r,o,s;for(e.save(),i=this.backLabels(),n=this.rendererOptions(),r=this._isLeft?"right":"left",o=0;o<i.length;o++)(s=i[o]).isAxisLabelVisible()&&(e.save(),
s.renderer().draw(e,n,this._widthCache,this._size.w,r,t),e.restore());e.restore()},n.prototype._minMaxViews=function(e){var t=this._pane.state(),i=this.priceScale(),n=[],r={value:null,view:null},o={value:null,view:null};return e.forEach(function(e){var n,s,a,l=e.priceAxisViews(t,i);if(l&&l.length)for(n=0;n<l.length;n++)a=(s=l[n]).coordinate(),(null===r.value||r.value<=a)&&(r={value:a,view:s}),(null===o.value||o.value>=a)&&(o={value:a,view:s})}),r.view&&n.push(r.view),o.view&&n.push(o.view),n},n.prototype._isFromSameSide=function(e){return(this._isLeft?this._pane.state().leftPriceScales():this._pane.state().rightPriceScales()).includes(e)},n.prototype._addViewsOrMaxMin=function(e,t){var i,n=this._pane.state(),r=this.priceScale();r!==n.defaultPriceScale()&&(e=e.filter(function(e){return n.isOverlay(e)||this._isFromSameSide(e.priceScale())}.bind(this))),0!==e.length&&(1===e.length?(i=e[0].priceAxisViews(n,r))&&i.length&&t.push(i):t.push(this._minMaxViews(e)))},n.prototype.drawCrossHairLabel=function(e,t){var i,n,r,o,s,a,l,c,u,h,d,p;e.save(),i=this._pane.chart().model().model(),n=this._pane.state(),r=this.priceScale(),o=[],s=this._pane.state(),a=this.priceScale()===n.defaultPriceScale(),(l=i.lineBeingEdited()||i.lineBeingCreated())&&(l.priceScale()===r||a&&n.isOverlay(l))&&(c=l.priceAxisViews(s,r))&&c.length&&o.push(c),this._addViewsOrMaxMin(i.sourcesBeingMoved(),o),this._addViewsOrMaxMin(i.selection().sources(),o),(u=i.hoveredSource())&&(h=n.customSources().includes(u)?r:u.priceScale(),!i.selection().isSelected(u)&&(this._isFromSameSide(h)||a&&n.isOverlay(u))&&(c=i.hoveredSource().priceAxisViews(s,r))&&c.length&&o.push(c)),(c=i.crossHairSource().priceAxisViews(s,r))&&c.length&&o.push(c),d=this.rendererOptions(),p=this._isLeft?"right":"left",o.forEach(function(i){i.forEach(function(i){e.save(),i.renderer().draw(e,d,this._widthCache,this._size.w,p,t),e.restore()},this)},this),e.restore()},n.prototype.priceScale=function(){return this._priceScale},n.prototype.isVisible=function(){return this._isVisible},n.prototype.setVisible=function(e){(e=!!e)!==this._isVisible&&(this._cell.style.display=e?"table-cell":"none",this._isVisible=e)},n.prototype.setAutoScale=function(e){var t=this._pane.state(),i=this.priceScale(),n=this._pane.chart().model();n.setPriceAutoScale(t,i,e)},n.prototype.reset=function(){var e=this._pane.state(),t=this.priceScale(),i=this._pane.chart().model();i.resetPriceScale(e,t)},n.prototype.hardResetCanvas=function(){null!==this._size&&(v(this._canvasBinding,this._size),v(this._topCanvasBinding,this._size))},n.prototype._isMainPane=function(){return this._pane.state().containsMainSeries()},n.prototype.paint=function(e){var t,i,n;this._isVisible&&e&&(e!==_.Cursor&&(t=y(this._canvasBinding.canvas),this._alignLabels(),this.drawBackground(t,this._canvasBinding.pixelRatio),this.drawBorder(t,this._canvasBinding.pixelRatio),this._pane.hasState()&&(this._updateCurrencyLabel(),this.drawTickMarks(t,this._canvasBinding.pixelRatio),this.drawBackLabels(t,this._canvasBinding.pixelRatio))),
this._pane.hasState()&&(i=y(this._topCanvasBinding.canvas),n=this._topCanvasBinding.pixelRatio,i.clearRect(0,0,Math.ceil(this._size.w*n)+1,Math.ceil(this._size.h*n)+1),this.drawCrossHairLabel(i,n)))},n.prototype._updateCurrencyLabel=function(){if(null!==this._currencyLabel){var e=this._priceScale.currency();null!==e&&this._properties.showCurrency.value()?e!==this._currencyText&&(this._currencyText=e,this._currencyLabel.classList.remove("js-hidden"),this._currencyLabel.textContent=e,this._currencyLabelWidth=null):(this._currencyLabel.classList.add("js-hidden"),this._currencyText=""),this._updateCurrencyLabelFont()}},n.prototype._currencyLabelLineHeight=function(){var e=this.rendererOptions();return Math.ceil(this.fontSize()+e.paddingTop+e.paddingBottom)},n.prototype._updateCurrencyLabelFont=function(){if(null!==this._currencyLabel){var e=this.fontSize();e!==this._currencyFontSize&&(this._currencyLabel.style.fontSize=e+"px",this._currencyLabel.style.lineHeight=this._currencyLabelLineHeight()+"px",this._currencyFontSize=e,this._currencyLabelWidth=null)}},n.prototype.restoreDefaultCursor=function(){this.setCursor("")},n.prototype.setCursor=function(e){var t="";"grabbing"!==e&&"ns-resize"!==e||(t="price-axis--cursor-"+e),this._currentCursorClassName!==t&&(this._currentCursorClassName&&this._cell.classList.remove(this._currentCursorClassName),t&&this._cell.classList.add(t),this._currentCursorClassName=t,this._cell.style.cursor)},n.prototype.onOptimalWidthNeedToBeRecalculated=function(){var e,t=this.optimalWidth();this._prevOptimalWidth<t&&this._pane&&(e=this._pane.chart(),this._updateTimeout||(this._updateTimeout=setTimeout(function(){e&&e.model().model().fullUpdate(),this._updateTimeout=null}.bind(this),100))),this._prevOptimalWidth=t},n.prototype._recreateTickMarksCache=function(e){this._tickmarksCache.destroy(),this._tickmarksCache=new f(e.fontSize,e.color,F,"")},n.prototype._onFontSizeChanged=function(){this._currencyLabelWidth=null,this._updateCurrencyLabelFont(),this.onOptimalWidthNeedToBeRecalculated()},n.prototype.setPriceScale=function(e){this._priceScale!==e&&(null!==this._priceScale&&this._priceScale.onMarksChanged().unsubscribe(this,this.onOptimalWidthNeedToBeRecalculated),this._priceScale=e,null!==e&&e.onMarksChanged().subscribe(this,this.onOptimalWidthNeedToBeRecalculated))},n.prototype.axisInfo=function(){return this._axisInfo},n.prototype.setHighlighted=function(e){this._highlighted!==e&&(this._highlighted=e)},z=r(4),e.exports={PriceAxisWidget:n,scaleRatioForContextMenuTransformer:r}},"1UCy":function(e,t,i){"use strict";var n;i.r(t),i.d(t,"AlertEditorAbortReason",function(){return n}),function(e){e[e.AlertIsInvalid=0]="AlertIsInvalid",e[e.AlertsDispatcherNotFound=1]="AlertsDispatcherNotFound",e[e.AlertsMaintenance=2]="AlertsMaintenance",e[e.ChartModelNotFound=3]="ChartModelNotFound",e[e.MainSeriesIsATR=4]="MainSeriesIsATR",e[e.MainSeriesIsOffline=5]="MainSeriesIsOffline",e[e.MainSeriesIsInReplay=6]="MainSeriesIsInReplay",e[e.SourceIsDangerous=7]="SourceIsDangerous",e[e.SymbolIsInvalid=8]="SymbolIsInvalid",
e[e.SymbolInfoTimeout=9]="SymbolInfoTimeout",e[e.UnsupportedResolution=10]="UnsupportedResolution",e[e.IsAlreadyPresent=11]="IsAlreadyPresent"}(n||(n={}))},"1Wlv":function(e,t,i){"use strict";(function(e,n){function r(t,i){u.call(this),i=Object.assign({},M,i),this._properties=new e(i),this._scalesProperties=t,this.m_height=0,this._internalHeightCache=null,this._internalHeightChanged=new n,this.m_priceRange=null,this._priceRangeChanged=new n,this.m_topMargin=0,this.m_bottomMargin=0,this._topPixelMargin=0,this._bottomPixelMargin=0,this.m_scrollStartPoint=null,this.m_scaleStartPoint=null,this.m_maxPriceRange=null,this.m_minPriceRange=null,this.m_priceRangeSnapshot=null,this._invalidatedForRange={isValid:!0,visibleBars:null};var o=this;this._coordinateToLogicalFunc=function(e,t){return o._coordinateToLogical(e,t)},this._logicalToCoordinateFunc=function(e,t){return o._logicalToCoordinate(e,t)},this.m_markBuilder=new b(this,100,this._coordinateToLogicalFunc,this._logicalToCoordinateFunc),this._modeChanged=new n,this._properties.isInverted.listeners().subscribe(this,r.prototype._onIsInvertedChanged),this._properties.listeners().subscribe(null,function(){if(o.mainSource()&&o.mainSource().model()){var e=o.mainSource().model().paneForSource(o.mainSource());o.mainSource().model().updatePane(e)}}),this._scalesProperties.listeners().subscribe(this,function(){this._marksCache=null}),this.setId(g())}var o=i("Ktlt").ChartEventsSource,s=i("Ai40"),a=s.study_ESD$TV_EARNINGS,l=s.study_ESD$TV_SPLITS,c=s.study_ESD$TV_DIVIDENDS,u=i("Yj6H").PriceScaleBase,h=i("Ss5c").LineDataSource,d=i("7ktv").PriceDataSource,p=i("qJq3").Series,f=i("kcTO").PriceFormatter,_=i("GH0z").PercentageFormatter,m=i("Qb4w").PriceRange,g=i("0waE").randomHash,y=i("s1Gx").sortSources,v=i("3ClC").isStudy,b=i("lTLF").PriceTickMarkBuilder,S=i("TTFo"),w=S.fromPercent,P=S.toPercent,T=S.toPercentRange,C=S.fromIndexedTo100,x=S.toIndexedTo100,I=S.toIndexedTo100Range,E=S.fromLog,L=S.toLog,A=new _,O=new f(100,1),M={autoScale:!0,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,log:!1,logDisabled:!1,alignLabels:!0,isInverted:!1,indexedTo100:!1};inherit(r,u),r.prototype.id=function(){return this._id},r.prototype.setId=function(e){this._id=e},r.prototype.initScaleProperties=function(){var e=this.isLockScale();e&&(this.properties().percentage.setValue(!1),this.properties().indexedTo100.setValue(!1),this.properties().log.setValue(!1),this.properties().autoScale.setValue(!1)),this.properties().percentageDisabled.setValue(e),this.properties().logDisabled.setValue(e),this._updateAutoScaleDisabledProperty(!1),this.properties().percentage.value()&&(this.properties().log.setValue(!1),this.properties().indexedTo100.setValue(!1)),this.properties().indexedTo100.value()&&(this.properties().log.setValue(!1),this.properties().percentage.setValue(!1))},r.prototype.isAutoScale=function(){return this._properties.autoScale.value()&&!this.isLockScale()},r.prototype.isLockScale=function(){return this._properties.lockScale.value()},r.prototype.isLog=function(){
return this._properties.log.value()},r.prototype.isPercentage=function(){return this._properties.percentage.value()},r.prototype.isIndexedTo100=function(){return this._properties.indexedTo100.value()},r.prototype.isRegular=function(){return!this.isPercentage()&&!this.isLog()&&!this.isIndexedTo100()},r.prototype._convertPriceRangeFromLog=function(e){var t,i;return null===e?null:(t=E(e.minValue()),i=E(e.maxValue()),new m(t,i))},r.prototype._convertPriceRangeToLog=function(e){var t,i;return null===e?null:(t=L(e.minValue()),i=L(e.maxValue()),new m(t,i))},r.prototype._canConvertPriceRangeFromLog=function(e){var t,i;return null!==e&&(t=E(e.minValue()),i=E(e.maxValue()),isFinite(t)&&isFinite(i))},r.prototype._setAutoScaleValueWithDependentProperties=function(e){this._properties.autoScale.setValueSilently(e),e&&(this._properties.percentage.setValueSilently(!1),this._properties.indexedTo100.setValueSilently(!1),this._properties.lockScale.setValueSilently(!1),this._properties.logDisabled.setValueSilently(!1)),this._updateAutoScaleDisabledProperty(!0)},r.prototype._setLockScaleValueWithDependentProperties=function(e){this._properties.lockScale.setValueSilently(e),e&&(this._properties.autoScale.setValueSilently(!1),this._properties.percentage.setValueSilently(!1),this._properties.indexedTo100.setValueSilently(!1),this._properties.log.setValueSilently(!1)),this._properties.percentageDisabled.setValueSilently(e),this._properties.logDisabled.setValueSilently(e),this._updateAutoScaleDisabledProperty(!0)},r.prototype._setPercentageValueWithDependentProperties=function(e){this._properties.percentage.setValueSilently(e),e&&(this._properties.autoScale.setValueSilently(!0),this._properties.log.setValueSilently(!1),this._properties.lockScale.setValueSilently(!1),this._properties.indexedTo100.setValueSilently(!1)),this._updateAutoScaleDisabledProperty(!0)},r.prototype._setIndexedTo100ValueWithDependentProperties=function(e){this._properties.indexedTo100.setValueSilently(e),e&&(this._properties.autoScale.setValueSilently(!0),this._properties.log.setValueSilently(!1),this._properties.lockScale.setValueSilently(!1),this._properties.percentage.setValueSilently(!1)),this._updateAutoScaleDisabledProperty(!0)},r.prototype._setLogValueWithDependentProperties=function(e){this._properties.log.setValueSilently(e),e&&(this._properties.lockScale.setValueSilently(!1),this._properties.percentage.setValueSilently(!1),this._properties.indexedTo100.setValueSilently(!1)),this._updateAutoScaleDisabledProperty(!0)},r.prototype._updateAutoScaleDisabledProperty=function(e){var t=this._properties.indexedTo100.value()||this._properties.percentage.value()||this._properties.lockScale.value();e?this._properties.autoScaleDisabled.setValueSilently(t):this._properties.autoScaleDisabled.setValue(t)},r.prototype.mode=function(){return{autoScale:this._properties.autoScale.value(),lockScale:this._properties.lockScale.value(),percentage:this._properties.percentage.value(),indexedTo100:this._properties.indexedTo100.value(),log:this._properties.log.value()}},
r.prototype.setMode=function(e){var t={},i=this.mode(),n=this._properties.state(),r=null;void 0!==e.autoScale&&e.autoScale!==n.autoScale&&(t.autoScale=e.autoScale,this._setAutoScaleValueWithDependentProperties(e.autoScale)),void 0!==e.lockScale&&e.lockScale!==n.lockScale&&(t.lockScale=e.lockScale,this._setLockScaleValueWithDependentProperties(e.lockScale)),void 0!==e.percentage&&e.percentage!==n.percentage&&(t.percentage=e.percentage,this._setPercentageValueWithDependentProperties(e.percentage),this._invalidatedForRange.isValid=!1),void 0!==e.indexedTo100&&e.indexedTo100!==n.indexedTo100&&(t.indexedTo100=e.indexedTo100,this._setIndexedTo100ValueWithDependentProperties(e.indexedTo100),this._invalidatedForRange.isValid=!1),void 0!==e.log&&e.log!==n.log&&(t.log=e.log,this._setLogValueWithDependentProperties(e.log)),n.log&&!this._properties.log.value()&&(this._canConvertPriceRangeFromLog(this.m_priceRange)?null!==(r=this._convertPriceRangeFromLog(this.m_priceRange))&&this.setPriceRange(r):this.properties().autoScale.setValue(!0)),!n.log&&this._properties.log.value()&&null!==(r=this._convertPriceRangeToLog(this.m_priceRange))&&this.setPriceRange(r),n.autoScale!==this._properties.autoScale.value()&&this._properties.autoScale.listeners().fire(this._properties.autoScale),n.autoScaleDisabled!==this._properties.autoScaleDisabled.value()&&this._properties.autoScaleDisabled.listeners().fire(this._properties.autoScaleDisabled),n.lockScale!==this._properties.lockScale.value()&&this._properties.lockScale.listeners().fire(this._properties.lockScale),n.percentage!==this._properties.percentage.value()&&(this._properties.percentage.listeners().fire(this._properties.percentage),this.updateFormatter()),n.indexedTo100!==this._properties.indexedTo100.value()&&(this._properties.indexedTo100.listeners().fire(this._properties.indexedTo100),this.updateFormatter()),n.percentageDisabled!==this._properties.percentageDisabled.value()&&this._properties.percentageDisabled.listeners().fire(this._properties.percentageDisabled),n.log!==this._properties.log.value()&&this._properties.log.listeners().fire(this._properties.log),n.logDisabled!==this._properties.logDisabled.value()&&this._properties.logDisabled.listeners().fire(this._properties.logDisabled),void 0===t.log&&void 0===t.percentage&&void 0===t.lockScale&&void 0===t.autoScale&&void 0===t.indexedTo100||this._modeChanged.fire(i,this.mode())},r.prototype.modeChanged=function(){return this._modeChanged},r.prototype.properties=function(){return this._properties},r.prototype.fontSize=function(){return this._scalesProperties.fontSize.value()},r.prototype.height=function(){return this.m_height},r.prototype.setHeight=function(e){this.m_height!==e&&(this.m_height=e,this._invalidateInternalHeightCache(),this._marksCache=null)},r.prototype.topPixelMargin=function(){return this.isInverted()?this.m_bottomMargin*this.height()+this._bottomPixelMargin:this.m_topMargin*this.height()+this._topPixelMargin},r.prototype.topMargin=function(){return this.m_topMargin},r.prototype.setTopMargin=function(e){
if(!isNumber(e))throw new TypeError("invalid margin");if(e<0||e>30)throw new RangeError("invalid margin");this.m_topMargin!==e&&(this.m_topMargin=e,this._invalidateInternalHeightCache(),this._marksCache=null)},r.prototype.bottomPixelMargin=function(){return this.isInverted()?this.m_topMargin*this.height()+this._topPixelMargin:this.m_bottomMargin*this.height()+this._bottomPixelMargin},r.prototype.bottomMargin=function(){return this.m_bottomMargin},r.prototype.setBottomMargin=function(e){if(!isNumber(e))throw new TypeError("invalid margin");if(e<0||e>30)throw new RangeError("invalid margin");this.m_bottomMargin!==e&&(this.m_bottomMargin=e,this._invalidateInternalHeightCache(),this._marksCache=null)},r.prototype.internalHeight=function(){if(this._internalHeightCache)return this._internalHeightCache;var e=this.height()-this.topPixelMargin()-this.bottomPixelMargin();return this._internalHeightCache=e,e},r.prototype._invalidateInternalHeightCache=function(){this._internalHeightCache=null,this._internalHeightChanged.fire()},r.prototype.internalHeightChanged=function(){return this._internalHeightChanged},r.prototype.priceRange=function(){return this.makeSureItIsValid(),this.m_priceRange},r.prototype.priceRangeChanged=function(){return this._priceRangeChanged},r.prototype.setPriceRange=function(e,t,i){var n,r,o;if(!(e instanceof m))throw new TypeError("incorrect price range");return n=this.m_priceRange,!!(t||null===n&&null!==e||null!==n&&!n.equals(e))&&(r=null!==this.m_maxPriceRange&&this.m_maxPriceRange.containsStrictly(e),o=null!==this.m_minPriceRange&&e.containsStrictly(this.m_minPriceRange),!(this.isLockScale()&&!t&&(r||o))&&(this._marksCache=null,this.m_priceRange=e,void(i||this._priceRangeChanged.fire(n,e))))},r.prototype.isEmpty=function(){return this.makeSureItIsValid(),0===this.m_height||!this.m_priceRange||this.m_priceRange.isEmpty()},r.prototype.invertedCoordinate=function(e){return this.isInverted()?e:this.height()-1-e},r.prototype.priceToLogical=function(e){return this.isLog()&&e?L(e):e},r.prototype.logicalToPrice=function(e){return this.isLog()?E(e):e},r.prototype._logicalToCoordinate=function(e,t){var i;return this.makeSureItIsValid(),this.isEmpty()?0:(e=this.priceToLogical(e),i=this.bottomPixelMargin()+(this.internalHeight()-1)*(e-this.priceRange().minValue())/(this.priceRange().maxValue()-this.priceRange().minValue()),this.invertedCoordinate(i))},r.prototype.priceToCoordinate=function(e,t){return this.isPercentage()?e=P(e,t):this.isIndexedTo100()&&(e=x(e,t)),this._logicalToCoordinate(e,t)},r.prototype.pointsArrayToCoordinates=function(e,t){var i,n,r,o,s,a,l,c,u,h;if(this.makeSureItIsValid(),i=this.bottomPixelMargin(),n=this.priceRange().minValue(),r=this.priceRange().maxValue(),o=this.internalHeight()-1,s=this.isInverted(),a=o/(r-n),this.isPercentage())for(l=0;l<e.length;l++)e[l].y=P(e[l].y,t);if(this.isIndexedTo100())for(l=0;l<e.length;l++)e[l].y=x(e[l].y,t);if(this.isLog())for(l=0;l<e.length;l++)e[l].y=this.priceToLogical(e[l].y);for(l=0;l<e.length;l++)c=e[l].y,
TradingView.isNaN(c)||void 0===c||null===c||(u=i+a*(c-n),h=s?u:this.m_height-1-u,e[l].y=h)},r.prototype.pricesArrayToCoordinates=function(e,t){var i,n,r,o,s,a,l,c,u,h;if(this.makeSureItIsValid(),i=this.bottomPixelMargin(),n=this.priceRange().minValue(),r=this.priceRange().maxValue(),o=this.internalHeight()-1,s=this.isInverted(),a=o/(r-n),this.isPercentage())for(l=0;l<e.length;l++)e[l]=P(e[l],t);if(this.isIndexedTo100())for(l=0;l<e.length;l++)e[l]=x(e[l],t);if(this.isLog())for(l=0;l<e.length;l++)e[l]=this.priceToLogical(e[l]);for(l=0;l<e.length;l++)void 0!==(c=e[l])&&null!==c&&(u=i+a*(c-n),h=s?u:this.m_height-1-u,e[l]=h)},r.prototype.barPricesToCoordinates=function(e,t){var i,n,r,o,s,a,l,c,u,h,d,p,f,_,m,g;if(this.makeSureItIsValid(),i=e,n=this.bottomPixelMargin(),r=this.priceRange().minValue(),o=this.priceRange().maxValue(),s=this.internalHeight()-1,a=null,this.isPercentage()?a=P:this.isIndexedTo100()?a=x:this.isLog()&&(a=function(e){return e?L(e):e}),null!==a)for(l=0;l<i.length;l++)i[l]&&(i[l].open=a(i[l].open,t),i[l].high=a(i[l].high,t),i[l].low=a(i[l].low,t),i[l].close=a(i[l].close,t),void 0!==i[l].additionalPrice&&(i[l].additionalPrice=a(i[l].additionalPrice,t)));for(c=s/(o-r),u=this.isInverted(),l=0;l<i.length;l++)(h=i[l])&&(d=n+c*(h.open-r),p=u?d:this.m_height-1-d,h.open=p,d=n+c*(h.high-r),f=u?d:this.m_height-1-d,h.high=f,d=n+c*(h.low-r),_=u?d:this.m_height-1-d,h.low=_,d=n+c*(h.close-r),m=u?d:this.m_height-1-d,h.close=m,void 0!==h.additionalPrice&&(d=n+c*(h.additionalPrice-r),g=u?d:this.m_height-1-d,h.additionalPrice=g))},r.prototype._coordinateToLogical=function(e,t){var i,n;return this.makeSureItIsValid(),this.isEmpty()?0:(i=this.invertedCoordinate(e),n=this.priceRange().minValue()+(this.priceRange().maxValue()-this.priceRange().minValue())*((i-this.bottomPixelMargin())/(this.internalHeight()-1)),this.logicalToPrice(n))},r.prototype.coordinateToPrice=function(e,t){var i=this._coordinateToLogical(e,t);return this.isPercentage()?i=w(i,t):this.isIndexedTo100()&&(i=C(i,t)),i},r.prototype.dataSources=function(){return this.m_dataSources},r.prototype.orderedSources=function(){var e,t,i;if(this._cachedOrderedSoruces)return this._cachedOrderedSoruces;for(e=[],t=0;t<this.m_dataSources.length;t++)(i=this.m_dataSources[t])instanceof c||i instanceof l||i instanceof a||i instanceof o||(null==i.zorder()&&i.setZorder(t+1),e.push(i));return e=y(e),this._cachedOrderedSoruces=e,this._cachedOrderedSoruces},r.prototype.invalidateSourcesCache=function(){this._cachedOrderedSoruces=null},r.prototype.isInverted=function(){return this._properties.isInverted.value()},r.prototype.isScaled=function(){return"number"==typeof this.m_scaleStartPoint},r.prototype.startScale=function(e){this.isPercentage()||this.isIndexedTo100()||null===this.m_scaleStartPoint&&null===this.m_priceRangeSnapshot&&(this.isEmpty()||(this.m_scaleStartPoint=this.m_height-e,this.m_priceRangeSnapshot=this.priceRange().clone()))},r.prototype.marks=function(){return this._marksCache?this._marksCache:(this.m_markBuilder.rebuildTickMarks(),
this._marksCache=this.m_markBuilder.marks(),this._onMarksChanged.fire(),this._marksCache)},r.prototype.setMaxPriceRange=function(e){this.m_maxPriceRange=e},r.prototype.setMinPriceRange=function(e){this.m_minPriceRange=e},r.prototype.scaleTo=function(e){var t,i;this.isPercentage()||this.isIndexedTo100()||null!==this.m_scaleStartPoint&&(this.setMode({autoScale:!1}),(e=this.m_height-e)<0&&(e=0),t=(this.m_scaleStartPoint+.2*(this.m_height-1))/(e+.2*(this.m_height-1)),i=this.m_priceRangeSnapshot.clone(),t=Math.max(t,.1),i.scaleAroundCenter(t),this.setPriceRange(i))},r.prototype.endScale=function(){this.isPercentage()||this.isIndexedTo100()||null!==this.m_scaleStartPoint&&(this.m_scaleStartPoint=null,this.m_priceRangeSnapshot=null)},r.prototype.startScroll=function(e){this.isAutoScale()||null===this.m_scrollStartPoint&&null===this.m_priceRangeSnapshot&&(this.isEmpty()||(this.m_scrollStartPoint=e,this.m_priceRangeSnapshot=this.priceRange().clone()))},r.prototype.scrollTo=function(e){var t,i,n,r;this.isAutoScale()||null!==this.m_scrollStartPoint&&(t=this.priceRange().length()/(this.internalHeight()-1),i=e-this.m_scrollStartPoint,this.isInverted()&&(i*=-1),n=i*t,(r=this.m_priceRangeSnapshot.clone()).shift(n),this.setPriceRange(r,!0),this._marksCache=null)},r.prototype.endScroll=function(){this.isAutoScale()||null!==this.m_scrollStartPoint&&(this.m_scrollStartPoint=null,this.m_priceRangeSnapshot=null)},r.prototype.state=function(){var e={};return e.id=this._id,e.m_priceRange=!this.priceRange()||this.isPercentage()||this.isIndexedTo100()?null:this.priceRange().serialize(),e.m_isAutoScale=this.isAutoScale(),e.m_isPercentage=this._properties.percentage.value(),e.m_isIndexedTo100=this._properties.indexedTo100.value(),e.m_isLog=this._properties.log.value(),e.m_isLockScale=this.isLockScale(),e.m_isInverted=this.isInverted(),e.m_height=this.m_height,e.m_topMargin=this.m_topMargin,e.m_bottomMargin=this.m_bottomMargin,e.alignLabels=this._properties.alignLabels.value(),e},r.prototype.restoreState=function(e){var t,i=e.m_priceRange;if(void 0===i)throw new TypeError("invalid state");if(void 0===e.m_isAutoScale)throw new TypeError("invalid state");void 0!==e.id&&(this._id=e.id),t={autoScale:e.m_isAutoScale},void 0!==e.m_isPercentage&&(t.percentage=e.m_isPercentage),void 0!==e.m_isIndexedTo100&&(t.indexedTo100=e.m_isIndexedTo100),void 0!==e.m_isLog&&(t.log=e.m_isLog),void 0!==e.m_isLockScale&&(t.lockScale=e.m_isLockScale),void 0!==e.m_isInverted&&this._properties.isInverted.setValue(e.m_isInverted),void 0!==e.m_height&&this.setHeight(Math.max(0,e.m_height)),this.setMode(t),i?(i instanceof m||(i=new m(i)),this.setPriceRange(i,!0)):this.m_priceRange=null,void 0!==e.m_topMargin&&(this.m_topMargin=e.m_topMargin),void 0!==e.m_bottomMargin&&(this.m_bottomMargin=e.m_bottomMargin),void 0!==e.alignLabels&&this._properties.alignLabels.setValue(e.alignLabels),this._mainSource=void 0,this._scaleSeriesOnly=!1},r.prototype.mainSource=function(){var e,t;if(void 0!==this._mainSource)return this._mainSource;for(e=void 0,t=0;t<this.m_dataSources.length;t++){
if(TradingView.isInherited(this.m_dataSources[t].constructor,p)){e=this.m_dataSources[t];break}!e&&this.m_dataSources[t]instanceof d&&(e=this.m_dataSources[t])}return this._mainSource=e,this._mainSource||null},r.prototype.formatter=function(){return this._formatter||this.updateFormatter(),this._formatter},r.prototype.formatPrice=function(e,t){return this.isPercentage()?e=P(e,t):this.isIndexedTo100()&&(e=x(e,t)),this.formatter().format(e)},r.prototype.formatPriceAbsolute=function(e){return this._mainSourceFormatter().format(e)},r.prototype.formatPricePercentage=function(e,t){return e=P(e,t),A.format(e)},r.prototype.updateFormatter=function(){var e,t;this._marksCache=null,t=100,(e=this.mainSource())&&(t=e.base()),this._formatter=null,this.isPercentage()?(this._formatter=A,t=100):this.isIndexedTo100()?(this._formatter=new f(100,1),t=100):this._formatter=e?e.formatter():O,this.m_markBuilder=new b(this,t,this._coordinateToLogicalFunc,this._logicalToCoordinateFunc),this.m_markBuilder.rebuildTickMarks()},r.prototype._onIsInvertedChanged=function(){this._marksCache=null,this.m_markBuilder.rebuildTickMarks()},r.prototype._mainSourceFormatter=function(){return this.mainSource().formatter()||O},r.prototype._recalculateSourcesForAutoscale=function(){var e,t;this._mainSource&&(this._scaleSeriesOnly=this._scalesProperties.scaleSeriesOnly.value()),e=this._scaleSeriesOnly&&this._hasSeries,t=function(t){return!!(t.properties().visible.value()||t instanceof p)&&(!(t instanceof c||t instanceof l||t instanceof a)&&(e?TradingView.isInherited(t.constructor,p):t instanceof d))},this._sourcesForAutoscale=this.m_dataSources.filter(t)},r.prototype.sourcesForAutoscale=function(){return this._mainSource&&this._scaleSeriesOnly!==this._scalesProperties.scaleSeriesOnly.value()&&(this._sourcesForAutoscale=null),this._sourcesForAutoscale||this._recalculateSourcesForAutoscale(),this._sourcesForAutoscale},r.prototype.recalculatePriceRange=function(e){this._invalidatedForRange={visibleBars:e,isValid:!1}},r.prototype.makeSureItIsValid=function(){this._invalidatedForRange.isValid||(this._invalidatedForRange.isValid=!0,this.recalculatePriceRangeImpl())},r.prototype.recalculatePriceRangeImpl=function(){var e,t,i,n,r,o,s,a,l,c,u,h,d=this._invalidatedForRange.visibleBars;if(null!==d){for(e=null,t=this.sourcesForAutoscale(),i=this.isPercentage(),n=this.isIndexedTo100(),r=0,o=0,s=0;s<t.length;s++)(a=t[s]).properties().visible.value()&&(l=d.firstBar(),c=d.lastBar(),(h=(u=a.autoScaleInfo(l,c)).range)&&(i?h=T(h,a.firstValue()):n&&(h=I(h,a.firstValue())),e=null===e?h:e.merge(h)),void 0!==u.topPixelMargin&&(r=Math.max(r,u.topPixelMargin)),void 0!==u.bottomPixelMargin&&(o=Math.max(o,u.bottomPixelMargin)));(Math.abs(r-this._topPixelMargin)>0||Math.abs(o-this._bottomPixelMargin)>0)&&(this._bottomPixelMargin=o,this._topPixelMargin=r,this._marksCache=null,this._invalidateInternalHeightCache()),e?(e.minValue()===e.maxValue()&&(e=new m(e.minValue()-.5,e.maxValue()+.5)),this.setPriceRange(e)):this.m_priceRange||this.setPriceRange(new m(-.5,.5)),
this._invalidatedForRange.isValid=!0}},r.prototype.sourcesToUpdateViews=function(){var e,t;if(!this._sourcesToUpdateViews)for(this._sourcesToUpdateViews=[],e=0;e<this.m_dataSources.length;e++)t=this.m_dataSources[e],TradingView.isInherited(t.constructor,h)&&!t.isActualSymbol()||this._sourcesToUpdateViews.push(t);return this._sourcesToUpdateViews},r.prototype.updatePaneViews=function(){var e,t=this.sourcesToUpdateViews();for(e=0;e<t.length;e++)t[e].updateAllViews()},r.prototype.canDetachSource=function(e){return this.m_dataSources.some(function(t){return t!==e&&!(t instanceof c||t instanceof l||t instanceof a)&&t instanceof d&&!(v(t)&&t.isLinkedToSeries())})},t.PriceScale=r}).call(this,i("tc+8"),i("aIyQ"))},"1gmO":function(e,t,i){"use strict";function n(e,t,i,n){P.call(this),this.m_model=e,this._data=t,this._alertOwnerSource=i,this._paneView=new r(this,e),this._priceAxisView=new c(this,e),this._priceLinePriceAxisView=new h(this,e),this.toolname="AlertLabel",this._constructor="AlertLabel",this._invokeAlertEditor=n,this._resetUserEditEnabled(),this.hasAlert.setValue(!0),this._resetUserEditEnabledCallback=this._resetUserEditEnabled.bind(this),this._chartModelLightUpdate=e.lightUpdate.bind(e),this._propertyMock=new _.default({visible:!0}),this._alertSeriesId=t.get("extra").alertSeries().id,t.on("change:id",this._resetUserEditEnabledCallback),t.on("change:extra",this._resetUserEditEnabledCallback),t.on("change:extra",this._chartModelLightUpdate),t.on("change:isBeingEdited",this._resetUserEditEnabledCallback)}function r(e,t){this.m_alertLabel=e,this.m_model=t,this.m_item=null,this._invalidated=!0,this.labelWidth=10,this._highlightCallback=this.highlight.bind(this),this._updateHoverCallback=this.updateHover.bind(this),this.m_alertLabel.alert().on("fired",this._highlightCallback),this.m_alertLabel.alert().on("change:hovered",this._updateHoverCallback)}function o(e){this.points=e.item.points,this.alert=e.item.alert,this.borderColor=e.color,this.cursor=e.cursor,this.labelWidth=e.width}function s(e){V.call(this),this.color=e.color,this.points=e.item.points,this.lineWidth=e.lineWidth,this.lineStyle=e.lineStyle}function a(e){this._data=e}function l(e){this.points=e.items,this.height=e.height,this.width=e.width,this.color=e.color,this.lineStyle=e.lineStyle,this.horzLineWidth=e.lineWidth,this.connectingLineWidth=e.connectingLineWidth}function c(e,t){this._alertLabel=e,this._model=t,this._data={visible:!1,items:[]},this._invalidated=!0,this._updateHoverCallback=this._updateHover.bind(this),this._alertLabel.alert().on("change:hovered",this._updateHoverCallback)}function u(e){this._bases=e}function h(e,t){c.call(this,e,t),this._renderers=[],this._compositeRenderer=new u(this._renderers)}var d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B,N,F,j,W,U,H,z;Object.defineProperty(t,"__esModule",{value:!0}),t.ALERT_LABEL_WIDTH=void 0,d=i("LxhU"),p=i("oR7+"),f=i("tc+8"),_=(z=f)&&z.__esModule?z:{default:z},m=i("aO4+"),g=m.Point,y=m.point,v=m.box,b=i("f6yo").pointInBox,S=i("qFKp").CheckMobile,w=i("Hr11").max,P=i("fgLi").DataSource,
T=i("VdBB").HitTestResult,C=i("vq8G").SelectionRenderer,x=i("Zy3/").CompositeRenderer,I=i("PT1i").linking,E=i("ikwP"),L=E.calcTextHorizontalShift,A=E.drawScaled,O=E.getCanvasDevicePixelRatio,M=i("+GxX").isFeatureEnabled,k=i("HL4j").PriceLineAxisRenderer,D=i("zDbI").CHART_FONT_FAMILY,R=i("s1Gx").sortSourcesPreOrdered,V=i("cPgM").ScaledPaneRenderer,B=R.AlertLabel,t.ALERT_LABEL_WIDTH=5,N="rgba( 119, 119, 119, 1)",F=S.any()?24:3,inherit(n,P),n.prototype.zorder=function(){return B},n.prototype.alertOwnerSource=function(){return this._alertOwnerSource},n.prototype.alertSeriesId=function(){return this._alertSeriesId},n.prototype.stop=function(){this._data.off("change:id",this._resetUserEditEnabledCallback),this._data.off("change:extra",this._resetUserEditEnabledCallback),this._data.off("change:extra",this._chartModelLightUpdate),this._data.off("change:isBeingEdited",this._resetUserEditEnabledCallback),this._paneView.stop(),this._priceAxisView.stop()},n.prototype._resetUserEditEnabled=function(){var e=this._data;this._userEditEnabled=!e.get("isBeingEdited")&&!e.isNew()&&e.isPrice()&&e.get("extra")},n.prototype.data=function(){return this._data},n.prototype.alert=n.prototype.data,n.prototype.alertId=function(){return this.alert().id},n.prototype.getAlert=function(){return Promise.resolve(this._data)},n.prototype.getAlertSync=function(){return this._data},n.prototype.movable=function(){return!0},n.prototype.isSynchronizable=function(){return!1},n.prototype.state=function(){var e=this.alert().get("extra"),t=[];return e&&e.conditionData().isChannel?(t.push({price:e.price().upper}),t.push({price:e.price().lower})):t.push({price:e.price()}),{points:t}},n.prototype.restorePoints=function(e,t){var i=this.alert().get("extra");i.conditionData().isChannel?i.price({upper:e[0].price,lower:e[1].price}):i.price(e[0].price)},n.prototype.createServerPoints=function(){},n.prototype.properties=function(){return this._propertyMock},n.prototype.paneViews=function(){return TradingView.printing?null:this.labelVisible()?[this._paneView]:null},n.prototype.dataWindowView=function(){return null},n.prototype.priceAxisViews=function(e,t){return TradingView.printing?[]:this.labelVisible()?e.findTargetPriceAxisViews(this,t,[this._priceAxisView],[this._priceLinePriceAxisView]):[]},n.prototype.statusView=function(){return null},n.prototype.updateAllViews=function(){this._paneView.update(),this._priceAxisView.update(),this._priceLinePriceAxisView.update()},n.prototype.pointsCount=function(){return 0},n.prototype.title=function(){return this.alert().title()},n.prototype.startMoving=function(e,t){this._userEditEnabled=!1,this._startMovingPoint=e.logical,this.alert().saveState()},n.prototype.move=function(e,t){var i=e.logical.price,n=this.alert().get("extra");n.conditionData().isChannel&&(0===t?i={upper:i}:1===t&&(i={lower:i})),n.price(i),this._currentMovingPoint=e.logical},n.prototype.endMoving=function(){var e=this,t=this._startMovingPoint,i=this._currentMovingPoint;this._userEditEnabled=!0,delete this._startMovingPoint,delete this._currentMovingPoint,
t&&i&&t!==i&&!this._undoMode&&this._invokeAlertEditor({dataSourceHub:this.m_model,alert:this.alert(),type:"edit_alert",onEditCancel:function(){setTimeout(function(){e.alert().restoreState()},0)},actionSource:"alert_label_move"})},n.prototype.showInObjectTree=function(){return!1},n.prototype.isRemovedByStudyTemplates=function(){return!1},n.prototype.isUserDeletable=function(){return!1},n.prototype.doesMovingAffectsUndo=function(){return!1},n.prototype.drawHorzLine=function(){return this.labelLineVisible()},n.prototype.canDrawLabelForAlert=function(){var e=this.alert(),t=e.get("extra"),i=t&&t.getMainSeries(),n=i&&i.getStyle&&i.getStyle(),r=this.m_model.mainSeries(),o=r&&r.properties(),s=o&&o.style&&o.style.value(),a=d.Interval.isEqual(e.get("resolution"),I.interval.value())||e.get("crossInterval"),l=!e.isRangeBasedStyle()&&!r.isRangeBasedStyle()||n===s;return e.isPrice()&&a&&l},n.prototype.labelVisible=function(){return M("hide-alert-controls-on-property-page")?p.defaultSettings.visible:(0,p.getSettingsProperty)().visible.value()},n.prototype.labelLineVisible=function(){return(0,p.getSettingsProperty)().line.visible.value()},n.prototype.color=function(){return this._highlighted?(0,p.getSettingsProperty)().highlightColor.value():this.alert().isNew()?N:M("hide-alert-controls-on-property-page")?p.defaultSettings.color:(0,p.getSettingsProperty)().color.value()},r.prototype.stop=function(){this.m_alertLabel.alert().off("fired",this._highlightCallback),this.m_alertLabel.alert().off("change:hovered",this._updateHoverCallback)},r.prototype.update=function(){this._invalidated=!0},r.prototype.invalidate=function(){this.m_model.lightUpdate()},r.prototype.highlight=function(){var e=function(){this._highlighted=!0,this.update(),this.invalidate(),setTimeout(t,500)}.bind(this),t=function(){this._highlighted=!1,this.update(),this.invalidate()}.bind(this);e(),setTimeout(e,1e3)},r.prototype.updateHover=function(e,t){this._hovered=!!t,this.update(),this.invalidate()},r.prototype._updateImpl=function(){var e,t,i,n,r,o=this,s=this.m_alertLabel.alert(),a=s.get("extra"),l=[],c=-1,u=function(e){var t=o.m_model.paneForSource(o.m_alertLabel).mainDataSource().firstValue();return o.m_alertLabel.priceScale().priceToCoordinate(e,t)};this.m_alertLabel.canDrawLabelForAlert()?(e=this.m_model.paneForSource(this.m_alertLabel).width()-this.labelWidth/2+c,t=a.price(),a.conditionData().isChannel?(i=u(t.upper),n=u(t.lower),l.push(new g(e,i)),l.push(new g(e,n))):(r=u(t),l.push(new g(e,r))),this.m_item={alert:s,points:l},this.m_model.selection().isSelected(this.m_alertLabel)?this._selectionData={points:l,hittestResult:T.MOVEPOINT,bgColor:this.m_model.backgroundColor().value(),visible:!0}:this._selectionData=null):this.m_item=null},r.prototype.lineWidth=function(){var e;return e=M("hide-alert-controls-on-property-page")?p.defaultSettings.line.width:(0,p.getSettingsProperty)().line.width.value(),this._hovered&&(e+=2),e},r.prototype.lineStyle=function(){return M("hide-alert-controls-on-property-page")?p.defaultSettings.line.style:(0,
p.getSettingsProperty)().line.style.value()},r.prototype.renderer=function(){var e,t,i,n;if(this._invalidated&&(this._updateImpl(),this._invalidated=!1),this.m_item)return e=this.m_alertLabel,t=this.m_model,(i={}).item=this.m_item,i.barSpacing=t.timeScale().barSpacing(),i.height=this._hovered?12:10,i.width=this._hovered?this.labelWidth+2:this.labelWidth,i.connectingLineWidth=this._hovered?3:1,i.color=e.color(),i.lineWidth=this.lineWidth(),i.lineStyle=this.lineStyle(),i.cursor=t.crossHairSource(),n=new x,e.drawHorzLine()&&n.append(new s(i)),e===t.hoveredSource()&&n.append(new o(i)),t.selection().isSelected(e)&&n.append(new C(this._selectionData)),n},inherit(o,V),o.prototype._drawImpl=function(e){var t=function(e,t,i){var n,r,o,s,a,l,c,u,h,d,p,f,_=1,m=12,y=8,v=20,b=20,S=5,P=[$.t("Alert: ")+this.alert.get("description")];for(e.font=m+"px "+D,o=2*v+(r=w($.map(P,function(t){return e.measureText(t).width||0}))),s=P.length*m+2*y+(P.length-1)*y,2===this.points.length?(a=this.points[0],l=this.points[1],this.cursor.x<a.x-this.labelWidth?(c=this.cursor.x,u=Math.abs(l.y-this.cursor.y)<Math.abs(a.y-this.cursor.y)?l.y:a.y):(c=a.x,u=this.cursor.y,u=Math.min(l.y,u),u=Math.max(a.y,u)),n=new g(c,u)):n=new g(this.cursor.x,this.points[0].y),h={x:n.x-b-S-o,y:n.y-s/2},e.lineWidth=_,e.strokeStyle=this.borderColor,e.fillStyle=t,e.translate(h.x,h.y),e.beginPath(),e.moveTo(0,0),e.lineTo(o,0),e.lineTo(o,s/2-S),e.lineTo(o+S,s/2),e.lineTo(o,s/2+S),e.lineTo(o,s),e.lineTo(0,s),e.lineTo(0,0),e.stroke(),e.fill(),e.textBaseline="bottom",e.fillStyle=i,e.textAlign="start",d=v+L(e,r),p=0,f=0;f<P.length;f++)p+=y+m,e.fillText(P[f],d,p);e.translate(-h.x,-h.y)}.bind(this);Promise.resolve().then(i.bind(null,"EsvI")).then(function(i){var n=i.getThemedColor,r=n("color-bg-primary"),o=n("color-alert-text"),s=O(e.canvas);A(e,s,function(){t(e,r,o)})})},o.prototype.hitTest=function(){return null},inherit(s,V),s.prototype._drawImpl=function(e){var t,i,n;for(e.lineWidth=this.lineWidth,e.strokeStyle=this.color,CanvasEx.setLineStyle(e,this.lineStyle),n=0;n<this.points.length;n++)i=this.points[n].y,t=this.points[n].x,e.beginPath(),e.moveTo(t,i),e.lineTo(0,i),e.stroke()},s.prototype.hitTest=function(e){var t,i,n;for(n=0;n<this.points.length;n++)if(t=this.points[n].y,Math.abs(t-e.y)<=F)return i=n,new T(T.MOVEPOINT,i);return null},j=5,W=5,U=2,H=1,a.prototype.draw=function(e,t,i,n,r,o){var s,a,l,c,u,h,d;e.save(),e.fillStyle=this._data.color,s=this._data.items[0],a=Math.round(H*o),l=Math.round(s*o),c=Math.round(j*o),u=Math.round(W*o),h=Math.round(U*o),d=Math.round(n*o),"left"===r?(e.beginPath(),e.moveTo(a,l),e.lineTo(a+c,l-u),e.lineTo(a+c+h,l-u),e.lineTo(a+c+h,l+u),e.lineTo(a+c,l+u),e.closePath(),e.fill()):(e.beginPath(),e.moveTo(d-a,l),e.lineTo(d-a-c,l-u),e.lineTo(d-a-c-h,l-u),e.lineTo(d-a-c-h,l+u),e.lineTo(d-a-c,l+u),e.closePath(),e.fill()),e.restore()},a.prototype.hitTest=function(e,t,i){var n=this._data.items[0],r=null;return(r="right"===i?v(y(H,n-W),y(H+j+U,n+W)):v(y(t-H-1,n-W),y(t-H-j-U-1,n+W))).min.x-=F,r.min.y-=F,r.max.x+=F,r.max.y+=F,b(e,r)?new T(T.REGULAR):null},
l.prototype.hitTest=function(e,t,i){var n=[],r=this.points[0],o=this.points[1],s=this._claculateTriangleHeight(r,o),a=this.connectingLineWidth,l=this.horzLineWidth/2;return"right"===i?(n.push(v(y(H,r-l),y(H+this.width,r+s))),n.push(v(y(H,o+l),y(H+this.width,o-s))),o>r&&n.push(v(y(H+this.width-a,o),y(H+this.width+a,r)))):(n.push(v(y(t-H,r-l),y(t-H-this.width,r+s))),n.push(v(y(t-H,o+l),y(t-H-this.width,o-s))),o>r&&n.push(v(y(t-H-this.width-a,o),y(t-H-this.width+a,r)))),n.forEach(function(e){e.min.x-=F,e.min.y-=F,e.max.x+=F,e.max.y+=F}),n.some(function(t){return b(e,t)})?new T(T.REGULAR):null},l.prototype._claculateTriangleHeight=function(e,t){var i=this.height;return e.y<=t.y&&(i=Math.min(i,Math.abs(e.y-t.y)/2)),i},l.prototype.draw=function(e,t,i,n,r,o){var s,a,l,c,u,h,d,p=this.points[0],f=this.points[1],_=this._claculateTriangleHeight(p,f),m=this.connectingLineWidth,g=this.horzLineWidth/2;if(e.save(),e.fillStyle=this.color,e.strokeStyle=this.color,e.lineWidth=m,CanvasEx.setLineStyle(e,this.lineStyle),s=Math.round(H*o),a=Math.round(n*o),l=Math.round(g*o),c=Math.round(this.width*o),u=Math.round(_*o),h=Math.round(f*o),d=Math.round(p*o),"left"===r){if(e.beginPath(),e.moveTo(s,d-l),e.lineTo(s+c,d-l),e.lineTo(s+c,d+u),e.closePath(),e.fill(),e.beginPath(),e.moveTo(s,h+l),e.lineTo(s+c,h+l),e.lineTo(s+c,h-u),e.closePath(),e.fill(),h<d)return;e.beginPath(),e.moveTo(s+c,h),e.lineTo(s+c,d),e.stroke()}else{if(e.beginPath(),e.moveTo(a-s,d-l),e.lineTo(a-s-c,d-l),e.lineTo(a-s-c,d+u),e.closePath(),e.fill(),e.beginPath(),e.moveTo(a-s,h+l),e.lineTo(a-s-c,h+l),e.lineTo(a-s-c,h-u),e.closePath(),e.fill(),h<d)return;e.beginPath(),e.moveTo(a-s-c,h),e.lineTo(a-s-c,d),e.stroke()}e.restore()},c.prototype.stop=function(){this._alertLabel.alert().off("change:hovered",this._updateHoverCallback)},c.prototype.coordinate=function(){return this._data.length>0?this._data[0]:null},c.prototype.floatCoordinate=function(){return null},c.prototype.getFixedCoordinate=function(){return null},c.prototype.height=function(){return 0},c.prototype.isVisible=function(){return this._data.visible},c.prototype.isAxisLabelVisible=function(){return this._invalidated&&(this._updateImpl(),this._invalidated=!0),this._data.visible},c.prototype.paneRenderer=function(){return null},c.prototype.setFixedCoordinate=function(){},c.prototype.text=function(){return""},c.prototype.update=function(){this._invalidated=!0},c.prototype.renderer=function(){return this._invalidated&&(this._updateImpl(),this._invalidated=!0),0===this._data.items.length?new x:1===this._data.items.length?new a(this._data):2===this._data.items.length?new l(this._data):new x},c.prototype.secondLineText=function(){},c.prototype._updateHover=function(e,t){this._hovered=!!t,this.update()},c.prototype._updateImpl=function(){var e,t,i,n,r,o,s=this;this._data.visible=!1,null!==this._model.paneForSource(this._alertLabel)&&(e=function(e){var t=s._model.paneForSource(s._alertLabel).mainDataSource().firstValue();return s._alertLabel.priceScale().priceToCoordinate(e,t)},t=this._alertLabel.alert().get("extra"),
this._alertLabel.canDrawLabelForAlert()&&(this._data.visible=!0,this._data.width=7,this._data.height=7,this._data.color=this._alertLabel.color(),this._data.items=[],this._data.connectingLineWidth=this._hovered?3:1,this._data.lineWidth=(0,p.getSettingsProperty)().line.width.value()+(this._hovered?2:0),this._data.lineStyle=(0,p.getSettingsProperty)().line.style.value(),i=t.price(),t.conditionData().isChannel?(n=e(i.upper),r=e(i.lower),this._data.items.push(n),this._data.items.push(r)):(o=e(i),this._data.items.push(o))))},u.prototype.draw=function(e,t,i,n,r,o){this._bases.forEach(function(s){s.draw(e,t,i,n,r,o)})},u.prototype.height=function(){return 0},inherit(h,c),h.prototype.renderer=function(){var e,t,i,n=this;if(this._invalidated&&(this._updateImpl(),this._invalidated=!1),!this._data.visible)return new u([]);for(e={visible:this._data.visible,linewidth:this._data.lineWidth,linestyle:this._data.lineStyle},t=this._renderers.length;t<this._data.items.length;t++)i={color:this._data.color,coordinate:this._data.items[t]},this._renderers.push(new k(e,i));return this._renderers.length>this._data.items.length&&this._renderers.splice(this._data.items.length),this._data.items.forEach(function(t,i){var r={color:n._data.color,coordinate:t};n._renderers[i].setData(e,r)}),this._compositeRenderer},h.prototype._updateImpl=function(){this._alertLabel.drawHorzLine()?c.prototype._updateImpl.call(this):this._data.visible=!1},t.AlertLabel=n},"1oAu":function(e,t,i){"use strict";!function(e,t,i){"$:nomunge";function n(n,r){function o(t){e(s).each(function(){var i=e(this);this===t.target||i.has(t.target).length||i.triggerHandler(r,[t.target])})}r=r||n+i;var s=e(),a=n+"."+r+"-special-event";e.event.special[r]={setup:function(){delete(s=s.add(this)).prevObject,1===s.length&&e(t).bind(a,o)},teardown:function(){delete(s=s.not(this)).prevObject,0===s.length&&e(t).unbind(a)},add:function(e){var t=e.handler;e.handler=function(e,i){e.target=i,t.apply(this,arguments)}}}}e.map("click dblclick mousemove mousedown mouseup mouseover mouseout change select submit keydown keypress keyup".split(" "),function(e){n(e)}),n("focusin","focus"+i),n("focusout","blur"+i),Modernizr.mobiletouch&&(n("touchstart","mousedown"+i),n("touchmove","mousemove"+i),n("touchend","mouseup"+i)),e.addOutsideEvent=n}(jQuery,document,"outside")},"1pHB":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" transform="translate(4 5)"><circle stroke="currentColor" cx="9.5" cy="9.5" r="9"/><path stroke="currentColor" d="M7 14.5h2.5v-5H7"/><path stroke="currentColor" stroke-linecap="square" d="M9.5 14.5h2"/><path fill="currentColor" d="M9.5 7a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/></g></svg>'},"2+4i":function(e,t,i){"use strict";!function(){var e,t,i,n,r,o,s,a,l=function(){};for(void 0===window.console&&(window.console={}),e=window.console,i=0,
n=(t=["dir","log","time","info","warn","count","clear","debug","error","group","trace","assert","dirxml","profile","timeEnd","groupEnd","profileEnd","timeStamp","exception","table","notifyFirebug","groupCollapsed","getFirebugElement","firebug","userObjects","someMethodForAssetHashChange"]).length;i<n;i++)if(void 0===e[r=t[i]])try{e[r]=l}catch(e){}o=function(e,t,i,n,r){var o=new Date;o=o.getHours()+":"+o.getMinutes()+":"+o.getSeconds()+"."+o.getMilliseconds(),null!=r?window.__tv_js_errors.push(e+" (found at "+t+", line "+i+" at time "+o+", stack:<br> "+r.stack+")<br><br>"):window.__tv_js_errors.push(e+" (found at "+t+", line "+i+" at time "+o+")")},window.__tv_js_errors=[],s=window.onerror,window.onerror=function(e,t,i,n,r){if(o(e,t,i,n,r),s)try{s.apply(window,arguments)}catch(e){}},a=window.onunhandledrejection,window.onunhandledrejection=function(e){var t=e.reason;if(t instanceof Error?o(t.message,window.location,NaN,NaN,t):o(JSON.stringify(t),window.location,NaN,NaN),a)try{a.apply(window,arguments)}catch(e){}}}()},"2+aH":function(e,t,i){"use strict";(function(e){function n(t,i,n){var r,c,u,h=this;a.call(this,t,n),this._properties=i,this._dataWindowView=new o(t),r=function(){return this.appliedIndex()}.bind(this),c=function(){return this._startMeasurePoint.index}.bind(this),u=function(){return this._lastMeasurePoint().index}.bind(this),this._timeAxisView=new s(t,r,!1),this._startMeasureTimeAxisView=new s(t,c,!0),this._endMeasureTimeAxisView=new s(t,u,!0),this.visible=!0,t.readOnly()?this.areLinesVisible=!0:l.cursorTool.subscribe(function(e){h.areLinesVisible="arrow"!==e},{callWithLast:!0}),this._movedDelegate=new e,this._subscribed=!1,this._barSelectedDelegate=new e}var r=i("aO4+").Point,o=i("vdSZ").CrosshairDataWindowView,s=i("Hm6r").CrosshairTimeAxisView,a=i("zZ2k").CrosshairBase,l=i("mMWL"),c=i("ogJP").isNaN;inherit(n,a),n.prototype.index=0,n.prototype.price=NaN,n.prototype.pane=null,n.prototype.color="white",n.prototype.style="",n.prototype.customization={disableSelection:!0},n.prototype.model=function(){return this._model},n.prototype.properties=function(){return this._properties},n.prototype.moved=function(){return this._movedDelegate},n.prototype.originX=function(){return this._originX},n.prototype.originY=function(){return this._originY},n.prototype.saveOriginCoord=function(e,t){this._originX=e,this._originY=t},n.prototype.originCoordX=function(){return this._originX},n.prototype.originCoordY=function(){return this._originY},n.prototype.clearOriginCoord=function(){this._originX=NaN,this._originY=NaN},n.prototype.setPosition=function(e,t,i){this._subscribed||(this._model.mainSeries().onRestarted().subscribe(this,n.prototype.clearMeasure),this._subscribed=!0),this.setLockedPosition(i),this.visible=!0,this._tryToUpdateViews(e,t,i)},n.prototype.selectionPane=function(){return this._selectionPane},n.prototype.update=function(){var e,t,i,n,r,o;this.visible?(e=this._priceScaleByPane(this.pane),t=this._originX||this.x,i=this._originY||this.y,n=this._model.timeScale().coordinateToIndex(t),r=NaN,
null!==e&&(o=this.pane.mainDataSource().firstValue(),r=e.coordinateToPrice(i,o)),this._tryToUpdateViews(n,r,this.pane)):this._setIndexToLastSeriesBarIndex()},n.prototype._priceScaleByPane=function(e){return e&&!e.defaultPriceScale().isEmpty()?e.defaultPriceScale():null},n.prototype._tryToUpdateViews=function(e,t,i){this._tryToUpdateData(e,t,i)&&(this.updateAllViews(),this._movedDelegate.fire({time:this._model.timeScale().points().roughTime(this.index),price:this.price}))},n.prototype._tryToUpdateData=function(e,t,i){var n,r=this.x,o=this.y,s=this.price,a=this.index,l=this.pane,u=this._priceScaleByPane(i);return this.index=e,this.x=c(e)?NaN:this._model.timeScale().indexToCoordinate(e),null!==u?(this.pane=i,this.price=t,n=i.mainDataSource().firstValue(),this.y=u.priceToCoordinate(t,n)):(this.pane=null,this.price=NaN,this.y=NaN),r!==this.x||o!==this.y||a!==this.index||s!==this.price||l!==this.pane},n.prototype.setLockedPosition=function(e){delete this.lockedIndex,delete this.lockedX,e!==this._measurePane&&l.lockTimeAxis().value()&&(this.lockedIndex=this._model.timeScale().points().roughIndex(l.lockTimeAxisTime.value()),this.lockedX=this._model.timeScale().indexToCoordinate(this.lockedIndex))},n.prototype.clearPosition=function(){this.visible=!1,this._setIndexToLastSeriesBarIndex(),this.price=NaN,this.x=NaN,this.y=NaN,this.pane=null,this.clearOriginCoord()},n.prototype._setIndexToLastSeriesBarIndex=function(){var e=this._model.mainSeries().bars().lastIndex();this.index=null!==e?e:NaN},n.prototype.dataWindowView=function(){return this._dataWindowView},n.prototype.currentPoint=function(){return new r(this.x,this.y)},n.prototype.appliedIndex=function(){return isFinite(this.lockedIndex)&&this.lockedIndex||this.index},n.prototype.appliedX=function(){return isFinite(this.lockedX)&&this.lockedX||this.x},n.prototype.selectBarMode=function(){return this._selectBarMode},n.prototype.toggleSelectBarMode=function(){this._setSelectBarModeState(!this._selectBarMode.value())},n.prototype.onBarSelected=function(){return this._barSelectedDelegate},n.prototype._setSelectBarModeState=function(e){this._selectBarMode.setValue(e),this._model.lightUpdate()},n.prototype.trySelectCurrentBar=function(){var e,t=this._model.mainSeries().bars();t.contains(this.index)&&null!==(e=this._model.timeScale().indexToTimePoint(this.index))&&(this._setSelectBarModeState(!1),this._barSelectedDelegate.fire(e))},n.prototype.handleContextMenuEvent=function(){this._selectBarMode.value()&&this._setSelectBarModeState(!1)},n.prototype.setOnHoveredChartWidget=function(e){this._isOnHoveredChartWidget=e},n.prototype.isOnHoveredChartWidget=function(){return this._isOnHoveredChartWidget},n.prototype.setLinesShouldBeHidden=function(e){this._linesShouldBeHidden=e},n.prototype.linesShouldBeHidden=function(){return this._linesShouldBeHidden},t.CrossHair=n}).call(this,i("aIyQ"))},"22O2":function(e,t,i){"use strict";function n(e,t){this.m_series=e,this.m_model=t,this.m_bars=[],this._invalidated=!0,this._isMarkersEnabled=x.enabled("source_selection_markers")}function r(e,t){
n.call(this,e,t)}function o(e,t){n.call(this,e,t)}function s(e,t){r.call(this,e,t)}function a(e,t){o.call(this,e,t)}function l(e,t){o.call(this,e,t)}function c(e,t){r.call(this,e,t)}function u(e,t){o.call(this,e,t)}function h(e,t){r.call(this,e,t)}function d(e,t){o.call(this,e,t)}function p(e,t){r.call(this,e,t)}function f(e,t){o.call(this,e,t)}var _=i("Eyy1").ensureNotNull,m=i("aO4+").Point,g=i("vq8G").SelectionRenderer,y=i("VdBB").HitTestResult,v=i("gK+X").PaneRendererRenkoPB,b=i("fSwl").PaneRendererKagi,S=i("d8RW").PaneRendererPnF,w=i("29fS").PaneRendererBars,P=i("Zy3/").CompositeRenderer,T=i("ga+R"),C=i("uOxu").getLogger("Chart.JapaneseSeriesPaneView"),x=i("Kxc7");n.prototype.bars=function(){throw new Error("unimplemented")},n.prototype.isProjection=function(){throw new Error("unimplemented")},n.prototype.update=function(){this._invalidated=!0},n.prototype.nearestIndex=function(e,t){if(TradingView.isInteger(e)){var i=this.bars().search(e,t);return null!==i?i.index:void 0}C.logDebug("incorrect logicalPoint")},n.prototype._updateImpl=function(){var e,t,i,n,r,o,s,a,l,c,u,h,d,p,f,g,v,b,S=this;if(this.m_bars.length=0,(this.m_series.properties().style.value()!==TradingView.Series.STYLE_PNF||this.m_series.data().boxSize)&&!this.m_model.timeScale().isEmpty()&&!this.m_series.priceScale().isEmpty()&&null!==(e=this.m_series.getRealVisibleRange())&&0!==this.bars().size()&&!S.m_series.data().bars().isEmpty()){for(t=e.firstBar(),i=e.lastBar(),n=this.m_series.data().search(t).value[TradingView.CLOSE_PLOT];t<=i&&null===this.bars().valueAt(t);t++);if(!(t>i)&&(e=this.bars().range(t,i),r=this.m_series.priceScale(),o=this.m_series.barColorer(),s={},a=S.m_series.properties().style.value(),l=a===TradingView.Series.STYLE_KAGI||a===TradingView.Series.STYLE_PNF,c=S.isProjection(),u=_(S.m_series.data().bars().lastIndex()),e.each(function(e,t){var i,n,r;if(void 0!==t[TradingView.OPEN_PLOT]&&void 0!==t[TradingView.HIGH_PLOT]&&void 0!==t[TradingView.LOW_PLOT]&&void 0!==t[TradingView.CLOSE_PLOT]){switch(i={},n={O:t[TradingView.OPEN_PLOT],H:t[TradingView.HIGH_PLOT],L:t[TradingView.LOW_PLOT],C:t[TradingView.CLOSE_PLOT],Adt:l?t[TradingView.ADT_PLOT]:void 0},i.time=Math.round(e),i.open=n.O,i.high=n.H,i.low=n.L,i.close=n.C,s.value=t,r=o.barStyle(e,c,s),s.previousValue=t,i.color=r.barColor,i.borderColor=r.barBorderColor,i.isUp=r.isBarUp,i.wickColor=r.barWickColor,a){case TradingView.Series.STYLE_PNF:i.low-=.5*S.m_series.data().boxSize,i.high+=.5*S.m_series.data().boxSize,i.upColor=r.upColor,i.downColor=r.downColor,i.isMergedBar=r.isMergedBar,i.additionalNum=Math.round(1+(t[TradingView.HIGH_PLOT]-t[TradingView.LOW_PLOT])/S.m_series.data().boxSize);break;case TradingView.Series.STYLE_KAGI:if(i.upColor=r.upColor,i.downColor=r.downColor,i.isTwoColorBar=r.isTwoColorBar,!isNumber(n.Adt))break;i.additionalPrice=n.Adt,c&&i.time===u&&(i.combinedWithProjection=!0)}S.m_bars.push(i)}},this),a===TradingView.Series.STYLE_PNF&&(this.blockSize=(r.priceToCoordinate(0,n)-r.priceToCoordinate(500,n))/500*this.m_series.data().boxSize),
r.barPricesToCoordinates(this.m_bars,n),this.m_model.timeScale().barIndexesToCoordinates(this.m_bars),this.m_model.selection().isSelected(this.m_series)))for(h=T(t,i),this._selectionData={points:[],bgColor:this.m_model.backgroundColor().value(),visible:!0},this._selectionData.hittestResult=y.REGULAR,d=0;d<h.length;d++)p=h[d],null!==(f=this.m_series.bars().valueAt(p))&&(g=.5*(f[TradingView.OPEN_PLOT]+f[TradingView.CLOSE_PLOT]),v=this.m_model.timeScale().indexToCoordinate(p),b=this.m_series.priceScale().priceToCoordinate(g,n),this._selectionData.points.push(new m(v,b)))}},n.prototype.items=function(){return this.m_bars},inherit(r,n),r.prototype.bars=function(){return this.m_series.bars()},r.prototype.isProjection=function(){return!1},inherit(o,n),o.prototype.bars=function(){return this.m_series.nsBars()},o.prototype.isProjection=function(){return!0},inherit(s,r),s.prototype.renderer=function(){var e,t;return this._invalidated&&(this._updateImpl(),this._invalidated=!1),(e={}).bars=this.m_bars,e.barSpacing=this.m_model.timeScale().barSpacing(),(t=new P).append(new v(e)),this.m_model.selection().isSelected(this.m_series)&&this._isMarkersEnabled&&t.append(new g(this._selectionData)),t},inherit(a,o),a.prototype.renderer=function(){this._invalidated&&(this._updateImpl(),this._invalidated=!1);var e={};return e.bars=this.m_bars,e.barSpacing=this.m_model.timeScale().barSpacing(),new v(e)},inherit(l,o),l.prototype.renderer=function(){this._invalidated&&(this._updateImpl(),this._invalidated=!1);var e={};return e.bars=this.m_bars,e.barSpacing=this.m_model.timeScale().barSpacing(),e.thinBars=this.m_series.properties().rangeStyle.thinBars.value(),new w(e)},inherit(c,r),c.prototype.renderer=function(){var e,t;return this._invalidated&&(this._updateImpl(),this._invalidated=!1),(e={}).bars=this.m_bars,e.barSpacing=.9*this.m_model.timeScale().barSpacing(),(t=new P).append(new v(e)),this.m_model.selection().isSelected(this.m_series)&&this._isMarkersEnabled&&t.append(new g(this._selectionData)),t},inherit(u,o),u.prototype.renderer=function(){this._invalidated&&(this._updateImpl(),this._invalidated=!1);var e={};return e.bars=this.m_bars,e.barSpacing=.9*this.m_model.timeScale().barSpacing(),new v(e)},inherit(h,r),h.prototype.renderer=function(){var e,t;return this._invalidated&&(this._updateImpl(),this._invalidated=!1),(e={}).bars=this.m_bars,e.barSpacing=this.m_model.timeScale().barSpacing(),(t=new P).append(new b(e)),this.m_model.selection().isSelected(this.m_series)&&this._isMarkersEnabled&&t.append(new g(this._selectionData)),t},inherit(d,o),d.prototype.renderer=function(){this._invalidated&&(this._updateImpl(),this._invalidated=!1);var e={};return e.bars=this.m_bars,e.upColor=this.upColor,e.downColor=this.downColor,e.barSpacing=this.m_model.timeScale().barSpacing(),new b(e)},inherit(p,r),p.prototype.renderer=function(){var e,t;return this._invalidated&&(this._updateImpl(),this._invalidated=!1),(e={}).bars=this.m_bars,e.blockSize=this.blockSize,e.barSpacing=this.m_model.timeScale().barSpacing(),(t=new P).append(new S(e)),
this.m_model.selection().isSelected(this.m_series)&&this._isMarkersEnabled&&t.append(new g(this._selectionData)),t},inherit(f,o),f.prototype.renderer=function(){this._invalidated&&(this._updateImpl(),this._invalidated=!1);var e={};return e.bars=this.m_bars,e.blockSize=this.blockSize,e.barSpacing=this.m_model.timeScale().barSpacing(),new S(e)},t.SeriesRenkoPaneView=s,t.SeriesProjectionRenkoPaneView=a,t.SeriesPriceBreakPaneView=c,t.SeriesProjectionPriceBreakPaneView=u,t.SeriesKagiPaneView=h,t.SeriesProjectionKagiPaneView=d,t.SeriesPnFPaneView=p,t.SeriesProjectionPnFPaneView=f,t.SeriesProjectionRangePaneView=l},"22xp":function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D;i.r(t),n=i("mrSG"),r=i("Eyy1"),i("YFKU"),o=i("j1f4"),s=i("uOxu"),a=i("beCu"),l=i("aIyQ"),c=i.n(l),u=i("Kxc7"),h=i("Hr11"),d=i("ogJP"),p=i("ZJKN"),f=function(){function e(e,t){Object(r.assert)(e<=t,"The left value should be greater than or equal to the right value"),this._left=e,this._right=t}return e.prototype.left=function(){return this._left},e.prototype.right=function(){return this._right},e.prototype.length=function(){return this._right-this._left+1},e.prototype.contains=function(e){return this._left<=e&&e<=this._right},e.prototype.equals=function(e){return this._left===e.left()&&this._right===e.right()},e.compare=function(e,t){return null===e||null===t?e===t:e.equals(t)},e}(),_=Object(s.getLogger)("Chart.TimePoints"),m=function(){function e(){this._zoffset=0,this._items=[]}return e.prototype.clear=function(){this._zoffset=0,this._items=[]},e.prototype.size=function(){return this._items.length},e.prototype.firstIndex=function(){return this._offsetToIndex(0)},e.prototype.lastIndex=function(){return this._offsetToIndex(this._items.length-1)},e.prototype.merge=function(e,t,i){var n,r,o,s,a,l,c,u;if(0===i.length)return _.logError("merge: 'values' does not contain any time points"),[];if(t>this._zoffset&&e+t>0)return _.logError("merge: when the first time point index is updated, we should fill the time points starting from the first one"),[];if(0===this._items.length)return this._items=i,this._zoffset=t,[{change:"rebuild",index:this._validOffsetToIndex(0)}];if((n=e+this._zoffset)<0){if(r=Math.abs(n),i.length<r)return _.logError("merge: 'values' does not contain enough time points to fill in the new items. 'index': "+e.toString()+", previous 'zoffset': "+this._zoffset.toString()+", new 'zoffset': "+t.toString()+", 'values.length': "+i.length),[];for(this._items=new Array(r).concat(this._items),this._zoffset=t,o=0;o<i.length;++o)this._items[e+o+t]=i[o];return[{change:"rebuild",index:this._validOffsetToIndex(0)}]}for(s=[],a=n;a<this._items.length&&a-n<i.length;++a)this._items[a]=i[a-n],s.push({change:"update",index:this._validOffsetToIndex(a),value:i[a-n]});if((l=n+i.length)>this._items.length)for(r=l-this._items.length,c=a;c<a+r;++c)u=this._items.length,this._items.push(i[c-n]),s.push({change:"append",index:this._validOffsetToIndex(u),value:i[c-n]});return this._zoffset=t,s},e.prototype.addTail=function(e,t){
for(var i=t?1:0;i<e.length;i++)this._items.push(e[i])},e.prototype.remove=function(e){var t,i,n,r=this._indexToOffset(e);if(null===r)return[];for(t=this._items.splice(r),i=[],n=0;n<t.length;n++)i.push({change:"remove",index:e+n,value:t[n]});return i},e.prototype.valueAt=function(e){var t=this._indexToOffset(e);return null!==t?this._items[t]:null},e.prototype.indexOf=function(e,t){if(this._items.length<1)return null;if(e>this._items[this._items.length-1])return t?this._validOffsetToIndex(this._items.length-1):null;for(var i=0;i<this._items.length;++i){if(e===this._items[i])return this._validOffsetToIndex(i);if(e<this._items[i])return t?this._validOffsetToIndex(i):null}return null},e.prototype.state=function(){return{items:this._items,zoffset:this._zoffset}},e.prototype.restoreState=function(e){null!==e&&(this._items=e.items,this._zoffset=e.zoffset)},e.prototype.roughTime=function(e,t){var i,n,r,o,s,a,l,c,u,h;return void 0===t&&(t=null),null!==(i=this.valueAt(e))?i:!(n=this._items).length||n.length<2?null:(r=0,o=n.length-1,s=this._validOffsetToIndex(r),a=this._validOffsetToIndex(o),l=n[r],u=((c=n[o])-l)/(a-s),e<s?l-(h=s-e)*u:e>a?(h=e-a)<500&&null!=t?t(c,h):c+h*u:null)},e.prototype.roughIndex=function(e,t){var i,n,r,o,s,a,l,c,u,h,d,p;return void 0===t&&(t=null),!(i=this._items).length||i.length<2?null:(n=0,r=i.length-1,o=this._validOffsetToIndex(n),s=this._validOffsetToIndex(r),a=i[n],l=i[r],e>=a&&e<=l?this.closestIndexLeft(e):(c=(l-a)/(s-o),e<a?(u=a-e,o-(h=Math.round(u/c))):(d=500,e>l?(u=e-l,(h=Math.trunc(u/c))<d&&null!==t&&(p=t(l,e)).success&&(h=p.result),s+h):null)))},e.prototype.closestIndexLeft=function(e){var t,i,n,r,o,s=this._items;if(!s.length)return null;if(Number.isNaN(e))return null;if(e>=s[t=s.length-1])return this._validOffsetToIndex(t);if(e<(n=s[i=0]))return null;if(e===n)return this._validOffsetToIndex(i);for(;t>i+1;)if((o=s[r=i+t>>1])>e)t=r;else{if(!(o<e))return o===e?this._validOffsetToIndex(r):null;i=r}return this._validOffsetToIndex(i)},e.prototype._validOffsetToIndex=function(e){return e-this._zoffset},e.prototype._offsetToIndex=function(e){return 0<=e&&e<this.size()?this._validOffsetToIndex(e):null},e.prototype._indexToOffset=function(e){var t=e+this._zoffset;return 0<=t&&t<this.size()?t:null},e}(),g=i("tc+8"),y=i.n(g),v=new Map([[0,.1],[11,.1],[1,.35],[9,.35],[12,.35],[8,.35]]),b=function(){function e(e,t){this._styleSpecificRanges=new Map,this._logicalRange=e,this._defaultStyle=t}return e.prototype.strictRange=function(e){var t,i;return null===this._logicalRange?null:(void 0===e&&(e=this._defaultStyle),void 0===(t=this._styleSpecificRanges.get(e))&&(i=(v.get(e)||0)/2,t=new p.BarsRange(Math.ceil(this._logicalRange.left()+i),Math.ceil(this._logicalRange.right()-i)),this._styleSpecificRanges.set(e,t)),t)},e.prototype.logicalRange=function(){return this._logicalRange},e.prototype.isValid=function(){return null!==this._logicalRange},e.invalid=function(){return new e(null,1)},e}(),S=i("Ocx9"),w=i("GhVi"),P=i("8OdW"),T=function(){function e(e,t){void 0===t&&(t=50),this._actualSize=0,this._usageTick=1,
this._oldestTick=1,this._cache=new Map,this._tick2Labels=new Map,this._format=e,this._maxSize=t}return e.prototype.format=function(e){var t,i,n=this._cache.get(e.valueOf());return void 0!==n?n.string:(this._actualSize===this._maxSize&&(t=this._tick2Labels.get(this._oldestTick),this._tick2Labels.delete(this._oldestTick),this._cache.delete(Object(r.ensureDefined)(t)),this._oldestTick++,this._actualSize--),i=this._format(e),this._cache.set(e.valueOf(),{string:i,tick:this._usageTick}),this._tick2Labels.set(this._usageTick,e.valueOf()),this._actualSize++,this._usageTick++,i)},e}(),C=i("kcTO"),i.d(t,"TimeScale",function(){return D}),x={preserveBarSpacing:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!0},I=u.enabled("low_density_bars"),E=50,L=u.enabled("high_density_bars")?.025:.5,A=I?1:5,O=Object(s.getLogger)("Chart.TimeScale"),M=new Map([[0,.9],[11,.9],[1,.8],[9,.8],[12,.8],[8,.8]]),D=function(){function e(e,t){var i=this;this._width=0,this._widthChanged=new c.a,this._rightOffset=10,this._maxRightOffsetChanged=new c.a,this._defaultRightOffsetProperty=new y.a(10),this._baseIndex=null,this._leftEdgeIndex=null,this._barSpacingChanged=new c.a,this._barSpacing=6,this._visibleBars=b.invalid(),this._visibleBarsInvalidated=!0,this._visibleBarsChanged=new c.a,this._logicalRangeChanged=new c.a,this._points=new m,this._tickMarks=new w.Tickmarks,this._onScroll=new c.a,this._resetDelegate=new c.a,this._scrollStartPoint=null,this._scaleStartPoint=null,this._commonTransitionStartState=null,this._formattedBySpan=new Map,this._options=Object(n.__assign)(Object(n.__assign)({},x),t),this._model=e,this._scalesProperties=e.properties().scalesProperties,this._defaultRightOffsetProperty.listeners().subscribe(this,function(e){i.setRightOffset(e.value())}),this._options.preserveBarSpacing&&(this._barSpacing=this._scalesProperties.childs().barSpacing.value()||6),this._model.mainSeries().onStyleChanged().subscribe(this,this._invalidateVisibleBars),this._barSpacingChanged.subscribe(this,this._maxRightOffsetOnChanged),this._widthChanged.subscribe(this,this._maxRightOffsetOnChanged)}return e.prototype.destroy=function(){this._model.mainSeries().onStyleChanged().unsubscribe(this,this._invalidateVisibleBars),this._barSpacingChanged.destroy(),this._widthChanged.destroy()},e.prototype.isEmpty=function(){return 0===this._width||0===this._points.size()},e.prototype.update=function(e,t,i,n){this._visibleBarsInvalidated=!0,i.length>0&&this._points.merge(e,t,i),this._tickMarks.merge(n),this._correctOffset()},e.prototype.addTail=function(e,t,i){var n,o,s;for(this._tickMarks.removeTail(t),n=e.params,o=Object(r.ensureDefined)(this._tickMarks.maxIndex)+(i?0:1),s=0;s<n.marks.length;s++)n.marks[s].index=o+s;this._tickMarks.addTail(n.marks),this._points.addTail(n.changes,i),this._rightOffset-=n.changes.length},e.prototype.state=function(e){var t={m_barSpacing:this.barSpacing(),m_rightOffset:e?this._rightOffset:this._defaultRightOffsetProperty.value()};return e&&(t.points=this._points.state(),t.tickmarks=this._tickMarks.state(),t.width=this._width),t},
e.prototype.restoreState=function(e,t){var i,n,r;void 0!==e.m_barSpacing&&void 0!==e.m_rightOffset?(i=e.m_barSpacing,r=(n=e.m_rightOffset<0&&!t?this.rightOffsetDefaultValue():e.m_rightOffset)<0?this.rightOffsetDefaultValue():Math.round(n),this._defaultRightOffsetProperty.setValue(r),this._rightOffset=n,t&&(this._points.restoreState(e.points||null),this._tickMarks.restoreState(e.tickmarks||null),e.width&&this._width>0&&(i*=this._width/e.width)),this._tryToUpdateBarSpacing(this._barSpacing,i),this._correctOffset()):O.logDebug("restoreState: invalid state")},e.prototype.marks=function(){var e,t,i,n,o,s,a,l,c,u,h;if(this.isEmpty())return null;for(e=this._barSpacing,t=5*((this._scalesProperties.childs().fontSize.value()||0)+4),i=Math.round(t/e),n=Object(r.ensureNotNull)(this.visibleBarsStrictRange()),o=Math.max(n.firstBar(),n.firstBar()-i),s=Math.max(n.lastBar(),n.lastBar()-i),a=[],l=0,c=this._tickMarks.build(e,t);l<c.length;l++)o<=(u=c[l]).index&&u.index<=s&&null!==(h=this._tickMarks.indexToTime(u.index))&&a.push({coord:this.indexToCoordinate(u.index),label:this.formatLabel(h,u.span),span:u.span,major:u.label>=P.DAY_SPAN});return a},e.prototype.visibleBarsStrictRange=function(){return this._visibleBarsInvalidated&&(this._visibleBarsInvalidated=!1,this._updateVisibleBars()),this._visibleBars.strictRange()},e.prototype.visibleBarsStrictRangeChanged=function(){return this._visibleBarsChanged},e.prototype.logicalRangeChanged=function(){return this._logicalRangeChanged},e.prototype.tickMarks=function(){return this._tickMarks},e.prototype.points=function(){return this._points},e.prototype.width=function(){return this._width},e.prototype.setWidth=function(e){var t,i;!Number.isFinite(e)||e<=0?O.logWarn("setWidth: invalid argument: "+e):this._width!==e&&(this._visibleBarsInvalidated=!0,this._options.lockVisibleTimeRangeOnResize&&this._width&&(t=this._barSpacing*e/this._width,this._tryToUpdateBarSpacing(this._barSpacing,t)),null!==this._leftEdgeIndex&&Object(r.ensureNotNull)(this.visibleBarsStrictRange()).firstBar()<=this._leftEdgeIndex&&(i=this._width-e,this._rightOffset-=Math.round(i/this._barSpacing)+1),this._width=e,this._widthChanged.fire(e),this._correctOffset())},e.prototype.setLeftEdgeFix=function(e){var t,i,n;this._leftEdgeIndex=e,null!==(t=this.visibleBarsStrictRange())&&(i=t.firstBar()-e)<0&&(n=this._rightOffset-i-1,this.scrollToOffsetAnimated(n,500))},e.prototype.indexToCoordinate=function(e){var t;return this.isEmpty()?0:Object(d.isInteger)(e)?(t=this.baseIndex()+this._rightOffset-e,this._width-(t+.5)*this._barSpacing):0},e.prototype.indexToUserTime=function(e){return this._tickMarks.indexToTime(e)},e.prototype.timePointToIndex=function(e){return this._points.indexOf(e,!0)},e.prototype.indexToTimePoint=function(e){return this._points.valueAt(e)},e.prototype.timeToCoordinate=function(e){var t,i,n,o,s,a=this._points.closestIndexLeft(e);return null===a?null:(t=Object(r.ensureNotNull)(this._points.valueAt(a)),(i=this.indexToCoordinate(a))<=0||i>=this._width?null:(n=this.barSpacing(),o=this.baseIndex(),
(s=i+(e-t)/(Object(r.ensureNotNull)(this._points.valueAt(o))-Object(r.ensureNotNull)(this._points.valueAt(o-1)))*n+1)<=0||s>=this._width?null:s))},e.prototype.barIndexesToCoordinates=function(e){var t,i,n,r,o,s,a=this.baseIndex();for(t=0,i=e;t<i.length;t++)r=(n=i[t]).time,o=a+this._rightOffset-r,s=this._width-(o+.5)*this._barSpacing,n.time=s,n.exactTime=s},e.prototype.indexesToCoordinates=function(e){var t,i,n,r,o=this.baseIndex(),s=o+this._rightOffset,a=this._width-s*this._barSpacing-.5*this._barSpacing;for(t=0,i=e;t<i.length;t++)r=a+(n=i[t]).x*this._barSpacing,n.x=r},e.prototype.rightOffsetForTimePoint=function(e){var t=this.timeToCoordinate(e);return null===t?null:this._rightOffsetForCoordinate(t)},e.prototype.scrollToRealtime=function(e,t){var i,n,r,s=this,l=this._defaultRightOffsetProperty.value();if(l<0&&(l=this.rightOffsetDefaultValue()),e)return i=this._rightOffset,(n=this.maxRightOffset())>0&&l>n&&(l=n),r=this._model,void Object(a.doAnimate)({from:i,to:l,duration:1e3,easing:o.easingFunc.easeInOutQuint,onComplete:t,onStep:function(e,t){s._visibleBarsInvalidated=!0,s._rightOffset=t,s._correctOffset(),r.recalculateAllPanes(),r.lightUpdate(),r.recalcVisibleRangeStudy(r.dataSources())}});this._visibleBarsInvalidated=!0,this._rightOffset=l,this._correctOffset(),void 0!==t&&t()},e.prototype.scrollToOffsetAnimated=function(e,t){var i,n,r,o,s=this;if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(i=void 0===t?400:t,!isFinite(i)||i<=0)throw new RangeError("animationDuration (optional) must be finite positive number");n=this._rightOffset,r=Date.now(),(o=function(){s._visibleBarsInvalidated=!0;var t=(Date.now()-r)/i;if(t>=1)return s._rightOffset=e,s._correctOffset(),s._visibleBarsInvalidated=!0,s._model.recalculateAllPanes(),void s._model.lightUpdate();s._rightOffset=n+(e-n)*t,s._correctOffset(),s._model.recalculateAllPanes(),setTimeout(o,20)})()},e.prototype.defaultRightOffsetProperty=function(){return this._defaultRightOffsetProperty},e.prototype.rightOffsetDefaultValue=function(){return 10},e.prototype.barSpacing=function(){return this._barSpacing},e.prototype.setBarSpacing=function(e){Number.isFinite(e)?(e=this.getValidBarSpacing(e),this._tryToUpdateBarSpacing(this._barSpacing,e)&&(this._correctOffset(),this._options.preserveBarSpacing&&(Object(S.saveDefaultProperties)(!0),this._scalesProperties.childs().barSpacing.setValue(this._barSpacing),Object(S.saveDefaultProperties)(!1)))):O.logWarn("setBarSpacing: invalid argument: "+e)},e.prototype.barSpacingChanged=function(){return this._barSpacingChanged},e.prototype.getValidBarSpacing=function(e){return null==e&&(e=this.barSpacing()),e<this.minBarSpacing()?this.minBarSpacing():e>this.maxBarSpacing()?this.maxBarSpacing():e},e.prototype.isValidBarSpacing=function(e){return e>=this.minBarSpacing()&&e<=this.maxBarSpacing()},e.prototype.preserveBarSpacing=function(){return this._options.preserveBarSpacing},e.prototype.normalizeBarIndex=function(e){var t=0,i=0,n=this.baseIndex(),o=Object(r.ensureNotNull)(this._points.firstIndex())
;return e<o?(t=Object(r.ensureNotNull)(this._points.valueAt(o)),i=e-o):e>n?(t=Object(r.ensureNotNull)(this._points.valueAt(n)),i=e-n):(t=Object(r.ensureNotNull)(this._points.valueAt(e)),i=0),{time_t:t,offset:i}},e.prototype.denormalizeTimePoint=function(e){var t=this._points.indexOf(e.time_t,!1);if(null!==t)return t+e.offset},e.prototype.rightOffset=function(){return this._rightOffset},e.prototype.minRightOffset=function(){var e,t=this.points().firstIndex(),i=this._baseIndex;return null===t||null===i?null:null!==this._leftEdgeIndex?(e=this.width()/this._barSpacing,this._leftEdgeIndex-i+e-1):t-i-1+A},e.prototype.maxRightOffset=function(){return this.width()/this._barSpacing-A},e.prototype.maxRightOffsetChanged=function(){return this._maxRightOffsetChanged},e.prototype.onReset=function(){return this._resetDelegate},e.prototype.scrollStartPoint=function(){return this._scrollStartPoint},e.prototype.baseIndex=function(){return this._baseIndex||0},e.prototype.zoom=function(e,t,i){var n,r,o;Number.isFinite(e)&&Number.isFinite(t)?(n=this.coordinateToIndex(e),o=(r=this.barSpacing())+t*(r/10),this.setBarSpacing(o),(void 0!==i?!i:this._options.rightBarStaysOnScroll)||this.setRightOffset(this.rightOffset()-.5+(n-this._coordinateToFloatIndex(e)))):O.logWarn("zoom: invalid arguments: "+e+", "+t+", "+i)},e.prototype.zoomToBarsRange=function(e,t){var i,n,r;t<=e||(i=this.baseIndex(),this._rightOffset=t-i,n=M.get(this._model.mainSeries().style())||.6,r=Math.max(t-e+n,A),this.setBarSpacing(this.width()/r),this._visibleBarsInvalidated=!0)},e.prototype.coordinateToIndex=function(e){return Math.ceil(this._coordinateToFloatIndex(e))},e.prototype.canZoomIn=function(){return this.barSpacing()<this.maxBarSpacing()},e.prototype.canZoomOut=function(){return this.barSpacing()>L},e.prototype.minBarSpacing=function(){return L},e.prototype.maxBarSpacing=function(){return I?this.width():E},e.prototype.resetRightOffset=function(){this.setRightOffset(this._defaultRightOffsetProperty.value())},e.prototype.reset=function(){this._visibleBarsInvalidated=!0,this._points=new m,this._scrollStartPoint=null,this._scaleStartPoint=null,this._clearCommonTransitionsStartState(),this._tickMarks.reset(),this._leftEdgeIndex=null,this._resetDelegate.fire()},e.prototype.setBaseIndex=function(e){Number.isFinite(e)?(this._visibleBarsInvalidated=!0,this._baseIndex=e,this._correctOffset()):O.logDebug("setBaseIndex: invalid argument: "+e)},e.prototype.setRightOffset=function(e){Number.isFinite(e)?(this._visibleBarsInvalidated=!0,this._rightOffset=e,this._correctOffset()):O.logWarn("setRightOffset: invalid argument: "+e)},e.prototype.correctBarSpacing=function(){this.isEmpty()||this.points().size()<this.width()/this.barSpacing()&&(this.setRightOffset(this._defaultRightOffsetProperty.value()),this.setBarSpacing(this.width()/(this.points().size()+this.rightOffset())))},e.prototype.logicalRange=function(){return this._visibleBarsInvalidated&&(this._visibleBarsInvalidated=!1,this._updateVisibleBars()),this._visibleBars.logicalRange()},e.prototype.restoreDefault=function(){
this._visibleBarsInvalidated=!0,this.setBarSpacing(6),this.resetRightOffset()},e.prototype.restoreRightOffsetPropertyToDefault=function(){this._defaultRightOffsetProperty.setValue(this.rightOffsetDefaultValue())},e.prototype.startScale=function(e){this._scrollStartPoint&&this.endScroll(),null===this._scaleStartPoint&&null===this._commonTransitionStartState&&(this.isEmpty()||(this._scaleStartPoint=e,this._saveCommonTransitionsStartState()))},e.prototype.scaleTo=function(e){var t,i;null!==this._commonTransitionStartState&&(t=Object(h.clamp)(this._width-e,0,this._width),i=Object(h.clamp)(this._width-Object(r.ensureNotNull)(this._scaleStartPoint),0,this._width),0!==t&&0!==i&&this.setBarSpacing(this._commonTransitionStartState.barSpacing*t/i))},e.prototype.endScale=function(){null!==this._scaleStartPoint&&(this._scaleStartPoint=null,this._clearCommonTransitionsStartState())},e.prototype.startScroll=function(e){null===this._scrollStartPoint&&null===this._commonTransitionStartState&&(this.isEmpty()||(this._scrollStartPoint=e,this._saveCommonTransitionsStartState()))},e.prototype.scrollTo=function(e){if(this._visibleBarsInvalidated=!0,null!==this._scrollStartPoint){var t=(this._scrollStartPoint-e)/this.barSpacing();this._rightOffset=Object(r.ensureNotNull)(this._commonTransitionStartState).rightOffset+t,this._correctOffset(),this._onScroll.fire()}},e.prototype.endScroll=function(){null!==this._scrollStartPoint&&(this._scrollStartPoint=null,this._clearCommonTransitionsStartState())},e.prototype.formatLabel=function(e,t){var i=this,n=this._formattedBySpan.get(t);return void 0===n&&(n=new T(function(e){return i.formatLabelImpl(e,t)}),this._formattedBySpan.set(t,n)),n.format(new Date(e))},e.prototype.formatLabelImpl=function(e,t){if(!(e&&e instanceof Date))return"incorrect time";var i=this._model.mainSeries().isDWM();return t<P.MINUTE_SPAN&&!i?Object(C.numberToStringWithLeadingZero)(e.getUTCHours(),2)+":"+Object(C.numberToStringWithLeadingZero)(e.getUTCMinutes(),2)+":"+Object(C.numberToStringWithLeadingZero)(e.getUTCSeconds(),2):t<P.DAY_SPAN&&!i?Object(C.numberToStringWithLeadingZero)(e.getUTCHours(),2)+":"+Object(C.numberToStringWithLeadingZero)(e.getUTCMinutes(),2):t<P.WEEK_SPAN?e.getUTCDate().toString():t<P.MONTH_SPAN?e.getUTCDate().toString():t<P.YEAR_SPAN?(void 0===k&&(k=[window.t("Jan"),window.t("Feb"),window.t("Mar"),window.t("Apr"),window.t("May"),window.t("Jun"),window.t("Jul"),window.t("Aug"),window.t("Sep"),window.t("Oct"),window.t("Nov"),window.t("Dec")]),k)[e.getUTCMonth()]:e.getUTCFullYear().toString()},e.prototype.onScroll=function(){return this._onScroll},e.prototype._updateVisibleBars=function(){var e,t,i,n,r=this._visibleBars;this.isEmpty()?this._visibleBars.isValid()&&(this._visibleBars=b.invalid(),this._visibleBarsChanged.fire(null,r.strictRange()),this._logicalRangeChanged.fire(null,r.logicalRange())):(e=this.baseIndex(),t=this.width()/this._barSpacing,n=(i=this._rightOffset+e)-t,Number.isFinite(n)&&Number.isFinite(i)?(this._visibleBars=new b(new f(n,i),this._model.mainSeries().style()),
p.BarsRange.compare(r.strictRange(),this._visibleBars.strictRange())||this._visibleBarsChanged.fire(this._visibleBars.strictRange(),r.strictRange()),f.compare(r.logicalRange(),this._visibleBars.logicalRange())||this._logicalRangeChanged.fire(this._visibleBars.logicalRange(),r.logicalRange())):O.logWarn("updateVisibleBars error: baseIndex: "+e+", barSpacing: "+this._barSpacing+", rightOffset: "+this._rightOffset))},e.prototype._rightOffsetForCoordinate=function(e){return(this._width+1-e)/this._barSpacing},e.prototype._invalidateVisibleBars=function(){this._visibleBarsInvalidated=!0},e.prototype._correctOffset=function(){var e,t=this.maxRightOffset();this._rightOffset>t&&(this._rightOffset=t,this._visibleBarsInvalidated=!0),null!==(e=this.minRightOffset())&&this._rightOffset<e&&(this._rightOffset=e,this._visibleBarsInvalidated=!0)},e.prototype._tryToUpdateBarSpacing=function(e,t){return e!==t&&(this._visibleBarsInvalidated=!0,this._barSpacing=t,this._barSpacingChanged.fire(e,t),!0)},e.prototype._coordinateToFloatIndex=function(e){var t=this._rightOffsetForCoordinate(e),i=this.baseIndex(),n=i+this.rightOffset()-t;return Math.round(1e6*n)/1e6},e.prototype._saveCommonTransitionsStartState=function(){this._commonTransitionStartState={barSpacing:this.barSpacing(),rightOffset:this.rightOffset()}},e.prototype._clearCommonTransitionsStartState=function(){this._commonTransitionStartState=null},e.prototype._maxRightOffsetOnChanged=function(){this._maxRightOffsetChanged.fire(this.maxRightOffset())},e}()},"23IT":function(e,t,i){"use strict";function n(e){return"line"===e.type}function r(e){return"shapes"===e.type}function o(e){return"chars"===e.type}function s(e){return"arrows"===e.type}function a(e){return"dataoffset"===e.type}function l(e){return"ohlc_open"===e.type}function c(e){return"ohlc_high"===e.type}function u(e){return"ohlc_low"===e.type}function h(e){return"ohlc_close"===e.type}function d(e){return l(e)||c(e)||u(e)||h(e)}function p(e){return"colorer"===e.type}function f(e){return"bar_colorer"===e.type}function _(e){return"bg_colorer"===e.type}function m(e){return"text_colorer"===e.type}function g(e){return"ohlc_colorer"===e.type}function y(e){return"alertcondition"===e.type}function v(e){return"Plot"!==e}function b(e){return"ohlc_bars"===e.plottype}function S(e){return"ohlc_candles"===e.plottype}var w,P;i.r(t),i.d(t,"LineStudyPlotStyle",function(){return w}),i.d(t,"isLinePlot",function(){return n}),i.d(t,"isShapesPlot",function(){return r}),i.d(t,"isCharsPlot",function(){return o}),i.d(t,"isArrowsPlot",function(){return s}),i.d(t,"isDataOffsetPlot",function(){return a}),i.d(t,"isOhlcOpenPlot",function(){return l}),i.d(t,"isOhlcHighPlot",function(){return c}),i.d(t,"isOhlcLowPlot",function(){return u}),i.d(t,"isOhlcClosePlot",function(){return h}),i.d(t,"isOhlcPlot",function(){return d}),i.d(t,"isColorerPlot",function(){return p}),i.d(t,"isBarColorerPlot",function(){return f}),i.d(t,"isBgColorerPlot",function(){return _}),i.d(t,"isTextColorerPlot",function(){return m}),i.d(t,"isOhlcColorerPlot",function(){return g}),
i.d(t,"isAlertConditionPlot",function(){return y}),i.d(t,"isPlotTitleDefined",function(){return v}),i.d(t,"isOhlcPlotStyleBars",function(){return b}),i.d(t,"isOhlcPlotStyleCandles",function(){return S}),i.d(t,"PlotSymbolSize",function(){return P}),function(e){e[e.Line=0]="Line",e[e.Histogram=1]="Histogram",e[e.Cross=3]="Cross",e[e.Area=4]="Area",e[e.Columns=5]="Columns",e[e.Circles=6]="Circles",e[e.LineWithBreaks=7]="LineWithBreaks",e[e.AreaWithBreaks=8]="AreaWithBreaks",e[e.StepLine=9]="StepLine"}(w||(w={})),function(e){e.Auto="auto",e.Tiny="tiny",e.Small="small",e.Normal="normal",e.Large="large",e.Huge="huge"}(P||(P={}))},"29fS":function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"PaneRendererBars",function(){return o}),n=i("VdBB"),r=i("Zp/P"),o=function(){function e(e){this._bars=e.bars,this._barSpacing=e.barSpacing,this._dontDrawOpen=e.dontDrawOpen,this._thinBars=e.thinBars}return e.prototype.hitTest=function(e){var t,i,o,s,a,l,c,u,h,d=this._bars,p=.5*this._barSpacing;if(0===d.length)return null;if(e.x<d[0].time-p)return null;if(e.x>d[d.length-1].time+p)return null;for(t=null,i=0,o=d;i<o.length;i++)if(s=o[i],e.x<=s.time+p){t=s;break}return null===t?null:(a=this._calcBarWidth(1),l=this._thinBars?Math.min(a,1):a,c=Object(r.selectionTolerance)(l),u=Math.min(t.high,t.low),h=Math.max(t.high,t.low),u-c<=e.y&&e.y<=h+c?new n.HitTestResult(n.HitTestResult.REGULAR):null)},e.prototype.draw=function(e,t){var i,n,r,o,s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T;for(e.save(),i=t.pixelRatio,this._barWidth=this._calcBarWidth(i),this._barWidth>=2&&Math.max(1,Math.floor(i))%2!=this._barWidth%2&&this._barWidth--,this._barLineWidth=this._thinBars?Math.min(this._barWidth,Math.floor(i)):this._barWidth,n=null,r=this._barLineWidth<=this._barWidth&&this._barSpacing>=Math.floor(1.5*t.pixelRatio),o=0,s=this._bars;o<s.length;o++)n!==(a=s[o]).color&&(e.fillStyle=a.color,n=a.color),l=Math.floor(.5*this._barLineWidth),d=(u=(c=Math.round(a.time*i))-l)+(h=this._barLineWidth)-1,p=Math.min(a.high,a.low),f=Math.max(a.high,a.low),_=Math.round(p*i)-l,m=Math.round(f*i)+l,g=Math.max(m-_,this._barLineWidth),e.fillRect(u,_,h,g),y=Math.ceil(1.5*this._barWidth),r&&(this._dontDrawOpen||(v=c-y,(S=(b=Math.max(_,Math.round(a.open*i)-l))+h-1)>_+g-1&&(b=(S=_+g-1)-h+1),e.fillRect(v,b,u-v,S-b+1)),w=c+y,(T=(P=Math.max(_,Math.round(a.close*i)-l))+h-1)>_+g-1&&(P=(T=_+g-1)-h+1),e.fillRect(d+1,P,w-d,T-P+1));e.restore()},e.prototype._calcBarWidth=function(e){var t=Math.floor(e);return Math.max(t,Math.floor(Object(r.optimalBarWidth)(this._barSpacing,e)))},e}()},"29gu":function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=i("uOxu").getLogger("CommonUI.CreateTVBlockPlugin");e.exports.createTvBlockPlugin=function(e){if(e)return function(t,i,n){function r(t,i){return i?e[t](s,i):e[t](s)}var o,s=$(this);return"get"===t?"function"==typeof e[o=i]?r(o,n):e[o]:e[t]?s.each(function(){return r(t,void 0)}):s
}},e.exports.createTvBlockWithInstance=function(e,t){function i(e,t,i){return void 0===i?e[t]():e[t](i)}if(e&&t)return e=e.toString(),function(o,s,a){var l,c,u;return"get"===o?l=s:(c=s,"object"===(void 0===o?"undefined":n(o))&&void 0===s?(c=o,o="init"):"string"!=typeof o&&(o="init")),"getInstance"===o?$(this).eq(0).data(e):"destroy"===o?(u=$(this).eq(0).data(e))?void("function"==typeof u.destroy?(i(u,"destroy",c),$(this).eq(0).removeData(e)):r.logError("[Block Plugin] "+e+" does not support destroy command")):void console.warn("[Block Plugin] Trying to execute destroy method of "+e+" but it has not been inited"):"get"===o?(u=$(this).eq(0).data(e))?"function"==typeof u[l]?i(u,l,a):u[l]:void console.warn("[Block Plugin] Trying to get prop or execute method of "+e+" but it has not been inited"):$(this).each(function(){var n=$(this),s=n.data(e);void 0===s&&(s=void 0===c?t(n):t(n,c),n.data(e,s)),"init"!==o&&("function"==typeof s[o]?i(s,o,c):r.logError("[Block Plugin] "+e+" does not support command "+o))})}}},"2Fqk":function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"CompareLegendView",function(){return s}),n=i("mrSG"),r=i("TrvT"),o=i("oxKA"),s=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._additional=null,n._showStudyValues=i.properties().paneProperties.legendProperties.showStudyValues,n._showStudyValues.subscribe(n,n.update),n}return Object(n.__extends)(t,e),t.prototype.isValuesVisible=function(){return this._showStudyValues.value()},t.prototype.destroy=function(){this._showStudyValues.unsubscribeAll(this)},t.prototype.additional=function(){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._additional},t.prototype._updateImpl=function(){var t=Object(o.getDataVendorString)(this._studyCompare.symbolInfo());this._additional=t?window.t("Data Provided by")+" "+t:null,e.prototype._updateImpl.call(this)},t}(r.CompareDataWindowView)},"2O5g":function(e,t,i){"use strict";function n(e){var t=Object(o.getAlertDialogType)(e),n=e.dataSourceHub?e.dataSourceHub.mainSeries():null,c=e.onAborted||function(){},h=Object(o.shouldAbortAlertEditor)(n,t);if(null!==h)return u.logError("Aborted: "+a.AlertEditorAbortReason[h]),Object(o.showAbortExplainingDialog)(h,t),void c(h);Promise.all([Promise.all([i.e(36),i.e(19),i.e(55),i.e(114),i.e(144),i.e("alert-editor-impl")]).then(i.t.bind(null,"Hlqb",7)),Object(s.getPriceAlertsDispatcher)(),function(e){return(e.series?Object(l.b)(e.series):Promise.resolve(!0)).then(function(t){var i=Object(r.__assign)({},e);return t||(delete i.series,delete i.value),i})}(e)]).then(function(e){var t=e[0],i=e[1],n=e[2];new t.AlertEditor(i,n)})}var r,o,s,a,l,c,u;i.r(t),i.d(t,"invokeAlertEditor",function(){return n}),r=i("mrSG"),o=i("PlME"),s=i("JUY+"),a=i("1UCy"),l=i("+slJ"),c=i("uOxu"),u=Object(c.getLogger)("Alerts.Price.InvokeAlertEditor")},"2OVc":function(e,t,i){"use strict";var n,r,o,s,a,l;i.r(t),i.d(t,"InsertStudyCommand",function(){return l}),n=i("mrSG"),r=i("Eyy1"),o=i("wFwD"),s=i("RDU5"),a=i("PC8g"),l=function(e){function t(t,i,n,r,o,s,a,l,c,u){
var h=e.call(this,u)||this;return h._studyId=null,h._chartModel=t,h._studyMetaInfo=i,h._props=r,h._addAsOverlay=o,h._parentId=null==s?null:s.id(),h._inputs=n,h._targetZOrder=c,h._preferredPriceScale=a,h._paneSize=l,h}return Object(n.__extends)(t,e),t.prototype.redo=function(){var e=null===this._parentId?void 0:this._chartModel.dataSourceForId(this._parentId),t=this._chartModel.insertStudyWithParams(this._studyMetaInfo,this._inputs,this._targetZOrder,this._props,this._addAsOverlay,e,this._preferredPriceScale,this._paneSize,null===this._studyId?void 0:this._studyId);this._studyId=t.id(),t.childStudyByRebind().subscribe(null,function(){return Object(a.trackEvent)("SOS","Apply SOS","Rebind SOS")}),Object(o.trackStudies)(t,"add")},t.prototype.undo=function(){var e=Object(r.ensureNotNull)(this._chartModel.dataSourceForId(Object(r.ensureNotNull)(this._studyId)));this._chartModel.removeSource(e)},t.prototype.insertedStudy=function(){return this._chartModel.dataSourceForId(Object(r.ensureNotNull)(this._studyId))},t}(s.UndoCommand)},"2S76":function(e,t,i){"use strict";function n(e,t){return f.a.hasEodSymbols(e.full_name)||t===d.STATUS_EOD}function r(e){return void 0!==e&&e>0}function o(e){return Object(a.__awaiter)(this,void 0,void 0,function(){var t,i,n;return Object(a.__generator)(this,function(r){switch(r.label){case 0:return t=Object(l.ensureDefined)(window.pro),[4,new Promise(function(e){return t.runOrUpdate(e)})];case 1:return r.sent(),i=t.getProduct(function(e){return"exchange-"+e.pro_perm}(e)),(n=function(e){var t,i;if(!window.pro)throw new Error("Pro module not defined");i=window.pro.getProductsByType(window.pro.PRODUCT_TYPES.exchange),t=i.find(function(t){return Boolean(t.included_exchanges&&t.included_exchanges.includes(e))});return t||null}(i.exchange||""))&&"cme-full"===n.exchange?[2,i]:[2,n||i];case 2:return[2,null]}})})}function s(e,t){var i=[];return r(e.delay)?(!function(e){return"index"===e.type&&g.includes(e.listed_exchange)}(e)?!function(e){return"MOEX"===e.listed_exchange&&!window.is_authenticated}(e)?!function(e){return"TFEX"===e.listed_exchange&&!window.is_authenticated}(e)?i.push("DelayToRealtime"):i.push("TFEXDelayForGuest"):i.push("MOEXDelayForGuest"):i.push("DelayNoRealtime"),i):n(e,t)?(i.push("EOD"),i):(function(e,t){return!(Object(m.enabled)(_.ProductFeatures.TICK_BY_TICK_PUSH_DATA)||r(e.delay)||n(e,t)||function(e){return"bitcoin"===e.type||"crypto"===e.type}(e))}(e,t)&&i.push("TickByTick"),function(e){return f.a.hasBatsSymbols(e.full_name)}(e)&&i.push("BATSToRealtime"),i)}var a,l,c,u,h,d,p,f,_,m,g,y,v,b,S;i.r(t),a=i("mrSG"),l=i("Eyy1"),c=i("hY0g"),u=i.n(c),h=i("+DwS"),d=i("dfhE"),p=i("8woN"),f=i.n(p),_=i("bKsZ"),m=i("NP3r"),g=["DJ","CBOE"],y=i("uOxu"),v=i("Cf1E"),i.d(t,"DataUpdatedModeModel",function(){return S}),b=Object(y.getLogger)("Chart.Definitions.Series"),S=function(){function e(e,t,i){this._dataUpdatedModeStatus=new u.a(null),this._symbolInfo=Object(h.a)(e.getter,e.onChange),this._status=Object(h.a)(t.getter,t.onChange),this._symbolInfo.subscribe(this._update.bind(this)),
this._status.subscribe(this._update.bind(this)),this._resetSubscription=i,this._resetSubscription.subscribe(this,this._resetStatus)}return e.prototype.destroy=function(){this._symbolInfo.destroy(),this._status.destroy(),this._resetSubscription.unsubscribeAll(this)},e.prototype.status=function(){return this._dataUpdatedModeStatus.readonly()},e.prototype.symbolName=function(){var e=this._symbolInfo.value();return null!==e?e.name:""},e.prototype.time=function(){var e=this._symbolInfo.value(),t=null!==e&&e.delay&&e.delay>0?e.delay:900;return Math.round(t/60)},e.prototype.listedExchange=function(){var e=this._symbolInfo.value();return null!==e?e.listed_exchange:""},e.prototype.description=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var e,t,i,n;return Object(a.__generator)(this,function(r){switch(r.label){case 0:if(null===(e=this._symbolInfo.value()))return[2,""];t={},r.label=1;case 1:return r.trys.push([1,3,,4]),i=l.ensureNotNull,[4,o(e)];case 2:return t=i.apply(void 0,[r.sent()]),[3,4];case 3:return n=r.sent(),b.logWarn("Cannot get exchange "+Object(v.a)(n)),[3,4];case 4:return[2,t.description||e.listed_exchange]}})})},e.prototype.exchange=function(){var e=this._symbolInfo.value();return null!==e?e.exchange:""},e.prototype._resetStatus=function(){this._dataUpdatedModeStatus.setValue(null)},e.prototype._update=function(){var e,t,i=this._symbolInfo.value();null!==i&&"string"!=typeof(e=this._status.value())?e!==d.STATUS_LOADING&&e!==d.STATUS_RESOLVING&&(0!==(t=s(i,e)).length?this._dataUpdatedModeStatus.setValue(t):this._dataUpdatedModeStatus.setValue(null)):this._dataUpdatedModeStatus.setValue(null)},e}()},"2WC2":function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h,d,p,f;i.d(t,"b",function(){return d}),i.d(t,"c",function(){return p}),i.d(t,"a",function(){return f}),n=i("mrSG"),r=i("Eyy1"),o=i("aO4+"),s=i("VdBB"),a=i("tS10"),l=i("gBDZ"),c=i("zDbI"),u=i("ikwP"),h=5e3,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype._startPath=function(e,t,i,n){e.beginPath(),e.lineWidth=this._lineWidth(t),e.lineCap="butt",e.strokeStyle=i},t.prototype._endPath=function(e){e.stroke()},t.prototype._lineWidth=function(e){return Math.max(1,Math.floor(2*e.pixelRatio))},t}(d=function(){function e(e,t){void 0===t&&(t={skipRenderingOptimizations:!1}),this._height=void 0!==e.height?e.height:e.width,this._width=void 0!==e.width?e.width:e.height,this._items=[],this._barSpacing=0,this._textCache=t.textCache||new a.a(h),this._drawOperation=t.skipRenderingOptimizations?this._drawWithoutOptimizations.bind(this):this._drawWithOptimizations.bind(this),this._color=e.color,this._borderColor=e.borderColor,this._vertOffset=e.vertOffset||0,e.text&&(this._text=e.text,this._fontSize=e.fontSize,this._textColor=e.textColor,this._textAlign=e.textAlign||"center"),void 0!==e.items&&void 0!==e.barSpacing&&this.setData(e.items,e.barSpacing)}return e.prototype.draw=function(e,t){this._preDrawInit(),this._drawOperation(e,t)},e.prototype.hitTest=function(e){
var t,i,n,r,a,l,c,u,h,d,p,f,_,m,g,y,v,b=s.HitTestResult.REGULAR;for(t=0,i=this._items;t<i.length;t++)if(n=i[t]){if(r=n.vertOffset,a=Math.max(n.height,n.width),new o.Point(n.x,n.y+r).subtract(e).length()<=a)return new s.HitTestResult(b,{});if((l=this._getTextCache(n))&&(c=l.textImageWidth,u=l.textImageHeight,h=c/2,d=n.y+r+n.textVertOffset,p=r>0?0:-u,f=r>0?u:0,_=e.x,m=e.y,g=n.x-h,y=d+p,v=n.x+h,_>g&&_<v&&m>y&&m<d+f))return new s.HitTestResult(b,{})}return null},e.prototype.setData=function(e,t){this._setBaseData(e,t)},e.prototype._setBaseData=function(e,t){var i,o,s,a,l,c,u;for(this._items.length=0,this._barSpacing=t,i=0,o=e;i<o.length;i++)a=void 0===(s=o[i]).width?Object(r.ensureDefined)(this._width):s.width,l=void 0===s.height?Object(r.ensureDefined)(this._height):s.height,u=(c=void 0===s.vertOffset?this._vertOffset:s.vertOffset)>0?l:-l,this._items.push(Object(n.__assign)({width:a,height:l,vertOffset:c,textVertOffset:u,shapeWidth:0,shapeHeight:0,stepX:0,stepY:0},s))},e.prototype._drawItemText=function(e,t,i){var n,r,o,s,a=this._getTextCache(i);null!==a&&(n=i.x,r=i.vertOffset,o=i.y+r+i.textVertOffset,s=i.style&&void 0!==i.style.textColor?i.style.textColor:this._textColor,a.paintTo(e,t,s,n,o,l.a.Center,r>0?l.c.Top:l.c.Bottom))},e.prototype._drawWithOptimizations=function(e,t){var i,n,r,o,s,a,l,c=null,u=!1;for(r=0,o=this._items;r<o.length;r++)(s=o[r]).style&&void 0!==s.style.color?(i=s.style.color,n=s.style.borderColor):(i=this._color,n=this._borderColor),c!==i&&(c=i,u&&this._endPath(e),this._startPath(e,t,i,n)),this._drawItemShape(e,t,s),u=!0;for(u&&this._endPath(e),a=0,l=this._items;a<l.length;a++)s=l[a],this._drawItemText(e,t,s)},e.prototype._drawWithoutOptimizations=function(e,t){var i,n,o,s,a,l;for(o=0,s=this._items;o<s.length;o++)a=s[o],l=Object(r.ensureDefined)(a.style),i=Object(r.ensureDefined)(l.color),n=l.borderColor,this._startPath(e,t,i,n),this._drawItemShape(e,t,a),this._endPath(e),this._drawItemText(e,t,a)},e.prototype._drawItemShape=function(e,t,i){var n=this;Object(u.drawScaled)(e,t.pixelRatio,function(){return n._drawItemShapeUsingCSSPixels(e,i)})},e.prototype._drawItemShapeUsingCSSPixels=function(e,t){},e.prototype._preDrawInit=function(){},e.prototype._startPath=function(e,t,i,n){},e.prototype._endPath=function(e){},e.prototype._getTextCache=function(e){var t=e.text||this._text,i=e.fontSize||this._fontSize,n=e.textAlign||this._textAlign;return this._textCache.get({text:t,bold:!1,italic:!1,font:c.CHART_FONT_FAMILY,fontSize:i,align:n})},e}()),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype._startPath=function(e,t,i,n){e.beginPath(),e.lineWidth=this._lineWidth(t),e.lineCap="butt",e.fillStyle=i,e.strokeStyle=n},t.prototype._endPath=function(e){e.fill(),e.stroke()},t.prototype._lineWidth=function(e){return Math.max(1,Math.floor(e.pixelRatio))},t}(d)},"2bPF":function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolBarsPattern";var o=t||n.createProperties();r.call(this,e,o),
o.mirrored.listeners().subscribe(this,n.prototype.mirror),o.flipped.listeners().subscribe(this,n.prototype.flip),this._scaleCoeff=1,this.version=n.version,this._pattern=[],this._properties.mode.listeners().subscribe(this,n.prototype.onModeChanged),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("c6sA").BarsPatternPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("7KDR").Action,s=i("Ocx9").DefaultProperty,a=i("k9/m").PlotRowSearchMode,l=i("hayr").propertyPages,c=i("Ye2/").LineToolBarsPatternMode,u=window.t("Bars Pattern");inherit(n,r),n.version=2,n.prototype.isSynchronizable=function(){return!1},n.prototype.onModeChanged=function(){var e=this.patternPriceDiff();e*=this._pressCoeff,this._points[1].price=this._timePoint[1].price=this._points[0].price+e},n.prototype.additionalActions=function(e){var t=this;return[new o({checked:this.properties().mirrored.value(),checkable:!0,label:window.t("Mirrored"),payload:{target:this},onExecute:function(t){var i=t.getPayload(),n=i.target;e.setProperty(n.properties().mirrored,!n.properties().mirrored.value(),"Bats Pattern Mirroring"),n.updateAllViews(),n._model.updateSource(n)}}),new o({checked:this.properties().flipped.value(),checkable:!0,label:window.t("Flipped"),payload:{target:this},onExecute:function(t){var i=t.getPayload(),n=i.target;e.setProperty(n.properties().flipped,!n.properties().flipped.value(),"Bats Pattern Flipping"),n.updateAllViews(),n._model.updateSource(n)}}),new o({checkable:!0,label:window.t("Restore Size"),onExecute:function(i){var n=t.points()[0],r=t.patternPriceDiff(),o=n.price+r,s=n.index+t._pattern.length-1;e.startChangingLinetool(t,{price:o,index:s},1,{}),e.changeLinePoint({price:o,index:s},{}),e.endChangingLinetool()}})]},n.prototype.pointsCount=function(){return 2},n.prototype.state=function(e){var t=r.prototype.state.call(this,e);return t.pattern=this._pattern,t},n.prototype.restoreData=function(e){e.pattern&&(this._pattern=e.pattern)},n.prototype.translatedType=function(){return u},n.prototype.name=function(){return"Bars Pattern"},n.prototype.hasEditableCoordinates=function(){return!1},n.prototype.cloneData=function(e){this._pattern=TradingView.clone(e._pattern)},n.prototype.mirror=function(){var e,t,i,n,r,o=this._pattern,s=o[0][TradingView.HIGH_PLOT],a=Math.min(o[0][TradingView.LOW_PLOT],o[0][TradingView.HIGH_PLOT]),l=Math.max(o[0][TradingView.LOW_PLOT],o[0][TradingView.HIGH_PLOT]);for(e=1;e<o.length;e++)a=Math.min(a,o[e][TradingView.LOW_PLOT]),l=Math.max(l,o[e][TradingView.HIGH_PLOT]);if(a<l)for(t=(a+l)/2,i=function(e){var i=e-t,n=t-i;return n},e=0;e<o.length;e++)o[e][TradingView.HIGH_PLOT]=i(o[e][TradingView.HIGH_PLOT]),o[e][TradingView.LOW_PLOT]=i(o[e][TradingView.LOW_PLOT]),o[e][TradingView.OPEN_PLOT]=i(o[e][TradingView.OPEN_PLOT]),o[e][TradingView.CLOSE_PLOT]=i(o[e][TradingView.CLOSE_PLOT]);n=o[0][TradingView.HIGH_PLOT]-s,r=o[o.length-1][TradingView.LOW_PLOT]-o[0][TradingView.HIGH_PLOT],this._points[0].price+=n,
this._points[1].price=this._points[0].price+r,this.updateAllViews()},n.prototype.flip=function(){var e,t,i;for(this._points[0].price=this._points[1].price,e=0;e<this._pattern.length/2;e++)t=this._pattern[e],this._pattern[e]=this._pattern[this._pattern.length-e-1],this._pattern[this._pattern.length-e-1]=t;i=this._pattern[this._pattern.length-1][TradingView.LOW_PLOT]-this._pattern[0][TradingView.HIGH_PLOT],this._points[1].price=this._points[0].price+i,this.updateAllViews()},n.prototype.firstPatternPrice=function(){var e,t=parseInt(this.properties().mode.value(),10);return t===c.LineHL2?(this._pattern[0][TradingView.HIGH_PLOT]+this._pattern[0][TradingView.LOW_PLOT])/2:(e={0:TradingView.HIGH_PLOT,1:TradingView.CLOSE_PLOT,2:TradingView.OPEN_PLOT,3:TradingView.OPEN_PLOT,4:TradingView.HIGH_PLOT,5:TradingView.LOW_PLOT}[t],this._pattern[0][e])},n.prototype.lastPatternPrice=function(){var e,t=parseInt(this.properties().mode.value(),10);return t===c.LineHL2?(this._pattern[this._pattern.length-1][TradingView.HIGH_PLOT]+this._pattern[this._pattern.length-1][TradingView.LOW_PLOT])/2:(e={0:TradingView.LOW_PLOT,1:TradingView.CLOSE_PLOT,2:TradingView.CLOSE_PLOT,3:TradingView.OPEN_PLOT,4:TradingView.HIGH_PLOT,5:TradingView.LOW_PLOT}[t],this._pattern[this._pattern.length-1][e])},n.prototype.patternPriceDiff=function(){return this.lastPatternPrice()-this.firstPatternPrice()},n.prototype.pressCoeff=function(){var e=this.patternPriceDiff(),t=this.points()[0].price,i=this.points()[1].price,n=i-t,r=n/e;return this._pressCoeff=r,r},n.prototype.addPoint=function(e,t){var i,n,o,s,l,u,h,d,p,f,_,m=this._model.mainSeries(),g=m.nearestIndex(e.index,a.NearestRight);if(this.properties().mode.value()===c.Bars?e.price=m.bars().valueAt(g)[TradingView.HIGH_PLOT]:e.price=m.bars().valueAt(g)[TradingView.CLOSE_PLOT],i=this.priceScale(),n=this.ownerSource().firstValue(),o=.05*i.height(),s=i.priceToCoordinate(e.price,n)-o,e.price=i.coordinateToPrice(s,n),l=r.prototype.addPoint.call(this,e,t,!0)){for(u=Math.min(this.points()[0].index,this.points()[1].index),h=Math.max(this.points()[0].index,this.points()[1].index),g=this._model.mainSeries().nearestIndex(u,a.NearestRight),d=this._model.mainSeries().nearestIndex(h,a.NearestLeft),this.points()[0].index>this.points()[1].index&&(this._points[0].price=this._points[1].price),this._pattern=[],p=g;p<=d;p++)f=this._model.mainSeries().data().valueAt(p),this._pattern.push(TradingView.clone(f));this._pattern.length>0&&(_=this.patternPriceDiff(),this._points[1].price=this._points[0].price+_,this._points[1].index=this._points[0].index+(d-g),this.normalizePoints(),this.createServerPoints())}return l},n.prototype.setPoint=function(e,t,i){1===e&&t.index<=this._points[0].index&&(t.index=this._points[0].index+1),0===e&&t.index>=this._points[1].index&&(t.index=this._points[1].index-1),r.prototype.setPoint.call(this,e,t,i)},n.prototype.migrateVersion=function(e,t,i){if(1===e&&this._pattern.length>0){var n=this.patternPriceDiff();2===this._timePoint.length&&(this._timePoint[1].price=this._timePoint[0].price+n),
2===this._points.length&&(this._points[1].price=this._points[0].price+n)}},n.prototype.getInputsPropertyPage=function(){return null},n.prototype.getStylesPropertyPage=function(){return l.LineToolBarsPatternStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("8ioM").BarsPatternDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new s("linetoolbarspattern",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e),e.addExclusion("mirrored"),e.addExclusion("flipped")},t.LineToolBarsPattern=n},"2h0C":function(e,t,i){function n(e,t,i,n,o,s){e?(this._control=e,this._property=t,this._applyOnFly=i,this._undoModel=n,this._undoText=o,this._doesNotAffectSave=!1,t&&(this._formatters=[],this._changed=!1,this.setValue(t.value()),t.listeners().subscribe(this,this.propertyChanged))):r.logDebug("Missing control")}var r=i("uOxu").getLogger("Chart.PropertyPage.Binding");n.prototype.addFormatter=function(e){this._formatters.push(e),this.setValue(this._property.value())},n.prototype._formatValue=function(e){return this._formatters.reduce(function(e,t){return t(e)},e)},n.prototype._setValueToProperty=function(e){this._setter?this._setter.call(this,e):this.setValueToProperty(e)},n.prototype._attachToControl=function(e,t){var i=this;t?e.on("keyup change input",function(e){var t=i.value();i._setValueToProperty(t),i.setValue(t)}):(e.keypress(function(e){if(i._changed=!0,13===e.which){var t=i.value();i._setValueToProperty(t),i.setValue(t)}}),e.focusout(function(e){var t=i.value();i.changed()&&(i._setValueToProperty(t),i.setValue(t))}),e.change(function(e){var t=i.value();$(e.target).is(".ticker")?(void 0!==i._changeTimerId&&clearTimeout(i._changeTimerId),i._changeTimerId=setTimeout(function(){i._setValueToProperty(t)},250)):i._setValueToProperty(t),i.setValue(t)}))},n.prototype.control=function(){return this._control},n.prototype.changed=function(){return this._changed},n.prototype.setValueToProperty=function(e){this._undoModel.setProperty(this._property,e,this._undoText,this._doesNotAffectSave),this._changed=!1},n.prototype.property=function(){return this._property},n.prototype.propertyChanged=function(e){this.setValue(e.value())},n.prototype.destroy=function(){this._property&&this._property.listeners().unsubscribe(this,this.propertyChanged)},n.prototype.disableAffectingSave=function(){this._doesNotAffectSave=!0},t.Binding=n},"2jAL":function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"SwapChartsUndoCommand",function(){return o}),n=i("mrSG"),r=i("RDU5"),o=function(e){function t(t,i,n){var r=e.call(this,"Swap Charts in the Layout")||this;return r._swapper=t,r._from=i,r._to=n,r}return Object(n.__extends)(t,e),t.prototype.redo=function(){this._swapper(this._from,this._to)},t.prototype.undo=function(){this._swapper(this._from,this._to)},t}(r.UndoCommand)},"2kV1":function(e,t,i){"use strict";var n,r,o,s,a,l,c,u;i.r(t),
i.d(t,"StudyStatusView",function(){return u}),n=i("mrSG"),r=i("+GxX"),o=i("nBJD"),s=i("8sOK"),a={NONE:"Default"},l=Object(r.isFeatureEnabled)("hide_exchange_in_inputs"),c="#ff0000",u=function(e){function t(t,i){var n=e.call(this,i)||this;return n._source=t,n}return Object(n.__extends)(t,e),t.prototype.color=function(){return this._source instanceof s.StudyStub?e.prototype.color.call(this):this._source.isFailed()||this._source.metaInfo&&this._source.metaInfo().isTVScriptStub?c:e.prototype.color.call(this)},t.prototype.getSplitTitle=function(){var e,t=this._source.titleInParts(!0,a,void 0,l);return this._source.isFailed()?(e=t[1],[(t[0]+" "+(void 0===e?"":e.join(" "))).trim()+": "+this._source.status(),void 0]):t},t.prototype.update=function(){this._source.isFailed()?this._text=this._source.title(!0,a,void 0,l)+": "+this._source.status():this._text=this._source.title(!0,a,void 0,l)+" "+this._source.status()},t}(o.a)},"2ku2":function(e,t,i){"use strict";function n(e,t,i){return i?Math.sign(e)*(Math.round(Math.abs(e))+t):Math.round(e)+t}var r,o,s,a;i.r(t),i.d(t,"PaneRendererStudyStrategyOrders",function(){return a}),r=i("VdBB"),o=i("ikwP"),s=i("Hr11"),a=function(){function e(e,t){this._data=e,this._textWidths=t}return e.prototype.draw=function(e,t){var i,n,r,s,a,l=this,c=t.pixelRatio,u=this._data;for(e.beginPath(),i=0,n=u.items;i<n.length;i++)s="lower"===(r=n[i]).pos,e.save(),a=Math.round(u.orderArrow.vMargin*c),e.translate(0,s?a:-a),this._drawOrderArrow(e,r.orderPoint,u.exitLineWidth,s,c),e.restore(),e.save(),this._drawPriceArrow(e,r.pricePoint,!s,c),e.restore();e.closePath(),e.fillStyle=u.color,e.fill(),u.text&&Object(o.drawScaled)(e,c,function(){var t,i,n,r;for(e.font=u.text.fontSize+"px "+u.text.font,e.textAlign="center",e.textBaseline="top",t=0,i=u.items;t<i.length;t++)r="lower"===(n=i[t]).pos,e.save(),e.translate(0,r?u.orderArrow.vMargin:-u.orderArrow.height-u.orderArrow.vMargin),n.label&&(e.translate(0,r?u.text.fontSize+u.text.vMargin+u.exitLineWidth:-u.text.fontSize-u.text.vMargin-u.exitLineWidth),e.fillText(n.label,Math.ceil(n.orderPoint.x),n.orderPoint.y),Number.isFinite(l._textWidths[n.label])||(l._textWidths[n.label]=e.measureText(n.label).width)),n.qty&&(e.translate(0,r?u.text.fontSize+u.text.vMargin+u.exitLineWidth:-u.text.fontSize-u.text.vMargin-u.exitLineWidth),e.fillText(n.qty,Math.ceil(n.orderPoint.x),n.orderPoint.y),Number.isFinite(l._textWidths[n.qty])||(l._textWidths[n.qty]=e.measureText(n.qty).width)),e.restore()})},e.prototype.hitTest=function(e){var t=this._testOrderArrows(e),i=!t&&this._data.text&&this._testText(e);return t||i?new r.HitTestResult(r.HitTestResult.REGULAR):null},e.prototype._drawOrderArrow=function(e,t,i,r,o){var a,l,c,u,h,d,p,f=this._data;r?(e.rotate(Math.PI),a=-t.x,l=-t.y-f.orderArrow.height):(a=t.x,l=t.y-f.orderArrow.height),i&&(l-=i),c=Math.max(1,Math.floor(o))%2?.5:0,u=r?"floor":"ceil",a=n(a*o,c,r),l=Math.round((Math[u](l)+.5)*o),e.translate(a,l),d=(h=Object(s.ceiledEven)(f.orderArrow.width*o))/2+c,p=Math.round(h/4)+c,e.moveTo(-p,0),e.lineTo(p,0),
e.lineTo(p,Math.round(.45*f.orderArrow.height*o)),e.lineTo(d,Math.round(.45*f.orderArrow.height*o)),e.lineTo(0,Math.round(f.orderArrow.height*o)),i&&(e.lineTo(d,Math.round(f.orderArrow.height*o)),e.lineTo(d,Math.round((f.orderArrow.height+i)*o)),e.lineTo(-d,Math.round((f.orderArrow.height+i)*o)),e.lineTo(-d,Math.round(f.orderArrow.height*o)),e.lineTo(0,Math.round(f.orderArrow.height*o))),e.lineTo(-d,Math.round(.45*f.orderArrow.height*o)),e.lineTo(-p,Math.round(.45*f.orderArrow.height*o))},e.prototype._drawPriceArrow=function(e,t,i,r){var o,a,l,c,u,h=this._data;i?(e.rotate(Math.PI),o=-t.x,a=-t.y):(o=t.x,a=t.y),o=n(o*r,l=Math.max(1,Math.floor(r))%2?.5:0,i),a=n(a*r,l,i),c=Object(s.ceiledEven)(h.priceArrow.height*r)/2,u=-(Math.round(h.priceArrow.width*r)+l),e.translate(o,a),e.moveTo(0,0),e.lineTo(u,-c),e.lineTo(u,c)},e.prototype._testOrderArrows=function(e){var t,i,n,r,o,s,a,l,c,u=this._data,h=u.orderArrow.width/2;for(t=0,i=u.items;t<i.length;t++)if(r=(n=i[t]).orderPoint,!(e.x<r.x-h||e.x>r.x+h||(o="lower"===n.pos,s=u.orderArrow.height+u.exitLineWidth,o||(s=-s),a=r.y+(o?u.orderArrow.vMargin:-u.orderArrow.vMargin),l=Math.min(a,a+s),c=Math.max(a,a+s),e.y<l||e.y>c)))return!0;return!1},e.prototype._testText=function(e){var t,i,n,r,o,s,a,l,c,u,h,d,p,f=this._data;for(t=0,i=f.items;t<i.length;t++)if(r=(n=i[t]).orderPoint,o="lower"===n.pos,s=f.orderArrow.vMargin+f.orderArrow.height+f.exitLineWidth,o||(s=-s),a=r.y+s,l=f.text.vMargin+f.text.fontSize*((n.label?0:1)+(n.qty?0:1)),o||(l=-l),c=Math.min(a,a+l),u=Math.max(a,a+l),!(e.y<c||e.y>u||(h=n.label&&n.qty?o&&e.y<a+f.text.fontSize||!o&&e.y>a-f.text.fontSize?n.label:n.qty:n.label||n.qty,p=(d=this._textWidths[h])&&d/2,!d||e.x<r.x-p||e.x>r.x+p)))return!0;return!1},e}()},"2tp3":function(e,t,i){"use strict";function n(e,t){var i,n;return e.x1>=t.length||e.x2>=t.length?null:(i=t[e.x1],n=t[e.x2],i===s.INVALID_TIME_POINT_INDEX||n===s.INVALID_TIME_POINT_INDEX?null:{x1:i,y1:e.y1,x2:n,y2:e.y2,style:e.st,extend:e.ex,width:e.w,colorIndex:e.ci})}function r(e,t,i){var n=Object(a.ensureTimePointIndexIndex)(i.indexOf(e.x1)),r=Object(a.ensureTimePointIndexIndex)(i.indexOf(e.x2));return{id:t,x1:n,y1:e.y1,x2:r,y2:e.y2,st:e.style,ex:e.extend,w:e.width,ci:e.colorIndex}}function o(e){return u.get(e)}var s,a,l,c,u;i.d(t,"a",function(){return c}),i.d(t,"d",function(){return n}),i.d(t,"b",function(){return r}),i.d(t,"c",function(){return o}),s=i("tqok"),a=i("hsV8"),function(e){e.Solid="sol",e.Dotted="dot",e.Dashed="dsh",e.LeftArrow="al",e.RightArrow="ar",e.BothArrow="ab"}(l||(l={})),function(e){e.None="n",e.Left="l",e.Right="r",e.Both="b"}(c||(c={})),u=new Map([[l.Solid,{dashPattern:[],drawLeftArrow:!1,drawRightArrow:!1}],[l.Dashed,{dashPattern:[5,6],drawLeftArrow:!1,drawRightArrow:!1}],[l.Dotted,{dashPattern:[1,2],drawLeftArrow:!1,drawRightArrow:!1}],[l.LeftArrow,{dashPattern:[],drawLeftArrow:!0,drawRightArrow:!1}],[l.RightArrow,{dashPattern:[],drawLeftArrow:!1,drawRightArrow:!0}],[l.BothArrow,{dashPattern:[],drawLeftArrow:!0,drawRightArrow:!0}]])},"3/8U":function(e,t,i){"use strict";function n(e){
return"dark"===e?"rgba(30,136,229,0.25)":"rgba(33,150,243,0.25)"}i.r(t),i.d(t,"axesHighlightColor",function(){return n})},"33OQ":function(e,t,i){"use strict";(function(n){function r(){d.width=window.innerWidth,d.height=u.height()}function o(e){var t=d.device;d.device=e,d.trigger("changeDevice",[e,t])}var s,a,l,c,u,h,d,p,f,_,m,g;for(Object.defineProperty(t,"__esModule",{value:!0}),s=i("4O8T"),a=(m=s)&&m.__esModule?m:{default:m},l=i("BI5g"),c=$("body"),u=$(window),h=0,d={width:null,height:null,device:null,isSafari:!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)||!!navigator.userAgent.match("CriOS"),isPhoneSizeDevice:function(){return"phone"===d.device||"phone-vertical"===d.device},getScrollbarWidth:(g=void 0,function(){var e,t,i,n;return void 0===g&&((e=document.createElement("div")).style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e),t=e.offsetWidth,e.style.overflow="scroll",(i=document.createElement("div")).style.width="100%",e.appendChild(i),n=i.offsetWidth,e.parentNode.removeChild(e),g=t-n),g}),hasScroll:function(e){return e.get(0).scrollHeight>e.height()},breakpoints:l.breakpoints,widgetbarBreakpoint:1064,setFixedBodyState:function(e){var t,i;e&&1==++h?("hidden"!==$(document.body).css("overflow").toLowerCase()&&document.body.scrollHeight>document.body.offsetHeight&&($(".widgetbar-wrap").css("right",d.getScrollbarWidth()),c.css("padding-right",parseInt(c.css("padding-right").replace("px",""))+d.getScrollbarWidth()+"px").data("wasScroll",!0)),c.addClass("i-no-scroll")):!e&&h>0&&0==--h&&(c.removeClass("i-no-scroll"),c.data("wasScroll")&&(t=c.get(0),$(".widgetbar-wrap").css("right",0),i=Boolean(window.widgetbar&&window.widgetbar.resizerBridge.fullscreen.value())?0:$(".widgetbar-wrap").width()||0,t.scrollHeight<=t.clientHeight&&(i-=d.getScrollbarWidth()),c.css("padding-right",(i<0?0:i)+"px").data("wasScroll",void 0)))}},p=Object.keys(d.breakpoints).sort(function(e,t){return d.breakpoints[e]-d.breakpoints[t]}),n.extend(d,a.default.prototype),r(),$(r),u.on("resize",r),f=function(e){var t,i,n=p[e],s=0===e?0:d.breakpoints[p[e-1]]+1,a=d.breakpoints[n],l=(t=s,(i=a)===1/0?window.matchMedia("(min-width: "+t+"px)"):window.matchMedia("(min-width: "+t+"px) and (max-width: "+i+"px)"));l.matches&&o(n),l.addListener(function(e){e.matches&&(r(),o(n))})},_=0;_<p.length;_++)f(_);t.default=d,e.exports=t.default}).call(this,i("F/us"))},"35Sq":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M17.5 7H17v6h-3v-3H9v6H5v6h17V7h-4.5zm.5 14h3V8h-3v13zm-1 0v-7h-3v7h3zm-4-7.5V21h-3V11h3v2.5zM9 21v-4H6v4h3z"/></svg>'},"379M":function(e,t,i){"use strict";function n(e){var t=Object(o.getCurrentTheme)().name;return t===s.StdTheme.Dark&&Object(o.isStdThemedDefaultValue)("chartProperties.paneProperties.background",e,s.StdTheme.Dark)&&Object(r.isOnMobileAppPage)("old")?a:e}var r,o,s,a;i.r(t),i.d(t,"getBackgroundColorForChart",function(){return n}),
r=i("qFKp"),o=i("EsvI"),s=i("zM7N"),a="#000000"},"38az":function(e,t,i){"use strict";function n(){this.backColorers=[]}function r(e){n.call(this),this._series=e}function o(e,t){n.call(this),this._study=e,this._plotIndex=t}var s=i("k9/m").PlotRowSearchMode;n.prototype.barStyle=function(e,t,i){var n,r={};for(n=this.backColorers.length-1;n>=0;n--)this.backColorers[n].applyBarStyle(e,t,r,i);return this.applyBarStyle(e,t,r,i),r},n.prototype.pushBackBarColorer=function(e){this.backColorers.push(e)},n.prototype.applyBarStyle=function(e,t,i){throw new Error("This function is supposed to be reimplemented in a subclass")},inherit(r,n),r.upColor=function(e,t){switch(e.style.value()){case TradingView.Series.STYLE_LINE:return e.lineStyle.color.value();case TradingView.Series.STYLE_AREA:return e.areaStyle.linecolor.value();case TradingView.Series.STYLE_BARS:return e.barStyle.upColor.value();case TradingView.Series.STYLE_RANGE:return t?e.rangeStyle.upColorProjection.value():e.rangeStyle.upColor.value();case TradingView.Series.STYLE_CANDLES:return e.candleStyle.upColor.value();case TradingView.Series.STYLE_HOLLOW_CANDLES:return e.hollowCandleStyle.upColor.value();case TradingView.Series.STYLE_HEIKEN_ASHI:return e.haStyle.upColor.value();case TradingView.Series.STYLE_RENKO:return t?e.renkoStyle.upColorProjection.value():e.renkoStyle.upColor.value();case TradingView.Series.STYLE_PB:return t?e.pbStyle.upColorProjection.value():e.pbStyle.upColor.value();case TradingView.Series.STYLE_KAGI:return t?e.kagiStyle.upColorProjection.value():e.kagiStyle.upColor.value();case TradingView.Series.STYLE_PNF:return t?e.pnfStyle.upColorProjection.value():e.pnfStyle.upColor.value();case TradingView.Series.STYLE_BASELINE:return e.baselineStyle.topLineColor.value();case TradingView.Series.STYLE_HILO:return e.hiloStyle.color.value()}throw new Error("Unknown series style")},r.downColor=function(e,t){switch(e.style.value()){case TradingView.Series.STYLE_LINE:return e.lineStyle.color.value();case TradingView.Series.STYLE_AREA:return e.areaStyle.linecolor.value();case TradingView.Series.STYLE_BARS:return e.barStyle.downColor.value();case TradingView.Series.STYLE_RANGE:return t?e.rangeStyle.downColorProjection.value():e.rangeStyle.downColor.value();case TradingView.Series.STYLE_CANDLES:return e.candleStyle.downColor.value();case TradingView.Series.STYLE_HOLLOW_CANDLES:return e.hollowCandleStyle.downColor.value();case TradingView.Series.STYLE_HEIKEN_ASHI:return e.haStyle.downColor.value();case TradingView.Series.STYLE_RENKO:return t?e.renkoStyle.downColorProjection.value():e.renkoStyle.downColor.value();case TradingView.Series.STYLE_PB:return t?e.pbStyle.downColorProjection.value():e.pbStyle.downColor.value();case TradingView.Series.STYLE_KAGI:return t?e.kagiStyle.downColorProjection.value():e.kagiStyle.downColor.value();case TradingView.Series.STYLE_PNF:return t?e.pnfStyle.downColorProjection.value():e.pnfStyle.downColor.value();case TradingView.Series.STYLE_BASELINE:return e.baselineStyle.bottomLineColor.value();case TradingView.Series.STYLE_HILO:
return e.hiloStyle.color.value()}throw new Error("Unknown series style")},r.prototype._applyLineStyle=function(e,t,i,n,o){i.barColor=r.upColor(o)},r.prototype._applyAreaStyle=function(e,t,i,n,o){i.barColor=r.upColor(o)},r.prototype._applyBarStyle=function(e,t,i,n,o){var s,a=r.upColor(o),l=r.downColor(o),c=this.findBar(e,!1,n);o.barStyle.barColorsOnPrevClose.value()?(s=this.findPrevBar(e,!1,n),i.barColor=s[TradingView.CLOSE_PLOT]<=c[TradingView.CLOSE_PLOT]?a:l,i.barBorderColor=s[TradingView.CLOSE_PLOT]<=c[TradingView.CLOSE_PLOT]?a:l):(i.barColor=c[TradingView.OPEN_PLOT]<=c[TradingView.CLOSE_PLOT]?a:l,i.barBorderColor=c[TradingView.OPEN_PLOT]<=c[TradingView.CLOSE_PLOT]?a:l)},r.prototype._applyRangeStyle=function(e,t,i,n,o){var s=r.upColor(o,t),a=r.downColor(o,t),l=this.findBar(e,!1,n);i.barColor=l[TradingView.OPEN_PLOT]<=l[TradingView.CLOSE_PLOT]?s:a,i.barBorderColor=i.barColor},r.prototype._applyCandleStyle=function(e,t,i,n,o){var s,a=r.upColor(o,t),l=r.downColor(o,t),c=o.candleStyle.borderUpColor?o.candleStyle.borderUpColor.value():o.candleStyle.borderColor.value(),u=o.candleStyle.borderDownColor?o.candleStyle.borderDownColor.value():o.candleStyle.borderColor.value(),h=o.candleStyle.wickUpColor?o.candleStyle.wickUpColor.value():o.candleStyle.wickColor.value(),d=o.candleStyle.wickDownColor?o.candleStyle.wickDownColor.value():o.candleStyle.wickColor.value(),p=this.findBar(e,!1,n);s=o.candleStyle.barColorsOnPrevClose.value()?this.findPrevBar(e,!1,n)[TradingView.CLOSE_PLOT]<=p[TradingView.CLOSE_PLOT]:p[TradingView.OPEN_PLOT]<=p[TradingView.CLOSE_PLOT],i.barColor=s?a:l,i.barBorderColor=s?c:u,i.barWickColor=s?h:d},r.prototype._applyHollowCandleStyle=function(e,t,i,n,o){var s=r.upColor(o,t),a=r.downColor(o,t),l=o.hollowCandleStyle.borderUpColor?o.hollowCandleStyle.borderUpColor.value():o.hollowCandleStyle.borderColor.value(),c=o.hollowCandleStyle.borderDownColor?o.hollowCandleStyle.borderDownColor.value():o.hollowCandleStyle.borderColor.value(),u=o.hollowCandleStyle.wickUpColor?o.hollowCandleStyle.wickUpColor.value():o.hollowCandleStyle.wickColor.value(),h=o.hollowCandleStyle.wickDownColor?o.hollowCandleStyle.wickDownColor.value():o.hollowCandleStyle.wickColor.value(),d=this.findBar(e,!1,n),p=this.findPrevBar(e,!1,n);p[TradingView.CLOSE_PLOT]<=d[TradingView.CLOSE_PLOT]?(i.barColor=s,i.barBorderColor=l,i.barWickColor=u):(i.barColor=a,i.barBorderColor=c,i.barWickColor=h),i.isBarHollow=d[TradingView.OPEN_PLOT]<=d[TradingView.CLOSE_PLOT]},r.prototype._applyHAStyle=function(e,t,i,n,o){var s,a=r.upColor(o,t),l=r.downColor(o,t),c=o.haStyle.borderUpColor.value(),u=o.haStyle.borderDownColor.value(),h=o.haStyle.wickUpColor.value(),d=o.haStyle.wickDownColor.value(),p=this.findBar(e,t,n);s=o.haStyle.barColorsOnPrevClose.value()?this.findPrevBar(e,t,n)[TradingView.CLOSE_PLOT]<=p[TradingView.CLOSE_PLOT]:p[TradingView.OPEN_PLOT]<=p[TradingView.CLOSE_PLOT],i.barColor=s?a:l,i.barBorderColor=s?c:u,i.barWickColor=s?h:d},r.prototype._applyRenkoStyle=function(e,t,i,n,o){
var s=this.findBar(e,t,n),a=s[TradingView.OPEN_PLOT]<=s[TradingView.CLOSE_PLOT],l=r.upColor(o,t),c=r.downColor(o,t),u=t?o.renkoStyle.borderUpColorProjection.value():o.renkoStyle.borderUpColor.value(),h=t?o.renkoStyle.borderDownColorProjection.value():o.renkoStyle.borderDownColor.value(),d=o.renkoStyle.wickUpColor.value(),p=o.renkoStyle.wickDownColor.value();i.barColor=a?l:c,i.barBorderColor=a?u:h,i.barWickColor=a?d:p,i.isBarUp=a},r.prototype._applyPBStyle=function(e,t,i,n,o){var s,a,l,c,u,h;i.barColor=r.upColor(o),a=(s=this.findBar(e,t,n))[TradingView.OPEN_PLOT]<=s[TradingView.CLOSE_PLOT],l=r.upColor(o,t),c=r.downColor(o,t),u=t?o.pbStyle.borderUpColorProjection.value():o.pbStyle.borderUpColor.value(),h=t?o.pbStyle.borderDownColorProjection.value():o.pbStyle.borderDownColor.value(),i.barColor=a?l:c,i.barBorderColor=a?u:h,i.isBarUp=a},r.prototype._applyKagiStyle=function(e,t,i,n,o){var s,a;i.upColor=r.upColor(o,t),i.downColor=r.downColor(o,t),s=null,(a=this.findBar(e,t,n))[TradingView.LOW_PLOT]<a[TradingView.ADT_PLOT]&&a[TradingView.ADT_PLOT]<a[TradingView.HIGH_PLOT]?(s=a[TradingView.OPEN_PLOT]<=a[TradingView.CLOSE_PLOT],i.isTwoColorBar=!0):(s=a[TradingView.OPEN_PLOT]<=a[TradingView.CLOSE_PLOT]?a[TradingView.OPEN_PLOT]===a[TradingView.ADT_PLOT]:a[TradingView.OPEN_PLOT]!==a[TradingView.ADT_PLOT],i.isTwoColorBar=!1),i.barColor=s?i.upColor:i.downColor,i.isBarUp=a[TradingView.OPEN_PLOT]<=a[TradingView.CLOSE_PLOT]},r.prototype._applyPnfStyle=function(e,t,i,n,o){var s=this.findBar(e,t,n),a=s[TradingView.ADT_PLOT],l=a>0,c=r.upColor(o,t),u=r.downColor(o,t);i.isBarUp=l,i.isMergedBar=2===Math.abs(a),i.upColor=c,i.downColor=u,i.barColor=l?c:u},r.prototype._applyBaseLineStyle=function(e,t,i,n,o){var s=this.findBar(e,t,n),a=o.baselineStyle,l=this._series.priceScale(),c=Math.round(l.height()*(Math.abs(100-a.baseLevelPercentage.value())/100)),u=this._series.firstValue(),h=l.coordinateToPrice(c,u);s[TradingView.CLOSE_PLOT]>h?i.barColor=r.upColor(o,t):i.barColor=r.downColor(o,t)},r.prototype._applyHiLoStyle=function(e,t,i,n,o){i.barColor=r.upColor(o,t),i.barBorderColor=o.hiloStyle.borderColor.value()},r.prototype.applyBarStyle=function(e,t,i,n){i||(i={}),i.barColor=null,i.barBorderColor=null,i.barWickColor=null,i.isBarHollow=null,i.isBarUp=null,i.upColor=null,i.downColor=null,i.isTwoColorBar=null,i.isMergedBar=null;var r=this._series.properties();switch(r.style.value()){case TradingView.Series.STYLE_LINE:this._applyLineStyle(e,t,i,n,r);break;case TradingView.Series.STYLE_AREA:this._applyAreaStyle(e,t,i,n,r);break;case TradingView.Series.STYLE_BARS:this._applyBarStyle(e,t,i,n,r);break;case TradingView.Series.STYLE_RANGE:this._applyRangeStyle(e,t,i,n,r);break;case TradingView.Series.STYLE_CANDLES:this._applyCandleStyle(e,t,i,n,r);break;case TradingView.Series.STYLE_HOLLOW_CANDLES:this._applyHollowCandleStyle(e,t,i,n,r);break;case TradingView.Series.STYLE_HEIKEN_ASHI:this._applyHAStyle(e,t,i,n,r);break;case TradingView.Series.STYLE_RENKO:this._applyRenkoStyle(e,t,i,n,r);break;case TradingView.Series.STYLE_PB:this._applyPBStyle(e,t,i,n,r)
;break;case TradingView.Series.STYLE_KAGI:this._applyKagiStyle(e,t,i,n,r);break;case TradingView.Series.STYLE_PNF:this._applyPnfStyle(e,t,i,n,r);break;case TradingView.Series.STYLE_BASELINE:this._applyBaseLineStyle(e,t,i,n,r);break;case TradingView.Series.STYLE_HILO:this._applyHiLoStyle(e,t,i,n,r)}return i},r.prototype.getSeriesBars=function(e){return e?this._series.nsBars():this._series.bars()},r.prototype._findBarFieldValue=function(e,t,i){var n=this.getSeriesBars(i).valueAt(e);if(null!==n)return n[t]},r.prototype.findBar=function(e,t,i){return i?i.value:this.getSeriesBars(t).valueAt(e)||[]},r.prototype.findPrevBar=function(e,t,i){var n;return i&&i.previousValue?i.previousValue:null!==(n=this._series.bars()._search(e,s.Exact))&&n>0?this._series.bars()._valueAt(n-1):[]},inherit(o,n),o.prototype.getBars=function(){return this._study.series().bars()},o.prototype.firstColoredBar=function(e){var t,i,n,r=e;for(t=0;t<this.backColorers.length;t++)r=Math.min(r,this.backColorers[t].firstColoredBar(e));return i=this.getOffset(this._plotIndex),r=Math.min(r,e+i),n=this.getBars().firstIndex(),Math.max(r,n)},o.prototype.getOffset=function(){var e=this._study.metaInfo().plots[this._plotIndex];return this._study.offset(e.id)},o.prototype.applyBarStyle=function(e,t,i){var n,r,o,s,a,l,c,u,h,d,p,f;return i||(i={}),t?i:(n=this._study.properties()).visible.value()?(r=this._study.metaInfo(),(o=this._study.data())&&0!==o.size()?(s=r.plots[this._plotIndex],a=this.getOffset(),this._study.getMinFirstBarIndexForPlot(s.id)>e+a?i:(l=n.styles[s.id]).visible&&!l.visible.value()?i:null===(c=o.valueAt(e-a))?i:null==(u=c[this._plotIndex+1])?i:(u=Math.round(u),h=r.plots[this._plotIndex].palette,d=n.palettes[h],p=r.palettes[h].valToIndex?r.palettes[h].valToIndex[u]:u,f=d.colors[p].color.value(),i.barColor=f,i.upColor=f.color,i.downColor=f.color,i)):i):i},t.SeriesBarColorer=r,t.StudyBarColorer=o},"3ClC":function(e,t,i){"use strict";function n(){return void 0!==window.pro&&window.pro.hasPackage(ie)}function r(e,t){var i,n,r,o={};for(i=0,n=e;i<n.length;i++)o[(r=n[i]).id]=t[r.id];return o}function o(e){var t=e.last_visible_bar_time-e.first_visible_bar_time;return Object(T.__assign)(Object(T.__assign)({},e),{first_visible_bar_time:e.first_visible_bar_time-t,last_visible_bar_time:e.last_visible_bar_time+t})}function s(e){var t=Object(G.b)(e),i=t.from;return t.to-i}function a(e){return e.id+"-"+e.version}function l(e,t){return void 0===t&&(t="shift"),{studyConstructor:e,colorRotationMode:t}}function c(e){return e instanceof b.Study}function u(e){return e instanceof w.a}function h(e){return e instanceof ye.StudyStub}function d(e){return e instanceof A}function p(e){return e instanceof P.ESDStudyBase}function f(e){return _(e)===ve}function _(e){var t="study_"+(e.classId||e.shortId);return t.startsWith(ve)?ve:t}function m(e,t,i,n,r){var o,s;return v.a.isScriptStrategy(n)?new w.a(e,t,i,n):(s=new((o=_(n))in be?be[o].studyConstructor:b.Study)(e,t,i,n),void 0!==r&&s.setId(r),s)}function g(e){var t=_(e)
;return t in be?be[t].colorRotationMode:1!==e.plots.length?"shift":void 0===e.pine?"loop":v.a.isStandardPine(e.id)?"loop":"shift"}var y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B,N,F,j,W,U,H,z,G,Y,q,X,K,Q,Z,J,$,ee,te,ie,ne,re,oe,se,ae,le,ce,ue,he,de,pe,fe,_e,me,ge,ye,ve,be,Se;for(Se in i.r(t),y=i("0YCj"),v=i.n(y),b=i("GVHu"),S=i("k5SP"),w=i.n(S),P=i("Ai40"),T=i("mrSG"),i("YFKU"),C=i("c5ry"),x=i("hezA"),I=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._fundamental=t,n}return Object(T.__extends)(t,e),t.prototype._showPaneLabel=function(){return this._model.properties().scalesProperties.showFundamentalNameLabel.value()},t.prototype._showAxisLabel=function(){return this._model.properties().scalesProperties.showFundamentalLastValue.value()},t.prototype._updatePaneRendererData=function(e){e.text="",this._showPaneLabel()&&(e.text=this._fundamental.labelTitle(),e.visible=!0)},t}(x.StudyPriceAxisView),E=i("TmNs"),L=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._model=t.model(),n}return Object(T.__extends)(t,e),t.prototype._isVisible=function(){return this._model.properties().scalesProperties.showFundamentalLastValue.value()&&this._study.properties().styles[this._plotname].trackPrice.value()},t}(E.StudyPriceLineAxisView),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(T.__extends)(t,e),t.prototype.labelTitle=function(){return this.title(!0)},t.prototype.createPriceAxisView=function(e){return new I(this,{plotIndex:e})},t.prototype.createPriceLineAxisView=function(e){return new L(this,e)},t.prototype.hasStateForAlert=function(){return!1},t.prototype.titleInParts=function(e,t,i,n){return[this._title(!!e),void 0]},t.prototype._getStatusTextOnStudyError=function(t){return 0===t.indexOf("resolve_error ")?window.t("This fundamental metric is not available for this symbol"):e.prototype._getStatusTextOnStudyError.call(this,t)},t.prototype._title=function(e){var t,i,n=this.metaInfo();return t=e?n.shortDescription:n.description,void 0!==n.financialPeriod&&(t=t+" · "+Object(C.a)(n.financialPeriod)),(i=this._titleInputs(!0)).length>0&&(t=window.t(i[0],{context:"study"})+" · "+t),t},t}(b.Study),O=i("Pb0m"),M=i("tqok"),k=i("Qq0B"),D=i("hayr"),R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(T.__extends)(t,e),t.prototype.startIndex=function(){var e,t=this.customData();return null==t||null==this._indexes?null:(e=this._indexes[t.startIndex])!==M.INVALID_TIME_POINT_INDEX?e:null},t.prototype.endIndex=function(){var e,t=this.customData();return null==t||null==this._indexes?null:(e=this._indexes[t.endIndex])!==M.INVALID_TIME_POINT_INDEX?e:null},t.prototype.baseLine=function(){var e=this.customData();return null!=e?e.baseLine:null},t.prototype.downLine=function(){var e=this.customData();return null!=e?e.downLine:null},t.prototype.upLine=function(){var e=this.customData();return null!=e?e.upLine:null},t.prototype.pearsons=function(){var e=this.customData();return null!=e&&void 0!==e.pearsons?e.pearsons:null},
t.prototype.isVisible=function(){if(!this.properties().visible.value())return!1;var e=this.properties().styles;return e.upLine.visible.value()||e.downLine.visible.value()||e.baseLine.visible.value()},t.prototype.getStylesPropertyPage=function(){return D.propertyPages.StudyLinearRegressionStylesPropertyPage},t.prototype.createViews=function(){var t=this;e.prototype.createViews.call(this),Promise.all([i.e(76),i.e(165),i.e("study-pane-views")]).then(function(e){var n=i("rvCT").LinearRegressionPaneView;t._setPaneViews([new n(t.model(),t)])}.bind(null,i)).catch(void 0)},t}(k.NonSeriesStudy),V=i("qx3g"),B=i("Eyy1"),N=i("Qb4w"),j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(T.__extends)(t,e),t}(F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(T.__extends)(t,e),t.prototype.priceRange=function(e,t){var i,n,r=this,o=!1;return this.graphics().hhists().forEach(function(e,t){o=o||r.properties().child("graphics").child("hhists").child(t).child("showValues").value()}),null===(i=function(e,t,i,n){var r=null;return e.forEach(function(e,n){e.forEach(function(e){e.firstBarTime<=i&&e.lastBarTime>=t&&(null===r?r={low:{l:e.priceLow,h:e.priceHigh},high:{h:e.priceHigh}}:(e.priceLow<r.low.l&&(r.low.l=e.priceLow,r.low.h=e.priceHigh),r.high.h=Math.max(r.high.h,e.priceHigh)))})}),null===r?null:n?new N.PriceRange(r.low.l-.8*(r.low.h-r.low.l),r.high.h):new N.PriceRange(r.low.l,r.high.h)}(this.graphics().hhists(),e,t,o))?null:(n=Object(B.ensureNotNull)(this.priceScale())).isLog()?new N.PriceRange(n.priceToLogical(i.minValue()),n.priceToLogical(i.maxValue())):i},t.prototype.getStylesPropertyPage=function(){return D.propertyPages.StudyVolumeProfilePropertyPage},t}(b.Study)),W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(T.__extends)(t,e),t}(F),U=i("xlAu"),H=i("k9/m"),z=i("cBZt"),G=i("ZAxB"),Y=i("gvrv"),q=i("w4Ji"),X=i("jenN"),K=function(){function e(e,t){this._rough=e,this._detailed=t}return e.prototype.forEach=function(e,t){var i=this;this._mostDetailedHorizLines().forEach(function(n){e.call(t,n,n,i)})},e.prototype.has=function(e){var t=!1;return this._mostDetailedHorizLines().forEach(function(i){t=t||i===e}),t},Object.defineProperty(e.prototype,"size",{get:function(){return this._rough.size},enumerable:!0,configurable:!0}),e.prototype[Symbol.iterator]=function(){throw new Error("Not implemented")},e.prototype.entries=function(){throw new Error("Not implemented")},e.prototype.keys=function(){throw new Error("Not implemented")},e.prototype.values=function(){throw new Error("Not implemented")},e.prototype._mostDetailedHorizLines=function(){var e,t=new Map;for(this._rough.forEach(function(e){return t.set(e.startIndex,e)}),e=this._detailed.length-1;e>=0;e--)this._detailed[e].forEach(function(e){t.has(e.startIndex)&&t.set(e.startIndex,e)});return t},e}(),Q=function(){function e(e,t){this._roughHorizLineSets=e,this._detailedHorizLineSets=t}return e.prototype.forEach=function(e,t){var i=this
;this._roughHorizLineSets.forEach(function(n,r){e.call(t,Object(B.ensureDefined)(i.get(r)),r,i)})},e.prototype.get=function(e){if(this._roughHorizLineSets.has(e))return new K(Object(B.ensureDefined)(this._roughHorizLineSets.get(e)),this._detailedHorizLineSets.map(function(t){return t.get(e)}).filter(function(e){return void 0!==e}))},e.prototype.has=function(e){return this._roughHorizLineSets.has(e)},Object.defineProperty(e.prototype,"size",{get:function(){return this._roughHorizLineSets.size},enumerable:!0,configurable:!0}),e.prototype[Symbol.iterator]=function(){throw new Error("Not implemented")},e.prototype.entries=function(){throw new Error("Not implemented")},e.prototype.keys=function(){throw new Error("Not implemented")},e.prototype.values=function(){throw new Error("Not implemented")},e}(),Z=function(){function e(e,t){this._rough=e,this._detailed=t}return e.prototype.forEach=function(e,t){var i=this;this._rough.forEach(function(n,r){var o,s,a;for(o=0,s=i._detailed;o<s.length;o++)if(void 0!==(a=s[o].get(r)))return void e.call(t,a,r,i);e.call(t,n,r,i)})},e.prototype.get=function(e){var t,i,n;for(t=0,i=this._detailed;t<i.length;t++)if(void 0!==(n=i[t].get(e)))return n;return this._rough.get(e)},e.prototype.has=function(e){var t,i;for(t=0,i=this._detailed;t<i.length;t++)if(i[t].has(e))return!0;return this._rough.has(e)},Object.defineProperty(e.prototype,"size",{get:function(){return this._rough.size},enumerable:!0,configurable:!0}),e.prototype[Symbol.iterator]=function(){throw new Error("Not implemented")},e.prototype.entries=function(){throw new Error("Not implemented")},e.prototype.keys=function(){throw new Error("Not implemented")},e.prototype.values=function(){throw new Error("Not implemented")},e}(),J=function(){function e(e,t){this._graphics=e,this._styleId=t}return e.prototype.forEach=function(e,t){var i=this;this._graphics.hhistsByTimePointIndex().forEach(function(n){n.forEach(function(n){if(n.styleId===i._styleId){var r={firstBarTime:n.firstBarTime,lastBarTime:n.lastBarTime,rate:n.rate,priceHigh:n.priceHigh,priceLow:n.priceLow};e.call(t,r,r,i)}})})},e.prototype.has=function(e){var t=this,i=!1;return this._graphics.hhistsByTimePointIndex().forEach(function(n){n.forEach(function(n){n.styleId===t._styleId&&n===e&&(i=!0)})}),i},Object.defineProperty(e.prototype,"size",{get:function(){var e=this,t=0;return this._graphics.hhistsByTimePointIndex().forEach(function(i){i.forEach(function(i){i.styleId===e._styleId&&t++})}),t},enumerable:!0,configurable:!0}),e.prototype[Symbol.iterator]=function(){throw new Error("Not implemented")},e.prototype.entries=function(){throw new Error("Not implemented")},e.prototype.keys=function(){throw new Error("Not implemented")},e.prototype.values=function(){throw new Error("Not implemented")},e}(),$=function(){function e(e,t){this._graphicsInfo=e,this._graphics=t}return e.prototype.forEach=function(e,t){var i,n,r;if(void 0!==this._graphicsInfo.hhists)for(i=0,n=Object.keys(this._graphicsInfo.hhists);i<n.length;i++)r=n[i],e.call(t,Object(B.ensureDefined)(this.get(r)),r,this)},
e.prototype.get=function(e){if(void 0!==this._graphicsInfo.hhists)return new J(this._graphics,e)},e.prototype.has=function(e){return void 0!==this._graphicsInfo.hhists&&e in this._graphicsInfo.hhists},Object.defineProperty(e.prototype,"size",{get:function(){return void 0===this._graphicsInfo.hhists?0:Object.keys(this._graphicsInfo.hhists).length},enumerable:!0,configurable:!0}),e.prototype[Symbol.iterator]=function(){throw new Error("Not implemented")},e.prototype.entries=function(){throw new Error("Not implemented")},e.prototype.keys=function(){throw new Error("Not implemented")},e.prototype.values=function(){throw new Error("Not implemented")},e}(),ee=function(){function e(e,t,i){this._graphicsInfo=e,this._roughStudyGraphics=t,this._detailedStudyGraphics=i}return e.prototype.horizlines=function(){return new Q(this._roughStudyGraphics.horizlines(),this._detailedStudyGraphics.map(function(e){return e.horizlines()}))},e.prototype.vertlines=function(){return this._roughStudyGraphics.vertlines()},e.prototype.lines=function(){return this._roughStudyGraphics.lines()},e.prototype.hlines=function(){return this._roughStudyGraphics.hlines()},e.prototype.textmarks=function(){return this._roughStudyGraphics.textmarks()},e.prototype.shapemarks=function(){return this._roughStudyGraphics.shapemarks()},e.prototype.backgrounds=function(){return this._roughStudyGraphics.backgrounds()},e.prototype.polygons=function(){return this._roughStudyGraphics.polygons()},e.prototype.trendchannels=function(){return this._roughStudyGraphics.trendchannels()},e.prototype.hhists=function(){return new $(this._graphicsInfo,this)},e.prototype.hhistsByTimePointIndex=function(){return new Z(this._roughStudyGraphics.hhistsByTimePointIndex(),this._detailedStudyGraphics.map(function(e){return e.hhistsByTimePointIndex()}))},e.prototype.dwglabels=function(){return this._roughStudyGraphics.dwglabels()},e.prototype.dwglines=function(){return this._roughStudyGraphics.dwglines()},e}(),te=i("+GxX"),i("bSeV"),ie="tv-volumebyprice",ne="VbPSessionsRough",re=Object(z.studyIdString)(ne,ie),oe="vbpsessionsrough_",se="VbPSessionsDetailed",ae=Object(z.studyIdString)(se,ie),le="vbpsessionsdetailed_",ce="VbPSessionsDetailedAlerts",ue=Object(z.studyIdString)(ce,ie),he=Number.MAX_SAFE_INTEGER,de=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isPackageAvailable=n(),t._isEnabled=Object(te.isFeatureEnabled)("studies-vp-session-volume-2"),t._alertsStudyMetaInfo=null,t._roughDataSource=null,t._detailedDataSource=null,t._detailedDataBuffer=new U.CircularBuffer(7),t._loadedGraphics=null,t._loadedPlots=null,t._mergedGraphics=Object(X.emptyStudyGraphics)(),t._mergedPlots=t._emptyPlotList(),t}return Object(T.__extends)(t,e),t.prototype.destroy=function(){null!==this._detailedDataSource&&(this._detailedDataSource.dataUpdated().unsubscribe(this,this._onRoughOrDetailedDataUpdated),this._detailedDataSource.dataCleared().unsubscribe(this,this._onRoughOrDetailedDataCleared),
this._detailedDataSource.studyStatusChanged().unsubscribe(this,this._onStudyStatusChanged),this._detailedDataSource.destroy(),this._detailedDataSource=null),null!==this._roughDataSource&&(this._roughDataSource.dataUpdated().unsubscribe(this,this._onRoughOrDetailedDataUpdated),this._roughDataSource.dataCleared().unsubscribe(this,this._onRoughOrDetailedDataCleared),this._roughDataSource.studyStatusChanged().unsubscribe(this,this._onStudyStatusChanged),this._roughDataSource.destroy(),this._roughDataSource=null)},t.prototype.data=function(){return this._loadedPlots||this._mergedPlots},t.prototype.graphics=function(){return this._loadedGraphics||this._mergedGraphics},t.prototype.clearData=function(){null!==this._roughDataSource&&this._roughDataSource.clearData(),null!==this._detailedDataSource&&this._detailedDataSource.clearData()},t.prototype.restoreData=function(e){this._invalidateLastNonEmptyPlotRowCache(),this._loadedPlots=this._emptyPlotList(),this._loadedPlots.restoreState(e),void 0!==e.graphics&&(this._loadedGraphics=Object(X.loadStudyGraphics)(e.graphics)),this._postProcessGraphics()},t.prototype.status=function(){var e,t;return this._isPackageAvailable?this._isEnabled?null===this._roughDataSource||null===this._detailedDataSource?"":this._roughDataSource.isStarted()||this._detailedDataSource.isStarted()?(e=this._roughDataSource.studyStatus(),t=this._detailedDataSource.studyStatus(),e.type===Y.b.Completed&&t.type===Y.b.Completed?"":e.type===Y.b.Error?window.t(e.reason.split(":",2)[0]):t.type===Y.b.Error?window.t(t.reason.split(":",2)[0]):e.type===Y.b.Loading||t.type===Y.b.Loading?window.t("loading..."):window.t("awaiting...")):"":window.t("disabled"):window.t("study package is not available")},t.prototype.isFailed=function(){return!this._isPackageAvailable||!this._isEnabled||null!==this._roughDataSource&&this._roughDataSource.studyStatus().type===Y.b.Error||null!==this._detailedDataSource&&this._detailedDataSource.studyStatus().type===Y.b.Error},t.prototype.isLoading=function(){return null!==this._roughDataSource&&this._roughDataSource.studyStatus().type===Y.b.Loading||null!==this._detailedDataSource&&this._detailedDataSource.studyStatus().type===Y.b.Loading},t.prototype.isStarted=function(){return null!==this._roughDataSource&&this._roughDataSource.isStarted()||null!==this._detailedDataSource&&this._detailedDataSource.isStarted()},t.prototype.sourceId=function(){throw new Error("Invalid operation")},t.prototype.idForAlert=function(){return e.prototype._collectDepsForAlert.call(this).idForAlert},t.prototype.hasStateForAlert=function(){return e.prototype.hasStateForAlert.call(this)&&null!==this._alertsStudyMetaInfo},t.prototype.canHaveChildren=function(){return!1},t.prototype.isChildStudy=function(){return!1},t.prototype.hasChildren=function(){return!1},t.prototype.getAllChildren=function(){return[]},t.prototype._startAfterSymbolsResolved=function(e,t){return Object(T.__awaiter)(this,void 0,void 0,function(){var e,t,i,s;return Object(T.__generator)(this,function(a){switch(a.label){case 0:
return this.isStarted()&&!this.isRestarting()?[2]:(this._restarting=!1,this._isPackageAvailable=n(),this._isPackageAvailable?(this._isEnabled=Object(te.isFeatureEnabled)("studies-vp-session-volume-2"),this._isEnabled&&this._allInputsAreValid()?(this._inputs=this.inputs(),e=this.model().studyMetaInfoRepository(),null!==this._roughDataSource?[3,2]:[4,e.findById({type:"java",studyId:re})]):[2]):[2]);case 1:return t=a.sent(),this._roughDataSource=new Y.a(this.model().chartApi(),this.model().mainSeries(),oe,t),this._roughDataSource.studyStatusChanged().subscribe(this,this._onStudyStatusChanged),this._roughDataSource.dataCleared().subscribe(this,this._onRoughOrDetailedDataCleared),this._roughDataSource.dataUpdated().subscribe(this,this._onRoughOrDetailedDataUpdated),[3,3];case 2:this._roughDataSource.stop(),a.label=3;case 3:return this._roughDataSource.setInputs(r(this._roughDataSource.metaInfo().inputs,this._inputs)),this.processHibernate(),null!==this._detailedDataSource?[3,5]:[4,e.findById({type:"java",studyId:ae})];case 4:return i=a.sent(),this._detailedDataSource=new Y.a(this.model().chartApi(),this.model().mainSeries(),le,i),this._detailedDataSource.studyStatusChanged().subscribe(this,this._onStudyStatusChanged),this._detailedDataSource.dataCleared().subscribe(this,this._onRoughOrDetailedDataCleared),this._detailedDataSource.dataUpdated().subscribe(this,this._onRoughOrDetailedDataUpdated),[3,6];case 5:this._detailedDataSource.stop(),a.label=6;case 6:return this._detailedDataSource.setInputs(o(this._inputs)),this.processHibernate(),this._createStudyGraphics(),this._subscribeExtendedHours(),this.onStart.fire(),null!==this._alertsStudyMetaInfo?[3,8]:(s=this,[4,e.findById({type:"java",studyId:ue})]);case 7:s._alertsStudyMetaInfo=a.sent(),a.label=8;case 8:return[2]}})})},t.prototype._changeInputsImpl=function(e,t){var i,n,a,l;null!==this._roughDataSource&&(Object(G.a)(this._roughDataSource.metaInfo().inputs,t,e)?null!==this._detailedDataSource&&(i=o(e),n=Object(G.b)(i),this._moreDetailedDataRequiredForTimeRange(n)&&(this._detailedDataSource.isActive()&&((a=this._detailedDataSource.stopAndStealData()).plots.size()>0||!Object(X.isStudyGraphicsEmpty)(a.graphics))&&(l=Object(B.ensureNotNull)(this._detailedDataSource.inputs()),a.plots=this._extractEffectiveDetailedPlotValues(a.plots,l),this._detailedDataBuffer.enqueue({lod:s(l),value:a})),this._detailedDataSource.setInputs(i),this._detailedDataSource.start())):(this._roughDataSource.setInputs(r(this._roughDataSource.metaInfo().inputs,e)),this._detailedDataBuffer.clear(),null!==this._detailedDataSource&&this._detailedDataSource.setInputs(o(e))),null!==this._detailedDataSource&&this._createStudyGraphics())},t.prototype._collectDepsForAlert=function(){var t=this,i=e.prototype._collectDepsForAlert.call(this);if(null===this._alertsStudyMetaInfo)throw new Error("Alerts study metainfo is not ready yet. Have you checked the alert availability using hasStateForAlert()?");return Object(T.__assign)(Object(T.__assign)({},i),{studyDependencies:i.studyDependencies.map(function(e){
var i,n=e.study===a(t.metaInfo());return{id:e.id,inputs:n?(i=e.inputs,Object(T.__assign)(Object(T.__assign)({},i),{subscribeRealtime:!0})):e.inputs,study:n&&null!==t._alertsStudyMetaInfo?a(t._alertsStudyMetaInfo):e.study}})})},t.prototype.isHibernated=function(){return!(this.isVisible()||null!==this._roughDataSource&&this._roughDataSource.isStarted()||null!==this._detailedDataSource&&this._detailedDataSource.isStarted())},t.prototype.processHibernate=function(){this.isVisible()?(null===this._roughDataSource||this._roughDataSource.isStarted()||this._roughDataSource.start(),null===this._detailedDataSource||this._detailedDataSource.isStarted()||this._detailedDataSource.start()):(null!==this._roughDataSource&&this._roughDataSource.isStarted()&&this._roughDataSource.stop(),null!==this._detailedDataSource&&this._detailedDataSource.isStarted()&&this._detailedDataSource.stop())},t.prototype._emptyPlotList=function(){return new H.PlotList(Object(q.studyPlotFunctionMap)(this.metaInfo()),function(e,t){return null==e[t]})},t.prototype._createStudyPlots=function(){var e,t,i,n,r=this,o=Object(B.ensureNotNull)(this._roughDataSource),a=Object(B.ensureNotNull)(this._detailedDataSource);for(this._mergedPlots.clear(),(e=[]).push({lod:he,value:o.plots()}),this._detailedDataBuffer.forEach(function(t){e.push({lod:t.lod,value:t.value.plots})}),t=Object(B.ensureNotNull)(a.inputs()),e.push({lod:s(t),value:this._extractEffectiveDetailedPlotValues(a.plots(),t)}),e.sort(function(e,t){return t.lod-e.lod}),i=0,n=e;i<n.length;i++)n[i].value.each(function(e,t){var i,n;for(i=0,n=t;i<n.length;i++)if(void 0===n[i])return!1;return r._mergedPlots.add(e,t),!1});this._invalidateLastNonEmptyPlotRowCache()},t.prototype._createStudyGraphics=function(){var e,t=Object(B.ensureNotNull)(this._roughDataSource),i=Object(B.ensureNotNull)(this._detailedDataSource),n=[];this._detailedDataBuffer.forEach(function(e){n.push({lod:e.lod,value:e.value.graphics})}),void 0!==this._inputs&&n.push({lod:s(this._inputs),value:i.graphics()}),n.sort(function(e,t){return e.lod-t.lod}),e=n.map(function(e){return e.value}),this._mergedGraphics=new ee(this.metaInfo().graphics,t.graphics(),e)},t.prototype._extractEffectiveDetailedPlotValues=function(e,t){var i=Object(G.b)(t),n=this.model().timeScale().timePointToIndex(i.from),r=this.model().timeScale().timePointToIndex(i.to);return e.size()>0?e.range(n||Object(B.ensureNotNull)(e.firstIndex()),r||Object(B.ensureNotNull)(e.lastIndex())):this._emptyPlotList()},t.prototype._moreDetailedDataRequiredForTimeRange=function(e){var t=this,i=e.from,n=e.to,r=!1;return Object(B.ensureNotNull)(this._roughDataSource).graphics().hhistsByTimePointIndex().forEach(function(e,o){var s,a,l;r||null===(s=t.model().timeScale().indexToTimePoint(o))||s<i||n<s||(a=n-i,l=!1,t._detailedDataBuffer.forEach(function(e){e.lod<=a&&(e.value.graphics.hhistsByTimePointIndex().has(o)&&(l=!0))}),l||(r=!0))}),r},t.prototype._onStudyStatusChanged=function(e,t){this._statusView.update()},t.prototype._onRoughOrDetailedDataCleared=function(){
null!==this._roughDataSource&&null!==this._detailedDataSource&&(this._invalidateLastNonEmptyPlotRowCache(),this._detailedDataBuffer.clear(),this._createStudyPlots(),this._createStudyGraphics(),this.updateAllViews(),this.model().updateSource(this))},t.prototype._onRoughOrDetailedDataUpdated=function(e){null!==this._roughDataSource&&null!==this._detailedDataSource&&(e.length>0&&this._createStudyPlots(),this.updateAllViews(),this.model().updateSource(this))},t}(F),pe=i("ifvX"),fe=i("FVma"),_e=i("cKqi"),me=i("0gbU"),ge=i("TMWk"),ye=i("8sOK"),i.d(t,"isStudy",function(){return c}),i.d(t,"isStudyStrategy",function(){return u}),i.d(t,"isStudyStub",function(){return h}),i.d(t,"isFundamentalStudy",function(){return d}),i.d(t,"isESDStudy",function(){return p}),i.d(t,"isFundamentalStudyMetaInfo",function(){return f}),i.d(t,"createStudy",function(){return m}),i.d(t,"studyColorRotationMode",function(){return g}),ve="study_Internal$STD;Fund_",(be={study_PivotPointsStandard:l(fe.study_PivotPointsStandard),study_Overlay:l(_e.study_Overlay,"loop"),study_Compare:l(me.study_Compare,"loop"),study_ScriptWithDataOffset:l(ge.study_ScriptWithDataOffset)}).study_ESD$TV_EARNINGS=l(P.study_ESD$TV_EARNINGS),be[ve]=l(A),be.study_ESD$TV_SPLITS=l(P.study_ESD$TV_SPLITS),be.study_ESD$TV_DIVIDENDS=l(P.study_ESD$TV_DIVIDENDS),be.study_ElliottWave=l(O.study_ElliottWave),be.study_LinearRegression=l(R),be.study_PivotPointsHighLow=l(V.study_PivotPointsHighLow),be.study_VbPSessions=l(j),be.study_VbPSessionsRoughDetailed=l(de),be.study_VbPVisible=l(W),be.study_ZigZag=l(pe.study_ZigZag),TradingView.StudyStrategy=l(w.a).studyConstructor,be)be.hasOwnProperty(Se)&&(TradingView[Se]=be[Se].studyConstructor)},"3UA0":function(e,t){e.exports.tzData={"America/New_York":{
time:[-2717668562,-1633298400,-1615154400,-1601848800,-1583704800,-1570399200,-1551650400,-1536530400,-1523224800,-1504476e3,-1491775200,-1473026400,-1459720800,-1441576800,-1428271200,-1410127200,-1396821600,-1378677600,-1365372e3,-1347228e3,-1333922400,-1315173600,-1301868e3,-1283724e3,-1270418400,-1252274400,-1238968800,-1220824800,-1207519200,-1189375200,-1176069600,-1157320800,-114462e4,-1125871200,-1112565600,-1094421600,-1081116e3,-1062972e3,-1049666400,-1031522400,-1018216800,-1000072800,-986767200,-968018400,-955317600,-936568800,-923263200,-905119200,-891813600,-880236e3,-76941e4,-765410400,-747266400,-733960800,-715816800,-702511200,-684367200,-671061600,-652917600,-639612e3,-620863200,-608162400,-589413600,-576108e3,-557964e3,-544658400,-526514400,-513208800,-495064800,-481759200,-463615200,-447285600,-431560800,-415836e3,-400111200,-384386400,-368661600,-352936800,-337212e3,-321487200,-305762400,-289432800,-273708e3,-257983200,-242258400,-226533600,-210808800,-195084e3,-179359200,-163634400,-147909600,-13158e4,-11646e4,-100130400,-84405600,-68680800,-52956e3,-37231200,-21506400,-5781600,9943200,25668e3,41392800,57722400,73447200,89172e3,104896800,120621600,126669600,152071200,162352800,183520800,199245600,215575200,230695200,247024800,262749600,278474400,294199200,309924e3,325648800,341373600,357098400,372823200,388548e3,404877600,419997600,436327200,452052e3,467776800,483501600,499226400,514951200,530676e3,544586400,562125600,576036e3,59418e4,607485600,625629600,638935200,657079200,670989600,688528800,702439200,719978400,733888800,752032800,765338400,783482400,796788e3,814932e3,828842400,846381600,860292e3,877831200,891741600,909280800,923191200,941335200,954640800,972784800,986090400,1004234400,1018144800,1035684e3,1049594400,1067133600,1081044e3,1099188e3,1112493600,1130637600,1143943200,1162087200,1173578400,1194141600,1205028e3,1225591200,1236477600,1257040800,1268532e3,1289095200,1299981600,1320544800,1331431200,1351994400,1362880800,1383444e3,1394330400,1414893600,142578e4,1446343200,1457834400,1478397600,1489284e3,1509847200,1520733600,1541296800,1552183200,1572746400,1583632800,1604196e3,1615687200,1636250400,1647136800,16677e5,1678586400,1699149600,1710036e3,1730599200,1741485600,1762048800,1772935200,1793498400,1804989600,1825552800,1836439200,1857002400,1867888800,1888452e3,1899338400,1919901600,1930788e3],
offset:[-17762,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3]},"America/Los_Angeles":{
time:[-2717668378,-1633298400,-1615154400,-1601848800,-1583704800,-880236e3,-769420800,-765410400,-687995940,-662680800,-620866800,-608162400,-589417200,-576108e3,-557967600,-544658400,-526518e3,-513208800,-495068400,-481759200,-463618800,-450309600,-431564400,-418255200,-400114800,-386805600,-368665200,-355356e3,-337215600,-323906400,-305766e3,-292456800,-273711600,-261007200,-242262e3,-226533600,-210812400,-195084e3,-179362800,-163634400,-147913200,-13158e4,-116463600,-100130400,-84405600,-68680800,-52956e3,-37231200,-21506400,-5781600,9943200,25668e3,41392800,57722400,73447200,89172e3,104896800,120621600,126669600,152071200,162352800,183520800,199245600,215575200,230695200,247024800,262749600,278474400,294199200,309924e3,325648800,341373600,357098400,372823200,388548e3,404877600,419997600,436327200,452052e3,467776800,483501600,499226400,514951200,530676e3,544586400,562125600,576036e3,59418e4,607485600,625629600,638935200,657079200,670989600,688528800,702439200,719978400,733888800,752032800,765338400,783482400,796788e3,814932e3,828842400,846381600,860292e3,877831200,891741600,909280800,923191200,941335200,954640800,972784800,986090400,1004234400,1018144800,1035684e3,1049594400,1067133600,1081044e3,1099188e3,1112493600,1130637600,1143943200,1162087200,1173578400,1194141600,1205028e3,1225591200,1236477600,1257040800,1268532e3,1289095200,1299981600,1320544800,1331431200,1351994400,1362880800,1383444e3,1394330400,1414893600,142578e4,1446343200,1457834400,1478397600,1489284e3,1509847200,1520733600,1541296800,1552183200,1572746400,1583632800,1604196e3,1615687200,1636250400,1647136800,16677e5,1678586400,1699149600,1710036e3,1730599200,1741485600,1762048800,1772935200,1793498400,1804989600,1825552800,1836439200,1857002400,1867888800,1888452e3,1899338400,1919901600,1930788e3],offset:[-28378,-28800,-25200,-28800,-25200,-28800,-25200,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800]},"America/Chicago":{
time:[-2717668236,-1633298400,-1615154400,-1601848800,-1583704800,-1563746400,-1551650400,-1538949600,-1520200800,-1504476e3,-1491775200,-1473026400,-1459720800,-1441576800,-1428271200,-1410127200,-1396821600,-1378677600,-1365372e3,-1347228e3,-1333922400,-1315173600,-1301868e3,-1283724e3,-1270418400,-1252274400,-1238968800,-1220824800,-1207519200,-1189375200,-1176069600,-1157320800,-114462e4,-1125871200,-1112565600,-1094421600,-1081116e3,-1067810400,-1045432800,-1031522400,-1018216800,-1000072800,-986767200,-968018400,-955317600,-936568800,-923263200,-905119200,-891813600,-880236e3,-769413600,-765410400,-747266400,-733960800,-715816800,-702511200,-684367200,-671061600,-652917600,-639612e3,-620863200,-608162400,-589413600,-576108e3,-557964e3,-544658400,-526514400,-513208800,-495064800,-481759200,-463615200,-447285600,-431560800,-415836e3,-400111200,-384386400,-368661600,-352936800,-337212e3,-321487200,-305762400,-289432800,-273708e3,-257983200,-242258400,-226533600,-210808800,-195084e3,-179359200,-163634400,-147909600,-13158e4,-11646e4,-100130400,-84405600,-68680800,-52956e3,-37231200,-21506400,-5781600,9943200,25668e3,41392800,57722400,73447200,89172e3,104896800,120621600,126669600,152071200,162352800,183520800,199245600,215575200,230695200,247024800,262749600,278474400,294199200,309924e3,325648800,341373600,357098400,372823200,388548e3,404877600,419997600,436327200,452052e3,467776800,483501600,499226400,514951200,530676e3,544586400,562125600,576036e3,59418e4,607485600,625629600,638935200,657079200,670989600,688528800,702439200,719978400,733888800,752032800,765338400,783482400,796788e3,814932e3,828842400,846381600,860292e3,877831200,891741600,909280800,923191200,941335200,954640800,972784800,986090400,1004234400,1018144800,1035684e3,1049594400,1067133600,1081044e3,1099188e3,1112493600,1130637600,1143943200,1162087200,1173578400,1194141600,1205028e3,1225591200,1236477600,1257040800,1268532e3,1289095200,1299981600,1320544800,1331431200,1351994400,1362880800,1383444e3,1394330400,1414893600,142578e4,1446343200,1457834400,1478397600,1489284e3,1509847200,1520733600,1541296800,1552183200,1572746400,1583632800,1604196e3,1615687200,1636250400,1647136800,16677e5,1678586400,1699149600,1710036e3,1730599200,1741485600,1762048800,1772935200,1793498400,1804989600,1825552800,1836439200,1857002400,1867888800,1888452e3,1899338400,1919901600,1930788e3],
offset:[-21036,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600]},"America/Phoenix":{time:[-2717670498,-1633298400,-1615154400,-1601848800,-1583704800,-880236e3,-820540740,-812678340,-796867140,-84405600,-68680800,1924966800],offset:[-26898,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200]},"America/Toronto":{
time:[-2366755200,-1632088800,-1615154400,-1601771400,-1583712e3,-1567375200,-1554681600,-1534716e3,-1524088800,-1503266400,-149238e4,-1471816800,-1460930400,-1440972e3,-1428876e3,-1409522400,-1397426400,-1378072800,-1365976800,-1346623200,-1333922400,-1315173600,-1301868e3,-1283724e3,-1270418400,-1252274400,-1238968800,-1220824800,-1207519200,-1188770400,-1176069600,-1157320800,-1144015200,-1125871200,-1112565600,-1094421600,-1081116e3,-1062972e3,-1049666400,-1031522400,-1018216800,-1000072800,-986767200,-968018400,-955317600,-936568800,-880232400,-76941e4,-765410400,-747266400,-733960800,-715824e3,-702518400,-684374400,-671068800,-652924800,-634176e3,-620863200,-602719200,-589413600,-576108e3,-557964e3,-544658400,-526514400,-513208800,-495064800,-481759200,-463615200,-450309600,-431560800,-418255200,-400111200,-384386400,-368661600,-352936800,-337212e3,-321487200,-305762400,-289432800,-273708e3,-257983200,-242258400,-226533600,-210808800,-195084e3,-179359200,-163634400,-147909600,-13158e4,-11646e4,-100130400,-84405600,-68680800,-52956e3,-37231200,-21506400,-5781600,9943200,25668e3,41392800,57722400,73447200,89172e3,104896800,120621600,136346400,152071200,167796e3,183520800,199245600,215575200,230695200,247024800,262749600,278474400,294199200,309924e3,325648800,341373600,357098400,372823200,388548e3,404877600,419997600,436327200,452052e3,467776800,483501600,499226400,514951200,530676e3,544586400,562125600,576036e3,59418e4,607485600,625629600,638935200,657079200,670989600,688528800,702439200,719978400,733888800,752032800,765338400,783482400,796788e3,814932e3,828842400,846381600,860292e3,877831200,891741600,909280800,923191200,941335200,954640800,972784800,986090400,1004234400,1018144800,1035684e3,1049594400,1067133600,1081044e3,1099188e3,1112493600,1130637600,1143943200,1162087200,1173578400,1194141600,1205028e3,1225591200,1236477600,1257040800,1268532e3,1289095200,1299981600,1320544800,1331431200,1351994400,1362880800,1383444e3,1394330400,1414893600,142578e4,1446343200,1457834400,1478397600,1489284e3,1509847200,1520733600,1541296800,1552183200,1572746400,1583632800,1604196e3,1615687200,1636250400,1647136800,16677e5,1678586400,1699149600,1710036e3,1730599200,1741485600,1762048800,1772935200,1793498400,1804989600,1825552800,1836439200,1857002400,1867888800,1888452e3,1899338400,1919901600,1930788e3],
offset:[-19052,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-14400,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3]},"America/Vancouver":{
time:[-2713910400,-1632088800,-1615154400,-880236e3,-769420800,-765410400,-747266400,-733960800,-715816800,-702511200,-684367200,-671061600,-652917600,-639612e3,-620863200,-608162400,-589413600,-576108e3,-557964e3,-544658400,-526514400,-513208800,-495064800,-481759200,-463615200,-450309600,-431560800,-418255200,-400111200,-386805600,-368661600,-355356e3,-337212e3,-323906400,-305762400,-292456800,-273708e3,-261007200,-242258400,-226533600,-210808800,-195084e3,-179359200,-163634400,-147909600,-13158e4,-11646e4,-100130400,-84405600,-68680800,-52956e3,-37231200,-21506400,-5781600,9943200,25668e3,41392800,57722400,73447200,89172e3,104896800,120621600,136346400,152071200,167796e3,183520800,199245600,215575200,230695200,247024800,262749600,278474400,294199200,309924e3,325648800,341373600,357098400,372823200,388548e3,404877600,419997600,436327200,452052e3,467776800,483501600,499226400,514951200,530676e3,544586400,562125600,576036e3,59418e4,607485600,625629600,638935200,657079200,670989600,688528800,702439200,719978400,733888800,752032800,765338400,783482400,796788e3,814932e3,828842400,846381600,860292e3,877831200,891741600,909280800,923191200,941335200,954640800,972784800,986090400,1004234400,1018144800,1035684e3,1049594400,1067133600,1081044e3,1099188e3,1112493600,1130637600,1143943200,1162087200,1173578400,1194141600,1205028e3,1225591200,1236477600,1257040800,1268532e3,1289095200,1299981600,1320544800,1331431200,1351994400,1362880800,1383444e3,1394330400,1414893600,142578e4,1446343200,1457834400,1478397600,1489284e3,1509847200,1520733600,1541296800,1552183200,1572746400,1583632800,1604196e3,1615687200,1636250400,1647136800,16677e5,1678586400,1699149600,1710036e3,1730599200,1741485600,1762048800,1772935200,1793498400,1804989600,1825552800,1836439200,1857002400,1867888800,1888452e3,1899338400,1919901600,1930788e3],
offset:[-29548,-28800,-25200,-28800,-25200,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800]},"America/Argentina/Buenos_Aires":{time:[-2372112e3,-1567468800,-1233446400,-1222992e3,-1205971200,-1194048e3,-117288e4,-1162512e3,-1141344e3,-1130976e3,-1109808e3,-109944e4,-1078272e3,-1067817600,-1046649600,-1036281600,-1015113600,-1004745600,-983577600,-973209600,-952041600,-941587200,-931046400,-900892800,-890352e3,-83376e4,-82728e4,-752284800,-733795200,-197337600,-190857600,-184204800,-164505600,-152668800,-132969600,-121132800,-101433600,-86832e3,-71107200,-54777600,-39052800,-23328e3,-7603200,128131200,136598400,596937600,605059200,624412800,636508800,656467200,667958400,687916800,699408e3,719366400,731462400,938908800,952041600,1198972800,1205625600,1224374400,1237075200,1924981200],offset:[-14028,-15408,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-10800,-10800,-7200,-10800,-7200,-10800]},"America/El_Salvador":{time:[-1546300800,546998400,559699200,578448e3,591148800,1924970400],offset:[-21408,-21600,-18e3,-21600,-18e3,-21600]},"America/Sao_Paulo":{
time:[-1767225600,-1206968400,-1191369600,-1175385600,-1159833600,-633830400,-622076400,-602294400,-59184e4,-570758400,-560217600,-539136e3,-53136e4,-195436800,-184204800,-155174400,-150076800,-128908800,-121132800,-99964800,-89596800,-68428800,-57974400,499737600,511228800,530582400,540259200,562118400,571190400,592963200,602035200,624412800,634694400,656467200,666748800,687916800,697593600,719971200,728438400,750816e3,761702400,782265600,793152e3,813715200,823996800,84456e4,856051200,876096e3,888710400,908064e3,919555200,938908800,951609600,970963200,982454400,1003017600,1013904e3,1036281600,1045353600,1066521600,1076803200,1099353600,1108857600,1129420800,1140307200,1162684800,1172361600,119232e4,1203206400,1224374400,1234656e3,1255824e3,1266710400,1287273600,129816e4,1318723200,1330214400,1350777600,1361059200,1382227200,1392508800,1413676800,1424563200,1445126400,1456012800,1476576e3,1487462400,1508025600,1518912e3,1541289600,1550361600,1924981200],offset:[-11188,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800,-7200,-10800]},"America/Bogota":{time:[-2707689600,-1739059200,704851200,733881600,1924974e3],offset:[-17776,-17776,-18e3,-14400,-18e3]},"America/Caracas":{time:[-2524521600,-1826755200,-157766400,1197169200,1462069800,1924977600],offset:[-16064,-16060,-16200,-14400,-16200,-14400]},"Europe/Moscow":{time:[-2840140800,-1688256e3,-165681e4,-1641340800,-1627956e3,-1618700400,-1596416400,-1593804521,-1589846400,-1542416400,-1539478800,-1525305600,-1522713600,-1491177600,-1247529600,354931200,370742400,386467200,402278400,418003200,433814400,449625600,465361200,481082400,496810800,512532e3,528260400,543981600,55971e4,575431200,591159600,606880800,622609200,638330400,654663600,670384800,686113200,695786400,701834400,717562800,733284e3,749012400,764733600,780462e3,796183200,811911600,828237600,846385200,859687200,877834800,891136800,909284400,922586400,941338800,954036e3,972788400,985485600,1004238e3,101754e4,1035687600,1048989600,1067137200,1080439200,1099191600,1111888800,1130641200,1143338400,1162090800,1174788e3,1193540400,1206842400,122499e4,1238292e3,1256439600,1269741600,1288494e3,1301191200,1414288800,1925002800],
offset:[9017,9017,9079,12679,9079,16279,12679,16279,14400,10800,14400,18e3,14400,10800,7200,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,10800,7200,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800]},"Europe/Athens":{time:[-2344636800,-1686095940,-1182988800,-1178150400,-906854400,-904867200,-85725e4,-844473600,-828230400,-812419200,-552355200,-541641600,166492800,186195600,198036e3,213764400,228880800,244090800,260330400,275457600,291805200,307418400,323395200,338947200,354682800,370411200,386132400,401860800,417582e3,433310400,449031600,465364800,481086e3,496814400,512535600,528264e3,543985200,559713600,575434800,591163200,606884400,622612800,638334e3,654667200,670388400,686116800,701838e3,717566400,733287600,749016e3,764737200,780465600,796186800,811915200,828241200,846388800,859690800,877838400,891140400,909288e3,92259e4,941342400,954039600,972792e3,985489200,1004241600,1017543600,1035691200,1048993200,1067140800,1080442800,1099195200,1111892400,1130644800,1143342e3,1162094400,1174791600,1193544e3,1206846e3,1224993600,1238295600,1256443200,1269745200,1288497600,1301194800,1319947200,1332644400,1351396800,1364698800,1382846400,1396148400,1414296e3,1427598e3,1445745600,1459047600,14778e5,1490497200,1509249600,1521946800,1540699200,1554001200,1572148800,1585450800,1603598400,1616900400,1635652800,164835e4,1667102400,1679799600,1698552e3,1711854e3,1730001600,1743303600,1761451200,1774753200,1792900800,1806202800,1824955200,1837652400,1856404800,1869102e3,1887854400,1901156400,1919304e3,1932606e3],offset:[5692,5692,7200,10800,7200,10800,7200,3600,7200,3600,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200]},"Europe/Belgrade":{
time:[-2713910400,-905821200,-85725e4,-844552800,-828219600,-812498400,-79677e4,-777938400,-766616400,417578400,433306800,449028e3,465361200,481082400,496810800,512532e3,528260400,543981600,55971e4,575431200,591159600,606880800,622609200,638330400,654663600,670384800,686113200,701834400,717562800,733284e3,749012400,764733600,780462e3,796183200,811911600,828237600,846385200,859687200,877834800,891136800,909284400,922586400,941338800,954036e3,972788400,985485600,1004238e3,101754e4,1035687600,1048989600,1067137200,1080439200,1099191600,1111888800,1130641200,1143338400,1162090800,1174788e3,1193540400,1206842400,122499e4,1238292e3,1256439600,1269741600,1288494e3,1301191200,1319943600,1332640800,1351393200,1364695200,1382842800,1396144800,1414292400,1427594400,1445742e3,1459044e3,1477796400,1490493600,1509246e3,1521943200,1540695600,1553997600,1572145200,1585447200,1603594800,1616896800,1635649200,1648346400,1667098800,1679796e3,1698548400,1711850400,1729998e3,17433e5,1761447600,1774749600,1792897200,1806199200,1824951600,1837648800,1856401200,1869098400,1887850800,1901152800,1919300400,1932602400],offset:[4920,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600]},"Europe/Berlin":{time:[-2422051200,-1693702800,-1680476400,-1663452e3,-1650142800,-1632002400,-1618693200,-938901600,-85725e4,-844552800,-828219600,-812498400,-79677e4,-781048800,-776556e3,-765925200,-761173200,-748476e3,-733266e3,-717627600,-714603600,-71037e4,-701902800,-684972e3,-670453200,-654127200,-639003600,323834400,338958e3,354679200,370407600,386128800,401857200,417578400,433306800,449028e3,465361200,481082400,496810800,512532e3,528260400,543981600,55971e4,575431200,591159600,606880800,622609200,638330400,654663600,670384800,686113200,701834400,717562800,733284e3,749012400,764733600,780462e3,796183200,811911600,828237600,846385200,859687200,877834800,891136800,909284400,922586400,941338800,954036e3,972788400,985485600,1004238e3,101754e4,1035687600,1048989600,1067137200,1080439200,1099191600,1111888800,1130641200,1143338400,1162090800,1174788e3,1193540400,1206842400,122499e4,1238292e3,1256439600,1269741600,1288494e3,1301191200,1319943600,1332640800,1351393200,1364695200,1382842800,1396144800,1414292400,1427594400,1445742e3,1459044e3,1477796400,1490493600,1509246e3,1521943200,1540695600,1553997600,1572145200,1585447200,1603594800,1616896800,1635649200,1648346400,1667098800,1679796e3,1698548400,1711850400,1729998e3,17433e5,1761447600,1774749600,1792897200,1806199200,1824951600,1837648800,1856401200,1869098400,1887850800,1901152800,1919300400,1932602400],
offset:[3208,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,10800,7200,3600,7200,3600,7200,10800,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600]},"Europe/London":{
time:[-3852662400,-1691964e3,-1680469200,-1664143200,-1650142800,-1633903200,-1617483600,-1601848800,-1586034e3,-1570399200,-1552165200,-1538344800,-152253e4,-15075e5,-1490562e3,-1473631200,-1460926800,-1442786400,-1428872400,-1410732e3,-1396213200,-1379282400,-1364763600,-1348437600,-1333314e3,-1315778400,-1301259600,-1284328800,-126981e4,-1253484e3,-1238360400,-1221429600,-1206910800,-118998e4,-1175461200,-1159135200,-1143406800,-1126476e3,-1111957200,-1095631200,-1080507600,-1063576800,-1049058e3,-1032127200,-1017608400,-1001282400,-986158800,-969228e3,-950475600,-942012e3,-904514400,-896043600,-875484e3,-864594e3,-844034400,-832539600,-812584800,-798066e3,-781048800,-772059600,-764802e3,-748476e3,-733352400,-719445600,-717026400,-706741200,-699483600,-687996e3,-668034e3,-654732e3,-636584400,-622072800,-605739600,-590623200,-57429e4,-558568800,-542235600,-527119200,-512600400,-496274400,-481150800,-46422e4,-449701200,-432165600,-417646800,-401320800,-386197200,-369266400,-354747600,-337816800,-323298e3,-306972e3,-291848400,-276732e3,-257979600,-245282400,-22653e4,-213228e3,-195080400,-182383200,-163630800,-150933600,-132181200,-119484e3,-100731600,-88034400,-68677200,-59004e3,-37238400,57726e3,69818400,89175600,101268e3,120625200,132717600,152074800,164167200,183524400,196221600,214974e3,227671200,246423600,259120800,278478e3,290570400,309927600,32202e4,341377200,354675600,372823200,386125200,404272800,417574800,435722400,449024400,467776800,481078800,499226400,512528400,530676e3,543978e3,562125600,575427600,593575200,606877200,625629600,638326800,657079200,670381200,688528800,701830800,719978400,733280400,751428e3,76473e4,782877600,796179600,814327200,828234e3,846381600,859683600,877831200,891133200,909280800,922582800,941335200,954032400,972784800,985482e3,1004234400,1017536400,1035684e3,1048986e3,1067133600,1080435600,1099188e3,1111885200,1130637600,1143334800,1162087200,1174784400,1193536800,1206838800,1224986400,1238288400,1256436e3,1269738e3,1288490400,1301187600,131994e4,1332637200,1351389600,1364691600,1382839200,1396141200,1414288800,1427590800,1445738400,1459040400,1477792800,149049e4,1509242400,1521939600,1540692e3,1553994e3,1572141600,1585443600,1603591200,1616893200,1635645600,1648342800,1667095200,1679792400,1698544800,1711846800,1729994400,1743296400,1761444e3,1774746e3,1792893600,1806195600,1824948e3,1837645200,1856397600,1869094800,1887847200,1901149200,1919296800,1932598800],
offset:[-75,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,0,3600,0,3600,7200,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0]},"Europe/Luxembourg":{time:[-2069712e3,-1692493200,-1680476400,-1662339600,-165015e4,-1632002400,-1618693200,-1612656e3,-1604278800,-1585515600,-1574038800,-1552255200,-1539997200,-1520546400,-1507510800,-1490569200,-1473642e3,-1459116e3,-1444006800,-142767e4,-1411866e3,-1396220400,-1379293200,-1364770800,-1348448400,-1333321200,-1316394e3,-1301266800,-1284339600,-126981e4,-1253484e3,-1238360400,-1221429600,-1206910800,-1191189600,-1175461200,-1160344800,-1143406800,-1127685600,-1111957200,-1096840800,-1080507600,-1063576800,-1049058e3,-1033336800,-1017608400,-1002492e3,-986158800,-969228e3,-950475600,-942012e3,-935182800,-85725e4,-844552800,-828219600,-812498400,-797979600,-781048800,-766616400,-745452e3,-733266e3,228880800,244004400,260330400,276058800,29178e4,307508400,323834400,338958e3,354679200,370407600,386128800,401857200,417578400,433306800,449028e3,465361200,481082400,496810800,512532e3,528260400,543981600,55971e4,575431200,591159600,606880800,622609200,638330400,654663600,670384800,686113200,701834400,717562800,733284e3,749012400,764733600,780462e3,796183200,811911600,828237600,846385200,859687200,877834800,891136800,909284400,922586400,941338800,954036e3,972788400,985485600,1004238e3,101754e4,1035687600,1048989600,1067137200,1080439200,1099191600,1111888800,1130641200,1143338400,1162090800,1174788e3,1193540400,1206842400,122499e4,1238292e3,1256439600,1269741600,1288494e3,1301191200,1319943600,1332640800,1351393200,1364695200,1382842800,1396144800,1414292400,1427594400,1445742e3,1459044e3,1477796400,1490493600,1509246e3,1521943200,1540695600,1553997600,1572145200,1585447200,1603594800,1616896800,1635649200,1648346400,1667098800,1679796e3,1698548400,1711850400,1729998e3,17433e5,1761447600,1774749600,1792897200,1806199200,1824951600,1837648800,1856401200,1869098400,1887850800,1901152800,1919300400,1932602400],
offset:[1476,3600,7200,3600,7200,3600,7200,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600]},"Europe/Madrid":{time:[-2177453684,-1631926800,-1616886e3,-1601168400,-158535e4,-1442451600,-142767e4,-1379293200,-1364770800,-1348448400,-1333321200,-1316390400,-1301266800,-1284339600,-1269817200,-1026954e3,-1017615600,-1001898e3,-999478800,-986083200,-951433200,-940208400,-873075600,-862614e3,-842835600,-828313200,-811386e3,-796863600,-779936400,-765414e3,-748486800,-733964400,-652323600,-639010800,135126e3,150253200,166575600,181702800,196815600,212547600,22887e4,243997200,260330400,276058800,29178e4,307508400,323834400,338958e3,354679200,370407600,386128800,401857200,417578400,433306800,449028e3,465361200,481082400,496810800,512532e3,528260400,543981600,55971e4,575431200,591159600,606880800,622609200,638330400,654663600,670384800,686113200,701834400,717562800,733284e3,749012400,764733600,780462e3,796183200,811911600,828237600,846385200,859687200,877834800,891136800,909284400,922586400,941338800,954036e3,972788400,985485600,1004238e3,101754e4,1035687600,1048989600,1067137200,1080439200,1099191600,1111888800,1130641200,1143338400,1162090800,1174788e3,1193540400,1206842400,122499e4,1238292e3,1256439600,1269741600,1288494e3,1301191200,1319943600,1332640800,1351393200,1364695200,1382842800,1396144800,1414292400,1427594400,1445742e3,1459044e3,1477796400,1490493600,1509246e3,1521943200,1540695600,1553997600,1572145200,1585447200,1603594800,1616896800,1635649200,1648346400,1667098800,1679796e3,1698548400,1711850400,1729998e3,17433e5,1761447600,1774749600,1792897200,1806199200,1824951600,1837648800,1856401200,1869098400,1887850800,1901152800,1919300400,1932602400],
offset:[-884,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,7200,3600,0,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600]},"Europe/Paris":{time:[-2486678340,-1855958340,-1689814800,-1680393600,-1665363600,-1648339200,-1635123600,-1616889600,-1604278800,-158544e4,-1574038800,-1552262400,-1539997200,-1520553600,-1507510800,-1490572800,-1470618e3,-1459123200,-1444006800,-1427673600,-1411952400,-1396224e3,-1379293200,-1364774400,-1348448400,-1333324800,-1316394e3,-1301270400,-1284339600,-1269820800,-1253494800,-1238371200,-1221440400,-1206921600,-1191200400,-1175472e3,-1160355600,-1143417600,-1127696400,-1111968e3,-1096851600,-1080518400,-1063587600,-1049068800,-1033347600,-1017619200,-1002502800,-986169600,-969238800,-950486400,-942012e3,-932432400,-85725e4,-844552800,-828219600,-812498400,-800064e3,-796258800,-781048800,-766616400,196822800,212547600,228880800,244004400,260330400,276058800,29178e4,307508400,323834400,338958e3,354679200,370407600,386128800,401857200,417578400,433306800,449028e3,465361200,481082400,496810800,512532e3,528260400,543981600,55971e4,575431200,591159600,606880800,622609200,638330400,654663600,670384800,686113200,701834400,717562800,733284e3,749012400,764733600,780462e3,796183200,811911600,828237600,846385200,859687200,877834800,891136800,909284400,922586400,941338800,954036e3,972788400,985485600,1004238e3,101754e4,1035687600,1048989600,1067137200,1080439200,1099191600,1111888800,1130641200,1143338400,1162090800,1174788e3,1193540400,1206842400,122499e4,1238292e3,1256439600,1269741600,1288494e3,1301191200,1319943600,1332640800,1351393200,1364695200,1382842800,1396144800,1414292400,1427594400,1445742e3,1459044e3,1477796400,1490493600,1509246e3,1521943200,1540695600,1553997600,1572145200,1585447200,1603594800,1616896800,1635649200,1648346400,1667098800,1679796e3,1698548400,1711850400,1729998e3,17433e5,1761447600,1774749600,1792897200,1806199200,1824951600,1837648800,1856401200,1869098400,1887850800,1901152800,1919300400,1932602400],
offset:[561,561,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,0,3600,7200,3600,7200,3600,7200,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600]},"Europe/Rome":{time:[-3252096e3,-2403562204,-1690761600,-168048e4,-1664755200,-1648944e3,-163512e4,-1616889600,-1604275200,-1585526400,-1571011200,-1555286400,-932428800,-85725e4,-844552800,-828219600,-812498400,-798066e3,-781048800,-76671e4,-750895200,-733352400,-719452800,-70191e4,-689205600,-670453200,-114048e3,-103161600,-81993600,-71708400,-50544e3,-40258800,-18489600,-8204400,1296e4,23245200,43804800,54694800,75859200,86749200,107913600,118198800,138758400,149648400,170812800,181098e3,202262400,212547600,233107200,243997200,265161600,276051600,296611200,307501200,323834400,338958e3,354679200,370407600,386128800,401857200,417578400,433306800,449028e3,465361200,481082400,496810800,512532e3,528260400,543981600,55971e4,575431200,591159600,606880800,622609200,638330400,654663600,670384800,686113200,701834400,717562800,733284e3,749012400,764733600,780462e3,796183200,811911600,828237600,846385200,859687200,877834800,891136800,909284400,922586400,941338800,954036e3,972788400,985485600,1004238e3,101754e4,1035687600,1048989600,1067137200,1080439200,1099191600,1111888800,1130641200,1143338400,1162090800,1174788e3,1193540400,1206842400,122499e4,1238292e3,1256439600,1269741600,1288494e3,1301191200,1319943600,1332640800,1351393200,1364695200,1382842800,1396144800,1414292400,1427594400,1445742e3,1459044e3,1477796400,1490493600,1509246e3,1521943200,1540695600,1553997600,1572145200,1585447200,1603594800,1616896800,1635649200,1648346400,1667098800,1679796e3,1698548400,1711850400,1729998e3,17433e5,1761447600,1774749600,1792897200,1806199200,1824951600,1837648800,1856401200,1869098400,1887850800,1901152800,1919300400,1932602400],
offset:[2996,2996,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600]},"Europe/Warsaw":{time:[-2840140800,-1717027200,-1693702800,-1680476400,-1663452e3,-1650142800,-1632002400,-1618693200,-1600466400,-1587157200,-1501718400,-931730400,-85725e4,-844552800,-828219600,-812498400,-796600800,-778723200,-762652800,-748483200,-733266e3,-715212e3,-701902800,-684972e3,-670453200,-654127200,-639003600,-397090800,-386805600,-371084400,-355356e3,-334191600,-323301600,-307580400,-291852e3,-271292400,-260402400,-239842800,-228952800,-208393200,-197503200,-176338800,-166053600,228877200,244000800,260326800,276055200,291776400,307504800,323830800,338954400,354675600,370404e3,386125200,401853600,417574800,433303200,449024400,465357600,481078800,496807200,512528400,528256800,543978e3,559706400,575431200,591159600,606880800,622609200,638330400,654663600,670384800,686113200,701834400,717562800,733284e3,749012400,764733600,780462e3,796183200,811911600,828237600,846385200,859687200,877834800,891136800,909284400,922586400,941338800,954036e3,972788400,985485600,1004238e3,101754e4,1035687600,1048989600,1067137200,1080439200,1099191600,1111888800,1130641200,1143338400,1162090800,1174788e3,1193540400,1206842400,122499e4,1238292e3,1256439600,1269741600,1288494e3,1301191200,1319943600,1332640800,1351393200,1364695200,1382842800,1396144800,1414292400,1427594400,1445742e3,1459044e3,1477796400,1490493600,1509246e3,1521943200,1540695600,1553997600,1572145200,1585447200,1603594800,1616896800,1635649200,1648346400,1667098800,1679796e3,1698548400,1711850400,1729998e3,17433e5,1761447600,1774749600,1792897200,1806199200,1824951600,1837648800,1856401200,1869098400,1887850800,1901152800,1919300400,1932602400],
offset:[5040,5040,3600,7200,3600,7200,3600,7200,7200,10800,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600]},"Europe/Istanbul":{time:[-2840140800,-1869868800,-1693699200,-168048e4,-1570406400,-1552176e3,-1538352e3,-1522540800,-1507507200,-1490572800,-1440201600,-1428019200,-1409702400,-1396483200,-931046400,-922665600,-917827200,-892425600,-875836800,-764726400,-744336e3,-733795200,-716428800,-701913600,-684979200,-670464e3,-654134400,-639014400,-62208e4,-60696e4,-590025600,-575510400,-235612800,-194832e3,-177724800,-165715200,107917200,121226400,133927200,152676e3,164685600,184125600,196221600,215575200,228880800,245815200,260330400,267926400,428464800,433908e3,468122400,482806800,496720800,512528400,528256800,543978e3,559706400,575427600,591156e3,606877200,622605600,638326800,65466e4,670381200,686109600,701830800,717559200,733280400,749008800,764125200,780458400,796179600,811908e3,828234e3,846381600,859683600,877831200,891133200,909280800,922582800,941335200,954032400,972784800,985482e3,1004234400,1017536400,1035684e3,1048986e3,1067133600,1080435600,1099188e3,1111885200,1130637600,1143334800,1162087200,1174791600,1193544e3,1206846e3,1224993600,1238295600,1256443200,1269745200,1288497600,1301281200,1319947200,1332644400,1351396800,1364698800,1382846400,1396234800,1414296e3,1427598e3,1446955200,1459047600,1473206400,1925002800],offset:[6952,7016,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,10800,14400,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,10800]},"Europe/Zurich":{
time:[-3675196800,-2385244800,-904431600,-891122400,-872982e3,-859672800,354679200,370407600,386128800,401857200,417578400,433306800,449028e3,465361200,481082400,496810800,512532e3,528260400,543981600,55971e4,575431200,591159600,606880800,622609200,638330400,654663600,670384800,686113200,701834400,717562800,733284e3,749012400,764733600,780462e3,796183200,811911600,828237600,846385200,859687200,877834800,891136800,909284400,922586400,941338800,954036e3,972788400,985485600,1004238e3,101754e4,1035687600,1048989600,1067137200,1080439200,1099191600,1111888800,1130641200,1143338400,1162090800,1174788e3,1193540400,1206842400,122499e4,1238292e3,1256439600,1269741600,1288494e3,1301191200,1319943600,1332640800,1351393200,1364695200,1382842800,1396144800,1414292400,1427594400,1445742e3,1459044e3,1477796400,1490493600,1509246e3,1521943200,1540695600,1553997600,1572145200,1585447200,1603594800,1616896800,1635649200,1648346400,1667098800,1679796e3,1698548400,1711850400,1729998e3,17433e5,1761447600,1774749600,1792897200,1806199200,1824951600,1837648800,1856401200,1869098400,1887850800,1901152800,1919300400,1932602400],offset:[2048,1786,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600]},"Australia/Sydney":{time:[-2364076800,-1672531140,-1665352800,-883605600,-876088800,-860364e3,-844639200,-828309600,-813189600,57722400,68007600,89172e3,100062e3,120621600,131511600,152071200,162961200,183520800,195015600,215575200,226465200,247024800,257914800,278474400,289364400,309924e3,320814e3,341373600,352263600,372823200,386737200,404877600,415767600,436327200,447217200,467776800,478666800,499226400,511326e3,530071200,542775600,562125600,57483e4,59418e4,606279600,625629600,636519600,657079200,667969200,688528800,699418800,719978400,731473200,752032800,762922800,783482400,794372400,814932e3,828241200,846381600,859690800,877831200,891140400,909280800,92259e4,941335200,954039600,967341600,985489200,1004234400,1017543600,1035684e3,1048993200,1067133600,1080442800,1099188e3,1111892400,1130637600,1143946800,1162087200,1174791600,1193536800,1207450800,1223172e3,1238900400,1254621600,127035e4,1286071200,1301799600,1317520800,1333249200,1349575200,1365303600,1381024800,1396753200,1412474400,1428202800,1443924e3,1459652400,1475373600,1491102e3,1506823200,1522551600,1538877600,1554606e3,1570327200,1586055600,1601776800,1617505200,1633226400,1648954800,1664676e3,1680404400,1696125600,1712458800,172818e4,1743908400,1759629600,1775358e3,1791079200,1806807600,1822528800,1838257200,1853978400,1869706800,1886032800,1901761200,1917482400,1933210800],
offset:[36292,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600]},"Australia/Brisbane":{time:[-2366755200,-1672531140,-1665352800,-883605600,-876088800,-860364e3,-844639200,-828309600,-813189600,57722400,68007600,625629600,636519600,657079200,667969200,688528800,699418800,1925028e3],offset:[36728,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3]},"Australia/Adelaide":{time:[-2364076800,-2230156800,-1672531140,-1665352800,-883605600,-876088800,-860364e3,-844639200,-828309600,-813189600,57722400,68007600,89172e3,100062e3,120621600,131511600,152071200,162961200,183520800,195015600,215575200,226465200,247024800,257914800,278474400,289364400,309924e3,320814e3,341373600,352263600,372823200,384318e3,404877600,415767600,436327200,447217200,467776800,478666800,499226400,511326e3,530071200,542775600,562125600,57483e4,59418e4,606279600,625629600,637729200,657079200,667969200,688528800,701233200,719978400,731473200,752032800,764132400,783482400,796186800,814932e3,828241200,846381600,859690800,877831200,891140400,909280800,92259e4,941335200,954039600,972784800,985489200,1004234400,1017543600,1035684e3,1048993200,1067133600,1080442800,1099188e3,1111892400,1130637600,1143946800,1162087200,1174791600,1193536800,1207450800,1223172e3,1238900400,1254621600,127035e4,1286071200,1301799600,1317520800,1333249200,1349575200,1365303600,1381024800,1396753200,1412474400,1428202800,1443924e3,1459652400,1475373600,1491102e3,1506823200,1522551600,1538877600,1554606e3,1570327200,1586055600,1601776800,1617505200,1633226400,1648954800,1664676e3,1680404400,1696125600,1712458800,172818e4,1743908400,1759629600,1775358e3,1791079200,1806807600,1822528800,1838257200,1853978400,1869706800,1886032800,1901761200,1917482400,1933210800],
offset:[33260,32400,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800,34200,37800]},"Australia/ACT":{time:[-2364076800,-1672531140,-1665352800,-883605600,-876088800,-860364e3,-844639200,-828309600,-813189600,57722400,68007600,89172e3,100062e3,120621600,131511600,152071200,162961200,183520800,195015600,215575200,226465200,247024800,257914800,278474400,289364400,309924e3,320814e3,341373600,352263600,372823200,386737200,404877600,415767600,436327200,447217200,467776800,478666800,499226400,511326e3,530071200,542775600,562125600,57483e4,59418e4,606279600,625629600,636519600,657079200,667969200,688528800,699418800,719978400,731473200,752032800,762922800,783482400,794372400,814932e3,828241200,846381600,859690800,877831200,891140400,909280800,92259e4,941335200,954039600,967341600,985489200,1004234400,1017543600,1035684e3,1048993200,1067133600,1080442800,1099188e3,1111892400,1130637600,1143946800,1162087200,1174791600,1193536800,1207450800,1223172e3,1238900400,1254621600,127035e4,1286071200,1301799600,1317520800,1333249200,1349575200,1365303600,1381024800,1396753200,1412474400,1428202800,1443924e3,1459652400,1475373600,1491102e3,1506823200,1522551600,1538877600,1554606e3,1570327200,1586055600,1601776800,1617505200,1633226400,1648954800,1664676e3,1680404400,1696125600,1712458800,172818e4,1743908400,1759629600,1775358e3,1791079200,1806807600,1822528800,1838257200,1853978400,1869706800,1886032800,1901761200,1917482400,1933210800],offset:[36292,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600,36e3,39600]},"Asia/Almaty":{
time:[-1441152e3,-1247529600,354931200,370742400,386467200,402278400,418003200,433814400,449625600,465361200,481082400,496810800,512532e3,528260400,543981600,55971e4,575431200,591159600,606880800,622609200,638330400,654663600,670384800,686113200,695786400,701834400,717562800,733284e3,749012400,764733600,780462e3,796183200,811911600,828237600,846385200,859687200,877834800,891136800,909284400,922586400,941338800,954036e3,972788400,985485600,1004238e3,101754e4,1035687600,1048989600,1067137200,1080439200,1099191600,1925013600],offset:[18468,18e3,21600,25200,21600,25200,21600,25200,21600,25200,21600,25200,21600,25200,21600,25200,21600,25200,21600,25200,21600,25200,21600,21600,18e3,21600,25200,21600,25200,21600,25200,21600,25200,21600,25200,21600,25200,21600,25200,21600,25200,21600,25200,21600,25200,21600,25200,21600,25200,21600,25200,21600]},"Asia/Ashkhabad":{time:[-1441152e3,-1247529600,354931200,370742400,386467200,402278400,418003200,433814400,449625600,465361200,481082400,496810800,512532e3,528260400,543981600,55971e4,575431200,591159600,606880800,622609200,638330400,654663600,670384800,686113200,695786400,192501e4],offset:[14012,14400,18e3,21600,18e3,21600,18e3,21600,18e3,21600,18e3,21600,18e3,21600,18e3,21600,18e3,21600,18e3,21600,18e3,21600,18e3,18e3,14400,18e3]},"Asia/Tokyo":{time:[-2587678861,-683769600,-672274800,-654739200,-640825200,-620265600,-609375600,-588816e3,-577926e3,1925024400],offset:[33539,32400,36e3,32400,36e3,32400,36e3,32400,36e3,32400]},"Asia/Taipei":{time:[-2335219200,-1017792e3,-766191600,-745804800,-733795200,-716860800,-699580800,-683856e3,-670636800,-65232e4,-639100800,-620784e3,-607564800,-589248e3,-576028800,-562896e3,-541728e3,-528681600,-510192e3,-497145600,-478656e3,-465609600,-449798400,-433987200,-418176e3,-402451200,-38664e4,-370915200,-355104e3,-339379200,-323568e3,-302486400,-291945600,-270950400,-260409600,134006400,149817600,165542400,181353600,299635200,307584e3,1925020800],offset:[29160,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800]},"Asia/Singapore":{time:[-2177452800,-2038176e3,-1167609600,-1073001600,-894153600,-879638400,-766972800,378691200,1925020800],offset:[24925,24925,25200,26400,26400,27e3,32400,27e3,28800]},"Asia/Shanghai":{time:[-2177452800,-933638400,-922060800,-908841600,-888796800,-881020800,-767836800,-745804800,-733795200,-716860800,-699580800,-683856e3,-670636800,-65232e4,-649987200,515556e3,527047200,545191200,558496800,577245600,589946400,608695200,622000800,640144800,653450400,671594400,6849e5,1925020800],offset:[29143,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800]},"Asia/Seoul":{
time:[-1948752e3,-1830384e3,-767318400,-681177600,-672192e3,-654739200,-640828800,-623376e3,-609379200,-588816e3,-577929600,-498096e3,-462672e3,-451699200,-429753600,-418262400,-399513600,-387417600,-368064e3,-355968e3,-336614400,-324518400,-305164800,-293068800,-264902400,547610400,560919600,57906e4,592369200,1925024400],offset:[30472,30600,32400,32400,36e3,32400,36e3,32400,36e3,32400,36e3,32400,30600,34200,30600,34200,30600,34200,30600,34200,30600,34200,30600,34200,30600,32400,36e3,32400,36e3,32400]},"Asia/Tehran":{time:[-1704153600,-757382400,247190400,259286400,277776e3,283996800,290822400,306547200,322444800,338515200,673228800,685497600,701222400,71712e4,732758400,748656e3,764294400,780192e3,795830400,811728e3,827366400,843264e3,858988800,874886400,890524800,906422400,922060800,937958400,953596800,969494400,985219200,1001116800,1016755200,1032652800,1048291200,1064188800,1079827200,1095724800,1111449600,1127347200,1206057600,1221955200,123768e4,1253577600,1269216e3,1285113600,1300752e3,1316649600,1332288e3,1348185600,1363910400,1379808e3,1395446400,1411344e3,1426982400,144288e4,1458518400,1474416e3,1490140800,1506038400,1521676800,1537574400,1553212800,1569110400,1584748800,1600646400,1616371200,1632268800,1647907200,1663804800,1679443200,1695340800,1710979200,1726876800,1742601600,1758499200,1774137600,1790035200,1805673600,1821571200,1837209600,1853107200,1868745600,1884643200,1900368e3,1916265600,1931904e3],offset:[12344,12344,12600,14400,18e3,14400,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600,16200,12600]},"Asia/Dubai":{time:[-1577923200,1925006400],offset:[13272,14400]},"Asia/Kolkata":{time:[-3645216e3,-3155673600,-2019686400,-891561600,-872035200,-862617600,-764121600,1925011800],offset:[21208,21200,19270,19800,23400,19800,23400,19800]},"Asia/Hong_Kong":{time:[-2056663398,-900882e3,-891547200,-884217600,-761176800,-747878400,-728508600,-717021e3,-697059e3,-683757e3,-668028600,-654726600,-636579e3,-623277e3,-605129400,-591827400,-573679800,-559773e3,-541625400,-528323400,-510179400,-498083400,-478729800,-466633800,-446675400,-435184200,-415225800,-403129800,-383776200,-371680200,-352326600,-340230600,-320877e3,-308781e3,-288822600,-277331400,-257373e3,-245881800,-225923400,-213827400,-194473800,-182377800,-163024200,-148509e3,-132784200,-117059400,-101334600,-85609800,-69280200,-53555400,-37830600,-22105800,-6381e3,9343800,25068600,40793400,56518200,72243e3,88572600,104297400,120022200,126070200,151471800,167196600,182921400,198646200,214371e3,295414200,309324600,1925020800],
offset:[27402,28800,32400,30600,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800]},"Asia/Bangkok":{time:[-2840140800,-1570060800,1925017200],offset:[24124,24124,25200]},"Asia/Chongqing":{time:[-2177452800,-933638400,-922060800,-908841600,-888796800,-881020800,-767836800,-745804800,-733795200,-716860800,-699580800,-683856e3,-670636800,-65232e4,-649987200,515556e3,527047200,545191200,558496800,577245600,589946400,608695200,622000800,640144800,653450400,671594400,6849e5,1925020800],offset:[29143,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800]},"Asia/Jerusalem":{time:[-2840140800,-1640995200,-933638400,-857347200,-844293600,-825811200,-812678400,-794188800,-779846400,-762645600,-748303200,-731116800,-681955200,-673228800,-667951200,-65232e4,-636415200,-62208e4,-608936400,-59184e4,-572475600,-558568800,-542840400,-527724e3,-514414800,-490838400,-482976e3,-459468e3,-451526400,-428544e3,-418251600,-400024800,-387417600,142387200,150854400,167184e3,178675200,334022400,337654800,452563200,462243600,482284800,495590400,516758400,526435200,545443200,558489600,576633600,589334400,609897600,620784e3,638323200,651628800,669772800,683683200,701827200,715737600,733708800,747187200,765158400,778032e3,796608e3,810086400,826848e3,842832e3,858902400,874195200,890352e3,90504e4,923018400,936324e3,955677600,970794e3,986778e3,1001293200,1017363600,1033952400,1048813200,1065142800,1081299600,1095814800,1112320800,1128823200,1143770400,1159668e3,117522e4,1189908e3,1206669600,1223172e3,1238119200,1254016800,1269568800,1284256800,1301623200,1317520800,1333072800,1348365600,1364522400,1382839200,1395972e3,1414288800,1427421600,1445738400,1458871200,1477792800,1490320800,1509242400,1521770400,1540692e3,1553824800,1572141600,1585274400,1603591200,1616724e3,1635645600,1648173600,1667095200,1679623200,1698544800,1711677600,1729994400,1743127200,1761444e3,1774576800,1792893600,1806026400,1824948e3,1837476e3,1856397600,1868925600,1887847200,190098e4,1919296800,1932429600],
offset:[8454,8440,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,14400,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200]},"Asia/Kuwait":{time:[-719625600,1925002800],offset:[11212,10800]},"Asia/Muscat":{time:[-1577923200,1925006400],offset:[13272,14400]},"Asia/Qatar":{time:[-1577923200,76204800,1925002800],offset:[12368,14400,10800]},"Asia/Riyadh":{time:[-719625600,1925002800],offset:[11212,10800]},"Pacific/Auckland":{time:[-3192393600,-1330293600,-1320012e3,-1300658400,-1287352800,-1269208800,-1255903200,-1237759200,-1224453600,-1206309600,-1192399200,-117486e4,-1160949600,-1143410400,-1125871200,-1112565600,-1094421600,-1081116e3,-1062972e3,-1049666400,-1031522400,-1018216800,-1000072800,-986767200,-968018400,-955317600,-936568800,-923263200,-757382400,152676e3,162356400,183520800,195015600,215575200,226465200,247024800,257914800,278474400,289364400,309924e3,320814e3,341373600,352263600,372823200,384318e3,404877600,415767600,436327200,447217200,467776800,478666800,499226400,510116400,530676e3,541566e3,562125600,573620400,59418e4,60507e4,623815200,637729200,655264800,669178800,686714400,700628400,718164e3,732682800,749613600,764132400,781063200,795582e3,812512800,827031600,844567200,858481200,876016800,889930800,907466400,921985200,938916e3,953434800,970365600,984884400,100242e4,1016334e3,1033869600,1047783600,1065319200,1079838e3,1096768800,1111287600,1128218400,1142737200,1159668e3,1174186800,1191117600,1207450800,1222567200,1238900400,1254016800,127035e4,1285466400,1301799600,1316916e3,1333249200,1348970400,1365303600,138042e4,1396753200,1411869600,1428202800,1443319200,1459652400,1474768800,1491102e3,1506218400,1522551600,1538272800,1554606e3,1569722400,1586055600,1601172e3,1617505200,1632621600,1648954800,1664071200,1680404400,1695520800,1712458800,1727575200,1743908400,1759024800,1775358e3,1790474400,1806807600,1821924e3,1838257200,1853373600,1869706800,1885428e3,1901761200,1916877600,1933210800],
offset:[41944,41400,45e3,41400,43200,41400,43200,41400,43200,41400,43200,41400,43200,41400,43200,41400,43200,41400,43200,41400,43200,41400,43200,41400,43200,41400,43200,41400,43200,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800,43200,46800]},"Pacific/Chatham":{time:[-3192393600,-757382400,152678700,162359100,183523500,195018300,215577900,226467900,247027500,257917500,278477100,289367100,309926700,320816700,341376300,352266300,372825900,384320700,404880300,415770300,436329900,447219900,467779500,478669500,499229100,510119100,530678700,541568700,562128300,573623100,594182700,605072700,623817900,637731900,655267500,669181500,686717100,700631100,718166700,732685500,749616300,764135100,781065900,795584700,812515500,827034300,844569900,858483900,876019500,889933500,907469100,921987900,938918700,953437500,970368300,984887100,1002422700,1016336700,1033872300,1047786300,1065321900,1079840700,1096771500,1111290300,1128221100,1142739900,1159670700,1174189500,1191120300,1207453500,1222569900,1238903100,1254019500,1270352700,1285469100,1301802300,1316918700,1333251900,1348973100,1365306300,1380422700,1396755900,1411872300,1428205500,1443321900,1459655100,1474771500,1491104700,1506221100,1522554300,1538275500,1554608700,1569725100,1586058300,1601174700,1617507900,1632624300,1648957500,1664073900,1680407100,1695523500,1712461500,1727577900,1743911100,1759027500,1775360700,1790477100,1806810300,1821926700,1838259900,1853376300,1869709500,1885430700,1901763900,1916880300,1933213500],offset:[44028,44100,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500,45900,49500]},"Pacific/Fakaofo":{time:[-2177452800,1325203200,1925038800],offset:[-41096,-39600,46800]},"Pacific/Honolulu":{time:[-2334139200,-1157320800,-1155470400,-880236e3,-769429800,-765410400,-712188e3,1924956e3],
offset:[-37886,-37800,-34200,-37800,-34200,-34200,-37800,-36e3]},"America/Mexico_City":{time:[-1514763396,-1343091600,-1234828800,-1220317200,-1207180800,-1191369600,-975283200,-963187200,-917136e3,-907372800,-821923200,-810086400,-627523200,-613008e3,828842400,846381600,860292e3,877831200,891741600,909280800,923191200,941335200,954640800,972784800,989114400,1001815200,1018144800,1035684e3,1049594400,1067133600,1081044e3,1099188e3,1112493600,1130637600,1143943200,1162087200,1175392800,1193536800,1207447200,1224986400,1238896800,1256436e3,1270346400,1288490400,1301796e3,131994e4,1333245600,1351389600,13653e5,1382839200,1396749600,1414288800,1428199200,1445738400,1459648800,1477792800,1491098400,1509242400,1522548e3,1540692e3,1554602400,1572141600,1586052e3,1603591200,1617501600,1635645600,1648951200,1667095200,1680400800,1698544800,1712455200,1729994400,1743904800,1761444e3,1775354400,1792893600,1806804e3,1824948e3,1838253600,1856397600,1869703200,1887847200,1901757600,1919296800,1933207200],offset:[-23796,-25200,-21600,-25200,-21600,-25200,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600,-18e3,-21600]},"Africa/Cairo":{time:[-2185401600,-929836800,-923097600,-906163200,-892857600,-875836800,-857779200,-844300800,-825811200,-812678400,-794188800,-779846400,-762652800,-399081600,-38664e4,-368323200,-355104e3,-336783600,-323643600,-305161200,-292021200,-273625200,-260485200,-242089200,-228949200,-210553200,-197413200,-178930800,-165790800,-147394800,-134254800,-115858800,-102632400,-84322800,-71096400,-52700400,-39474e3,-21164400,-7938e3,10371600,23598e3,41907600,55134e3,7353e4,86756400,105066e3,118292400,136602e3,149828400,168138e3,181364400,199760400,212986800,231296400,244522800,262832400,276058800,294368400,307594800,325990800,339217200,357526800,370753200,396406800,402289200,426819600,433825200,452221200,465447600,483757200,496983600,515293200,528519600,546829200,560055600,578451600,591678e3,610419600,623214e3,641523600,65475e4,673059600,686286e3,704682e3,717908400,736218e3,749444400,767754e3,780980400,799027200,812332800,830476800,843782400,861926400,875232e3,893376e3,906681600,925430400,938736e3,95688e4,970185600,988329600,1001635200,1019779200,1033084800,1051228800,1064534400,1083283200,1096588800,1114732800,1128038400,1146182400,1158883200,1177632e3,1189123200,1209081600,1219968e3,1240531200,1250812800,1272585600,1281484800,1284076800,1285891200,1400198400,1403827200,1406851200,1411689600,1924999200],
offset:[7509,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200]},"Africa/Johannesburg":{time:[-2458166400,-2109283200,-860968800,-845244e3,-829519200,-813794400,1924999200],offset:[6720,5400,7200,10800,7200,10800,7200]},"Asia/Kathmandu":{time:[-1577923200,504921600,1925012700],offset:[20476,19800,20700]},"US/Mountain":{time:[-2717668796,-1633298400,-1615154400,-1601848800,-1583704800,-1570399200,-1551650400,-1538949600,-1534111200,-880236e3,-769417200,-765410400,-147909600,-13158e4,-11646e4,-100130400,-84405600,-68680800,-52956e3,-37231200,-21506400,-5781600,9943200,25668e3,41392800,57722400,73447200,89172e3,104896800,120621600,126669600,152071200,162352800,183520800,199245600,215575200,230695200,247024800,262749600,278474400,294199200,309924e3,325648800,341373600,357098400,372823200,388548e3,404877600,419997600,436327200,452052e3,467776800,483501600,499226400,514951200,530676e3,544586400,562125600,576036e3,59418e4,607485600,625629600,638935200,657079200,670989600,688528800,702439200,719978400,733888800,752032800,765338400,783482400,796788e3,814932e3,828842400,846381600,860292e3,877831200,891741600,909280800,923191200,941335200,954640800,972784800,986090400,1004234400,1018144800,1035684e3,1049594400,1067133600,1081044e3,1099188e3,1112493600,1130637600,1143943200,1162087200,1173578400,1194141600,1205028e3,1225591200,1236477600,1257040800,1268532e3,1289095200,1299981600,1320544800,1331431200,1351994400,1362880800,1383444e3,1394330400,1414893600,142578e4,1446343200,1457834400,1478397600,1489284e3,1509847200,1520733600,1541296800,1552183200,1572746400,1583632800,1604196e3,1615687200,1636250400,1647136800,16677e5,1678586400,1699149600,1710036e3,1730599200,1741485600,1762048800,1772935200,1793498400,1804989600,1825552800,1836439200,1857002400,1867888800,1888452e3,1899338400,1919901600,1930788e3],
offset:[-25196,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200,-21600,-25200]},"Europe/Helsinki":{time:[-2890252800,-1535932800,-875664e3,-859762800,354679200,370407600,386128800,401857200,417582e3,433310400,449031600,465364800,481086e3,496814400,512535600,528264e3,543985200,559713600,575434800,591163200,606884400,622612800,638334e3,654667200,670388400,686116800,701838e3,717566400,733287600,749016e3,764737200,780465600,796186800,811915200,828241200,846388800,859690800,877838400,891140400,909288e3,92259e4,941342400,954039600,972792e3,985489200,1004241600,1017543600,1035691200,1048993200,1067140800,1080442800,1099195200,1111892400,1130644800,1143342e3,1162094400,1174791600,1193544e3,1206846e3,1224993600,1238295600,1256443200,1269745200,1288497600,1301194800,1319947200,1332644400,1351396800,1364698800,1382846400,1396148400,1414296e3,1427598e3,1445745600,1459047600,14778e5,1490497200,1509249600,1521946800,1540699200,1554001200,1572148800,1585450800,1603598400,1616900400,1635652800,164835e4,1667102400,1679799600,1698552e3,1711854e3,1730001600,1743303600,1761451200,1774753200,1792900800,1806202800,1824955200,1837652400,1856404800,1869102e3,1887854400,1901156400,1919304e3,1932606e3],offset:[5989,5989,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200]},"Europe/Stockholm":{
time:[-2871676800,-2208988800,-1692493200,-1680476400,323834400,338958e3,354679200,370407600,386128800,401857200,417578400,433306800,449028e3,465361200,481082400,496810800,512532e3,528260400,543981600,55971e4,575431200,591159600,606880800,622609200,638330400,654663600,670384800,686113200,701834400,717562800,733284e3,749012400,764733600,780462e3,796183200,811911600,828237600,846385200,859687200,877834800,891136800,909284400,922586400,941338800,954036e3,972788400,985485600,1004238e3,101754e4,1035687600,1048989600,1067137200,1080439200,1099191600,1111888800,1130641200,1143338400,1162090800,1174788e3,1193540400,1206842400,122499e4,1238292e3,1256439600,1269741600,1288494e3,1301191200,1319943600,1332640800,1351393200,1364695200,1382842800,1396144800,1414292400,1427594400,1445742e3,1459044e3,1477796400,1490493600,1509246e3,1521943200,1540695600,1553997600,1572145200,1585447200,1603594800,1616896800,1635649200,1648346400,1667098800,1679796e3,1698548400,1711850400,1729998e3,17433e5,1761447600,1774749600,1792897200,1806199200,1824951600,1837648800,1856401200,1869098400,1887850800,1901152800,1919300400,1932602400],offset:[4332,3614,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600]},"Europe/Copenhagen":{time:[-2524521600,-2398291200,-1692493200,-1680483600,-935107200,-85725e4,-844552800,-828219600,-812498400,-79677e4,-781048800,-769381200,-747007200,-736376400,-715212e3,-706741200,-683157600,-675291600,323834400,338958e3,354679200,370407600,386128800,401857200,417578400,433306800,449028e3,465361200,481082400,496810800,512532e3,528260400,543981600,55971e4,575431200,591159600,606880800,622609200,638330400,654663600,670384800,686113200,701834400,717562800,733284e3,749012400,764733600,780462e3,796183200,811911600,828237600,846385200,859687200,877834800,891136800,909284400,922586400,941338800,954036e3,972788400,985485600,1004238e3,101754e4,1035687600,1048989600,1067137200,1080439200,1099191600,1111888800,1130641200,1143338400,1162090800,1174788e3,1193540400,1206842400,122499e4,1238292e3,1256439600,1269741600,1288494e3,1301191200,1319943600,1332640800,1351393200,1364695200,1382842800,1396144800,1414292400,1427594400,1445742e3,1459044e3,1477796400,1490493600,1509246e3,1521943200,1540695600,1553997600,1572145200,1585447200,1603594800,1616896800,1635649200,1648346400,1667098800,1679796e3,1698548400,1711850400,1729998e3,17433e5,1761447600,1774749600,1792897200,1806199200,1824951600,1837648800,1856401200,1869098400,1887850800,1901152800,1919300400,1932602400],
offset:[3020,3020,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600]},"Atlantic/Reykjavik":{time:[-1956614400,-1668214800,-1647212400,-1636678800,-161343e4,-1605142800,-1581894e3,-1539565200,-153135e4,-968029200,-952293600,-942012e3,-920239200,-909961200,-888789600,-877906800,-857944800,-846457200,-826495200,-815007600,-795045600,-783558e3,-762991200,-752108400,-731541600,-717634800,-700092e3,-686185200,-668642400,-654735600,-636588e3,-623286e3,-605743200,-591836400,-573688800,-559782e3,-542239200,-528332400,-510789600,-496882800,-47934e4,-465433200,-447890400,-433983600,-415836e3,-401929200,-384386400,-370479600,-352936800,-33903e4,-321487200,-307580400,-290037600,-276130800,-258588e3,-244681200,-226533600,-212626800,-195084e3,-181177200,-163634400,-149727600,-132184800,-118278e3,-100735200,-86828400,-68680800,-54774e3,1924992e3],offset:[-5280,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0,-3600,0]},"Europe/Tallinn":{time:[-2840140800,-1638316800,-1632002400,-1618693200,-1593820800,-1535932800,-927936e3,-892944e3,-85725e4,-844552800,-828219600,-812498400,-797644800,354931200,370742400,386467200,402278400,418003200,433814400,449625600,465361200,481082400,496810800,512532e3,528260400,543981600,55971e4,575431200,591159600,606880800,622609200,638330400,654663600,670384800,686113200,701834400,717562800,733284e3,749012400,764733600,780462e3,796183200,811911600,828237600,846385200,859687200,877834800,891136800,909288e3,92259e4,941342400,1017543600,1035691200,1048993200,1067140800,1080442800,1099195200,1111892400,1130644800,1143342e3,1162094400,1174791600,1193544e3,1206846e3,1224993600,1238295600,1256443200,1269745200,1288497600,1301194800,1319947200,1332644400,1351396800,1364698800,1382846400,1396148400,1414296e3,1427598e3,1445745600,1459047600,14778e5,1490497200,1509249600,1521946800,1540699200,1554001200,1572148800,1585450800,1603598400,1616900400,1635652800,164835e4,1667102400,1679799600,1698552e3,1711854e3,1730001600,1743303600,1761451200,1774753200,1792900800,1806202800,1824955200,1837652400,1856404800,1869102e3,1887854400,1901156400,1919304e3,1932606e3],
offset:[5940,5940,3600,7200,3600,5940,7200,10800,7200,3600,7200,3600,7200,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200]},"Europe/Riga":{time:[-2840140800,-1632002400,-1618693200,-1601676e3,-1597266e3,-1377302400,-928022400,-899510400,-85725e4,-844552800,-828219600,-812498400,-79677e4,-795830400,354931200,370742400,386467200,402278400,418003200,433814400,449625600,465361200,481082400,496810800,512532e3,528260400,543981600,55971e4,575431200,591159600,606880800,622609200,638330400,654663600,670384800,686113200,701834400,717562800,733284e3,749012400,764733600,780462e3,796183200,811911600,828237600,843966e3,859690800,877838400,891140400,909288e3,92259e4,941342400,985489200,1004241600,1017543600,1035691200,1048993200,1067140800,1080442800,1099195200,1111892400,1130644800,1143342e3,1162094400,1174791600,1193544e3,1206846e3,1224993600,1238295600,1256443200,1269745200,1288497600,1301194800,1319947200,1332644400,1351396800,1364698800,1382846400,1396148400,1414296e3,1427598e3,1445745600,1459047600,14778e5,1490497200,1509249600,1521946800,1540699200,1554001200,1572148800,1585450800,1603598400,1616900400,1635652800,164835e4,1667102400,1679799600,1698552e3,1711854e3,1730001600,1743303600,1761451200,1774753200,1792900800,1806202800,1824955200,1837652400,1856404800,1869102e3,1887854400,1901156400,1919304e3,1932606e3],offset:[5794,5794,9394,5794,9394,5794,7200,10800,7200,3600,7200,3600,7200,3600,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200]},"Europe/Vilnius":{
time:[-2840140800,-1672531200,-1585094400,-1561248e3,-1553558400,-928195200,-900115200,-85725e4,-844552800,-828219600,-812498400,-802137600,354931200,370742400,386467200,402278400,418003200,433814400,449625600,465361200,481082400,496810800,512532e3,528260400,543981600,55971e4,575431200,591159600,606880800,622609200,638330400,654663600,670384800,686113200,701834400,717562800,733284e3,749012400,764733600,780462e3,796183200,811911600,828237600,846385200,859687200,877834800,891140400,909284400,922586400,941338800,1048993200,1067140800,1080442800,1099195200,1111892400,1130644800,1143342e3,1162094400,1174791600,1193544e3,1206846e3,1224993600,1238295600,1256443200,1269745200,1288497600,1301194800,1319947200,1332644400,1351396800,1364698800,1382846400,1396148400,1414296e3,1427598e3,1445745600,1459047600,14778e5,1490497200,1509249600,1521946800,1540699200,1554001200,1572148800,1585450800,1603598400,1616900400,1635652800,164835e4,1667102400,1679799600,1698552e3,1711854e3,1730001600,1743303600,1761451200,1774753200,1792900800,1806202800,1824955200,1837652400,1856404800,1869102e3,1887854400,1901156400,1919304e3,1932606e3],offset:[6076,5040,5736,3600,7200,3600,10800,7200,3600,7200,3600,7200,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,14400,10800,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,7200,3600,7200,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200,10800,7200]},"America/Lima":{time:[-2524521600,-1938556800,-1009843200,-1002067200,-986774400,-971049600,-955324800,-9396e5,504921600,512697600,536457600,544233600,631152e3,638928e3,757382400,765158400,1924974e3],offset:[-18492,-18516,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3]},"America/Santiago":{
time:[-2524521600,-1892678400,-1688428800,-1619222400,-1593820800,-1336003200,-13176e5,-1304380800,-1286064e3,-1272844800,-1254528e3,-1241308800,-1222992e3,-1209772800,-1191369600,-1178150400,-870566400,-865296e3,-740534400,-736387200,-718070400,-713667600,-36633600,-23932800,-3369600,7516800,24451200,37756800,55900800,69206400,87955200,100656e3,118195200,132105600,150854400,163555200,182304e3,195609600,213753600,227059200,245203200,258508800,277257600,289958400,308707200,321408e3,340156800,353462400,371606400,384912e3,403056e3,416361600,434505600,447811200,46656e4,479260800,498009600,510710400,529459200,545184e3,560908800,574214400,592358400,605664e3,624412800,637113600,653443200,668563200,687312e3,700617600,718761600,732067200,750211200,763516800,781660800,794966400,813715200,826416e3,845164800,85968e4,876614400,88992e4,906854400,923184e3,939513600,952819200,971568e3,984268800,1003017600,1015718400,1034467200,1047168e3,1065916800,1079222400,1097366400,1110672e3,1128816e3,1142121600,1160870400,1173571200,119232e4,1206835200,1223769600,1237075200,1255219200,1270339200,1286668800,1304812800,1313884800,1335657600,1346544e3,1367107200,1378598400,1398556800,1410048e3,1463270400,1471132800,149472e4,1502582400,1526169600,1534032e3,1554595200,1567900800,1586044800,1599350400,1617494400,16308e5,1648944e3,1662249600,1680393600,1693699200,1712448e3,1725753600,1743897600,1757203200,1775347200,1788652800,1806796800,1820102400,1838246400,1851552e3,1870300800,1883001600,1901750400,1915056e3,19332e5],offset:[-16966,-16966,-18e3,-16966,-14400,-16966,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-18e3,-14400,-10800,-14400,-18e3,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800,-14400,-10800]},"Asia/Bahrain":{time:[-1577923200,76204800,1925002800],offset:[12368,14400,10800]},"Asia/Jakarta":{time:[-3231273600,-1451693568,-117288e4,-876614400,-766022400,-683856e3,-620784e3,-189388800,1925017200],offset:[25632,25632,26400,27e3,32400,27e3,28800,27e3,25200]},"Africa/Lagos":{time:[-1588464e3,1924995600],offset:[816,3600]},"Pacific/Norfolk":{
time:[-2177452800,-599616e3,152071200,162961200,1443924e3,1570327200,1586055600,1601776800,1617505200,1633226400,1648954800,1664676e3,1680404400,1696125600,1712458800,172818e4,1743908400,1759629600,1775358e3,1791079200,1806807600,1822528800,1838257200,1853978400,1869706800,1886032800,1901761200,1917482400,1933210800],offset:[40312,40320,41400,45e3,41400,39600,43200,39600,43200,39600,43200,39600,43200,39600,43200,39600,43200,39600,43200,39600,43200,39600,43200,39600,43200,39600,43200,39600,43200]},"America/Juneau":{time:[-3225169588,-2188987200,-880236e3,-769420800,-765410400,-21506400,-5781600,9943200,25668e3,41392800,57722400,73447200,89172e3,104896800,120621600,126669600,152071200,162352800,183520800,199245600,215575200,230695200,247024800,262749600,278474400,294199200,309924e3,325648800,341373600,357098400,372823200,388548e3,404877600,419997600,436327200,438998400,452052e3,467776800,483501600,499226400,514951200,530676e3,544586400,562125600,576036e3,59418e4,607485600,625629600,638935200,657079200,670989600,688528800,702439200,719978400,733888800,752032800,765338400,783482400,796788e3,814932e3,828842400,846381600,860292e3,877831200,891741600,909280800,923191200,941335200,954640800,972784800,986090400,1004234400,1018144800,1035684e3,1049594400,1067133600,1081044e3,1099188e3,1112493600,1130637600,1143943200,1162087200,1173578400,1194141600,1205028e3,1225591200,1236477600,1257040800,1268532e3,1289095200,1299981600,1320544800,1331431200,1351994400,1362880800,1383444e3,1394330400,1414893600,142578e4,1446343200,1457834400,1478397600,1489284e3,1509847200,1520733600,1541296800,1552183200,1572746400,1583632800,1604196e3,1615687200,1636250400,1647136800,16677e5,1678586400,1699149600,1710036e3,1730599200,1741485600,1762048800,1772935200,1793498400,1804989600,1825552800,1836439200,1857002400,1867888800,1888452e3,1899338400,1919901600,1930788e3],offset:[54139,-32261,-28800,-25200,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-25200,-28800,-28800,-28800,-25200,-28800,-25200,-28800,-25200,-32400,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400,-28800,-32400]},"Asia/Ho_Chi_Minh":{time:[-2004048e3,-1851552e3,-852080400,-782614800,-767836800,-718070400,-457747200,-315622800,171849600,1925017200],offset:[25600,25590,25200,28800,32400,25200,28800,25200,28800,25200]},"Australia/Perth":{
time:[-2337897600,-1672531140,-1665352800,-883605600,-876088800,-860364e3,-844639200,152071200,162961200,436327200,447217200,690343200,699418800,1165111200,1174791600,1193536800,1206846e3,1224986400,1238295600,1925020800],offset:[27804,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800,32400,28800]},"Europe/Oslo":{time:[-2366755200,-1691881200,-1680566400,-927507600,-85725e4,-844552800,-828219600,-812498400,-79677e4,-781048800,-765320400,-340840800,-324507600,-308786400,-293058e3,-277336800,-261608400,-245887200,-230158800,-214437600,-198709200,-182988e3,-166654800,-147909600,-135205200,323834400,338958e3,354679200,370407600,386128800,401857200,417578400,433306800,449028e3,465361200,481082400,496810800,512532e3,528260400,543981600,55971e4,575431200,591159600,606880800,622609200,638330400,654663600,670384800,686113200,701834400,717562800,733284e3,749012400,764733600,780462e3,796183200,811911600,828237600,846385200,859687200,877834800,891136800,909284400,922586400,941338800,954036e3,972788400,985485600,1004238e3,101754e4,1035687600,1048989600,1067137200,1080439200,1099191600,1111888800,1130641200,1143338400,1162090800,1174788e3,1193540400,1206842400,122499e4,1238292e3,1256439600,1269741600,1288494e3,1301191200,1319943600,1332640800,1351393200,1364695200,1382842800,1396144800,1414292400,1427594400,1445742e3,1459044e3,1477796400,1490493600,1509246e3,1521943200,1540695600,1553997600,1572145200,1585447200,1603594800,1616896800,1635649200,1648346400,1667098800,1679796e3,1698548400,1711850400,1729998e3,17433e5,1761447600,1774749600,1792897200,1806199200,1824951600,1837648800,1856401200,1869098400,1887850800,1901152800,1919300400,1932602400],offset:[2580,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600,7200,3600]}}},"3jc8":function(e,t,i){"use strict";function n(e){Object(r.createConfirmDialog)({type:"modal",title:window.t("Confirm Remove Study Tree"),content:window.t("Do you really want to delete study and all of it's children?")}).then(function(t){t.on("action:yes",function(t){e(),t.close()}),t.open()})}i.r(t),i.d(t,"showDeleteStudyTreeConfirm",function(){return n});var r=i("oNDq")},"3u3j":function(e,t,i){"use strict";var n,r,o,s;i.d(t,"a",function(){return s}),n=i("mrSG"),r=i("Eyy1"),o=i("RDU5"),s=function(e){function t(t,i,n){var o,s,a=e.call(this,n)||this;return a._chartModel=t,a._sourceId=i.id(),o=Object(r.ensureNotNull)(i.priceScale()),a._initialPriceScaleId=o.id(),
s=Object(r.ensureNotNull)(t.paneForSource(i)),a._initialPriceScalePosition=s.priceScalePosition(o),a._initialPriceScaleIndex=s.priceScaleIndex(o,a._initialPriceScalePosition),a._initialPaneIndex=t.panes().indexOf(s),a}return Object(n.__extends)(t,e),t}(o.UndoCommand)},"4O8T":function(e,t,i){var n;!function(t){"use strict";function r(){}function o(e,t){for(var i=e.length;i--;)if(e[i].listener===t)return i;return-1}function s(e){return function(){return this[e].apply(this,arguments)}}var a=r.prototype,l=t.EventEmitter;a.getListeners=function(e){var t,i,n=this._getEvents();if(e instanceof RegExp)for(i in t={},n)n.hasOwnProperty(i)&&e.test(i)&&(t[i]=n[i]);else t=n[e]||(n[e]=[]);return t},a.flattenListeners=function(e){var t,i=[];for(t=0;t<e.length;t+=1)i.push(e[t].listener);return i},a.getListenersAsObject=function(e){var t,i=this.getListeners(e);return i instanceof Array&&((t={})[e]=i),t||i},a.addListener=function(e,t){var i,n,r;if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");for(r in n="object"==typeof t,i=this.getListenersAsObject(e))i.hasOwnProperty(r)&&-1===o(i[r],t)&&i[r].push(n?t:{listener:t,once:!1});return this},a.on=s("addListener"),a.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},a.once=s("addOnceListener"),a.defineEvent=function(e){return this.getListeners(e),this},a.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},a.removeListener=function(e,t){var i,n,r=this.getListenersAsObject(e);for(n in r)r.hasOwnProperty(n)&&-1!==(i=o(r[n],t))&&r[n].splice(i,1);return this},a.off=s("removeListener"),a.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},a.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},a.manipulateListeners=function(e,t,i){var n,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=i.length;n--;)o.call(this,t,i[n]);else for(n in t)t.hasOwnProperty(n)&&(r=t[n])&&("function"==typeof r?o.call(this,n,r):s.call(this,n,r));return this},a.removeEvent=function(e){var t,i=typeof e,n=this._getEvents();if("string"===i)delete n[e];else if(e instanceof RegExp)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},a.removeAllListeners=s("removeEvent"),a.emitEvent=function(e,t){var i,n,r,o,s=this.getListenersAsObject(e);for(o in s)if(s.hasOwnProperty(o))for(i=s[o].slice(0),r=0;r<i.length;r++)!0===(n=i[r]).once&&this.removeListener(e,n.listener),n.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},a.trigger=s("emitEvent"),a.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},a.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},a._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},a._getEvents=function(){
return this._events||(this._events={})},r.noConflict=function(){return t.EventEmitter=l,r},void 0===(n=function(){return r}.call(t,i,t,e))||(e.exports=n)}(this||{})},"4QoS":function(e,t,i){"use strict";function n(e,t,i,n){return void 0===n&&(n={}),Object(o.__awaiter)(this,void 0,void 0,function(){var s,a,l,c,u,h,d;return Object(o.__generator)(this,function(o){if(s=new FormData,void 0!==n.previews)for(a=0,l=n.previews;a<l.length;a++)c=l[a],s.append("previews[]",c);return void 0!==n.cme&&s.append("cme",String(n.cme)),void 0!==n.wl&&s.append("wl",String(n.wl)),void 0!==n.onWidget&&s.append("onWidget",String(n.onWidget)),n.isReport&&s.append("isReport",String(n.isReport)),(u=window.urlParams)&&u.locale&&s.append("language",u.locale),h=e.activeChartWidget.value(),void 0!==(d=h.widgetCustomer())&&s.append("customer",d),s.append("timezone",h.properties().timezone.value()),s.append("images",JSON.stringify(e.images())),r(s,t,i,n),[2]})})}function r(e,t,n,r){return void 0===r&&(r={}),Object(o.__awaiter)(this,void 0,void 0,function(){var c,u,h,d;return Object(o.__generator)(this,function(o){switch(o.label){case 0:c=s.enabled("charting_library_base")?r.snapshotUrl||"https://www.tradingview.com/snapshot/":"/snapshot/",o.label=1;case 1:return o.trys.push([1,4,,5]),[4,Object(l.fetch)(c,{body:e,method:"POST",credentials:"same-origin"})];case 2:return[4,(u=o.sent()).text()];case 3:if(h=o.sent(),u.ok)t(h);else{if("suspicious_chart_snapshots_error"===h)return d=window.t("Snapshot seems to contain prohibited content. Please contact {start_link}our support team{end_link} if you have received this by mistake.").format({start_link:'<a class="tv-dialog__link js-send-report-link" href="#" data-issue-type="other">',end_link:"</a>"}),r.onInvalidSnapshotImage&&r.onInvalidSnapshotImage(),[2,Object(a.createErrorDialog)({title:window.t("Your snapshot was flagged as suspicious"),content:d,btnType:"danger"}).then(function(e){e.on("afterOpen",function(){i.e("bug-dialog-creation-handler").then(function(t){(0,i("Kds2").bugDialogCreationHandler)(),e.$el.find(".js-send-report-link").click(function(){e.close()})}.bind(null,i)).catch(void 0)}),e.open()})];n()}return[3,5];case 4:return o.sent(),n(),[3,5];case 5:return[2]}})})}var o,s,a,l;i.r(t),i.d(t,"takeChartSnapshot",function(){return n}),i.d(t,"makeSnapshotRequest",function(){return r}),o=i("mrSG"),i("HbRj"),i("YFKU"),s=i("Kxc7"),a=i("Gvuy"),l=i("BHQF")},"4TVt":function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"LineToolPriceAxisView",function(){return s}),n=i("mrSG"),r=i("Eyy1"),o=i("KcY8"),s=function(e){function t(t,i){var n=e.call(this)||this;return n._active=!1,n._source=t,n._data=i,n}return Object(n.__extends)(t,e),t.prototype.setActive=function(e){this._active=e},t.prototype._updateRendererData=function(e,t,i){var n,r,o,s,a,l,c,u;e.visible=!1,
(n=this._source.model()).timeScale()&&!n.timeScale().isEmpty()&&(null===(r=this._source.priceScale())||r.isEmpty()||(n.selection().isSelected(this._source)||this._source.isForcedDrawPriceAxisLabel())&&null!==n.timeScale().visibleBarsStrictRange()&&(o=this._source.axisPoints(),s=this._data.pointIndex,o.length<=s||(a=o[s],isFinite(a.price)&&null!==(c=null!==(l=this._source.ownerSource())?l.firstValue():null)&&(u=this._active?"#1565C0":n.isDark()?"#1E88E5":"#2196F3",this._data.backgroundProperty?u=this._data.backgroundProperty.value():this._data.backgroundPropertyGetter&&(u=this._data.backgroundPropertyGetter()),i.background=u,i.borderColor="#2E84A6",i.color=this.generateTextColor(u),i.coordinate=r.priceToCoordinate(a.price,c),e.text=this._formatPrice(a.price,c),e.visible=!0))))},t.prototype._formatPrice=function(e,t){return Object(r.ensureNotNull)(this._source.priceScale()).formatPrice(e,t)},t}(o.a)},"4bfY":function(e,t,i){"use strict";function n(){a.call(this)}function r(e,t){var s,a,l;for(this._constructor="LineToolFibCircles",s=t||r.createProperties(),o.call(this,e,s),e._fibCirclesLabelsCache||(e._fibCirclesLabelsCache=new n),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("FzRY").FibCirclesPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe),a=[this._properties.child("trendline").child("linewidth")],l=1;l<=r.LevelsCount;l++)a.push(this._properties.child("level"+l).child("linewidth"));this._widthsProperty=new c(a)}var o=i("Ss5c").LineDataSource,s=i("5rJj"),a=i("xUGI"),l=i("hayr").propertyPages,c=i("ytGH").LineToolWidthsProperty,u=window.t("Fib Circles");inherit(n,a),n.prototype.levelsCount=function(){return r.LevelsCount},inherit(r,o),r.LevelsCount=11,r.prototype.levelsCount=function(){return r.LevelsCount},r.prototype.pointsCount=function(){return 2},r.prototype.translatedType=function(){return u},r.prototype.name=function(){return"Fib Circles"},r.prototype.processErase=function(e,t){var i="level"+t,n=this.properties()[i].visible;e.setProperty(n,!1,"Erase level line")},r.prototype.getStylesPropertyPage=function(){return l.LineToolFibCirclesStylesPropertyPage},r.createProperties=function(e){var t=new s("linetoolfibcircles",e,!1,{range:[1,11]});return r._configureProperties(t),t},r.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("6U6r").FibCirclesDefinitionsViewModel}.bind(null,i)).catch(i.oe)},r._configureProperties=function(e){o._configureProperties(e)},t.LineToolFibCircles=r},"4kQX":function(e,t,i){"use strict";var n,r;i.r(t),i.d(t,"TimeFormatter",function(){return r}),n=i("kcTO"),r=function(){function e(e){this._formatStr=e||"%h:%m:%s"}return e.prototype.format=function(e){
return n.customFormatters.timeFormatter?n.customFormatters.timeFormatter.format(e):this._formatStr.replace("%h",Object(n.numberToStringWithLeadingZero)(e.getUTCHours(),2)).replace("%m",Object(n.numberToStringWithLeadingZero)(e.getUTCMinutes(),2)).replace("%s",Object(n.numberToStringWithLeadingZero)(e.getUTCSeconds(),2))},e.prototype.formatLocal=function(e){return n.customFormatters.timeFormatter?n.customFormatters.timeFormatter.formatLocal?n.customFormatters.timeFormatter.formatLocal(e):n.customFormatters.timeFormatter.format(e):this._formatStr.replace("%h",Object(n.numberToStringWithLeadingZero)(e.getHours(),2)).replace("%m",Object(n.numberToStringWithLeadingZero)(e.getMinutes(),2)).replace("%s",Object(n.numberToStringWithLeadingZero)(e.getSeconds(),2))},e}()},"4miz":function(e,t,i){"use strict";var n,r;i.r(t),i.d(t,"DataWindowItem",function(){return n}),i.d(t,"DataWindowView",function(){return r}),n=function(){function e(e,t){this._visible=!0,this._title=e,this._value=t}return e.prototype.title=function(){return this._title},e.prototype.setTitle=function(e){this._title=e},e.prototype.text=function(){return this._value},e.prototype.value=function(){return this._value},e.prototype.setValue=function(e){this._value=e},e.prototype.visible=function(){return this._visible},e.prototype.setVisible=function(e){this._visible=e},e.prototype.color=function(){return this._color},e.prototype.setColor=function(e){this._color=e},e}(),r=function(){function e(){this._items=[],this._header="",this._title=""}return e.prototype.header=function(){return this._header},e.prototype.title=function(){return this._title},e.prototype.items=function(){return this._items},e.prototype.update=function(){},e}()},"4o++":function(e,t,i){"use strict";var n;i.r(t),i.d(t,"MagnetMode",function(){return n}),function(e){e[e.WeakMagnet=0]="WeakMagnet",e[e.StrongMagnet=1]="StrongMagnet"}(n||(n={}))},"4u8j":function(e,t,i){"use strict";function n(e,t){var o,s,l;for(this._constructor="LineToolGannFan",o=t||n.createProperties(),r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("ZJWf").GannFanPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe),s=[],l=1;l<=n.LevelsCount;l++)s.push(this._properties.child("level"+l).child("linewidth"));this._widthsProperty=new a(s)}var r=i("Ss5c").LineDataSource,o=i("5rJj"),s=i("hayr").propertyPages,a=i("ytGH").LineToolWidthsProperty,l=window.t("Gann Fan");inherit(n,r),n.LevelsCount=9,n.prototype.levelsCount=function(){return n.LevelsCount},n.prototype.pointsCount=function(){return 2},n.prototype.translatedType=function(){return l},n.prototype.name=function(){return"Gann Fan"},n.prototype.processErase=function(e,t){var i="level"+t,n=this.properties()[i].visible;e.setProperty(n,!1,"Erase level line")},n.prototype.getStylesPropertyPage=function(){return s.LineToolGannFanStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){
return i("ASG6").GannFanDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new o("linetoolgannfan",e,!1,{range:[1,9]});return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolGannFan=n},"5/lF":function(e,t,i){"use strict";function n(e){var t=new Image;return t.width=_,t.height=_,t.src=e,t}var r,o,s,a,l,c,u,h,d,p,f,_,m,g;i.r(t),i.d(t,"TrendLineStatsRenderer",function(){return g}),r=i("aO4+"),o=i("f6yo"),s=i("Eyy1"),a=i("qFKp"),l=i("qgcf"),c=i("VdBB"),u=i("jFln"),h=i("ogJP"),d=i("ikwP"),p=null,f={angle:{dark:n("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zLjQ5OTk5IDE1SDIuNjU3NzFMMy4wNjEwNCAxNC4yNjA2TDkuMDYxMDQgMy4yNjA1N0w5LjMwMDQ2IDIuODIxNjJMMTAuMTc4NCAzLjMwMDQ4TDkuOTM4OTMgMy43Mzk0Mkw3LjUxMzg1IDguMTg1NDJDMTAuNTYyMSA5LjY3MjA1IDEwLjk0NTEgMTIuNjI2MSAxMC45OTMxIDE0SDE0LjVIMTVWMTVIMTQuNUgzLjQ5OTk5Wk05Ljk5MTk3IDE0QzkuOTQyMzYgMTIuNzI1OSA5LjU4NjI5IDEwLjI4OCA3LjAzNDM1IDkuMDY0NDlMNC4zNDIyNiAxNEg5Ljk5MTk3WiIgZmlsbD0iI0Y4RjlGRCIvPgo8L3N2Zz4K"),light:n("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMy40OTk5OSAxNUgyLjY1NzcxTDMuMDYxMDQgMTQuMjYwNkw5LjA2MTA0IDMuMjYwNTdMOS4zMDA0NiAyLjgyMTYyTDEwLjE3ODQgMy4zMDA0OEw5LjkzODkzIDMuNzM5NDJMNy41MTM4NSA4LjE4NTQyQzEwLjU2MjEgOS42NzIwNSAxMC45NDUxIDEyLjYyNjEgMTAuOTkzMSAxNEgxNC41SDE1VjE1SDE0LjVIMy40OTk5OVpNOS45OTE5NyAxNEM5Ljk0MjM2IDEyLjcyNTkgOS41ODYyOSAxMC4yODggNy4wMzQzNSA5LjA2NDQ5TDQuMzQyMjYgMTRIOS45OTE5N1oiIGZpbGw9IiMyQTJFMzkiLz4NCjwvc3ZnPg0K")},barsRange:{dark:n("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMiAzVjMuNVY1SDFWNlYxM1YxNEgyVjE1LjVWMTZIM1YxNS41VjE0SDRWMTNWNlY1SDNWMy41VjNIMlpNOC4yMDcxMSA3LjVMNy44NTM1NSA3Ljg1MzU1TDYuNzA3MTEgOUgxMS4yOTI5TDEwLjE0NjQgNy44NTM1NUw5Ljc5Mjg5IDcuNUwxMC41IDYuNzkyODlMMTAuODUzNiA3LjE0NjQ1TDEyLjg1MzYgOS4xNDY0NUwxMy4yMDcxIDkuNUwxMi44NTM2IDkuODUzNTVMMTAuODUzNiAxMS44NTM2TDEwLjUgMTIuMjA3MUw5Ljc5Mjg5IDExLjVMMTAuMTQ2NCAxMS4xNDY0TDExLjI5MjkgMTBINi43MDcxMUw3Ljg1MzU1IDExLjE0NjRMOC4yMDcxMSAxMS41TDcuNSAxMi4yMDcxTDcuMTQ2NDUgMTEuODUzNkw1LjE0NjQ1IDkuODUzNTVMNC43OTI4OSA5LjVMNS4xNDY0NSA5LjE0NjQ1TDcuMTQ2NDUgNy4xNDY0NUw3LjUgNi43OTI4OUw4LjIwNzExIDcuNVpNMyA2SDJWMTNIM1Y2Wk0xNSAzLjVWM0gxNlYzLjVWNUgxN1Y2VjEzVjE0SDE2VjE1LjVWMTZIMTVWMTUuNVYxNEgxNFYxM1Y2VjVIMTVWMy41Wk0xNSA2SDE2VjEzSDE1VjZaIiBmaWxsPSIjRjhGOUZEIi8+DQo8L3N2Zz4NCg=="),
light:n("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMiAzVjMuNVY1SDFWNlYxM1YxNEgyVjE1LjVWMTZIM1YxNS41VjE0SDRWMTNWNlY1SDNWMy41VjNIMlpNOC4yMDcxMSA3LjVMNy44NTM1NSA3Ljg1MzU1TDYuNzA3MTEgOUgxMS4yOTI5TDEwLjE0NjQgNy44NTM1NUw5Ljc5Mjg5IDcuNUwxMC41IDYuNzkyODlMMTAuODUzNiA3LjE0NjQ1TDEyLjg1MzYgOS4xNDY0NUwxMy4yMDcxIDkuNUwxMi44NTM2IDkuODUzNTVMMTAuODUzNiAxMS44NTM2TDEwLjUgMTIuMjA3MUw5Ljc5Mjg5IDExLjVMMTAuMTQ2NCAxMS4xNDY0TDExLjI5MjkgMTBINi43MDcxMUw3Ljg1MzU1IDExLjE0NjRMOC4yMDcxMSAxMS41TDcuNSAxMi4yMDcxTDcuMTQ2NDUgMTEuODUzNkw1LjE0NjQ1IDkuODUzNTVMNC43OTI4OSA5LjVMNS4xNDY0NSA5LjE0NjQ1TDcuMTQ2NDUgNy4xNDY0NUw3LjUgNi43OTI4OUw4LjIwNzExIDcuNVpNMyA2SDJWMTNIM1Y2Wk0xNSAzLjVWM0gxNlYzLjVWNUgxN1Y2VjEzVjE0SDE2VjE1LjVWMTZIMTVWMTUuNVYxNEgxNFYxM1Y2VjVIMTVWMy41Wk0xNSA2SDE2VjEzSDE1VjZaIiBmaWxsPSIjMkEyRTM5Ii8+DQo8L3N2Zz4NCg==")},priceRange:{dark:n("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMyAySDMuNUgxMy41SDE0VjNIMTMuNUgzLjVIM1YyWk04LjUgMy43OTI4OUw4Ljg1MzU1IDQuMTQ2NDVMMTAuODUzNiA2LjE0NjQ1TDExLjIwNzEgNi41TDEwLjUgNy4yMDcxMUwxMC4xNDY0IDYuODUzNTVMOSA1LjcwNzExVjEyLjI5MjlMMTAuMTQ2NCAxMS4xNDY0TDEwLjUgMTAuNzkyOUwxMS4yMDcxIDExLjVMMTAuODUzNiAxMS44NTM2TDguODUzNTUgMTMuODUzNkw4LjUgMTQuMjA3MUw4LjE0NjQ1IDEzLjg1MzZMNi4xNDY0NSAxMS44NTM2TDUuNzkyODkgMTEuNUw2LjUgMTAuNzkyOUw2Ljg1MzU1IDExLjE0NjRMOCAxMi4yOTI5VjUuNzA3MTFMNi44NTM1NSA2Ljg1MzU1TDYuNSA3LjIwNzExTDUuNzkyODkgNi41TDYuMTQ2NDUgNi4xNDY0NUw4LjE0NjQ1IDQuMTQ2NDVMOC41IDMuNzkyODlaTTMuNSAxNkgzVjE1SDMuNUgxMy41SDE0VjE2SDEzLjVIMy41WiIgZmlsbD0iI0Y4RjlGRCIvPg0KPC9zdmc+DQo="),light:n("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMyAySDMuNUgxMy41SDE0VjNIMTMuNUgzLjVIM1YyWk04LjUgMy43OTI4OUw4Ljg1MzU1IDQuMTQ2NDVMMTAuODUzNiA2LjE0NjQ1TDExLjIwNzEgNi41TDEwLjUgNy4yMDcxMUwxMC4xNDY0IDYuODUzNTVMOSA1LjcwNzExVjEyLjI5MjlMMTAuMTQ2NCAxMS4xNDY0TDEwLjUgMTAuNzkyOUwxMS4yMDcxIDExLjVMMTAuODUzNiAxMS44NTM2TDguODUzNTUgMTMuODUzNkw4LjUgMTQuMjA3MUw4LjE0NjQ1IDEzLjg1MzZMNi4xNDY0NSAxMS44NTM2TDUuNzkyODkgMTEuNUw2LjUgMTAuNzkyOUw2Ljg1MzU1IDExLjE0NjRMOCAxMi4yOTI5VjUuNzA3MTFMNi44NTM1NSA2Ljg1MzU1TDYuNSA3LjIwNzExTDUuNzkyODkgNi41TDYuMTQ2NDUgNi4xNDY0NUw4LjE0NjQ1IDQuMTQ2NDVMOC41IDMuNzkyODlaTTMuNSAxNkgzVjE1SDMuNUgxMy41SDE0VjE2SDEzLjVIMy41WiIgZmlsbD0iIzJBMkUzOSIvPg0KPC9zdmc+DQo=")}},_=18,m=new Map,g=function(){function e(e,t,i){this._fontSize=0,this._preRendered=!1,this._boundingBox=null,this._rect=null,this._padding=null,this._textPoint=null,this._textSizeCache=t,this._data=e,this._fontSize=e.fontSize?e.fontSize:12,this._lineSpacing=Object(h.isNumber)(this._data.lineSpacing)&&this._data.lineSpacing?this._data.lineSpacing:0,
e.lines=this._lines=Object(l.wordWrap)(e.text,this.fontStyle(),e.wordWrapWidth),this._hittest=i||new c.HitTestResult(c.HitTestResult.MOVEPOINT)}return e.prototype.fontStyle=function(){return(this._data.bold?"bold ":"")+(this._data.italic?"italic ":"")+this._fontSize+"px "+this._data.font},e.prototype.draw=function(e){var t,i,n,r,o,l,c,h,d,p,f,m,g,y,v,b;if(0===this._data.points.length)return{width:0};if(this._preRender(),t=this._fontSize+this._lineSpacing,e.textBaseline="top",e.font=this.fontStyle(),i=Object(s.ensureNotNull)(this._rect),this._rect){if("right"!==this._data.horzAlign&&"center"!==this._data.horzAlign||!0!==this._data.doNotAlignText&&(e.textAlign="right"===this._data.horzAlign?"end":"center"),this._data.backgroundRoundRect?(Object(u.drawRoundRect)(e,i.x,i.y,i.w,i.h,this._data.backgroundRoundRect),e.fillStyle=this._data.backgroundColor,e.fill(),e.globalAlpha=1):(e.fillStyle=this._data.backgroundColor,e.fillRect(i.x,i.y,i.w,i.h),e.globalAlpha=1),!a.isIE&&this._data.icons)for(n=0,r=Math.ceil((_-this._fontSize)/2),o=Object(s.ensureNotNull)(this._padding),l=0,c=this._data.icons;l<c.length;l++)h=c[l],d=i.x+o.left,p=i.y+o.top+t*n-r,this._drawIcon(e,d,p,h,Boolean(this._data.isDark)),n+=1}else"right"===this._data.horzAlign?e.textAlign="end":"center"===this._data.horzAlign&&(e.textAlign="center");for(m=(f=Object(s.ensureNotNull)(this._textPoint)).x,g=f.y,e.fillStyle=this._data.color,y=0,v=this._lines;y<v.length;y++)b=v[y],e.fillText(b,m,g),g+=t;return{width:i.w+2}},e.prototype.hitTest=function(e){return 0===this._data.points.length?null:(this._preRender(),this._boundingBox&&Object(o.pointInBox)(e,this._boundingBox)?this._hittest:null)},e.prototype._preRender=function(){var e,t,i,n,o,s,l,c,u,h,f,m,g,y,v,b,S;if(!this._preRendered){if(e=function(){if(null!==p)return p;var e=Object(d.createDisconnectedCanvas)(document,new d.Size(0,0));return p=Object(d.getPrescaledContext2D)(e)}(),i=t=this._data.points[0].x+(this._data.offsetX||0),o=n=this._data.points[0].y+(this._data.offsetY||0),c=((s=this._fontSize)+(l=this._lineSpacing))*this._lines.length-l,e.textBaseline="top",e.font=this.fontStyle(),u=[],this._data.wordWrapWidth)for(h=this._data.wordWrapWidth,f=0;f<this._lines.length;f++)u.push(this._data.wordWrapWidth);else for(h=0,f=0;f<this._lines.length;f++)m=e.measureText(this._lines[f]).width,u.push(m),h=Math.max(h,m);g={top:this._data.paddingTop,right:this._data.paddingRight,bottom:this._data.paddingBottom,left:this._data.paddingLeft},y={x:Math.floor(t),y:Math.floor(n),w:Math.ceil(h+g.left+g.right),h:Math.ceil(c+g.top+g.bottom)},i+=g.left,o+=g.top,!a.isIE&&this._data.icons&&(v=void 0!==this._data.textPadding?this._data.textPadding:Math.round(s/2),i+=_+v,y.w+=_+v),"bottom"!==this._data.vertAlign&&"middle"!==this._data.vertAlign||(o+=(b="middle"===this._data.vertAlign?n-y.h/2:n-y.h-(y.y-n))-y.y,y.y=b),"right"!==this._data.horzAlign&&"center"!==this._data.horzAlign||(i+=(S="center"===this._data.horzAlign?t-y.w/2:t-y.w-(y.x-t))-y.x,y.x=S,!0!==this._data.doNotAlignText&&("right"===this._data.horzAlign?(e.textAlign="end",
i+=h):(e.textAlign="center",i+=h/2))),y.w%2!=0&&y.w++,y.x+=.5,y.y+=.5,this._boundingBox=Object(r.box)(new r.Point(y.x,y.y),new r.Point(y.x+y.w,y.y+y.h)),this._rect=y,this._padding=g,this._textPoint={x:i,y:o},this._textSizeCache&&(this._textSizeCache.widths=u),this._preRendered=!0}},e.prototype._drawIcon=function(e,t,i,n,r){var o,a,l=Math.max(1,window.devicePixelRatio||1),c=""+n+this._data.isDark+l,u=m.get(c);u||((u=document.createElement("canvas")).width=_*l,u.height=_*l,o=Object(s.ensureNotNull)(u.getContext("2d")),a=f[n][r?"dark":"light"],o.drawImage(a,0,0,_*l,_*l),m.set(c,u)),e.drawImage(u,t,i,_,_)},e}()},"55Xp":function(e,t,i){"use strict";function n(e){var t,i=e.toString(),n=i.split(".")[1],r=2;return n&&(t=n.match(/^([0]+)/))&&(r=t[1].length+1),parseFloat(i).toFixed(r)}i.r(t),i.d(t,"roundToFirstValuable",function(){return n})},"5C6T":function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"PipFormatter",function(){return o}),n=i("mrSG"),r=i("kcTO"),o=function(e){function t(t,i,n,r){var o=this;return i||(i=1),"forex"!==n&&"cfd"!==n||!r?(o=e.call(this,1)||this)._isForex=!1:(o=e.call(this,r)||this)._isForex=!0,o._pipPriceScale=t,o._pipMinMove=i,o._pipMinMove2=r,o}return Object(n.__extends)(t,e),t.prototype.format=function(t,i,n){var r=this._isForex?this._pipMinMove2:this._pipMinMove;return void 0===r&&(r=NaN),e.prototype.format.call(this,t*this._pipPriceScale/r,i,n)},t}(r.PriceFormatter)},"5VQP":function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"ContextMenuManager",function(){return o}),n=i("mrSG"),r=i("tWVy"),function(e){function t(){Object(r.b)()}var o=[];e.createMenu=function(e,r,s){return void 0===r&&(r={}),Object(n.__awaiter)(this,void 0,void 0,function(){var a,l;return Object(n.__generator)(this,function(n){switch(n.label){case 0:return[4,Promise.all([i.e(12),i.e(14),i.e(73),i.e(201),i.e(8),i.e(11),i.e("context-menu-renderer")]).then(i.bind(null,"cbq4"))];case 1:return a=n.sent(),l=new a.ContextMenuRenderer(e,r,function(){var e=o.indexOf(l);-1!==e&&o.splice(e,1),void 0!==s&&s()},t),o.push(l),[2,l]}})})},e.hideAll=t,e.getShown=function(){for(var e=0;e<o.length;e++)if(o[e].isShown())return o[e];return null}}(o||(o={}))},"5ZUI":function(e,t,i){"use strict";function n(e,t){var i=t||n.createProperties();r.call(this,e,i),this._constructor="LineToolRay"}var r=i("WPQD").LineToolTrendLine,o=i("Ocx9").DefaultProperty,s=window.t("Ray");inherit(n,r),n.prototype.translatedType=function(){return s},n.prototype.name=function(){return"Ray"},n.createProperties=function(e){var t=new o("linetoolray",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolRay=n},"5fI3":function(e,t,i){"use strict";function n(e){return"="+JSON.stringify(e)}i.r(t),i.d(t,"encodeExtendedSymbol",function(){return n})},"5mo2":function(e,t,i){"use strict";function n(e){return e>=48&&e<=57}function r(e,t){return e.compareTo(t)<0}function o(e,t){return e.compareTo(t)}function s(e,t){var i=Object(l.lowerbound)(e,t,function(e,t){return-1===e.day.compareTo(t)});return i===e.length?null:e[i]}
var a,l,c,u,h,d,p,f,_,m,g,y;i.r(t),a=i("jCNj"),l=i("Y7w9"),c=i("uOxu"),u=i("OBgQ"),h=Object(c.getLogger)("Chart.Model.SessionSpec"),d=function(){function e(){this.entries=[],this.firstDayOfWeek=a.MONDAY,this.weekEndsCount=-1}return e.prototype.parseSessions=function(t,i){var n,r,s,a,l,c,u,d,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L;if(this._clear(),this.timezone=t,"24x7"===(i=this._parseFirstDayOfWeek(i)).toLowerCase())for(n=0,r=f;n<r.length;n++)s=r[n],this.entries.push(e._createSessionEntry(s,0,0,0,0));else{for(a=!1,l=new Map,c=0,u=i.split("|");c<u.length;c++)if(1===(_=(d=u[c]).split(":")).length||2===_.length){if(m=1===_.length){if(a){h.logError("Duplicated default section: "+d);continue}a=!0}for(g=0,y=m?p:e._parseWorkingDays(_[1]);g<y.length;g++)v=y[g],m&&l.has(v)||l.set(v,_[0])}else h.logError("Bad session section: "+d);for(b=0,S=f;b<S.length;b++)if(v=S[b],void 0!==(w=l.get(v)))for(P=0,T=w.split(",");P<T.length;P++)C=T[P],this.entries.push(e._parseSessionEntry(v,C))}for(this.entries.sort(o),x=new Set,I=0,E=this.entries;I<E.length;I++)L=E[I],x.add(L.dayOfWeek());this.weekEndsCount=7-x.size},e.parseHolidaysAndCorrections=function(e,t,i){var n,r,o,s,l,c,u,h,d,p,f,m,g,y,v,b,S,w,P,T,C,x=this,I=new Map,E=new Map,L=function(e){var t=x._parseDay(e),i=t.toString(),n=E.get(i);return void 0!==n?n:(E.set(i,t),t)};if(""!==t)for(n=[],r=0,o=t.split(",");r<o.length;r++){if(8!==(s=o[r]).length)throw new Error("bad holiday date: "+s);l=L(s),I.set(l,n)}if(""===i)return I;for(c="dayoff",u=a.get_timezone("Etc/UTC"),h=0,d=i.split(";");h<d.length;h++){if(2!==(f=(p=d[h]).split(":")).length)throw new Error("bad correction section: "+p);if(m=[],f[0]!==c)for(g=0,y=f[0].split(",");g<y.length;g++)s=y[g],m.push(this._parseSessionEntry(1,s));for(v=0,b=f[1].split(",");v<b.length;v++){if(8!==(s=b[v]).length)throw new Error("bad correction date: "+s);for(l=L(s),S=a.get_day_of_week(a.get_cal(u,l.year,l.month-1,l.day)),w=[],P=0,T=m;P<T.length;P++)C=T[P],w.push(new _(S,C.startOffset(),C.length()));I.set(l,w)}}return I},e.prototype._clear=function(){this.entries=[],this.timezone="",this.firstDayOfWeek=a.MONDAY,this.weekEndsCount=-1},e.prototype._parseFirstDayOfWeek=function(e){var t,i,n=e.split(";");return n.length>2?(h.logError("Only one `first day` specification expected @ session "+e),e):1===n.length?e:(t=1,i=n[0].indexOf("-")>=0?NaN:parseInt(n[0]),isNaN(i)&&(t=0,i=parseInt(n[1])),i<a.SUNDAY||i>a.SATURDAY?(h.logError("Unexpected day index @ session: "+e+"; day index "+i),e):(this.firstDayOfWeek=i,n[t]))},e._parseDay=function(e){var t=parseInt(e.substring(0,4)),i=parseInt(e.substring(4,6)),n=parseInt(e.substring(6,8));return new u.a(t,i,n)},e._parseSessionEntry=function(t,i){var n,r,o,s,a,l,c,u=i.split("-");if(2!==u.length&&(h.logError("Bad sessions entry: "+i),u=["0000","0000"]),n=0,(r=u[0]).includes("F")&&(r=(o=r.split("F"))[0],n=""!==o[1]?parseInt(o[1]):1),s=0,(a=u[1]).includes("F")&&(a=(o=a.split("F"))[0],s=""!==o[1]?parseInt(o[1]):1),!this._isCorrectSession(r)||!this._isCorrectSession(a))throw new Error("Incorrect entry syntax: "+i);return l=r,c=a,
this._createSessionEntry(t,e._minutesFromHHMM(l),e._minutesFromHHMM(c),n,s)},e._isCorrectSession=function(e){return 4===e.length&&n(e.charCodeAt(0))&&n(e.charCodeAt(1))&&n(e.charCodeAt(2))&&n(e.charCodeAt(3))},e._parseWorkingDays=function(e){var t,i,n=[];for(t=0;t<e.length;t++)i=+e[t],-1===n.indexOf(i)&&n.push(i);return n},e._minutesFromHHMM=function(e){return a.get_minutes_from_hhmm(e)},e._createSessionEntry=function(e,t,i,n,r){return 0===i&&(i=a.minutesPerDay),n===r&&i<=t&&(n+=1),n>0&&(t-=n*a.minutesPerDay),r>0&&(i-=r*a.minutesPerDay),new _(e,t,i-t)},e}(),i.d(t,"workingDays",function(){return p}),i.d(t,"workingDaysAndWeekEnds",function(){return f}),i.d(t,"compareSessionEntries",function(){return o}),i.d(t,"SessionEntry",function(){return _}),i.d(t,"EntryIndex",function(){return m}),i.d(t,"SessionSpec",function(){return y}),p=[a.MONDAY,a.TUESDAY,a.WEDNESDAY,a.THURSDAY,a.FRIDAY],f=[a.SUNDAY,a.MONDAY,a.TUESDAY,a.WEDNESDAY,a.THURSDAY,a.FRIDAY,a.SATURDAY],_=function(){function e(e,t,i){this._dayOfWeek=e,this._start=t,this._length=i}return e.prototype.start=function(){return this._start+a.minutesPerDay*this.sessionStartDaysOffset()},e.prototype.startOffset=function(){return this._start},e.prototype.sessionStartDaysOffset=function(){return this._start>=0?0:this._start%a.minutesPerDay==0?-Math.ceil(this._start/a.minutesPerDay):-Math.floor(this._start/a.minutesPerDay)},e.prototype.isOvernight=function(){return this._start<0},e.prototype.dayOfWeek=function(){return this._dayOfWeek},e.prototype.sessionStartDayOfWeek=function(){var e=this._dayOfWeek-this.sessionStartDaysOffset();return e<a.SUNDAY&&(e+=7),e},e.prototype.length=function(){return this._length},e.prototype.weight=function(){return this._dayOfWeek*a.minutesPerDay+this._start},e.prototype.compareTo=function(e){var t=this.weight(),i=t+this._length,n=e.weight(),r=n+e._length;return t<=n&&n<i||n<=t&&t<r?0:t>n?1:-1},e.prototype.contains=function(e){var t,i=60*a.get_hours(e)+a.get_minutes(e),n=a.get_day_of_week(e),r=n-this._dayOfWeek;return r>0&&(r-=7),(t=r*a.minutesPerDay+i)>=this._start&&t<this._start+this._length},e}(),m=function(){function e(e,t,i){this.weekIndex=e,this.entryIndex=t,this.entries=i}return e.prototype.getEntry=function(){return this.entries[this.entryIndex]},e}(),g=621672192e5,y=function(){function e(e,t,i,n){var r,o,s,l=this;void 0===e&&(e="Etc/UTC"),void 0===t&&(t="0000-0000"),void 0===i&&(i=""),void 0===n&&(n=""),this._entries=[],this._firstDayOfWeek=a.MONDAY,this._entriesHash=new Map,this._holidayAndCorrectionMap=new Map,this._holidaySessions=[],(r=new d).parseSessions(e,t),this._entries=r.entries,this._timezone=r.timezone,this._firstDayOfWeek=r.firstDayOfWeek,this._weekEndsCount=r.weekEndsCount,o=d.parseHolidaysAndCorrections(e,i,n),s=a.get_timezone(e),this._isThereCorrections=""!==i||""!==n,o.forEach(function(e,t){l._holidayAndCorrectionMap.set(t.toString(),e),l._holidaySessions.push({day:t,sessions:e});var i=l.getWeekIndex(t.toCalendar(s));l._entriesHash.set(i,null)}),this._holidaySessions.sort(function(e,t){return e.day.compareTo(t.day)})}
return e.prototype.entries=function(){return this._entries},e.prototype.timezone=function(){return this._timezone},e.prototype.firstDayOfWeek=function(){return this._firstDayOfWeek},e.prototype.addSessionEntry=function(e,t,i,n,r){0===i&&(i=a.minutesPerDay),n===r&&i<=t&&(n+=1),n>0&&(t-=n*a.minutesPerDay),r>0&&(i-=r*a.minutesPerDay);var o=i-t;this._entries.push(new _(e,t,o))},e.prototype.longestSessionLength=function(){var e,t,i=0,n=0;for(e=0,t=this._holidaySessions;e<t.length;e++)t[e].sessions.forEach(function(e){i=Math.max(i,e.length())});return this._entries.forEach(function(e){n=Math.max(n,e.length())}),Math.max(i,n)},e.prototype.isWeekEnd=function(e){var t=Object(l.lowerbound)(this._entries,new _(e,0,0),function(e,t){return e.dayOfWeek()<t.dayOfWeek()});return t>this._entries.length-1||this._entries[t].dayOfWeek()!==e},e.prototype.isCalWeekEnd=function(e){var t,i,n=a.get_day_of_week(e);return this._isThereCorrections?(t=u.a.fromCalendar(e),void 0===(i=this._holidayAndCorrectionMap.get(t.toString()))?this.isWeekEnd(n):0===i.length):this.isWeekEnd(n)},e.prototype.hasWeekEnds=function(){return this.weekEndsCount()>0},e.prototype.weekEndsCount=function(){return this._weekEndsCount},e.prototype.holidaysFromYearStart=function(e){var t,i,n,r,o,s,l;if(!this._isThereCorrections)return 0;for(t=a.get_timezone(this._timezone),i=new u.a(a.get_year(e),a.JANUARY,1),n=u.a.fromCalendar(e),r=0,o=this._selectHolidays(i,n),s=0;s<o.length;s++)l=o[s].day.toCalendar(t),this.isWeekEnd(a.get_day_of_week(l))?r+=0===o[s].sessions.length?0:-1:r+=0===o[s].sessions.length?1:0;return r},e.prototype.intradayCanBeBuiltFrom24x7=function(e){return this._entries.every(function(t){return t.start()%e==0&&t.length()%e==0})},e.prototype.indexOfSession=function(e,t,i){var n,o,s,c=this._getEntriesForWeek(e),u=Object(l.lowerbound)(c,new _(t,i,0),r);if(u!==c.length)return new m(e,u,c);for(n=e,o=7-t+this._firstDayOfWeek-1,i=-(a.minutesPerDay-i+o*a.minutesPerDay);;)if(n++,0!==(s=this._getEntriesForWeek(n)).length)return u=Object(l.lowerbound)(s,new _(this._firstDayOfWeek,i,0),r),new m(n,u,s)},e.prototype.findSession=function(e,t,i,n){var r,o,s,a,l,c;if(void 0===n&&(n=0),o=(r=this.indexOfSession(e,t,i)).entries,s=r.entryIndex,0!==n)for(a=o[s].dayOfWeek(),l=n>0?1:-1;!((c=s+l)<0||c>=o.length||o[c].dayOfWeek()!==a);)s=c;return new m(r.weekIndex,s,o)},e.prototype.getWeekIndex=function(e){var t,i,n;return this._isThereCorrections?(t=a.get_day_of_week(e)-a.SUNDAY,i=a.get_timezone("Etc/UTC"),n=a.get_cal(i,a.get_year(e),a.get_month(e),a.get_day_of_month(e)-t),Math.floor((n.getTime()+g)/1e3/86400/7)):0},e.prototype.correctTradingDay=function(e){var t=a.get_day_of_week(e),i=60*a.get_hours(e)+a.get_minutes(e),n=this.getWeekIndex(e),r=this.findSession(n,t,i,0),o=r.getEntry().dayOfWeek(),s=r.weekIndex-n,l=o-t+7*s;return 0!==l&&a.add_date(e,l),e},e.prototype.alignToSessionStart=function(e,t){var i,n,r,o,s,l,c;return void 0===t&&(t=0),i=a.get_day_of_week(e),n=60*a.get_hours(e)+a.get_minutes(e),r=this.getWeekIndex(e),
0!==(l=(s=(o=this.findSession(r,i,n,t)).getEntry()).dayOfWeek()-i+7*(o.weekIndex-r))&&a.add_date(e,l),c=s.startOffset(),a.set_hms(e,c/60,c%60,0,0,a.get_timezone(this._timezone)),s.length()},e.prototype.businessDaysToCalendarDays=function(e,t){for(var i,n,r,o,s=this.getWeekIndex(e),l=a.get_day_of_week(e),c=0,u=0;u<t;){for(i=this._getEntriesForWeek(s),n=0,r=l;r<=a.SATURDAY;r++){for(c++,o=!0;n<i.length&&!(i[n].dayOfWeek()>r);)i[n].dayOfWeek()<r?n++:(o&&(o=!1,u++),n++);if(u>=t)return c}s++,l=a.SUNDAY}return c},e.prototype.calendarDaysToBusinessDays=function(e,t){for(var i,n,r,o,s=this.getWeekIndex(e),l=a.get_day_of_week(e),c=0,u=0;c<t;){for(i=this._getEntriesForWeek(s),n=0,r=l;r<=a.SATURDAY;r++){for(c++,o=!0;n<i.length&&!(i[n].dayOfWeek()>r);)i[n].dayOfWeek()<r?n++:(o&&(o=!1,u++),n++);if(c>=t)return u}s++,l=a.SUNDAY}return u},e.prototype.alignToNearestSessionStart=function(e,t){return this._alignToNearestSessionValue(e,t,this._entrySessionStart.bind(this))},e.prototype.alignToNearestSessionEnd=function(e,t){return this._alignToNearestSessionValue(e,t,this._entrySessionEnd.bind(this))},e.prototype.leftBorderOfDailyBar=function(e){var t=this._getEntriesForDay(e);return 0===t.length?null:(t.sort(o),this._getLeftEntryBorder(e,t[0]))},e.prototype.bordersOfDailyBar=function(e){var t,i,n,r,s,l=this._getEntriesForDay(e);return 0===l.length?null:(l.sort(o),t=this._getLeftEntryBorder(e,l[0]),i=l[l.length-1],n=a.clone(e),r=60*(i.startOffset()+i.length())-1,r-=3600*(s=Math.floor(r/3600)),a.set_hms(n,s,r/60,r%60,0,a.get_timezone(this._timezone)),{from:t,to:n})},e.prototype._getEntriesForWeek=function(e){var t,i,n,r,s,l,c,h,d=this._entriesHash.get(e);if(void 0===d)return this._entries;if(null!==d)return d;for(t=a.get_timezone(this._timezone),d=this._entries.slice(),i=this._weekIndexToCalendar(e),n=this._weekIndexToCalendar(e+1),r=u.a.fromCalendar(i),s=u.a.fromCalendar(n),l=function(e){var i=e.day,n=i.toCalendar(t),r=a.get_day_of_week(n);d=(d=d.filter(function(e){return e.dayOfWeek()!==r})).concat(e.sessions)},c=0,h=this._selectHolidays(r,s);c<h.length;c++)l(h[c]);return d.sort(o),this._entriesHash.set(e,d),d},e.prototype._selectHolidays=function(e,t){for(var i,n=[],r=e;;){if(null===(i=s(this._holidaySessions,r)))return n;if(!i.day.before(t))return n;n.push(i),r=i.day.addDays(1)}},e.prototype._weekIndexToCalendar=function(e){var t=1e3*(86400*e*7+86400)-g,i=a.get_cal_from_unix_timestamp_ms(a.get_timezone("Etc/UTC"),t),n=a.get_timezone("Etc/UTC");return a.get_cal(n,a.get_year(i),a.get_month(i),a.get_day_of_month(i))},e.prototype._alignToNearestSessionValue=function(e,t,i){var n,r,o,s=a.get_day_of_week(e),l=60*a.get_hours(e)+a.get_minutes(e),c=this.getWeekIndex(e),u=this.findSession(c,s,l);if(u.getEntry().contains(e)&&c===u.weekIndex||1===t)return i(u,a.clone(e),t);if((n=u.entryIndex-1)<0){for(r=u.weekIndex,o=u.entries;n<0;)r--,n+=(o=this._getEntriesForWeek(r)).length;u=new m(r,n,o)}else u=new m(u.weekIndex,n,u.entries);return i(u,a.clone(e),t)},e.prototype._entrySessionStart=function(e,t,i){
return this._entrySessionValue(e,t,i,function(e){return 60*e.start()})},e.prototype._entrySessionEnd=function(e,t,i){return this._entrySessionValue(e,t,i,function(e){return 60*(e.start()+e.length())-1})},e.prototype._entrySessionValue=function(e,t,i,n){var r,o,s,l=a.get_day_of_week(t),c=e.getEntry(),u=c.dayOfWeek()-c.sessionStartDaysOffset(),h=this.getWeekIndex(t),d=e.weekIndex-h,p=!1;return u<a.SUNDAY&&(d<=0?p=!0:d--,u+=7),(d>0&&i>=0||d<0&&i<0)&&a.add_date(t,7*d),c.contains(t)||(r=u-l,p&&i<0&&(r=-(7-u+l)),a.add_date(t,r),l=a.get_day_of_week(t)),c.isOvernight()&&l===c.dayOfWeek()&&a.add_date(t,-c.sessionStartDaysOffset()),o=n(c),o-=3600*(s=Math.floor(o/3600)),a.set_hms(t,s,o/60,o%60,0,a.get_timezone(this._timezone)),t},e.prototype._getEntriesForDay=function(e){var t=a.get_day_of_week(e),i=this._getEntriesForWeek(this.getWeekIndex(e));return i.filter(function(e){return e.dayOfWeek()===t})},e.prototype._getLeftEntryBorder=function(e,t){var i=a.clone(e),n=t.startOffset();return a.set_hms(i,n/60,n%60,0,0,a.get_timezone(this._timezone)),i},e}()},"5rJj":function(e,t,i){"use strict";(function(t){function n(e,t,i,n){this._map=Object.assign({},this._map,n),t&&(t=this.unpackLevels(t)),o.call(this,e,t,i),this.updateCollectibleProperty()}var r=i("ogJP").isSameType,o=i("Ocx9").DefaultProperty,s=i("vADo");inherit(n,o),n.prototype.state=function(e,i){(e=e||[]).push("__collectibleLines");var n=t.prototype.state.call(this,e);return i?n:this.packLevels(n)},n.prototype.clone=function(){var e,t,i=this.state();for(this.__collectibleLines&&(i.__collectibleLines=this.__collectibleLines.state()),e=new n(this._defaultName,i),t=0;t<this._exclusions.length;++t)e.addExclusion(this._exclusions[t]);return e},n.prototype.merge=function(e,i){var n=t.prototype.merge.call(this,this.unpackLevels(e),i);return this.updateCollectibleProperty(),n},n.prototype._map={prefixes:[""],range:[0,0],names:["coeff","color","visible","linestyle","linewidth"],typecheck:{pack:Object,unpack:Array}},n.prototype._packLvlTpl=function(){return[]},n.prototype._unpackLvlTpl=function(){return{}},n.prototype._packLvlFill=function(e,t,i,n){return n.push(i[t]),n},n.prototype._unpackLvlFill=function(e,t,i,n){return n[t]=i[e],n},n.prototype._iterateLevels=function(e,t){var i,n,o,s,a;for(i in this._map.prefixes)for(n=(this._map.prefixes[i]||"")+"level",o=this._map.range[0];o<=this._map.range[1];o++)if(e[n+o]&&r(e[n+o],t.typecheck())){for(a in s=t.tpl(),this._map.names)s=t.fill(a,this._map.names[a],e[n+o],s);e[n+o]=s}return e},n.prototype.packLevels=function(e){return this._iterateLevels(e,{tpl:this._packLvlTpl,fill:this._packLvlFill,typecheck:this._map.typecheck.pack})},n.prototype.unpackLevels=function(e){return this._iterateLevels(e,{tpl:this._unpackLvlTpl,fill:this._unpackLvlFill,typecheck:this._map.typecheck.unpack})},n.prototype.saveDefaults=function(){TradingView.saveDefaults(this._defaultName,this.state(this._exclusions,!0))},n.prototype.updateCollectibleProperty=function(){var e,t;this.__collectibleLines&&(e=this,t=[],this.__collectibleLines._childs.forEach(function(i){
var n,r=e.__collectibleLines[i].value(),o=r.split("."),s=e[o[0]];for(n=1;n<o.length&&s;++n)s=s[o[n]];s&&t.push({property:s.color,defaultValue:s.color.value()})}),this.collectibleColors?this.collectibleColors.reloadProperties(t):this.collectibleColors=new s(t))},e.exports=n}).call(this,i("tc+8"))},"5u5W":function(e,t,i){},"5vwb":function(e,t,i){"use strict";function n(e,t){var i,n,r;for(i=0,n=e.points;i<n.length;i++){if((r=n[i]).index>=t.length)return null;if(t[r.index]===s.INVALID_TIME_POINT_INDEX)return null}return{points:e.points.map(function(e){return{index:t[e.index],offset:e.offset,level:e.level}})}}function r(e,t,i){return{id:t,points:e.points.map(function(e){return Object(o.__assign)(Object(o.__assign)({},e),{index:Object(a.ensureTimePointIndexIndex)(i.indexOf(e.index))})})}}var o,s,a;i.d(t,"b",function(){return n}),i.d(t,"a",function(){return r}),o=i("mrSG"),s=i("tqok"),a=i("hsV8")},"68at":function(e,t,i){"use strict";function n(){a.call(this)}function r(e,t){this._constructor="LineToolProjection";var n=t||r.createProperties();l.call(this,e,n),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("jlk4").ProjectionLinePaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var o=i("5rJj"),s=i("9QkW").LineToolFibWedge,a=i("xUGI"),l=i("Ss5c").LineDataSource,c=i("hayr").propertyPages,u=window.t("Projection");inherit(n,a),n.prototype.levelsCount=function(){return 1},inherit(r,s),r.prototype.translatedType=function(){return u},r.prototype.name=function(){return"Projection"},r.prototype.hasEditableCoordinates=function(){return!1},r.prototype.getCache=function(){return this._model._projectionLabelsCache||(this._model._projectionLabelsCache=new n),this._model._projectionLabelsCache},r.prototype.getStylesPropertyPage=function(){return c.LineToolProjectionStylesPropertyPage},r.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("LzAw").ProjectionDefinitionsViewModel}.bind(null,i)).catch(i.oe)},r.createProperties=function(e){var t=new o("linetoolprojection",e,!1,{range:[1,1]});return r._configureProperties(t),t},r._configureProperties=function(e){s._configureProperties(e)},t.LineToolProjection=r},"69Qn":function(e,t,i){"use strict";var n,r,o,s;i.r(t),n=i("mrSG"),r=3e3,o=function(){function e(){var e=this;this._retries=5,this._cache=null,this._tryLoad=function(t){e._retries=e._retries-1;e._startLoading().then(t,0!==e._retries?function(){return setTimeout(function(){return e._tryLoad(t)},r)}:void 0)}}return e.prototype.load=function(){return this._cache||(this._cache=new Promise(this._tryLoad)),this._cache},e}(),i.d(t,"HammerJSLoader",function(){return s}),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype._startLoading=function(){return Promise.all([i.e(168),i.e("hammerjs")]).then(i.bind(null,"be1f")).then(function(e){return e.HammerJS})},t}(o)},"6Fc/":function(e,t,i){"use strict"
;function n(e){return Math.round(e/4)}function r(e){return o(e)}function o(e){return Math.round(e/2)}var s,a,l,c,u,h;i.r(t),i.d(t,"PaneRendererArrowsUpDownItem",function(){return u}),i.d(t,"calculateVerticalOffset",function(){return n}),i.d(t,"calculateMinHeight",function(){return r}),i.d(t,"PaneRendererArrowsUpDown",function(){return h}),s=i("mrSG"),a=i("aO4+"),l=i("VdBB"),c=i("Hr11"),u=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.height=n,o.isUp=r,o}return Object(s.__extends)(t,e),t}(a.Point),h=function(){function e(e){this._data=e}return e.prototype.draw=function(e,t){var i,r,s,a,l,u,h,d,p=t.pixelRatio,f=this._data,_=o(f.barSpacing),m=n(f.barSpacing),g=_<4,y=Math.max(_/2,1),v=Object(c.ceiledEven)(_*p),b=v/2,S=Math.round(_*p);for(e.lineCap="butt",e.lineWidth=Math.max(1,Math.floor(p)),i=e.lineWidth%2?.5:0,r=0,s=f.items;r<s.length;r++)l=(a=s[r]).isUp?-1:1,u=Math.round(Math.abs(a.height)*p),h=Math.round(a.x*p)+i,d=Math.round((a.y-l*m)*p)+i,e.beginPath(),e.translate(h,d),g?(e.moveTo(0,0),e.lineTo(-b,-b*l),e.moveTo(0,0),e.lineTo(b,-b*l),e.moveTo(0,0),e.lineTo(0,-u*l),e.moveTo(-b,-u*l),e.lineTo(b,-u*l),e.lineWidth=y,e.strokeStyle=a.isUp?f.colorup:f.colordown,e.stroke()):(e.moveTo(0,0),u<S?(e.lineTo(v,-u*l),e.lineTo(-v,-u*l)):(e.lineTo(v,-S*l),e.lineTo(b,-S*l),e.lineTo(b,-u*l),e.lineTo(-b,-u*l),e.lineTo(-b,-S*l),e.lineTo(-v,-S*l)),e.lineTo(0,0),e.strokeStyle=a.isUp?f.colorBorderUp:f.colorBorderDown,e.stroke(),e.fillStyle=a.isUp?f.colorup:f.colordown,e.fill()),e.translate(-h,-d)},e.prototype.hitTest=function(e){var t,i,r,s,a,c,u,h,d,p,f=this._data,_=o(f.barSpacing),m=Math.round(_/2),g=Math.round(_),y=n(f.barSpacing);for(t=0,i=f.items;t<i.length;t++)if((r=i[t])&&Number.isFinite(r.x)&&Number.isFinite(r.y)&&(s=Math.abs(r.height),a=r.isUp?-1:1,c=s+g,h=(u=r.y-a*y)-a*c,d=r.x-m,p=r.x+m,d<e.x&&e.x<p&&(r.isUp?u<e.y&&e.y<h:h<e.y&&e.y<u)))return new l.HitTestResult(l.HitTestResult.REGULAR);return null},e}()},"6Kf3":function(e,t,i){"use strict";var n,r,o,s,a,l;i.r(t),i.d(t,"colorsPalette",function(){return l}),n=i("W3MX"),r=i("Eyy1"),o={},s=Object.keys(n).length,a=/^#[0-9A-F]{6}$/i,Object.keys(n).forEach(function(e){var t=function e(t,i){var r,o;return void 0===i&&(i=[]),(r=n[t])?a.test(r)?r:(o=r,i.push(t),-1!==i.indexOf(o)?(console.warn("Colors definitions cycled"),r):i.length>s?(console.warn("Too many variables-link in HEX-color search: "+i[0]),null):e(o,i)):null}(e);o[e]=Object(r.ensureNotNull)(t)}),l=o},"6Y0w":function(e,t,i){"use strict";function n(e,t){if(e.time>=t.length)return null;var i=t[e.time];return i===s.INVALID_TIME_POINT_INDEX?null:{time:i,price:e.price}}function r(e,t,i){var n=Object(a.ensureTimePointIndexIndex)(i.indexOf(e.time));return Object(o.__assign)(Object(o.__assign)({id:t},e),{time:n})}var o,s,a,l;i.d(t,"b",function(){return n}),i.d(t,"a",function(){return r}),o=i("mrSG"),s=i("tqok"),a=i("hsV8"),function(e){e.Circle="circle",e.ArrowUp="arrowUp",e.ArrowDown="arrowDown",e.ArrowRight="arrowRight",e.ArrowLeft="arrowLeft",e.Square="square"}(l||(l={}))},"6ctS":function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor" transform="translate(3 6)"><path d="M.964 8C3 4 6.679.5 11 .5 15.32.5 19 4 21.036 8 19 12 15.32 15.5 11 15.5 6.679 15.5 3 12 .964 8z"/><circle cx="11" cy="8" r="3.5"/></g></svg>'},"6et/":function(e,t,i){"use strict";function n(e){for(var t=0;t<d.length;t++)if(d[t].name===e)return t;return-1}function r(e){if(!p)for(var t=d.length-1;t>=0&&!0!==d[t].func(e);t--);}function o(e){e.addEventListener("keypress",r,!1)}function s(e,t){var i={name:e,func:t},r=n(i.name);r>-1?d[r]=i:d.push(i)}function a(e){d.forEach(function(t,i){t.name===e&&d.splice(i,1)})}function l(e,t){var i={name:e,func:t},r=n(i.name);r>-1&&d.splice(r,1),d.unshift(i)}function c(){return p?null:p=Object(h.randomHashN)(4)}function u(e){if(e!==p)throw Error("Lock id is outdated");p=null}var h,d,p;i.r(t),i.d(t,"listen",function(){return o}),i.d(t,"registerListener",function(){return s}),i.d(t,"removeListener",function(){return a}),i.d(t,"pushBackListener",function(){return l}),i.d(t,"disable",function(){return c}),i.d(t,"enable",function(){return u}),h=i("0waE"),d=[],p=null,o(window)},"6ptY":function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"PaneRendererSquare",function(){return o}),n=i("mrSG"),r=i("2WC2"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype._drawItemShape=function(e,t,i){var n,r,o,s,a,l,c=t.pixelRatio,u=Math.max(1,Math.floor(c))%2?.5:0,h=this._lineWidth(t),d=h%2?.5:0,p=Math.round(i.height/2*c);(u+p)%1!=d%1&&(p+=.5),o=(n=Math.round(i.x*c)+u)-p,s=(r=Math.round((i.y+i.vertOffset)*c)+u)-p,a=n+p,l=r+p,e.rect(o,s,a-o,l-s)},t}(r.a)},"6sst":function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"OverlayStudyPriceLineAxisView",function(){return o}),n=i("mrSG"),r=i("TmNs"),o=function(e){function t(t){var i=e.call(this)||this;return i._study=t,i}return Object(n.__extends)(t,e),t.prototype._value=function(){return this._study.lastValueData("",!0)},t.prototype._priceLineColor=function(e){return e},t.prototype._lineWidth=function(){return 1},t.prototype._isVisible=function(){var e=this._study.model().properties().scalesProperties,t=e.showSeriesLastValue.value();return this._study.properties().childs().showPriceLine.value()&&t},t}(r.PriceLineAxisView)},"6xeX":function(e,t,i){"use strict";function n(e){return"string"==typeof e&&0!==e.trim().length}function r(e,t){var i,n,r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.hasOwnProperty("text")?(i=s&&(0,c.forceLTRStr)(e.text)||e.text,e.hasOwnProperty("color")&&o?((n=document.createElement("span")).style.cssText="color: "+e.color,h.html(n,i),t.appendChild(n)):h.html(t,i)):(r=s&&(0,c.forceLTRStr)(e)||e,h.html(t,r)),t}function o(e,t){var i,n;Array.isArray(e)&&2===e.length?((i=document.createElement("dl")).appendChild(r(e[0],document.createElement("dt"))),i.appendChild(r(e[1],document.createElement("dd"),!0,!0)),
t.appendChild(i)):e.hasOwnProperty("br")&&e.br?t.appendChild(document.createElement("br")):((n=document.createElement("dl")).appendChild(r(e,document.createElement("dt"))),t.appendChild(n),e.hasOwnProperty("listItem")&&n.classList.add("list-item"))}function s(e,t){var i,n=(0,c.forceLTRStr)(e.text);e.attr=e.attr||{},i=document.createElement("a"),h.attr(i,"href",e.href),h.addClass(i,e.class),h.attr(i,e.attr.name,e.attr.value),h.html(i,n),t.appendChild(i)}function a(e,t){var i,n,r,a,l,u,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("string"==typeof e)i=(0,c.forceLTRStr)(e),n=document.createElement("h2"),h.html(n,i),t.appendChild(n);else if(e.hasOwnProperty("lines"))for(r=0;r<e.lines.length;r++)(a=e.lines[r]).hasOwnProperty("line")?0===r?a.line.isEmpty||(l=document.createElement("h2"),void 0!==a.options&&Boolean(a.options.noWrap)&&(l.style.whiteSpace="nowrap"),h.html(l,a.line),t.appendChild(l)):o(a.line,t):a.hasOwnProperty("link")&&s(a.link,t);else e.hasOwnProperty("indicator")&&(u=document.createElement("h2"),h.html(u,e.indicator),t.appendChild(u)),e.hasOwnProperty("timestamp")&&((f=document.createElement("dl")).classList.add("tv-chart-events-tooltip-date"),_=document.createElement("dd"),h.html(_,function(e,t){var i=new Date(e+t),n=d.dateFormatProperty.value(),r=new p.DateTimeFormatter({dateFormat:n,timeFormat:"%h:%m",dateTimeSeparator:"   "});return r.format(i)}(e.timestamp,E)||"—"),f.appendChild(_),t.appendChild(f)),(m=document.createElement("table")).classList.add("tv-chart-events-table"),g=document.createElement("tr"),y=document.createElement("tr"),m.appendChild(g),m.appendChild(y),(v=document.createElement("th")).textContent=window.t("Actual"),g.appendChild(v),(b=document.createElement("th")).textContent=window.t("Forecast"),g.appendChild(b),(S=document.createElement("th")).textContent=window.t("Previous"),g.appendChild(S),w=document.createElement("td"),P=e.actual&&(0,c.forceLTRStr)(e.actual),h.html(w,P||"—"),y.appendChild(w),T=document.createElement("td"),C=e.forecast&&(0,c.forceLTRStr)(e.forecast),h.html(T,C||"—"),y.appendChild(T),x=document.createElement("td"),I=e.previous&&(0,c.forceLTRStr)(e.previous),h.html(x,I||"—"),y.appendChild(x),t.appendChild(m)}var l,c,u,h,d,p;Object.defineProperty(t,"__esModule",{value:!0}),t.Tooltip=void 0,l=function(){function e(e,t){var i,n;for(i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),i("oWyD"),c=i("Ialn"),u=i("ULlu"),h=function(e){var t,i;if(e&&e.__esModule)return e;if(t={},null!=e)for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(u),d=i("ZZnO"),p=i("MbIA"),t.Tooltip=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.direction,n=void 0===i?"top":i,r=t.clickable,o=void 0!==r&&r,s=t.width;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),
this._direction=n,this._tooltipShown=!1,this._tooltipX=void 0,this._tooltipY=void 0,this._tooltipItems=null,this._width=void 0!==s?s:200,this._tooltip=document.createElement("div"),this._tooltip.classList.add("tv-chart-events-source__tooltip"),this._tooltip.style.position="absolute",this._tooltip.style.width=this._width+"px",this._tooltipContent=document.createElement("div"),this._tooltipContent.classList.add("tv-chart-events-source__tooltip__content"),this._tooltip.appendChild(this._tooltipContent),o&&this._tooltip.classList.add("tv-chart-events-source__tooltip--clickable")}return l(e,[{key:"show",value:function(){var e,t,i,r,o,s,l,c,u,d,p,f,_,m,g,y,v,b,S,w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},P=w.items,T=void 0===P?[]:P,C=w.x,x=void 0===C?0:C,I=w.y,E=void 0===I?0:I,L=w.wrapElement,A=void 0===L?null:L,O=w.timeOffset,M=void 0===O?"":O,k=w.leftBorderColor,D=void 0===k?null:k;if(A&&!function(e){var t,i,r,o,s;if(!e||0===e.length)return!0;for(t=0;t<e.length;t++){if(n(e[t])||e[t].id||n(e[t].title))return!1;if(e[t].lines)for(r=(i=e[t].lines).length,o=0;o<r;o++)if(n(s=i[o])||n(s.line))return!1}return!0}(T)){if(e=h.contentWidth(A),t=h.contentHeight(A),i=!1,r=!1,this._tooltipShown||(A.appendChild(this._tooltip),this._tooltipShown=!0,i=!0,r=!0),x===this._tooltipX&&E===this._tooltipY||(i=!0),i&&(o=Math.max(Math.min(x-this._width/2,e-this._width-10),0),this._tooltip.style.left=Math.round(o)+"px",this._tooltip.style.bottom=Math.round(t-E+10)+"px"),this._tooltipItems||(r=!0),!r)for(s=T.length;s--;)if(this._tooltipItems[s]!==T[s]){r=!0;break}if(r){if(l=void 0,T.length<=1)l=T;else{for(c={},u=T.length;u--;)null==(d=T[u].importance)&&(d=-1),c[d]||(c[d]=[]),c[d].push(T[u]);if((p=Object.keys(c).sort(function(e,t){return e-t})).length<=1)l=c[p[0]];else for(l=[],f=p.length;f--;)for(m=(_=c[p[f]]).length;m--;)l.push(_[m])}for(this._tooltipContent.innerHTML="",g=l.length;g--;)v="",(y=l[g]).hasOwnProperty("importance")?("string"==typeof y.importance&&("earnings"===y.importance?v="--importance-earnings":"splits"===y.importance?v="--importance-splits":"dividends"===y.importance?v="--importance-dividends":"list"===y.importance&&(v="--importance-list")),0===y.importance?v="--importance-normal":y.importance>0&&(v="--importance-high")):D||(v="--importance-none"),b="tv-chart-events-source__tooltip__item",v&&(b+=" "+b+v),S=document.createElement("div"),h.attr(S,"class",b),D&&(S.style.borderLeftColor=D),a(y,S,M),this._tooltipContent.appendChild(S);this._tooltipItems=T}"bottom"===this._direction&&(this._tooltip.style.bottom=Math.round(t-E-h.contentHeight(this._tooltipContent)+10)+"px")}}},{key:"hide",value:function(){this._tooltipShown&&(this._tooltip.parentElement&&this._tooltip.parentElement.removeChild(this._tooltip),this._tooltipShown=!1)}},{key:"isOpened",value:function(){return this._tooltipShown}},{key:"getElem",value:function(){return this._tooltip}}]),e}()},"704P":function(e,t,i){"use strict";(function(e){function n(e,t){this._pane=e,this._timeScale=t}function r(e){this._line=e}function o(e,t){this._adapter=new r(this),
this._constructor="LineToolExecution";var n=t||o.createProperties();this.customization={forcePriceAxisLabel:!1,disableSelection:!0,disableErasing:!0},s.call(this,e,n),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("tjxb").ExecutionPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var s=i("Ss5c").LineDataSource,a=i("jkoZ"),l=i("Ocx9").DefaultProperty,c=i("k9/m").PlotRowSearchMode,u=i("s1Gx").sortSourcesPreOrdered,h=u.LineToolExecution;n.prototype._cachedByBarIndexOrderedExecutions={},n.recreateOrderedByBarsSourcesCache=function(e){var t,i,r,o,s;for(n.clearOrderedByBarsSourcesCache(),t=n.prototype,i=e.orderedSources(),r=0;r<i.length;++r)(o=i[r])._adapter&&void 0!==o._adapter._index&&(s=t._cachedByBarIndexOrderedExecutions[o._adapter._index],t._cachedByBarIndexOrderedExecutions[o._adapter._index]=s||[],t._cachedByBarIndexOrderedExecutions[o._adapter._index].push(o))},n.clearOrderedByBarsSourcesCache=function(){n.prototype._cachedByBarIndexOrderedExecutions={}},n.prototype.getXYCoordinate=function(e,t,i){var n,r,s,a,l,u,h,d,p,f,_=0,m=e.getDirection(),g="buy"===m,y=this._pane.model().mainSeries();if(y.bars&&(n=g?10:-10,null!==(r=y.bars().search(i,c.NearestLeft))&&(i=r.index,s=g?r.value[TradingView.LOW_PLOT]:r.value[TradingView.HIGH_PLOT],a=y.priceScale(),l=y.firstValue(),_=a.priceToCoordinate(s,l)+n)),e._index=i,u=t.visibleBarsStrictRange(),!isFinite(i)||null===u||i>u.lastBar()||i<u.firstBar())return{x:-1,y:-1};for(d=(h=this._cachedByBarIndexOrderedExecutions[i]||this._pane.orderedSources()).length-1;d>=0;--d)if((p=h[d])instanceof o&&p._adapter._index===i&&p._adapter.getDirection()===m){if(p===e._line)break;f=p._adapter._height(),_=g?_+f:_-f}return{x:t.indexToCoordinate(i),y:_}},r.prototype._height=function(){var e=this.getArrowHeight(),t=this.getArrowSpacing(),i=0;return this.getText()&&a.fontHeight(this.getFont()),e+t+i+10},r.prototype.getIndex=function(){var e=this._line._model.timeScale(),t=e.baseIndex(),i=this._line.points()[0].index;return t-i},r.prototype.setIndex=function(e){var t,i=this._line._model.timeScale(),n=i.baseIndex(),r=n-Math.abs(e);return this._line.startMoving({logical:this._line.points()[0]}),(t=TradingView.merge({},this._line.points()[0])).index=r,this._line.move({logical:t}),this._line.endMoving(),this},r.prototype.getTime=function(){return this._unixtime},r.prototype.setTime=function(e){var t=this._line._model.mainSeries();return this._unixtime=ChartApiInstance.alignTimePoint?ChartApiInstance.alignTimePoint(e,t.interval(),t.symbolInfo()):e,this._line.restorePoints([{offset:0,price:this.getPrice(),time_t:this._unixtime}],[]),this._line.createServerPoints(),this},r.prototype.getPrice=function(){return this._line.points().length>0?this._line.points()[0].price:this._line._timePoint.length>0?this._line._timePoint[0].price:void 0},r.prototype.setPrice=function(e){return this._line.points().length>0&&(this._line.points()[0].price=e),this._line._timePoint.length>0&&(this._line._timePoint[0].price=e),this},r.prototype.getText=function(){
return this._line.properties().text.value()},r.prototype.setText=function(e){return this._line.properties().text.setValue(e||""),this._line.updateAllViewsAndRedraw(),this},r.prototype.getArrowHeight=function(){return this._line.properties().arrowHeight.value()},r.prototype.setArrowHeight=function(e){return this._line.properties().arrowHeight.setValue(e||5),this},r.prototype.getArrowSpacing=function(){return this._line.properties().arrowSpacing.value()},r.prototype.setArrowSpacing=function(e){return this._line.properties().arrowSpacing.setValue(e||1),this},r.prototype.getDirection=function(){return this._line.properties().direction.value()},r.prototype.setDirection=function(e){return this._line.properties().direction.setValue(e||"buy"),this},r.prototype.getArrowColor=function(){var e=this._line.properties();return"buy"===this.getDirection()?e.arrowBuyColor.value():e.arrowSellColor.value()},r.prototype.setArrowColor=function(e){return"buy"===this.getDirection()?this.setArrowBuyColor(e):this.setArrowSellColor(e),this},r.prototype.setArrowBuyColor=function(e){return this._line.properties().arrowBuyColor.setValue(e),this},r.prototype.setArrowSellColor=function(e){return this._line.properties().arrowSellColor.setValue(e),this},r.prototype.getTextColor=function(){return a.getColorFromProperties(this._line.properties().textColor,this._line.properties().textTransparency)},r.prototype.setTextColor=function(e){return a.setColorToProperties(e,this._line.properties().textColor,this._line.properties().textTransparency),this},r.prototype.getFont=function(){return a.getFontFromProperties(this._line.properties().fontFamily,this._line.properties().fontSize,this._line.properties().fontBold,this._line.properties().fontItalic)},r.prototype.setFont=function(e){return a.setFontToProperties(e,this._line.properties().fontFamily,this._line.properties().fontSize,this._line.properties().fontBold,this._line.properties().fontItalic),this},r.prototype.setTooltip=function(e){return null==e?e="":e+="",this._line.properties().tooltip.setValue(e),this},r.prototype.getTooltip=function(){return this._line.properties().tooltip.value()},r.prototype.remove=function(){this._line._model.removeSource(this._line),delete this._line},inherit(o,s),o.prototype.zorder=function(){return h},o.POINTS_COUNT=1,o.prototype.pointsCount=function(){return o.POINTS_COUNT},o.prototype.translatedType=function(){return"Execution"},o.prototype.name=function(){return"Execution"},o.prototype.hasContextMenu=function(){return!1},o.prototype.state=function(){return null},o.prototype.updateAllViews=function(){return this._isVisible()?s.prototype.updateAllViews.call(this):null},o.prototype.priceAxisViews=function(e,t){return this._isVisible()?s.prototype.priceAxisViews.call(this,e,t):null},o.prototype._isVisible=function(){var e=this._model.properties().tradingProperties.showExecutions.value();return e=e&&!this._model.isInReplay()},o.prototype.paneViews=function(){
return TradingView.printing&&!e.enabled("snapshot_trading_drawings")?null:this._model.properties().tradingProperties.showExecutions.value()?s.prototype.paneViews.call(this):null},o.prototype.userEditEnabled=function(){return!1},o.prototype.showInObjectTree=function(){return!1},o.prototype.getInputsPropertyPage=function(){return null},o.prototype.cloneable=function(){return!1},o.prototype.copiable=function(){return!1},o.createProperties=function(e){var t=new l("linetoolexecution",e,!1,!1);return o._configureProperties(t),t},o._configureProperties=function(e){s._configureProperties(e)},t.ExecutionsPositionController=n,t.LineToolExecution=o}).call(this,i("Kxc7"))},"7Fue":function(e,t,i){"use strict";function n(e){return!s.some(function(t){return e[t]().size>0})}function r(e){var t=new Map;return e.forEach(function(e,i){e.forEach(function(e){var n=Object(o.__assign)(Object(o.__assign)({},e),{styleId:i}),r=e.firstBarTime,s=t.get(r);void 0===s&&(s=new Set,t.set(r,s)),s.add(n)})}),t}var o,s;i.d(t,"a",function(){return n}),i.d(t,"b",function(){return r}),o=i("mrSG"),s=["horizlines","vertlines","lines","hlines","textmarks","shapemarks","backgrounds","polygons","trendchannels","hhists","dwglabels","dwglines"]},"7G8O":function(e,t,i){"use strict";function n(e){var t=new u(e);return Object(c.b)(l.a,t),function(){Object(c.d)(l.a)}}var r,o,s,a,l,c,u;i.r(t),i.d(t,"SettingsSymbolList",function(){return u}),i.d(t,"registerSettingsSymbolListBackend",function(){return n}),r=i("mrSG"),o=i("YFKU"),s=i("0waE"),a=i("Vdly"),l=i("pA52"),c=i("ObRt"),u=function(){function e(e){if(void 0===e&&(e=[]),this._lists={},a.onSync.subscribe(this,this._updateLists),this._updateLists(),0===Object.keys(this._lists).length){var t=this._createList({title:this._pickTitle(),symbols:Object(r.__spreadArrays)(e)});this.setActive(t.id)}}return e.prototype.destroy=function(){a.onSync.unsubscribeAll(this)},e.prototype.getAllWatchLists=function(){return this.getCustomWatchLists()},e.prototype.getCustomWatchLists=function(){var e,t=this;return this._updateLists(),e=[],Object.keys(this._lists).forEach(function(i){var n=t._getList(i);n&&e.push(t._toSymbolList(n))}),Promise.resolve(e)},e.prototype.getSymbols=function(e){var t=this._getList(e.id);return null===t?Promise.resolve([]):Promise.resolve(t.symbols)},e.prototype.createWatchList=function(e){var t=this._createList({title:e.title||this._pickTitle(),symbols:e.symbols||[]});return Promise.resolve(this._toSymbolList(t))},e.prototype.removeWatchList=function(e){var t=e.id;return a.remove("savedwatch."+t,{forceFlush:!0}),delete this._lists[t],Promise.resolve()},e.prototype.renameWatchList=function(e,t){return this._updateLists(),e.title=t,this.saveList(e),Promise.resolve(t)},e.prototype.replaceSymbols=function(e,t){var i=this._getList(e.id);return null===i?Promise.resolve():(i.symbols=Object(r.__spreadArrays)(t),this.saveList(i),Promise.resolve())},e.prototype.addSymbols=function(e,t){var i,n=this._getList(e.id);return null===n?Promise.resolve([]):((i=n.symbols).push.apply(i,t),this.saveList(n),
Promise.resolve(Object(r.__spreadArrays)(n.symbols)))},e.prototype.removeSymbols=function(e,t){var i=this._getList(e.id);return null===i?Promise.resolve([]):(i.symbols=i.symbols.filter(function(e){return!t.includes(e)}),this.saveList(i),Promise.resolve(Object(r.__spreadArrays)(i.symbols)))},e.prototype.setActive=function(e){return a.setValue("ACTIVE_WACTHLIST_ID",e),Promise.resolve()},e.prototype.getActive=function(){var e=this._getActive();return Promise.resolve(this._toSymbolList(e))},e.prototype.saveList=function(e){var t={symbols:e.symbols,title:String(e.title)};a.setJSON("savedwatch."+e.id,t,{forceFlush:!0}),this._lists[e.id]=t},e.prototype._createList=function(e){var t={id:Object(s.randomHash)(),symbols:e.symbols,title:e.title};return this.saveList(t),t},e.prototype._getList=function(e){if(this._updateLists(),this._lists.hasOwnProperty(e)){var t=this._lists[e];return{id:e,symbols:t.symbols.slice(),title:t.title}}return null},e.prototype._toSymbolList=function(e){return{type:"custom",id:e.id,title:e.title,symbols:e.symbols,color:null,isHotlist:!1}},e.prototype._updateLists=function(){var e=this;this._lists={},a.keys().forEach(function(t){var i,n,r=/^savedwatch\.(.*)$/.exec(t);r&&(i=r[1],(n=a.getJSON(t,null))&&(n.symbols||(n.symbols=[]),e._lists[i]=n))})},e.prototype._getActive=function(){var e=a.getValue("ACTIVE_WACTHLIST_ID"),t=Object.entries(this._lists)[0],i=t[0],n=t[1],o=Object(r.__assign)({id:i},n);return void 0!==e&&this._getList(e)||o},e.prototype._pickTitle=function(){var e,t,i,n=this;for(this._updateLists(),e=Object.keys(this._lists).map(function(e){return n._lists[e].title}),t=1;;t++)if(i=Object(o.t)("Watchlist")+(t>1?" ("+t+")":""),-1===e.indexOf(i))return i},e}()},"7KDR":function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h;i.r(t),i.d(t,"Action",function(){return c}),i.d(t,"ActionAsync",function(){return u}),i.d(t,"Separator",function(){return h}),n=i("mrSG"),r=i("zRdu"),o=i("aIyQ"),s=i.n(o),a=i("/3z9"),l=i("0waE"),u=function(e){function t(t,i){var n=e.call(this,{},i)||this;return n.type=r.a.ActionAsync,n._loader=t,n._loaded=!1,n}return Object(n.__extends)(t,e),t.prototype.loadOptions=function(){var e=this;return this._loadingPromise?this._loadingPromise:(this._loadingPromise=this._loader().then(function(t){e.update(t),e._loaded=!0}),this._loadingPromise)},t.prototype.isLoaded=function(){return this._loaded},t}(c=function(){function e(e,t){void 0===t&&(t=l.guid()),this.type=r.a.Action,this._destroyed=!1,this._binding=null,this.id=t,this._onUpdate=new s.a,this._options=e,this.update(e)}return e.prototype.execute=function(){this._options.checkable&&this.update({checked:!this._options.checked}),this._options.onExecute&&this._options.onExecute(this)},e.prototype.getLabel=function(){return this._options.label||""},e.prototype.getSubItems=function(){return this._options.subItems||[]},e.prototype.isDisabled=function(){return!0===this._options.disabled},e.prototype.isActive=function(){return!0===this._options.active},e.prototype.isCheckable=function(){return!0===this._options.checkable},
e.prototype.isChecked=function(){return!0===this._options.checked},e.prototype.getPayload=function(){return this._options.payload},e.prototype.update=function(e){this._destroyed||(this._unbindShortcut(),e.hotkeyHash&&(this._options.shortcutHint=Object(a.humanReadableHash)(e.hotkeyHash)),this._options=Object.assign(this._options,e),this._bindShortcut(),this._onUpdate.fire(this))},e.prototype.onUpdate=function(){return this._onUpdate},e.prototype.getState=function(){return{label:this.getLabel(),disabled:this.isDisabled(),active:this.isActive(),subItems:this.getSubItems(),checkable:this.isCheckable(),checked:this.isChecked(),doNotCloseOnClick:this._options.doNotCloseOnClick||!1,shortcutHint:this._options.shortcutHint,hint:this._options.hint,icon:this._options.icon,iconChecked:this._options.iconChecked,toolbox:this._options.toolbox,showToolboxOnHover:this._options.showToolboxOnHover||!1,statName:this._options.statName,name:this._options.name}},e.prototype.getBinding=function(){return this._binding},e.prototype.setBinding=function(e){this._binding=e},e.prototype.destroy=function(){this._destroyed=!0,this._onUpdate.destroy(),null!==this._binding&&this._binding.destroy(),this._unbindShortcut()},e.prototype._bindShortcut=function(){var e,t=this;this._options.hotkeyGroup&&this._options.hotkeyHash&&(e="string"==typeof this._options.label?this._options.label:this._options.name,this._hotkeyAction=this._options.hotkeyGroup.add({hotkey:this._options.hotkeyHash,desc:e,handler:function(){return t.execute()},isDisabled:function(){return t.isDisabled()}}))},e.prototype._unbindShortcut=function(){this._hotkeyAction&&(this._hotkeyAction.destroy(),delete this._hotkeyAction)},e}()),h=function(){function e(e,t){void 0===t&&(t=l.guid()),this.type=r.a.Separator,this.id=t,this._hint=e}return e.prototype.getHint=function(){return this._hint},e}()},"7MZv":function(e,t,i){"use strict";var n,r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.showTooManyStudiesNotice=function(e){"number"!=typeof e&&(e=TradingView.STUDY_COUNT_LIMIT,e=(0,n.getConfig)(r.ProductFeatures.STUDY_ON_STUDY).limit),(0,o.showNoticeDialog)({title:window.t("Warning"),content:window.t("Studies limit exceeded: {0} studies per layout.\nPlease, remove some studies.").format(e)})},n=i("NP3r"),r=i("bKsZ"),o=i("brCa")},"7ktv":function(e,t,i){"use strict";var n,r,o,s,a;i.r(t),i.d(t,"PriceDataSource",function(){return a}),n=i("mrSG"),r=i("fgLi"),o=i("aIyQ"),s=i.n(o),a=function(e){function t(t){var i=e.call(this)||this;return i._formatterChanged=new s.a,i._priceStepChanged=new s.a,i._metaInfo=null,i._priceStep=null,i._model=t,i}return Object(n.__extends)(t,e),t.prototype.firstValue=function(){return null},t.prototype.barColorer=function(){return null},t.prototype.base=function(){return 0},t.prototype.model=function(){return this._model},t.prototype.priceRange=function(e,t){return null},t.prototype.isDraggable=function(){return!this._metaInfo||!this._metaInfo.linkedToSeries},t.prototype.priceLineColor=function(e){return e},t.prototype.formatterChanged=function(){
return this._formatterChanged},t.prototype.priceStep=function(e){return this._priceStep},t.prototype.priceStepChanged=function(){return this._priceStepChanged},t.prototype.autoScaleInfo=function(e,t){return{range:this.priceRange(e,t)}},t.prototype.hasStateForAlert=function(){return!1},t}(r.DataSource)},"7nsU":function(e,t,i){"use strict";function n(e,t,n,r,o){void 0===o&&(o="default"),Promise.all([i.e("vendors_embed"),i.e(2),i.e(4),i.e(9),i.e(10),i.e(12),i.e(20),i.e(21),i.e(25),i.e(33),i.e(38),i.e(75),i.e(82),i.e(155),i.e(292),i.e(11),i.e(17),i.e(18),i.e(40),i.e(53),i.e(77),i.e(135),i.e("new-confirm-inputs-dialog")]).then(i.bind(null,"iqv3")).then(function(i){var s=new i.ConfirmInputsDialogRenderer(function(e){if("symbol"===e)return window.t("Add Symbol");return window.t("Confirm Inputs")}(o),e,t,o,n,r);return s.show(),s})}i.r(t),i.d(t,"showConfirmInputsDialog",function(){return n});i("YFKU")},"7qI1":function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolRectangle";var o=t||n.createProperties();r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("GW0y").RectanglePaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=window.t("Rectangle");inherit(n,r),n.prototype.pointsCount=function(){return 2},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Rectangle"},n.prototype.setPoint=function(e,t,i){var n,o,s;e<2?r.prototype.setPoint.call(this,e,t,i):(i&&i.shift()&&this._properties.snapTo45Degrees&&(n=this.points()[0],o=this.points()[1],s={price:2===e?n.price:o.price,index:2===e?o.index:n.index},this._snapPoint45Degree(t,s)),3===e?(this._points[0].price=t.price,this._points[1].index=t.index):(this._points[1].price=t.price,this._points[0].index=t.index),this.normalizePoints())},n.prototype.getStylesPropertyPage=function(){return s.LineToolRectangleStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("Zd1D").GeneralFiguresDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new o("linetoolrectangle",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolRectangle=n},"7qT/":function(e,t,i){"use strict";function n(e,t){return 100*(t-e)/Math.abs(e)}i.d(t,"a",function(){return n})},"8C8C":function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"RestoreFactoryDefaultsUndoCommand",function(){return o}),n=i("mrSG"),r=i("RDU5"),o=function(e){function t(t,i,n){void 0===n&&(n="Restore Defaults");var r=e.call(this,n)||this;return r._chartModel=t,r._defaultProperty=i,r._state=i.state(),r}return Object(n.__extends)(t,e),t.prototype.redo=function(){this._chartModel.restoreFactoryDefaults(this._defaultProperty)},t.prototype.undo=function(){this._defaultProperty.mergeAndFire(this._state),
this._chartModel.mainSeries().onChartStyleChanged()},t}(r.UndoCommand)},"8OdW":function(e,t,i){"use strict";var n,r,o,s,a,l,c;i.r(t),i.d(t,"MINUTE_SPAN",function(){return n}),i.d(t,"HOUR_SPAN",function(){return r}),i.d(t,"DAY_SPAN",function(){return o}),i.d(t,"WEEK_SPAN",function(){return s}),i.d(t,"MONTH_SPAN",function(){return a}),i.d(t,"YEAR_SPAN",function(){return l}),i.d(t,"DEFAULT_BAR_SPACING",function(){return c}),n=20,r=30,o=40,s=50,a=60,l=70,c=6},"8Uy/":function(e,t,i){"use strict";var n,r,o,s,a,l;i.r(t),i.d(t,"LINESTYLE_SOLID",function(){return n}),i.d(t,"LINESTYLE_DOTTED",function(){return r}),i.d(t,"LINESTYLE_DASHED",function(){return o}),i.d(t,"LINESTYLE_LARGE_DASHED",function(){return s}),i.d(t,"LINESTYLE_SPARSE_DOTTED",function(){return a}),i.d(t,"LINESTYLE_SMALL_DASHED",function(){return l}),n=0,r=1,o=2,s=3,a=4,l=5},"8aff":function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"CompareStudyPriceAxisView",function(){return s}),n=i("mrSG"),r=i("oXaB"),o=i("KcY8"),s=function(e){function t(t,i){var n=e.call(this)||this;return n._studyCompare=t,n._data=i,n}return Object(n.__extends)(t,e),t.prototype._updateRendererData=function(e,t,i){var n,o;e.visible=!1,t.visible=!1,(n=this._studyCompare.lastValueData(this._data.plotIndex,!1)).noData||(i.background=n.color,i.color=this.generateTextColor(n.color),i.coordinate=n.coordinate,i.floatCoordinate=n.floatCoordinate,(o=this._studyCompare.model().properties().scalesProperties).showSeriesLastValue.value()&&(e.text=this._axisText(n),e.visible=!0),t.text="",(o.showSymbolLabels.value()||o.seriesLastValueMode.value()===r.PriceAxisLastValueMode.LastPriceAndPercentageValue)&&(t.text=this._paneText(n),t.visible=t.text.length>0))},t.prototype._paneText=function(e){var t,i="",n=this._studyCompare.model().properties().scalesProperties;return n.showSymbolLabels.value()&&(i+=this._studyCompare.symbol()+" "),null!==(t=this._studyCompare.priceScale())&&n.showSeriesLastValue.value()&&n.seriesLastValueMode.value()===r.PriceAxisLastValueMode.LastPriceAndPercentageValue&&(i+=t.isPercentage()?e.formattedPriceAbsolute:e.formattedPricePercentage),i.trim()},t.prototype._axisText=function(e){var t=this._studyCompare.model().properties().scalesProperties,i=this._studyCompare.priceScale();return t.seriesLastValueMode.value()!==r.PriceAxisLastValueMode.LastPriceAndPercentageValue||null===i?e.text:i.isPercentage()?e.formattedPricePercentage:e.formattedPriceAbsolute},t}(o.a)},"8pII":function(e){
e.exports=JSON.parse('{"content":{"chartProperties":{"scalesProperties":{"textColor":"#D9D9D9","lineColor":"#787878","backgroundColor":"#ffffff"},"paneProperties":{"gridProperties":{"color":"#363c4e"},"background":"#131722"}},"sessions":{"graphics":{"backgrounds":{"outOfSession":{"color":"#2196f3","transparency":92}},"vertlines":{"sessBreaks":{"color":"#4985e7","style":2,"width":1}}}},"mainSourceProperties":{"baseLineColor":"#5d606b","candleStyle":{"borderColor":"#378658","upColor":"#26a69a","wickColor":"#B5B5B8","wickUpColor":"#26a69a","wickDownColor":"#ef5350","downColor":"#ef5350","borderUpColor":"#26a69a","borderDownColor":"#ef5350"},"haStyle":{"borderColor":"#378658","upColor":"#26a69a","wickColor":"#B5B5B8","wickUpColor":"#26a69a","wickDownColor":"#ef5350","downColor":"#ef5350","borderUpColor":"#26a69a","borderDownColor":"#ef5350"},"barStyle":{"downColor":"#ef5350","upColor":"#26a69a"},"pnfStyle":{"downColor":"#ef5350","upColor":"#26a69a","upColorProjection":"#336854","downColorProjection":"#7f323f"},"baselineStyle":{"baselineColor":"rgba( 117, 134, 150, 1)","topFillColor1":"rgba( 38, 166, 154, 0.28)","topFillColor2":"rgba( 38, 166, 154, 0.05)","bottomFillColor1":"rgba( 239, 83, 80, 0.05)","bottomFillColor2":"rgba( 239, 83, 80, 0.28)","topLineColor":"rgba( 38, 166, 154, 1)","bottomLineColor":"rgba( 239, 83, 80, 1)"},"areaStyle":{"transparency":100,"color1":"rgba(33, 150, 243, 0.28)","color2":"#2196f3","linecolor":"#2196f3","linewidth":2,"linestyle":0},"renkoStyle":{"upColor":"#26a69a","downColor":"#ef5350","borderUpColor":"#26a69a","borderDownColor":"#ef5350","upColorProjection":"#336854","downColorProjection":"#7f323f","borderUpColorProjection":"#336854","borderDownColorProjection":"#7f323f","wickUpColor":"#26a69a","wickDownColor":"#ef5350"},"lineStyle":{"color":"#2196f3","linewidth":2,"linestyle":0},"kagiStyle":{"downColor":"#ef5350","upColor":"#26a69a","upColorProjection":"#336854","downColorProjection":"#7f323f"},"pbStyle":{"upColor":"#26a69a","downColor":"#ef5350","borderUpColor":"#26a69a","borderDownColor":"#ef5350","upColorProjection":"#336854","downColorProjection":"#7f323f","borderUpColorProjection":"#336854","borderDownColorProjection":"#7f323f"},"rangeStyle":{"upColor":"#26a69a","downColor":"#ef5350","upColorProjection":"#336854","downColorProjection":"#7f323f"}}}}')},"8qoI":function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"StudyLegendView",function(){return o}),n=i("mrSG"),r=i("it7y"),o=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._showStudyValues=i.properties().paneProperties.legendProperties.showStudyValues,n._showStudyValues.subscribe(n,n.update),n}return Object(n.__extends)(t,e),t.prototype.isValuesVisible=function(){return this._showStudyValues.value()},t.prototype.additional=function(){return null},t.prototype.destroy=function(){this._showStudyValues.unsubscribeAll(this)},t.prototype._updateImpl=function(){var t,i,n,r;for(e.prototype._updateImpl.call(this),t=this._showStudyValues.value(),i=0,n=this._items;i<n.length;i++)(r=n[i]).setVisible(r.visible()&&t)},t
}(r.StudyDataWindowView)},"8sOK":function(e,t,i){"use strict";var n,r,o,s,a,l,c,u;i.r(t),i.d(t,"StudyStub",function(){return u}),n=i("mrSG"),r=i("2kV1"),o=i("7ktv"),s=i("kcTO"),a=i("tc+8"),l=i.n(a),c=100,u=function(e){function t(t,i,n){var o,a=e.call(this,t)||this;return a._priceStep=1/c,a._status=window.t("compiling..."),a._formatter=new s.PriceFormatter(c),a._failed=!1,a._loading=!0,a._origState=i,a._title=n,o={visible:!0},a._properties=new l.a(o),a._statusView=new r.StudyStatusView(a,a._model.properties().scalesProperties.textColor),a._statusView.setText(a._title+" "+a._status),a}return Object(n.__extends)(t,e),t.prototype.properties=function(){return this._properties},t.prototype.statusView=function(){return this._statusView},t.prototype.legendView=function(){return null},t.prototype.state=function(e){return this._origState},t.prototype.setStatus=function(e){this._status=e,this._statusView.setText(this._title+" "+this._status)},t.prototype.formatter=function(){return this._formatter},t.prototype.title=function(){return this._title},t.prototype.titleInParts=function(){return[this._title,void 0]},t.prototype.isFailed=function(){return this._failed},t.prototype.isLoading=function(){return this._loading},t.prototype.setFailed=function(e){this._failed=e,this._failed&&(this._loading=!1)},t.prototype.start=function(){},t.prototype.status=function(){return this._status},t.prototype.firstValue=function(){return null},t.prototype.currency=function(){return null},t}(o.PriceDataSource)},"8woN":function(e,t,i){"use strict";(function(t){var i=[{d:"E-Mini S&P 500",t:"ES"},{d:"E-Mini Nasdaq 100",t:"NQ"},{d:"Gold",t:"GC"},{d:"Silver",t:"SI"},{d:"Crude Oil WTI",t:"CL"},{d:"Natural Gas",t:"NG"},{d:"Australian Dollar",t:"6A"},{d:"Australian Dollar (Floor)",t:"AD"},{d:"Euro FX",t:"6E"},{d:"Euro FX (Floor)",t:"EC"},{d:"Corn",t:"ZC"},{d:"Corn (Floor)",t:"C"},{d:"Eurodollar",t:"GE"},{d:"Eurodollar (Floor)",t:"ED"}],n=function(){function e(e,t){var i=function(){};return i.prototype=t.prototype,e.prototype=new i,e}function n(){}function r(e){this.value=e}function o(){}function s(){}function a(){}function l(){}function c(){}function u(){}function h(){}function d(){}function p(e){this.value=e}function f(e){this.value=e}function _(e){this.value=e}function m(){p.apply(this,arguments)}function g(){f.apply(this,arguments)}function y(e,t){var i,n,o,s,a,l,c,u,h=[];e:for(;i=I.exec(e);){for(n=E.length;n--;)if(i[n+1]){E[n].ctor&&((o=new E[n].ctor(i[n+1]))._offset=i.index,h.push(o));continue e}(s=new _(i[0]))._offset=i.index,h.push(s)}if(t&&t.recover)for(n=h.length;n--;)(l=h[n])instanceof f||l instanceof p?(void 0!==a&&(c=new p(""),u=h.splice(n,a-n+1,c),c.value=u.map(function(e){return e.value}).join("")),a=n):l instanceof r||(a=void 0);return h}function v(e){var t,i=[];for(t=0;t<e.length;t++)e[t]instanceof r||i.push(e[t]);return i}function b(e){var t,i,n,r,l,c,u;for(e=v(e),t=[],i=[],r=0;r<e.length;r++)(l=e[r])instanceof a?i.length&&i[i.length-1].minPrecedence>l.precedence&&(i[i.length-1].minPrecedence=l.precedence):l instanceof o?i.push(n={
minPrecedence:1/0,openBraceIndex:r}):l instanceof s&&(c=e[(n=i.pop()).openBraceIndex-1],(u=e[r+1])instanceof a&&!(u.precedence<=n.minPrecedence)||!(!(c instanceof a)||c.precedence<n.minPrecedence||c.precedence===n.minPrecedence&&c.commutative)||(t.unshift(n.openBraceIndex),t.push(r),i.length&&i[i.length-1].minPrecedence>n.minPrecedence&&(i[i.length-1].minPrecedence=n.minPrecedence)));for(r=t.length;r--;)e.splice(t[r],1);return e}function S(e){if("string"!=typeof e)throw new TypeError("expression must be a string");return(e=y(e)).filter(function(e){return e instanceof p}).map(function(e){return e.exchange()}).filter(function(e){return e})}function w(e){return 1!==(e=S(e)).length?null:e[0]}function P(e,t){return(e=S(e)).some(function(e){return t.includes((e||"").toUpperCase())})}function T(e){return e.join("")}var C,x,I,E=[{pattern:"(",ctor:o},{pattern:")",ctor:s},{pattern:"+",ctor:l},{pattern:"-",ctor:c},{pattern:"*",ctor:u},{pattern:"/",ctor:h},{pattern:"^",ctor:d},{pattern:/\d+(?:\.\d*|(?![a-zA-Z0-9_!:\.&]))|\.\d+/,ctor:f},{pattern:/\./,ctor:g},{pattern:t.enabled("charting_library_base")?/[a-zA-Z0-9_\u0370-\u1FFF_\u2E80-\uFFFF^][a-zA-Z0-9_\u0020\u0370-\u1FFF_\u2E80-\uFFFF_!:\.&]*|'.+?'/:/[a-zA-Z0-9_\u0370-\u1FFF_\u2E80-\uFFFF][a-zA-Z0-9_\u0020\u0370-\u1FFF_\u2E80-\uFFFF_!|:\.&]*|'.+?'/,ctor:p},{pattern:/'[^']*/,ctor:m},{pattern:/[\0-\x20\s]+/,ctor:r}];return n.prototype.toString=function(){return this.value},e(r,n),e(o,n),o.prototype.value="(",e(s,n),s.prototype.value=")",e(a,n),e(l,a),l.prototype.value="+",l.prototype.precedence=0,l.prototype.commutative=!0,e(c,a),c.prototype.value="-",c.prototype.precedence=0,c.prototype.commutative=!1,e(u,a),u.prototype.value="*",u.prototype.precedence=1,u.prototype.commutative=!0,e(h,a),h.prototype.value="/",h.prototype.precedence=1,h.prototype.commutative=!1,e(d,a),d.prototype.value="^",d.prototype.precedence=2,d.prototype.commutative=!1,C=/^'?(?:([A-Z0-9_]+):)?(.*?)'?$/i,x=/[\+\-\/\*]/,e(p,n),p.prototype.toString=function(){if(this.hasOwnProperty("_ticker")){var e=x.test(this._ticker)?"'":"";return e+(this._exchange?this._exchange+":":"")+this._ticker+e}return this.value},p.prototype.parse=function(){var e=C.exec(this.value);e[1]&&(this._exchange=e[1]),this._ticker=e[2]},p.prototype.parseAsFutures=function(){var e,t,n;for(this.hasOwnProperty("_ticker")||this.parse(),e=function(e){return i.some(function(t){return t.t===e})},t=2;t>=1;--t)if(e(n=this._ticker.slice(0,t))){this._root=n,this._contract=this._ticker.slice(t);break}},p.prototype.exchange=function(e){if(this.hasOwnProperty("_ticker")||this.parse(),!(arguments.length>0))return this._exchange;null===e||void 0===e?delete this._exchange:this._exchange=e+""},p.prototype.ticker=function(e){if(this.hasOwnProperty("_ticker")||this.parse(),!(arguments.length>0))return this._ticker;null===e||void 0===e?delete this._ticker:this._ticker=e+"",delete this._root,delete this._contract},p.prototype.root=function(e){if(this.hasOwnProperty("_root")||this.parseAsFutures(),!(arguments.length>0))return this._root
;null===e||void 0===e?delete this._root:(this._root=e+"",this._root&&(this._ticker=this._root+(this._contract||"")))},p.prototype.contract=function(e){if(this.hasOwnProperty("_contract")||this.parseAsFutures(),!(arguments.length>0))return this._root;null===e||void 0===e?delete this._contract:(this._contract=e+"",this._root&&(this._ticker=this._root+this._contract))},e(f,n),f.prototype.toString=function(){return this.hasOwnProperty("_normalizedValue")?this._normalizedValue:this.value},f.prototype.parse=function(){this._normalizedValue=this.value.replace(/^0+|\.0*$/g,"").replace(/(\.\d*?)0+$/,"$1").replace(/^(\.|$)/,"0$1")},_.prototype.toString=function(){return this.value},e(m,p),m.prototype.isIncomplete=!0,m.prototype.incompleteSuggest=function(){if("'"!==this.value)return String("'")},e(g,f),g.prototype.isIncomplete=!0,I=new RegExp(E.map(function(e){return"("+("string"==typeof e.pattern?e.pattern.replace(/[\^\$\(\)\[\]\{\}\*\+\?\|\\]/g,"\\$&"):e.pattern.source)+")"}).concat(".").join("|"),"g"),{tokenize:y,validate:function(e){var i,n,l,c,u,h,d,m,g;if(t.enabled("charting_library_base"))return{currentState:"var"};for(n="var",l="operator",c=i="init",u={warnings:[],errors:[],isEmpty:!0},h=[],d=0;d<e.length;d++)if(!((m=e[d])instanceof r))if(delete u.isEmpty,m.isIncomplete&&(g={status:"incomplete",reason:"incomplete_token",offset:m._offset,token:m},m.incompleteSuggest&&(g.recover={append:m.incompleteSuggest()}),u.warnings.push(g),d!==e.length-1))g.status="error";else if(m instanceof p||m instanceof f){if(c===n){u.errors.push({status:"error",reason:"unexpected_token",offset:m._offset,token:m});continue}c=n}else if(m instanceof a){if(c!==n){u.errors.push({status:"error",reason:"unexpected_token",offset:m._offset,token:m});continue}c=l}else if(m instanceof o){if(c===n){u.errors.push({status:"error",reason:"unexpected_token",offset:m._offset,token:m});continue}h.push(m),c=i}else if(m instanceof s){if(c!==n){u.errors.push({status:"error",reason:"unexpected_token",offset:m._offset,token:m});continue}h.pop()||u.errors.push({status:"error",reason:"unbalanced_brace",offset:m._offset,token:m,recover:{prepend:new o}}),c=n}else m instanceof _&&u.errors.push({status:"error",reason:"unparsed_entity",offset:m._offset,token:m});for(u.braceBalance=h.length,c!==n&&u.warnings.push({status:"incomplete"});h.length;)g={status:"incomplete",reason:"unbalanced_brace",offset:(m=h.pop())._offset,token:m},c===n&&(g.recover={append:new s}),u.warnings.push(g);return u.currentState=c,0===u.warnings.length&&delete u.warnings,0===u.errors.length&&delete u.errors,u},factorOutBraces:b,normalizeTokens:function(e){for(var t=0;t<e.length;t++)e[t].parse&&e[t].parse();return e},flip:function(e){var t=function(e){var t,i,n,l,c,u,d,p,_;for(i=1,n=2,l=3,c=t=0,u=0,p=0;p<e.length;p++)if(!((_=e[p])instanceof r))switch(c){case t:if(!(_ instanceof f&&1==+_.value))return!1;c=i;break;case i:if(!(c===i&&_ instanceof h))return!1;c=n,d=p+1;break;case n:if(_ instanceof o)c=l,u=1;else if(_ instanceof a)return!1;break;case l:_ instanceof o?u++:_ instanceof s&&--u<=0&&(c=n)}
return e.slice(d)}(e);return b(t||[new f("1"),new h,new o].concat(e).concat(new s))},hasBatsSymbols:function(e){return P(e,["BATS"])},hasEodSymbols:function(e){return(e=w(e))&&-1!==e.toUpperCase().indexOf("_EOD")},hasChxjpySymbols:function(e){return P(e,["CHXJPY"])},hasFreeDelaySymbols:function(e){return P(e,pro.getProductsByType(pro.PRODUCT_TYPES.exchange).map(function(e){return e.exchange.toUpperCase()+"_DLY"}))},getExchange:w,isExchange:function(e,t){return!!(e=w(e))&&e.substr(0,t.length)===t},SymbolToken:p,IncompleteSymbolToken:m,NumberToken:f,BinaryOperatorToken:a,OpenBraceToken:o,CloseBraceToken:s,ticker:function(e){return new p(e).ticker()},shortName:function(e){if("string"!=typeof e)throw new TypeError("expression must be a string");var t=b(v(y(e)));return t.forEach(function(e){e instanceof p&&e.exchange(null)}),T(t)},normalize:function(e){if("string"!=typeof e)throw new TypeError("expression must be a string");return T(b(v(y(e))))}}}();e.exports=n}).call(this,i("Kxc7"))},"8xAY":function(e,t,i){"use strict";var n;i.r(t),i.d(t,"LabelSettings",function(){return n}),function(e){e.offset=8,e.fontSize=12,e.lineSpacing=16,e.rectRadius=4,e.bgColorLight="rgba(227,242,253,0.9)",e.bgColorDark="rgba(67,70,81,0.9)",e.textColorLight="#2A2E39",e.textColorDark="#F8F9FD",e.textPadding=10,e.paddingTopBottom=13,e.paddingLeftRight=10}(n||(n={}))},"8xSi":function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"CompareStatusView",function(){return o}),n=i("mrSG"),r=i("2kV1"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.getSplitTitle=function(){return this._source.isFailed()?[this._source.title(!0,void 0,!1,!1)+": "+this._source.status(),void 0]:this._source.titleInParts(!0,void 0,!1,!1)},t.prototype.update=function(){this._source.isFailed()?this._text=this._source.title(!0,void 0,!1,!1)+": "+this._source.status():this._text=this._source.title(!0,void 0,!1,!1)+" "+this._source.status()},t}(r.StudyStatusView)},"972a":function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"MarkLocation",function(){return n}),i.d(t,"HAlign",function(){return r}),i.d(t,"VAlign",function(){return o}),i.d(t,"LineStyle",function(){return s}),function(e){e.AboveBar="AboveBar",e.BelowBar="BelowBar",e.Top="Top",e.Bottom="Bottom",e.Right="Right",e.Left="Left",e.Absolute="Absolute",e.AbsoluteUp="AbsoluteUp",e.AbsoluteDown="AbsoluteDown"}(n||(n={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(r||(r={})),function(e){e.Top="top",e.Middle="middle",e.Bottom="bottom"}(o||(o={})),function(e){e[e.Solid=0]="Solid",e[e.Dotted=1]="Dotted",e[e.Dashed=2]="Dashed"}(s||(s={}))},"9Jkk":function(e,t,i){"use strict";function n(e){return null!==e&&void 0!==e}var r,o,s,a,l,c,u,h,d,p,f,_,m,g,y;i.r(t),r=i("mrSG"),o=i("Eyy1"),s=i("XlJ7"),a=i("x0JF"),l=i("Y7w9"),c=i("Zp/P"),u=i("VdBB"),h=i("cPgM"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._data=null,t._barWidth=null,t}return Object(r.__extends)(t,e),t.prototype.setData=function(e){this._data=e,
this._barWidth=Math.max(1,Math.round(Object(c.optimalHiLoWidth)(e.barSpacing)))},t.prototype.hitTest=function(e){var t,i,n,r,o,s,a;return null===this._data||null===this._barWidth?null:(t=this._data.bars,i=.5*this._data.barSpacing,0===t.length?null:e.x<t[0].time-i?null:e.x>t[t.length-1].time+i?null:(n=t[Object(l.lowerbound)(t,e.x-i,function(e,t){return e.time<t})],e.x<n.time-i||e.x>n.time+i?null:(r=Object(c.selectionTolerance)(this._barWidth),o=Math.min(n.high,n.low),s=Math.max(n.high,n.low),o-r-(a=this._data.fontSize)<=e.y&&e.y<=o+r?new u.HitTestResult(u.HitTestResult.REGULAR):s-r<=e.y&&e.y<=s+r+a?new u.HitTestResult(u.HitTestResult.REGULAR):null)))},t.prototype._drawImpl=function(e){var t,i,n,r,o,a;if(null!==this._data&&null!==this._barWidth){for(e.save(),e.translate(.5,.5),e.textAlign="center",e.fillStyle=this._data.labelColor,e.font=Object(s.makeFont)(this._data.fontSize,this._data.font),t=this._data.bars,i=this._data.inverted,n=0;n<t.length;++n)r=t[n],o=Math.min(r.high,r.low),a=Math.max(r.high,r.low),e.fillText(i?r.lowLabel:r.highLabel,r.time,o-this._data.labelsPadding),e.fillText(i?r.highLabel:r.lowLabel,r.time,a+this._data.labelsPadding+this._data.fontSize);e.restore()}},t}(h.ScaledPaneRenderer),p=i("/hKg"),f=i("Zy3/"),_=i("vq8G"),m=i("u+0B"),g=i("zDbI"),i.d(t,"SeriesHiLoPaneView",function(){return y}),y=function(e){function t(t,i){var n,r=e.call(this,t,i)||this;return r._widthsCache=new m.TextWidthCache,r._labelsRenderer=new d,r._candlesRenderer=new p.PaneRendererCandles,r._canvas=document.createElement("canvas"),r._context=Object(o.ensureNotNull)(r._canvas.getContext("2d")),n=t.properties(),r._context.font=Object(s.makeFont)(n.hiloStyle.fontSize.value(),g.CHART_FONT_FAMILY),r}return Object(r.__extends)(t,e),t.prototype.renderer=function(e,t,i){var n,r,o,s,a,l,u;return this._invalidated&&(n=this._series().formatter(),r=this._needLabels(),this._updateImpl(this._barUpdater.bind(this,n,r)),this._invalidated=!1),o=this._series().properties().hiloStyle,s=this._model().timeScale().barSpacing(),a=this._needLabels()&&this._bars().every(function(e){return e.highLabelWidth<=s&&e.lowLabelWidth<=s}),l={bars:this._bars(),wickVisible:!1,bodyVisible:o.drawBody.value(),barSpacing:s,borderVisible:o.showBorders.value(),barWidth:Object(c.optimalHiLoWidth)(s),font:g.CHART_FONT_FAMILY,fontSize:o.fontSize.value(),labelColor:o.labelColor.value(),inverted:this._series().priceScale().isInverted(),labelsPadding:3},u=new f.CompositeRenderer,this._candlesRenderer.setData(l),u.append(this._candlesRenderer),a&&(this._labelsRenderer.setData(l),u.append(this._labelsRenderer)),this._model().selection().isSelected(this._series())&&this._isMarkersEnabled&&u.append(new _.SelectionRenderer(this._selectionData)),u},t.prototype.topPixelMargin=function(){return this._margin()},t.prototype.bottomPixelMargin=function(){return this._margin()},t.prototype._margin=function(){var e=this._series().properties().hiloStyle;return e.showLabels.value()?e.fontSize.value()+6:0},t.prototype._barUpdater=function(e,t,i,r){var o=i[2],s=i[3]
;return!(!n(o)||!n(s))&&(r.high=r.open=o,r.low=r.close=s,t&&(r.highLabel=e.format(o),r.highLabelWidth=this._getLabelWidth(r.highLabel),r.lowLabel=e.format(s),r.lowLabelWidth=this._getLabelWidth(r.lowLabel)),!0)},t.prototype._needLabels=function(){var e=this._model().timeScale().barSpacing(),t=this._series().properties().hiloStyle.showLabels.value();return t&&e>5},t.prototype._getLabelWidth=function(e){return this._widthsCache.measureText(this._context,e)},t}(a.SeriesBarCandlesPaneView)},"9QkW":function(e,t,i){"use strict";function n(){a.call(this)}function r(e,t){var s,a,l;for(this._constructor="LineToolFibSpeedResistanceArcs",s=t||r.createProperties(),o.call(this,e,s),e._fibWedgeLabelsCache||(e._fibWedgeLabelsCache=new n),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("1SUO").FibWedgePaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe),a=[this._properties.child("trendline").child("linewidth")],l=1;l<=r.LevelsCount;l++)a.push(this._properties.child("level"+l).child("linewidth"));this._widthsProperty=new c(a)}var o=i("Ss5c").LineDataSource,s=i("5rJj"),a=i("xUGI"),l=i("hayr").propertyPages,c=i("ytGH").LineToolWidthsProperty,u=window.t("Fib Wedge");inherit(n,a),n.prototype.levelsCount=function(){return r.LevelsCount},inherit(r,o),r.LevelsCount=11,r.prototype.isSynchronizable=function(){return!1},r.prototype.levelsCount=function(){return r.LevelsCount},r.prototype.getCache=function(){return this._model._fibWedgeLabelsCache||(this._model._fibWedgeLabelsCache=new n),this._model._fibWedgeLabelsCache},r.prototype.pointsCount=function(){return 3},r.prototype.translatedType=function(){return u},r.prototype.name=function(){return"Fib Wedge"},r.prototype.hasEditableCoordinates=function(){return!1},r.prototype.setPoint=function(e,t){var i,n,r,s,a,l,c;o.prototype.setPoint.call(this,e,t),this._recursiveGuard||(this._recursiveGuard=!0,2===e?(i=this.pointToScreenPoint(this._points[0])[0],n=this.pointToScreenPoint(this._points[1])[0],s=(r=this.pointToScreenPoint(this._points[2])[0]).subtract(i).length(),a=n.subtract(i).normalized(),n=i.add(a.scaled(s)),l=this.screenPointToPoint(n),this._properties.points[1].price.setValue(l.price),this._properties.points[1].bar.setValue(l.index)):(i=this.pointToScreenPoint(this._points[0])[0],n=this.pointToScreenPoint(this._points[1])[0],r=this.pointToScreenPoint(this._points[2])[0],c=n.subtract(i).length(),a=r.subtract(i).normalized(),r=i.add(a.scaled(c)),l=this.screenPointToPoint(r),this._properties.points[2].price.setValue(l.price),this._properties.points[2].bar.setValue(l.index)),this._recursiveGuard=!1)},r.prototype.addPoint=function(e){var t,i,n,r,s,a,l;return 2===this._points.length&&(t=this.pointToScreenPoint(this._points[0])[0],i=this.pointToScreenPoint(this._points[1])[0],n=this.pointToScreenPoint(e)[0],r=i.subtract(t).length(),s=n.subtract(t).normalized(),n=t.add(s.scaled(r)),a=this.ownerSource().firstValue(),l=this.priceScale().coordinateToPrice(n.y,a),e={index:Math.round(this._model.timeScale().coordinateToIndex(n.x)),price:l
}),o.prototype.addPoint.call(this,e)},r.prototype.processErase=function(e,t){var i="level"+t,n=this.properties()[i].visible;e.setProperty(n,!1,"Erase level line")},r.prototype.getInputsPropertyPage=function(){return null},r.prototype.getStylesPropertyPage=function(){return l.LineToolFibWedgeStylesPropertyPage},r.createProperties=function(e){var t=new s("linetoolfibwedge",e,!1,{range:[1,11]});return r._configureProperties(t),t},r.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("6mGk").FibWedgeDefinitionsViewModel}.bind(null,i)).catch(i.oe)},r._configureProperties=function(e){o._configureProperties(e)},t.LineToolFibWedge=r},"9RhJ":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="#f7f8fa" d="M0 0h18v18H0z"/><path fill="#ed5565" d="m0 14h18v4H0zm9-7h9v4H9zm0-7h9v4H9z"/><path fill="#4a89dc" d="M0 0v11h11V0z"/><path fill="#fff" d="M8.1 3.3L8 3.2l.1-.5a.4.4 0 0 0-.1-.4L7.6 2v-.2h.6a.4.4 0 0 0 .3-.2l.2-.6h.1l.2.6.3.2h.5c.2 0 .2 0 .1.2l-.4.3a.4.4 0 0 0-.1.4l.1.4c0 .2 0 .2-.1.1L9 3a.4.4 0 0 0-.4 0l-.5.3zm0 3.3c0 .1-.1 0-.1 0L8 6a.4.4 0 0 0-.1-.4l-.4-.3v-.1h.6a.4.4 0 0 0 .3-.3l.2-.5c0-.2 0-.2.1 0l.2.5.3.2h.5c.2 0 .2.1.1.2l-.4.3a.4.4 0 0 0-.1.4l.1.5s0 .1-.1 0L9 6.4a.4.4 0 0 0-.4 0l-.5.3zm0 3.4L8 9.9l.1-.5A.4.4 0 0 0 8 9l-.4-.3v-.2h.6a.4.4 0 0 0 .3-.3l.2-.5c0-.1 0-.1.1 0l.2.5c0 .2.2.3.3.3h.5c.2 0 .2 0 .1.1l-.4.4a.4.4 0 0 0-.1.4l.1.4c0 .1 0 .2-.1.1L9 9.7a.4.4 0 0 0-.4 0L8 10zM4.8 3.3c-.1 0-.2 0-.1-.1v-.5a.4.4 0 0 0 0-.4L4.3 2c-.1-.1 0-.2 0-.2h.5a.4.4 0 0 0 .3-.2l.2-.6c0-.1.1-.1.2 0l.2.5c0 .2.1.3.3.3h.5c.1 0 .2 0 0 .1l-.3.4a.4.4 0 0 0-.1.4V3c.1.1 0 .2 0 .1L5.5 3a.4.4 0 0 0-.4 0l-.4.3zm-3.4 0l-.1-.1.1-.5a.4.4 0 0 0-.1-.4L.9 2v-.2h.6a.4.4 0 0 0 .3-.2l.1-.6h.2l.2.6.3.2h.5c.2 0 .2 0 .1.2l-.4.3a.4.4 0 0 0-.1.4l.1.4c0 .2 0 .2-.1.1L2.3 3a.4.4 0 0 0-.5 0l-.4.3zm3.4 3.3c-.1.1-.2 0-.1 0V6a.4.4 0 0 0 0-.4l-.4-.3c-.1 0 0-.1 0-.1h.5a.4.4 0 0 0 .3-.3l.2-.5c0-.2.1-.2.2 0l.2.5c0 .1.1.2.3.2h.5c.1 0 .2.1 0 .2l-.3.3A.4.4 0 0 0 6 6v.5c.1 0 0 .1 0 0l-.5-.2a.4.4 0 0 0-.4 0l-.4.3zm0 3.4c-.1 0-.2 0-.1-.1v-.5a.4.4 0 0 0 0-.4l-.4-.3c-.1-.1 0-.2 0-.2h.5a.4.4 0 0 0 .3-.3l.2-.5c0-.1.1-.1.2 0l.2.5c0 .2.1.3.3.3h.5c.1 0 .2 0 0 .1l-.3.4a.4.4 0 0 0-.1.4v.4c.1.1 0 .2 0 .1l-.5-.2a.4.4 0 0 0-.4 0l-.4.3zM1.4 6.6c0 .1-.1 0-.1 0l.1-.6a.4.4 0 0 0-.1-.4l-.4-.3v-.1h.6a.4.4 0 0 0 .3-.3l.2-.5c0-.2 0-.2.1 0l.2.5.3.2h.5c.2 0 .2.1.1.2l-.4.3a.4.4 0 0 0-.1.4l.1.5s0 .1-.1 0l-.4-.2a.4.4 0 0 0-.4 0l-.5.3zm0 3.4l-.1-.1.1-.5a.4.4 0 0 0-.1-.4l-.4-.3v-.2h.6a.4.4 0 0 0 .3-.2l.2-.6c0-.1 0-.1.1 0l.2.5c0 .2.2.3.3.3h.5c.2 0 .2 0 .1.1l-.4.4a.4.4 0 0 0-.1.4l.1.4c0 .1 0 .2-.1.1l-.4-.3a.4.4 0 0 0-.4 0l-.5.4z"/></svg>'},"9dnG":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor"><path d="M5 11l9-7 9 7-9 7z"/><path d="M23 14l-9 7-9-7"/><path d="M23 17l-9 7-9-7"/></g></svg>'},"9goP":function(e,t,i){"use strict"
;var n=i("s4+V"),r=i("xlKU").showSignModal;window.TVDialogs={showSignInDialog:function(e){return r(e)},signModal:null,showGoProDialog:function(e){n.createGoProDialog(e).then(function(e){e.open()})}}},"9iCb":function(e,t,i){"use strict";function n(e,t,i,n){var r,o,s,a,l,d,p,f,_,m,g,y,v,b,S,w,P=i.split(".");if(0!==P.length&&0!==P[0].length)if(S=P[0],o=(r={name:(w=S.split(":"))[0],type:2===w.length?w[1]:null}).name,l=!(a=null!==(s=r.type))||"band"===s,d=!a||"area"===s,p=!a||"input"===s,f=!a||"plot"===s?h.getPlotIdByTitle(e,o):null,_=l?h.getBandIndexByName(e,o):null,m=d?h.getFilledAreaIdByTitle(e,o):null,g=p?h.getInputByName(e,o):null,y=t.hasOwnProperty(o),(null!==f?1:0)+(null!==_?1:0)+(null!==m?1:0)+(null!==g?1:0)+(y?1:0)>1)c.logWarn("Study '"+e.description+"' has ambiguous identifier '"+o+"'");else if(v=P[1],null!==f){if(1===P.length)return void c.logWarn("Path of sub-property of '"+o+"' plot for study '"+e.description+"' must be not empty");b=P.slice(1),u.applyPlotProperty(e,t,f,b,n)}else if(null!==g)u.applyInputValue(t,g,n);else if(null!==_){if(void 0===v)return void c.logWarn("Property name of '"+o+"' band for study '"+e.description+"' must be set");u.applyBandProperty(t,_,v,n)}else if(null!==m){if(void 0===v)return void c.logWarn("Property name of '"+o+"' area for study '"+e.description+"' must be set");u.applyFilledAreaProperty(t,m,v,n)}else y?u.setRootProperty(t,P,n):c.logWarn("Study '"+e.description+"' has no plot or input '"+o+"'")}function r(e,t){var i,r=e.properties(),o=r.state();for(i in t)t.hasOwnProperty(i)&&n(e.metaInfo(),o,i,t[i]);r.mergeAndFire(o)}function o(e,t,i){var r,o,s,a,l;for(r in e)e.hasOwnProperty(r)&&-1!==(o=r.indexOf("."))&&(s=r.substr(0,o),null!==(a=h.getMetaInfoByDescription(t,s))?null!==(l=i(a))?n(a,l,r.substr(o+1),e[r]):c.logWarn("Cannot apply overrides for study "+s):c.logWarn("There is no such study "+s))}var s,a,l,c,u,h;i.r(t),i.d(t,"applyOverridesToStudy",function(){return r}),i.d(t,"applyOverridesToStudyDefaults",function(){return o}),s=i("Eyy1"),a=i("23IT"),l=i("uOxu"),c=Object(l.getLogger)("Chart.Model.StudyPropertiesOverrider"),function(e){var t={line:a.LineStudyPlotStyle.Line,histogram:a.LineStudyPlotStyle.Histogram,cross:a.LineStudyPlotStyle.Cross,area:a.LineStudyPlotStyle.Area,columns:a.LineStudyPlotStyle.Columns,circles:a.LineStudyPlotStyle.Circles,line_with_breaks:a.LineStudyPlotStyle.LineWithBreaks,area_with_breaks:a.LineStudyPlotStyle.AreaWithBreaks};e.applyPlotProperty=function(e,i,n,r,o){var l,u,h;if(void 0!==i.styles)if("color"!==(l=r[0]))if(void 0!==(u=i.styles[n])&&u.hasOwnProperty(l)){if("plottype"===l){if(void 0===(h=t[String(o)]))return void c.logWarn("Unsupported plot type for plot: "+o);o=h}u[l]=o}else c.logWarn("Study plot does not have property '"+l+"'");else!function(e,t,i,n,r){void 0!==e.styles?null===t&&!isNaN(n)&&n>0?c.logWarn("Study plot does not have color #"+n):((0===n||isNaN(n))&&(Object(s.ensureDefined)(e.styles[i]).color=String(r),n=0),null!==t&&(Object(s.ensureDefined)(t.colors[n]).color=String(r))):c.logWarn("Study does not have styles")
}(i,function(e,t,i){var n,r,o,s;if(void 0===e.plots)return null;for(n=0,r=e.plots;n<r.length;n++)if(o=r[n],Object(a.isColorerPlot)(o)&&void 0!==t.palettes&&(s=t.palettes[o.palette],o.target===i&&void 0!==s))return s;return null}(e,i,n),n,r.length>1?parseInt(r[1]):NaN,o);else c.logWarn("Study does not have styles")},e.applyBandProperty=function(e,i,n,r){var o,s;if(void 0!==e.bands)if(void 0!==(o=e.bands[i])&&o.hasOwnProperty(n)){if("plottype"===n){if(void 0===(s=t[String(r)]))return void c.logWarn("Unsupported plot type for band: "+r);r=s}o[n]=r}else c.logWarn("Study band does not have property '"+n+"'");else c.logWarn("Study does not have bands")},e.applyFilledAreaProperty=function(e,t,i,n){if(void 0!==e.filledAreasStyle){var r=e.filledAreasStyle[t];void 0!==r&&r.hasOwnProperty(i)?r[i]=n:c.logWarn("Study area does not have property '"+i+"'")}else c.logWarn("Study does not have areas")},e.applyInputValue=function(e,t,i){void 0!==e.inputs&&e.inputs.hasOwnProperty(t)?e.inputs[t]=i:c.logWarn("Study does not have input '"+t+"'")},e.setRootProperty=function(e,t,i){var n,r,o,s,a;if(0!==t.length){for(n=e,r=0,o=t.slice(0,-1);r<o.length&&(s=o[r],null!=n&&n.hasOwnProperty(s));r++)n=n[s];a=t[t.length-1],null!=n&&n.hasOwnProperty(a)?n[a]=i:c.logWarn("Study does not have property "+t.join("."))}}}(u||(u={})),function(e){e.getInputByName=function(e,t){var i,n,r;if(void 0===e.inputs)return null;for(t=t.toLowerCase(),i=0,n=e.inputs;i<n.length;i++)if((r=n[i]).name.toLowerCase()===t)return r.id;return null},e.getPlotIdByTitle=function(e,t){var i,n;if(void 0===e.styles)return null;for(i in t=t.toLowerCase(),e.styles)if((void 0!==(n=e.styles[i])&&void 0!==n.title?n.title:i).toLowerCase()===t)return i;return null},e.getFilledAreaIdByTitle=function(e,t){var i,n,r;if(void 0===e.filledAreas)return null;for(t=t.toLowerCase(),i=0,n=e.filledAreas;i<n.length;i++)if((r=n[i]).title.toLowerCase()===t)return r.id;return null},e.getBandIndexByName=function(e,t){if(void 0===e.bands)return null;t=t.toLowerCase();for(var i=0;i<e.bands.length;++i)if(e.bands[i].name.toLowerCase()===t)return i;return null},e.getMetaInfoByDescription=function(e,t){var i,n,r;for(t=t.toLowerCase(),i=0,n=e;i<n.length;i++)if((r=n[i]).description.toLowerCase()===t||r.shortDescription.toLowerCase()===t)return r;return null}}(h||(h={}))},"9lPX":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><rect width="10" height="4" fill="currentColor" rx="2" x="4" y="7"/></svg>'},"9tJu":function(e,t,i){"use strict";function n(e,t){var i,n,o,s,a;if(void 0===t&&(t={}),i=t.page,n=t.query,o="/u/",s=!1,a=null,function(e){return e.is_broker||1===e.account_type}(e))switch(o="/broker/",i){case r.PublishedCharts:a="ideas/";break;case r.FollowingPeople:a="following/";break;case r.Followers:a="followers/";break;case r.Reviews:a="reviews/";break;case r.Settings:case r.SettingsProfile:case r.Notifications:case r.Billing:o="/u/",s=!0}else s=!0;return"Guest"!==e.username&&(o+=e.username+"/"),n&&(o+="?"+n),
void 0!==i&&(s?o+="#"+i:null!==a&&(o+=""+a)),o}var r;i.r(t),i.d(t,"ProfilePages",function(){return r}),i.d(t,"getUserProfilePath",function(){return n}),function(e){e.Settings="settings",e.SettingsProfile="settings-profile",e.Notifications="notifications",e.Billing="billing",e.PublishedCharts="published-charts",e.FollowingPeople="following-people",e.Followers="followers",e.Reviews="reviews"}(r||(r={}))},AE9l:function(e,t,i){},AXy7:function(e,t,i){"use strict";function n(e,t){this._source=t,this._properties=e,this._points=[new l(-1,-1)],this._invalidated=!0,this._lineRenderer=new u}function r(){p.call(this),this._data=null}function o(e){this._source=e,this._points=[],this._bandBgRenderer=new r}function s(e,t,i){this._source=e,this._points=[],a(t.type===h.FilledArea.TYPE_HLINES,"Wrong filledArea type: "+t.type),this._initBandIndexes(t.objAId,t.objBId),this._fillStyleProps=i,this._bandBgRenderer=new r}var a=i("Eyy1").assert,l=i("aO4+").Point,c=i("Hr11").clamp,u=i("l4sv").HorizontalLineRenderer,h=i("0YCj"),d=i("Tmoa"),p=i("cPgM").ScaledPaneRenderer;n.prototype.update=function(){this._invalidated=!0},n.prototype.updateImpl=function(){var e,t,i=this._source.priceScale();i&&!i.isEmpty()?(e=this._properties.value.value(),isNumber(e)?(t=this._source.firstValue(),this._points[0]=new l(-1,i.priceToCoordinate(e,t))):this._points[0]=new l(-1,NaN)):this._points[0]=new l(-1,-1)},n.prototype.renderer=function(){this._invalidated&&(this.updateImpl(),this._invalidated=!1);var e={};return e.width=this._source.model().timeScale().width(),e.height=this._source.priceScale().height(),e.y=this._points[0].y,e.color=this._properties.color.value(),e.linewidth=this._properties.linewidth.value(),e.linestyle=this._properties.linestyle.value(),this._lineRenderer.setData(e),this._lineRenderer},inherit(r,p),r.prototype.setData=function(e){this._data=e},r.prototype._drawImpl=function(e){var t,i,n;null!==this._data&&0!==this._data.points.length&&(t=e.canvas.width,e.fillStyle=d.generateColor(this._data.backcolor,this._data.transparency),i=Math.min(this._data.points[0],this._data.points[1]),n=Math.max(this._data.points[0],this._data.points[1]),e.fillRect(0,i,t,n-i))},r.prototype.hitTest=function(e){return null},o.prototype.update=function(){var e,t,i,n;this._points=[],this._source.properties().bandsBackground.fillBackground.value()&&(e=this._source.properties().bands[0],t=this._source.properties().bands[1],(i=this._source.priceScale())&&!i.isEmpty()&&(n=this._source.firstValue(),this._points.push(i.priceToCoordinate(e.value.value(),n)),this._points.push(i.priceToCoordinate(t.value.value(),n))))},o.prototype.renderer=function(){var e={};return e.points=this._points,e.backcolor=this._source.properties().bandsBackground.backgroundColor.value(),e.transparency=this._source.properties().bandsBackground.transparency.value(),this._bandBgRenderer.setData(e),this._bandBgRenderer},s.prototype._initBandIndexes=function(e,t){var i,n;for(this._bandAKey=null,this._bandBKey=null,i=0;i<this._source.metaInfo().bands.length;++i)n=this._source.metaInfo().bands[i],
null!==this._bandAKey||n.id!==e?null!==this._bandBKey||n.id!==t||(this._bandBKey=i):this._bandAKey=i},s.prototype.update=function(){var e,t,i,n;this._points=[],this._fillStyleProps.visible.value()&&(e=this._source.properties().bands[this._bandAKey],t=this._source.properties().bands[this._bandBKey],(i=this._source.priceScale())&&!i.isEmpty()&&(n=this._source.firstValue(),this._points.push(i.priceToCoordinate(e.value.value(),n)),this._points.push(i.priceToCoordinate(t.value.value(),n))))},s.prototype.renderer=function(){var e,t=this._fillStyleProps.transparency.value();return t=c(t,0,100),(e={}).points=this._points,e.backcolor=d.generateColor(this._fillStyleProps.color.value(),t),e.transparency=this._fillStyleProps.transparency.value(),this._bandBgRenderer.setData(e),this._bandBgRenderer},t.BandPaneView=n,t.BandBackgroundPaneView=o,t.HlineFillPaneView=s},"Aba+":function(e,t,i){},Ai40:function(e,t,i){"use strict";(function(e,n){function r(e,t,i,n,r){this._paneView=r,l.call(this,e,t,i,n)}function o(e,t,i,n){r.call(this,e,t,i,n,new d(e,this))}function s(e,t,i,n){r.call(this,e,t,i,n,new p(e,this))}function a(e,t,i,n){r.call(this,e,t,i,n,new f(e,this)),this._estimateData={pointsetId:null,plotRow:null,estimateDate:null},this._model.mainSeries().dataEvents().symbolResolved().subscribe(this,this._onSeriesSymbolResolved),this._estimateUpdatedHandler=this._onEstimateUpdated.bind(this),this._needRequestEstimate=!0,this._estimatesCache=null}var l=i("GVHu").Study,c=i("2kV1").StudyStatusView,u=i("4miz").DataWindowView,h=i("vAx0"),d=h.DividendsPaneView,p=h.SplitsPaneView,f=h.EarningsPaneView,_=i("vopJ").createEstimatesProvider,m=i("hayr").propertyPages,g=i("pPtI").getServerInterval,y=i("uOxu").getLogger("Chart.EarningsStudy"),v=i("s1Gx").sortSourcesPreOrdered,b=v.Dividends,S=v.Splits,w=v.Earnings;inherit(r,l),r.prototype.createViews=function(){this._paneViews=[this._paneView],this._priceAxisViews=[],this._dataWindowView||(this._dataWindowView=new u),this._legendView=null,this._statusView||(this._statusView=new c(this,this._model.properties().scalesProperties.textColor))},r.prototype.onClickOutside=function(e){this._paneView.onClickOutside(e)},r.prototype.preferNoScale=function(){return!0},r.prototype.showInObjectTree=function(){return!1},r.prototype.isSavedInStudyTemplates=function(){return!1},r.prototype.isRemovedByStudyTemplates=function(){return!1},r.prototype.removeByRemoveAllStudies=function(){return!1},r.prototype.isDraggable=function(){return!1},r.prototype.statusView=function(){return null},r.prototype.hasStateForAlert=function(){return!1},r.prototype.start=function(){l.prototype.start.call(this),this._model.mainSeries().dataEvents().symbolResolved().subscribe(this,this._initPlotStash),this._initPlotStash()},r.prototype.stop=function(){l.prototype.stop.call(this),this._model.mainSeries().dataEvents().symbolResolved().unsubscribe(this,this._initPlotStash),this._paneView.closeTooltips()},r.prototype.isSavedInChart=function(e){return e},r.prototype._initPlotStash=function(){this._plotStash={}},
r.prototype._updatePlotStash=function(e,t){var i,n,r;!this._restartRequired&&this._plotStash&&(n=(i=e.value.slice()).shift(),r=String(n),t?this._plotStash[r]?String(this._plotStash[r])!==String(i)&&(this._restartRequired=!0):this._plotStash[r]=i:this._plotStash[r]&&(this._restartRequired=!0))},r.prototype.transformData=function(e){for(var t,i,n=e.length-1;n>=0;--n)t=e[n],i=this.isValid(t.value),this._updatePlotStash(t,i),i||e.splice(n,1)},r.prototype.isValid=function(e){throw new Error("Not Implemented")},r.prototype.restoreData=function(e){this.transformData(e.data),e.end=e.data.length,l.prototype.restoreData.call(this,e)},r.prototype.canHaveChildren=function(){return!1},r.getSettingsValue=function(e,t){var i=null;switch(e){case"TV_DIVIDENDS":i=t.esdShowDividends.value();break;case"TV_SPLITS":i=t.esdShowSplits.value();break;case"TV_EARNINGS":i=t.esdShowEarnings.value()}return i},r.prototype.getDisplayPropertyPage=function(){return null},r.prototype.getStylesPropertyPage=function(){return e.enabled("show_chart_property_page")?m.ChartStylesPropertyPage:null},inherit(o,r),o.prototype.zorder=function(){return b},o.prototype.isValid=function(e){var t=e[2];return $.isNumeric(t)},inherit(s,r),s.prototype.zorder=function(){return S},s.prototype.isValid=function(e){var t=e[3];return $.isNumeric(t)},inherit(a,r),a.prototype.destroy=function(){this._removePointset(),this._removeEstimatesCache(),this._model.mainSeries().dataEvents().symbolResolved().unsubscribe(this,this._onSeriesSymbolResolved),r.prototype.destroy.call(this)},a.prototype.zorder=function(){return w},a.pointSetCounter=1,a.pointSetsVersion="2",a.prototype.isValid=function(e){var t=e[3],i=e[4];return $.isNumeric(t)&&$.isNumeric(i)},a.prototype.restorePointset=function(e){return{index:e.index,value:[e.tickmark,void 0,e.estimate,$.isNumeric(e.period)?e.period:n(e.period).unix(),$.isNumeric(e.date)?e.date:n(e.date).unix()]}},a.prototype.restoreData=function(e){var t,i,n;r.prototype.restoreData.call(this,e),t=null,e.estimate?t=this.restorePointset(e.estimate):e.pointSets&&null==e.pointSetsVersion?null!==(i=this._getSymbol())&&(n=i.split(":")[1].toUpperCase(),e.pointSets[i]?t=this.restorePointset(e.pointSets[i]):e.pointSets[n]&&(t=this.restorePointset(e.pointSets[n]))):e.pointSets&&"1"===e.pointSetsVersion?null!==(i=this._getSymbol())&&(n=i.split(":")[1].toUpperCase(),e.pointSets[i]?t=e.pointSets[i].estimate:e.pointSets[n]&&(t=e.pointSets[n].estimate)):null!=e.estimatePlotRow&&e.pointSetsVersion===a.pointSetsVersion&&(t=e.estimatePlotRow),this._estimateData.plotRow=t},a.prototype.state=function(e){var t=r.prototype.state.call(this,e);return e&&(t.data.estimatePlotRow=this._estimateData.plotRow,t.data.pointSetsVersion=a.pointSetsVersion),t},a.prototype.stop=function(){r.prototype.stop.call(this),this._removePointset(),this._removeEstimatesCache()},a.prototype.onData=function(e){r.prototype.onData.call(this,e),"study_completed"===e.method&&this._needRequestEstimate&&(this._needRequestEstimate=!1,this._rerequestEstimate("requesting estimate flag enabled"))},
a.prototype.clearData=function(){r.prototype.clearData.call(this),this._needRequestEstimate=!0},a.prototype.generatePointsetId=function(){return"pointsetEstimates_"+a.pointSetCounter++},a.prototype.getEstimate=function(){return this._estimateData.plotRow},a.prototype._getSymbol=function(){var e=this._series.symbolInfo();return e?e.base_name[0].toLowerCase():null},a.prototype._onEstimateUpdated=function(e){this._model.chartApi().connected()&&(y.logNormal("Estimate update received: "+JSON.stringify(e)),!e.date||void 0===e.period||void 0===e.reported&&void 0===e.estimate?this._removePointset():this._recreatePointset(e))},a.prototype.start=function(){r.prototype.start.call(this),this._removePointset(),this._recreateEstimatesCache(),this._rerequestEstimate("starting study")},a.prototype.disconnect=function(){this._estimateData.pointsetId=null},a.prototype._removePointset=function(){null!==this._estimateData.pointsetId&&this._model.chartApi().connected()&&(y.logNormal("Removing previous pointset "+this._estimateData.pointsetId),this._model.chartApi().removePointset(this._estimateData.pointsetId)),this._estimateData={pointsetId:null,plotRow:null,estimateDate:null},this._model.updateSource(this)},a.prototype._recreatePointset=function(e){var t,i,r,o,s,a;null===this._estimateData.pointsetId||e.alignedDate!==this._estimateData.estimateDate?(this._removePointset(),t=this.generatePointsetId(),r=(i=this._model.mainSeries()).symbolId(),o=g(i.properties().interval.value().split(",")[0]),this._estimateData.estimateDate=e.alignedDate,this._estimateData.pointsetId=t,this._estimateData.plotRow=null,s=this,y.logNormal("Creating pointset "+t+" for date="+this._estimateData.estimateDate+", symbolId="+r+", interval="+o),a=[[this._estimateData.estimateDate,0]],this._model.chartApi().createPointset(t,"turnaround",r,o,a,function(t){t.params.customId===s._estimateData.pointsetId&&0!==t.params.plots.length&&(y.logNormal("Received data for "+s._estimateData.pointsetId+" pointset"),s._estimateData.plotRow={index:t.params.plots[0].value[0],value:[t.params.plots[0].value[1],e.reported,e.estimate,n(e.period).unix(),n(e.date).unix()]},s._model.updateSource(s))})):y.logNormal("Re-creating pointset skipped due the same date")},a.prototype._rerequestEstimate=function(e){var t,i,n;null!==this._estimatesCache?(y.logNormal("Re-requesting estimate data due "+e),this._estimatesCache.resetSymbol(),null!==(t=this._getSymbol())&&this._model.chartApi().connected()&&(i=t.split(":")[0],n=t.split(":")[1],this._estimatesCache.setSymbol(i,n))):y.logNormal("Re-requesting estimate data skipped")},a.prototype._onSeriesSymbolResolved=function(){this._removePointset(),this._rerequestEstimate("series symbol resolved")},a.prototype._removeEstimatesCache=function(){null!==this._estimatesCache&&(y.logNormal("Destroying estimates cache"),this._estimatesCache.off("data",this._estimateUpdatedHandler),this._estimatesCache.destroy(),this._estimatesCache=null)},a.prototype._recreateEstimatesCache=function(){this._removeEstimatesCache(),y.logNormal("Creating estimates cache"),
this._estimatesCache=_(),this._estimatesCache.on("data",this._estimateUpdatedHandler)},t.ESDStudyBase=r,t.study_ESD$TV_EARNINGS=a,t.study_ESD$TV_SPLITS=s,t.study_ESD$TV_DIVIDENDS=o}).call(this,i("Kxc7"),i("ldgD"))},ApcL:function(e,t,i){"use strict";function n(e,t,i,r,o){var s,l;return void 0===o&&(o=!0),void 0===t[e]?(E.logDebug("We haven't had this property "+r+"."+e+" yet, please, remove it from whiteList"),null):Object(a.isObject)(i[e])?(s=Object.keys(i[e]),l="",s.map(function(s){var a;return(a={})[s]=n(s,t[e],i[e],r+"."+e,o),a}).reduce(function(e,t){return e[l=Object.keys(t)[0]]=t[l],e},{})):o?t[e].value():t[e]}function r(e,t,i){var r,o,s,a,l,c,u,h,d,p,f;return void 0===i&&(i=U),r={timezone:"",priceScaleSelectionStrategyName:"auto",timeScale:{defaultRightOffset:e.timeScale().defaultRightOffsetProperty().value()},mainSeries:{},sessions:{},paneProperties:{},scalesProperties:{},chartEventsSourceProperties:{},tradingProperties:{}},o=["timeScale","mainSeries","sessions"],s=i.mainSeries,a=Object.keys(i),l=Object.keys(s),c=t.properties(),u=e.properties(),h=i.sessions,d=Object.keys(h),p=e.sessions(),f=p.properties(),l.forEach(function(e){r.mainSeries[e]=n(e,c,s,"mainSeries")}),d.forEach(function(e){r.sessions[e]=n(e,f,h,"sessions")}),a.forEach(function(e){o.includes(e)||(r[e]=n(e,u,i,"preferences"))}),r}function o(e,t,i){var r,o,s,a,l,c,u;return void 0===i&&(i=H),r={timeScale:{defaultRightOffset:e.timeScale().rightOffsetDefaultValue()},mainSeries:{},sessions:Object(I.deepExtend)({},x.sessionsPreferencesDefault),paneProperties:{},scalesProperties:{},chartEventsSourceProperties:{},tradingProperties:{},priceScaleSelectionStrategyName:"auto"},o=["timeScale","mainSeries","sessions"],s=i.mainSeries,a=Object.keys(i),l=Object.keys(s),c=Object(C.factoryDefaults)("chartproperties.mainSeriesProperties"),u=Object(C.factoryDefaults)("chartproperties"),l.forEach(function(e){r.mainSeries[e]=n(e,c,s,"mainSeries",!1)}),a.forEach(function(e){o.includes(e)||(r[e]=n(e,u,i,"preferences",!1))}),r}var s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B,N,F,j,W,U,H;i.r(t),s=i("mrSG"),a=i("ogJP"),l=i("vTIA"),c={color:"",style:0,width:0},u={upColor:"",downColor:"",drawWick:!1,drawBorder:!1,drawBody:!0,borderColor:"",borderUpColor:"",borderDownColor:"",wickColor:"",wickUpColor:"",wickDownColor:"",barColorsOnPrevClose:!1},h={upColor:"",downColor:"",drawWick:!1,drawBorder:!1,drawBody:!0,borderColor:"",borderUpColor:"",borderDownColor:"",wickColor:"",wickUpColor:"",wickDownColor:""},d={upColor:"",downColor:"",barColorsOnPrevClose:!1,dontDrawOpen:!1,thinBars:!0},p={color:"",linestyle:0,linewidth:0,styleType:0},f={color1:"",color2:"",linecolor:"",linestyle:0,linewidth:0,transparency:0},_={topFillColor1:"",topFillColor2:"",bottomFillColor1:"",bottomFillColor2:"",topLineColor:"",bottomLineColor:"",topLineWidth:0,bottomLineWidth:0,transparency:0,baseLevelPercentage:0},m={color:"",showBorders:!1,borderColor:"",showLabels:!1,labelColor:"",fontSize:0,drawBody:!0},g={upColor:"",downColor:"",drawWick:!1,drawBorder:!1,drawBody:!0,borderColor:"",
borderUpColor:"",borderDownColor:"",wickColor:"",wickUpColor:"",wickDownColor:"",showRealLastPrice:!1,barColorsOnPrevClose:!1,inputs:{}},y={upColor:"",downColor:"",borderUpColor:"",borderDownColor:"",upColorProjection:"",downColorProjection:"",borderUpColorProjection:"",borderDownColorProjection:"",wickUpColor:"",wickDownColor:"",inputs:{boxSize:0,style:"",atrLength:0,wicks:!1,sources:"",source:""}},v={upColor:"",downColor:"",borderUpColor:"",borderDownColor:"",upColorProjection:"",downColorProjection:"",borderUpColorProjection:"",borderDownColorProjection:"",inputs:{source:"",lb:0}},b={upColor:"",downColor:"",upColorProjection:"",downColorProjection:"",inputs:{style:"",atrLength:0,reversalAmount:0}},S={upColor:"",downColor:"",upColorProjection:"",downColorProjection:"",inputs:{reversalAmount:0,boxSize:0,style:"",atrLength:0}},w={upColor:"",downColor:"",upColorProjection:"",downColorProjection:"",thinBars:!1,inputs:{range:0,phantomBars:!1}},P=i("uOxu"),T=i("oXaB"),C=i("wZIs"),x=i("KUek"),I=i("FIi8"),i.d(t,"gridPreferencesDefault",function(){return L}),i.d(t,"crossHairPreferencesDefault",function(){return A}),i.d(t,"legendPreferencesDefault",function(){return O}),i.d(t,"panePreferencesDefault",function(){return M}),i.d(t,"scalesPreferencesBaseDefault",function(){return k}),i.d(t,"scalesPreferencesToApplyDefault",function(){return D}),i.d(t,"chartEventsSourceBreaksPreferencesDefault",function(){return R}),i.d(t,"chartEventsSourcePreferencesDefault",function(){return V}),i.d(t,"timeScalePreferencesDefault",function(){return B}),i.d(t,"priceScalePreferencesDefault",function(){return N}),i.d(t,"statusViewPreferencesDefault",function(){return F}),i.d(t,"mainSeriesPreferencesDefault",function(){return j}),i.d(t,"chartPreferencesBaseDefault",function(){return W}),i.d(t,"chartPreferencesToApplyDefault",function(){return U}),i.d(t,"chartPreferencesToRestoreDefault",function(){return H}),i.d(t,"createPreferencesObject",function(){return n}),i.d(t,"preferencesByWhiteList",function(){return r}),i.d(t,"defaultsPreferencesByWhiteList",function(){return o}),E=Object(P.getLogger)("Chart.ApplyPreferencesToAllCharts"),L={color:"",style:0},A={color:"",style:0,transparency:0,width:0},O={showStudyArguments:!1,showStudyTitles:!1,showStudyValues:!1,showSeriesTitle:!1,showSeriesOHLC:!1,showLegend:!1,showBarChange:!0,showBackground:!0,backgroundTransparency:0,wrapText:!1},M={background:"",topMargin:0,bottomMargin:0,rightOffset:0,horzGridProperties:Object(I.deepExtend)({},L),vertGridProperties:Object(I.deepExtend)({},L),crossHairProperties:Object(I.deepExtend)({},A),legendProperties:Object(I.deepExtend)({},O)},k={lineColor:"",textColor:"",fontSize:0,scaleSeriesOnly:!1,showSeriesLastValue:!1,seriesLastValueMode:T.PriceAxisLastValueMode.LastValueAccordingToScale,showSeriesPrevCloseValue:!1,showStudyLastValue:!1,showSymbolLabels:!1,showStudyPlotLabels:!1,showFundamentalLastValue:!1,showFundamentalNameLabel:!1,showCurrency:!0},D=Object(s.__assign)({},k),R={color:"",visible:!1,style:0,width:0},V={visible:!1,futureOnly:!1,
breaks:Object(I.deepExtend)({},R)},B={defaultRightOffset:0},N={autoScale:!1,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,log:!1,logDisabled:!1,alignLabels:!1,isInverted:!1,indexedTo100:!1},F={fontSize:16,showExchange:!0,showInterval:!0,symbolTextSource:"description"},j={style:0,minTick:0,showPriceLine:!1,priceLineWidth:0,priceLineColor:"",showPrevClosePriceLine:!1,showCountdown:!0,prevClosePriceLineWidth:0,extendedHours:!1,prevClosePriceLineColor:"",esdShowDividends:!1,esdShowSplits:!1,esdShowEarnings:!1,esdShowBreaks:!1,dividendsAdjustment:!1,statusViewStyle:Object(I.deepExtend)({},F),priceAxisProperties:Object(I.deepExtend)({},N),esdBreaksStyle:Object(I.deepExtend)({},c),candleStyle:Object(I.deepExtend)({},u),hollowCandleStyle:Object(I.deepExtend)({},h),barStyle:Object(I.deepExtend)({},d),lineStyle:Object(I.deepExtend)({},p),areaStyle:Object(I.deepExtend)({},f),baselineStyle:Object(I.deepExtend)({},_),hiloStyle:Object(I.deepExtend)({},m),haStyle:Object(I.deepExtend)({},g),renkoStyle:Object(I.deepExtend)({},y),pbStyle:Object(I.deepExtend)({},v),kagiStyle:Object(I.deepExtend)({},b),pnfStyle:Object(I.deepExtend)({},S),rangeStyle:Object(I.deepExtend)({},w)},W={priceScaleSelectionStrategyName:"auto",timeScale:Object(I.deepExtend)({},B),mainSeries:Object(I.deepExtend)({},j),sessions:Object(I.deepExtend)({},x.sessionsPreferencesDefault),paneProperties:Object(I.deepExtend)({},M),chartEventsSourceProperties:Object(I.deepExtend)({},V),tradingProperties:Object(I.deepExtend)({},l.tradingPreferencesDefault)},U=Object(s.__assign)({timezone:"",scalesProperties:Object(I.deepExtend)({},D)},W),H=Object(s.__assign)({scalesProperties:Object(I.deepExtend)({},k)},W)},Az04:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolRotatedRectangle";var r=t||n.createProperties();s.call(this,e,r),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("lZ9F").RotatedRectanglePaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("aO4+").Point,o=i("GEp6").distanceToLine,s=i("Ss5c").LineDataSource,a=i("Ocx9").DefaultProperty,l=i("hayr").propertyPages,c=window.t("Rotated Rectangle");inherit(n,s),n.prototype.startChanging=function(e,t){var i,n,r,a;s.prototype.startChanging.call(this,e,t),0!==e&&1!==e||(n=(i=this._paneViews[0])._points[0],r=i._points[1],a=i._points[2],this._distance=o(n,r,a).distance)},n.prototype.setPoint=function(e,t,i){var n,o,a,l,c,u;s.prototype.setPoint.call(this,e,t,i),0!==e&&1!==e||((n=this._paneViews[0]).update(),o=n._points[0],a=n._points[1].subtract(o),l=new r(a.y,-a.x).normalized().scaled(this._distance),c=o.add(l),u=this.screenPointToPoint(c),this._points[2]=u)},n.prototype.endChanging=function(){delete this._distance},n.prototype.pointsCount=function(){return 3},n.prototype.translatedType=function(){return c},n.prototype.name=function(){return"Rotated Rectangle"},n.prototype.hasEditableCoordinates=function(){return!1},n.prototype.getInputsPropertyPage=function(){return null},
n.prototype.getStylesPropertyPage=function(){return l.LineToolRectangleStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("Zd1D").GeneralFiguresDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new a("linetoolrotatedrectangle",e);return n._configureProperties(t),t},n._configureProperties=function(e){s._configureProperties(e)},t.LineToolRotatedRectangle=n},"B+p7":function(e,t,i){"use strict";function n(e){return decodeURIComponent(e.replace(/\+/g," ")).replace(/<\/?[^>]+(>|$)/g,"")}function r(e){var t,i=/([^&=]+)=?([^&]*)/g,r={};if(!e)return r;for(t=i.exec(e);t;)r[n(t[1])]=n(t[2]),t=i.exec(e);return r}function o(){return r(window.location.search.substring(1))}function s(){return r(window.location.hash.split("#")[1])}function a(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&null!=e[t]&&i.push({key:t,pair:encodeURIComponent(t)+"="+encodeURIComponent(e[t])});return i.sort(function(e,t){return e.key>t.key?1:e.key<t.key?-1:0}).map(function(e){return e.pair}).join("&")}i.r(t),i.d(t,"decode",function(){return n}),i.d(t,"getQueryParams",function(){return r}),i.d(t,"getUrlParams",function(){return o}),i.d(t,"getHashUrlParams",function(){return s}),i.d(t,"createUrlParams",function(){return a})},"B4/o":function(e,t,i){"use strict";(function(e){function n(e){this._line=e,this._data={bodyText:"order",quantityText:"0"},this._editable=!0,this._mode="",this._direction="buy",this._active=!0}function r(e){return null==e?e="":e+="",e}function o(e,t){this._adapter=new n(this),this._constructor="LineToolOrder";var r=t||o.createProperties();s.call(this,e,r),this.customization.disableSelection=!1,Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("LMGK").OrderPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var s=i("QIuV"),a=i("4TVt").LineToolPriceAxisView,l=i("jkoZ"),c=i("Ss5c").LineDataSource,u=i("Ocx9").DefaultProperty,h=i("s1Gx").sortSourcesPreOrdered,d=h.LineToolOrder;n.prototype.setMode=function(e){return this._mode=e,this._line.updateAllViewsAndRedraw(),this},n.prototype.setDirection=function(e){return this._direction=e,this._line.updateAllViewsAndRedraw(),this},n.prototype.setActive=function(e){return this._active=e,this._line.updateAllViewsAndRedraw(),this},n.prototype.setEditable=function(e){return this._editable=e,this._line.updateAllViewsAndRedraw(),this},n.prototype.hasMoveCallback=function(){return this.isFunction(this._onMoveCallback)},n.prototype.hasModifyCallback=function(){return this.isFunction(this._onModifyCallback)},n.prototype.getPrice=function(){return this._line.points().length>0?this._line.points()[0].price:this._line._timePoint.length>0?this._line._timePoint[0].price:void 0},n.prototype.setPrice=function(e){if(this._line.points().length>0){var t=this._line.points()[0];t.price=e,this._line._points[0]=t,this._line.normalizePoints(),this._line.updateAllViewsAndRedraw()}
return this._line._timePoint.length>0&&(this._line._timePoint[0].price=e),this},n.prototype.getText=function(){return this._data.bodyText},n.prototype.setText=function(e){return this._data.bodyText=e||"",this._line.updateAllViewsAndRedraw(),this},n.prototype.setTooltip=function(e){return this._line.properties().tooltip.setValue(r(e)),this},n.prototype.getTooltip=function(){return this._line.properties().tooltip.value()},n.prototype.setModifyTooltip=function(e){return this._line.properties().modifyTooltip.setValue(r(e)),this},n.prototype.getModifyTooltip=function(){return this._line.properties().modifyTooltip.value()},n.prototype.setCancelTooltip=function(e){return this._line.properties().cancelTooltip.setValue(r(e)),this},n.prototype.getCancelTooltip=function(){return this._line.properties().cancelTooltip.value()},n.prototype.getQuantity=function(){return this._data.quantityText},n.prototype.setQuantity=function(e){return this._data.quantityText=e||"",this._line.updateAllViewsAndRedraw(),this},n.prototype.getExtendLeft=function(){var e=this._line.properties().extendLeft.value();return"inherit"===e?this._line._model.properties().tradingProperties.extendLeft.value():e},n.prototype.setExtendLeft=function(e){return this._line.properties().extendLeft.setValue(e),this},n.prototype.getLineLength=function(){var e=this._line.properties().lineLength.value();return"inherit"===e?this._line._model.properties().tradingProperties.lineLength.value():e},n.prototype.setLineLength=function(e){return this._line.properties().lineLength.setValue(Math.max(0,Math.min(e,100))),this},n.prototype.getLineColor=function(){var e=this._line.properties();return"buy"===this._direction?this._active?e.lineActiveBuyColor.value():e.lineInactiveBuyColor.value():this._active?e.lineActiveSellColor.value():e.lineInactiveSellColor.value()},n.prototype.setLineColor=function(e){return"buy"===this._direction?this._active?this.setLineActiveBuyColor(e):this.setLineInactiveBuyColor(e):this._active?this.setLineActiveSellColor(e):this.setLineInactiveSellColor(e),this},n.prototype.setLineActiveBuyColor=function(e){return this._line.properties().lineActiveBuyColor.setValue(e),this},n.prototype.setLineInactiveBuyColor=function(e){return this._line.properties().lineInactiveBuyColor.setValue(e),this},n.prototype.setLineActiveSellColor=function(e){return this._line.properties().lineActiveSellColor.setValue(e),this},n.prototype.setLineInactiveSellColor=function(e){return this._line.properties().lineInactiveSellColor.setValue(e),this},n.prototype.getLineStyle=function(){var e=this._line.properties().lineStyle.value();return"inherit"===e?this._line._model.properties().tradingProperties.lineStyle.value():e},n.prototype.setLineStyle=function(e){return this._line.properties().lineStyle.setValue(e),this},n.prototype.getLineWidth=function(){var e=this._line.properties().lineWidth.value();return"inherit"===e?this._line._model.properties().tradingProperties.lineWidth.value():e},n.prototype.setLineWidth=function(e){return this._line.properties().lineWidth.setValue(e),this},
n.prototype.getBodyBorderColor=function(){var e=this._line.properties();return"buy"===this._direction?this._active?e.bodyBorderActiveBuyColor.value():e.bodyBorderInactiveBuyColor.value():this._active?e.bodyBorderActiveSellColor.value():e.bodyBorderInactiveSellColor.value()},n.prototype.setBodyBorderColor=function(e){return"buy"===this._direction?this._active?this.setBodyBorderActiveBuyColor(e):this.setBodyBorderInactiveBuyColor(e):this._active?this.setBodyBorderActiveSellColor(e):this.setBodyBorderInactiveSellColor(e),this},n.prototype.setBodyBorderActiveBuyColor=function(e){return this._line.properties().bodyBorderActiveBuyColor.setValue(e),this},n.prototype.setBodyBorderInactiveBuyColor=function(e){return this._line.properties().bodyBorderInactiveBuyColor.setValue(e),this},n.prototype.setBodyBorderActiveSellColor=function(e){return this._line.properties().bodyBorderActiveSellColor.setValue(e),this},n.prototype.setBodyBorderInactiveSellColor=function(e){return this._line.properties().bodyBorderInactiveSellColor.setValue(e),this},n.prototype.getBodyBackgroundColor=function(){return l.getColorFromProperties(this._line.properties().bodyBackgroundColor,this._line.properties().bodyBackgroundTransparency)},n.prototype.setBodyBackgroundColor=function(e){return l.setColorToProperties(e,this._line.properties().bodyBackgroundColor,this._line.properties().bodyBackgroundTransparency),this},n.prototype.getBodyTextColor=function(){var e=this._line.properties();return"limit"===this._mode?this._active?e.bodyTextActiveLimitColor.value():e.bodyTextInactiveLimitColor.value():"stop"===this._mode?this._active?e.bodyTextActiveStopColor.value():e.bodyTextInactiveStopColor.value():"buy"===this._direction?this._active?e.bodyTextActiveBuyColor.value():e.bodyTextInactiveBuyColor.value():this._active?e.bodyTextActiveSellColor.value():e.bodyTextInactiveSellColor.value()},n.prototype.setBodyTextColor=function(e){return"limit"===this._mode?this._active?this.setBodyTextActiveLimitColor(e):this.setBodyTextInactiveLimitColor(e):"stop"===this._mode?this._active?this.setBodyTextActiveStopColor(e):this.setBodyTextInactiveStopColor(e):"buy"===this._direction?this._active?this.setBodyTextActiveBuyColor(e):this.setBodyTextInactiveBuyColor(e):this._active?this.setBodyTextActiveSellColor(e):this.setBodyTextInactiveSellColor(e),this},n.prototype.setBodyTextInactiveLimitColor=function(e){return this._line.properties().bodyTextInactiveLimitColor.setValue(e),this},n.prototype.setBodyTextActiveLimitColor=function(e){return this._line.properties().bodyTextActiveLimitColor.setValue(e),this},n.prototype.setBodyTextInactiveStopColor=function(e){return this._line.properties().bodyTextInactiveStopColor.setValue(e),this},n.prototype.setBodyTextActiveStopColor=function(e){return this._line.properties().bodyTextActiveStopColor.setValue(e),this},n.prototype.setBodyTextInactiveBuyColor=function(e){return this._line.properties().bodyTextInactiveBuyColor.setValue(e),this},n.prototype.setBodyTextActiveBuyColor=function(e){
return this._line.properties().bodyTextActiveBuyColor.setValue(e),this},n.prototype.setBodyTextInactiveSellColor=function(e){return this._line.properties().bodyTextInactiveSellColor.setValue(e),this},n.prototype.setBodyTextActiveSellColor=function(e){return this._line.properties().bodyTextActiveSellColor.setValue(e),this},n.prototype.getBodyFont=function(){return l.getFontFromProperties(this._line.properties().bodyFontFamily,this._line.properties().bodyFontSize,this._line.properties().bodyFontBold,this._line.properties().bodyFontItalic)},n.prototype.setBodyFont=function(e){return l.setFontToProperties(e,this._line.properties().bodyFontFamily,this._line.properties().bodyFontSize,this._line.properties().bodyFontBold,this._line.properties().bodyFontItalic),this},n.prototype.getQuantityBorderColor=function(){var e=this._line.properties();return"buy"===this._direction?this._active?e.quantityBorderActiveBuyColor.value():e.quantityBorderInactiveBuyColor.value():this._active?e.quantityBorderActiveSellColor.value():e.quantityBorderInactiveSellColor.value()},n.prototype.setQuantityBorderColor=function(e){return"buy"===this._direction?this._active?this.setQuantityBorderActiveBuyColor(e):this.setQuantityBorderInactiveBuyColor(e):this._active?this.setQuantityBorderActiveSellColor(e):this.setQuantityBorderInactiveSellColor(e),this},n.prototype.setQuantityBorderActiveBuyColor=function(e){return this._line.properties().quantityBorderActiveBuyColor.setValue(e),this},n.prototype.setQuantityBorderInactiveBuyColor=function(e){return this._line.properties().quantityBorderInactiveBuyColor.setValue(e),this},n.prototype.setQuantityBorderActiveSellColor=function(e){return this._line.properties().quantityBorderActiveSellColor.setValue(e),this},n.prototype.setQuantityBorderInactiveSellColor=function(e){return this._line.properties().quantityBorderInactiveSellColor.setValue(e),this},n.prototype.getQuantityBackgroundColor=function(){var e=this._line.properties();return"buy"===this._direction?this._active?e.quantityBackgroundActiveBuyColor.value():e.quantityBackgroundInactiveBuyColor.value():this._active?e.quantityBackgroundActiveSellColor.value():e.quantityBackgroundInactiveSellColor.value()},n.prototype.setQuantityBackgroundColor=function(e){return"buy"===this._direction?this._active?this.setQuantityBackgroundActiveBuyColor(e):this.setQuantityBackgroundInactiveBuyColor(e):this._active?this.setQuantityBackgroundActiveSellColor(e):this.setQuantityBackgroundInactiveSellColor(e),this},n.prototype.setQuantityBackgroundActiveBuyColor=function(e){return this._line.properties().quantityBackgroundActiveBuyColor.setValue(e),this},n.prototype.setQuantityBackgroundInactiveBuyColor=function(e){return this._line.properties().quantityBackgroundInactiveBuyColor.setValue(e),this},n.prototype.setQuantityBackgroundActiveSellColor=function(e){return this._line.properties().quantityBackgroundActiveSellColor.setValue(e),this},n.prototype.setQuantityBackgroundInactiveSellColor=function(e){return this._line.properties().quantityBackgroundInactiveSellColor.setValue(e),
this},n.prototype.getQuantityTextColor=function(){return l.getColorFromProperties(this._line.properties().quantityTextColor,this._line.properties().quantityTextTransparency)},n.prototype.setQuantityTextColor=function(e){return l.setColorToProperties(e,this._line.properties().quantityTextColor,this._line.properties().quantityTextTransparency),this},n.prototype.getQuantityFont=function(){return l.getFontFromProperties(this._line.properties().quantityFontFamily,this._line.properties().quantityFontSize,this._line.properties().quantityFontBold,this._line.properties().quantityFontItalic)},n.prototype.setQuantityFont=function(e){return l.setFontToProperties(e,this._line.properties().quantityFontFamily,this._line.properties().quantityFontSize,this._line.properties().quantityFontBold,this._line.properties().quantityFontItalic),this},n.prototype.getCancelButtonBorderColor=function(){var e=this._line.properties();return"buy"===this._direction?this._active?e.cancelButtonBorderActiveBuyColor.value():e.cancelButtonBorderInactiveBuyColor.value():this._active?e.cancelButtonBorderActiveSellColor.value():e.cancelButtonBorderInactiveSellColor.value()},n.prototype.setCancelButtonBorderColor=function(e){return"buy"===this._direction?this._active?this.setCancelButtonBorderActiveBuyColor(e):this.setCancelButtonBorderInactiveBuyColor(e):this._active?this.setCancelButtonBorderActiveSellColor(e):this.setCancelButtonBorderInactiveSellColor(e),this},n.prototype.setCancelButtonBorderActiveBuyColor=function(e){return this._line.properties().cancelButtonBorderActiveBuyColor.setValue(e),this},n.prototype.setCancelButtonBorderInactiveBuyColor=function(e){return this._line.properties().cancelButtonBorderInactiveBuyColor.setValue(e),this},n.prototype.setCancelButtonBorderActiveSellColor=function(e){return this._line.properties().cancelButtonBorderActiveSellColor.setValue(e),this},n.prototype.setCancelButtonBorderInactiveSellColor=function(e){return this._line.properties().cancelButtonBorderInactiveSellColor.setValue(e),this},n.prototype.getCancelButtonBackgroundColor=function(){return l.getColorFromProperties(this._line.properties().cancelButtonBackgroundColor,this._line.properties().cancelButtonBackgroundTransparency)},n.prototype.setCancelButtonBackgroundColor=function(e){return l.setColorToProperties(e,this._line.properties().cancelButtonBackgroundColor,this._line.properties().cancelButtonBackgroundTransparency),this},n.prototype.getCancelButtonIconColor=function(){var e=this._line.properties();return"buy"===this._direction?this._active?e.cancelButtonIconActiveBuyColor.value():e.cancelButtonIconInactiveBuyColor.value():this._active?e.cancelButtonIconActiveSellColor.value():e.cancelButtonIconInactiveSellColor.value()},n.prototype.setCancelButtonIconColor=function(e){return"buy"===this._direction?this._active?this.setCancelButtonIconActiveBuyColor(e):this.setCancelButtonIconInactiveBuyColor(e):this._active?this.setCancelButtonIconActiveSellColor(e):this.setCancelButtonIconInactiveSellColor(e),this},
n.prototype.setCancelButtonIconActiveBuyColor=function(e){return this._line.properties().cancelButtonIconActiveBuyColor.setValue(e),this},n.prototype.setCancelButtonIconInactiveBuyColor=function(e){return this._line.properties().cancelButtonIconInactiveBuyColor.setValue(e),this},n.prototype.setCancelButtonIconActiveSellColor=function(e){return this._line.properties().cancelButtonIconActiveSellColor.setValue(e),this},n.prototype.setCancelButtonIconInactiveSellColor=function(e){return this._line.properties().cancelButtonIconInactiveSellColor.setValue(e),this},n.prototype.block=function(){this._blocked=!0,this._line.updateAllViewsAndRedraw()},n.prototype.unblock=function(){this._blocked=!1,this._line.updateAllViewsAndRedraw()},n.prototype.isFunction=function(e){return"function"==typeof e},n.prototype.onCancel=function(e,t){return t?this.isFunction(t)&&(this._onCancelData=e,this._onCancelCallback=t):this.isFunction(e)&&(this._onCancelCallback=e),this},n.prototype.callOnCancel=function(){this.isFunction(this._onCancelCallback)&&this._onCancelCallback.call(this,this._onCancelData)},n.prototype.isOnCancelCallbackPresent=function(){return this.isFunction(this._onCancelCallback)},n.prototype.onModify=function(e,t){return t?this.isFunction(t)&&(this._onModifyData=e,this._onModifyCallback=t):this.isFunction(e)&&(this._onModifyCallback=e),this},n.prototype.callOnModify=function(){this.isFunction(this._onModifyCallback)&&this._onModifyCallback.call(this,this._onModifyData)},n.prototype.onMove=function(e,t){return t?this.isFunction(t)&&(this._onMoveData=e,this._onMoveCallback=t):this.isFunction(e)&&(this._onMoveCallback=e),this},n.prototype.callOnMove=function(){this.isFunction(this._onMoveCallback)&&this._onMoveCallback.call(this,this._onMoveData)},n.prototype.onContextMenu=function(e,t){return t?this.isFunction(t)&&(this._onContextMenuData=e,this._onContextMenuCallback=t):this.isFunction(e)&&(this._onContextMenuCallback=e),this},n.prototype.shouldShowContextMenu=function(){return this.isFunction(this._onContextMenuCallback)},n.prototype.callOnContextMenu=function(){if(this.isFunction(this._onContextMenuCallback))return this._onContextMenuCallback.call(this,this._onContextMenuData)},n.prototype.remove=function(){this._line._model.removeSource(this._line),delete this._line},inherit(o,s),o.prototype.zorder=function(){return d},o.prototype.setPoint=function(e,t,i){this._points[e]=t,this.normalizePoints()},o.prototype.addPoint=function(e,t){return this._points.push(e),this._lastPoint=null,this.normalizePoints(),this.createServerPoints(),!0},o.prototype.translatedType=function(){return"Order"},o.prototype.name=function(){return"Order"},o.prototype.endMoving=function(e){var t=this._startMovingPoint&&this._currentMovingPoint&&this._startMovingPoint.price!==this._currentMovingPoint.price;s.prototype.endMoving.call(this),!e&&t&&this._adapter.callOnMove()},o.prototype.createPriceAxisView=function(e){var t={pointIndex:e,backgroundPropertyGetter:this._adapter.getLineColor.bind(this._adapter)};return this._priceAxisView=new a(this,t),
this._priceAxisView},o.prototype.paneViews=function(){return TradingView.printing&&!e.enabled("snapshot_trading_drawings")?null:this._model.properties().tradingProperties.showOrders.value()?c.prototype.paneViews.call(this):null},o.prototype.priceAxisViews=function(t,i){return TradingView.printing&&!e.enabled("snapshot_trading_drawings")?null:this._model.properties().tradingProperties.showOrders.value()?c.prototype.priceAxisViews.call(this,t,i):null},o.prototype.hasContextMenu=function(){return this._adapter.shouldShowContextMenu()},o.prototype.contextMenuItems=function(){return this._adapter.callOnContextMenu()},o.prototype.onlyYMoving=function(){return!0},o.prototype.movable=function(){return Boolean(this._adapter._onMoveCallback)},o.createProperties=function(e){var t=new u("linetoolorder",e,!1,!1);return o._configureProperties(t),t},o._configureProperties=function(e){s._configureProperties(e)},t.LineToolOrder=o}).call(this,i("Kxc7"))},BBCR:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="square" d="M6.145 11.968L14 5.5l7.855 6.468a.3.3 0 0 1-.191.532H6.336a.3.3 0 0 1-.19-.532zm0 4.064L14 22.5l7.855-6.468a.3.3 0 0 0-.191-.532H6.336a.3.3 0 0 0-.19.532z"/></svg>'},BHQF:function(e,t,i){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.fetch=function(e,t){var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t||{},function(e){var t=document.createElement("a");return t.href=e,t.hostname||(t.href=t.href),t.hostname===location.hostname&&!t.username}(e)&&(t.headers?t.headers instanceof Headers||(t.headers=new Headers(t.headers)):t.headers=new Headers,window.locale&&t.headers.set("X-Language",window.locale),t.headers.set("X-Requested-With","XMLHttpRequest")),(i=window.fetch(e,t)).then(function(i){if(!i.ok){var o="";t.method&&(o+=t.method.toUpperCase()+" "),o+=e,o+=". Status "+i.status,i.statusText&&(o+=". "+i.statusText),i.headers.via&&(o+=". Via: "+i.headers.via),n.logBodyOnError&&"string"==typeof t.body&&(o+=". Body: "+t.body.slice(0,1024)),r.logError(o)}return i},function(i){var n="";t.method&&(n+=t.method.toUpperCase()+" "),n+=e,navigator.onLine?n+=". "+i:n+=". User is offline.",r.logError(n)}),i},n=i("uOxu"),r=(0,n.getLogger)("Fetch")},BI5g:function(e,t,i){"use strict";var n,r;i.r(t),i.d(t,"breakpoints",function(){return n}),i.d(t,"mobileFirstBreakpoints",function(){return r}),n={desktop:1/0,desktopHd:1919,phone:767,"phone-vertical":479,tablet:1019},r={base:0,"phone-vertical":330,phone:480,tablet:768,notebook:1020,desktop:1540,"desktop-hd":1920}},BOPY:function(e,t,i){"use strict";function n(e,t){this.source=e,this._rendererFactory=t}function r(e,t){u.call(this),this._barWidth=e.barWidth,this._plates=e.plates,this._tooltip=e.tooltip,this._model=t}function o(){this._layout=[],this._currentId=void 0,this.tooltipHovered=!1}var s=i("aO4+").Point,a=i("f6yo").pointInCircle,l=i("VdBB").HitTestResult,c=i("zDbI").CHART_FONT_FAMILY,u=i("cPgM").ScaledPaneRenderer
;n.prototype.update=function(){},n.prototype.renderer=function(e,t){return this._rendererFactory(this.source)},inherit(r,u),r.prototype._drawImpl=function(e){e.save();for(var t=0;t<this._plates.length;t++)if(this._plates[t].highlightByAuthor){this._highlightByAuthor=!0;break}this._plates.forEach(this._drawItem.bind(this,e)),this._tooltip.draw(this._plates.map(function(e){return this._plateTransform(e)}.bind(this)),e),this._tooltip.endDraw(),e.restore()},r.prototype._drawItem=function(e,t){e.save(),this._highlightByAuthor&&!t.highlightByAuthor&&(e.globalAlpha=.4);var i=this._dotTransform(t);i.mine?this._drawTriangle(e,i):this._drawDot(e,i),e.restore()},r.prototype._commonTransform=function(e){var t=Math.max(1.4*e.minSize,this._barWidth+4),i={up:-1,down:1}[e.direction]*(e.yInverted?-1:1),n=i*(t*(e.order+.6)+.25*t),r=e.y+n,o=TradingView.clone(e.overridedTheme||this.themes[e.theme]);return o.dotBorderWidth=e.hovered||e.highlightByAuthor?4:2,{id:e.id,theme:o,themeName:e.theme,x:Math.round(e.x+1),y:Math.round(r),yInverted:e.yInverted,pinned:e.pinned,hovered:e.hovered}},r.prototype._dotTransform=function(e){var t=this._commonTransform(e);return t.radius=Math.max(e.minSize/2,.4*this._barWidth),t.label=e.label,t.labelFontColor=e.labelFontColor,t.labelFontSize=Math.ceil(Math.max(10,Math.min(t.radius,20))),this._model.updateDotData(e,t)},r.prototype._plateTransform=function(e){var t=this._commonTransform(e);return this._model.updatePlateData(e,t)},r.THEMES=["green","red","neutral","yellow","blue"],r.prototype.themes={green:{border:"#78C143",background:"#8DDD54"},red:{border:"#CC4545",background:"#ED5A5A"},neutral:{border:"#EAC300",background:"#FFD400"},yellow:{border:"#EAC300",background:"#FFD400"},blue:{border:"#047ACE",background:"#0496FF"}},r.prototype._drawTriangle=function(e,t){var i,n,r,o;e.strokeStyle=t.theme.border,e.fillStyle=t.theme.background,e.lineWidth=t.theme.dotBorderWidth,i=t,n=t.radius,r=Math.cos(Math.PI/6)*n,o=Math.sin(Math.PI/6)*n,e.translate(i.x,i.y),"up"===t.direction!==t.yInverted&&e.rotate(Math.PI),t.public||(e.lineWidth/=2),e.beginPath(),e.moveTo(0,-n),e.lineTo(r,o),e.lineTo(-r,o),e.lineTo(0,-n),e.closePath(),e.stroke(),t.public&&e.fill()},r.prototype._drawDot=function(e,t){e.strokeStyle=t.theme.border,e.fillStyle=t.theme.background,e.lineWidth=t.theme.dotBorderWidth,e.beginPath(),e.arc(t.x,t.y,t.radius,0,2*Math.PI,!0),e.closePath(),e.stroke(),e.fill(),t.label&&t.radius>6&&(e.textAlign="center",e.textBaseline="middle",e.font="bold "+t.labelFontSize+"px "+c,e.fillStyle=t.labelFontColor,e.fillText(t.label,t.x,t.y))},r.prototype.hitTest=function(e){var t,i;for(i=this._plates.length-1;i>=0;--i)if(t=this._hitTestDot(this._plates[i],e))return t;return null},r.prototype._hitTestDot=function(e,t){var i=this._dotTransform(e),n=new s(i.x,i.y);return a(t,n,Math.max(i.radius,8))?new l(l.REGULAR,e):null},o.prototype._createLayout=function(){throw new Error("Child class must override this member")},o.prototype._updatePlate=function(e){throw new Error("Child class must override this member")},
o.prototype._getContainer=function(e){return this._container&&this._context===e||(this._context=e,this._container=$(e.canvas).parent()),this._container},o.prototype._plateArrowSize=14,o.prototype.showPlate=function(e,t){var i,n,r,o,s,a,l,c;this._currentId===e.id&&this._layout&&0!==this._layout.length&&null!=this._layout[0].parentNode||(this._currentId=e.id,this._createLayout(),this._getContainer(t).append(this._layout),i=this,this._layout.hover(function(){i.tooltipHovered=!0,$(this).stop(!0).fadeTo(0,1)},function(){i.tooltipHovered=!1})),(n=Math.round(e.barWidth/2))>15&&(n=15),n<10&&(n=10),this._updatePlate(e),r=t.canvas.getBoundingClientRect(),o=e.x-this._layout.outerWidth()<this._plateArrowSize,s=r.width-e.x+Math.round(e.barWidth/2+n),o&&(s-=this._layout.outerWidth()+2*this._plateArrowSize),a=r.height,l=20,c=10,this._layout.toggleClass("right",o),this._layout.css({top:Math.min(Math.max(e.y,l),a-this._layout.outerHeight()-c),right:s,fontSize:n+"px",display:"block"})},o.prototype._removeLayout=function(){this.tooltipHovered||(this._layout.stop(!0),this._layout.remove())},o.prototype._toggleLayout=function(e){this._layout.toggle(e)},o.prototype.hide=function(e){this.tooltipHovered?this._layout.stop(!0).fadeTo(0,1):this._layout.fadeOut(400,function(){$(this).remove(),e()})},o.prototype.setSource=function(e){this.source=e},t.BarsMarksContainerPaneView=n,t.BarsMarksContainerRenderer=r,t.BarMarkTooltip=o},Bdgc:function(e,t,i){"use strict";var n,r;i.r(t),i.d(t,"ParentEvents",function(){return n}),i.d(t,"IFrameEvents",function(){return r}),function(e){!function(e){e.SetSymbol="set-symbol",e.SetInterval="set-interval"}(e.Names||(e.Names={}))}(n||(n={})),function(e){!function(e){e.SymbolClick="tv-widget-symbol-click",e.WidgetLoad="tv-widget-load",e.ResizeIframe="tv-widget-resize-iframe",e.NoData="tv-widget-no-data"}(e.Names||(e.Names={}))}(r||(r={}))},BhuR:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 9" width="9px" height="9px"><path d="M2 1L1 2l2.5 2.5L1 7l1 1 2.5-2.5L7 8l1-1-2.5-2.5L8 2 7 1 4.5 3.5z"/></svg>'},BlPY:function(e,t){e.exports=[{name:window.t("All"),value:""},{name:window.t("Stock"),value:"stock"},{name:window.t("Futures"),value:"futures"},{name:window.t("Forex"),value:"forex"},{name:window.t("CFD"),value:"cfd"},{name:window.t("Cryptocurrency"),value:"bitcoin,crypto"},{name:window.t("Index"),value:"index"},{name:window.t("Economy"),value:"economic"}]},Bt3k:function(e,t,i){"use strict";function n(e,t){this.tooltips={},this.tooltipFactory=e,this.source=t}function r(e,t){this.renderer=e,this._tooltip=t,this.visible=!1}n.prototype.findOrCreateTooltip=function(e){var t=this.tooltips[e.id];return null==t&&(e.hovered||e.pinned)&&(t=this._createTooltip(),this.tooltips[e.id]=t),t},n.prototype.showPlate=function(e,t){var i=this.findOrCreateTooltip(e);null!=i&&(i._drawPlate(e,t),i.plateData=e)},n.prototype.draw=function(e,t){this.hoveredId=null;for(var i=0;i<e.length;i++)e[i].hovered&&(this.hoveredId=e[i].id);e.forEach(function(e){this.showPlate(e,t)}.bind(this))},
n.prototype.endDraw=function(){var e,t,i=this;for(e in this.tooltips)this.tooltips.hasOwnProperty(e)&&((t=this.tooltips[e]).toggleVisibility(),i.hoveredId&&t.plateData.id!==i.hoveredId&&!t.plateData.pinned&&(t.remove(),delete this.tooltips[e]))},n.prototype.removeAll=function(){var e;for(e in this.tooltips)this.tooltips.hasOwnProperty(e)&&this.tooltips[e].remove();this.tooltips={}},n.prototype.removeTooltip=function(e){delete this.tooltips[e]},n.prototype._createTooltip=function(){return new r(this,this.tooltipFactory())},r.prototype._drawPlate=function(e,t){var i=this;this.visible=!0,this._tooltip.setSource(this.renderer.source),this._tooltip.showPlate(e,t),e.hovered||e.pinned||this._tooltip.hide(function(){i.renderer.removeTooltip(e.id)})},r.prototype.remove=function(){this._tooltip._removeLayout()},r.prototype.toggleVisibility=function(){this._tooltip._toggleLayout(this.visible),this.visible=!1},t.TooltipRenderer=n},BxxN:function(e,t,i){"use strict";function n(e){if(0===location.search.length)return e;var t=Object(o.getUrlParams)();return s.forEach(function(i){void 0!==t[i]&&(e[i]=t[i])}),e}function r(e,t,i){var r,s;return void 0===e&&(e={}),void 0===t&&(t=""),void 0===i&&(i=!0),r="/chart/",e.chartId&&(r=""+r+e.chartId+"/",delete e.chartId),i&&(e=n(e)),s=Object(o.createUrlParams)(e),0===t.length&&0===s.length||(r=r+"?"+t+s),r}var o,s;i.d(t,"a",function(){return n}),i.d(t,"b",function(){return r}),o=i("B+p7"),s=["mobileapp","mobileapp_new"]},C85F:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="#f7f8fa" d="M0 18h18V0H0z"/><circle fill="#ed5565" cx="9" cy="9" r="4"/></svg>'},CHw2:function(e,t,i){"use strict";function n(e,t){var i=t||n.createProperties();r.call(this,e,i),this._constructor="LineToolExtended"}var r=i("WPQD").LineToolTrendLine,o=i("Ocx9").DefaultProperty,s=window.t("Extended Line");inherit(n,r),n.prototype.translatedType=function(){return s},n.prototype.name=function(){return"Extended Line"},n.createProperties=function(e){var t=new o("linetoolextended",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolExtended=n},CJIV:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolHorzRay";var s=t||n.createProperties();this._priceAxisView=new o(this),r.call(this,e,s),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("1oDZ").HorzRayPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("p1SQ").LineToolHorzLinePriceAxisView,s=i("tc+8"),a=i("Ocx9").DefaultProperty,l=i("hayr").propertyPages,c=window.t("Horizontal Ray");inherit(n,r),n.prototype.pointsCount=function(){return 1},n.prototype.translatedType=function(){return c},n.prototype.name=function(){return"Horizontal Ray"},n.prototype.priceAxisViews=function(e,t){return this.isSourceHidden()?null:t===this.priceScale()&&this.properties().showPrice.value()&&this._model.paneForSource(this)===e?[this._priceAxisView]:null},
n.prototype.updateAllViews=function(){r.prototype.updateAllViews.call(this),this._priceAxisView.update()},n.prototype.canHasAlert=function(){return!0},n.prototype._getAlertPlots=function(){var e=this._points[0],t={index:e.index+1,price:e.price};return[this._linePointsToAlertPlot([e,t],null,!1,!0)]},n.prototype.getStylesPropertyPage=function(){return l.LineToolHorzLineStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("e0H+").HorizontalRayDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.prototype.template=function(){var e=r.prototype.template.call(this);return e.text=this.properties().childs().text.value(),e},n.prototype._applyTemplateImpl=function(e){r.prototype._applyTemplateImpl.call(this,e),this.properties().childs().text.setValue(e.text)},n.createProperties=function(e){var t=new a("linetoolhorzray",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e),e.hasChild("text")||e.addChild("text",new s("")),e.addExclusion("text")},t.LineToolHorzRay=n},CLNU:function(e,t,i){(function(e){TradingView.cleanButAmpersand=function(e,t){var i=t?["&amp;"]:["&"];return TradingView.clean(e,t,i)},TradingView.strip_tags=function(e){return e&&e.replace?e.replace(/(<([^>]+)>)/gi,""):e},TradingView.encodeSpread=function(e){return encodeURIComponent(e)},TradingView.clean=function(e,t,i){var n,r,o,s=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#039;"],["'","&#39;"]],a=e;if(!e||!e.replace)return a;for(n=0;n<s.length;n++)r=s[n][0],o=s[n][1],i&&i.indexOf&&-1!==i.indexOf(t?o:r)||(a=t?a.replace(new RegExp(o,"g"),r):a.replace(new RegExp(r,"g"),o));return a},e&&e.exports&&(e.exports={clean:TradingView.clean,cleanButAmpersand:TradingView.cleanButAmpersand,stripTags:TradingView.strip_tags})}).call(this,i("YuTi")(e))},CW80:function(e,t,i){"use strict";function n(e){var t,i,n;for(t=0,i=Object.keys(e);t<i.length;t++)n=i[t],TradingView[n]=e[n]}function r(e,t,i,n){return Object(p.assert)(Object(S.a)(e),"Unknown line tool: "+e),"LineToolVbPFixed"===e?new v.a(t,i,Object(p.ensureDefined)(n),t.mainSeries()):"LineToolRegressionTrend"===e?new y.LineToolRegressionTrend(t,i,Object(p.ensureDefined)(n)):e in b?new(Object(p.ensureDefined)(b[e]))(t,i,Object(p.ensureDefined)(n)):new(Object(p.ensureDefined)(g[e]))(t,i)}function o(e,t){return Object(p.assert)(Object(S.a)(e),e+" should be name of the line tool"),"LineToolVbPFixed"===e?v.a.createProperties(t):"LineToolRegressionTrend"===e?y.LineToolRegressionTrend.createProperties(t):e in b?Object(p.ensureDefined)(b[e]).createProperties(t):Object(p.ensureDefined)(g[e]).createProperties(t)}function s(e,t,i,n,r){if(Object(p.assert)(Object(S.b)(e),e+" should be name of the study line tool"),"LineToolVbPFixed"===e)return v.a.createPropertiesFromStudyMetaInfoAndState(t,i,n,r);if("LineToolRegressionTrend"===e)return y.LineToolRegressionTrend.createPropertiesFromStudyMetaInfoAndState(t,i,n,r)
;if(e in b)return Object(p.ensureDefined)(b[e]).createPropertiesFromStudyMetaInfoAndState(t,i,n,r);throw new Error("Property creation is not implemented for study line tool "+e)}function a(e){return e instanceof m.LineDataSource}function l(e){return e instanceof _.StudyLineDataSource}function c(e){var t,i=null;if(e===v.a.studyId())i="LineToolVbPFixed";else if(e===y.LineToolRegressionTrend.studyId())i="LineToolRegressionTrend";else for(t in b)if(b[t].studyId()===e)return t;return i}function u(e){var t,i;for(t in g)if(g[t]===e)return t;if(e===v.a)return"LineToolVbPFixed";if(e===y.LineToolRegressionTrend)return"LineToolRegressionTrend";for(i in b)if(b[i]===e)return i;return Object(p.assert)(!1,"Trying to get classname of unknown line tool"),null}function h(e,t,i,n){var o,s,a,l,c,h,_=Object(p.ensureNotNull)(u(t.constructor)),m=t.properties().clone();return m.visible.setValue(!0),o=Object(p.ensureNotNull)(t.ownerSource()),s=r(_,e,m),void 0!==n&&s.setId(n),s.setOwnerSource(o),a=t.fixedPoints(),(i?a.map(function(e){return e.add(new f.Point(20,20))}):a).forEach(function(e){return s.addFixedPoint(e)}),l=t.normalizedPoints(),c=i?function(e,t){var i=Object(p.ensureNotNull)(t.priceScale()),n=Object(p.ensureNotNull)(t.firstValue());return e.map(function(e){var t=e.price,r=i.priceToCoordinate(t,n)-40,o=i.coordinateToPrice(r,n);return Object(d.__assign)(Object(d.__assign)({},e),{price:o})})}(l,o):l,h=t.points(),s.restorePoints(c,h),s.cloneData&&s.cloneData(t),s.checkAlert&&s.checkAlert(),s}var d,p,f,_,m,g,y,v,b,S;i.r(t),i.d(t,"createLineTool",function(){return r}),i.d(t,"createLineToolProperties",function(){return o}),i.d(t,"createStudyLineToolProperties",function(){return s}),i.d(t,"isLineTool",function(){return a}),i.d(t,"isStudyLineTool",function(){return l}),i.d(t,"tryFindStudyLineToolNameByStudyId",function(){return c}),i.d(t,"lineToolClassName",function(){return u}),i.d(t,"cloneLineTool",function(){return h}),d=i("mrSG"),p=i("Eyy1"),f=i("aO4+"),_=i("MSvv"),m=i("Ss5c"),g=i("OH2X"),y=i("gf4d"),v=i("USzt"),b=i("rwPJ"),S=i("e92V"),i.d(t,"isLineToolName",function(){return S.a}),i.d(t,"isStudyLineToolName",function(){return S.b}),n(g),n({LineToolRegressionTrend:y.LineToolRegressionTrend,LineToolVbPFixed:v.a}),n(b)},Cf1E:function(e,t,i){"use strict";function n(e){return void 0===e?"":e instanceof Error?e.message:"string"==typeof e?e.toString():JSON.stringify(e)}i.d(t,"a",function(){return n})},Cu4q:function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 108 108" width="108" height="108"><path fill="#2196F3" stroke="#2196F3" stroke-linejoin="round" stroke-width="2" d="m57.29 54a15.43 15.43 0 1 1 0-30.86 15.43 15.43 0 0 1 0 30.86zm5.06 10.3C66.2 64.3 83 69.74 83 85.5v3.47H31.57V85.9a21.6 21.6 0 0 1 21.6-21.6l9.18.02z"/><path fill="#4a4a4a" d="m48.71 50.86a17.43 17.43 0 1 1 0-34.86 17.43 17.43 0 0 1 0 34.86zm0-4a13.43 13.43 0 1 0 0-26.86 13.43 13.43 0 0 0 0 26.86zM25 81.83v-1.09a19.6 19.6 0 0 1 19.6-19.6 5627.07 5627.07 0 0 1 9.09.02 2 2 0 0 0 .17-4l-4.67-.01H44.6A23.6 23.6 0 0 0 21 80.74v3.08c0 1.1.9 2 2 2h51.43a2 2 0 1 0 0-4H25zM64.14 70h20.57a2 2 0 1 0 0-4H64.14a2 2 0 1 0 0 4z"/></svg>'},CwKc:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor"><path stroke-linecap="square" d="M11.5 21.5v-7m3 7v-5m3 5v-3m-9 3v-5"/><path d="M5.5 22v-3"/><path stroke-linecap="square" d="M5.5 13.5l4.297-4.297a2.406 2.406 0 0 1 3.406 0l2.594 2.594c.94.94 2.463.943 3.406 0L23.5 7.5M22.5 12.5v6m-3-3h6"/></g></svg>'},CxTi:function(e,t,i){e.exports={css_value_currency_label_top:"6","price-axis-currency-label-wrapper":"price-axis-currency-label-wrapper-opoVZ91E","price-axis-currency-label":"price-axis-currency-label-1aGvtcW9"}},D1wV:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h;i.r(t),i.d(t,"LabelsImageCache",function(){return h}),n=i("Eyy1"),r=i("XlJ7"),o=i("u+0B"),s=i("Hr11"),a=i("Kxc7"),l=i("ikwP"),c=a.enabled("charting_library_debug_mode"),u=200,h=function(){function e(e,t,i,n){this._textWidthCache=new o.TextWidthCache(u),this._fontSize=0,this._color="",this._font="",this._keys=[],this._hash=new Map,this._fontSize=e,this._color=t,this._font=Object(r.makeFont)(e,i,n)}return e.prototype.destroy=function(){delete this._textWidthCache,this._keys=[],this._hash.clear()},e.prototype.paintTo=function(e,t,i,n,r){var o,s=this._getLabelImage(e,t);"left"!==r&&(o=Object(l.getCanvasDevicePixelRatio)(e.canvas),i-=Math.floor(s.textWidth*o)),n-=Math.ceil(s.height/2),e.drawImage(s.canvas,i,n,s.width,s.height)},e.prototype.getLabelHeight=function(e,t){return this._getLabelImage(e,t).height},e.prototype._getLabelImage=function(e,t){var i,r,o,a,h,d,p,f,_,m=this;return this._hash.has(t)?i=Object(n.ensureDefined)(this._hash.get(t)):(this._keys.length>=u&&(r=Object(n.ensureDefined)(this._keys.shift()),this._hash.delete(r)),o=Object(l.getCanvasDevicePixelRatio)(e.canvas),a=Math.ceil(this._fontSize/4.5),h=Math.round(this._fontSize/10),d=Math.ceil(this._textWidthCache.measureText(e,t)),p=Object(s.ceiledEven)(Math.round(d+2*a)),f=Object(s.ceiledEven)(this._fontSize+2*a),_=Object(l.createDisconnectedCanvas)(document,new l.Size(p,f),o),i={text:t,textWidth:Math.round(Math.max(1,d)),width:Math.floor(p*o),height:Math.floor(f*o),canvas:_},0!==d?(this._keys.push(i.text),this._hash.set(i.text,i)):c&&console.log('Canvas 2d context measureText return zero width for "'+t+'" text'),e=Object(l.getContext2D)(i.canvas),Object(l.drawScaled)(e,o,function(){e.font=m._font,
e.fillStyle=m._color,e.fillText(t,0,f-a-h)})),i},e}()},DYI2:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor" transform="translate(3 5)"><path d="M.964 9C3 5 6.679 1.5 11 1.5c4.32 0 8 3.5 10.036 7.5C19 13 15.32 16.5 11 16.5 6.679 16.5 3 13 .964 9z"/><circle cx="11" cy="9" r="3.5"/><path stroke-linecap="square" d="M2.5 17.5l17-17"/></g></svg>'},Daqx:function(e,t,i){"use strict";function n(e,t){var i="left"===e?r:o,n=t<i.length?i[t]:"";return new s(n)}var r,o,s;i.d(t,"a",function(){return n}),r=["Z","Y","X","W","V","U","T","S"],o=["A","B","C","D","E","F","G","H"],s=function(){function e(e){this.label=e}return e.prototype.equals=function(e){return null!==e&&this.label===e.label},e}()},DcGp:function(e,t,i){"use strict";function n(e,t,i){var n={name:e,frameElementId:t,data:i};window.parent.postMessage(n,"*")}function r(e,t){function i(i){i.data&&i.data.name&&i.data.name===e&&t(i.data.data)}return window.addEventListener("message",i,!1),function(){window.removeEventListener("message",i,!1)}}i.r(t),i.d(t,"dispatchEventToParent",function(){return n}),i.d(t,"listenEventFromParent",function(){return r})},Dq3s:function(e){e.exports=JSON.parse('{"4":["v",["h",0,2],["h",1,3]],"6":["v",["h",0,2,4],["h",1,3,5]],"8":["v",["h",0,2,4,6],["h",1,3,5,7]],"2h":["h",0,1],"2v":["v",0,1],"2-1":["v",["h",0,2],1],"3s":["h",0,["v",1,2]],"3h":["h",0,1,2],"3v":["v",0,1,2],"1-2":["v",0,["h",1,2]],"3r":["h",["v",0,1],2],"4h":["h",0,1,2,3],"4v":["v",0,1,2,3],"4s":["h",0,["v",1,2,3]],"1-3":["v",0,["h",1,2,3]],"2-2":["v",["h",0,1],["v",2,3]],"1-4":["v",0,["h",1,2,3,4]],"5s":["h",0,["v",1,2,3,4]],"6c":["v",["h",0,1],["h",2,3],["h",4,5]],"8c":["v",["h",0,1],["h",2,3],["h",4,5],["h",6,7]],"s":0}')},DsEq:function(e,t,i){"use strict";function n(e,t){return Object(a.deepEquals)(e,t)[0]}var r,o,s,a,l,c;i.r(t),r=i("mrSG"),o=i("hY0g"),s=i.n(o),a=i("ogJP"),l=function(e){function t(t,i){void 0===i&&(i=n);var r=e.call(this,t)||this;return r._comparator=i,r}return Object(r.__extends)(t,e),t.prototype.setValue=function(t,i){!1===this._comparator(this.value(),t)&&e.prototype.setValue.call(this,t,i)},t}(s.a),i.d(t,"DataProblemModel",function(){return c}),c=function(){function e(e,t){this._dataProblem=new l(null),this._quotesProvider=e,this._quotesProvider.quotesUpdate().subscribe(this,this._update.bind(this)),this._resetSubscription=t,this._resetSubscription.subscribe(this,this._resetStatus)}return e.prototype.destroy=function(){this._quotesProvider.quotesUpdate().unsubscribeAll(this),this._resetSubscription.unsubscribeAll(this)},e.prototype.status=function(){return this._dataProblem},e.prototype._resetStatus=function(){this._dataProblem.setValue(null)},e.prototype._update=function(e){void 0===e.values||void 0===e.values.data_problem?this._resetStatus():this._dataProblem.setValue(e.values.data_problem)},e}()},E1RQ:function(e,t,i){"use strict";function n(e,t){var i=t||window.locale||"en",n=e[i]?e[i]:e.en
;return(n="tradingview.com"===n?"www.tradingview.com":n)?document.location.protocol+"//"+n:""}function r(e,t){var i,n,r,o,s=/([a-zA-Z0-9.\-]*tradingview.com)|localhost/.test(e);return s?""===(i=Object(c.buildUtmQueryString)(t))?e:(n=e.indexOf("?"),o=-1!==(r=e.indexOf("#")),-1!==n&&(!o||n<r)?e.slice(0,n)+"?"+(o?e.slice(n+1,r):e.slice(n+1))+"&"+i+(o?e.slice(r):""):o?e.slice(0,r)+"?"+i+e.slice(r):e+"?"+i):e}function o(){return"tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1)}function s(e,t,i,n,r,o){var s,l,c;void 0===r&&(r=800),void 0===o&&(o=600),s=!1,null!==r&&(l=i||r,"100%"===i&&(l=r),parseInt(l)>r&&(l=r,s=!0),t.style.width=a(l)),null!==o&&(c=n||o,"100%"===n&&(c=o),parseInt(c)>o&&(c=o,s=!0),t.style.height=a(c)),t.style.overflow=s?"auto":"hidden",t.innerHTML="",t.appendChild(Object(u.parseHtmlElement)(e))}function a(e){return null===e?"":(e.toString().endsWith("px")||(e+="px"),e)}var l,c,u;i.r(t),i.d(t,"determineBaseUrl",function(){return n}),i.d(t,"addUtmToUrl",function(){return r}),i.d(t,"generateWidgetContainerId",function(){return o}),i.d(t,"initWidgetInElement",function(){return s}),l=i("bSeV"),c=i("JgDS"),u=i("TzTt")},E6p6:function(e,t,i){"use strict";var n;i.d(t,"a",function(){return n}),function(e){e[e.PRE_SESSION=-1]="PRE_SESSION",e[e.POST_SESSION=-2]="POST_SESSION",e[e.LASTBAR_SESSION=-3]="LASTBAR_SESSION"}(n||(n={}))},EEWc:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="#ed5565" d="M0 0h18v18H0z"/><path fill="#fc0" d="M6.6 5.9l-4.1 3L4 4l1.6 5-4.2-3h5.1zm1.5-2.7l1.6.7-1.7.4L9.1 3 9 4.7zM10 5l1.2 1.2L9.5 6l1.5-.7-.8 1.5zm.3 2.5l.6 1.6-1.4-1h1.7l-1.3 1zm-1.2 2L9 11.2 8 9.8l1.7.6-1.7.4z"/></svg>'},EQCO:function(e,t,i){"use strict";(function(t){function n(e){this._band=e||{}}function r(){n.apply(this,arguments)}function o(){n.apply(this,arguments)}function s(){n.apply(this,arguments)}function a(){n.apply(this,arguments)}var l,c=i("23IT"),u=i("tF8J").generateTitleForGui,h=i("uOxu").getLogger("Alerts.Band"),d=i("n5al"),p=i("Ialn");TradingView="object"==typeof t?t.TradingView:TradingView||{},l={create:function(e){var t,i=e||{},n=i.type;if("MainSeries"===n)t=r;else if("Study"===n||/^study_\w+/.test(n)||"StudyStrategy"===n)t=o;else if("Value"===n)t=s;else{if(!/^LineTool.*/i.test(n))return h.logError("Unknown alert band type "+n),null;t=a}return new t(i)}},n.prototype.id=function(){return this._band.id},n.prototype.type=function(){return this._band.type},n.prototype.title=function(){return this._band.title},n.prototype.hasPlots=function(){return this._band.plots&&this._band.plots.length},n.prototype.getActualSymbol=function(){return this._band.actualSymbol},n.prototype.getSymbolString=function(){return this._band.symbolString},n.prototype.getPlotTitle=function(e){
return e.title?e.title:c.isOhlcOpenPlot(e)?e.ohlcTitle+" "+$.t("Open"):c.isOhlcHighPlot(e)?e.ohlcTitle+" "+$.t("High"):c.isOhlcLowPlot(e)?e.ohlcTitle+" "+$.t("Low"):c.isOhlcClosePlot(e)?e.ohlcTitle+" "+$.t("Close"):"vol"===e.id?$.t("Volume"):"vol_ma"===e.id?$.t("Volume MA"):"open"===e.id?$.t("Open"):"high"===e.id?$.t("High"):"low"===e.id?$.t("Low"):"close"===e.id?$.t("Close"):e.id},n.prototype.getPlots=function(e){var t,i=e||{};return this._band.plots&&this._band.plots.length&&"inputSelect"===i.format?(t=-1,this._band.plots.map(function(e){return{value:++t,title:this.getPlotTitle(e)}},this)):this._band.plots},n.prototype.hasUsualPlots=function(){var e=this._band.plots;return!e||e.filter(c.isAlertConditionPlot).length<e.length},n.prototype.getInputs=function(){return{}},inherit(r,n),r.prototype.title=function(e){var t=i("8woN"),n=e||{},r=!!n.withInterval,o=this._band.actualSymbol;return t&&(o=t.shortName(o)),u({symbol:o,interval:r?this._band.interval:null,style:this._band.style,inputs:this._band.styleInputs||{},boxSize:this._band.boxSize,reversalAmount:this._band.reversalAmount,extended:n.extended})},r.prototype.getInterval=function(){return this._band.interval},r.prototype.getStyle=function(){return this._band.style},r.prototype.getStyleInputs=function(){return this._band.styleInputs},r.prototype.isRangeBasedStyle=function(){return d.isRangeBasedStyle(this._band.style)},r.prototype.isSpread=function(){return this._band.isSpread},r.prototype.isExtended=function(){return this._band.extendedHours},r.prototype.getDividendsAdjustment=function(){return this._band.dividendsAdjustment},inherit(o,n),o.prototype.title=function(e){var t,i,n,r=e||{},o=r.withPlotTitle,s=this._band;return r.short&&s.shortTitle?t=s.shortTitle:s.title?t=s.title:(t=s.shortDescription||"Study",i=[],Object.keys(s.inputs).forEach(function(e){var t=s.inputs[e]&&s.inputs[e].id;t&&!s.inputs[e].isHidden&&void 0!==s.inputs[t]&&i.push(s.inputs[t])}),i.length&&(t+=" ("+i.join(", ")+")")),o&&(n=this.selectedPlot())&&(t+=" "+(n.title||$.t("Untitled Plot"))),p.isRtl()&&(t=p.forceLTRStr(t)),t},o.prototype.selectedPlot=function(){var e=this._band;return void 0===e.plotIndex?null:this.getPlots().filter(function(t){return t.value===e.plotIndex})[0]||null},o.prototype.getInputs=function(){return this._band.inputs||{}},inherit(s,n),s.prototype.title=function(e){var t=this._band.value||0;return e.formatter?e.formatter.format(parseFloat(t)):parseFloat(t).toString()},inherit(a,n),e.exports.AlertBandAbstract=n,e.exports.AlertBandValue=s,e.exports.alertBandFactory=l}).call(this,i("yLpj"))},Ecpn:function(e,t,i){"use strict";function n(e){return e in r}i.d(t,"a",function(){return n});var r={LinearRegression:!0,PivotPointsHighLow:!0,VbPSessions:!0,VbPVisible:!0,VbPFixed:!0,ZigZag:!0,PivotPointsStandard:!0}},EqoR:function(e,t,i){"use strict";function n(e,t){var i=t||n.createProperties();o.call(this,e,i),this._constructor="LineToolInsidePitchfork"}var r=i("5rJj"),o=i("aDyP").LineToolPitchfork,s=window.t("Inside Pitchfork");inherit(n,o),n.prototype.translatedType=function(){
return s},n.prototype.name=function(){return"Inside Pitchfork"},n.createProperties=function(e){var t=new r("linetoolinsidepitchfork",e,!1,{range:[0,8]});return n._configureProperties(t),t},n._configureProperties=function(e){o._configureProperties(e)},t.LineToolInsidePitchfork=n},EsvI:function(e,t,i){"use strict";function n(e){return Object(E.fetch)("/theme/?themeName="+encodeURIComponent(e),{credentials:"include",method:"GET"}).then(function(e){return e.json()}).then(function(e){var t={};return e.content&&(t.content=JSON.parse(e.content)),t})}function r(e,t){var i=V.colorsPalette[e];if(!i)throw new Error("No such color "+e);return i}function o(e){return!e.isPrivate}function s(){return N[k.watchedTheme.value()]||N[F]}function a(e){return s().getThemedColor(e)}function l(e,t,i,n,r,o){void 0===r&&(r=!0),void 0===o&&(o=!1);var s=t?Promise.resolve(m(e)):d(e);return s.then(function(s){if(void 0!==s.content){var a=!t;n.applyTheme(s.content,a,i,e,t,r,o)}}),s}function c(){Object(k.setTheme)(Object(I.getValue)(j)||F)}function u(){return Object(I.getValue)(j)||null}function h(){Object(I.setValue)(j,s().name,{forceFlush:!0})}function d(e){return n(e)}function p(){return O||Object(E.fetch)("/themes/",{credentials:"include",method:"GET"}).then(function(e){return O=e.json()})}function f(){return M.getStdThemeNames()}function _(e){return f().includes(e)}function m(e){return M.getStdChartTheme(e)||{content:void 0}}function g(e,t){var i=t||s().name,n=M.getStdChartTheme(i),r=0!==e.length&&e.split(".");return n&&n.content&&r?r.reduce(function(e,t){return e[t]},n.content):null}function y(e,t,i){var n=g(e,i);return null!==n&&Object(x.areEqualRgba)(Object(x.parseRgba)(n),Object(x.parseRgba)(String(t)))}function v(e,t){return function(e,t){var i=new FormData;return i.append("content",JSON.stringify(t)),i.append("name",e),O=null,Object(E.fetch)("/save-theme/",{credentials:"include",method:"POST",body:i}).then(function(e){return e.json()},function(e){return A.logError(e)})}(e,t)}function b(e){return function(e){var t=new FormData;return t.append("name",e),O=null,Object(E.fetch)("/remove-theme/",{credentials:"include",method:"POST",body:t}).then(function(e){return e.json()},function(e){return A.logError(e)})}(e)}function S(e){return function(e){return n(e).then(function(e){return Boolean(e.content)})}(e)}function w(e){return M.translateThemeName(e)}function P(e){return M.isStdTheme(e)}function T(e){return{content:{chartProperties:{paneProperties:e.model().properties().paneProperties.state(),scalesProperties:e.model().properties().scalesProperties.state()},sessions:e.model().sessions().properties().state(),mainSourceProperties:e.model().mainSeries().properties().state()}}}var C,x,I,E,L,A,O,M,k,D,R,V,B,N,F,j;i.r(t),i("bSeV"),C=i("YFKU"),x=i("eJTA"),I=i("Vdly"),E=i("BHQF"),L=i("uOxu"),A=Object(L.getLogger)("Themes.Provider"),O=null,M=i("zM7N"),k=i("oiZD"),D=i("IMMp"),R=i("NWKS"),V=i("6Kf3"),i.d(t,"themes",function(){return N}),i.d(t,"DEFAULT_THEME",function(){return F}),i.d(t,"isPublicTheme",function(){return o}),
i.d(t,"getCurrentTheme",function(){return s}),i.d(t,"getThemedColor",function(){return a}),i.d(t,"loadTheme",function(){return l}),i.d(t,"restoreTheme",function(){return c}),i.d(t,"savedThemeName",function(){return u}),i.d(t,"syncTheme",function(){return h}),i.d(t,"getTheme",function(){return d}),i.d(t,"getThemeNames",function(){return p}),i.d(t,"getStdThemeNames",function(){return f}),i.d(t,"isStdThemeName",function(){return _}),i.d(t,"getStdTheme",function(){return m}),i.d(t,"getStdThemedValue",function(){return g}),i.d(t,"isStdThemedDefaultValue",function(){return y}),i.d(t,"saveTheme",function(){return v}),i.d(t,"removeTheme",function(){return b}),i.d(t,"isThemeExist",function(){return S}),i.d(t,"translateStdThemeName",function(){return w}),i.d(t,"isStdTheme",function(){return P}),i.d(t,"extractThemeFromModel",function(){return T}),(B={})[M.StdTheme.Light]={name:M.StdTheme.Light,label:C.t("Light",{context:"colorThemeName"}),order:2,getThemedColor:function(e){return r(e)}},B[M.StdTheme.Dark]={name:M.StdTheme.Dark,label:C.t("Dark",{context:"colorThemeName"}),order:1,getThemedColor:function(e){return r(D[e]||e)}},(N=B).sa={isPrivate:!0,noChartTheme:!0,name:"sa",getThemedColor:function(e){return r(R[e]||e)}},F="light",j="current_theme.name"},EyEd:function(e,t,i){"use strict";function n(e){this._studyId=e,this._maxToVers=r.ZERO,this._maxFromVers=r.ZERO,this._migrs=[]}var r=i("lCO3").Version,o=i("uOxu").getLogger("Chart.StudyMigration");n.prototype.addMigration=function(e,t,i){var n=r.parse(e),o=r.parse(t);n.isGreater(this._maxFromVers)&&(this._maxFromVers=n),o.isGreater(this._maxToVers)&&(this._maxToVers=o),this._migrs.push({fromVers:n,toVers:o,rules:i})},n.prototype.updateInputs=function(e,t,i){var n,r,s;if(!i)return i;for(n=TradingView.clone(i),r=e;r.isLess(t)&&null!=(s=this._findMigration(r));){if(o.logNormal("Migrating study inputs from "+s.fromVers+" to "+s.toVers+" version, studyId: "+this._studyId+", migration: "+JSON.stringify(s)+", inputs: "+JSON.stringify(i)),n=this._applyMigration(n,s),!r.isLess(s.toVers))throw new Error("Problems in study migration process... Possible infinite cycle has been detected and stopped.");r=s.toVers}return r>e&&o.logNormal("Study inputs migration is done, studyId: "+this._studyId+", inputs: "+JSON.stringify(n)),n},n.prototype._findMigration=function(e){var t,i,n=-1,r=this._maxFromVers;for(t=0;t<this._migrs.length;t++)(i=this._migrs[t]).fromVers.isLess(e)||i.fromVers.isLessOrEqual(r)&&(r=i.fromVers,n=t);return n<0?null:this._migrs[n]},n.prototype._applyMigration=function(e,t){var i,n,r=e;for(i=0;i<t.rules.length;i++)n=t.rules[i],r=this._getApplyRuleFun(n.type)(r,n);return r},n.prototype._getApplyRuleFun=function(e){if("inputRemoved"===e)return n._applyInputRemovedRule;if("inputChangedType"===e)return n._applyInputChangedTypeRule;if("inputChangedMinMax"===e)return n._applyInputChangedMinMaxRule;if("inputChangedOptions"===e)return n._applyInputChangedOptionsRule;throw new Error("Unknown migration rule type: "+e)},n._applyInputRemovedRule=function(e,t){if(!(t.inputId in e))return e
;if("removeVal"!==t.action)throw new Error("Unexpected rule.action="+t.action+" in rule.type="+t.type);var i=e[t.inputId];return delete e[t.inputId],o.logNormal("Input "+t.inputId+"="+i+" removed"),e},n._applyInputChangedTypeRule=function(e,t){var i=e[t.inputId];if("resetToDefVal"===t.action)return e[t.inputId]=t.defVal,o.logNormal("Input "+t.inputId+"="+i+" reset to default value "+t.defVal),e;if("convertVal"===t.action){if(null==i)return e;if("float"===t.inputTypeFrom&&"integer"===t.inputType)return e[t.inputId]=Math.round(e[t.inputId]),o.logNormal("Input "+t.inputId+"="+i+" converted to value "+e[t.inputId]),e;if("integer"===t.inputTypeFrom&&"float"===t.inputType)return e;if("text"===t.inputTypeFrom&&"source"===t.inputType)return n._isValidSource(i,t.options)?e:(e[t.inputId]=t.defVal,e);throw new Error("Cannot convertVal from "+t.inputTypeFrom+" to "+t.inputType)}throw new Error("Unknown action "+t.action+" for rule with type "+t.type)},n._isValidSource=function(e,t){return e.indexOf("$")>=0||t.indexOf(e)>=0},n._applyInputChangedMinMaxRule=function(e,t){if("adjustValIfNeeded"!==t.action)throw new Error("Unknown action "+t.action+" for rule with type "+t.type);var i=e[t.inputId];return i<t.minVal?e[t.inputId]=t.minVal:i>t.maxVal&&(e[t.inputId]=t.maxVal),o.logNormal("Input "+t.inputId+"="+i+" adjusted to value "+e[t.inputId]),e},n._applyInputChangedOptionsRule=function(e,t){if(!(["text"].indexOf(t.inputType)>=0&&"resetToDefValIfNeeded"===t.action))throw new Error("Unexpected rule.inputType="+t.inputType+" in rule.action="+t.action);var i=e[t.inputId];return t.options.indexOf(i)<0&&(e[t.inputId]=t.defVal,o.logNormal("Input "+t.inputId+"="+i+" reset to default value "+t.defVal)),e},e.exports=n},Eyy1:function(e,t,i){"use strict";function n(e){if(void 0===e)throw new Error("Value is undefined");return e}function r(e){if(null===e)throw new Error("Value is null");return e}Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error("Assertion failed"+(t?": "+t:""))},t.ensureDefined=n,t.ensureNotNull=r,t.ensure=function(e){return r(n(e))},t.ensureNever=function(e){}},FBsw:function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"OverlayPriceAxisView",function(){return s}),n=i("mrSG"),r=i("KcY8"),o=i("oXaB"),s=function(e){function t(t){var i=e.call(this)||this;return i._source=t,i}return Object(n.__extends)(t,e),t.prototype._updateRendererData=function(e,t,i){var n,r,s,a;e.visible=!1,t.visible=!1,(n=this._source.lastValueData("close",!1)).noData||(r=this._source.model(),null!==(s=this._source.priceScale())&&r.isPriceScaleVisible(s)&&(i.background=n.color,i.color=this.generateTextColor(n.color),i.coordinate=n.coordinate,i.floatCoordinate=n.floatCoordinate,(a=this._source.model().properties().scalesProperties).showSeriesLastValue.value()&&(e.text=this._text(n),e.visible=!0),t.text="",(a.showSymbolLabels.value()||a.seriesLastValueMode.value()===o.PriceAxisLastValueMode.LastPriceAndPercentageValue)&&(t.text=this._paneText(n),t.visible=t.text.length>0)))},t.prototype._paneText=function(e){
var t,i="",n=this._source.model().properties().scalesProperties;return n.showSymbolLabels.value()&&(i+=this._source.symbol()+" "),null!==(t=this._source.priceScale())&&n.showSeriesLastValue.value()&&n.seriesLastValueMode.value()===o.PriceAxisLastValueMode.LastPriceAndPercentageValue&&(i+=t.isPercentage()?e.formattedPriceAbsolute:e.formattedPricePercentage),i.trim()},t.prototype._text=function(e){var t=this._source.model().properties().scalesProperties,i=this._source.priceScale();return t.seriesLastValueMode.value()!==o.PriceAxisLastValueMode.LastPriceAndPercentageValue||null===i?e.text:i.isPercentage()?e.formattedPricePercentage:e.formattedPriceAbsolute},t}(r.a)},FBuY:function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"TVXWindowEvents",function(){return s}),i("HbRj"),n=i("uOxu"),r=i("VVxS"),o=Object(n.getLogger)("XWindowEvents"),function(e){var t,i="tvxwevents.",n={};window.BroadcastChannel?((t=new BroadcastChannel("tvxwevents")).addEventListener("message",function(e){var t=e.data,i=t.event,r=t.value;n[i]&&n[i].forEach(function(e){e(r)})}),function(){var e,t,n,s,a,l,c=[],u=performance.now();for(e=0;e<r.TVLocalStorage.length;e++)(t=r.TVLocalStorage.key(e)).startsWith(i)&&c.push(t);for(n=r.TVLocalStorage.length,s=0,a=c;s<a.length;s++)t=a[s],r.TVLocalStorage.removeItem(t);l=performance.now()-u,o.logNormal("Total keys amount in local storage on operation start: "+n),o.logNormal("Keys amount in local storage to be deleted: "+c.length),o.logNormal("Keys to be deleted from local storage: "+JSON.stringify(c)),o.logNormal("Removing keys from local storage took "+l+" ms")}()):window.addEventListener("storage",function(e){var t,o=e.newValue,s=e.key;null!==o&&s&&s.startsWith(i)&&(t=s.substr(i.length),n[t]&&n[t].forEach(function(t){t(e.newValue)}),r.TVLocalStorage.removeItem(s))}),e.on=function(e,t){n[e]||(n[e]=[]),n[e].push(t)},e.off=function(e,t){if(n[e]){var i=n[e].indexOf(t);-1!==i&&(1===n[e].length?delete n[e]:n[e].splice(i,1))}},e.emit=function(e,n){void 0===n&&(n=Date.now());try{t?t.postMessage({event:e,value:n}):r.TVLocalStorage.setItem(i+e,n.toString())}catch(e){o.logError(e.message)}}}(s||(s={}))},FIi8:function(e,t,i){"use strict";function n(e){var t,i=[];for(t=1;t<arguments.length;t++)i[t-1]=arguments[t];return e&&"object"==typeof e?0===i.length?e:(i.forEach(function(t){void 0!==t&&null!==t&&"object"==typeof t&&Object.keys(t).forEach(function(i){var o,s,a=e[i],l=t[i],c=l===e;c||(o=Array.isArray(l),l&&(r(l)||o)?(s=void 0,s=o?a&&Array.isArray(a)?a:[]:a&&r(a)?a:{},e[i]=n(s,l)):void 0!==l&&(e[i]=l))})}),e):e}function r(e){var t,i,n;return!(!e||"[object Object]"!==Object.prototype.toString.call(e))&&(!(t=Object.getPrototypeOf(e))||(i=Object.hasOwnProperty.toString,"function"==typeof(n=t.hasOwnProperty("constructor")&&t.constructor)&&i.call(n)===i.call(Object)))}i.r(t),i.d(t,"deepExtend",function(){return n})},FKaq:function(e,t,i){"use strict";var n,r,o,s,a,l;i.r(t),i.d(t,"SetPriceScaleSelectionStrategyCommand",function(){return l}),n=i("mrSG"),r=i("Eyy1"),o=i("RDU5"),s=i("MWAT"),a=function(){function e(e){
this._leftScales=e.leftPriceScales().map(function(e){return e.id()}),this._rightScales=e.rightPriceScales().map(function(e){return e.id()})}return e.prototype.restorePane=function(e){this._leftScales.reverse().map(function(t){return Object(r.ensureNotNull)(e.getPriceScaleById(t))}).forEach(function(t){return e.movePriceScale(t,"left")}),this._rightScales.reverse().map(function(t){return Object(r.ensureNotNull)(e.getPriceScaleById(t))}).forEach(function(t){return e.movePriceScale(t,"right")})},e}(),l=function(e){function t(t,i,n){var r=e.call(this,n)||this;return r._chartModel=t,r._targetStrategy=Object(s.createPriceScaleSelectionStrategy)(i),r._initialState=t.panes().map(function(e){return new a(e)}),r}return Object(n.__extends)(t,e),t.prototype.redo=function(){var e=this;this._chartModel.panes().forEach(function(t){return t.setPriceScaleSelectionStrategy(e._targetStrategy)}),this._chartModel.fullUpdate()},t.prototype.undo=function(){var e,t=this._chartModel.panes();for(e=0;e<t.length;e++)this._initialState[e].restorePane(t[e]);this._chartModel.fullUpdate()},t}(o.UndoCommand)},FQhm:function(e,t,i){"use strict";function n(e,t,i){h[e].unsubscribe(i,t)}function r(e,t,i){o(e,t,i)}function o(e,t,i,n){h.hasOwnProperty(e)||(h[e]=new u.a),p[e]?t.call(i):h[e].subscribe(i,t,n)}function s(e){d.push(e)}function a(e){var t,i,n=[];for(t=1;t<arguments.length;t++)n[t-1]=arguments[t];i=[e].concat(n),d.forEach(function(e){e.apply(null,i)}),h.hasOwnProperty(e)&&h[e].fire.apply(h[e],n)}function l(e){p[e]&&console.warn("Something went wrong: emitOnce called multiple times with same event ("+e+")"),p[e]=!0,a.apply(null,arguments)}var c,u,h,d,p;i.r(t),i.d(t,"unsubscribe",function(){return n}),i.d(t,"on",function(){return r}),i.d(t,"subscribe",function(){return o}),i.d(t,"subscribeToAll",function(){return s}),i.d(t,"emit",function(){return a}),i.d(t,"emitOnce",function(){return l}),c=i("aIyQ"),u=i.n(c),h={},d=[],p={}},FVHe:function(e,t,i){"use strict";function n(e,t){return!(!e&&!t)&&(!(!e||t)||(!(e||!t)||(e.index!==t.index||e.price!==t.price)))}var r,o,s,a,l,c,u,h,d,p,f,_;i.r(t),i.d(t,"TrendLineStatsCache",function(){return _}),r=i("Eyy1"),o=i("aO4+"),s=i("uOxu"),a=i("5/lF"),l=i("zDbI"),c=i("8xAY"),u=i("ikwP"),h=c.LabelSettings.fontSize,d=c.LabelSettings.lineSpacing,p=c.LabelSettings.paddingTopBottom,f=Object(s.getLogger)("Chart.LineToolTrendLine"),_=function(){function e(e){var t,i,n,r=this;this._sourcesToRow=new Map,this._rowsToSources=new Map,this._currentWidth=400,this._actualCapacity=1,this._currentSymbol="",this._needRecreateCanvas=!1,this._model=e,i=h+(t=d),n=3,this._rowHeight=i*n-t+2*p+2,this._canvas=Object(u.createDisconnectedBoundCanvas)(document,new u.Size(this._currentWidth,this._rowHeight*this._actualCapacity)),this._ctx=Object(u.getPrescaledContext2D)(this._canvas.canvas),this._dprChangeHandler=function(){r._needRecreateCanvas=!0,r._model.lightUpdate()},this._canvas.subscribeCanvasConfigured(this._dprChangeHandler)}return e.prototype.destroy=function(){this._canvas.unsubscribeCanvasConfigured(this._dprChangeHandler),
this._canvas.destroy()},e.prototype.canvas=function(){return this._needRecreateCanvas&&this._recreateCanvas(),this._canvas.canvas},e.prototype.devicePixelRatio=function(){return this._canvas.pixelRatio},e.prototype.topByRow=function(e){return e*this._rowHeight},e.prototype.rowHeight=function(e){return this._rowHeight},e.prototype.rowWidth=function(e){var t=Object(r.ensureDefined)(this._rowsToSources.get(e));return Object(r.ensureDefined)(this._sourcesToRow.get(t)).width},e.prototype.currentWidth=function(){return this._currentWidth},e.prototype.removeSource=function(e){var t,i;this._needRecreateCanvas&&this._recreateCanvas(),void 0!==(t=this._sourcesToRow.get(e))&&(i=t.rowIndex,this._ctx.save(),this._ctx.clearRect(0,this.topByRow(i),this._currentWidth,this.rowHeight(i)),this._ctx.restore(),this._sourcesToRow.delete(e),this._rowsToSources.delete(i))},e.prototype.updateSource=function(e,t){var i,n,r,o,s,a,l;return this._needRecreateCanvas&&this._recreateCanvas(),i=e.properties().symbol.value(),this._currentSymbol!==i&&(f.logDebug("TrendLineCache. Clearing canvas because of changing symbol from "+this._currentSymbol+" to "+i),this._currentSymbol=i,this._sourcesToRow.clear(),this._rowsToSources.clear()),n=e.id(),void 0===(r=this._sourcesToRow.get(n))&&(r={effectiveState:null,rowIndex:o=this._findEmptyRow(n),width:0},this._sourcesToRow.set(n,r),this._rowsToSources.set(o,n)),s=r.effectiveState,a=this._effectiveState(e),this._effectiveStatesEquals(s,a)||(l=t(),this._repaintSource(n,r.rowIndex,l),r.effectiveState=a),r},e.prototype._findEmptyRow=function(e){for(var t,i,n=0;void 0!==this._rowsToSources.get(n);)n++;return this._rowsToSources.set(n,e),n>=this._actualCapacity&&(this._actualCapacity++,t=new u.Size(this._currentWidth,this._rowHeight*this._actualCapacity),this._canvas.unsubscribeCanvasConfigured(this._dprChangeHandler),i=this._canvas,this._canvas=Object(u.resizeCanvasPreservingContent)(this._canvas,t),i.destroy(),this._canvas.subscribeCanvasConfigured(this._dprChangeHandler),this._ctx=Object(u.getPrescaledContext2D)(this._canvas.canvas),this._ctx.font=h+"px "+l.CHART_FONT_FAMILY,f.logDebug("TrendLineCache. Expanding cache to "+this._actualCapacity+" items")),n},e.prototype._effectiveState=function(e){var t=e.properties(),i={p1:Object.assign({},e.points()[0]),p2:Object.assign({},e.points()[1]),props:e.properties(),showBars:t.showBarsRange.value(),showTimeRange:t.showDateTimeRange.value(),showDistance:t.showDistance.value(),showPriceRange:t.showPriceRange.value(),showAngle:t.showAngle.value(),dark:e.model().isDark(),priceRange:void 0,barSpacing:void 0};return!0===i.showAngle&&(i.priceRange=Object(r.ensureNotNull)(Object(r.ensureNotNull)(e.priceScale()).priceRange()).state(),i.barSpacing=e.model().timeScale().barSpacing()),i},e.prototype._effectiveStatesEquals=function(e,t){var i,o;if(null!==e&&null===t)return!1;if(null===e&&null!==t)return!1;if(i=Object(r.ensureNotNull)(e),o=Object(r.ensureNotNull)(t),n(i.p1,o.p1))return!1;if(n(i.p2,o.p2))return!1;if(i.dark!==o.dark)return!1;if(i.showBars!==o.showBars)return!1
;if(i.showTimeRange!==o.showTimeRange)return!1;if(i.showDistance!==o.showDistance)return!1;if(i.showPriceRange!==o.showPriceRange)return!1;if(i.showAngle!==o.showAngle)return!1;if(i.showAngle&&o.showAngle){if(i.priceRange.min!==o.priceRange.min)return!1;if(i.priceRange.max!==o.priceRange.max)return!1;if(i.barSpacing!==o.barSpacing)return!1}return!0},e.prototype._repaintSource=function(e,t,i){var n;this._ctx.save(),this._ctx.translate(.5,this.topByRow(t)+.5),i.points[0]=new o.Point(0,0),i.offsetX=0,i.offsetY=0,delete i.horzAlign,delete i.vertAlign,this._ctx.clearRect(0,0,this._currentWidth,this.rowHeight(t)),n=new a.TrendLineStatsRenderer(i,{widths:[]}).draw(this._ctx),Object(r.ensureDefined)(this._sourcesToRow.get(e)).width=n.width,this._ctx.restore()},e.prototype._recreateCanvas=function(){this._canvas.unsubscribeCanvasConfigured(this._dprChangeHandler),this._canvas.destroy(),this._canvas=Object(u.createDisconnectedBoundCanvas)(document,new u.Size(this._currentWidth,this._rowHeight*this._actualCapacity)),this._canvas.subscribeCanvasConfigured(this._dprChangeHandler),this._sourcesToRow.clear(),this._rowsToSources.clear(),this._ctx=Object(u.getPrescaledContext2D)(this._canvas.canvas),this._needRecreateCanvas=!1},e}()},FVma:function(e,t,i){"use strict";(function(e){function n(e,t,i){this._prices=[],this._recreateCanvasAndContext(new S(0,0)),this.reset({font:e,fontSize:t,backColors:i}),this._priceAxisFontSize=11}function r(e,t){this._model=e,this._source=t,this._pivots=[],this._textCache={}}function o(e,t){this._source=e,this._model=e._model,this._prices=[],this._invidated=!0,this._cache=t,this._visiblePivots=new Set}function s(e,t,i,n){var r,o,s;for(u.call(this,e,t,i,n),r=["P","S1/R1","S2/R2","S3/R3","S4/R4","S5/R5"],o=this.properties().levelsStyle.visibility,s=0;s<r.length;s++)o[r[s]].listeners().subscribe(this,TradingView.Study.prototype.processHibernate)}var a=i("aO4+").Point,l=i("2kV1").StudyStatusView,c=i("it7y").StudyDataWindowView,u=i("Qq0B").NonSeriesStudy,h=i("dUDn").StandardPivotPointsPriceAxisView,d=i("KtbP").PanePriceAxisView,p=i("l4sv").HorizontalLineRenderer,f=i("loH8"),_=i("VdBB").HitTestResult,m=i("Zy3/").CompositeRenderer,g=i("k9/m").PlotRowSearchMode,y=i("hayr").propertyPages,v=i("ikwP"),b=v.getPretransformedContext2D,S=v.Size,w=v.createDisconnectedBoundCanvas;n.prototype._recreateCanvasAndContext=function(e){this._canvasBinding=w(document,e),this._cache=b(this._canvasBinding)},n.prototype.destroy=function(){},n.prototype.reset=function(e){this._prices=[],this._params=e,this._cache.setFont(e.fontSize+"px "+e.font);var t=this;this._labelWidth=["P","S1","R1","S2","R2","S3","R3","S4","R4","S5","R5","/"].reduce(function(e,i){var n=t._cache.measureText(i).width;return Math.max(n,e)},0)},n.prototype.rowHeight=function(){return this._priceAxisFontSize+4},n.prototype._labelRectByIndex=function(e){var t=0,i=Math.round(this._topByIndex(e)),n=Math.round(this._labelWidth+4),r=Math.round(this._params.fontSize+8);return{left:t,top:i,width:n,height:r}},n.prototype._centerByIndex=function(e){
return Math.round((e+.5)*(this._params.fontSize+8))},n.prototype._topByIndex=function(e){return Math.round(e*(this._params.fontSize+8))},n.prototype.setPrices=function(e){var t,i,n,r,o,s=8,a=!1,l=function(e,t){return void 0===e&&void 0===t||e.formatted===t.formatted};if(e.length!==this._prices.length)a=!0;else for(t=0;t<this._prices.length;t++)if(!l(this._prices[t],e[t])){a=!0;break}if(a){for(i=this._labelWidth+6,n=this._params.fontSize,r=Math.max(e.length,22)*(n+s),this._recreateCanvasAndContext(new S(i,r)),this._prices=e,this._cache.save(),this._cache.translate(.5,.5),this._cache.font=this._params.fontSize+"px "+this._params.font,this._cache.textBaseline="middle",t=0;t<this._prices.length;t++)this._prices[t]&&(o=["P","S1","R1","S2","R2","S3","R3","S4","R4","S5","R5"][t],this._cache.fillStyle=this._params.backColors[t],this._cache.fillText(o,0,this._centerByIndex(t)),this._cache.fillText("/",0,this._centerByIndex(t+11)));this._prices=e,this._cache.restore()}},r.prototype.setCache=function(e){this._cache=e},r.prototype.priceAxisViews=function(e,t){return this._priceAxisViews},r.prototype.mergeLabel=function(e,t,i){var n=""+t;void 0===e[n]?(e[n]={},e[n].text=i,e[n].ids=[this.complete(i)]):(e[n].text+="/"+i,e[n].ids.push(this.complete(i)))},r.prototype.complete=function(e){return"P"===e?e:"S"+e[1]+"/R"+e[1]},r.prototype.update=function(){this._invalidated=!0},r.prototype._updateImpl=function(){var e,t,i,n,r,o,s,a,l,c,u,h,d,p,f,_,m,g;if(this._source.pricesView().prices(),this._pivots=[],this._source.customData()&&this._source.customData().pivots&&this._source.properties().visible.value()&&(e=this._source.customData().pivots,t=this._source._indexes,i=this._model.timeScale(),(n=this._source.priceScale())&&!n.isEmpty()&&!i.isEmpty()&&e&&(o=(r=i.visibleBarsStrictRange()).firstBar(),s=r.lastBar(),this._source.ownerSource())))for(a=this._source.ownerSource().firstValue(),l=0;l<e.length;l++)if(e[l]&&(c=t[e[l].startIndex],!((u=t[e[l].endIndex])<o||c>s)))for(_ in h={},(d=this._source.properties().levelsStyle.visibility).P.value()&&this.mergeLabel(h,e[l].p,"P"),d["S1/R1"].value()&&(this.mergeLabel(h,e[l].s1,"S1"),this.mergeLabel(h,e[l].r1,"R1")),d["S2/R2"].value()&&(this.mergeLabel(h,e[l].s2,"S2"),this.mergeLabel(h,e[l].r2,"R2")),d["S3/R3"].value()&&(this.mergeLabel(h,e[l].s3,"S3"),this.mergeLabel(h,e[l].r3,"R3")),d["S4/R4"].value()&&(this.mergeLabel(h,e[l].s4,"S4"),this.mergeLabel(h,e[l].r4,"R4")),d["S5/R5"].value()&&(this.mergeLabel(h,e[l].s5,"S5"),this.mergeLabel(h,e[l].r5,"R5")),p=i.indexToCoordinate(c),f=i.indexToCoordinate(u),h)m=parseFloat(_),g=n.priceToCoordinate(m,a),this._pivots.push({x1:p,x2:f,y:g,label:h[_].text,labelIds:h[_].ids,src:e[l]})},r.prototype.renderer=function(){var e,t,i,n,r,o,s,l,c,u,h,d,g,y,v,b,S;for(this._invalidated&&(this._updateImpl(),this._invalidated=!1),e=new m,t=this._source.properties().levelsStyle.colors,i=this._source.properties().levelsStyle.widths,n=this._source.visiblePivots(),r=0;r<this._pivots.length;r++)if(o=this._pivots[r],n.has(o.src)&&(s={width:this._model.timeScale().width(),
height:this._source.priceScale().height(),color:t[o.labelIds[0]].value(),linewidth:i[o.labelIds[0]].value(),linestyle:CanvasEx.LINESTYLE_SOLID,y:o.y,left:o.x1,right:o.x2},(l=new p).setData(s),l.setHitTest(new _(_.REGULAR)),e.append(l),this._source.properties().levelsStyle.showLabels.value()))for(c=o.label.split("/"),u=0,h=new a(o.x1,o.y),d=0;d<c.length;d++)g=["P","S1","R1","S2","R2","S3","R3","S4","R4","S5","R5"].indexOf(c[d]),d>0&&(y=this._cache._labelRectByIndex(g+11),v={left:Math.round(h.x-y.width+u),top:Math.round(h.y-y.height/2),width:y.width,height:y.height},u+=y.width/2,b=this._cache._canvasBinding.canvas,S=new f(b,y,v,this._cache._canvasBinding.pixelRatio),e.append(S)),y=this._cache._labelRectByIndex(g),v={left:Math.round(h.x-y.width+u),top:Math.round(h.y-y.height/2),width:y.width,height:y.height},u+=y.width,b=this._cache._canvasBinding.canvas,S=new f(b,y,v,this._cache._canvasBinding.pixelRatio),e.append(S);return e},o.prototype.visiblePivots=function(){return this._visiblePivots},o.prototype._updateImpl=function(){var e,t,i,n,r,o,s,a,l,c,u,h,d,p,f,_,m,y,v,b;if(this._visiblePivots.clear(),!this._model.timeScale().isEmpty()&&!this._source.priceScale().isEmpty()&&null!==(e=this._model.timeScale().visibleBarsStrictRange())&&this._source.customData()&&this._source.customData().pivots&&(t=this._model.mainSeries(),i=this._source.priceScale(),null!==(n=t.bars().search(e.lastBar(),g.NearestLeft)))){for(r=n.index,o=this._source.customData().pivots,s=this._source._indexes,a=this._source.properties(),l=this._source.firstValue(),c=0;c<o.length;c++)if(o[c]&&(u=s[o[c].startIndex],h=s[o[c].endIndex],d=a.inputs.showHistoricalPivots.value(),u<=r&&(h>=r||d)))for(this._visiblePivots.add(o[c]),p=["p","s1","r1","s2","r2","s3","r3","s4","r4","s5","r5"],this._prices=[],f=0;f<p.length;f++)_=p[f],void 0!==(m=o[c][_])&&(y=i.priceToCoordinate(m,l),v={P:"P",S1:"S1/R1",S2:"S2/R2",S3:"S3/R3",S4:"S4/R4",S5:"S5/R5",R1:"S1/R1",R2:"S2/R2",R3:"S3/R3",R4:"S4/R4",R5:"S5/R5"},b=a.levelsStyle.colors[v[_.toUpperCase()]].value(),this._prices.push({formatted:i.formatPrice(m,l),price:m,coordinate:y,color:b}));this._cache.setPrices(this._prices)}},o.prototype.update=function(){this._invidated=!0},o.prototype.prices=function(){return this._invidated&&(this._updateImpl(),this._invidated=!1),this._prices},inherit(s,u),s.prototype.lastValueData=function(e,t,i){var n=["P","S1","R1","S2","R2","S3","R3","S4","R4","S5","R5"].indexOf(e.toUpperCase()),r={noData:!0},o=this._pricesView.prices()[n];return null!==o&&void 0!==o?o:r},s.prototype.lastPriceLabelFixedCoordinate=function(e){var t=["P","S1","R1","S2","R2","S3","R3","S4","R4","S5","R5"].indexOf(e.toUpperCase()),i=this._priceAxisViews[t];return i._fixedCoordinate},s.prototype.priceLabelText=function(e){return this._metaInfo.shortDescription+":"+e.toUpperCase()},s.prototype.pricesView=function(){return this._pricesView},s.prototype._getActualCacheParams=function(){var e={};return e.font=this.properties().font.value(),e.fontSize=this.properties().fontsize.value(),
e.backColors=[this.properties().levelsStyle.colors.P.value(),this.properties().levelsStyle.colors["S1/R1"].value(),this.properties().levelsStyle.colors["S1/R1"].value(),this.properties().levelsStyle.colors["S2/R2"].value(),this.properties().levelsStyle.colors["S2/R2"].value(),this.properties().levelsStyle.colors["S3/R3"].value(),this.properties().levelsStyle.colors["S3/R3"].value(),this.properties().levelsStyle.colors["S4/R4"].value(),this.properties().levelsStyle.colors["S4/R4"].value(),this.properties().levelsStyle.colors["S5/R5"].value(),this.properties().levelsStyle.colors["S5/R5"].value()],e},s.prototype.updateAllViews=function(){u.prototype.updateAllViews.call(this),this._pricesView.update()},s.prototype.createViews=function(){var e,t,i,s,a=this._getActualCacheParams();for(this._cache&&this._cache.destroy(),this._cache=new n(a.font,a.fontSize,a.backColors),this._priceAxisViews=[],e=["P","S1","R1","S2","R2","S3","R3","S4","R4","S5","R5"],this._paneViews.length=0,(t=new r(this._model,this)).setCache(this._cache),this._paneViews.push(t),i=0;i<e.length;i++)s=new h(this,{name:e[i],cache:this._cache}),this._priceAxisViews.push(s),this._paneViews.push(new d(s,this,this._model));this._dataWindowView||(this._dataWindowView=new c(this,this._model)),this._statusView||(this._statusView=new l(this,this._model.properties().scalesProperties.textColor)),this._legendView=null,this._pricesView=new o(this,this._cache)},s.prototype.visiblePivots=function(){return this._pricesView.visiblePivots()},s.prototype._postProcessGraphics=function(){},s.prototype.isVisible=function(){var e,t,i;if(!this.properties().visible.value())return!1;for(e=["P","S1/R1","S2/R2","S3/R3","S4/R4","S5/R5"],t=this.properties().levelsStyle.visibility,i=0;i<e.length;i++)if(t[e[i]].value())return!0;return!1},s.prototype.stop=function(){TradingView.Study.prototype.stop.call(this),this._cache&&(this._cache.destroy(),this._cache=null)},s.prototype.priceRange=function(t,i){var n,r,o,s,a,l,c,u;if(!this.customData()||!this.customData().pivots||!this._indexes)return null;if(!this.priceScale())return null;for(n=this.customData().pivots,r=this._indexes,o=null,s=0;s<n.length;s++)if(n[s]&&(a=r[n[s].startIndex],!(r[n[s].endIndex]<t||a>i)))for(l=[],(c=this._properties.levelsStyle.visibility).P.value()&&l.push(n[s].p),c["S1/R1"].value()&&l.push(n[s].s1,n[s].r1),c["S2/R2"].value()&&l.push(n[s].s2,n[s].r2),c["S3/R3"].value()&&l.push(n[s].s3,n[s].r3),c["S4/R4"].value()&&l.push(n[s].s4,n[s].r4),c["S5/R5"].value()&&l.push(n[s].s5,n[s].r5),u=0;u<l.length;u++)l[u]&&(null===o?o=new e(l[u],l[u]):o.apply(l[u],l[u]));return this.priceScale().isLog()&&o?new e(this.priceScale().priceToLogical(o.minValue()),this.priceScale().priceToLogical(o.maxValue())):o},s.prototype.getStylesPropertyPage=function(){return y.StudyPivotPointsStandardStylesPropertyPage},t.study_PivotPointsStandard=s}).call(this,i("Qb4w").PriceRange)},FaJS:function(e,t,i){"use strict";function n(e,t){var i;return t.isLog()||e.isEmpty()||t.isEmpty()?null:null===(i=function(e){var t,i
;return e.isEmpty()?null:null===(t=e.priceRange())?null:(i=t.length(),e.internalHeight()/i)}(t))?null:e.getValidBarSpacing()/Math.max(a,i)}function r(e,t,i){var n,r,o,a;return e.isLog()||null===i||e.isEmpty()?null:null===(n=e.priceRange())||n.isEmpty()?null:(r=e.internalHeight()/(t/i))===(o=n.length())?n:(a=(r-o)/2,new s.PriceRange(n.minValue()-a,n.maxValue()+a))}function o(e,t){var i,n;return e.isLog()||null===t||e.isEmpty()?null:null===(i=e.priceRange())?null:(n=i.length(),e.internalHeight()/n*t)}var s,a;i.r(t),i.d(t,"scaleRatio",function(){return n}),i.d(t,"priceRangeByScaleRatio",function(){return r}),i.d(t,"barSpacingByScaleRatio",function(){return o}),s=i("Qb4w"),a=1e-10},FfBj:function(e,t,i){"use strict";function n(e){return{y:y.t("year",{plural:"years",count:1}),m:y.t("month",{plural:"months",count:1}),"3m":y.t("three months"),"2y":y.t("two years")}[e]}function r(e){return{m:y.t("monthly"),y:y.t("annual"),"3m":y.t("3 months"),"2y":y.t("2-year")}[e]||""}function o(e){return/\d{0,2}_discount$/.test(e)}function s(e){return new RegExp(S+"$").test(e)}function a(e){return e.split(S)[0]}function l(e){var t=e.match(new RegExp("^(d{0,2})"+w+"$"));return t?+t[1]||50:0}function c(e,t){var i=e;switch(e){case v.ProPlans.Pro:i="Pro";break;case v.ProPlans.ProRealtime:i="Pro+";break;case v.ProPlans.ProPremium:i="Premium";break;case v.ProPlans.ProMiniAds:case v.ProPlans.ProMiniLayouts:case v.ProPlans.ProMiniAlerts:i=y.t("1-feature");break;case v.ProPlans.ProEdu:i=y.t("Rookie")}return t&&(i+=" "+y.t("trial")),i}function u(e){var t=e;switch(e){case v.ProPlans.Pro:t="Pro";break;case v.ProPlans.ProRealtime:t="Pro+";break;case v.ProPlans.ProPremium:t="Premium";break;case v.ProPlans.Free:t="Basic"}return t}function h(e){switch(e){case b.BillingCycle.TwoYears:return 730;case b.BillingCycle.OneYear:return 365;case b.BillingCycle.ThreeMonths:return 90;case b.BillingCycle.Monthly:return 30;default:return 1}}function d(e,t,i){return Math.round((t-e)*p(i))}function p(e){switch(e){case b.BillingCycle.TwoYears:return 24;case b.BillingCycle.OneYear:return 12;default:return 1}}function f(e){return(Math.round(100*e)/100).toFixed(2)}function _(e){var t=Math.round(100*e)/100,i=Math.round(t);return i.toFixed(0)}function m(e){var t=Math.round(100*e)/100,i=Math.round(t);return Math.abs(t-i)>0?t.toFixed(2):i.toFixed(0)}function g(e){var t=Math.round(100*e)/100,i=Math.round(10*e)/10,n=Math.round(t);return Math.abs(t-n)>0?Math.abs(t-i)>0?t.toFixed(2):i.toFixed(1):n.toFixed(0)}var y,v,b,S,w,P,T,C;i.r(t),i.d(t,"TRIAL_SUFFIX",function(){return S}),i.d(t,"EA_SUFFIX",function(){return w}),i.d(t,"UNSUBSCRIBE_SUFFIX",function(){return P}),i.d(t,"UPSELL_SUFFIX",function(){return T}),i.d(t,"CUSTOM_SUFFIX",function(){return C}),i.d(t,"billingCycleToTimeUnit",function(){return n}),i.d(t,"getReadableCycle",function(){return r}),i.d(t,"isEarlyAccess",function(){return o}),i.d(t,"isTrialProduct",function(){return s}),i.d(t,"getProductForTrial",function(){return a}),i.d(t,"getDiscountFromEarlyAccess",function(){return l}),i.d(t,"humanizeProPlan",function(){return c
}),i.d(t,"humanizeCardPlan",function(){return u}),i.d(t,"getAmountOfDaysForBillingCycle",function(){return h}),i.d(t,"countDiscountByBillingCycle",function(){return d}),i.d(t,"billingCycleToMonth",function(){return p}),i.d(t,"round2",function(){return f}),i.d(t,"round0",function(){return _}),i.d(t,"round2or0",function(){return m}),i.d(t,"roundMinimal",function(){return g}),y=i("YFKU"),v=i("KuNA"),b=i("T7XC"),S="_trial",w="_discount",P="_unsubscribe",T="_year_6_months_free",C="_custom"},Fixu:function(e,t,i){"use strict";function n(e,t){Object(l.getTracker)().then(function(i){var n,r;null!==i&&(r=(n=Object(c.ensureNotNull)(e.model().mainSeries().symbolInfo())).pro_name||n.name,i.trackDrawingsAnalytics(r,e.name(),t))})}function r(e){n(e,"create")}function o(e){n(e,"paste")}function s(e){n(e,"clone")}function a(e){Object(l.getTracker)().then(function(t){if(null!==t){var i=u.STYLE_SHORT_NAMES[e];t.trackChartStyle(i)}})}var l,c,u;i.r(t),i.d(t,"trackDrawingCreated",function(){return r}),i.d(t,"trackDrawingPasted",function(){return o}),i.d(t,"trackDrawingCloned",function(){return s}),i.d(t,"trackChartStyleChanged",function(){return a}),l=i("0UyP"),c=i("Eyy1"),u=i("dfhE")},FsE7:function(e,t,i){"use strict";function n(e,t){var o,s,l;for(this._constructor="LineToolFibTimeZone",o=t||n.createProperties(),r.call(this,e,o),this.version=n.version,Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("wgWl").FibTimeZonePaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe),s=[],l=1;l<=n.LevelsCount;l++)s.push(this._properties.child("level"+l).child("linewidth"));this._widthsProperty=new a(s)}var r=i("Ss5c").LineDataSource,o=i("5rJj"),s=i("hayr").propertyPages,a=i("ytGH").LineToolWidthsProperty,l=window.t("Fib Time Zone");inherit(n,r),n.version=2,n.LevelsCount=11,n.prototype.levelsCount=function(){return n.LevelsCount},n.prototype.migrateVersion=function(e,t,i){var n;if(1===e){for(i.properties.level1.color.setValue(i.properties.baselinecolor.value()),n=2;n<=11;n++)i.properties["level"+n].color.setValue(i.properties.linecolor.value());for(n=1;n<=11;n++)i.properties["level"+n].linewidth.setValue(i.properties.linewidth.value()),i.properties["level"+n].linestyle.setValue(i.properties.linestyle.value())}},n.prototype.pointsCount=function(){return 2},n.prototype.translatedType=function(){return l},n.prototype.name=function(){return"Fib Time Zone"},n.prototype.processErase=function(e,t){var i="level"+t,n=this.properties()[i].visible;e.setProperty(n,!1,"Erase level line")},n.prototype.getStylesPropertyPage=function(){return s.LineToolFibTimeZoneStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("SMr9").FibTimezoneDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new o("linetoolfibtimezone",e,!1,{range:[1,11]});return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},
t.LineToolFibTimeZone=n},Fty4:function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"ActionCreators",function(){return s}),n=i("bSeV"),i("YFKU"),r=i("7KDR"),o=i("JUY+"),s={stopAlert:function(e){return new r.Action({label:window.t("Stop",{context:"alert"}),onExecute:function(){return Object(o.getPriceAlertsDispatcher)().then(function(t){return t.stopAlert(e,{showConfirm:!0})})}})},restartAlert:function(e,t){return new r.Action({label:window.t("Restart"),onExecute:function(){return Object(o.getPriceAlertsDispatcher)().then(function(i){return i.restartAlert(e,{actionSource:t})})}})},editAlert:function(e,t){return new r.Action({label:window.t("Edit..."),onExecute:function(){return Object(o.getPriceAlertsDispatcher)().then(function(i){return i.openEditDialog(e,{actionSource:t})})}})},cloneAlert:function(e,t){return new r.Action({label:window.t("Clone"),onExecute:function(){return Object(o.getPriceAlertsDispatcher)().then(function(i){return i.cloneAlert(e,{actionSource:t})})}})},deleteAlert:function(e){return new r.Action({label:window.t("Delete"),onExecute:function(){return Object(o.getPriceAlertsDispatcher)().then(function(t){return t.deleteAlert(e,{showConfirm:!0})})}})},restartAllAlerts:function(e,t){var i=e||t?window.t("Restart as per filter"):window.t("Restart all inactive");return new r.Action({label:i,onExecute:function(){return Object(o.getPriceAlertsDispatcher)().then(function(i){return i.restartAllAlerts({showConfirm:!0,symbol:e,resolution:t})})}})},stopAllAlerts:function(e,t){var i=e||t?window.t("Stop as per filter"):window.t("Stop all");return new r.Action({label:i,onExecute:function(){return Object(o.getPriceAlertsDispatcher)().then(function(i){return i.stopAllAlerts({showConfirm:!0,symbol:e,resolution:t})})}})},deleteAllInactiveAlerts:function(){return new r.Action({label:window.t("Delete all inactive"),onExecute:function(){return Object(o.getPriceAlertsDispatcher)().then(function(e){return e.deleteAllAlerts({active:!1,showConfirm:!0})})}})},deleteAllAlerts:function(e,t,i){var n=e||t||i?window.t("Delete as per filter"):window.t("Delete all");return new r.Action({label:n,onExecute:function(){return Object(o.getPriceAlertsDispatcher)().then(function(n){return n.deleteAllAlerts({showConfirm:!0,symbol:e,resolution:t,active:!!i||void 0})})}})},deleteAllEvents:function(){return new r.Action({label:window.t("Clear Log"),onExecute:function(e){return Object(o.getPriceAlertsDispatcher)().then(function(e){return e.deleteAllEvents()})}})}}},FwoV:function(e){e.exports=JSON.parse('{"cme":{"INDICATORS_ON_CHART":{"limit":99999}},"bovespa":{"INDICATORS_ON_CHART":{"limit":99999}}}')},G2LI:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M12.57 5.5h-.07a3.5 3.5 0 1 0 .07 7A4.98 4.98 0 0 1 4 9a5 5 0 0 1 8.57-3.5z"/></svg>'},G2cu:function(e,t,i){"use strict";function n(){
return Promise.all([i.e("vendors_embed"),i.e("dialogs-core"),i.e(0),i.e(1),i.e(3),i.e(5),i.e(9),i.e(27),i.e(32),i.e(219),i.e(8),i.e(31),i.e("referral-welcome")]).then(i.bind(null,"tdvX")).then(function(e){return e.createReferralWelcomeDialog()})}i.r(t),i.d(t,"createReferralWelcome",function(){return n})},GEp6:function(e,t,i){"use strict";function n(e,t,i){var n=t.subtract(e),r=i.subtract(e),o=r.dotProduct(n)/n.dotProduct(n),s=e.addScaled(n,o);return{coeff:o,distance:s.subtract(i).length()}}Object.defineProperty(t,"__esModule",{value:!0}),t.distanceToLine=n,t.distanceToSegment=function(e,t,i){var r,o,s=n(e,t,i);return 0<=s.coeff&&s.coeff<=1?s:(r=e.subtract(i).length())<(o=t.subtract(i).length())?{coeff:0,distance:r}:{coeff:1,distance:o}}},GH0z:function(e,t,i){"use strict";var n,r,o,s,a;i.r(t),i.d(t,"PercentageFormatter",function(){return a}),n=i("mrSG"),r=i("kcTO"),o=i("Ialn"),s="%",a=function(e){function t(t){void 0===t&&(t=100);var i=e.call(this,t)||this;return i.type="percentage",i}return Object(n.__extends)(t,e),t.prototype.state=function(){var e=r.PriceFormatter.prototype.state.call(this);return e.percent=!0,e},t.prototype.parse=function(t){return t=t.replace(s,""),e.prototype.parse.call(this,t)},t.prototype.format=function(t,i,n,r,a){void 0===a&&(a=!0);var l=e.prototype.format.call(this,t,i,n,r,!1)+s;return a?Object(o.forceLTRStr)(l):l},t.serialize=function(e){return e.state()},t.deserialize=function(e){return new t(e.priceScale)},t}(r.PriceFormatter)},GK7n:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,i){var n=(0,y.createDisconnectedBoundCanvas)(document,new y.Size(t,i)),r=(0,y.getPrescaledContext2D)(n.canvas);return r.drawImage(e,0,0,t,i),n}function o(e,t){return function(){i.e("ie-fallback-logos").then(function(){X=i("j1nX"),e.call(t)}.bind(null,i)).catch(i.oe)}}function s(e){return!0,!0}var a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B,N,F,j,W,U,H,z,G,Y,q,X,K,Q,Z,J,$,ee;Object.defineProperty(t,"__esModule",{value:!0}),t.Branding=void 0,a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i,n,r=[],o=!0,s=!1,a=void 0;try{for(i=e[Symbol.iterator]();!(o=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{!o&&i.return&&i.return()}finally{if(s)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){var i,n;for(i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=i("aO4+"),u=i("f6yo"),h=i("Kxc7"),d=function(e){var t,i;if(e&&e.__esModule)return e;if(t={},null!=e)for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(h),p=i("VdBB"),f=i("j1f4"),_=i("Tmoa"),m=i("beCu"),g=i("jFln"),y=i("ikwP"),v=i("eJTA"),b=i("vhe3"),S=i("Wh9f"),w=i("JOqt").debounce,
P=i("/b+7"),T=i("zDbI").CHART_FONT_FAMILY,C=!1,x="/static/images/widget-embed-logo/","Ch{0}ar{1}t{2}by{3}{4}".format("",""," "," ",I="TradingView"),E="po{0}wer{1}ed{2}by{3}{4}".format("",""," "," ",I),L="by{3}{4}".format("",""," "," ",I),A="site_branding",O="widget_branding",M="widget_referral_branding",k="widget_custom_branding",D="widget_custom_no_powered_branding",R="fundamental_branding",V="fundamental_custom_branding",B="fundamental_custom_no_powered_branding",N="library_branding",F="library_custom_branding",j="library_custom_no_powered_branding",W=.2,U=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,H=U&&navigator.userAgent.toLowerCase().indexOf("windows")>-1,z=navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&-1===navigator.userAgent.toLowerCase().indexOf("edge"),$=window.navigator.userAgent,ee=$.indexOf("MSIE "),G=ee>0?parseInt($.substring(ee+5,$.indexOf(".",ee)),10):$.indexOf("Trident/")>0&&(J=$.indexOf("rv:"),parseInt($.substring(J+3,$.indexOf(".",J)),10)),Y=window.urlParams||{},q=window.initData||{},X=null,K=2,(Y.referral_id||Y.no_referral_id)&&(0,b.enable)(Y.referral_id||"","aggressive",Y.ref_landing_page),Q=function(){function e(t){var i=t.layout,r=void 0===i?A:i,s=t.symbol,a=void 0===s?"":s,l=t.model,c=t.onReadyCallback;n(this,e),this._model=l,this._image=null,this._imageReady=!1,this._needDisplayImage=!1,this._imageWidth=22,this._imageHeight=13,this._layout=r,this._symbol=a,this.showAnimatedBranding=d.enabled("show_animated_logo")||this._layout===O,this.show=!0,this.width=100,this.height=14,this._bottomShift=0,this._brandCircleSize=32,this._animatedWidth=this._brandCircleSize,this._animatedOpacity=0,this.width=this.showAnimatedBranding?this._brandCircleSize:100,this.height=14,this._fillColor=f.color.brandNew,this._colorOldBlue=f.color.brandNew2,this._colorOldGray=f.color.black30,this._strokeColor=f.color.black255,this._brandCircleShadowColor=f.color.black0,this._strokeWidth=4,this._fontSize=this.showAnimatedBranding?11:14,this._font="px "+T,this._txt="TradingView",this._onReadyCallback=c,this._upscaleRatio=z?1:2,this._verticalTextShift=U?this.showAnimatedBranding?2:4:0,this._strokeCanv=null,this._fillCanv=null,G&&(this._init=o(this._init,this)),this._init()}return l(e,[{key:"_init",value:function(){this._checkLayout(),this.show&&(this._updateStrokeColor(),this.showAnimatedBranding&&(this._loadImage(P,"tvLogo"),this._createFillText()),this._model.properties().paneProperties.background.subscribe(this,this._updateStrokeColor),this._model.onChartThemeLoaded().subscribe(this,this._updateStrokeColor))}},{key:"_updateStrokeColor",value:function(){var e=(0,_.getLuminance)(this._model.properties().paneProperties.background.value());this._strokeCanv=null,this._fillCanv=null,e>W?(this._brandCircleColor=f.color.black255,this._animatedColorBg=f.color.black255,this._brandCircleShadowOpacity=.09,this._strokeOpacity=.8):(this._brandCircleColor=f.color.black27,this._animatedColorBg=f.color.black27,this._brandCircleShadowOpacity=.09,this._strokeOpacity=.1)}},{key:"_loadImage",value:function(e,t){
var i,n=this;this._needDisplayImage&&(this._image={canvas:new Image},this.showAnimatedBranding&&(this._imageWhite={canvas:new Image}),G?(this._image.canvas.src=X.fallbackImages[t+"Blue"],this.showAnimatedBranding&&(this._imageWhite.canvas.src=X.fallbackImages[t+"White"])):(i=e.replace(/fill="#[\da-f]{6}"/i,'fill="#FFFFFF"'),this._image.canvas.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(e),this.showAnimatedBranding&&(this._imageWhite.canvas.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(i))),this._image.canvas.addEventListener("load",function(){H&&(n._image=r(n._image.canvas,n._imageWidth,n._imageHeight)),n._imageReady=!0,"function"==typeof n._onReadyCallback&&n._onReadyCallback()}))}},{key:"_checkLayout",value:function(){switch(this._layout){case O:case M:case k:case R:case V:case F:case N:this.show=!0;break;case A:case D:case B:case j:this.show=!1}switch(this._layout){case O:this._needDisplayImage=!0,this._txt=window.t("By TradingView");break;case R:this._txt=window.t("{0} financials by TradingView").format(this._symbol);break;case M:this._txt=window.t("More features on tradingview.com");break;case k:case V:this._txt=window.t("powered by ")}}},{key:"_drawTextStroke",value:function(e){var t,i,n,r;this._strokeCanv||(this._strokeCanv=(0,y.createDisconnectedBoundCanvas)(document,new y.Size(0,0)),t=(0,y.getPretransformedContext2D)(this._strokeCanv),i=Math.round(this._strokeWidth*this._upscaleRatio),t.font=this._fontSize*this._upscaleRatio+this._font,this._textWidth=t.measureText(this._txt).width+K,n=this._textWidth+2*i,r=(this._fontSize+2*i)*this._upscaleRatio,n%2==0&&(n+=1,r+=1),this._strokeCanv.resizeCanvas({width:n,height:r}),(t=(0,y.getPretransformedContext2D)(this._strokeCanv)).textBaseline="top",t.textAlign="start",t.font=this._fontSize*this._upscaleRatio+this._font,t.strokeStyle=this._strokeColor,t.lineWidth=this._strokeWidth*this._upscaleRatio,t.lineJoin="round",t.strokeText(this._txt,i,this._verticalTextShift)),e.save(),e.globalAlpha=this._strokeOpacity,e.drawImage(this._strokeCanv.canvas,0,0,this._strokeCanv.canvas.width,this._strokeCanv.canvas.height,0,0,this._strokeCanv.canvas.width/this._upscaleRatio,this._strokeCanv.canvas.height/this._upscaleRatio),e.restore()}},{key:"_drawTextFill",value:function(e){this._createFillText(),e.save(),e.drawImage(this._fillCanv.canvas,0,0,this._fillCanv.canvas.width,this._fillCanv.canvas.height,0,0,this._fillCanv.canvas.width/this._upscaleRatio/this._fillCanv.pixelRatio,this._fillCanv.canvas.height/this._upscaleRatio/this._fillCanv.pixelRatio),e.restore()}},{key:"_createFillText",value:function(){var e,t;null===this._fillCanv&&(this._fillCanv=(0,y.createDisconnectedBoundCanvas)(document,new y.Size(0,0)),e=(0,y.getPretransformedContext2D)(this._fillCanv),t=Math.round(this._strokeWidth*this._upscaleRatio),e.font=this._fontSize*this._upscaleRatio+this._font,void 0===this._textWidth&&(this._textWidth=Math.round(e.measureText(this._txt).width)+K),this._setSizeFillTextCanvas(t),(e=(0,y.getPretransformedContext2D)(this._fillCanv)).textBaseline="top",
e.textAlign="start",e.font=this._fontSize*this._upscaleRatio+this._font,e.fillStyle=this._fillColor,e.fillText(this._txt,t,this._verticalTextShift))}},{key:"_updateFillTextWithColor",value:function(e){var t,i=Math.round(this._strokeWidth*this._upscaleRatio);this._setSizeFillTextCanvas(i),(t=(0,y.getPretransformedContext2D)(this._fillCanv)).clearRect(0,0,this._fillCanv.canvas.width,this._fillCanv.canvas.height),t.textBaseline="top",t.textAlign="start",t.font=this._fontSize*this._upscaleRatio+this._font,t.fillStyle=e,t.fillText(this._txt,i,this._verticalTextShift)}},{key:"_setSizeFillTextCanvas",value:function(e){var t=this._textWidth+2*e,i=(this._fontSize+2*e)*this._upscaleRatio;t%2==0&&(t+=1,i+=1),this._fillCanv.resizeCanvas({width:t,height:i})}},{key:"_drawFillTextCropWidth",value:function(e,t,i){this._fillCanv?this._updateFillTextWithColor(i):this._createFillText(),e.save(),e.drawImage(this._fillCanv.canvas,0,0,t*this._upscaleRatio*this._fillCanv.pixelRatio,this._fillCanv.canvas.height*this._fillCanv.pixelRatio,0,0,t,this._fillCanv.canvas.height/this._upscaleRatio),e.restore()}},{key:"_drawBgCircle",value:function(e){e.save(),e.beginPath(),e.fillStyle=this._brandCircleShadowColor,e.globalAlpha=this._brandCircleShadowOpacity,e.arc(this._imageWidth/2,this._imageHeight/2,this._brandCircleSize/2+1,0,2*Math.PI),e.fill(),e.closePath(),e.restore(),e.save(),e.beginPath(),e.fillStyle=this._brandCircleColor,e.arc(this._imageWidth/2,this._imageHeight/2,this._brandCircleSize/2,0,2*Math.PI,!1),e.fill(),e.closePath(),e.restore()}},{key:"_drawFillRectWithRoundedCorner",value:function(e,t,i,n,r,o,s){e.save(),(0,g.drawRoundRect)(e,t-1,i-1,n+2,r+2,o),e.globalAlpha=this._brandCircleShadowOpacity,e.fillStyle=this._brandCircleShadowColor,e.fill(),e.closePath(),e.restore(),e.save(),(0,g.drawRoundRect)(e,t,i,n,r,o),e.fillStyle=s,e.fill(),e.closePath(),e.restore()}},{key:"_drawImageWithColor",value:function(e){e.save(),e.globalAlpha=this._animatedOpacity,e.drawImage(this._imageWhite.canvas,0,-.5,this._imageWidth,this._imageHeight),e.restore(),e.save(),e.globalAlpha=1-this._animatedOpacity,e.drawImage(this._image.canvas,0,-.5,this._imageWidth,this._imageHeight),e.restore()}},{key:"bottomShift",value:function(){return this._bottomShift}},{key:"hasAnimation",value:function(){return this.showAnimatedBranding}},{key:"minimizedAnimationWidth",value:function(){return this._brandCircleSize}},{key:"maximizedAnimationWidth",value:function(){return this._fillCanv.canvas.width/this._upscaleRatio/this._fillCanv.pixelRatio+this._brandCircleSize-3}},{key:"animatedDrawStep",value:function(e,t){var i,n,r,o,s,l,c,u,h,d,p,f,_,m,g,y;this._animatedWidth=t,i=this._animatedWidth<this._brandCircleSize+20?0:this._animatedWidth/this.maximizedAnimationWidth(),n=(0,v.parseRgb)(this._brandCircleColor),o=(r=a(n,3))[0],s=r[1],l=r[2],c=(0,v.parseRgb)(this._fillColor),h=(u=a(c,3))[0],d=u[1],p=u[2],f=(0,v.parseRgb)(this._strokeColor),m=(_=a(f,3))[0],g=_[1],y=_[2],this._animatedColorBg=(0,v.rgbaToString)((0,v.blendRgba)([o,s,l,(0,v.normalizeAlphaComponent)(1)],[h,d,p,(0,
v.normalizeAlphaComponent)(i)])),this._animatedColorText=(0,v.rgbaToString)((0,v.blendRgba)([h,d,p,(0,v.normalizeAlphaComponent)(1)],[m,g,y,(0,v.normalizeAlphaComponent)(i)])),this._animatedOpacity=i}},{key:"draw",value:function(e,t){var i,n,r,o,a,l,c,u,h,d;this.showAnimatedBranding?this._needDisplayImage&&this._imageReady&&(e.save(),i=(this._brandCircleSize-this._imageWidth)/2,n=(this._brandCircleSize-this._imageHeight)/2,e.translate(-i,-n),this._drawFillRectWithRoundedCorner(e,0,0,this._animatedWidth,this._brandCircleSize,this._brandCircleSize/2,this._animatedColorBg),e.translate(i,n),this._drawImageWithColor(e),r=12+(z?-.5:0),o=this._imageWidth+r,this._animatedWidth>o&&(e.translate(this._imageWidth/2+r,.5),this._drawFillTextCropWidth(e,this._animatedWidth-o,this._animatedColorText)),e.restore(),this.width=this._animatedWidth,this.height=this._brandCircleSize,this._bottomShift=this._brandCircleSize-this._imageHeight):this._layout===k||this._layout===V?(a="12px "+T,e.font=a,l=e.measureText(this._txt).width+K,this.width=l+e.measureText("TradingView").width+K,e.save(),e.globalAlpha=.7,e.fillStyle=this._colorOldGray,e.fillText(this._txt,0,12),e.fillStyle=this._colorOldBlue,e.fillText("TradingView",l,12),e.restore()):this._needDisplayImage&&this._imageReady?(e.save(),c=(this._brandCircleSize-this._imageWidth)/2,e.translate(c,0),this._drawBgCircle(e),e.drawImage(this._image,0,-.5,this._imageWidth,this._imageHeight),u=12+(z?-.5:0),e.translate(this._imageWidth+u,-.5),(h=s())&&(this._drawTextStroke(e),this._drawTextFill(e)),e.restore(),this.width=this._imageWidth+c,this.width+=h?u+this._strokeCanv.canvas.width/this._upscaleRatio:c,this.height=this._brandCircleSize,this._bottomShift=this._brandCircleSize-this._imageHeight):(e.save(),e.translate(z?-.5:0,-.5),(d=s())&&(this._drawTextStroke(e),this._drawTextFill(e)),e.restore(),d&&(this.width=this._strokeCanv.canvas.width/this._upscaleRatio))}}]),e}(),Z=function(){function e(t){var i=t.layout,r=void 0===i?A:i,s=t.src,a=t.onReadyCallback;n(this,e),this._img=new Image,this._ready=!1,this.show=!1,this.width=0,this.height=0,this._layout=r,this._src=s,this._onReadyCallback=a,G&&(this._init=o(this._init,this)),this._init()}return l(e,[{key:"_init",value:function(){var e,t,i=this;this._checkLayout(),this.show&&(e=this._src.match(/(\w+)\.svg/),G&&e&&2===e.length?(t=e[1],this._img.src=X.fallbackImages[t],this._img.addEventListener("load",function(){var e=X.logoSizes;t in e?(i.width=e[t].width,i.height=e[t].height):(i.width=135,i.height=25),i._ready=!0,"function"==typeof i._onReadyCallback&&i._onReadyCallback()})):(this._img.src=this._src,this._img.addEventListener("load",function(){i.width=Math.round(i._img.width),i.height=Math.round(i._img.height),H&&(i._img=r(i._img,i.width,i.height).canvas),i._ready=!0,"function"==typeof i._onReadyCallback&&i._onReadyCallback()})))}},{key:"_checkLayout",value:function(){switch(this._layout){case k:case D:case V:case B:case F:case j:this.show=!0;break;case A:case O:case M:case R:case N:this.show=!1}}},{key:"draw",value:function(e){
this._ready&&e.drawImage(this._img,0,0,this.width,this.height)}}]),e}(),t.Branding=function(){function e(t,i){var r,o=this;n(this,e),this._model=t,this._mainSeries=this._model.mainSeries(),this._canvasWidth=0,this._showAllowance=i,this._paneHeight=0,this._left=13,this._bottom=24,this._layout=A,this._needToShow=!0,this._customLogoSrc="",this._customLogoLink="",this._checkLayout(),this._layout!==k&&this._layout!==V||(this._left=8,this._bottom=5),r=function(){o._needToShow?o._layout===A?o._showBranding=window.innerWidth>=768:o._showBranding=!0:o._showBranding=!1},this._resizeHandlerDelayed=w(r,200),r(),window.addEventListener("resize",this._resizeHandlerDelayed),this._monitorCanvas=(0,y.createDisconnectedBoundCanvas)(document,new y.Size(0,0)),this._monitorCanvas.subscribeCanvasConfigured(function(){o._init()}),this._model.isSnapshot()?this._init():this._mainSeries.dataEvents().symbolResolved().subscribe(this,this._init),this._cubicBezier=new f.CubicBezier(.4,.01,.22,1)}return l(e,[{key:"destroy",value:function(){window.removeEventListener("resize",this._resizeHandlerDelayed)}},{key:"_init",value:function(){var e=this,t=this._mainSeries.symbolInfo()||{};this._powBy=new Q({layout:this._layout,symbol:t.name,model:this._model,onReadyCallback:function(){return e._model.fullUpdate()}}),this._custom=new Z({layout:this._layout,src:this._customLogoSrc,onReadyCallback:function(){return e._model.fullUpdate()}}),this._openAnimation=null,this._closeAnimation=null}},{key:"_checkLayout",value:function(){var e,t,i;d.enabled("widget")?(e=q.logo||{},t=d.enabled("fundamental_widget"),this._needToShow=!(q.whitelabel||Y.whitelabel||e.whitelabel),e.image?(this._customLogoSrc=x+e.image,e.no_powered_by?this._layout=t?B:D:this._layout=t?V:k):Y.referral_id||Y.no_referral_id?this._layout=M:this._layout=t?R:O):d.enabled("charting_library")||d.enabled("amp_terminal")||d.enabled("cqg_terminal")||d.enabled("trading_terminal")?(i=JSON.parse(Y.logo)||{}).image?(this._customLogoSrc=i.image,this._customLogoLink=i.link,this._needToShow=d.enabled("widget_logo"),d.enabled("link_to_tradingview")?this._layout=F:this._layout=j):(this._layout=N,this._needToShow=d.enabled("widget_logo")):this._layout=A}},{key:"_startOpenAnimation",value:function(){null===this._openAnimation&&(null!==this._closeAnimation&&(this._closeAnimation.stop(),this._closeAnimation=null),this._openAnimation=(0,m.doAnimate)({from:this._currentStateForAnimation(),to:this._openedStateForAnimation(),duration:200,easing:this._cubicBezier.easingFunc,onStep:this._animatedDrawStep.bind(this)}))}},{key:"_startCloseAnimation",value:function(){null===this._closeAnimation&&(null!==this._openAnimation&&(this._openAnimation.stop(),this._openAnimation=null),this._closeAnimation=(0,m.doAnimate)({from:this._currentStateForAnimation(),to:this._closedStateForAnimation(),duration:200,easing:this._cubicBezier.easingFunc,onStep:this._animatedDrawStep.bind(this)}))}},{key:"_currentStateForAnimation",value:function(){return this._powBy.width}},{key:"_closedStateForAnimation",value:function(){
return this._powBy.minimizedAnimationWidth()}},{key:"_openedStateForAnimation",value:function(){return this._powBy.maximizedAnimationWidth()}},{key:"_animatedDrawStep",value:function(e,t){this._powBy.animatedDrawStep(e,t),this._model.lightUpdate()}},{key:"_hasAnimation",value:function(){return this._powBy.hasAnimation()}},{key:"updateAllViews",value:function(){}},{key:"priceAxisViews",value:function(){return[]}},{key:"onClickOutside",value:function(){}},{key:"hasContextMenu",value:function(){return!1}},{key:"hitTest",value:function(e){var t=this;return!this._showBranding||d.enabled("logo_without_link")?null:this._powBy&&this._layout!==A&&this._layout!==D&&this._layout!==B&&(0,u.pointInBox)(e,(0,c.box)(new c.Point(this._left,this._paneHeight-Math.max(this._powBy.height,void 0!==this._custom?this._custom.height:0)-this._bottom),new c.Point(this._left+Math.max(this._powBy.width,void 0!==this._custom?this._custom.width:0),this._paneHeight-this._bottom)))?new p.HitTestResult(p.HitTestResult.CUSTOM,{mouseClickHandler:function(){window.open(t.tvUrl(),"_blank").opener=null},mouseEnterHandler:function(){t._hasAnimation()&&t._startOpenAnimation()},mouseLeaveHandler:function(){t._hasAnimation()&&t._startCloseAnimation()}}):null}},{key:"tvUrl",value:function(){var e,t,i,n="https://www.tradingview.com/",r=this._mainSeries.symbolInfo().pro_name||"";return d.enabled("referral_program_for_widget_owners")?-1===(e=(0,b.referenceToTradingView)()).indexOf("utm_source")?(n+="/"===n[n.length-1]?"?":"&",n+="utm_source="+(Y.utm_source||"")+"&utm_medium="+(Y.utm_medium||"")+"&utm_campaign="+(Y.utm_campaign||"")+"&utm_term="+r):(e=e.slice(0,e.indexOf("utm_source")),e+="utm_source="+(Y.utm_source||"")+"&utm_medium="+(Y.utm_medium||"")+"&utm_campaign="+(Y.utm_campaign||"")+"&utm_term="+r):(t=this._mainSeries.symbolInfo().name||"APPL",i=this._mainSeries.symbolInfo().listed_exchange||"",q.customer||t&&(n=n.replace(/\/$/,""),n+=(0,S.getSymbolPagePath)({shortName:t,exchange:i})),n+="/"===n[n.length-1]?"?":"&",n+="utm_source="+(Y.utm_source||"")+"&utm_medium="+(Y.utm_medium||"")+"&utm_campaign="+(Y.utm_campaign||"")+"&utm_term="+r)}},{key:"draw",value:function(e,t){var i,n=this;this._showBranding&&(i=0,Y.utm=!0,(0,y.drawScaled)(e,t.pixelRatio,function(){e.translate(-.5,-.5),n._powBy&&n._powBy.show&&(i=n._powBy.height-n._powBy.bottomShift(),e.save(),e.translate(n._left,n._paneHeight-n._bottom-i),n._powBy.draw(e,t,n._canvasWidth),e.restore()),n._custom&&n._custom.show&&(e.save(),e.translate(n._left,n._paneHeight-n._bottom-i-n._custom.height),n._custom.draw(e,t),e.restore())}))}},{key:"renderer",value:function(e,t){return this._paneHeight=e,this._canvasWidth=t,{draw:this.draw.bind(this),hitTest:this.hitTest.bind(this)}}},{key:"paneViews",value:function(e){if(!this._showAllowance())return[];var t=d.enabled("move_logo_to_main_pane");return t&&e.isMainPane()||!t&&e.isLast()||e.isMaximized()?[{renderer:this.renderer.bind(this)}]:[]}}]),e}()},GLdp:function(e,t,i){"use strict";var n,r,o;i.d(t,"a",function(){return o}),n=i("hY0g"),r=i.n(n),o=function(){
return function(e){var t,i,n,o,s,a=this;for(this.isVisible=new r.a(!0),i=null,n=function(n){var r=n?n+"Hidden":"hidden";if(r in e)return t=n+"visibilitychange",(i=function(){a.isVisible.setValue(!e[r])})(),e.addEventListener(t,i,!1),"break"},o=0,s=["","moz","ms","webkit"];o<s.length&&"break"!==n(s[o]);o++);this.destroy=function(){i&&(e.removeEventListener(t,i,!1),i=null)}}}()},GUQs:function(e,t,i){"use strict";function n(e){e.cancelable&&e.preventDefault()}function r(e){return function(t){n(t),e()}}i.d(t,"a",function(){return n}),i.d(t,"b",function(){return r})},GVHu:function(e,t,i){"use strict";(function(e,n,r){function o(e,t,i,n){this._study=e,this.m_series=t,this.m_model=i,this._plotName=n,this._visible=!1,this._points=[new ie(0,0)],this._invalidated=!0,this._lineRenderer=new _}function s(e,t,i){var n,r,o=new ne(t,i,!0);for(o.addExclusion("visible"),o.addExclusion("precision"),o.addExclusion("minTick"),n=0;n<e.inputs.length;++n)(r=e.inputs[n]).isHidden&&(o.addExclusion("inputs."+n.toString()),o.addExclusion("inputs."+r.id));return o}function a(e,t){var i,n,r,o;if(t.plots)for(i=0;i<t.plots.length;i++)r=(n=t.plots[i]).id,ge.isColorerPlot(n)||(o={visible:!0,color:"#0496FF",linestyle:CanvasEx.LINESTYLE_SOLID,linewidth:2,plottype:ye.Line,histogramBase:0,transparency:50,trackPrice:!1,joinPoints:!1},ge.isBarColorerPlot(n)&&(o.transparency=0),o.plottype=n.type,o.title=r,e.styles&&r in e.styles&&TradingView.merge(o,e.styles[r]),e.styles[r]=o)}function l(e,t,i,r){var o,s,a,c,u,h,d,p,f,_;for(this._titleStrCache={},this._titleInPartsCache={},this._resolvedSymbols={},this._priceAxisViewsBase=[],this._priceLinesAxisViews=[],this._paneViews=[],this._hlinesPriceAsisViews=[],this._horizlinesPriceAsisViews=[],k.call(this,e),this._model=e,this._chartApi=e._chartApi,this._series=i instanceof TradingView.Series?i:this._model.mainSeries(),i instanceof l&&(this._source=i,this._isChildStudy=!0,this._source.setChild(this)),this._numericFormatter=new se,this._metaInfo=r,this._properties=t,this._properties.listeners().subscribe(this,this._onPropertiesChanged),this._properties.visible.listeners().subscribe(this,this.visibleChanged),this._properties.visible.listeners().subscribe(this,this.processHibernate),o=0;o<this._metaInfo.plots.length;o++)s=this._metaInfo.plots[o].id,null!=(a=this.properties().styles[s])&&null!=a.visible&&a.visible.listeners().subscribe(this,this.processHibernate);for(c in this._metaInfo.graphics)for(u in this._metaInfo.graphics[c])(h=this._properties.graphics[c][u]).visible&&h.visible.listeners().subscribe(this,this.processHibernate);if(this._showStudyArgumentsProperty=this.model().properties().paneProperties.legendProperties.showStudyArguments,this._turnaroundCounter=0,this._turnaround="st"+this._turnaroundCounter,this._status="",this._loading=!0,this._studyId=null,this._plotFields=[],d=this.metaInfo().plots)for(o=0,p=d.length;o<p;o++)u=d[o].id,this._plotFields.push(u);this._invalidateLastNonEmptyPlotRowCache(),this.m_data=new ce(Se(this._metaInfo),function(e,t){return null==e[t]}),this._graphics=new H,
this._plotOffsets={},this._plotOffsetsMetaInfoOverride={},this._studyModified=!1,this._tagsChanged=new n,this.createViews(),f=this,this._handler=function(e){f.onData(e)},this._handler.isTVScriptStrategy=this._metaInfo.isTVScriptStrategy,this._recreatePriceFormattingDependencies(),f=this,this._properties.precision.listeners().subscribe(this,this._precisionChanged),this._showStudyArgumentsProperty.listeners().subscribe(this,this.invalidateTitleCache),this._properties.description.listeners().subscribe(this,this.invalidateTitleCache),this._properties.inputs.listeners().subscribe(this,this.invalidateTitleCache),this._properties.shortDescription&&this._properties.shortDescription.listeners().subscribe(this,this.invalidateTitleCache),Ce.enabled("update_study_formatter_on_symbol_resolve")&&e.mainSeries().dataEvents().symbolResolved().subscribe(this,this._recreatePriceFormattingDependencies),e.mainSeries().dataEvents().symbolResolved().subscribe(this,this.invalidateTitleCache),f=this,_={},this._simplePlotsCount=r.plots.filter(function(e,t){if(f.isLinePlot(t))return!0;if(f.isOHLCSeriesPlot(t)){var i=f.metaInfo().plots[t].target;return!_[i]&&(_[i]=i,!0)}return!1}).length,this._properties.showInDataWindow.listeners().subscribe(e,e.fullUpdate),this.hasBarColorer()&&this._properties.visible.listeners().subscribe(e.mainSeries(),e.mainSeries().invalidateBarStylesCache),this.onStart=new n,this._childStudyByRebind=new n,this._symbolsResolved=new n,this._formatterChanged=new n,this._priceStepChanged=new n,this._onStatusChanged=new n,this.parentSource().formatterChanged().subscribe(this,this._onSourceFormatterChanged),this.parentSource().priceStepChanged().subscribe(this,this._onSourcePriceStepChanged),this._ongoingDataUpdate=Promise.resolve(),this._isDestroyed=!1,this._definitionsViewModel=null}function c(e,t){return e&&e[t]&&e[t].hasOwnProperty("showLast")?e[t].showLast.value():null}
var u=i("Eyy1"),h=u.assert,d=u.ensureNotNull,p=i("hsV8").unpackNonSeriesData,f=i("38az").StudyBarColorer,_=i("l4sv").HorizontalLineRenderer,m=i("AXy7"),g=m.BandPaneView,y=m.BandBackgroundPaneView,v=m.HlineFillPaneView,b=i("hezA").StudyPriceAxisView,S=i("KtbP").PanePriceAxisView,w=i("I9zs"),P=w.StudyPaneView,T=w.StudyBackgroundPaneView,C=w.StudyPlotShapesPaneView,x=w.StudyPlotCharsPaneView,I=w.StudyPlotArrowsPaneView,E=w.StudyPlotBarsPaneView,L=w.StudyPlotCandlesPaneView,A=i("x40+"),O=A.PlotFillPaneView,M=A.AreaBackgroundPaneView,k=i("7ktv").PriceDataSource,D=i("it7y").StudyDataWindowView,R=i("8qoI").StudyLegendView,V=i("TG9i").HHistDataWindowView,B=i("Kdr6").HHistLegendView,N=i("2kV1").StudyStatusView,F=i("jenN"),j=F.emptyStudyGraphics,W=F.loadStudyGraphics,U=F.saveStudyGraphics,H=F.LiveStudyGraphics,z=F.createGraphicsPaneViews,G=F.createGraphicsPriceAxisViews,Y=i("XzZr").ChartApiInterface,q=i("xlbu").telemetry,X=i("nmnj"),K=i("s4+V"),Q=i("xD5v").formatCallstudyArg,Z=i("nXyu"),J=i("EQCO").alertBandFactory,$=i("OKab").FormattersSerializer,ee=i("WqyU"),te=i("+wtf").getStudyDangerReason,ie=i("aO4+").Point,ne=i("Ocx9").DefaultProperty,re=i("kcTO").PriceFormatter,oe=i("nEwK").VolumeFormatter,se=i("zXvd").NumericFormatter,ae=i("GH0z").PercentageFormatter,le=i("k9/m"),ce=le.PlotList,ue=le.PlotRowSearchMode,he=le.mergeMinMax,de=i("972a").MarkLocation,pe=i("0YCj"),fe=i("cBZt").extractStudyId,_e=i("TcSq").extractPineId,me=i("FQhm"),ge=i("23IT"),ye=ge.LineStudyPlotStyle,ve=i("hayr").propertyPages,be=i("TmNs").StudyPriceLineAxisView,Se=i("w4Ji").studyPlotFunctionMap,we=i("jy4L").makeNextStudyId,Pe=i("jy4L").makeNextSymbolId,Te=i("5fI3").encodeExtendedSymbol,Ce=i("Kxc7"),xe=i("sugt"),Ie=xe.studyGraphicsPriceRange,Ee=xe.studyGraphicsFirstValue,Le=i("uOxu").getLogger("Chart.Study"),Ae=Number(window.TELEMETRY_SERVER_TIME_DIFF_THRESHOLD)||3e3,Oe=Ce.enabled("datasource_copypaste"),Me=100,ke=window.t("Invalid Symbol");o.prototype.update=function(){this._invalidated=!0},o.prototype.updateImpl=function(){this._visible=!1;var e=this._study.lastValueData(this._plotName,!0);e.noData||(this._visible=!0,this._points=[new ie(0,e.coordinate)],this._color=e.color)},o.prototype.renderer=function(){this._invalidated&&(this.updateImpl(),this._invalidated=!1);var e={};return e.width=this.m_model.timeScale().width(),e.height=this._study.priceScale().height(),e.y=this._points[0].y,e.color=this._color,e.linewidth=this._study.properties().styles[this._plotName].linewidth.value(),e.linestyle=CanvasEx.LINESTYLE_SMALL_DASHED,e.visible=this._visible,this._lineRenderer.setData(e),this._lineRenderer},inherit(l,k),TradingView.Study=l,l.prototype.lastValueData=function(e,t,i){var n,r,o,s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x={noData:!0};if(this._model.timeScale().isEmpty()||null==this.priceScale()||this.priceScale().isEmpty()||this.data().isEmpty())return x;if(null===(n=this._model.timeScale().visibleBarsStrictRange()))return x;if(!this.properties().visible.value())return x;if(r=this.properties().styles,o=this.properties().ohlcPlots,r&&r[e]&&(s=r[e]),
o&&o[e]&&(s=o[e]),!s||!s.visible.value())return x;for(l=this.metaInfo().plots,a=0;a<l.length&&!(l[a].id===e||this.isOHLCClosePlot(a)&&l[a].target===e);a++);if(c=a+1,u=this.offset(e),null==(h=this.nearestIndex(n.lastBar()-u,ue.NearestLeft,c)))return x;if(p=null!==(d=this._lastNonEmptyPlotRow(c))&&n.contains(d.index),f=null!==d?d.value:null,!(_=t||p?f:this.data().valueAt(h))||!isNumber(_[c]))return x;for(m={noData:!1},g=null,y=null,b=0;b<l.length;b++)l[b].target===e&&(this.isSelfColorerPlot(b)||this.isOHLCColorerPlot(b))&&(g=b,y=this.metaInfo().palettes[l[b].palette],v=this.properties().palettes[l[b].palette]);return S=_[c],i&&(m.price=S),w=this.firstValue(!0),isNumber(w)?(m.text=this.priceScale().formatPrice(S,w),m.formattedPriceAbsolute=this.priceScale().formatPriceAbsolute(S),m.formattedPricePercentage=this.priceScale().formatPricePercentage(S,w),P=s.color.value(),g&&_.length>g+1&&void 0!==(T=_[g+1])&&null!==T?(C=y.valToIndex?y.valToIndex[T]:T,m.color=v.colors[C].color.value()):m.color=P,m.floatCoordinate=this.priceScale().priceToCoordinate(S,w),m.coordinate=m.floatCoordinate,m.item=_,m):x},l.prototype.isFailed=function(){return this._failed},l.prototype.isLoading=function(){return this._loading},l.prototype.isSymbolInvalid=function(){return this._status===ke},l.prototype.series=function(){return this._series},l.prototype.model=function(){return this._model},l.prototype.currency=function(){var e=this.metaInfo();return Boolean(e)&&e.is_price_study?this.parentSource().currency():null},l.prototype._invalidateLastNonEmptyPlotRowCache=function(){this._lastNonEmptyPlotRowCache={}},l.prototype.clearData=function(){this._invalidateLastNonEmptyPlotRowCache(),this.m_data.clear(),this._graphics.clear&&this._graphics.clear(),this._plotOffsets={}},l.prototype.onTagsChanged=function(){return this._tagsChanged},l.prototype.properties=function(){return this._properties},l.prototype.state=function(e,t){var i,n,r,o,s,a=TradingView.className(this.constructor),l={type:a,id:this.id(),state:this.properties().state(),zorder:this.zorder()};for(this.metaInfo()instanceof pe?l.metaInfo=TradingView.clone(this.metaInfo().state()):(l.metaInfo=TradingView.clone(this.metaInfo()),l.metaInfo.id=pe.parseIdString(l.metaInfo.id+(l.metaInfo.version?"-"+l.metaInfo.version:"")).fullId),e&&(l.data=this.data().state(),l.data.symbols=this._resolvedSymbols,l.data.graphics=U(this.graphics()),l.data.plotOffsets=this._plotOffsets),this.ownerSource()&&(l.ownerSource=this.ownerSource().id()),i=0;i<this._metaInfo.inputs.length;i++)"bar_time"===this._metaInfo.inputs[i].type&&(n=this._metaInfo.inputs[i].id,(r=l.state.inputs[n])<0&&(o=this._rightOffsetToUnixTime(-r),l.state.inputs[n]=o&&o>=0?o:0));return this._isChildStudy&&pe.patchChildStudyMetaInfoState(l),t&&(s=l).metaInfo&&"string"==typeof s.metaInfo.scriptIdPart&&s.metaInfo.scriptIdPart.startsWith("USER;")&&(function(e){var t,i;e.metaInfo&&(t=e.metaInfo.scriptIdPart)&&(i=t.split(";")[0],e.metaInfo.id=(e.metaInfo.id||"").replace(t,i),e.metaInfo.fullId=(e.metaInfo.fullId||"").replace(t,i),
e.metaInfo.name=(e.metaInfo.name||"").replace(t,i),e.metaInfo.shortId=(e.metaInfo.shortId||"").replace(t,i),e.metaInfo.scriptIdPart=(e.metaInfo.scriptIdPart||"").replace(t,i),e.state&&(e.state.id=(e.state.id||"").replace(t,i),e.state.fullId=(e.state.fullId||"").replace(t,i),e.state.name=(e.state.name||"").replace(t,i),e.state.shortId=(e.state.shortId||"").replace(t,i),e.state.scriptIdPart=(e.state.scriptIdPart||"").replace(t,i)))}(s),function(e){var t=(e.metaInfo&&e.metaInfo.inputs||[]).find(function(e){return"ILScript"===e.name});t&&(t.defval="",e.state&&e.state.inputs&&(e.state.inputs[t.id]=""),e.metaInfo.defaults.inputs&&(e.metaInfo.defaults.inputs[t.id]=""))}(s)),l},l.prototype._plotsForAlert=function(){var e=this,t=this._metaInfo,i=[ge.isLinePlot,ge.isShapesPlot,ge.isCharsPlot,ge.isArrowsPlot,ge.isOhlcPlot,ge.isAlertConditionPlot];return t.plots.map(function(e,t){return e.pinePlotIndex=t,e}).filter(function(e){return i.some(function(t){return t(e)})}).map(function(i){var n={id:i.id,type:i.type,pinePlotIndex:i.pinePlotIndex,offset:e.offset(i.id)};return t.styles&&void 0!==t.styles[i.id]&&(n.title=t.styles[i.id].title||"",n.text=t.styles[i.id].text||""),i.target&&t.ohlcPlots&&t.ohlcPlots[i.target]&&(n.ohlcTitle=t.ohlcPlots[i.target].title),n})},l.prototype._collectDepsForAlert=function(){var e,t,i,n,r,o,s,a,l,c;for(t=[],i=void 0,n=void 0,r=(e=[this].concat(this.getAllOwnerSources()).filter(function(e){return e instanceof TradingView.Study})).length-1;r>=0;r--)o=e[r],s=fe(o._metaInfo.id),a=o._getStudyIdWithLatestVersion(),n=o.inputsForAlertState(),l=o._metaInfo.inputs.filter(function(e){return"source"===e.type}).map(function(e){return e.id}),Z.patchChildIdInInputs(n,i,l),c=Z.idForAlert(s,n),t.push({id:c,study:a,inputs:n}),i=c;return{idForAlert:i,inputsForAlert:n,studyDependencies:t.reverse()}},l.prototype.idForAlert=function(){return this._collectDepsForAlert().idForAlert},l.prototype.dependenciesForAlerts=function(){var e;return e=this,this.getAllOwnerSources().filter(function(e){return e instanceof TradingView.Study}).map(function(t){var i,n=t.inputs(),r=TradingView.StudyMetaInfo.cutDollarHash(t._metaInfo.fullId);return"tv-scripting"===t._metaInfo.productId&&(r=e._model.studyMetaInfoRepository().findByIdSync({type:"java",studyId:"Script@tv-scripting"}).fullId),i={id:t._studyId,study:r,inputs:n},null!=t._metaInfo.pine&&(i.scriptIdPart=t._metaInfo.scriptIdPart,i.scriptVersion=t._metaInfo.pine.version),i})},l.prototype._hasPlotData=function(){var e=this.data();return!e.isEmpty()&&null!==e.findLast(function(e,t){var i,n;for(i=t.length-1;i>0;i--)if(null!==(n=t[i])&&void 0!==n&&!isNaN(n))return!0;return!1})},l.prototype._hasAvailableAlertPlots=function(){var e,t;return e=this.stateForAlert(),null!=(t=J.create(e).getPlots())&&t.length>0},l.prototype._hasAlertablePlots=function(){return(this.metaInfo().plots||[]).some(function(e){return"line"===e.type})},l.prototype._hasAlertConditions=function(){if(this.metaInfo().plots.some(ge.isAlertConditionPlot))return!0;var e=this.stateForAlert()
;return!(!e.alerts||!e.alerts.conditions)},l.prototype._isAlertFeatureEnabled=function(){return Ce.enabled("alerts")},l.prototype.hasStateForAlert=function(){return this._isAlertFeatureEnabled()&&(this.metaInfo().isTVScript?this._hasAlertConditions()||this._hasAvailableAlertPlots()&&this._hasPlotData():this._hasAlertablePlots()&&this._hasPlotData())},l.prototype.stateForAlert=function(){var e,t,i,n,r,o,s,a,l;return e=this._metaInfo,t=this._plotsForAlert(),n=(i=this._collectDepsForAlert()).idForAlert,r=i.studyDependencies,o=i.inputsForAlert,s=(s=(this.priceScale()||this.model().mainSeries().priceScale()).formatter())?$.serialize(s):null,a={id:n,uniqueId:n,type:TradingView.className(this.constructor),title:TradingView.clean(this._title(!1,null,!1),!0),shortTitle:TradingView.clean(this._title(!0,null,!1),!0),shortDescription:TradingView.clean(e.shortDescription||"Study",!0),fullId:e.fullId,isTVScript:e.isTVScript,isTVScriptStrategy:e.isTVScriptStrategy,plots:t,inputs:o,alerts:e.alerts,scriptIdPart:e.scriptIdPart,scriptVersion:e.pine?e.pine.version:"-1",callStudyDependencies:Q(this.dependenciesForAlerts()),studyDependencies:r,formatter:s},(l=te(this))&&(a.dangerReason=l),a},l.prototype.isSavedInStudyTemplates=function(){for(var e=0;e<this._metaInfo.inputs.length;e++)if("bar_time"===this._metaInfo.inputs[e].type)return!1;return!0},l.prototype.restoreData=function(e){this._invalidateLastNonEmptyPlotRowCache(),this.m_data.restoreState(e),this._resolvedSymbols=e.symbols,this._graphics=e.graphics?W(e.graphics):j(),this._postProcessGraphics(),this._plotOffsets=e.plotOffsets,this._loading=!1},l.prototype.restart=function(){this._restarting=!0,this.clearData(),Ce.enabled("stop_study_on_restart")&&this.stop(),setTimeout(this.start.bind(this),0)},l.prototype.stop=function(e){if(!0===e&&this._children)for(var t=0;t<this._children.length;++t)this._children[t].stop(!0);this._chartApi&&this._chartApi.connected()&&this._studyId&&this._chartApi.removeStudy(this._studyId,this._handler,this._isChildStudy),this._studyId=null,this.clearData(),this._unsubscribeExtendedHours(),this.recalculate()},l.prototype.symbolsResolved=function(){return this._symbolsResolved},l.prototype.resolvedSymbolInfoBySymbol=function(e){return this._resolvedSymbols&&e&&this._resolvedSymbols[e]||null},l.prototype._onSymbolResolved=function(e){var t,i,n;for((t=this._model.alertsWatcher()).syncSourceAlertLabels(this),i=this.getAllChildren(),n=0;n<i.length;++n)t.syncSourceAlertLabels(i[n])},l.prototype._resolveSymbol=function(e){if(""===e)return new Promise(function(t,i){t(e)});var t=e;return new Promise(function(i,n){this._chartApi.resolveSymbol(Pe(),Te({symbol:t}),function(t){switch(t.method){case"symbol_resolved":this._loading=!1,this._failed=!1,this._resolvedSymbols[e]=t.params[1],this._onSymbolResolved(e),this.invalidateTitleCache(!0),i(e);break;case"symbol_error":if(this._loading=!1,this._failed=!0,"permission denied"===t.params[1]&&t.params[2])switch(t.params[2]){case TradingView.Series.PD_REASON_EXTENDED_HOURS:break;case TradingView.Series.PD_REASON_SYMBOL:
if(t.params[3])return void i(this._resolveSymbol(t.params[3]));break;default:return void i(this._resolveSymbol(t.params[2]))}this._sendTelemetryCounter("symbol_error",Object.assign(this._getTelemetryAdditionalData(),{symbol:e,reason:t.params[1]})),n(e)}}.bind(this))}.bind(this))},l.prototype._allSymbolsAreResolved=function(){var e,t,i,n,r=[];for(e=0;e<this._metaInfo.inputs.length;e++)"symbol"===this._metaInfo.inputs[e].type&&(t=this._metaInfo.inputs[e].id,""===(i=this._properties.inputs[t].value())||this._resolvedSymbols[i]||(n=this._resolveSymbol(i),r.push(n)));return 0===r.length?Promise.resolve():Promise.all(r).catch(function(e){return this._status=ke,this.stop(!0),this._model.updateSource(this),Promise.reject("Invalid symbol, "+e)}.bind(this)).then(function(){null!==this._studyId&&this.stop(!0),this.start(!0),this._symbolsResolved.fire()}.bind(this))},l.prototype._setStatus=function(e){this._status=e,this._statusView||this._statusView.update(),this.m_model.updateSource(this),this._onStatusChanged.fire()},l.prototype._allInputsAreValid=function(){var e,t,i;for(e=0;e<this._metaInfo.inputs.length;e++)if("bar_time"===this._metaInfo.inputs[e].type&&(t=this._metaInfo.inputs[e].id,void 0===(i=this._properties.inputs[t].value())||null==i))return!1;return!0},l.prototype.sourceId=function(){return this._studyId},l.prototype.parentSource=function(){return this._source||this._series},l.prototype.source=function(){return this.parentSource()},l.prototype.ownerSource=function(){return this._isChildStudy?this._source:k.prototype.ownerSource.call(this)},l.prototype.getAllOwnerSources=function(){for(var e=[],t=this.ownerSource();null!=t;)e.push(t),t=t.ownerSource();return e},l.prototype.isChildStudy=function(){return!!this._isChildStudy},l.prototype.setChild=function(e){e instanceof l&&e.source()===this&&(this._children||(this._children=[]),-1===this._children.indexOf(e)&&this._children.push(e))},l.prototype.unsetChild=function(e){if(e instanceof l&&e.source()===this&&this._children){var t=this._children.indexOf(e);~t&&this._children.splice(t,1)}},l.prototype.hasChildren=function(){return!(!this._children||!this._children.length)},l.prototype.getAllChildren=function(){var e,t,i,n;if(!Array.isArray(this._children))return[];for(e=this._children.slice(),t=0;t<e.length;++t)for(i=e[t].getAllChildren(),n=0;n<i.length;++n)~e.indexOf(i[n])||e.push(i[n]);return e},l.prototype._debugId=function(){var e=[];return this._studyId&&e.push(this._studyId),e.push(this._metaInfo.fullId),e.push(this._metaInfo.description),JSON.stringify({study:e})},l.prototype.isStarted=function(){return!!this._studyId},l.prototype._isStopped=function(){return!this.isStarted()},l.prototype.isRestarting=function(){return!!this._restarting},l.prototype.isVisible=function(){var e,t,i;if(!this.properties().visible.value())return!1;if(this._metaInfo.plots.length>0)return!0;for(e in this._metaInfo.graphics)for(t in this._metaInfo.graphics[e])if(!(i=this.properties().graphics[e][t]).visible||i.visible.value())return!0;return!!this._metaInfo.isTVScriptStrategy},
l.prototype.start=function(e,t){var i,n=this._model.mainSeries();n.isStarted()?(this._isChildStudy&&this._source.isHibernated()&&this._source.start(),i=!this._isChildStudy&&!this.hasChildren()&&!this.isVisible(),!this._chartApi||!this._chartApi.connected()||i&&!0!==t||this._allSymbolsAreResolved().then(function(){this._startAfterSymbolsResolved(e,t)}.bind(this)).catch(function(e){Le.logError("ERROR: "+this._debugId()+" start failed, "+e),delete this._restarting}.bind(this))):n.dataEvents().completed().subscribe(this,function(){this.start(e,t)},!0)},l.prototype._getStudyIdWithLatestVersion=function(){var e=pe.cutDollarHash(this._metaInfo.id),t=e;return e.indexOf("@tv-scripting")>=0?t+="-101!":t+="-"+this._metaInfo.version,t},l.prototype._startAfterSymbolsResolved=function(e,t){var i,n;if(!this.isStarted()||this._restarting){if(this._isChildStudy){if(!this._source.isStarted()||this._source.isRestarting())return void this._source.onStart.subscribe(this,this._startAfterSymbolsResolved,!0);pe.setChildStudyMetaInfoPropertiesSourceId(this._metaInfo,this._source.sourceId(),this._properties)}if(this._studyId=we(),delete this._restarting,this._allInputsAreValid()&&(this._inputs=this.inputs({keepOptionalSymbolsEmpty:!0}),i=this._getStudyIdWithLatestVersion(),this._incrementTurnaround(),this._chartApi.createStudy(this._studyId,this._turnaround,this._isChildStudy?this._source.sourceId():this._series._seriesId,i,this._inputs,this._handler,this._isChildStudy),this._studyName=i,this._subscribeExtendedHours(),this.onStart.fire(),!0===e&&this._children))for(n=0;n<this._children.length;++n)this._children[n].start(!0,t)}},l.prototype._rightOffsetToUnixTime=function(e){var t,i=null;return this._series.bars().size()>=e&&(t=d(this._series.bars().lastIndex())-e,i=d(this._series.bars().valueAt(t))[TradingView.TIME_PLOT]),i},l.prototype.getSymbolString=function(e){return this._series&&this._series.extendedHours.value()?"="+JSON.stringify({symbol:e,session:"extended"}):e},l.prototype._titleInputs=function(e,t){return this.inputs({symbolsForDisplay:!0,skipHiddenInputs:!0,skipFakeInputs:!1,fakeInputsForDisplay:!0,asObject:!1,skippedGroups:[],noExchanges:e,noResolution:t})},l.prototype.inputsForAlert=function(){var e=this.offset(),t=this.inputs();return e&&t.push(e),t},l.prototype.inputs=function(e){var t={symbolsForDisplay:!1,symbolsForChartApi:!0,skipHiddenInputs:!1,skipFakeInputs:!1,skipBooleanInputs:Ce.enabled("dont_show_boolean_study_arguments"),asObject:!0,skippedGroups:[],noExchanges:!1,noResolution:!1,keepOptionalSymbolsEmpty:!1};return TradingView.merge(t,e),this._buildInputs(t)},l.prototype.inputsForAlertState=function(){return this.inputs()},l.prototype._buildInputs=function(e){var t,i;h(!!e,"options not set"),t={};try{t=this._prepareInputs(e)}catch(e){Le.logWarn("Failed to prepare study inputs: "+e)}return e.asObject?(i={},Object.keys(t).forEach(function(e){null!=t[e]&&(i[e]=t[e])}),i):(i=[],Object.keys(t).forEach(function(e){null!=t[e]&&i.push(t[e])}),i)},l.prototype._prepareInputs=function(e){var t,i,n,r
;for(h(!!e,"options not set"),t={},i=0;i<this._metaInfo.inputs.length;i++)(n=this._metaInfo.inputs[i]).isFake&&e.skipFakeInputs||n.isMTFResolution&&e.noResolution||n.isHidden&&e.skipHiddenInputs||"bool"===n.type&&e.skipHiddenInputs&&e.skipBooleanInputs||-1===e.skippedGroups.indexOf(n.groupId)&&(r=this._prepareInput(n,e),t[n.id]=TradingView.clone(r));return t},l.prototype._prepareInput=function(e,t){var i=this._prepareInputValue(e,t);return!e.isFake||t.fakeInputsForDisplay?i:t.onlyAtomValues?i:{v:i,f:!0,t:e.type}},l.prototype._prepareInputValue=function(e,t){var i,n,r,o,s,a=e.id;if("symbol"===e.type){if(i=this._properties.inputs[a].value(),n=this._resolvedSymbols&&this._resolvedSymbols[i],""===i&&e.optional){if(t&&t.keepOptionalSymbolsEmpty)return i;i=this._model.mainSeries().symbol(),n=this._model.mainSeries().symbolInfo()}return t&&t.symbolsForDisplay?n&&(r=n.exchange,i=n.name,r&&!t.noExchanges&&(i+=", "+r)):(n&&(i=n.ticker||n.full_name),!this.isPine()&&t&&t.symbolsForChartApi&&(i=this.getSymbolString(i))),i}return"bar_time"===e.type?((o=this._properties.inputs[a].value())<0&&(o=(s=this._rightOffsetToUnixTime(-o))&&s>=0?s:o),o):this._metaInfo.isTVScript||this._metaInfo.pine?"text"===a?this._metaInfo.defaults.inputs.text:"pineId"===a?this._metaInfo.scriptIdPart:"pineVersion"===a?this._metaInfo.pine?this._metaInfo.pine.version:"-1":this._properties.inputs[a].value():this._properties.inputs[a].value()},l.prototype._rebindToSource=function(e,t){var i,n,r,o,s,a,c=this.parentSource();if(this._isChildStudy){if(this._source.unsetChild(this),delete this._nonPriceParent,n=null,e===this._model.mainSeries())delete this._source,delete this._isChildStudy,delete this._ownerSource,i=this._series._seriesId,n=Y.REBIND_STUDY_CHILD_TO_STANDALONE;else{if(!(e instanceof l))return Le.logError("Unable to rebind study to source of this type"),!1;this._ownerSource=e,this._source=e,i=this._source.sourceId(),this._source.setChild(this),this._source.isHibernated()&&this._source.start()}this._incrementTurnaround(),this._chartApi.rebindStudy(this._studyId,this._turnaround,i,this._studyName,t,this._handler,n)}else{if(!(e instanceof l))return Le.logError("Unable to rebind study to source of this type"),!1;if((r=e.isHibernated())&&e.start(),o=!1,this._canCreateStudyWithRebindType(Y.REBIND_STUDY_STANDALONE_TO_CHILD)?(this._incrementTurnaround(),o=this._chartApi.rebindStudy(this._studyId,this._turnaround,e.sourceId(),this._studyName,t,this._handler,Y.REBIND_STUDY_STANDALONE_TO_CHILD)):K.createGoProDialog({feature:"studyOnStudy"}).then(function(e){e.open()}),!o)return r&&e.stop(),!1;this._isChildStudy=!0,this._ownerSource=e,this._source=e,this._source.setChild(this),this._childStudyByRebind.fire()}return this.m_priceScale!==(s=e.priceScale())&&this._model.paneForSource(this)===(a=this._model.paneForSource(e))&&a.move(this,s,!0),c.formatterChanged().unsubscribe(this,this._onSourceFormatterChanged),this.parentSource().formatterChanged().subscribe(this,this._onSourceFormatterChanged),c.priceStepChanged().unsubscribe(this,this._onSourcePriceStepChanged),
this.parentSource().priceStepChanged().subscribe(this,this._onSourcePriceStepChanged),this._recreatePriceFormattingDependencies(),!0},l.prototype.childStudyByRebind=function(){return this._childStudyByRebind},l.prototype._changeInputsImpl=function(e,t){var i,n,r,o,s,a=this.source(),c=this._properties.inputs&&this._properties.inputs.state(),u=pe.getSourceIdByInputs(this._metaInfo.inputs,c),h=!0;if(u)if("high"===u||"open"===u||"low"===u||"close"===u||"hl2"===u||"ohl3"===u||"ohlc4"===u)a=this._model.mainSeries();else for(i=this._model.dataSources(),n=0;n<i.length;++n)if(i[n]instanceof l&&i[n].sourceId()===u){a=i[n];break}if(a!==this.source()){if(!this._rebindToSource(a,e)&&c)for(r in t)if(t.hasOwnProperty(r)&&t[r]!==e[r]&&0===e[r].indexOf(u)){o=this._properties.inputs[r],s=t[r],o.setValue(s),h=!1;break}}else this._incrementTurnaround(),this._chartApi.modifyStudy(this._studyId,this._turnaround,e,this._handler);this.invalidateTitleCache(),h&&(this._studyModified=h)},l.prototype._incrementTurnaround=function(){this._turnaround="st"+ ++this._turnaroundCounter},l.prototype._tryChangeInputs=function(){var e=TradingView.clone(this._inputs);this.isStarted()&&this._chartApi.connected()?this._allInputsAreValid()?this._allSymbolsAreResolved().then(function(){if(!this._isStopped()){var t=this.inputs({keepOptionalSymbolsEmpty:!0});JSON.stringify(t)!==JSON.stringify(this._inputs)&&(this._changeInputsImpl(t,e),this._inputs=t,this.model().alertsWatcher().syncSourceAlertLabels(this))}}.bind(this)).catch(function(e){Le.logError("ERROR: "+this._debugId()+" _tryChangeInputs: cannot modify study, "+e)}.bind(this)):this.stop():(this.stop(!0),this.start(!0)),this._tagsChanged.fire()},l.prototype.testInputValue=function(e,t){var i,n;return!pe.canBeChild(this._metaInfo)||!pe.isSourceInput(e)||(!(i=this._properties.inputs&&this._properties.inputs[e.id])||(n=l.getInputRebindType(e,i.value(),t),!!this._canCreateStudyWithRebindType(n)||(K.createGoProDialog({feature:"studyOnStudy"}).then(function(e){e.open()}),!1)))},l.prototype._canCreateStudyWithRebindType=function(e){return e!==Y.REBIND_STUDY_STANDALONE_TO_CHILD||this._chartApi.isCanCreateStudy(!0)},l.prototype.changeStyles=function(){var e=void 0!==this._metaInfo.inputs.find(function(e){return"symbol"===e.type});!this.isStarted()&&!e||this._restarting||(this._inputs?this._tryChangeInputs():this._chartApi&&this._chartApi.connected()&&this.restart(),this._metaInfo.isTVScript&&this._metaInfo.TVScriptMetaInfoExprs&&(this._pinePatchProps(),this.invalidateTitleCache()),this.hasBarColorer()&&this._model.mainSeries().invalidateBarStylesCache(),this.createViews(),this.recalculate(!0),this.updateAllViews())},l.prototype._onPropertiesChanged=function(){this.changeStyles(),me.emit("study_properties_changed",this._id)},l.prototype._isModifiedStudyInputs=function(e){if(void 0===this._oldStudyInputs)return this._oldStudyInputs=e,!0;var t=Object.keys(this._oldStudyInputs);return h(t.length===Object.keys(e).length,"keys quantity should be equal"),t.forEach(function(t){
h(e.hasOwnProperty(t),"key '"+t+"' should existing in studyInputs"),this._oldStudyInputs[t]!==e[t]&&(this._oldStudyInputs=e)},this),this._oldStudyInputs===e},l.prototype._pinePatchProps=function(){var e,t,i={symbolsForDisplay:!1,symbolsForChartApi:!0,skipHiddenInputs:!0,skipFakeInputs:!1,onlyAtomValues:!0,skipBooleanInputs:!1,skippedGroups:[]},n=this._prepareInputs(i);this._isModifiedStudyInputs(n)&&(e=X.patchPropertiesAsync(this._properties,this._metaInfo,n),t=this._allSymbolsAreResolved(),Promise.all([e,t]).then(function(){this.createViews(),this.recalculate(!0),this.updateAllViews()}.bind(this)).catch(function(e){Le.logError("ERROR: "+this._debugId()+" _pinePatchProps failed, reason: "+e)}.bind(this)))},l.prototype.visibleChanged=function(){this._series instanceof TradingView.Series&&this._series.invalidateBarColorerCache()},l.prototype.processHibernate=function(){this.isHibernateAllowed()&&(!this._studyId&&this.isVisible()&&this.start(),this._studyId&&!this.isVisible()&&this.stop())},l.prototype.isHibernated=function(){return!this.isVisible()&&!this._studyId},l.prototype.isHibernateAllowed=function(){return!this._isChildStudy&&!this.hasChildren()},l.prototype.lastPriceLabelFixedCoordinate=function(e){return this._priceAxisViewsCache[e]._fixedCoordinate},l.prototype.priceLabelText=function(e){var t,i,n=this._metaInfo.styles,r=this._metaInfo.ohlcPlots;return n&&n[e]&&(t=n[e]),r&&r[e]&&(t=r[e]),i=t.title,1!==this._simplePlotsCount||ge.isPlotTitleDefined(i)?this._metaInfo.is_price_study&&i!==this._metaInfo.shortDescription?""===i?this._metaInfo.shortDescription:this._metaInfo.shortDescription+":"+i:i:this._metaInfo.shortDescription},l.prototype.createPriceAxisView=function(e){return new b(this,{plotIndex:e})},l.prototype.createPriceLineAxisView=function(e){return new be(this,e)},l.prototype.createViews=function(){var e,t,i,n,r,s,a,l;if(this._priceAxisViewsBase=[],this._priceLinesAxisViews=[],this._paneViews=[],e={},this._priceAxisViewsCache={},this.metaInfo().plots)for(t=0;t<this.metaInfo().plots.length;t++)if(!(this.isSelfColorerPlot(t)||this.isTextColorerPlot(t)||this.isBarColorerPlot(t)||this.isOHLCColorerPlot(t)||this.isAlertConditionPlot(t)))if(i=this.metaInfo().plots[t].id,this.isBgColorerPlot(t))this._paneViews.push(new T(this,this._series,this._model,i));else if(this.isPlotShapesPlot(t))this._paneViews.push(new C(this,this._series,this._model,i));else if(this.isPlotCharsPlot(t))this._paneViews.push(new x(this,this._series,this._model,i));else if(this.isPlotArrowsPlot(t))this._paneViews.push(new I(this,this._series,this._model,i));else if(this.isOHLCSeriesPlot(t)){if(e[n=this.metaInfo().plots[t].target])continue;e[n]=n,this.isOHLCBarsPlot(t)?this._paneViews.push(new E(this,this._series,this._model,n)):this.isOHLCCandlesPlot(t)&&this._paneViews.push(new L(this,this._series,this._model,n)),r=this.createPriceAxisView(n),this._priceAxisViewsCache[n]=r,this._priceAxisViewsBase.push(r),this._paneViews.push(new S(r,this,this._model))}else r=this.createPriceAxisView(i),this._priceAxisViewsCache[i]=r,
this._priceAxisViewsBase.push(r),this._priceLinesAxisViews.push(this.createPriceLineAxisView(i)),this._paneViews.push(new P(this,this._series,this._model,i)),this.properties().styles[i].trackPrice.value()&&this._paneViews.push(new o(this,this._series,this._model,i)),this._paneViews.push(new S(r,this,this._model));if(this._properties.bands)for(t=0;t<this._properties.bands.childCount();t++)this._properties.bands[t].visible.value()&&this._paneViews.push(new g(this._properties.bands[t],this));if(this._properties.bandsBackground&&this._paneViews.push(new y(this)),s=this._paneViews,z(this,this.model()).then(function(e){for(var t=0;t<e.length;t++)s.push(e[t]);this._model.lightUpdate()}.bind(this)),this._properties.areaBackground&&this._paneViews.push(new M(this)),this._properties.filledAreas&&this._metaInfo.filledAreas)for(t=0;t<this._metaInfo.filledAreas.length;++t)a=this._metaInfo.filledAreas[t],l=this._properties.filledAreasStyle[a.id],a.type===pe.FilledArea.TYPE_PLOTS||a.palette?this._paneViews.push(new O(this,a,l)):a.type===pe.FilledArea.TYPE_HLINES?this._paneViews.push(new v(this,a,l)):Le.logWarn("Unsupported filledArea type: "+a.type);this._dataWindowView||(this._dataWindowView=this.metaInfo().graphics&&"hhists"in this.metaInfo().graphics?new V(this,this._model):new D(this,this._model)),this._legendView||(this._legendView=this.metaInfo().graphics&&"hhists"in this.metaInfo().graphics?new B(this,this._model):new R(this,this._model)),this._statusView||(this._statusView=new N(this,this._model.properties().scalesProperties.textColor)),this._priceAxisViews=[].concat(this._priceAxisViewsBase,this._hlinesPriceAsisViews,this._horizlinesPriceAsisViews)},l.prototype.recalculate=function(e){var t=this._model.paneForSource(this);this._model.recalculatePane(t,e),this._model.updateSource(this)},l.prototype.data=function(){return this.m_data},l.prototype.metaInfo=function(){return this._metaInfo},l.prototype.graphicsInfo=function(){return this._metaInfo.graphics},l.prototype.status=function(){return this._status},l.prototype.onStatusChanged=function(){return this._onStatusChanged},l.prototype.title=function(e,t,i,n){var r,o;return i=void 0===i?!this._showStudyArgumentsProperty.value():i,r=JSON.stringify([e,t,i,n]),this._titleStrCache[r]?this._titleStrCache[r]:this._titleInPartsCache[r]?this._joinTitlesParts(this._titleInPartsCache[r]):(o=this._title(e,t,i,n),this._titleStrCache[r]=o,o)},l.prototype.titleInParts=function(e,t,i,n){var r,o;return i=void 0===i?!this._showStudyArgumentsProperty.value():i,r=JSON.stringify([e,t,i,n]),this._titleInPartsCache[r]?this._titleInPartsCache[r]:(o=this._titleInParts(e,t,i,n),this._titleInPartsCache[r]=o,o)},l.prototype._title=function(e,t,i,n){var r=this._titleInParts(e,t,i,n);return this._joinTitlesParts(r)},l.prototype._joinTitlesParts=function(e){var t=e[1]?e[1].join(", "):"";return e[0]+(t.length>0?" ("+t+")":"")},l.prototype._titleInParts=function(e,t,i,n){var r,o,s,a,l,c,u,h,d,p,f,_,m,g,y=""
;if(y=e?this._metaInfo.shortDescription||this._properties.shortDescription&&this._properties.shortDescription.value()||"Study":this._metaInfo.description||this._properties.description&&this._properties.description.value()||"Study",t=t||{},r=[window.t(y)],o=[],!i&&(null!==(s=this._getMTFResolutionInputTitle())&&s.length>0&&r.push(s),(o=this._titleInputs(n,!0)||[]).length>0)){if(a={},this._isChildStudy)for(l=0;l<this._metaInfo.inputs.length;++l)if(c=this._metaInfo.inputs[l],pe.isSourceInput(c)){u=c.id,(h=this._properties.inputs[u].value()).indexOf("$")>=0&&this._source&&(d=this._source.metaInfo(),p=this._source.title(e,null,!0,n),1===d.plots.length?a[h]=p:(f=h.split("$")[1],_=d.plots[f].id,m=d.styles&&d.styles[_]&&d.styles[_].title||_,a[h]=p+": "+m));break}g=this,o=o.map(function(e){var i=isNumber(e)?g._numericFormatter.format(e):a&&a[e]||e;return t[i]&&(i=t[i]),i})}return[r.join(" · "),o]},l.prototype._getMTFResolutionInputTitle=function(){var e,t;for(e=0;e<this._metaInfo.inputs.length;e++)if((t=this._metaInfo.inputs[e]).isMTFResolution)return this._properties.inputs[t.id].value();return null},l.prototype.invalidateTitleCache=function(e){if(this._titleStrCache={},this._titleInPartsCache={},!0===e&&this._children)for(var t=0;t<this._children.length;++t)this._children[t].invalidateTitleCache(e)},l.prototype.graphics=function(){return this._graphics},l.prototype.turnaround=function(e){return!0===e?this.source().turnaround(!0)+"_"+this._turnaround:this._turnaround},l.prototype._checkTurnaround=function(e){return e===this._turnaround||e===this._model.mainSeries().turnaround()||e===this.turnaround(!0)},l.prototype._getStatusTextOnStudyError=function(e){var t,i;return t=_e(this._metaInfo.fullId),this._metaInfo.scriptIdPart&&this._metaInfo.scriptIdPart.startsWith(ee.PinePrefix.EDGR)||t&&t.startsWith(ee.PinePrefix.EDGR)?window.t("Fundamental studies are no longer available on charts"):(i=e.split(":",2)[0]).length>0?window.t(i):""},l.prototype._handleStudyError=function(e){var t,i,n,r;delete this._loadingStartTime,this._failed=!0,this._loading=!1,this.clearData(),t=e.params[2],this._status=this._getStatusTextOnStudyError(e.params[2]),-1===["Sessions"].indexOf(this._metaInfo.description)&&(i=this._getTelemetryAdditionalData(),void 0!==t&&(n=t.indexOf("Command info"),i.reason=n>=0?t.slice(0,n).trim():t),/study in error state|no volume is provided by the data vendor|error in series|unsupported resolution/gi.test(i.reason.toLowerCase())||(r=this._getTelemetryObjectName(),this._sendTelemetryCounter(r+"_error",i))),this._statusView.update(),this._model.updateSource(this)},l.prototype.onData=function(e){var t,i,n,r,o,s,a=this,l=this._getTelemetryObjectName();switch(e.method){case"study_loading":this._status=window.t("loading..."),this._failed=!1,this._loading=!0,this._statusView.update(),this._model.updateSource(this),a._loadingStartTime=(new Date).getTime();break;case"study_error":this._handleStudyError(e);break;case"study_completed":if(!this._checkTurnaround(e.params[1]))return;this._studyModified&&(this.clearData(),
this._studyModified=!1),t="chartSession:"+a._chartApi._sessionid,i=(new Date).getTime()-this._loadingStartTime,Le.logDebug(t+", Study "+this._metaInfo.description+" loading took "+i+" ms"),(n=e.params[e.params.length-1])&&(o=(r=Math.round(1e3*(n-this._chartApi.serverTimeOffset()))-this._loadingStartTime)>0&&i-r>=Ae,this._sendTelemetryTiming(l+"_server_time_frame",o?r:i)),this._sendTelemetryCounter(l+"_loaded"),this._sendTelemetryTiming(l+"_time_frame",i),delete this._loadingStartTime,this._loading=!1,this._status="",this._statusView.update(),s=this._model.paneForSource(this),this._model.recalculatePane(s),this._updateSources(),this._model.fullUpdate();break;case"study_deleted":break;case"data_update":if(e.params.customId!==this.sourceId()||!this._checkTurnaround(e.params.turnaround))return;h(!!e.params.nonseries,"data.params.nonseries is missing"),this._onDataUpdate(e.params.plots,e.params.nonseries)}},l.prototype._onDataUpdate=function(e,t){this._studyModified&&(this.clearData(),this._studyModified=!1);var i=p(t.d);return this._ongoingDataUpdate=this._ongoingDataUpdate.then(function(){return i},function(){return i}).then(this._onDataUnpacked.bind(this,e,t.indexes)),this._ongoingDataUpdate},l.prototype._onDataUnpacked=function(e,t,i){this._isDestroyed||("nochange"!==t&&this._processPlotOffsets(i),this.transformData(e),this._mergeData(e),null!==i&&(i.indexes_replace?(h("nochange"!==t),this._graphics.replaceIndexesTo(t)):("nochange"!==t&&this._graphics.replaceIndexesTo(t),void 0!==i.graphicsCmds&&this._graphics.processCommands(i.graphicsCmds,this._metaInfo.graphics))),this._onDataUpdated(e,i,t))},l.prototype._onDataUpdated=function(e,t,i){var n,r;this.hasBarColorer()&&e.length>0&&(n=this.barColorer().firstColoredBar(e[0].index),this._model.mainSeries().invalidateBarStylesCache(n)),null!==t&&this._postProcessGraphics(),r=this._model.paneForSource(this),this._model.recalculatePane(r),this._updateSources()},l.prototype.transformData=function(e){},l.prototype.moveData=function(e){this._ongoingDataUpdate=this._ongoingDataUpdate.then(function(){this._invalidateLastNonEmptyPlotRowCache(),this.m_data.move(e)}.bind(this))},l.prototype.replaceData=function(e,t,i){this._invalidateLastNonEmptyPlotRowCache(),this.m_data.remove(e+1),this.m_data.addTail(i,t)},l.prototype._updateSources=function(){this._model.updateSource(this),this.hasBarColorer()&&this._model.updateSource(this._model.mainSeries())},l.processPlotOffsets=function(e,t){t&&t.indexes_replace||(e._plotOffsets=t&&t.offsets||{})},l.prototype._processPlotOffsets=function(e){l.processPlotOffsets(this,e)},l.prototype._mergeData=function(e){this._invalidateLastNonEmptyPlotRowCache(),this.m_data.merge(e)},l.prototype._postProcessGraphics=function(){this._priceAxisViews=[].concat(this._priceAxisViewsBase,G(this))},l.prototype._getNonPriceParent=function(){var e,t;if(this._nonPriceParent)return this._nonPriceParent;for(e=this.source();e instanceof l;){if(!(t=e.metaInfo()).is_price_study||"Compare@tv-basicstudies"===t.id)return this._nonPriceParent=e,e;e=e.source()}},
l.prototype.firstValue=function(e){var t,i,n,r,o,s,a;return!this._isChildStudy&&"Compare@tv-basicstudies"===this._metaInfo.id||!this._metaInfo.is_price_study?null===(t=this._model.timeScale().visibleBarsStrictRange())?null:(i=t.firstBar(),n=t.lastBar(),r=null,r=Ee(this),s=(o=this)._metaInfo.plots,null===r&&this.data().range(i,n).each(function(t,i){var n,a,l,c;for(n=0;n<s.length;++n)if(!o.isSelfColorerPlot(n)&&null!=(a=i[n+1])&&(l=s[n].id,(c=o.properties().styles[l]).visible&&c.visible.value()&&!(e&&Math.abs(a)<1e-10)))return r=a,!0;return!1}),this._nonPriceFirstValue=r,r):this._isChildStudy&&(a=this._getNonPriceParent())&&this.priceScale()===a.priceScale()?void 0!==a._nonPriceFirstValue?a._nonPriceFirstValue:a.firstValue():this._series.firstValue()},l.offset=function(e,t){var i=0;return e._plotOffsets&&void 0!==e._plotOffsets[t]&&(i+=e._plotOffsets[t]),void 0!==e._plotOffsetsMetaInfoOverride[t]?i+=e._plotOffsetsMetaInfoOverride[t]:e.properties().offsets&&void 0!==e.properties().offsets[t]&&(i+=e.properties().offsets[t].val.value()),e.properties().offset&&(i+=e.properties().offset.val.value()),i},l.prototype.offset=function(e){return l.offset(this,e)},l.prototype.priceRange=function(e,t){var i,n,o,s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S;if(TradingView.isInteger(e)){if(TradingView.isInteger(t)){for(i=null,o=(n=this)._metaInfo,a=[],c=null,u=0;u<o.plots.length;++u)n.isSelfColorerPlot(u)||n.isTextColorerPlot(u)||n.isBarColorerPlot(u)||n.isBgColorerPlot(u)||n.isOHLCColorerPlot(u)||n.isAlertConditionPlot(u)||(h=o.plots[u].id,n.isOHLCSeriesPlot(u)?(p=o.plots[u].target,d=n.properties().ohlcPlots[p]):d=n.properties().styles[h],d.visible.value()&&(l=null,d.location&&(l=d.location.value()),s||(f=[de.Absolute,de.Top,de.Bottom].indexOf(l)<0,s=(n.isPlotShapesPlot(u)||n.isPlotCharsPlot(u))&&f||n.isPlotArrowsPlot(u)),(n.isLinePlot(u)||(n.isPlotShapesPlot(u)||n.isPlotCharsPlot(u))&&d.location.value()===de.Absolute||n.isOHLCSeriesPlot(u))&&(_={name:h,offset:n.offset(h)},m=n.properties().styles[h].plottype.value(),!n.properties().skipHistogramBaseOnAutoScale&&[ye.Histogram,ye.Columns,ye.Area].indexOf(m)>=0?(g=n.properties().styles[h].histogramBase.value(),y=n.m_data.minMaxOnRangeCached(e,t,[_]),isNumber(g)&&null!==y&&(c=he(c,{min:g,max:g}),c=he(c,y))):a.push(_))));if(v=n.m_data.minMaxOnRangeCached(e,t,a),v=he(c,v),s&&(a=[{name:"low",offset:0},{name:"high",offset:0}],b=n.series().data().bars().minMaxOnRangeCached(e,t,a),v=he(v,b)),null!==v&&(i=new r(v.min,v.max)),o.bands)for(u=0;u<o.bands.length;u++)if(n.properties().bands[u].visible.value()){if(g=n.properties().bands[u].value.value(),!isNumber(g))continue;i?i.apply(g,g):i=new r(g,g)}return(S=Ie(this,e,t))&&(i=i?i.merge(S):S),this._postProcessPriceRange(i)}Le.logDebug("priceRange: incorrect endBar")}else Le.logDebug("priceRange: incorrect startBar")},l.prototype._postProcessPriceRange=function(e){var t,i;return e&&e.minValue()===e.maxValue()&&!this.metaInfo().is_price_study&&(t=.005*e.minValue(),e=new r(e.minValue()-t,e.maxValue()+t)),
(i=this.priceScale())&&i.isLog()&&e?new r(this.priceScale().priceToLogical(e.minValue()),this.priceScale().priceToLogical(e.maxValue())):e},l.prototype.paneViews=function(){return this.properties().visible.value()?this._paneViews:null},l.prototype.dataWindowView=function(){return this._dataWindowView},l.prototype.legendView=function(){return this._legendView},l.prototype.statusView=function(){return this._statusView},l.prototype.priceAxisViews=function(e,t){return this.properties().oldShowLastValue&&!this.properties().oldShowLastValue.value()?null:e.findTargetPriceAxisViews(this,t,this._priceAxisViews,this._priceLinesAxisViews)},l.prototype._showLastValueOnPriceScale=function(){return this._model.properties().scalesProperties.showStudyLastValue.value()},l.prototype.isLinePlot=function(e){var t=this._metaInfo.plots[e];return ge.isLinePlot(t)},l.prototype.isSelfColorerPlot=function(e){var t=this._metaInfo.plots[e];return ge.isColorerPlot(t)},l.prototype.isTextColorerPlot=function(e){var t=this._metaInfo.plots[e];return ge.isTextColorerPlot(t)},l.prototype.isBarColorerPlot=function(e){var t=this._metaInfo.plots[e];return ge.isBarColorerPlot(t)},l.prototype.isBgColorerPlot=function(e){var t=this._metaInfo.plots[e];return ge.isBgColorerPlot(t)},l.prototype.isPlotShapesPlot=function(e){var t=this._metaInfo.plots[e];return ge.isShapesPlot(t)},l.prototype.isPlotCharsPlot=function(e){var t=this._metaInfo.plots[e];return ge.isCharsPlot(t)},l.prototype.isPlotArrowsPlot=function(e){var t=this._metaInfo.plots[e];return ge.isArrowsPlot(t)},l.prototype.isOHLCBarsPlot=function(e){var t=this._metaInfo.plots[e].target,i=this.metaInfo().defaults.ohlcPlots[t];return i&&this.isOHLCSeriesPlot(e)&&ge.isOhlcPlotStyleBars(i)},l.prototype.isOHLCCandlesPlot=function(e){var t=this._metaInfo.plots[e].target,i=this.metaInfo().defaults.ohlcPlots[t];return i&&this.isOHLCSeriesPlot(e)&&ge.isOhlcPlotStyleCandles(i)},l.prototype.isOHLCSeriesPlot=function(e){var t=this._metaInfo.plots[e];return ge.isOhlcPlot(t)},l.prototype.isOHLCOpenPlot=function(e){var t=this._metaInfo.plots[e];return ge.isOhlcOpenPlot(t)},l.prototype.isOHLCHighPlot=function(e){var t=this._metaInfo.plots[e];return ge.isOhlcHighPlot(t)},l.prototype.isOHLCLowPlot=function(e){var t=this._metaInfo.plots[e];return ge.isOhlcLowPlot(t)},l.prototype.isOHLCClosePlot=function(e){var t=this._metaInfo.plots[e];return ge.isOhlcClosePlot(t)},l.prototype.isOHLCColorerPlot=function(e){var t=this._metaInfo.plots[e];return ge.isOhlcColorerPlot(t)},l.prototype.isDataOffsetPlot=function(e){var t=this._metaInfo.plots[e];return ge.isDataOffsetPlot(t)},l.prototype.isAlertConditionPlot=function(e){var t=this._metaInfo.plots[e];return ge.isAlertConditionPlot(t)},l.prototype.hasBarColorer=function(){for(var e=0;e<this._metaInfo.plots.length;++e)if(this.isBarColorerPlot(e))return!0;return!1},l.prototype.barColorer=function(){var e,t,i=null;for(e=0;e<this._metaInfo.plots.length;++e)this.isBarColorerPlot(e)&&(t=new f(this,e),null==i?i=t:i.pushBackBarColorer(t))
;if(null==i)throw new Error("Cannot create BarColorer: study doesn't have a bar_colorer plot!");return i},l.prototype.base=function(){return"Volume"===this._metaInfo.id?1:0},l.prototype._priceScaleByProperties=function(){if("default"===this.properties().precision.value())return null;var e=parseInt(this.properties().precision.value());return isFinite(e)?Math.pow(10,e):null},l.prototype._formatterByProperties=function(){var e=this._priceScaleByProperties();return null!==e?new re(e):null},l.prototype._priceScaleByMetaInfo=function(){var e,t=this.metaInfo().format,i=isNumber(t.precision)?Math.pow(10,t.precision):void 0;return"price"===t.type||"percent"===t.type?i||Me:"volume"===t.type?void 0===t.precision&&null!==(e=this.series().symbolInfo())&&isNumber(e.volume_precision)?Math.pow(10,e.volume_precision):1:"inherit"===t.type?null:(Le.logWarn("Unsupported format type: "+t.type),null)},l.prototype._formatterByMetaInfo=function(){var e,t,i=this.metaInfo().format,n=isNumber(i.precision)?Math.pow(10,i.precision):void 0;switch(i.type){case"price":return new re(n);case"volume":return void 0===(e=i.precision)&&(e=(t=this.series().symbolInfo())&&isNumber(t.volume_precision)?t.volume_precision:0),new oe(e);case"percent":return new ae(n);case"inherit":return null;default:return Le.logWarn("Unsupported format type: "+i.type),null}},l.prototype._onSourceFormatterChanged=function(){null===this._formatter&&(null!==this.priceScale()&&this.priceScale().updateFormatter(),this._formatterChanged.fire())},l.prototype._onSourcePriceStepChanged=function(){null===this._priceStep&&this._priceStepChanged.fire()},l.prototype._precisionChanged=function(){this._recreatePriceFormattingDependencies()},l.prototype._recreatePriceFormattingDependencies=function(){this._recreateFormatter(),this._recreatePriceStep()},l.prototype._recreateFormatter=function(){this._formatter=this._tryCreateFormatter(),this._formatterChanged.fire(),null!==this.priceScale()&&this.priceScale().updateFormatter(),this._model.fullUpdate()},l.prototype._recreatePriceStep=function(){var e=null,t=this._tryToGetPriceScale();null!==t&&(e=1/t),this._priceStep!==e&&(this._priceStep=e,this._priceStepChanged.fire())},l.prototype._tryToGetPriceScale=function(){var e=this._priceScaleByProperties();return null===e&&(e=this._priceScaleByMetaInfo()),e},l.prototype._tryCreateFormatter=function(){var e=this._formatterByProperties();return null===e&&(e=this._formatterByMetaInfo()),e},l.prototype.formatter=function(){return this._formatter||this.parentSource().formatter(!1)},l.prototype.priceStep=function(){return this._priceStep||this.parentSource().priceStep(!1)},l.prototype.setOwnerSource=function(e){k.prototype.setOwnerSource.call(this,e),this._recreatePriceFormattingDependencies()},l.prototype.nearestIndex=function(e,t,i){if(TradingView.isInteger(e)){var n=this.data().search(e,t,i);return null!==n?n.index:void 0}Le.logDebug("nearestIndex: incorrect logicalPoint")},l.prototype._lastNonEmptyPlotRow=function(e){var t,i
;return TradingView.isInteger(e)?void 0!==this._lastNonEmptyPlotRowCache[e]?this._lastNonEmptyPlotRowCache[e]:(t=1e3,null===(i=this.data().findLast(function(t,i){return void 0!==i[e]},t))?null:(this._lastNonEmptyPlotRowCache[e]=i,this._lastNonEmptyPlotRowCache[e])):(Le.logDebug("_lastNonEmptyPlotRow: incorrect plotIndex"),null)},l.prototype.updateAllViews=function(){var e;for(e=0;e<this._paneViews.length;e++)this._paneViews[e].update();for(this._dataWindowView.update(),null!==this._legendView&&this._legendView.update(),this._statusView.update(),e=0;e<this._priceAxisViews.length;e++)this._priceAxisViews[e].update();this._priceLinesAxisViews.forEach(function(e){e.update()})},l.prototype.tags=function(){return!this._metaInfo||!this._metaInfo.description||this._metaInfo.isTVScriptStub||this._metaInfo.is_hidden_study||this._metaInfo.isTVScript&&"tv-scripting"===this._metaInfo.productId?[]:[this._metaInfo.description]},l.prototype.onExtendedHoursChanged=function(){this.restart()},l.prototype.hasSymbolInputs=function(){for(var e=this._metaInfo.inputs.length;e--;)if("symbol"===this._metaInfo.inputs[e].type)return!0;return!1},l.prototype.canOverrideMinTick=function(){return!1},l.prototype._subscribeExtendedHours=function(){!this._isSubscribedToExtendedHours&&this.hasSymbolInputs()&&(this._series.onExtendedHoursChanged().subscribe(this,this.onExtendedHoursChanged),this._isSubscribedToExtendedHours=!0)},l.prototype._unsubscribeExtendedHours=function(){this._isSubscribedToExtendedHours&&(this._series.onExtendedHoursChanged().unsubscribe(this,this.onExtendedHoursChanged),delete this._isSubscribedToExtendedHours)},l.prototype.removeByRemoveAllStudies=function(){return!0},l.prototype.canHaveChildren=function(){return void 0===this._canHaveChildren&&(this._canHaveChildren=!!pe.canHaveChildren(this._metaInfo)),this._canHaveChildren},l.getInputRebindType=function(e,t,i){var n=pe.isSourceInput(e);return n&&!~t.indexOf("$")&&~i.indexOf("$")?Y.REBIND_STUDY_STANDALONE_TO_CHILD:n&&~t.indexOf("$")&&!~i.indexOf("$")?Y.REBIND_STUDY_CHILD_TO_STANDALONE:0},l.prototype.getPlotFields=function(){return this._plotFields},l.prototype.getMinFirstBarIndexForPlot=function(e){var t,i=c(this._properties.styles,e)||c(this._properties.ohlcPlots,e)||c(this._properties.filledAreasStyle,e);return null===i?-1/0:null===(t=this.data().lastIndex())?-1/0:t-i+1},l.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.resolve(null)},l.prototype.getPropertyDefinitionsViewModel=function(){if(null===this._definitionsViewModel){var e=this;return e._getPropertyDefinitionsViewModelClass().then(function(t){return null===t||e._isDestroyed?null:(null===e._definitionsViewModel&&(e._definitionsViewModel=new t(e._model.undoModel(),e)),e._definitionsViewModel)})}return Promise.resolve(this._definitionsViewModel)},l.prototype.getInputsPropertyPage=function(){return ve.StudyInputsPropertyPage},l.prototype.getStylesPropertyPage=function(){return ve.StudyStylesPropertyPage},l.prototype.getDisplayPropertyPage=function(){return ve.StudyDisplayPropertyPage},
l.prototype.isPine=function(){return void 0!==this._metaInfo.pine},l.prototype.isStandardPine=function(){return this.isPine()&&pe.isStandardPine(this._metaInfo.id)},l.prototype.isLinkedToSeries=function(){return!0===this._metaInfo.linkedToSeries},l.prototype._getTelemetryObjectName=function(){return"study"},l.prototype._getTelemetryAdditionalData=function(){var e="";return this._metaInfo.pine&&this._metaInfo.pine.version&&this._metaInfo.shortId.indexOf("USER")>=0&&(e="_v"+this._metaInfo.pine.version),{symbol:this.series().actualSymbol(),resolution:this.series().interval(),study:this._metaInfo.shortId+e}},l.prototype._sendTelemetryReport=function(e,t,i){void 0===i&&(i=this._getTelemetryAdditionalData());var n=Object.assign(t,{additional:i});q.sendChartReport(e,n)},l.prototype._sendTelemetryCounter=function(e,t){this._sendTelemetryReport(e,{count:1},t)},l.prototype._sendTelemetryTiming=function(e,t,i){this._sendTelemetryReport(e,{value:t},i)},l.prototype.destroy=function(){var e,t,i,n,r,o;for(this._isDestroyed=!0,this._legendView&&this._legendView.destroy(),null!==this._definitionsViewModel&&(this._definitionsViewModel.destroy(),this._definitionsViewModel=null),this.parentSource().formatterChanged().unsubscribe(this,this._onSourceFormatterChanged),this.parentSource().priceStepChanged().unsubscribe(this,this._onSourcePriceStepChanged),this._properties.listeners().unsubscribe(this,this.changeStyles),this._properties.visible.listeners().unsubscribe(this,this.visibleChanged),this._properties.visible.listeners().unsubscribe(this,this.processHibernate),e=0;e<this._metaInfo.plots.length;e++)t=this._metaInfo.plots[e].id,null!=(i=this.properties().styles[t])&&null!=i.visible&&i.visible.listeners().unsubscribe(this,this.processHibernate);for(n in this._metaInfo.graphics)for(r in this._metaInfo.graphics[n])(o=this._properties.graphics[n][r]).visible&&o.visible.listeners().unsubscribe(this,this.processHibernate);this._properties.precision.listeners().unsubscribe(this,this._precisionChanged),this._showStudyArgumentsProperty.listeners().unsubscribe(this,this.invalidateTitleCache),this._properties.description.listeners().unsubscribe(this,this.invalidateTitleCache),this._properties.shortDescription&&this._properties.shortDescription.listeners().unsubscribe(this,this.invalidateTitleCache),this._model.mainSeries().dataEvents().symbolResolved().unsubscribeAll(this),this._properties.showInDataWindow.listeners().unsubscribe(this._model,this._model.fullUpdate),this.hasBarColorer()&&this._properties.visible.listeners().unsubscribe(this._model.mainSeries(),this._model.mainSeries().invalidateBarStylesCache),this._model.mainSeries().dataEvents().symbolResolved().unsubscribe(this,this._recreatePriceFormattingDependencies)},l.prototype.desiredPriceScalePosition=function(){return this.metaInfo().isTVScriptStub?"overlay":this.metaInfo().linkedToSeries?"as-series":void 0===this.metaInfo().priceScale?null:["right","left","overlay"][this.metaInfo().priceScale]},l.prototype.guiPlotName=function(e){var t=this.properties().styles
;return t&&t[e]&&t[e].title?t[e].title.value():this.title()},l.prototype.defaultPlotIdForAlert=function(){return this._metaInfo.plots.length?this._metaInfo.plots[0].id:null},l.prototype.formatterChanged=function(){return this._formatterChanged},l.prototype.copiable=function(){return Oe&&!this.isChildStudy()},l.prototype.setPriceScale=function(e){k.prototype.setPriceScale.call(this,e),me.emit("study_event",this.id(),"price_scale_changed")},l.prototype.disconnect=function(){this._studyId=null},t.Study=l,t.prepareStudyProperties=function(t,n,r,o,c){return function(t,n,r,o,c,u){var d,p=function(t,n,r,o){var s,l,c,u,d,p,f,_=i("K4L1");if(pe.versionOf(t)<1)throw new Error("This function cannot work with metainfo of the old format version. Required format version >= 1");return a(s=TradingView.clone(defaults("study")),t),l=pe.getStudyPropertyRootName(t),c=TradingView.clone(defaults(l,o)),t.isTVScript&&t.TVScriptSourceCode!==c.TVScriptSourceCode&&(c=TradingView.clone(TradingView.factoryDefaults(l,o))),TradingView.merge(s,c),n&&(h(!(n instanceof e),"propsState should not be an instance of Property"),TradingView.merge(s,n)),u=TradingView.clone(t),d={},_.mergeInputsObjPart(d,u.defaults.inputs),_.mergeInputsObjPart(d,s.inputs),s.inputs=d,delete u.inputs,delete u.defaults.inputs,p={},TradingView.merge(p,u.defaults),TradingView.merge(p,TradingView.factoryDefaults(l)),TradingView.merge(p,s),TradingView.merge(p,u),delete p.defaults,s=p,null!==r&&(f=r.model().studiesColorRotatorFactory().getColorRotator(t),"Overlay@tv-basicstudies"===t.id?s.lineStyle.color=f.getColor(s.lineStyle.color,t):TradingView.merge(s,function(e,t){var i,n;for(i in e.styles)(n=e.styles[i].color)&&(e.styles[i].color=t.getColor(n));return e}(s,f))),n&&TradingView.merge(s.styles,n.styles),s}(t,n,r,o),f=pe.getSourceInputIds(t);return f.length>0&&(d=f[0],u instanceof l?p.inputs[d]="{pid}$0":void 0!==p.inputs[d]&&-1!==p.inputs[d].indexOf("$")&&(p.inputs[d]="close")),s(t,c,p)}(t,n,r,o,pe.getStudyPropertyRootName(t),c)},t.prepareStudyPropertiesForLoadChart=function(e,t,n,r,o,l){return function(e,t,n,r,o,l,c){var u=function(e,t,n,r,o){var s,l,c,u,h=i("K4L1");return e.version&&n.version&&e.version!==n.version&&Le.logWarn("Serialized metaInfo version "+e.version+" is not equal to the saved state version "+n.version),s=TradingView.clone(defaults("study")),TradingView.merge(s,TradingView.factoryDefaults(pe.getStudyPropertyRootName(e))),a(s,e),TradingView.merge(s,n),s=o.updateStudyState(s,e,t),(l=TradingView.clone(t||e))&&pe.versionOf(l)>=1&&(c={},h.mergeInputsObjPart(c,l.defaults.inputs),h.mergeInputsObjPart(c,s.inputs),s.inputs=c,delete l.inputs,delete l.defaults.inputs,u={},TradingView.merge(u,l.defaults),TradingView.merge(u,TradingView.factoryDefaults(pe.getStudyPropertyRootName(l))),TradingView.merge(u,s),delete l.defaults,TradingView.merge(u,l),s=u),s}(e,t,n,0,o);return s(t||e,l,u)}(e,t,n,0,o,pe.getStudyPropertyRootName(e))}}).call(this,i("tc+8"),i("aIyQ"),i("Qb4w").PriceRange)},GVQo:function(e,t,i){"use strict";function n(){try{
return JSON.parse(o.TVLocalStorage.getItem("application-clipboard"))}catch(e){return null}}function r(e){try{o.TVLocalStorage.setItem("application-clipboard",JSON.stringify(e))}catch(e){}}var o;i.r(t),i.d(t,"get",function(){return n}),i.d(t,"set",function(){return r}),o=i("VVxS")},GhVi:function(e,t,i){"use strict";(function(t){function i(){this._marksByIndex={},this._marksBySpan=[],this.changed=new t}i.prototype.reset=function(){this._marksByIndex={},this._marksBySpan=[],delete this.minIndex,delete this.maxIndex,delete this._cache,this.changed.fire()},i.prototype.minIndex=void 0,i.prototype.maxIndex=void 0,i.prototype.merge=function(e){var t,i,n,r,o,s=this._marksBySpan,a={};for(t=0;t<e.length;t++){if(n=(i=e[t]).index,r=i.span,o=this._marksByIndex[i.index]){if(o.index===i.index&&o.span===i.span){o.time=i.time;continue}this._removeTickmark(o)}this._marksByIndex[n]=i,this.minIndex<=n||(this.minIndex=n),this.maxIndex>=n||(this.maxIndex=n),s[r]||(s[r]=[]),s[r].push(i),a[r]=!0}for(r=s.length;r--;)s[r]&&(s[r].length||delete s[r],a[r]&&s[r].sort(this._sortByIndexAsc));delete this._cache,this.changed.fire()},i.prototype._removeTickmark=function(e){var t,i,n=e.index;this._marksByIndex[n]===e&&(delete this._marksByIndex[n],n<=this.minIndex&&this.minIndex++,n>=this.maxIndex&&this.maxIndex--,this.maxIndex<this.minIndex&&(delete this.minIndex,delete this.maxIndex),-1!==(i=(t=this._marksBySpan[e.span]).indexOf(e))&&t.splice(i,1))},i.prototype._sortByIndexAsc=function(e,t){return e.index-t.index},i.prototype.removeTail=function(e){var t,i={};for(t in this.maxIndex=0,this._marksByIndex)this._marksByIndex[t].time<e&&(i[t]=this._marksByIndex[t],this.maxIndex=Math.max(this.maxIndex,t));this._marksByIndex=i},i.prototype.addTail=function(e){for(var t=0;t<e.length;t++)e[t].index=this.maxIndex+t+1;this.merge(e)},i.prototype.indexToTime=function(e){var t=this._marksByIndex[e];return t?new Date(1e3*t.time):null},i.prototype.density=function(){var e=this.maxIndex-this.minIndex;if(0!==e)return 1e3*(this._marksByIndex[this.maxIndex].time-this._marksByIndex[this.minIndex].time)/e},i.prototype.estimateLeft=function(e){var t=this.density();if(t)return(1e3*this._marksByIndex[this.minIndex].time-e)/t},i.prototype.nearestIndex=function(e){for(var t,i=this.minIndex,n=this.maxIndex;n-i>2;){if(1e3*this._marksByIndex[i].time===e)return i;if(1e3*this._marksByIndex[n].time===e)return n;t=Math.round((i+n)/2),1e3*this._marksByIndex[t].time>e?n=t:i=t}return i},i.prototype.build=function(e,t){var i,n,r,o,s,a,l,c,u,h,d,p,f,_,m=Math.ceil(t/e);if(this._maxbar===m&&this._cache)return this._cache;for(this._maxbar=m,i=[],n=this._marksBySpan.length;n--;)if(this._marksBySpan[n]){for(r=i,i=[],o=r.length,s=0,l=(a=this._marksBySpan[n]).length,c=1/0,u=-1/0,h=0;h<l;h++){for(p=(d=a[h]).index;s<o;){if(!((_=(f=r[s]).index)<p)){c=_;break}s++,i.push(f),u=_,c=1/0}c-p>=m&&p-u>=m&&(i.push(d),u=p)}for(;s<o;s++)i.push(r[s])}return this._cache=i,this._cache},i.prototype.state=function(){var e,t=[]
;for(e=this._marksBySpan.length;e--;)this._marksBySpan[e]&&(t=t.concat(this._marksBySpan[e]));return{marks:t=t.map(function(e){return[e.span,e.time,e.index]}),version:2}},i.prototype.restoreState=function(e){if(this._marksByIndex={},this._marksBySpan=[],delete this.maxIndex,delete this.minIndex,e&&e.marks&&e.marks.length)if(2===e.version){var t=e.marks.map(function(e){return{span:e[0],time:e[1],index:e[2]}});this.merge(t)}else this.merge(e.marks)},e.exports.Tickmarks=i}).call(this,i("aIyQ"))},GmZZ:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"LineToolVertLineTimeAxisView",function(){return o}),n=i("mrSG"),r=i("fJhV"),o=function(e){function t(t){return e.call(this,t,0)||this}return Object(n.__extends)(t,e),t.prototype._getBgColor=function(){return this._source.properties().linecolor.value()},t.prototype._getIndex=function(){var e=this._source.points();return 0===e.length?null:e[0].index},t}(r.LineDataSourceTimeAxisView)},"Gp/h":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-9 -9 18 18" width="18" height="18" fill="currentColor"><circle r="3"/><circle cy="5" r="1"/><circle cy="5" r="1" transform="rotate(45)"/><circle cy="5" r="1" transform="rotate(90)"/><circle cy="5" r="1" transform="rotate(135)"/><circle cy="5" r="1" transform="rotate(180)"/><circle cy="5" r="1" transform="rotate(-135)"/><circle cy="5" r="1" transform="rotate(-90)"/><circle cy="5" r="1" transform="rotate(-45)"/></svg>'},Gvuy:function(e,t,i){"use strict";function n(e){return new Promise(function(t){Promise.all([i.e("vendors_embed"),i.e("dialogs-core"),i.e(0),i.e(1),i.e(3),i.e(5),i.e(7),i.e(8),i.e(6),i.e(160),i.e("create-dialog")]).then(function(n){var r,l,c,u,h,d,p=i("YDhE").createDialog;t(p(Object(o.__assign)(Object(o.__assign)({},(l=(r=e).title,c=r.content,u=r.actions,h=r.btnTitle,d=r.btnType,{title:l||Object(s.t)("Error"),content:c,addClass:a.errorDialog,destroyOnClose:!0,width:500,dataset:{"dialog-type":"error-dialog"},actions:u||[{key:[13,32],method:"close",name:"ok",text:h||Object(s.t)("OK"),type:d||"primary"}]})),{type:"modal"})))}.bind(null,i)).catch(void 0)})}function r(e){n(e).then(function(e){return e.open()})}var o,s,a;i.r(t),i.d(t,"createErrorDialog",function(){return n}),i.d(t,"showErrorDialog",function(){return r}),o=i("mrSG"),s=i("YFKU"),a=i("Q1r3")},HL4j:function(e,t,i){"use strict";var n,r,o,s,a;i.r(t),i.d(t,"PriceLineAxisRenderer",function(){return a}),n=i("Eyy1"),r=i("jFln"),o=i("8Uy/"),s=i("gAom"),a=function(){function e(e,t){this.setData(e,t)}return e.prototype.setData=function(e,t){this._data=e,this._commonData=t},e.prototype.draw=function(e,t,i,a,l,c){if(this._data.visible){var u=this._commonData.coordinate;void 0!==this._commonData.fixedCoordinate&&(u=this._commonData.fixedCoordinate),e.lineWidth=Math.max(1,Math.floor(Object(n.ensureDefined)(this._data.linewidth)*c)),e.lineCap="butt",Object(r.setLineStyle)(e,void 0===this._data.linestyle?o.LINESTYLE_DOTTED:this._data.linestyle),e.strokeStyle=this._commonData.color,Object(s.drawHorizontalLine)(e,Math.round(u*c),0,Math.ceil(a*c))}},
e.prototype.height=function(e,t){return 0},e}()},HLXm:function(e,t,i){"use strict";function n(e){"LineToolGannComplex"!==e.type||void 0!==e.version&&1!==e.version||(e.type="LineToolGannFixed")}i.r(t),i.d(t,"migrateState",function(){return n})},"HV/F":function(e,t,i){"use strict";function n(e){var t={};return{promise:new Promise(function(i,n){e.subscribe(t,i,!0)}),destroy:function(){e.unsubscribeAll(t)}}}i.r(t),i.d(t,"delegateToPromise",function(){return n})},HWna:function(e,t,i){"use strict";function n(e){var t=window.ChartApiInstance;window.is_authenticated&&(t.disconnect(),e&&t.authTokenManager().set(""),setTimeout(function(){return t.connect()},500))}var r;i.r(t),i.d(t,"reconnectChartApi",function(){return n}),r=i("dJ3D")},HZKX:function(e,t,i){"use strict";function n(e,t){var i,n,r,o,s,a,u,d,f,_,g,v,S,w,P,T;return i=e.model().model(),n={},r=q,o=null,s=function(e){n.series=e},a=function(e){n={drawing:e}},u=function(e,t){null==e||Object(h.isNaN)(e)||(r+=" ("+t.format(e)+")",n.value=e)},d=function(e){e===i.mainSeries()?o="ContextMenuSeries":Object(m.isStudy)(e)&&(o="ContextMenuStudy")},void 0!==t.series?(f=Object(c.ensureNotNull)(i.paneForSource(t.series)),t.series===i.mainSeries()?(_=i.mainSeries().lastValueData(4,!0,!0))&&void 0!==_.price&&(g=(t.series.priceScale()||Object(c.ensureNotNull)(f.mainDataSource()).priceScale()||e.model().mainSeries().priceScale()).formatter(),u(_.price,g)):Object(m.isStudy)(t.series)&&(r=X.format({series:t.series.title(!0)}),null!==(v=t.series.defaultPlotIdForAlert())&&(S=t.series.lastValueData(v,!0,!0))&&void 0!==S.price&&(g=(t.series.priceScale()||Object(c.ensureNotNull)(f.mainDataSource()).priceScale()||e.model().mainSeries().priceScale()).formatter(),u(S.price,g))),s(t.series),d(t.series)):t.e?(w=(f=Object(c.ensureDefined)(t.pane)).defaultPriceScale(),P=Object(c.ensureNotNull)(f.mainDataSource()),T=Object(c.ensureNotNull)(P.firstValue()),u(w.coordinateToPrice(t.e.localY,T),g=P.formatter()),s(P),d(P)):t.drawing&&(r=K.format({drawing:t.drawing.title()}),a(t.drawing),o="ContextMenuDrawing"),r+="…",new p.ActionAsync(function(){return(n.series?Object(N.b)(n.series):Promise.resolve(!0)).then(function(e){var t={label:r,icon:V,statName:"AddAlert"};return e?Object(l.__assign)(Object(l.__assign)({},t),{shortcutHint:Object(F.humanReadableHash)(F.Modifiers.Alt+65),onExecute:function(){null!==o&&(Object(y.trackEvent)("GUI","CreateAlert",o),o=null),window.runOrSignIn(function(){Object(b.invokeAlertEditor)(Object(l.__assign)(Object(l.__assign)({},n),{dataSourceHub:i,actionSource:"pane_context_menu_add_alert"}))},{source:"Alert add from pane context menu",sourceMeta:"Chart"})}}):Object(l.__assign)(Object(l.__assign)({},t),{disabled:!0})})})}function r(e,t,i){return new p.ActionAsync(function(){return function(e,t,i){return void 0===i&&(i="promise rejected by time-out"),new Promise(function(n,r){var o=setTimeout(function(){return r(i)},t);e.then(function(e){clearTimeout(o),n(e)}),e.catch(function(e){clearTimeout(o),r(e)})})}(new Promise(function(t,n){var r,o,s=Object(P.tradingService)()
;if(null===s||0===s.brokersList().length)return t({label:ee,disabled:!0});r=e.model().mainSeries(),i&&(o=i.localY),Object(T.a)(r,o).then(function(e){try{return s.chartContextMenuActions(e)}catch(e){return Y.logError(e.message),[]}}).then(function(e){0!==e.length?t({name:"trade",label:ee,subItems:e,statName:"Trading"}):t({label:ee,disabled:!0})}).catch(function(){n("Unable to get Trade Context")})}),2e3,"Action trade not received")})}function o(e){var t=Object(c.ensureNotNull)(Object(P.tradingService)());return new p.Action({label:te,statName:"CreateLimitOrder",onExecute:function(){t.trackEvent("Chart Context Menu","RiskRewardCreateLimitOrder"),Object(c.ensureNotNull)(t.brokerCommandsUI()).placeOrder(e)}})}function s(e,t,i,n){var r=function(r,o,s){return new p.Action({label:r,onExecute:function(){var r,a,l,u=e.model(),h=u.model().timeScale(),d=t.defaultPriceScale();h.isEmpty()||d.isEmpty()||(s&&void 0!==i&&void 0!==n?(r=Object(c.ensureNotNull)(Object(c.ensureNotNull)(t.mainDataSource()).firstValue()),a=d.coordinateToPrice(i,r),l=Math.round(h.coordinateToIndex(n)),u.createLineTool(t,{index:l,price:a},o,void 0)):C.tool.setValue(o))}})};return new p.Action({label:re,subItems:[r(oe,"LineStudyMtpRiskReward",!1),r(se,"LineStudyMtpDecisionPoint",!0),r(ae,"LineStudyMtpAnalysis",!0),new p.Action({label:le,subItems:[r(ce,"LineStudyMtpElliotWaveMain",!0),r(ue,"LineStudyMtpElliotWaveMajor",!0),r(he,"LineStudyMtpElliotWaveMinor",!0)]}),new p.Action({label:de,subItems:[r(pe,"LineStudyMtpUpWave1OrA",!1),r(fe,"LineStudyMtpUpWave2OrB",!1),r(_e,"LineStudyMtpUpWaveC",!1),r(me,"LineStudyMtpUpWave3",!1),r(ge,"LineStudyMtpUpWave4",!1),r(ye,"LineStudyMtpUpWave5",!1)]}),new p.Action({label:ve,subItems:[r(be,"LineStudyMtpDownWave1OrA",!1),r(Se,"LineStudyMtpDownWave2OrB",!1),r(we,"LineStudyMtpDownWaveC",!1),r(Pe,"LineStudyMtpDownWave3",!1),r(Te,"LineStudyMtpDownWave4",!1),r(Ce,"LineStudyMtpDownWave5",!1)]})]})}function a(e,t){return void 0===e||e[t]}var l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B,N,F,j,W,U,H,z,G,Y,q,X,K,Q,Z,J,$,ee,te,ie,ne,re,oe,se,ae,le,ce,ue,he,de,pe,fe,_e,me,ge,ye,ve,be,Se,we,Pe,Te,Ce,xe,Ie,Ee,Le,Ae,Oe,Me,ke,De,Re,Ve,Be,Ne,Fe,je,We,Ue,He,ze,Ge,Ye,qe,Xe,Ke,Qe,Ze,Je,$e,et,tt,it,nt,rt,ot,st,at,lt,ct,ut,ht,dt,pt,ft,_t,mt,gt,yt,vt,bt,St;i.r(t),l=i("mrSG"),c=i("Eyy1"),u=i("uOxu"),h=i("ogJP"),d=i("Kxc7"),p=i("7KDR"),f=i("YmeR"),_=i("Daqx"),m=i("3ClC"),g=i("QloM"),y=i("PC8g"),v=i("oR7+"),b=i("2O5g"),S=i("Qq0B"),w=i("z61+"),P=i("N22A"),T=i("YFkB"),C=i("mMWL"),x=i("B4/o"),I=i("ziJ5"),E=i("Fty4"),L=i("nmnj"),A=i("LBej"),O=i.n(A),M=i("hPwr"),k=i("1gmO"),D=i("Ktlt"),R=i("Ai40"),V=i("rzvv"),B=i("vKju"),N=i("+slJ"),F=i("/3z9"),j=i("L/Ed"),W=i("kSsA"),U=i("CW80"),H=i("cKqi"),z=i("0gbU"),G=i("pvsv"),i.d(t,"createActionAddAlert",function(){return n}),i.d(t,"createActionTrade",function(){return r}),i.d(t,"createActionOrder",function(){return o}),i.d(t,"createMTPredictorActions",function(){return s}),i.d(t,"ActionsProvider",function(){return St}),Y=Object(u.getLogger)("Chart.ActionsProvider"),q=window.t("Add Alert"),
X=window.t("Add Alert on {series}"),K=window.t("Add Alert on {drawing}"),Q=window.t("Edit {0} Alert..."),Z=window.t("Extend Alert Lines"),J=window.t("Show alert label lines"),$=window.t("Hide alert label lines"),ee=window.t("Trade"),te=window.t("Create Limit Order..."),ie=window.t("Show"),ne=window.t("Hide"),re=window.t("MTPredictor"),oe=window.t("Apply Manual Risk/Reward"),se=window.t("Apply Manual Decision Point"),ae=window.t("Analyze Trade Setup"),le=window.t("Apply Elliott Wave"),ce=window.t("Apply Elliott Wave Intermediate"),ue=window.t("Apply Elliott Wave Major"),he=window.t("Apply Elliott Wave Minor"),de=window.t("Apply WPT Up Wave"),pe=window.t("Up Wave 1 or A"),fe=window.t("Up Wave 2 or B"),_e=window.t("Up Wave C"),me=window.t("Up Wave 3"),ge=window.t("Up Wave 4"),ye=window.t("Up Wave 5"),ve=window.t("Apply WPT Down Wave"),be=window.t("Down Wave 1 or A"),Se=window.t("Down Wave 2 or B"),we=window.t("Down Wave C"),Pe=window.t("Down Wave 3"),Te=window.t("Down Wave 4"),Ce=window.t("Down Wave 5"),xe=window.t("Pinned To Scale {label} (Hidden)"),Ie=window.t("Pinned To Right Scale (Hidden)"),Ee=window.t("Pin To Scale {label} (Hidden)"),Le=window.t("Pin To Right Scale (Hidden)"),Ae=window.t("Pinned To Scale {label}"),Oe=window.t("Pinned To Right Scale"),Me=window.t("Pin To Scale {label}"),ke=window.t("Pin To Right Scale"),De=window.t("Pinned To Left Scale (Hidden)"),Re=window.t("Pin To Left Scale (Hidden)"),Ve=window.t("Pinned To Left Scale"),Be=window.t("Pin To Left Scale"),Ne=window.t("Pin To New Left Scale"),Fe=window.t("Pin To New Right Scale"),je=window.t("Pin To Scale (Now {label})"),We=window.t("Pin To Scale (Now No Scale)"),Ue=window.t("Pin To Scale (Now Left)"),He=window.t("Pin To Scale (Now Right)"),ze=window.t("No Scale (Fullscreen)"),Ge=window.t("Move To"),Ye=window.t("Existing Pane Above"),qe=window.t("New Pane Above"),Xe=window.t("Existing Pane Below"),Ke=window.t("New Pane Below"),Qe=window.t("Bring to Front"),Ze=window.t("Send to Back"),Je=window.t("Bring Forward"),$e=window.t("Send Backward"),et=window.t("Visual Order"),tt=window.t("Add Indicator on {0}..."),it=window.t("Add Financial metric for {instrumentName}..."),nt=window.t("Remove"),rt=window.t("Settings..."),ot=window.t("Apply Default"),st=window.t("Save As..."),at=window.t("Copy"),lt=window.t("Clone"),ct=window.t("Template"),ut=window.t("Sync To All Charts"),ht=window.t("Unlock"),dt=window.t("Lock"),pt=window.t("Show Earnings"),ft=window.t("Show Dividends"),_t=window.t("Show Splits"),mt=window.t("Show All Ideas"),gt=window.t("Show Ideas of Followed Users"),yt=window.t("Show My Ideas Only"),vt=window.t("Settings..."),bt=window.t("Hide Events on Chart"),St=function(){function e(e,t){this._chartWidget=e,this._options=t}return e.prototype.contextMenuActionsForSources=function(e){var t,i=e[0],n=this._options
;return i===this._chartWidget.model().mainSeries()&&a(n,"mainSeries")?this._contextMenuActionsForSeries(i):i instanceof R.ESDStudyBase&&a(n,"esdStudies")?this._contextMenuActionsForESD():Object(m.isStudy)(i)&&a(n,"studies")?this._contextMenuActionsForStudy(i):i instanceof O.a&&a(n,"publishedCharts")?this._contextMenuActionsForPublishedTimeline(i):(i instanceof x.LineToolOrder||i instanceof I.LineToolPosition)&&a(n,"ordersAndPositions")?this._contextMenuActionsForTradingDrawings(i):i instanceof k.AlertLabel&&i.alert().id&&a(n,"alerts")?this._contextMenuActionsForAlertLabel(i):Object(U.isLineTool)(i)&&a(n,"lineTools")?(t=e.filter(U.isLineTool),this._contextMenuActionsForLineTool(t)):i instanceof D.ChartEventsSource&&a(n,"chartEvents")?this._contextMenuActionsForChartEvents(i):[]},e.prototype._isReadOnly=function(){return this._chartWidget.readOnly()},e.prototype._createActionHide=function(e){return new p.Action({label:ne,icon:i("DYI2"),statName:"HideSelectedObject",onExecute:this._chartWidget.hideDataSources.bind(this._chartWidget,[e])})},e.prototype._createActionShow=function(e){var t=new p.Action({checkable:!0,label:ie,icon:i("6ctS"),statName:"ToggleShow"}),n=new f.ActionBinder(t,e.properties().visible,this._chartWidget.model(),ie);return t.setBinding(n),n.setValue(e.properties().visible.value()),t},e.prototype._createActionScale=function(e){var t=Object(c.ensureNotNull)(e.priceScale()),n=this._chartWidget.model().model(),r=Object(c.ensureNotNull)(n.paneForSource(e)),o=r.priceScalePosition(t),s="left"===o?r.leftPriceScales():r.rightPriceScales(),a=s.indexOf(t),l=n.priceScaleSlotsCount(),u=l.totallySlots<2?"dontneedname":"needname",h="overlay"===o?"":Object(_.a)(o,a).label,d=je.format({label:h}),f=We,m={"left-needname":d,"left-dontneedname":Ue,"right-needname":d,"right-dontneedname":He,"overlay-needname":f,"overlay-dontneedname":f},g=o+"-"+u,y=m[g];return new p.Action({label:y,icon:i("/kal"),subItems:this._createActionScaleItems(e)})},e.prototype._createActionScaleDetach=function(e,t,i,n){var r,o,s,a,l,u,h,d,f,m,g=this._chartWidget.model().model(),y=Object(c.ensureNotNull)(g.paneForSource(e));return y.canCreateNewPriceScale()?(o=(r=Object(c.ensureNotNull)(e.priceScale())).canDetachSource(e),s=y.priceScalePosition(r),(a=o||s!==t)?(l=g.priceScaleSlotsCount(),u={left:{labelled:Me,sided:Ne},right:{labelled:Me,sided:Fe}},h="left"===t?y.leftPriceScales().length:y.rightPriceScales().length,d=l[t]>h?"labelled":"sided",f=Object(_.a)(t,h).label,m=u[t][d].format({label:f}),new p.Action({checkable:!1,disabled:!a,label:m,statName:n,payload:e,onExecute:i})):null):null},e.prototype._onDetachLeft=function(e){var t=e.getPayload(),i=this._chartWidget.model().model(),n=Object(c.ensureNotNull)(i.paneForSource(t));this._chartWidget.model().detachToLeft(t,n)},e.prototype._onDetachRight=function(e){var t=e.getPayload(),i=this._chartWidget.model().model(),n=Object(c.ensureNotNull)(i.paneForSource(t));this._chartWidget.model().detachToRight(t,n)},e.prototype._createActionScaleDetachLeft=function(e){
return this._createActionScaleDetach(e,"left",this._onDetachLeft.bind(this),"ToggleScaleLeft")},e.prototype._createActionScaleDetachRight=function(e){return this._createActionScaleDetach(e,"right",this._onDetachRight.bind(this),"ToggleScaleRight")},e.prototype._onMoveToScale=function(e){var t,i,n=e.getPayload();n.datasource.priceScale()!==n.priceScale&&(t=this._chartWidget.model().model(),i=Object(c.ensureNotNull)(t.paneForSource(n.datasource)),this._chartWidget.model().moveToScale(n.datasource,i,n.priceScale,n.undoText))},e.prototype._createMoveToScaleAction=function(e,t,i,n){var r=e.priceScale()===t;return new p.Action({checkable:!0,checked:r,label:i,statName:"ToggleScale",payload:{datasource:e,priceScale:t,undoText:n},onExecute:this._onMoveToScale.bind(this)})},e.prototype._onNoScale=function(e){var t=e.getPayload().datasource,i=this._chartWidget.model().model(),n=Object(c.ensureNotNull)(i.paneForSource(t));n.isOverlay(t)||this._chartWidget.model().detachNoScale(t,n)},e.prototype._createActionNoScale=function(e){var t=this._chartWidget.model().model(),i=Object(c.ensureNotNull)(t.paneForSource(e)),n=i.actionNoScaleIsEnabled(e);return new p.Action({checkable:!0,checked:i.isOverlay(e),label:ze,disabled:!n,statName:"ToggleNoScale",payload:{datasource:e},onExecute:this._onNoScale.bind(this)})},e.prototype._createActionScaleItems=function(e){var t=this,i=[],n=this._chartWidget.model().model(),r=Object(c.ensureNotNull)(n.paneForSource(e)),o=n.priceScaleSlotsCount(),s=o.totallySlots>1,a=r.rightPriceScales(),l=r.leftPriceScales(),u=this._createActionScaleDetachRight(e),h=this._createActionScaleDetachLeft(e),d=a.length+l.length+(null===u?0:1)+(null===h?0:1),f=d>2,m={right:{hidden:{checked:{labelled:xe,sided:Ie},unchecked:{labelled:Ee,sided:Le}},visible:{checked:{labelled:Ae,sided:Oe},unchecked:{labelled:Me,sided:ke}}},left:{hidden:{checked:{labelled:xe,sided:De},unchecked:{labelled:Ee,sided:Re}},visible:{checked:{labelled:Ae,sided:Ve},unchecked:{labelled:Me,sided:Be}}}},g={left:r.visibleLeftPriceScales(),right:r.visibleRightPriceScales()},y=function(t,i){var n="right"===i?a:l,r=n[t],o=g[i].includes(r)?"visible":"hidden",c=e.priceScale()===r?"checked":"unchecked",u=s?"labelled":"sided",h=m[i],d={labelled:h.visible.unchecked.labelled,sided:h.visible.unchecked.sided},p=Object(_.a)(i,t).label,f=h[o][c][u].format({label:p}),y=d[u].format({label:p});return{actionText:f,undoText:y}};return i.push.apply(i,a.map(function(i,n){var r=y(n,"right");return t._createMoveToScaleAction(e,i,r.actionText,r.undoText)})),null!==u&&i.push(u),f&&(a.length>0||null!==u)&&i.push(new p.Separator),i.push.apply(i,l.map(function(i,n){var r=y(n,"left");return t._createMoveToScaleAction(e,i,r.actionText,r.undoText)})),null!==h&&i.push(h),f&&(l.length>0||null!==h)&&i.push(new p.Separator),i.push(this._createActionNoScale(e)),i},e.prototype._createVisualOrderAction=function(e){var t=this._chartWidget.model(),n=t.availableZOrderOperations(e),r=[new p.Action({label:Qe,statName:"BringToFront",disabled:!n.bringToFrontEnabled,onExecute:function(){
return t.bringToFront(e)}}),new p.Action({label:Ze,statName:"SendToBack",disabled:!n.sendToBackEnabled,onExecute:function(){return t.sendToBack(e)}}),new p.Action({label:Je,statName:"BringForward",disabled:!n.bringForwardEnabled,onExecute:function(){return t.bringForward(e)}}),new p.Action({label:$e,statName:"SendBackward",disabled:!n.sendBackwardEnabled,onExecute:function(){return t.sendBackward(e)}})];return new p.Action({label:et,icon:i("9dnG"),statName:"VisualOrder",subItems:r})},e.prototype._createActionMergeUp=function(e){var t=this._chartWidget.model();return t.model().isMergeUpAvailableForSource(e)?new p.Action({label:Ye,statName:"MergeUp",onExecute:function(){return t.mergeSourceUp(e)}}):null},e.prototype._createActionUnmergeUp=function(e){var t=this._chartWidget.model();return t.model().isUnmergeAvailableForSource(e)?new p.Action({label:qe,statName:"UnmergeUp",onExecute:function(){return t.unmergeSourceUp(e)}}):null},e.prototype._createActionMergeDown=function(e){var t=this._chartWidget.model();return t.model().isMergeDownAvailableForSource(e)?new p.Action({label:Xe,statName:"MergeDown",onExecute:function(){return t.mergeSourceDown(e)}}):null},e.prototype._createActionUnmergeDown=function(e){var t=this._chartWidget.model();return t.model().isUnmergeAvailableForSource(e)?new p.Action({label:Ke,statName:"UnmergeDown",onExecute:function(){return t.unmergeSourceDown(e)}}):null},e.prototype._mergeContentMenuItems=function(e){return[this._createActionMergeUp(e),this._createActionUnmergeUp(e),this._createActionMergeDown(e),this._createActionUnmergeDown(e)].filter(h.notNull)},e.prototype._createActionMove=function(e){var t=this._mergeContentMenuItems(e);return t.length>0?new p.Action({label:Ge,icon:i("BBCR"),subItems:t}):null},e.prototype._contextMenuActionsForSeries=function(e){var t,i,o,l=[],u=e.properties().visible.value(),h=this._chartWidget.model().model(),f=Object(c.ensureNotNull)(h.paneForSource(e)),_=this._chartWidget.actions();return this._isReadOnly()?(l.push(u?this._createActionHide(e):this._createActionShow(e)),l.push(new p.Separator),l.push(this._createActionScale(e))):(e.hasStateForAlert()&&null!==(t=n(this._chartWidget,{series:e}))&&l.push(t),l.push(this._createActionAddChildStudy(e)),a(this._options,"fundamentals")&&null!==(i=this._createActionAddFundamentals(e))&&l.push(i),a(this._options,"mainSeriesTrade")&&l.push(Object(c.ensureNotNull)(r(this._chartWidget))),l.length>0&&!(l[l.length-1]instanceof p.Separator)&&l.push(new p.Separator),d.enabled("symbol_info")&&l.push(_.showSymbolInfoDialog),l.length>0&&!(l[l.length-1]instanceof p.Separator)&&l.push(new p.Separator),l.push(this._createVisualOrderAction([e])),null!==(o=this._createActionMove(e))&&l.push(o),l.push(this._createActionScale(e)),l.push(u?this._createActionHide(e):this._createActionShow(e)),l.push(new p.Separator),l.push(_.showPriceLine),l.push(new p.Separator),window.widgetbar&&(!window.widgetbar._customization||window.widgetbar._customization.watchlist)&&_.addToWatchlist&&l.push(_.addToWatchlist),
d.enabled("text_notes")&&l.push(_.addToTextNotes),l[l.length-1]instanceof p.Separator||l.push(new p.Separator),window.pro&&window.pro.hasPackage("mtp-mtpredictor")&&l.push(Object(c.ensureNotNull)(s(this._chartWidget,f)),new p.Separator),d.enabled("show_chart_property_page")&&!this._chartWidget.onWidget()&&l.push(_.mainSeriesPropertiesAction),l[l.length-1]instanceof p.Separator&&l.pop()),l},e.prototype._createActionAddChildStudy=function(e){var t=this,n=this._chartWidget.model().model();return new p.Action({label:tt.format(e.title(!0)),icon:i("CwKc"),statName:"ApplyIndicator",onExecute:function(){var i,r,o=t._chartWidget.showIndicators(Object(m.isStudy)(e)?e:void 0);o&&Object(m.isStudy)(e)&&(i=function(){Object(y.trackEvent)("SOS","Apply SOS","Apply by RC menu")},(r=n.studyInserted()).subscribe(t,i),o.visibilityChanged.subscribe(t,function(e){e||r.unsubscribe(t,i)},!0))}})},e.prototype._createActionAddFundamentals=function(e){var t,n=this;return null===(t=e.symbolInfo())||"forex"===t.type||"crypto"===t.type||"bitcoin"===t.type?null:new p.Action({label:it.format({instrumentName:e.title(!0)}),icon:i("35Sq"),statName:"ApplyFundamental",onExecute:function(){n._chartWidget.showFundamentals(e!==n._chartWidget.model().mainSeries()?e:void 0)}})},e.prototype._createActionShowSymbolInfoDialog=function(e){return new p.Action({label:window.t("Symbol Info..."),icon:i("1pHB"),checkable:!1,statName:"SymbolInfo",onExecute:function(){var t=e.symbol(),i=e.symbolInfo();Object(G.showSymbolInfoDialog)(t,{symbolInfo:i})}})},e.prototype._createActionRemove=function(e){var t=this;return new p.Action({label:nt,icon:i("PgQx"),statName:"RemoveSelectedObject",onExecute:function(){return t._chartWidget.removeDataSources([e])}})},e.prototype._createActionShowProperties=function(e){var t=this;return new p.Action({label:rt,icon:i("MXV9"),statName:"EditSelectedObject",onExecute:function(){return t._chartWidget.showSourceProperties(e)}})},e.prototype._contextMenuActionsForStudy=function(e){var t,i,r,o,s,l=this,c=this._chartWidget.actions(),u=e.properties().visible.value(),h=[];return e.userEditEnabled()?(this._chartWidget.readOnly()?(h.push(u?this._createActionHide(e):this._createActionShow(e)),h.push(new p.Separator),e.constructor instanceof S.NonSeriesStudy||h.push(this._createActionScale(e))):(e.hasStateForAlert()&&null!==(t=n(this._chartWidget,{series:e}))&&h.push(t),d.enabled("study_on_study")&&e.canHaveChildren()&&h.push(this._createActionAddChildStudy(e)),(e instanceof z.study_Compare||e instanceof H.study_Overlay)&&a(this._options,"fundamentals")&&null!==(i=this._createActionAddFundamentals(e))&&h.push(i),h.length>0&&!(h[h.length-1]instanceof p.Separator)&&h.push(new p.Separator),d.enabled("symbol_info")&&(e instanceof z.study_Compare||e instanceof H.study_Overlay)&&null!==e.symbolInfo()&&(h.push(this._createActionShowSymbolInfoDialog(e)),h.push(new p.Separator)),h.push(this._createVisualOrderAction([e])),e.constructor instanceof S.NonSeriesStudy||(null!==(r=this._createActionMove(e))&&h.push(r),h.push(this._createActionScale(e))),
h.push(new p.Separator),(o=e.metaInfo()).pine&&c.viewSourceCode&&(h.push(c.viewSourceCode),c.viewSourceCode.update({disabled:!1}),Object(L.isAuthToGetPineSourceCode)(o.scriptIdPart,o.pine.version).done(function(e){e||c.viewSourceCode.update({disabled:!0})}).fail(function(e){Y.logError("Failed isAuthToGetPineSourceCode, reason: "+e)})),h[h.length-1]instanceof p.Separator||h.push(new p.Separator),e.copiable()&&(s=new p.Action({label:at,shortcutHint:Object(F.humanReadableHash)(F.Modifiers.Mod+67),statName:"Copy",onExecute:function(){l._chartWidget.onAppClipboardCopy([e])}}),h.push(s)),h.push(u?this._createActionHide(e):this._createActionShow(e)),h.push(this._createActionRemove(e)),this._chartWidget.onWidget()||(h.push(new p.Separator),a(this._options,"objectTree")&&h.push(c.paneObjectTree)),h.push(new p.Separator),d.enabled("property_pages")&&new w.a(o).hasUserEditableOptions()&&h.push(this._createActionShowProperties(e)),h[h.length-1]instanceof p.Separator&&h.pop()),h):h},e.prototype._createEditAlertDrawingAction=function(e){return new p.Action({label:Q.format(e.title()),icon:B,statName:"EditAlert",onExecute:function(){window.runOrSignIn(function(){e.editAlert("pane_context_menu_edit_alert")},{source:"Alert edit from pane context menu"})}})},e.prototype._createLineToolTemplateAction=function(e){var t,i=this;return window.lineToolPropertiesToolbar?void 0===(t=window.lineToolPropertiesToolbar.templatesList())?null:new p.ActionAsync(function(){var n,r=[],o=new p.Action({label:st,statName:"SaveAs",onExecute:function(){t.showSaveDialog(function(i){var n=JSON.stringify(e.template());t.saveTemplate(i,n)})}});return r.push(o),n=new p.Action({label:ot,statName:"ApplyDefault",onExecute:function(){i._chartWidget.model().restorePropertiesForSource(e),window.lineToolPropertiesToolbar.onSourceChanged(e)}}),r.push(n),new Promise(function(e){t.templatesLoaded().then(function(){var e=t.getData();e.length>0&&r.push(new p.Separator),e.forEach(function(e,i){var n=new p.Action({label:e,statName:"ApplyTemplate",onExecute:function(){return t.loadTemplate(e)},toolbox:{type:j.ToolboxType.Delete,action:function(){t.deleteAction(e)}},showToolboxOnHover:!0});r.push(n)})},function(e){Y.logWarn(e)}).then(function(){e({label:ct,statName:"Template",subItems:r})})})}):null},e.prototype._createActionToggleLockObject=function(e){var t=this,n=e.properties().frozen.value();return new p.Action({label:n?ht:dt,statName:"ToggleLockSelectedObject",checkable:!0,icon:i(n?"fs3R":"qckB"),onExecute:function(){return t._chartWidget.toggleLockSelectedObject()}})},e.prototype._contextMenuActionsForLineTool=function(e){var t,r,s,l,c,u=this,h=[],f=this._chartWidget.actions(),_=this._chartWidget.model().model(),m=function(){h.push(u._createVisualOrderAction(e))},g=function(){var t,n=e.filter(function(e){return e.cloneable()});return n.length>0&&(t=new p.Action({label:lt,icon:i("K8V9"),shortcutHint:Object(F.humanReadableModifiers)(F.Modifiers.Mod)+"Drag",doNotBindShortcut:!0,statName:"Clone",onExecute:function(){return u._chartWidget.model().cloneLineTools(n,!1)}
},"Clone"),h.push(t)),!!n.length},y=function(){var t,i=e.filter(function(e){return e.copiable()});return i.length>0&&(t=new p.Action({label:at,shortcutHint:Object(F.humanReadableHash)(F.Modifiers.Mod+67),statName:"Copy",onExecute:function(){return u._chartWidget.onAppClipboardCopy(i)}},"Copy"),h.push(t)),!!i.length},v=function(){if(d.enabled("support_multicharts")&&u._chartWidget.isMultipleLayout()&&e.some(function(e){return e.isSynchronizable()})){var t=new p.Action({label:ut,statName:"SyncDrawingToAllCharts",checkable:!0,checked:e.some(function(e){return!!e.getLinkKey()}),onExecute:function(e){var t;u._chartWidget.chartWidgetCollection()&&(t=u._chartWidget.chartWidgetCollection().activeChartWidget.value()),t||(t=u._chartWidget),e.isChecked()?t.copyLineToOtherCharts():t.unlinkSelectedLine()}});return h.push(t),!0}return!1},b=function(e){var t,i,n,r;null!==(t=Object(P.tradingService)())&&null!==(i=t.activeBroker())&&1===i.connectionStatus()&&i.metainfo().configFlags.supportLimitOrders&&null!==(n=e.getOrderTemplate())&&(r=_.mainSeries(),n.symbol=r.proSymbol(),h.push(new p.Separator),h.push(o(n)))};return 1===e.length?(t=e[0],this._chartWidget.readOnly()?h.push(f.lineHide):t.userEditEnabled()&&(d.enabled("alerts")&&!this._chartWidget.onWidget()&&(t.hasAlert&&t.hasAlert.value()?(h.push(this._createEditAlertDrawingAction(t)),h.push(new p.Separator)):t.canHasAlert()&&(null!==(r=n(this._chartWidget,{drawing:t}))&&h.push(r),h.push(new p.Separator))),d.enabled("charting_library_base")||null!==(s=this._createLineToolTemplateAction(t))&&h.push(s),m(),a(this._options,"objectTree")&&h.push(f.paneObjectTree),b(t),h.push(new p.Separator),l=g(),l=y()||l,(l=v()||l)&&h.push(new p.Separator),h.push(this._createActionToggleLockObject(t)),h.push(f.lineHide),h.push(f.lineRemove),h.push(new p.Separator),d.enabled("property_pages")&&Object(W.hasStylesPropertyPage)(t)&&h.push(f.format),t.additionalActions&&(h.push(new p.Separator),c=t.additionalActions(this._chartWidget.model()),h.push.apply(h,c)))):(a(this._options,"objectTree")&&h.push(f.paneObjectTree),m(),h.push(new p.Separator),g(),y(),v(),h.push(new p.Separator),h.push(f.lineHide),h.push(f.lineRemove)),h},e.prototype._createEarningsShow=function(){var e,t=this;return e=this._chartWidget.model().mainSeries().properties().esdShowEarnings,new p.Action({label:pt,checkable:!0,checked:e.value(),statName:"ToggleShowEarnings",onExecute:function(i){return t._chartWidget.model().setProperty(e,i.isChecked(),pt)}})},e.prototype._createDividendsShow=function(){var e,t=this;return e=this._chartWidget.model().mainSeries().properties().esdShowDividends,new p.Action({label:ft,checkable:!0,checked:e.value(),statName:"ToggleShowDividends",onExecute:function(i){return t._chartWidget.model().setProperty(e,i.isChecked(),ft)}})},e.prototype._createSplitsShow=function(){var e,t=this;return e=this._chartWidget.model().mainSeries().properties().esdShowSplits,new p.Action({checkable:!0,label:_t,checked:e.value(),statName:"ToggleShowSplits",onExecute:function(i){
return t._chartWidget.model().setProperty(e,i.isChecked(),_t)}})},e.prototype._contextMenuActionsForESD=function(){var e=[];return this._chartWidget.readOnly()||e.push(Object(c.ensureNotNull)(this._createDividendsShow()),Object(c.ensureNotNull)(this._createSplitsShow()),Object(c.ensureNotNull)(this._createEarningsShow())),e},e.prototype._contextMenuActionsForPublishedTimeline=function(e){var t,i,n,r,o=this,s=this._chartWidget.actions(),a=[];return a.push(s.lineHide),window.is_authenticated&&(t=e.properties().filter,i=new p.Action({checked:t.value()===M.PublishedChartsFilter.None,checkable:!0,label:mt,statName:"ToggleAllIdeas",onExecute:function(){return o._chartWidget.model().setProperty(t,M.PublishedChartsFilter.None,mt)}}),n=new p.Action({checked:t.value()===M.PublishedChartsFilter.Following,checkable:!0,label:gt,statName:"ToggleIdeasOfPeopleAndUser",onExecute:function(){return o._chartWidget.model().setProperty(t,M.PublishedChartsFilter.Following,gt)}}),r=new p.Action({checked:t.value()===M.PublishedChartsFilter.Private,checkable:!0,label:yt,statName:"ToggleUserIdeas",onExecute:function(){return o._chartWidget.model().setProperty(t,M.PublishedChartsFilter.Private,yt)}}),a.push(new p.Separator,i,n,r)),a},e.prototype._contextMenuActionsForTradingDrawings=function(e){return e.contextMenuItems()},e.prototype._createAlertToggleHorzLineLabelAction=function(e){var t=this,i=Object(v.getSettingsProperty)().childs().line,n=i.childs().visible,r=n.value()?$:J;return new p.Action({checkable:!0,label:Z,checked:n.value(),statName:"ToggleExtendAlertLine",onExecute:function(){return t._chartWidget.model().setProperty(n,!n.value(),r)}})},e.prototype._contextMenuActionsForAlertLabel=function(e){var t=e.alert(),i=[];return t.get("active")?i.push(E.ActionCreators.stopAlert(t)):i.push(E.ActionCreators.restartAlert(t,"alert_label_context_menu_restart")),i.push(E.ActionCreators.editAlert(t,"alert_label_context_menu_edit")),i.push(E.ActionCreators.deleteAlert(t)),i.push(new p.Separator),i.push(this._createAlertToggleHorzLineLabelAction(e)),i},e.prototype._contextMenuActionsForChartEvents=function(e){var t,i,n=this,r=[];return d.enabled("property_pages")&&(t=new p.Action({label:vt,statName:"Format",onExecute:function(){return n._chartWidget.showGeneralChartProperties(g.TabNames.eventsAndAlerts)}}),r.push(t)),i=new p.Action({label:bt,statName:"HideEvents",onExecute:function(){return n._chartWidget.model().setProperty(e.properties().visible,!1,bt)}}),r.push(i),r},e}()},HbRj:function(e,t,i){"use strict";var n,r,o;i.r(t),n=i("ogJP"),r=/{(\w+)}/g,o=/{(\d+)}/g,String.prototype.format=function(){var e,t,i,s,a=[];for(e=0;e<arguments.length;e++)a[e]=arguments[e];return i=(t=Object(n.isObject)(a[0]))?r:o,s=t?function(e,t){var i=a[0];return void 0!==i[t]?i[t]:e}:function(e,t){var i=parseInt(t,10),n=a[i];return void 0!==n?n:e},this.replace(i,s)}},Hm6r:function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"CrosshairTimeAxisView",function(){return s}),n=i("mrSG"),r=i("cgFQ"),o="#4c525e",s=function(e){function t(t,i,n){void 0===n&&(n=!1)
;var r=e.call(this,t)||this;return r._indexProvider=i,r._highlighted=n,r}return Object(n.__extends)(t,e),t.prototype._getBgColor=function(){return this._highlighted?this._model.isDark()?"#1E88E5":"#2196F3":o},t.prototype._getIndex=function(){return this._model.crossHairSource().visible&&this._indexProvider()||null},t}(r.a)},Hr11:function(e,t,i){"use strict";function n(e,t){return e<=t}function r(e,t){return e>=t}function o(e,t,i){return Math.min(Math.max(e,t),i)}function s(e){return e<0?-1:e>0?1:0}function a(e){if(e<0)return m.logDebug("MathEx.isBaseDecimal: argument less zero"),!1;for(var t=e;t>1;t/=10)if(t%10!=0)return!1;return!0}function l(e,t,i){return t-e<=i}function c(e,t,i){return Math.abs(e-t)<i}function u(e){return e<=0?(m.logDebug("MathEx.log10: argument less or equal zero"),NaN):Math.log(e)/Math.log(10)}function h(e,t){return e<t?-1:e>t?1:0}function d(e,t){var i,n;if(void 0===t&&(t=h),e.length<1)throw Error("array is empty");for(i=e[0],n=0;n<e.length;++n)t(e[n],i)<0&&(i=e[n]);return i}function p(e,t){var i,n;if(void 0===t&&(t=h),e.length<1)throw Error("array is empty");for(i=e[0],n=0;n<e.length;++n)t(e[n],i)>0&&(i=e[n]);return i}function f(e){var t=Math.ceil(e);return t%2!=0?t-1:t}var _,m;i.r(t),i.d(t,"lessThan",function(){return n}),i.d(t,"greaterThan",function(){return r}),i.d(t,"clamp",function(){return o}),i.d(t,"sign",function(){return s}),i.d(t,"isBaseDecimal",function(){return a}),i.d(t,"greaterOrEqual",function(){return l}),i.d(t,"equal",function(){return c}),i.d(t,"log10",function(){return u}),i.d(t,"defComparator",function(){return h}),i.d(t,"min",function(){return d}),i.d(t,"max",function(){return p}),i.d(t,"ceiledEven",function(){return f}),_=i("uOxu"),m=Object(_.getLogger)("Common.MathEx")},HwbS:function(e,t,i){"use strict";(function(t){function n(e){if(this._freeProductIds=["tv-scripting","tv-basicstudies","tv-prostudies","Script$USER","Script$EDGR","ESD$TV"],this.packagesUpdated=new t,!e)return this._products=this._discounts={},void(this._offers=this._order=this._devIds=[]);this._products={},this._discounts={},this._offers=e.offers,this._devIds=e.devIds,this._order=[],this._invalidShopConf=!0,loginStateChange.subscribe(this,this.onLoginStateChange)}var r=i("BHQF").fetch,o=i("upNJ").visitPaymentPage,s=i("T7XC").BillingCycle;i("pfXf"),i("NhhI"),n.prototype.PRODUCT_TYPES={pro_plan:1,study_package:2,news_feed:3,exchange:4,connection:6},n.prototype.updateShopConf=function(e){return this._shopConfPromise?this._shopConfPromise:(this._shopConfPromise=r("/market/shopconf/",{credentials:"include"}).then(function(e){return e.json()}).then(function(t){this._products=t.all_products&&JSON.parse(t.all_products)||{},this._discounts=t.discounts&&JSON.parse(t.discounts)||{},this._offers=t.offers&&JSON.parse(t.offers)||[],this._order=t.order&&JSON.parse(t.order)||[],this._invalidShopConf=!1,delete this._shopConfPromise,e||this.packagesUpdated.fire()}.bind(this)).catch(function(){delete this._shopConfPromise}.bind(this)),this._shopConfPromise)},n.prototype.invalidateShopConf=function(){this._invalidShopConf=!0
},n.prototype.isInvalidShopConf=function(){return!!this._invalidShopConf},n.prototype.ensureValidShopConf=function(){return new Promise(function(e){return this.runOrUpdate(e)}.bind(this))},n.prototype.onLoginStateChange=function(e){e||this.updateShopConf()},n.prototype.runOrUpdate=function(e,t){this.isInvalidShopConf()?this.updateShopConf(t).then(e):e()},n.prototype.getIDCExchanges=function(e){var t=this._products,i=window.initData;if(i)if(e){if(i.idc_delay_exchanges_list)return window.initData.idc_delay_exchanges_list}else if(i.idc_exchanges_list)return window.initData.idc_exchanges_list;return Object.keys(t).filter(function(i){return e?t[i].idc_service_codes_delay:t[i].idc_service_codes}).map(function(e){return t[e].exchange})},n.prototype.getProduct=function(e){var t,i;return e in this._products?this._products[e]:this.isDiscountProductId(e)?(t=this._discounts[e],i=Object.assign({discount_text_id:e},this._products[t.product]),t.cost&&(i.cost=t.cost),t.cost_annual&&(i.cost_annual=t.cost_annual),t.cost_biennial&&(i.cost_biennial=t.cost_biennial),void 0!==t.free_months&&(i.free_months=t.free_months),void 0!==t.upgrade_from_m&&(i.upgrade_from_m=t.upgrade_from_m),void 0!==t.fixed_cost&&(i.fixed_cost=t.fixed_cost),i):{}},n.prototype.findProduct=function(e){return new Promise(function(t){var i=function(){t(this.getProduct(e))}.bind(this);if(!this.isInvalidShopConf())return i();this.updateShopConf().then(i).catch(i)}.bind(this))},n.prototype.isProductDefined=function(e){return!(!e||!Object.keys(e).length)},n.prototype.getDiscountProduct=function(e){return this._discounts[e]||{}},n.prototype.getProductId=function(e){return e&&(e.discount_text_id||e.text_id)||""},n.prototype.isDiscountProductId=function(e){return e in this._discounts},n.prototype.isExchange=function(e){return e.type===this.PRODUCT_TYPES.exchange},n.prototype.getActiveExchanges=function(){return this.getProductsByType(this.PRODUCT_TYPES.exchange).filter(function(e){return!e.disabled&&Boolean(e.cost)})},n.prototype.getExchange=function(e){var t,i,n=this.getProductsByType(this.PRODUCT_TYPES.exchange);for(i=0;i<n.length;i+=1)if((t=n[i]).exchange===e||t.included_exchanges&&t.included_exchanges.includes(e))return t;return{}},n.prototype.getCost=function(e,t){var i=0,n="cost",r="cost_annual",o="cost_biennial",a=1,l=1;if(e.free_months&&t===s.OneYear&&(i=e.free_months),s.TwoYears===t){if(e.fixed_cost||(a=24),e[o])return e[o]*a;if(e[r])return e[r]*a}else if(s.OneYear===t){if(e.fixed_cost||(l=12),a=l-i,e[r])return e[r]*a}else s.ThreeMonths===t&&(e.fixed_cost||(a=3));return e[n]?e[n]*a:e.cost*a},n.prototype.getProductsByType=function(e){return Object.keys(this._products).filter(function(t){return this._products[t].type===e},this).map(function(e){return this.getProduct(e)},this).sort(function(e,t){return t.order>e.order?-1:t.order<e.order?1:0})},n.prototype.getProPlans=function(e){return this.getProductsByType(this.PRODUCT_TYPES.pro_plan).filter(function(t){return!e||!t.is_limited}).map(function(e){return e.text_id})},n.prototype.getStudies=function(){var e,t,i={}
;for(e=0;e<this._order.length;e++)t=this._order[e],this._products[t]&&this._products[t].type===this.PRODUCT_TYPES.study_package&&(i[t]=this._products[t]);return i},n.prototype.getSuperProduct=function(e){var t,i;for(t in this._products)if((i=this._products[t]).subproduct_ids&&i.subproduct_ids.indexOf(e)>=0)return i.id},n.prototype.getStudiesOrder=function(){return this._order.filter(function(e){return this._products[e]&&this._products[e].type===this.PRODUCT_TYPES.study_package},this)},n.prototype.hasPackage=function(e){return this._offers.includes(e)||this._freeProductIds.includes(e)},n.prototype.isPro=function(){return!!user.pro_plan},n.prototype.isTrial=function(){return!!user.is_trial},n.prototype.isPaidPro=function(){return this.isPro()&&!this.isTrial()},n.prototype.userHasRealtimeForExchange=function(e){var t,i;if(e=(e||"").toLowerCase().replace("exchange-",""),t=this.getExchange(e),!this.isProductDefined(t))return!1;if(this._offers.includes("exchange-"+t.exchange))return!0;if(t.included_exchanges)for(i=0;i<t.included_exchanges.length;i+=1)if(this._offers.includes("exchange-"+t.included_exchanges[i]))return!0;return!1},n.prototype._exHasRealtimeForType=function(e,t){return!("stock"===t&&!e.is_stocks)&&(!("index"===t&&!e.is_indices)&&!("futures"===t&&!e.is_futures))},n.prototype.hasRealtimeForExchange=function(e,t){var i,n,r,o,s,a=pro.getProductsByType(pro.PRODUCT_TYPES.exchange);for(e=(e||"").toLowerCase(),r=0;r<a.length;r+=1)if((i=a[r]).exchange===e||(i.included_exchanges||[]).includes(e)){if(i.disabled&&!i.included_exchanges)return!1;if(!t)return!0;if(i.included_exchanges){for(s=0;s<i.included_exchanges.length;s+=1)if(n=this.getProduct("exchange-"+i.included_exchanges[s]),this.isProductDefined(n)&&this._exHasRealtimeForType(n,t)){o=!0;break}if(!o)return!1}else if(!this._exHasRealtimeForType(i,t))return!1;return!0}return!1},n.prototype.visitExchangesPage=function(e){var t=s.Monthly,i=!0;user.is_trial||(t=user.pro_plan_billing_cycle||s.OneYear,i=!1),o("pro",t,{exchangesOnly:!0,newWindow:(e=e||{}).newWindow,paymentMethod:e.paymentMethod,fixedCycle:i})},n.prototype.offerLogoSrc=function(e){return e.has_logo?"/static/images/indicators/logos/"+e.text_id+".png":null},n.prototype.offers=function(){return this._offers},n.prototype.hasActivePackages=function(){return this._offers.some(function(e){return!(["tv-prostudies","tv-volumebyprice"].includes(e)||e.endsWith("_dly"))})},n.prototype.isSupportAvailable=function(){return this.isPaidPro()||user.had_pro||this.isTrial()&&this.hasActivePackages()},n.prototype.discounts=function(){return this._discounts},n.prototype.devIds=function(){return this._devIds},n.prototype.hash=function(){var e,t=this._offers.slice(0),i=this._devIds.slice(0);return t.sort(),i.sort(),e={offers:t,devIds:i},JSON.stringify(e)},TradingView.Pro=n,e.exports=n}).call(this,i("aIyQ"))},HySD:function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"ResizerDetacherState",function(){return s}),n=i("Eyy1"),r=i("hY0g"),o=i.n(r),s=function(){function e(e){var t=this;this._alive=new o.a,this._container=new o.a,
this._width=new o.a,this._height=new o.a,this._fullscreen=new o.a,this._detachable=new o.a,this._fullscreenable=new o.a,this._visible=new o.a,this._availWidth=new o.a,this._availHeight=new o.a,this._owner=new o.a,this._ownersStack=[],this.owner=this._owner.readonly(),this._bridge={alive:this._alive.readonly(),container:this._container.readonly(),width:this._width.readonly(),height:this._height.readonly(),fullscreen:this._fullscreen.readonly(),detachable:this._detachable.readonly(),fullscreenable:this._fullscreenable.readonly(),visible:this._visible.readonly(),availWidth:this._availWidth.readonly(),availHeight:this._availHeight.readonly(),remove:function(){var e=t._owner.value();e&&e.remove&&e.remove()},negotiateWidth:function(e){var i=t._owner.value();i&&i.negotiateWidth&&i.negotiateWidth(e)},negotiateHeight:function(e){var i=t._owner.value();i&&i.negotiateHeight&&i.negotiateHeight(e)},requestFullscreen:function(){var e=t._owner.value();e&&e.requestFullscreen&&e.requestFullscreen()},exitFullscreen:function(){var e=t._owner.value();e&&e.exitFullscreen&&e.exitFullscreen()},detach:function(e){var i=t._owner.value();i&&i.detach&&i.detach(e)},attach:function(){var e=t._owner.value();e&&e.attach&&e.attach()}},e&&this.pushOwner(e)}return e.prototype.bridge=function(){return this._bridge},e.prototype.pushOwner=function(e){var t,i,n,r;if(e.alive.value()){for(t=0,i=this._ownersStack;t<i.length;t++)n=i[t],this._unsubscribeOwner(n);r={owner:e},this._ownersStack.push(r),this._subscribeOwner(r)}},e.prototype._subscribeOwner=function(e){var t,i,n=this,r=e.owner;e.deathWatcher||(this._alive.setValue(!0),e.deathWatcher=r.alive.spawn(),e.deathWatcher.subscribe(function(t){t||n._deadHandler(e)})),this._owner.setValue(r),e.subscriptions||(t=e.subscriptions=[],this._visible.setValue(!1),(i=function(e,i){if(e){var n=e.spawn();t.push(n),n.subscribe(function(e){i.setValue(e)},{callWithLast:!0})}else i.deleteValue()})(r.container,this._container),i(r.width,this._width),i(r.height,this._height),i(r.fullscreen,this._fullscreen),i(r.detachable,this._detachable),i(r.fullscreenable,this._fullscreenable),i(r.availWidth,this._availWidth),i(r.availHeight,this._availHeight),i(r.visible,this._visible))},e.prototype._unsubscribeOwner=function(e,t){var i,n;if(e.subscriptions){for(i=0,n=e.subscriptions;i<n.length;i++)n[i].unsubscribe();e.subscriptions=null}t&&e.deathWatcher&&(e.deathWatcher.unsubscribe(),e.deathWatcher=null)},e.prototype._deadHandler=function(e){var t,i=this._ownersStack.indexOf(e);for(Object(n.assert)(-1!==i,"sanitized owner should be in stack"),t=this._ownersStack.length-1;t>=i;t--)this._unsubscribeOwner(this._ownersStack[t],!0);this._ownersStack.length=i,i>0?this._subscribeOwner(this._ownersStack[i-1]):(this._alive.setValue(!1),this._owner.deleteValue())},e}()},I9zs:function(e,t,i){"use strict";function n(e,t,i,n){var r,o;for(this.m_study=e,this.m_series=t,this.m_model=i,this._plotName=n,this.m_items=[],this._invalidated=!0,this._isMarkersEnabled=q.enabled("source_selection_markers"),r=this.m_study.metaInfo().plots,this._colorer=null,
this._palette=null,this._paletterProps=null,this._plotIndex=0,o=0;o<r.length;o++)r[o].id===this._plotName&&(this._plotIndex=o),this.m_study.isSelfColorerPlot(o)&&r[o].target===this._plotName&&(this._colorer=o,this._palette=this.m_study.metaInfo().palettes[r[o].palette],this._paletterProps=this.m_study.properties().palettes[r[o].palette])}function r(e,t,i,n){var r,o;for(this._study=e,this._series=t,this._model=i,this._plotName=n,this._items=[],this._invalidated=!0,this._isMarkersEnabled=q.enabled("source_selection_markers"),r=this._study.metaInfo().plots,o=0;o<r.length;o++)r[o].id===this._plotName&&(this._plotIndex=o,d(this._study.isBgColorerPlot(o),"Plot '"+this._plotName+"' is not a background colorer!"))}function o(e,t,i,n){var r,o;for(this.m_study=e,this.m_series=t,this.m_model=i,this.m_plotName=n,this.m_items=[],this.m_invalidated=!0,this.m_renderer=null,this._isMarkersEnabled=q.enabled("source_selection_markers"),this.m_selectionData=null,this.m_plotIndex=null,r=this.m_study.metaInfo().plots,o=0;o<r.length;o++)if(r[o].id===this.m_plotName){this.m_plotIndex=o;break}for(r=this.m_study.metaInfo().plots,this._colorer=null,this._textColorer=null,this._palette=null,this._textPalette=null,this._paletterProps=null,this._textPaletterProps=null,this._plotIndex=0,o=0;o<r.length;o++)r[o].id===this.m_plotName&&(this._plotIndex=o),this.m_study.isSelfColorerPlot(o)&&r[o].target===this.m_plotName&&(this._colorer=o,this._palette=this.m_study.metaInfo().palettes[r[o].palette],this._paletterProps=this.m_study.properties().palettes[r[o].palette]),this.m_study.isTextColorerPlot(o)&&r[o].target===this.m_plotName&&(this._textColorer=o,this._textPalette=this.m_study.metaInfo().palettes[r[o].palette],this._textPaletterProps=this.m_study.properties().palettes[r[o].palette])}function s(e,t,i,n){o.call(this,e,t,i,n)}function a(e,t,i,n){s.call(this,e,t,i,n)}function l(e,t,i,n){o.call(this,e,t,i,n),this._maxAbsValue=0}function c(e,t,i,n){var r,o;for(this.m_study=e,this.m_series=t,this.m_model=i,this.m_plotName=n,this.m_bars=[],this._invalidated=!0,this._isMarkersEnabled=q.enabled("source_selection_markers"),r=this.m_study.metaInfo().plots,this._colorer=null,this._palette=null,this._paletterProps=null,this._ohlcPlotIndexes={},o=0;o<r.length;o++)r[o].target===this.m_plotName&&(this.m_study.isOHLCOpenPlot(o)&&(this._ohlcPlotIndexes[TradingView.OPEN_PLOT]=o),this.m_study.isOHLCHighPlot(o)&&(this._ohlcPlotIndexes[TradingView.HIGH_PLOT]=o),this.m_study.isOHLCLowPlot(o)&&(this._ohlcPlotIndexes[TradingView.LOW_PLOT]=o),this.m_study.isOHLCClosePlot(o)&&(this._ohlcPlotIndexes[TradingView.CLOSE_PLOT]=o),this.m_study.isOHLCColorerPlot(o)&&(this._colorer=o,this._palette=this.m_study.metaInfo().palettes[r[o].palette],this._paletterProps=this.m_study.properties().palettes[r[o].palette]))}function u(e,t,i,n){c.call(this,e,t,i,n)}function h(e,t,i,n){c.call(this,e,t,i,n)}
var d=i("Eyy1").assert,p=i("aO4+").Point,f=i("eJTA"),_=f.rgbToHsl,m=f.hslToRgb,g=f.rgbToHexString,y=f.parseRgb,v=f.parseRgba,b=i("VdBB").HitTestResult,S=i("vq8G").SelectionRenderer,w=i("29fS").PaneRendererBars,P=i("cO0S").PaneRendererHistogram,T=i("Ndyb").PaneRendererColumns,C=i("gyZD").PaneRendererLine,x=i("u0yd").PaneRendererArea,I=i("/hKg").PaneRendererCandles,E=i("dBsn").PaneRendererCross,L=i("OYox").PaneRendererCircles,A=i("6Fc/").PaneRendererArrowsUpDownItem,O=i("6Fc/").PaneRendererArrowsUpDown,M=i("gTEF").SelectionRendererArrowsUpDown,k=i("f3xO").PaneRendererUnicodeChar,D=i("gVWb").PaneRendererBackground,R=i("Zp8I").PaneRendererStepLine,V=i("Zy3/").CompositeRenderer,B=i("ga+R"),N=i("Hr11").clamp,F=i("Nu4p"),j=i("23IT"),W=j.LineStudyPlotStyle,U=j.PlotSymbolSize,H=i("972a").MarkLocation,z=i("SXwY"),G=i("Tmoa"),Y=i("k9/m").PlotRowSearchMode,q=i("Kxc7"),X=i("Zp/P"),K=i("Kmdw"),Q=i("akof"),Z=i("+q2u"),J=i("fxzW"),$=i("P+Pi"),ee=i("IOzl"),te=i("6ptY"),ie=i("PF2b"),ne=i("V0al");TradingView.PaneRendererArrowUp=K.PaneRendererArrowUp,TradingView.PaneRendererArrowDown=K.PaneRendererArrowDown,TradingView.PaneRendererCircleShape=Q.PaneRendererCircleShape,TradingView.PaneRendererCrossShape=Z.PaneRendererCrossShape,TradingView.PaneRendererDiamond=J.PaneRendererDiamond,TradingView.PaneRendererFlagShape=$.PaneRendererFlagShape,TradingView.PaneRendererLabelUp=ee.PaneRendererLabelUp,TradingView.PaneRendererLabelDown=ee.PaneRendererLabelDown,TradingView.PaneRendererSquare=te.PaneRendererSquare,TradingView.PaneRendererTriangleApexUp=ie.PaneRendererTriangleApexUp,TradingView.PaneRendererTriangleApexDown=ie.PaneRendererTriangleApexDown,TradingView.PaneRendererXCross=ne.PaneRendererXCross,n.isIndexValid=function(e,t){return null!==e&&e>=0&&e<t._length()},n.prototype.items=function(){return this.m_items},n.prototype.update=function(){this._invalidated=!0},n.prototype._updateImpl=function(){var e,t,i,r,o,s,a,l,c,u,h,d,f,_,m,g,y,v,S,w,P,T,C,x,I,E;if(this._histogramBase=null,this.m_items=[],!(this.m_model.timeScale().isEmpty()||this.m_study.priceScale().isEmpty()||null===(e=this.m_model.timeScale().visibleBarsStrictRange())||(t=this.m_series.nearestIndex(e.firstBar(),Y.NearestRight),i=this.m_series.nearestIndex(e.lastBar(),Y.NearestLeft),(r=this.m_study.offset(this._plotName))>0?(t-=r,i+=r):(t+=r,i-=r),(o=this.m_study.getMinFirstBarIndexForPlot(this._plotName))>i))){if(t=Math.max(o,t),a=(s=this.m_study.properties().styles[this._plotName]).plottype.value(),l=[W.Line,W.Area,W.Circles,W.Cross].indexOf(a)>=0,c=this.m_study.data(),u=this.m_study.firstValue(),l&&c._length()>0){for(h=c._bsearch(t);n.isIndexValid(h,c)&&void 0===c._valueAt(h)[this._plotIndex+1];)h-=1;for(t=n.isIndexValid(h,c)?c._indexAt(h):t,d=c._bsearch(i);n.isIndexValid(d,c)&&void 0===c._valueAt(d)[this._plotIndex+1];)d+=1;i=n.isIndexValid(d,c)?c._indexAt(d):i}if(f=c.range(t,i),_=this.m_study.priceScale(),m=N(this._getTranspValue(),0,100),g={},y=function(e,t){var i=e+"@"+t
;return g[i]||(this._plotName&&"vol"===this._plotName?g[i]=G.generateColor(e,t):g[i]=G.generateColor(e,t,!0)),g[i]}.bind(this),f.each(function(e,t){var i,n,o,a,c,u,h,d,f;return e+=r,e=Math.floor(e),i=(n=void 0===(i=t[this._plotIndex+1])||null===i)?NaN:i,(!l||!n)&&((o=new p(e,i)).timePointIndex=e,a=void 0!==t[this._colorer+1]||this._palette&&this._palette.addDefaultColor,this._colorer&&a&&(i=t[this._colorer+1],o.style={},null!=i?(c=this._palette.valToIndex?this._palette.valToIndex[i]:i,h=(u=this._paletterProps.colors[c]).color.value(),o.style.color=G.isHexColor(h)?y(h,m):h):(h=s.color.value(),o.style.color=y(h,100)),d=void 0!==c?u.width.value():s.linewidth.value(),f=void 0!==c?u.style.value():s.linestyle.value(),o.style.width=d,o.style.style=f),this.m_items.push(o),!1)}.bind(this)),_.pointsArrayToCoordinates(this.m_items,u),this.m_model.timeScale().indexesToCoordinates(this.m_items),s.histogramBase&&(this._histogramBase=this.m_study.priceScale().priceToCoordinate(s.histogramBase.value(),u)),this.m_model.selection().isSelected(this.m_study))for(v=B(t,i),this._selectionData={points:[],bgColor:this.m_model.backgroundColor().value(),visible:!0},this._selectionData.hittestResult=b.REGULAR,S=0;S<v.length;S++)w=v[S],P=this.m_study.data().valueAt(w),w+=r,null!==P&&(T=P[this._plotIndex+1],C=this.m_model.timeScale().indexToCoordinate(Math.floor(w)),x=this.m_study.priceScale().priceToCoordinate(T,u),this._selectionData.points.push(new p(C,x)));I=s,this._lineColor=G.generateColor(I.color.value(),m),this._lineWidth=I.linewidth.value(),E=I.color.value(),this._colorer&&null!=(T=this._paletterProps.colors[0])&&(E=T.color.value(),this._lineWidth=T.width.value(),this._lineColor=G.generateColor(T.color.value(),m)),this._color2=G.generateColor(E,m),this._color1=G.generateColor(n.addHueForColor(E),m)}},n.addHueForColor=z(function(e){var t=_(y(e)),i=t[0]+.05;return t[0]=i-Math.floor(i),g(m(t))}),n.prototype._getTranspValue=function(){var e=this.m_study.properties(),t=e.styles[this._plotName],i=0,n=0,r=this.m_study.metaInfo();return"Volume@tv-basicstudies"===r.id&&r.version<=46&&"transparency"in e?(i=e.transparency.value(),i=isNumber(i)?i:n):(t.transparency&&(i=t.transparency.value(),i=isNumber(i)?i:n),i)},n.prototype.renderer=function(){var e,t,i,n,r,o=this.m_study.properties().styles[this._plotName];if(!o.visible.value())return null;if(!this.m_study.priceScale())return null;switch(this._invalidated&&(this._updateImpl(),this._invalidated=!1),(e={}).barSpacing=this.m_model.timeScale().barSpacing(),e.items=this.m_items,e.histogramBase=this._histogramBase?this._histogramBase:this.m_study.priceScale().height(),e.lineIndex=0,e.lineStyle=o.linestyle.value(),e.lineColor=this._lineColor,e.lineWidth=this._lineWidth,e.lineWidth=isNumber(e.lineWidth)?e.lineWidth:1,e.color1=this._color1,e.color2=this._color2,e.bottom=e.histogramBase,this._colorer||(e.simpleMode=!0),t=new V,i=!!o.joinPoints&&o.joinPoints.value(),o.plottype.value()){case W.Line:case W.LineWithBreaks:t.append(new C(e));break;case W.Area:case W.AreaWithBreaks:t.append(new x(e));break
;case W.Histogram:t.append(new P(e));break;case W.Columns:t.append(new T(e));break;case W.Cross:t.append(new E(e)),i&&((n=TradingView.merge({},e)).lineWidth=1,n.forceLineWidth=!0,t.append(new C(n)));break;case W.Circles:t.append(new L(e)),i&&((n=TradingView.merge({},e)).lineWidth=1,n.ignorePaletteLineWidth=!0,t.append(new C(n)));break;case W.StepLine:(r=new R).setData(e),t.append(r);break;default:t.append(new C(e))}return this.m_model.selection().isSelected(this.m_study)&&this._isMarkersEnabled&&t.append(new S(this._selectionData)),t},r.prototype.items=function(){return this._items},r.prototype.update=function(){this._invalidated=!0},r.prototype._scalesReady=function(){var e=this._model.timeScale(),t=this._study.priceScale();return e&&t&&!e.isEmpty()&&!t.isEmpty()},r.prototype._getTranspValue=function(){var e=this._study.properties(),t=e.styles[this._plotName],i=0,n=40;return t.transparency&&(i=t.transparency.value(),i=isNumber(i)?i:n),i},r.prototype._updateImpl=function(){var e,t,i,n,r,o,s,a,l,c;this._items=[],d(this._scalesReady(),"Scales must be ready!"),null!==(e=this._model.timeScale().visibleBarsStrictRange())&&(t=this._study.metaInfo().plots[this._plotIndex].palette,i=this._study.properties().palettes[t],n=i.colors,r=this._study.metaInfo().palettes[t],o=this._getTranspValue(),s=this._series.nearestIndex(e.firstBar(),Y.NearestRight),a=this._series.nearestIndex(e.lastBar(),Y.NearestLeft),(l=this._study.offset(this._plotName))>0?(s-=l,a+=l):(s+=l,a-=l),(c=this._study.getMinFirstBarIndexForPlot(this._plotName))>a||(s=Math.max(c,s),this._study.data().range(s,a).each(function(e,t){var i,s,a,c;return e+=l,i=t[this._plotIndex+1],s=new p(Math.floor(e)-.5),a=isNumber(o)?o:50,a=Math.min(a,100),a=Math.max(a,0),null!=i?(c=r.valToIndex?r.valToIndex[i]:i,s.color=G.generateColor(n[c].color.value(),a)):s.color=null,this._items.push(s),!1}.bind(this)),this._model.timeScale().indexesToCoordinates(this._items)))},r.prototype.renderer=function(){var e,t;if(this._study.properties().styles[this._plotName].visible&&this._study.properties().styles[this._plotName].visible.value()&&this._scalesReady())return this._invalidated&&(this._updateImpl(),this._invalidated=!1),e={items:this._items,y:0,h:this._study.priceScale().height(),w:this._model.timeScale().barSpacing()},(t=new V).append(new D(e)),t},o.prototype.items=function(){return this.m_items},o.prototype.update=function(){this.m_invalidated=!0},o.prototype._scalesReady=function(){var e=this.m_model.timeScale(),t=this.m_study.priceScale();return e&&t&&!e.isEmpty()&&!t.isEmpty()},o.prototype._updateImpl=function(){var e,t,i,n,r,o,s,a,l,c,u,h,d,p,f,_,m,g,y,v;this.m_items=[],this._scalesReady()&&(e=this.m_model.timeScale(),t=this.m_study.priceScale(),null!==(i=e.visibleBarsStrictRange())&&(n=this.m_series.nearestIndex(i.firstBar(),Y.NearestRight),r=this.m_series.nearestIndex(i.lastBar(),Y.NearestLeft),(o=this.m_study.offset(this.m_plotName))>0?(n-=o,r+=o):(n+=o,r-=o),(s=this.m_study.getMinFirstBarIndexForPlot(this.m_plotName))>r||(n=Math.max(s,n),a=this.m_study.data(),
l=this.m_study.firstValue(),c=a.range(n,r),u=this._getTranspValue(),h=B(n,r),d=this.m_model.selection().isSelected(this.m_study),this.m_selectionData=d?{points:[],hittestResult:b.REGULAR,vertOffset:0,isDark:this.m_model.isDark(),bgColor:this.m_model.backgroundColor().value(),visible:!0}:null,(f=(p=this.m_series.properties().style.value())===TradingView.Series.STYLE_LINE?"lineStyle":p===TradingView.Series.STYLE_AREA?"areaStyle":null)?(_=this.m_series.properties()[f].priceSource.value(),m=_):(_="high",m="low"),g=this.m_study.priceScale().isInverted(),y=t.coordinateToPrice(t.height()*t.topMargin(),l),v=t.coordinateToPrice(t.height()*(1-t.bottomMargin()),l),this._topCoord=g?v:y,this._bottomCoord=g?y:v,c.each(function(e,t){var i,n,r,s,a,l,c,p=Math.floor(e+o),f=t[this.m_plotIndex+1];return null!==f&&void 0!==f&&(void 0!==(i=this._createItem(p,f,_,m))&&null!==i?(n=void 0!==t[this._colorer+1]||this._palette&&this._palette.addDefaultColor,this._colorer&&n&&(f=t[this._colorer+1],i.style={},null!=f?(a=this._palette.valToIndex?this._palette.valToIndex[f]:f,r=this._paletterProps.colors[a].color.value(),s=u>9?u-10:0,i.style.color=G.generateColor(r,u)):(r=this.m_study.properties().styles[this.m_plotName].color.value(),s=100,i.style.color=G.generateColor(r,100)),i.style.borderColor=G.generateColor(r,s)),l=void 0!==t[this._textColorer+1]||this._textPalette&&this._textPalette.addDefaultColor,this._textColorer&&l&&(f=t[this._textColorer+1],i.style||(i.style={}),null!=f?(a=this._textPalette.valToIndex?this._textPalette.valToIndex[f]:f,c=this._textPaletterProps.colors[a].color.value(),i.style.textColor=G.generateColor(c,u)):(c=this.m_study.properties().styles[this.m_plotName].textColor.value(),i.style.textColor=G.generateColor(c,100))),d&&-1!==h.indexOf(e)&&this.m_selectionData.points.push(i),this.m_items.push(i),!1):void 0)}.bind(this)),this._convertItemsToCoordinates())))},o.prototype._updateRenderer=function(){var e,t,i,n,r,o,s,a,l,c;this._updateImpl(),e=this.m_model.timeScale(),t={},i=this._getTranspValue(),n=e.barSpacing(),r=this._calculateShapeHeight(n),o=this.m_study.properties().styles[this.m_plotName].location.value(),s=this._calculateVerticalOffset(o,r+r/2),t.barSpacing=n,t.items=this.m_items,t.color=G.generateColor(this.m_study.properties().styles[this.m_plotName].color.value(),i),t.height=r,t.vertOffset=s,a=this.m_study.properties().styles[this.m_plotName].plottype.value(),l=F.plotShapesData[a],c=new V,l&&c.append(new TradingView[l.paneRendererClass](t)),this.m_model.selection().isSelected(this.m_study)&&this._isMarkersEnabled&&null!==this.m_selectionData&&(this.m_selectionData.vertOffset=s,c.append(new S(this.m_selectionData))),this.m_renderer=c},o.prototype._getSeriesVal=function(e,t){var i;e=e||"close",i=null;try{i=this.m_series[e](t)}catch(e){}return i},o.prototype._getTranspValue=function(){var e,t=0;return this.m_study.properties().transparency&&(t=this.m_study.properties().transparency.value(),t=isNumber(t)?t:50),(e=this.m_study.properties().styles[this.m_plotName]).transparency&&(t=e.transparency.value(),
t=isNumber(t)?t:50),N(t,0,100)},o.prototype._createItem=function(e,t,i,n){var r,o,s,a=this.m_study.properties().styles[this.m_plotName].location.value();if(!t&&a!==H.Absolute)return null;switch(a){case H.AboveBar:if(void 0===(r=this._getSeriesVal(i,e))||null==r)return null;o=r;break;case H.BelowBar:if(void 0===(s=this._getSeriesVal(n,e))||null==s)return null;o=s;break;case H.Top:o=this._topCoord;break;case H.Bottom:o=this._bottomCoord;break;case H.Absolute:o=t;break;default:throw new Error("Bad value: "+a)}return new p(e,o)},o.prototype._convertItemsToCoordinates=function(){var e=this.m_model.timeScale(),t=this.m_study.priceScale();e.indexesToCoordinates(this.m_items),t.pointsArrayToCoordinates(this.m_items,this.m_study.firstValue())},o.prototype._calculateVerticalOffset=function(e,t){var i=0;switch(e){case H.AboveBar:case H.Bottom:i=-t;break;case H.BelowBar:case H.Top:i=t}return this.m_study.priceScale().isInverted()&&(i*=-1),i},o.prototype._calculateShapeHeight=function(e,t){var i=e;switch(t){case U.Tiny:i=.3*e;break;case U.Small:i=.6*e;break;case U.Normal:i=e;break;case U.Large:i=1.5*e;break;case U.Huge:i=2*e}return i},o.prototype.renderer=function(){if(this.m_study.properties().styles[this.m_plotName].visible&&this.m_study.properties().styles[this.m_plotName].visible.value()&&this._scalesReady())return this.m_invalidated&&(this._updateRenderer(),this.m_invalidated=!1),this.m_renderer},inherit(s,o),s.prototype._updateRenderer=function(e){var t,i,n,r,o,s,a,l,c,u,h,d,p,f,_,m;this._updateImpl(),t=this.m_model.timeScale(),i={},n=this._getTranspValue(),r=t.barSpacing(),e.size?(s=e.size.value(),o=this._calculateShapeHeight(25,s)):o=Math.round(r/2),a=e.location.value(),l=G.generateColor(e.color.value(),n),c=n>19?n-10:0,u=this._calculateVerticalOffset(a,Math.round(1.5*o)),i.barSpacing=r,i.items=this.items(),i.color=l,i.borderColor=G.generateColor(e.color.value(),c),i.height=o,i.vertOffset=u,h=e.plottype.value(),d=F.plotShapesData[h],p=new V,void 0!==(f=e.text?e.text.value():void 0)&&""!==f.trim()&&(_=f.trim().replace(/\\n/gm,"\n"),_=TradingView.cleanButAmpersand(_,!0),i.text=_,i.fontSize=12,m=e.textColor?e.textColor.value():void 0,i.textColor=m?G.generateColor(m,n):l),null!=d&&p.append(new TradingView[d.paneRendererClass](i)),this.m_model.selection().isSelected(this.m_study)&&this._isMarkersEnabled&&null!==this.m_selectionData&&(this.m_selectionData.vertOffset=u,p.append(new S(this.m_selectionData))),this.m_renderer=p},s.prototype.renderer=function(){var e=this.m_study.properties().styles[this.m_plotName];if(e.visible&&e.visible.value()&&this._scalesReady())return this.m_invalidated&&(this._updateRenderer(e),this.m_invalidated=!1),this.m_renderer},inherit(a,s),a.prototype.renderer=function(){var e,t,i,n,r,o,s,a,l,c,u,h,d,p=this.m_study.properties().styles[this.m_plotName];if(p.visible&&p.visible.value()&&this._scalesReady())return e=this.m_model.timeScale(),this.m_invalidated&&(this._updateImpl(),this.m_invalidated=!1),t={},i=this._getTranspValue(),n=e.barSpacing(),p.size?(o=p.size.value(),
r=this._calculateShapeHeight(50,o)):r=Math.round(n),s=p.location.value(),a=G.generateColor(p.color.value(),i),l=this._calculateVerticalOffset(s,r),t.items=this.items(),t.barSpacing=n,t.char=p.char.value(),t.height=r,t.vertOffset=l,t.color=a,c=new V,void 0!==(u=p.text?p.text.value():void 0)&&""!==u.trim()&&(h=u.trim().replace(/\\n/gm,"\n"),h=TradingView.cleanButAmpersand(h,!0),t.text=h,t.fontSize=12,d=p.textColor?p.textColor.value():void 0,t.textColor=d?G.generateColor(d,i):a),c.append(new k(t)),this.m_model.selection().isSelected(this.m_study)&&this._isMarkersEnabled&&null!==this.m_selectionData&&(this.m_selectionData.vertOffset=l,c.append(new S(this.m_selectionData))),c},inherit(l,o),l.prototype.renderer=function(){var e,t,i,n,r,o,s,a,l;if(this.m_study.properties().styles[this.m_plotName].visible&&this.m_study.properties().styles[this.m_plotName].visible.value()&&this._scalesReady())return this.m_invalidated&&(this._updateImpl(),this.m_invalidated=!1),e={},t=N(this._getTranspValue(),0,100),i=this.m_model.timeScale().barSpacing(),e.items=this.m_items,e.barSpacing=i,e.colorup=G.generateColor(this.m_study.properties().styles[this.m_plotName].colorup.value(),t),e.colordown=G.generateColor(this.m_study.properties().styles[this.m_plotName].colordown.value(),t),r=(n=v(e.colorup))?100*(1-n[3]):0,s=(o=v(e.colordown))?100*(1-o[3]):0,e.colorBorderUp=G.generateColor("#000000",r),e.colorBorderDown=G.generateColor("#000000",s),e.minHeight=this.m_study.properties().styles[this.m_plotName].minHeight.value(),e.maxHeight=this.m_study.properties().styles[this.m_plotName].maxHeight.value(),(a=new V).append(new O(e)),this.m_model.selection().isSelected(this.m_study)&&null!==this.m_selectionData&&((l=this.m_selectionData).barSpacing=i,a.append(new M(l))),a},l.prototype._createItem=function(e,t,i,n){var r,o,s,a;if(0!==t){if(Math.abs(t)>this._maxAbsValue&&(this._maxAbsValue=Math.abs(t)),r=t>0){if(void 0===(s=this._getSeriesVal(n,e))||null==s)return null;o=s}else{if(void 0===(a=this._getSeriesVal(i,e))||null==a)return null;o=a}return new A(e,o,t,r)}},l.prototype._convertItemsToCoordinates=function(){var e,t,i,n,r,o,s,a,l=this.m_model.timeScale(),c=this.m_study.priceScale();for(l.indexesToCoordinates(this.m_items),c.pointsArrayToCoordinates(this.m_items,this.m_study.firstValue()),(e=Math.abs(this.m_study.properties().styles[this.m_plotName].minHeight.value()))>(t=Math.abs(this.m_study.properties().styles[this.m_plotName].maxHeight.value()))&&(i=e,e=t,t=i),n=(t-e)/this._maxAbsValue,r=this.m_items,o=0;o<r.length;o++)s=r[o],a=Math.abs(s.height),s.height=a*n+e},c.prototype.update=function(){this._invalidated=!0},c.prototype._updateImpl=function(){var e,t,i,n,r,o,s,a,l,c,u,h,d,f,_,m,g,y;if(this.m_bars.length=0,!this.m_model.timeScale().isEmpty()&&!this.m_study.priceScale().isEmpty()&&null!==(e=this.m_model.timeScale().visibleBarsStrictRange())&&(t=this.m_series.nearestIndex(e.firstBar(),Y.NearestRight),i=this.m_series.nearestIndex(e.lastBar(),Y.NearestLeft),!((n=this.m_study.getMinFirstBarIndexForPlot(this.m_plotName))>i)&&(t=Math.max(n,t),
r=this.m_study.data(),o=this.m_study.firstValue(),s=r.range(t,i),a=0,l=this.m_study.properties().ohlcPlots[this.m_plotName],c={},u=function(e,t){var i=e+"@"+t;return c[i]||(c[i]=G.generateColor(e,t)),c[i]},s.each(function(e,t){var i,n,r,o,s,c,h,d,p,f;for(e=Math.floor(e),i=!0,n={},r=TradingView.OPEN_PLOT;r<=TradingView.CLOSE_PLOT;++r){if(void 0===(o=t[this._ohlcPlotIndexes[r]+1])||null===o){i=!1;break}n[r]=o}return!!i&&(s=n[TradingView.OPEN_PLOT],c=n[TradingView.CLOSE_PLOT],h=Math.max(s,n[TradingView.HIGH_PLOT],n[TradingView.LOW_PLOT],c),d=Math.min(s,n[TradingView.HIGH_PLOT],n[TradingView.LOW_PLOT],c),(p={}).time=Math.round(e),p.open=s,p.high=h,p.low=d,p.close=c,f=this._colorer?null!=t[this._colorer+1]?this._plotValueToPaletteColor(t[this._colorer+1]):"rgba(0, 0, 0, 0)":l.color.value(),p.color=u(f,a),p.hollow=null,this.m_bars.push(p),!1)}.bind(this)),this.m_study.priceScale().barPricesToCoordinates(this.m_bars,o),this.m_model.timeScale().barIndexesToCoordinates(this.m_bars),this.m_model.selection().isSelected(this.m_study))))for(h=B(t,i),this._selectionData={points:[],hittestResult:b.REGULAR,isDark:this.m_model.isDark(),bgColor:this.m_model.backgroundColor().value(),visible:!0},d=0;d<h.length;d++)f=h[d],null!==(_=this.m_study.data().valueAt(f))&&(m=_[this._plotIndex+1],g=this.m_model.timeScale().indexToCoordinate(Math.floor(f)),y=this.m_study.priceScale().priceToCoordinate(m,o),this._selectionData.points.push(new p(g,y)))},c.prototype.items=function(){return this.m_bars},c.prototype._plotValueToPaletteColor=function(e){var t=this._palette.valToIndex?this._palette.valToIndex[e]:e,i=this._paletterProps.colors[t];return i.color.value()},inherit(u,c),u.prototype.renderer=function(){var e,t,i=this.m_study.properties().ohlcPlots[this.m_plotName];if(i.visible.value())return this._invalidated&&(this._updateImpl(),this._invalidated=!1),(e={}).bars=this.m_bars,e.barSpacing=this.m_model.timeScale().barSpacing(),e.dontDrawOpen=this.m_series.properties().barStyle.dontDrawOpen.value(),(t=new V).append(new w(e)),this.m_model.selection().isSelected(this.m_study)&&this._isMarkersEnabled&&t.append(new S(this._selectionData)),t},inherit(h,c),h.prototype.renderer=function(){var e,t,i=this.m_study.properties().ohlcPlots[this.m_plotName];if(i.visible.value())return this._invalidated&&(this._updateImpl(),this._invalidated=!1),(e={}).bars=this.m_bars,e.barSpacing=this.m_model.timeScale().barSpacing(),e.wickVisible=i.drawWick.value(),e.bodyVisible=!0,e.borderVisible=i.drawBorder.value(),e.barWidth=X.optimalBarWidth(e.barSpacing),e.borderColor=i.borderColor.value(),e.wickColor=i.wickColor.value(),(t=new V).append(new I(e)),this.m_model.selection().isSelected(this.m_series)&&this._isMarkersEnabled&&t.append(new S(this._selectionData)),t},t.StudyPaneView=n,t.StudyBackgroundPaneView=r,t.StudyPlotShapesPaneView=s,t.StudyPlotCharsPaneView=a,t.StudyPlotArrowsPaneView=l,t.StudyPlotCandlesPaneView=h,t.StudyPlotBarsPaneView=u},IERO:function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="#ed5565" d="M0 0h18v18H0z"/><path fill="#fff" d="M3 7h12v4H3zm4-4h4v12H7z"/></svg>'},IHm8:function(e,t,i){"use strict";function n(e){var t=new l(e);return Object(a.b)(s.a,t),function(){Object(a.d)(s.a)}}var r,o,s,a,l;i.r(t),i.d(t,"SingleSymbolList",function(){return l}),i.d(t,"registerSingleSymbolListBackend",function(){return n}),r=i("mrSG"),o=i("YFKU"),s=i("pA52"),a=i("ObRt"),l=function(){function e(e){void 0===e&&(e=[]),this._list={id:"DEFAULT_SINGLE_WATCHLIST",type:"custom",isHotlist:!1,color:null,title:Object(o.t)("Watchlist"),symbols:Object(r.__spreadArrays)(e)}}return e.prototype.getAllWatchLists=function(){return this.getCustomWatchLists()},e.prototype.getCustomWatchLists=function(){return Promise.resolve([this._list])},e.prototype.getSymbols=function(e){return Promise.resolve(this._list.symbols)},e.prototype.createWatchList=function(e){throw new Error("not implemented")},e.prototype.removeWatchList=function(e){throw new Error("not implemented")},e.prototype.renameWatchList=function(e,t){return Promise.resolve(t)},e.prototype.replaceSymbols=function(e,t){return this._list.symbols=Object(r.__spreadArrays)(t),Promise.resolve(this._list)},e.prototype.addSymbols=function(e,t){var i;return(i=this._list.symbols).push.apply(i,t),Promise.resolve(this._list.symbols)},e.prototype.removeSymbols=function(e,t){return this._list.symbols=this._list.symbols.filter(function(e){return!t.includes(e)}),Promise.resolve(this._list.symbols)},e.prototype.setActive=function(e){return Promise.resolve(this._list)},e.prototype.getActive=function(){return Promise.resolve(this._list)},e}()},IMMp:function(e){
e.exports=JSON.parse('{"color-bg-primary":"color-cold-gray-850","color-bg-primary-hover":"color-cold-gray-800","color-bg-secondary":"color-cold-gray-900","color-bg-scroll-buttons":"color-cold-gray-800","color-legacy-bg-scroll-buttons":"color-cold-gray-550","color-legacy-bg-widget":"color-cold-gray-900","color-text-primary":"color-cold-gray-200","color-text-secondary":"color-cold-gray-500","color-text-tertiary":"color-cold-gray-400","color-text-disabled":"color-cold-gray-650","color-divider":"color-cold-gray-700","color-divider-hover":"color-cold-gray-800","color-box-shadow":"color-black","color-active-hover-text":"color-gull-gray","color-alert-text":"color-loblolly","color-border":"color-bright-gray","color-border-chat-fields":"color-bright-gray","color-border-hover":"color-trout-1","color-border-table":"color-cold-gray-800","color-brand":"color-tv-blue-700","color-brand-active":"color-tv-blue-600","color-brand-hover":"color-tv-blue-600","color-button-hover-bg":"color-mirage-3","color-chart-page-bg":"color-cold-gray-800","color-common-tooltip-bg":"color-cold-gray-650","color-danger":"color-ripe-red-600","color-depthrenderer-fill-style":"color-catskill-white","color-depthrenderer-stroke-style":"color-trout-1","color-disabled-border-and-color":"color-ebony-clay","color-disabled-input":"color-bright-gray","color-empty-container-message":"color-slate-gray","color-highlight-new":"color-dark-slate-blue","color-icons":"color-slate-gray","color-input-bg":"color-charade","color-input-textarea-readonly":"color-trout-1","color-input-publish-bg":"color-mirage-1","color-item-active-blue":"color-blue-dianne","color-item-hover-active-bg":"color-charade","color-item-hover-bg":"color-ebony-clay","color-item-hover-blue":"color-blue-dianne","color-item-selected-blue":"color-blue-dianne","color-item-active-text":"color-cold-gray-200","color-item-active-bg":"color-tv-blue-700","color-link":"color-tv-blue-700","color-link-hover":"color-tv-blue-600","color-link-active":"color-tv-blue-600","color-list-item":"color-slate-gray","color-list-nth-child-bg":"color-mirage-3","color-news-highlight":"color-charade","color-pane-bg":"color-mirage-1","color-pane-secondary-bg":"color-cold-gray-850","color-placeholder":"color-trout-2","color-popup-menu-item-hover-bg":"color-cold-gray-800","color-popup-menu-separator":"color-cold-gray-700","color-row-hover-active-bg":"color-ebony-clay","color-sb-scrollbar-body-bg":"color-trout-2","color-screener-header-bg":"color-mirage-3","color-screener-header-bg-hover":"color-ebony-clay","color-screener-description":"color-loblolly","color-section-separator-border":"color-bright-gray","color-separator-table-chat":"color-bright-gray","color-success":"color-minty-green-700","color-success-hover":"color-minty-green-600","color-success-active":"color-minty-green-500","color-tag-active-bg":"color-bright-gray","color-tag-hover-bg":"color-charade","color-text-regular":"color-loblolly","color-toolbar-button-text":"color-cold-gray-500","color-toolbar-button-text-hover":"color-cold-gray-450","color-toolbar-button-text-active":"color-tv-blue-700","color-toolbar-button-text-active-hover":"color-tv-blue-600","color-toolbar-button-background-hover":"color-cold-gray-800","color-toolbar-button-background-secondary-hover":"color-cold-gray-750","color-toolbar-toggle-button-background-active":"color-tv-blue-700","color-toolbar-toggle-button-background-active-hover":"color-tv-blue-600","color-toolbar-interactive-element-text-normal":"color-cold-gray-300","color-toolbar-interactive-element-text-hover":"color-cold-gray-250","color-toolbar-opened-element-bg":"color-cold-gray-800","color-tooltip-bg":"color-bright-gray","color-tv-button-checked":"color-slate-gray","color-tv-dialog-caption":"color-athens-gray-2","color-tv-dropdown-item-hover-bg":"color-charade","color-underlined-text":"color-gull-gray","color-widget-pages-bg":"color-cold-gray-900","color-warning":"color-tan-orange-700","color-forex-icon":"color-white","color-list-item-active-bg":"color-medium-blue","color-list-item-hover-bg":"color-ebony-clay","color-list-item-text":"color-loblolly","color-price-axis-label-back":"color-cold-gray-800","color-price-axis-label-text":"color-cold-gray-500","color-price-axis-gear":"color-cold-gray-500","color-price-axis-gear-hover":"color-cold-gray-400","color-price-axis-highlight":"color-cold-gray-800","color-bid":"color-tv-blue-700","color-scroll-bg":"color-cold-gray-750","color-scroll-border":"color-cold-gray-850","color-widget-border":"color-cold-gray-800","color-scroll-buttons-arrow":"color-white","color-control-intent-default":"color-cold-gray-650","color-control-intent-success":"color-minty-green-600","color-control-intent-primary":"color-tv-blue-700","color-control-intent-warning":"color-tan-orange-500","color-control-intent-danger":"color-ripe-red-700","color-growing":"color-minty-green-600","color-falling":"color-ripe-red-600","color-pre-market":"color-tan-orange-600","color-pre-market-bg":"color-tan-orange-400","color-post-market":"color-tv-blue-500","color-post-market-bg":"color-tv-blue-400","color-market-open":"color-minty-green-500","color-market-open-bg":"color-minty-green-400","color-market-closed":"color-cold-gray-400","color-market-holiday":"color-cold-gray-400","color-invalid-symbol":"color-ripe-red-400","color-invalid-symbol-hover":"color-ripe-red-500","color-replay-mode":"color-tv-blue-700","color-replay-mode-icon":"color-tv-blue-50","color-replay-mode-hover":"color-tv-blue-600","color-delay-mode":"color-tan-orange-600","color-delay-mode-bg":"color-tan-orange-400","color-eod-mode":"color-deep-blue-600","color-eod-mode-bg":"color-grapes-purple-400","color-data-problem":"color-ripe-red-600","color-data-problem-bg":"color-ripe-red-400","color-data-problem-hover":"color-ripe-red-500"}')
},IOzl:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u;i.r(t),i.d(t,"PaneRendererLabelUp",function(){return s}),i.d(t,"PaneRendererLabelDown",function(){return a}),i.d(t,"PaneRendererLabelLeft",function(){return l}),i.d(t,"PaneRendererLabelRight",function(){return c}),i.d(t,"PaneRendererLabelCenter",function(){return u}),n=i("mrSG"),r=i("jlDR"),o=i("VdBB"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.hitTest=function(e){var t,i,n,r,s,a,l,c=e.x,u=e.y;for(t=0,i=this._items;t<i.length;t++)if(r=(n=i[t]).x-n.shapeWidth/2,s=n.x+n.shapeWidth/2,a=n.y+n.vertOffset,l=n.y+n.shapeHeight+n.vertOffset,c>r&&c<s&&u>a&&u<l)return new o.HitTestResult(o.HitTestResult.REGULAR);return null},t.prototype._drawItemShape=function(e,t,i){var n,o,s,a,l,c,u,h,d,p=t.pixelRatio,f=this._lineWidth(t)%2?.5:0,_=Math.max(1,Math.floor(p))%2?.5:0,m=this._getArrowSize(i),g=Math.round(m*p);(_+g)%1!=f%1&&(g+=.5),(_+(n=Math.round(i.shapeWidth/2*p)))%1!=f%1&&(n+=.5),o=Math.round(i.x*p)+_,s=Math.round((i.y+i.vertOffset)*p)+f,a=o-g,l=Math.round((i.y+i.vertOffset+m)*p)+f,c=o+g,u=o+n,h=Math.round((i.y+i.vertOffset+i.shapeHeight)*p)+f,d=o-n,e.moveTo(a,l),e.lineTo(o,s),e.lineTo(c,l),i.shapeWidth<=2*m?(e.lineTo(u,l),this._drawCorner(e,u,h,r.a.rightDown,p),this._drawCorner(e,d,h,r.a.leftDown,p),e.lineTo(d,l)):(this._drawCorner(e,u,l,r.a.rightUp,p),this._drawCorner(e,u,h,r.a.rightDown,p),this._drawCorner(e,d,h,r.a.leftDown,p),this._drawCorner(e,d,l,r.a.leftUp,p)),e.lineTo(a,l)},t.prototype._getVerticalTextOffset=function(e){return e.shapeHeight/2+this._getArrowSize(e)/2},t.prototype._calcVertOffset=function(e){return Math.sign(e.vertOffset)>=0?e.vertOffset:e.vertOffset-e.shapeHeight},t}(r.b),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.hitTest=function(e){var t,i,n,r,s,a,l,c=e.x,u=e.y;for(t=0,i=this._items;t<i.length;t++)if(r=(n=i[t]).x-n.shapeWidth/2,s=n.x+n.shapeWidth/2,a=n.y-n.shapeHeight+n.vertOffset,l=n.y+n.vertOffset,r<c&&c<s&&a<u&&u<l)return new o.HitTestResult(o.HitTestResult.REGULAR);return null},t.prototype._drawItemShape=function(e,t,i){var n,o,s,a,l,c,u,h,d,p=t.pixelRatio,f=this._lineWidth(t)%2?.5:0,_=Math.max(1,Math.floor(p))%2?.5:0,m=this._getArrowSize(i),g=Math.round(m*p);(_+g)%1!=f%1&&(g+=.5),(_+(n=Math.round(i.shapeWidth/2*p)))%1!=f%1&&(n+=.5),o=Math.round(i.x*p)+_,s=Math.round((i.y+i.vertOffset)*p)+f,a=o+g,l=Math.round((i.y+i.vertOffset-m)*p)+f,c=o-g,u=o+n,h=Math.round((i.y+i.vertOffset-i.shapeHeight)*p)+f,d=o-n,e.moveTo(a,l),e.lineTo(o,s),e.lineTo(c,l),i.shapeWidth<=2*m?(e.lineTo(d,l),this._drawCorner(e,d,h,r.a.leftUp,p),this._drawCorner(e,u,h,r.a.rightUp,p),e.lineTo(u,l)):(this._drawCorner(e,d,l,r.a.leftDown,p),this._drawCorner(e,d,h,r.a.leftUp,p),this._drawCorner(e,u,h,r.a.rightUp,p),this._drawCorner(e,u,l,r.a.rightDown,p)),e.lineTo(a,l)},t.prototype._getVerticalTextOffset=function(e){return-e.shapeHeight/2-this._getArrowSize(e)/2},t.prototype._calcVertOffset=function(e){
return Math.sign(e.vertOffset)<=0?e.vertOffset:e.vertOffset+e.shapeHeight},t}(r.b),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.hitTest=function(e){var t,i,n,r,s,a,l,c=e.x,u=e.y;for(t=0,i=this._items;t<i.length;t++)if(r=(n=i[t]).x,s=n.x+n.shapeWidth,a=n.y-n.shapeHeight/2+n.vertOffset,l=n.y+n.shapeHeight/2+n.vertOffset,c>r&&c<s&&u>a&&u<l)return new o.HitTestResult(o.HitTestResult.REGULAR);return null},t.prototype._drawItemShape=function(e,t,i){var n=t.pixelRatio,o=this._lineWidth(t)%2?.5:0,s=this._getArrowSize(i),a=this._hasText(i),l=a?i.shapeHeight/2:s,c=Math.round(i.x*n)+o,u=Math.round((i.y+i.vertOffset)*n)+o,h=Math.round((i.x+s)*n)+o,d=Math.round((i.y+i.vertOffset+s)*n)+o,p=Math.round((i.y+i.vertOffset-s)*n)+o,f=Math.round((i.y+i.vertOffset-l)*n)+o,_=Math.round((i.x+i.shapeWidth)*n)+o,m=Math.round((i.y+i.vertOffset+l)*n)+o;e.moveTo(h,d),e.lineTo(c,u),e.lineTo(h,p),a?this._drawCorner(e,h,f,r.a.leftUp,n):e.lineTo(h,f),this._drawCorner(e,_,f,r.a.rightUp,n),this._drawCorner(e,_,m,r.a.rightDown,n),a?this._drawCorner(e,h,m,r.a.leftDown,n):e.lineTo(h,m),e.lineTo(h,d)},t.prototype._getHorizontalTextOffset=function(e){return e.shapeWidth/2+this._getArrowSize(e)/2},t}(r.b),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.hitTest=function(e){var t,i,n,r,s,a,l,c=e.x,u=e.y;for(t=0,i=this._items;t<i.length;t++)if(r=(n=i[t]).x-n.shapeWidth,s=n.x,a=n.y-n.shapeHeight/2+n.vertOffset,l=n.y+n.shapeHeight/2+n.vertOffset,c>r&&c<s&&u>a&&u<l)return new o.HitTestResult(o.HitTestResult.REGULAR);return null},t.prototype._drawItemShape=function(e,t,i){var n=t.pixelRatio,o=this._lineWidth(t)%2?.5:0,s=this._getArrowSize(i),a=this._hasText(i),l=a?i.shapeHeight/2:s,c=Math.round(i.x*n)+o,u=Math.round((i.y+i.vertOffset)*n)+o,h=Math.round((i.x-s)*n)+o,d=Math.round((i.y+i.vertOffset-s)*n)+o,p=Math.round((i.y+i.vertOffset+s)*n)+o,f=Math.round((i.y+i.vertOffset-l)*n)+o,_=Math.round((i.x-i.shapeWidth)*n)+o,m=Math.round((i.y+i.vertOffset+l)*n)+o;e.moveTo(h,d),e.lineTo(c,u),e.lineTo(h,p),a?this._drawCorner(e,h,m,r.a.rightDown,n):e.lineTo(h,m),this._drawCorner(e,_,m,r.a.leftDown,n),this._drawCorner(e,_,f,r.a.leftUp,n),a?this._drawCorner(e,h,f,r.a.rightUp,n):e.lineTo(h,f),e.lineTo(h,d)},t.prototype._getHorizontalTextOffset=function(e){return-e.shapeWidth/2-this._getArrowSize(e)/2},t}(r.b),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.hitTest=function(e){var t,i,n,r,s,a,l,c=e.x,u=e.y;for(t=0,i=this._items;t<i.length;t++)if(r=(n=i[t]).x-n.shapeWidth/2,s=n.x+n.shapeWidth/2,a=n.y-n.shapeWidth/2+n.vertOffset,l=n.y+n.shapeWidth/2+n.vertOffset,c>r&&c<s&&u>a&&u<l)return new o.HitTestResult(o.HitTestResult.REGULAR);return null},t.prototype._drawItemShape=function(e,t,i){
var n=t.pixelRatio,o=this._lineWidth(t)%2?.5:0,s=i.shapeHeight/2,a=i.shapeWidth/2,l=Math.round(i.x*n)+o,c=Math.round((i.x-a)*n)+o,u=Math.round((i.x+a)*n)+o,h=Math.round((i.y+i.vertOffset-s)*n)+o,d=Math.round((i.y+i.vertOffset+s)*n)+o;e.moveTo(l,h),this._drawCorner(e,u,h,r.a.rightUp,n),this._drawCorner(e,u,d,r.a.rightDown,n),this._drawCorner(e,c,d,r.a.leftDown,n),this._drawCorner(e,c,h,r.a.leftUp,n),e.lineTo(l,h)},t}(r.b)},IVMC:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.reduce(function(e,t,i){return~e.indexOf(t)||e.push(t),e},[])},e.exports=t.default},IWXC:function(e,t,i){"use strict";function n(e){return void 0===e&&(e="full"),c[e]||r(e,new l.a(e)),c[e]}function r(e,t){void 0===e&&(e="full"),c[e]=t}function o(e){return void 0===e&&(e="full"),c[e]}function s(){var e,t;for(e in c)c.hasOwnProperty(e)&&(void 0!==(t=c[e])&&t.destroy(),delete c[e])}var a,l,c;i.r(t),i.d(t,"getQuoteSessionInstance",function(){return n}),i.d(t,"setQuoteSessionInstance",function(){return r}),i.d(t,"getQuoteSessionNoEnsure",function(){return o}),i.d(t,"destroyQuoteSessions",function(){return s}),a=i("hGf4"),l=i.n(a),c={}},Ialn:function(e,t,i){"use strict";function n(e){return""!==e&&d()&&void 0!==e&&null!==e?e.replace(g,""):e}function r(e){return""!==e&&d()&&void 0!==e&&null!==e?p+e:e}function o(e){return""!==e&&d()&&void 0!==e&&null!==e?f+e+m:e}function s(e){return f+e+m}function a(e){return""!==e&&d()&&void 0!==e&&null!==e?_+e+m:e}function l(e){return Object(h.getNormalizedScrollLeft)(e,"rtl")}function c(e,t){var i=Object(h.detectScrollType)();if("indeterminate"===i)return 0;switch(i){case"negative":t=e.clientWidth-e.scrollWidth+t;break;case"reverse":t=e.scrollWidth-e.clientWidth-t}return t}function u(e){var t=y.exec(e);return t?v.test(t[0])?"rtl":"ltr":""}var h,d,p,f,_,m,g,y,v;i.r(t),i.d(t,"isRtl",function(){return d}),i.d(t,"stripLTRMarks",function(){return n}),i.d(t,"startWithLTR",function(){return r}),i.d(t,"forceLTRStr",function(){return o}),i.d(t,"forceLTRStrSsr",function(){return s}),i.d(t,"forceRTLStr",function(){return a}),i.d(t,"getLTRScrollLeft",function(){return l}),i.d(t,"getLTRScrollLeftOffset",function(){return c}),i.d(t,"detectAutoDirection",function(){return u}),h=i("oYVD"),d=function(){return"rtl"===window.document.dir},p="‎",f="‪",_="‫",m="‬",g=new RegExp(p+"|"+f+"|"+_+"|"+m,"g"),y=/[^\u0000-\u0040\u005B-\u0060\u007B-\u00BF\u00D7\u00F7\u02B9-\u02FF\u2000-\u200E\u2010-\u2029\u202C\u202F-\u2BFF]/,v=/[\u0590-\u07FF\u200F\u202B\u202E\uFB1D-\uFDFD\uFE70-\uFEFC]/},IiTo:function(e,t,i){"use strict";function n(e){return 0|e}function r(e,t){var i,n=l.clone(t),r=e.businessDaysToCalendarDays(n,1);if(r>1&&l.add_date(n,r-1),null===(i=e.leftBorderOfDailyBar(n)))throw new Error("Cannot calculate left border of daily bar");return l.cal_to_utc(l.get_timezone(e.timezone()),i)}function o(e,t){var i=l.get_day_of_week(t)-e.firstDayOfWeek();return i<0?i+7:i}function s(e,t){var i=l.get_day_of_year(t)-1,r=o(e,t)-i%7;return 0===r?n(i/7):(r>=0&&(r-=7),n((r+i)/7))}function a(e,t,i,n){
var r,o;return void 0===n&&(n=!1),o=(r=c.Interval.parse(e)).multiplier(),r.kind()===c.ResolutionKind.Minutes?new _(60*o,t):r.kind()===c.ResolutionKind.Seconds?new _(o,t):r.kind()===c.ResolutionKind.Range?new _(60*o,t):new g(t,i,o,function(e,t){switch(e){case c.ResolutionKind.Days:return new b(t);case c.ResolutionKind.Weeks:return new S(t);case c.ResolutionKind.Months:return new w}throw new Error("Unknown dwm resolution: "+e)}(r.kind(),t),n)}var l=i("jCNj"),c=(i("Kxc7"),i("LxhU")),u=i("mrSG"),h=i("E6p6"),d=i("5mo2"),p=function(){function e(e,t,i,n){this.init(e,t,i,n)}return e.prototype.init=function(e,t,i,n){this.timezone=l.get_timezone(e),this.spec=new d.SessionSpec(e,t,i,n)},e}(),f=function(){function e(){}return e.prototype.alignTime=function(e){if(isNaN(e))return NaN;var t=this.indexOfBar(e);return t===h.a.POST_SESSION&&(this.moveTo(e),t=this.indexOfBar(e)),t<0?NaN:this.startOfBar(t)},e}(),_=function(e){function t(t,i){var n=e.call(this)||this;return n._sessionStartMs=Number.MIN_VALUE,n._sessionEndMs=Number.MIN_VALUE,n._periodSec=t,n._session=i,n}return Object(u.__extends)(t,e),t.prototype.alignTimeIfPossible=function(e){var t=this.alignTime(e);return isNaN(t)?e:t},t.prototype.indexOfBar=function(e){return e<this._sessionStartMs?h.a.PRE_SESSION:e>=this._sessionEndMs?h.a.POST_SESSION:n(l.time_seconds_diff(e,this._sessionStartMs)/this._periodSec)},t.prototype.startOfBar=function(e){var t,i;if(e===h.a.PRE_SESSION)return t=l.get_cal_from_unix_timestamp_ms(this._session.timezone,this._sessionStartMs-1),i=this._session.spec.alignToNearestSessionEnd(t,-1),l.cal_to_utc(this._session.timezone,i);if(e===h.a.POST_SESSION)return this._sessionEndMs;if(e<0)throw new Error("Negative offset is not supported");return this._sessionStartMs+l.time_seconds(this._periodSec*e)},t.prototype.endOfBar=function(e){if(e<0)throw new Error("Index cannot be negative");var t=this.startOfBar(e)+1e3*this._periodSec;return t>this._sessionEndMs?this._sessionEndMs:t},t.prototype.isLastBar=function(e,t){return t>=this._sessionStartMs+l.time_seconds(this._periodSec*(e+1)-1)},t.prototype.moveTo=function(e){var t=this._session.timezone,i=l.utc_to_cal(t,e),n=this._session.spec,r=n.alignToSessionStart(i);this._sessionStartMs=l.cal_to_utc(t,i),l.add_minutes(i,r),this._sessionEndMs=l.cal_to_utc(t,i)},t.prototype.moveNext=function(){this.moveTo(this._sessionEndMs)},t}(f),m=i("OBgQ"),g=function(e){function t(t,i,n,r,o){void 0===o&&(o=!1);var s=e.call(this)||this;return s._periodStart=-Number.MAX_VALUE,s._periodEnd=-Number.MAX_VALUE,s._periodLastBarStart=-Number.MAX_VALUE,s._periodStartDay=new m.a(0,0,0),s._periodEndDay=new m.a(0,0,0),s._period=n,s._sessionTgt=t,s._builder=r,s._useBusinessDays=o,s._sessionSrc=o?new p("Etc/UTC","24x7"):i||t,s}return Object(u.__extends)(t,e),t.prototype.builder=function(){return this._builder},t.prototype.alignTimeIfPossible=function(e){return this.tradingDayToSessionStart(e)},t.prototype.tradingDayToSessionStart=function(e){return this.moveTo(e),this.startOfBar(0)},t.prototype.indexOfBar=function(e){if(this._useBusinessDays){
var t=m.a.fromCalendar(l.get_cal_from_unix_timestamp_ms(this._sessionSrc.timezone,e));return t.before(this._periodStartDay)?h.a.PRE_SESSION:this._periodEndDay.before(t)?h.a.POST_SESSION:0}return e<this._periodStart?h.a.PRE_SESSION:e>=this._periodEnd?h.a.POST_SESSION:0},t.prototype.startOfBar=function(e){var t,i;return e===h.a.PRE_SESSION?(t=l.get_cal_from_unix_timestamp_ms(this._sessionTgt.timezone,this._periodStart-1),i=this._sessionTgt.spec.alignToNearestSessionEnd(t,-1),l.cal_to_utc(this._sessionTgt.timezone,i)-1):e===h.a.POST_SESSION||e>0?this._periodEnd:e===h.a.LASTBAR_SESSION?this._periodLastBarStart:this._periodStart},t.prototype.moveTo=function(e){var t,i,n,o,s,a,c,u,h,d,p=l.get_cal_from_unix_timestamp_ms(this._sessionSrc.timezone,e);for(this._sessionSrc.spec.correctTradingDay(p),t=l.get_year(p),n=(i=this._indexOfPeriodInYear(p))+this._period,o=this._sessionTgt.spec,s=this._sessionTgt.timezone,a=this._builder.startOfPeriod(s,i,t),this._periodStart=r(o,a),c=l.clone(a),(u=o.businessDaysToCalendarDays(c,1))>1&&l.add_date(c,u-1),this._periodStartDay=m.a.fromCalendar(c),h=this._builder.startOfPeriod(s,n,t),this._periodEnd=r(o,h),d=l.clone(h),l.add_date(d,-1);o.isCalWeekEnd(d);)l.add_date(d,-1);this._periodEndDay=m.a.fromCalendar(d),l.add_date(h,-1),function(e,t){for(;e.isCalWeekEnd(t);)l.add_date(t,-1)}(this._sessionTgt.spec,h),this._periodLastBarStart=r(o,h),(this._periodLastBarStart<this._periodStart||this._periodLastBarStart===this._periodEnd)&&(this._periodLastBarStart=this._periodStart)},t.prototype.endOfBar=function(e){if(0!==e)throw new Error("index should be 0");return this._periodEnd},t.prototype.isLastBar=function(e,t){if(0!==e)throw new Error("index should be 0");return t>=this._periodLastBarStart},t.prototype.currentRange=function(){return{from:this._periodStartDay,to:this._periodEndDay}},t.prototype.indexOfBarInYear=function(e){var t=l.get_cal_from_unix_timestamp_ms(this._sessionSrc.timezone,e),i=l.get_year(t),n=this._builder.indexOfPeriod(t),o=this._sessionTgt.timezone,s=this._builder.startOfPeriod(o,n,i),a=r(this._sessionTgt.spec,s);return s=l.get_cal_from_unix_timestamp_ms(l.get_timezone("Etc/UTC"),a),i<l.get_year(s)?(s=this._builder.startOfPeriod(o,n-1,i),a=r(this._sessionTgt.spec,s),{index:(n-1)/this._period,time:a}):{index:n/this._period,time:a}},t.prototype._indexOfPeriodInYear=function(e){var t=this._builder.indexOfPeriod(e),i=n(t/this._period)*this._period;return-1===t&&(i=-this._period),i},t}(f),y=function(){function e(){}return e.prototype.indexOfPeriod=function(e){return l.get_day_of_year(e)-1},e.prototype.startOfPeriod=function(e,t,i){var n=l.days_per_year(i);return l.get_cal(l.get_timezone("Etc/UTC"),i,l.JANUARY,1+Math.min(t,n))},e}(),v=function(e){function t(t){var i=e.call(this)||this;return i._sessionsSpec=t,i}return Object(u.__extends)(t,e),t.prototype.indexOfPeriod=function(t){return e.prototype.indexOfPeriod.call(this,t)-function(e,t){var i,n=s(e,t),r=l.get_cal(l.get_timezone("Etc/UTC"),l.get_year(t),l.JANUARY,1);return l.add_date(r,7*n),
n*e.weekEndsCount()+e.holidaysFromYearStart(r)+(i=l.get_day_of_year(t)-l.get_day_of_year(r))-e.calendarDaysToBusinessDays(r,i)}(this._sessionsSpec,t)},t.prototype.startOfPeriod=function(t,i,r){var o,s,a=7-this._sessionsSpec.weekEndsCount(),c=Math.max(0,n(i/a)-1),u=l.get_cal(l.get_timezone("Etc/UTC"),r,l.JANUARY,1),h=l.get_days_per_year(u);return l.add_date(u,7*c),(i-=a*c-this._sessionsSpec.holidaysFromYearStart(u))>0&&(o=this._sessionsSpec.businessDaysToCalendarDays(u,i),l.add_date(u,o)),s=l.get_day_of_year(u)-1,r<l.get_year(u)&&(s+=h),e.prototype.startOfPeriod.call(this,t,s,r)},t}(y),b=function(){function e(e){this._builder=null,this._initialized=!1,this._session=e}return e.prototype.indexOfPeriod=function(e){return this._getBuilder().indexOfPeriod(e)},e.prototype.startOfPeriod=function(e,t,i){return this._getBuilder().startOfPeriod(e,t,i)},e.prototype._getBuilder=function(){return null!==this._builder&&this._initialized||(this._builder=this._session.spec.hasWeekEnds()?new v(this._session.spec):new y,this._initialized=!0),this._builder},e}(),S=function(){function e(e){this._session=e}return e.prototype.indexOfPeriod=function(e){var t,i=s(this._session.spec,e);return 0===i&&(t=l.get_timezone(this._session.spec.timezone()),e<this.startOfPeriod(t,0,l.get_year(e))&&(i=-1)),i},e.prototype.startOfPeriod=function(e,t,i){var n=l.get_cal(l.get_timezone("Etc/UTC"),i,l.JANUARY,1),r=o(this._session.spec,n),s=0===r?7*t:7*(t+1)-r,a=l.get_days_per_year(n);return s>a?this.startOfPeriod(e,0,i+1):(l.add_date(n,s),n)},e}(),w=function(){function e(){}return e.prototype.indexOfPeriod=function(e){return l.get_month(e)},e.prototype.startOfPeriod=function(e,t,i){if(t<0){var r=n((11-t)/12);i-=r,t+=12*r}else t>l.DECEMBER&&(i++,t=l.JANUARY);return l.get_cal(l.get_timezone("Etc/UTC"),i,t,1)},e}();i.d(t,"b",function(){return a}),i.d(t,"a",function(){return p}),new p("Etc/UTC","0000-0000:1234567")},IjC5:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u;i.r(t),i.d(t,"RectangleRenderer",function(){return u}),n=i("Eyy1"),r=i("f6yo"),o=i("aO4+"),s=i("GEp6"),a=i("VdBB"),l=i("Tmoa"),c=i("jFln"),u=function(){function e(e,t,i){this._data=null,this._hitTestResult=e||new a.HitTestResult(a.HitTestResult.MOVEPOINT),this._backHitTestResult=t||new a.HitTestResult(a.HitTestResult.MOVEPOINT_BACKGROUND),this._forceOverrideTransparency=Boolean(i)}return e.prototype.setData=function(e){this._data=e},e.prototype.hitTest=function(e){var t,i,n,a,l,c,u,h,d;return null===this._data||this._data.points.length<2||this._data.nohittest?null:(i=(t=this._data.points)[0],n=t[1],a=new o.Point(n.x,i.y),l=new o.Point(i.x,n.y),Object(s.distanceToSegment)(i,a,e).distance<=3?this._hitTestResult:Object(s.distanceToSegment)(a,n,e).distance<=3?this._hitTestResult:Object(s.distanceToSegment)(n,l,e).distance<=3?this._hitTestResult:Object(s.distanceToSegment)(l,i,e).distance<=3?this._hitTestResult:this._data.fillBackground&&(c=Math.min(i.x,n.x),u=Math.max(i.x,n.x),h=Math.min(i.y,n.y),d=Math.max(i.y,n.y),i=new o.Point(c,h),n=new o.Point(u,d),
Object(r.pointInBox)(e,Object(o.box)(i,n)))?this._backHitTestResult:null)},e.prototype.getColor=function(){var e=Object(n.ensure)(this._data);return void 0===e.transparency?e.backcolor:Object(l.generateColor)(e.backcolor,e.transparency,this._forceOverrideTransparency)},e.prototype.draw=function(e,t){var i,n,r,o,s,a,l,u,h;null===this._data||this._data.points.length<2||(i=t.pixelRatio,e.lineCap="butt",e.strokeStyle=this._data.color,e.lineWidth=Math.max(1,Math.floor(this._data.linewidth*i)),void 0!==this._data.linestyle&&Object(c.setLineStyle)(e,this._data.linestyle),r=(n=this._data.points)[0],o=n[1],s=e.lineWidth%2?.5:0,a=Math.round(r.x*i)+s,l=Math.round(o.x*i)+s,u=Math.round(r.y*i)+s,h=Math.round(o.y*i)+s,e.beginPath(),e.moveTo(a,u),e.lineTo(a,h),e.lineTo(l,h),e.lineTo(l,u),e.lineTo(a,u),this._data.linewidth>0&&e.stroke(),this._data.fillBackground&&(e.fillStyle=this.getColor(),e.fill()))},e}()},InMJ:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolFlatBottom";var o=t||n.createProperties();r.call(this,e,o),this.version=n.version,Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("gr7S").FlatBottomPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=window.t("Flat Bottom");inherit(n,r),n.version=1,n.prototype.pointsCount=function(){return 3},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Flat Bottom"},n.prototype.hasEditableCoordinates=function(){return!1},n.prototype.addPoint=function(e,t){return t&&t.shift()&&2===this.points().length&&this._snapPoint45Degree(e,this.points()[this.points().length-2]),r.prototype.addPoint.call(this,e)},n.prototype.setLastPoint=function(e,t){return t&&t.shift()&&2===this.points().length&&this._snapPoint45Degree(e,this.points()[this.points().length-2]),r.prototype.setLastPoint.call(this,e)},n.prototype.setPoint=function(e,t,i){if(i&&i.shift()&&1===e){this._snapPoint45Degree(t,this.points()[0])}if(2===e)this._points[1].index=t.index;else if(3===e)return this._points[0].index=t.index,void(this._points[2].price=t.price);r.prototype.setPoint.call(this,e,t)},n.prototype.canHasAlert=function(){return!0},n.prototype._getAlertPlots=function(){var e,t,i,n,r,o,s,a,l,c=this._points[0],u=this._points[1],h=[];return c.index<=u.index?(h.push(c),h.push(u)):(h.push(u),h.push(c)),(e=this._points[2]).time=u.time,e.index=u.index,t={price:e.price,time:c.time,index:c.index},i=[],e.index<=t.index?(i.push(e),i.push(t)):(i.push(t),i.push(e)),h[0].price>i[0].price?(n=h,r=i):i[0].price>h[0].price?(n=i,r=h):i[1].price>h[1].price?(n=i,r=h):(n=h,r=i),a=this.properties().extendLeft.value(),l=this.properties().extendRight.value(),c.index<=u.index?(o=a,s=l):(o=l,s=a),[this._linePointsToAlertPlot(n,"Upper",o,s),this._linePointsToAlertPlot(r,"Lower",a,s)]},n.prototype.getInputsPropertyPage=function(){return null},n.prototype.getStylesPropertyPage=function(){return s.LineToolFlatBottomStylesPropertyPage},
n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("vm8R").GeneralTrendFiguresDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new o("linetoolflatbottom",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolFlatBottom=n},IpW8:function(e,t,i){"use strict";i.r(t),i.d(t,"RESULTS",function(){return n});var n={EXTERNAL:"Program Close",TIMEOUT:"Timeout Close",MANUAL_CLOSE:"User Close",BUTTON_DISMISS:"Button Dismiss",BUTTON_ACTION:"Button Action"}},IzGk:function(e,t,i){"use strict";function n(e){var t=Object(r.getTranslatedResolutionModel)(e,!0);return null===t?e:t.multiplier+(t.mayOmitShortKind?"":t.shortKind)}var r;i.r(t),i.d(t,"translatedIntervalString",function(){return n}),i("YFKU"),r=i("pPtI")},JOqt:function(e,t,i){"use strict";i.r(t),i.d(t,"debounce",function(){return n});var n=function(e,t){function i(){e.apply(r,n)}var n,r,o=0;return function(){r=this,n=arguments,clearTimeout(o),o=setTimeout(i,t)}}},JT5O:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"StudyMarket",function(){return o}),n=i("aIyQ"),r=i.n(n),o=function(){function e(e,t){this.visibilityChanged=new r.a,this._dialogPromise=null,this._dialog=null,this._chartWidgetCollection=e,this._options=t}return e.prototype.isVisible=function(){return null!==this._dialog&&this._dialog.isVisible()},e.prototype.show=function(e){var t;null===this._dialog&&this._requestDialog(e),null===(t=this._dialog)||void 0===t||t.open(e)},e.prototype.hide=function(){var e;null===(e=this._dialog)||void 0===e||e.hide()},e.prototype.onCustomScriptModified=function(){var e;null===(e=this._dialog)||void 0===e||e.updateUserStudies()},e.prototype.resetAllPages=function(){var e;null===(e=this._dialog)||void 0===e||e.resetAllStudies()},e.prototype._requestDialog=function(e){var t,n,r=this;return null===this._dialogPromise&&(n=void 0,n=(null===(t=this._options)||void 0===t?void 0:t.onWidget)?Promise.all([i.e(4),i.e(9),i.e(21),i.e(33),i.e(75),i.e(128),i.e(178),i.e(196),i.e(17),i.e(53),i.e(113),i.e("study-market")]).then(i.bind(null,"zbLM")).then(function(e){return new e.IndicatorsLibraryContainer(r._chartWidgetCollection,r._options)}):Promise.all([i.e(4),i.e(9),i.e(21),i.e(33),i.e(75),i.e(128),i.e(178),i.e(196),i.e(17),i.e(53),i.e(113),i.e("study-market")]).then(i.bind(null,"Sr30")).then(function(e){return new e.IndicatorsContainer(r._chartWidgetCollection)}),this._dialogPromise=n.then(function(t){r._dialog=t,r._dialog.getVisibilityChanged().subscribe(null,function(e){r.visibilityChanged.fire(e)}),r._dialog.open(e)})),this._dialogPromise},e}()},JUKA:function(e,t){e.exports=[{value:"",name:"All Exchanges",desc:window.t("All Exchanges"),flag:"",country:"",group:"AllExchanges"},{value:"BITHUMB",name:"Bithumb",desc:window.t("Bithumb"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"796",name:"796",desc:window.t("796"),flag:"bitcoin",group:"Cryptocurrency",
hideInSymbolSearch:!0,country:""},{value:"COINFLOOR",name:"Coinfloor",desc:window.t("Coinfloor"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"DERIBIT",name:"Deribit",desc:window.t("Deribit"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"BITBAY",name:"BitBay",desc:window.t("BitBay"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"CURRENCYCOM",name:"Currencycom",desc:window.t("Currencycom"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"OKEX",name:"OKEx",desc:window.t("OKEx"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"DFM",name:"DFM",desc:window.t("DFM — Dubai Financial Market"),flag:"ae",group:"Middle East / Africa",country:"ae"},{value:"LSE",name:"LSE",desc:window.t("LSE — London Stock Exchange (UK Companies)"),flag:"uk",group:"Europe",country:"uk"},{value:"LSIN",name:"LSIN",desc:window.t("LSIN — London Stock Exchange (International Companies)"),flag:"uk",group:"Europe",country:"uk"},{value:"EUREX",name:"EUREX",desc:window.t("EUREX — Eurex Exchange"),flag:"europe",group:"Europe",country:"eu"},{value:"MGEX",name:"MGEX",desc:window.t("MGEX — Futures"),flag:"usa",hideInSymbolSearch:!0,group:"North America",country:"us"},{value:"NASDAQ",name:"NASDAQ",desc:window.t("NASDAQ — NASDAQ Stock Market"),flag:"usa",group:"North America",country:"us",priorityInGroup:1},{value:"NYSE",name:"NYSE",desc:window.t("NYSE — New York Stock Exchange"),flag:"usa",group:"North America",country:"us",priorityInGroup:2},{value:"AMEX",name:"ARCA",desc:window.t("ARCA — ARCA & MKT"),flag:"usa",group:"North America",country:"us",priorityInGroup:3},{value:"OTC",name:"OTC",desc:window.t("OTC — OTC Markets"),flag:"usa",group:"North America",country:"us",priorityInGroup:4},{value:"DJ",name:"DJ",desc:window.t("DJ — Dow Jones Indices"),flag:"usa",group:"North America",country:"us",priorityInGroup:5},{value:"SP",name:"SP",desc:window.t("SP — S&P Indices"),flag:"usa",group:"North America",country:"us",priorityInGroup:6},{value:"CBOE",name:"CBOE",desc:window.t("CBOE — Chicago Board Options Exchange"),flag:"usa",group:"North America",country:"us",priorityInGroup:7},{value:"CBOT",name:"CBOT",desc:window.t("CBOT — Chicago Board of Trade"),flag:"usa",group:"North America",country:"us",priorityInGroup:8},{value:"CME",name:"CME GLOBEX",desc:window.t("CME GLOBEX — Chicago Mercantile Exchange Globex"),flag:"usa",group:"North America",country:"us",priorityInGroup:9},{value:"COMEX",name:"COMEX",desc:window.t("COMEX — Commodity Exchange"),flag:"usa",group:"North America",country:"us",priorityInGroup:10},{value:"NYMEX",name:"NYMEX",desc:window.t("NYMEX — New York Mercantile Exchange"),flag:"usa",group:"North America",country:"us",priorityInGroup:11},{value:"ICEUSA",name:"ICEUSA",desc:window.t("ICEUSA — ICE Futures U.S."),flag:"usa",group:"North America",country:"us",priorityInGroup:12},{value:"CSE",name:"CSE",desc:window.t("CSE — Canadian Securities Exchange"),flag:"canada",group:"North America",country:"ca",priorityInGroup:13},{value:"NEO",name:"NEO",desc:window.t("NEO — NEO Exchange"),flag:"canada",
group:"North America",country:"ca",priorityInGroup:14},{value:"TSX",name:"TSX",desc:window.t("TSX — Toronto Stock Exchange"),flag:"canada",group:"North America",country:"ca",priorityInGroup:15},{value:"TSXV",name:"TSXV",desc:window.t("TSXV — TSX Venture Exchange"),flag:"canada",group:"North America",country:"ca",priorityInGroup:16},{value:"MOEX",name:"MOEX",desc:window.t("MOEX — Moscow Exchange"),flag:"russia",group:"Europe",country:"ru"},{value:"MYX",name:"MYX",desc:window.t("MYX — Bursa Malaysia Berhad"),flag:"malaysia",group:"Asia / Pacific",country:"my"},{value:"FTSEMYX",name:"FTSE",desc:window.t("FTSE — Bursa Malaysia FTSE Indices"),flag:"malaysia",group:"Asia / Pacific",country:"my"},{value:"HOSE",name:"HOSE",desc:window.t("HOSE — Ho Chi Minh City Stock Exchange"),flag:"vietnam",group:"Asia / Pacific",country:"vn"},{value:"BITSTAMP",name:"Bitstamp",desc:window.t("Bitstamp"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"FX",name:"FXCM",desc:window.t("FXCM"),flag:"forex",group:"Forex",country:""},{value:"MERCADO",name:"Mercado",desc:window.t("Mercado"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"BTCE",name:"BTC-e",desc:window.t("BTC-E"),flag:"bitcoin",group:"Cryptocurrency",hideInSymbolSearch:!0,country:""},{value:"GOCIO",name:"Gocio",desc:window.t("Gocio"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"BTCYOU",name:"BTCYou",desc:window.t("BTCYou"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"HITBTC",name:"HitBTC",desc:window.t("HitBTC"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"BSE",name:"BSE",desc:window.t("BSE — Bombay Stock Exchange"),flag:"india",group:"Asia / Pacific",country:"in"},{value:"NYMEX_MINI",name:"NYMEX E-mini",desc:window.t("NYMEX E-mini — New York Mercantile Exchange"),flag:"usa",group:"North America",hideInSymbolSearch:!0,country:"us"},{value:"COMEX_MINI",name:"COMEX E-mini",desc:window.t("COMEX E-mini — Commodity Exchange"),flag:"usa",group:"North America",hideInSymbolSearch:!0,country:"us"},{value:"ICEEUR",name:"ICEEUR",desc:window.t("ICEEUR — ICE Futures Europe"),flag:"europe",group:"Europe",country:"eu"},{value:"NSE",name:"NSE",desc:window.t("NSE — National Stock Exchange of India"),flag:"india",group:"Asia / Pacific",country:"in"},{value:"MCX",name:"MCX",desc:window.t("MCX — Multi Commodity Exchange"),flag:"india",group:"Asia / Pacific",country:"in"},{value:"KCBT",name:"KCBT",desc:window.t("KCBT Futures"),flag:"usa",hideInSymbolSearch:!0,group:"North America",country:"us"},{value:"OKCOIN",name:"Okcoin",desc:window.t("Okcoin"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"CBOT_MINI",name:"CBOT E-mini",desc:window.t("CBOT E-mini — Chicago Board of Trade"),flag:"usa",group:"North America",hideInSymbolSearch:!0,country:"us"},{value:"KRAKEN",name:"Kraken",desc:window.t("Kraken"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"KUCOIN",name:"KuCoin",desc:window.t("KuCoin"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"CME_MINI",name:"CME E-mini",
desc:window.t("CME GLOBEX E-mini — Chicago Mercantile Exchange Globex"),flag:"usa",group:"North America",hideInSymbolSearch:!0,country:"us"},{value:"DJ",name:"DJ",desc:window.t("DJ — Dow Jones Indexes"),flag:"usa",hideInSymbolSearch:!0,group:"North America",country:"us"},{value:"SP",name:"SP",desc:window.t("SP — S&P Indexes"),flag:"usa",hideInSymbolSearch:!0,group:"North America",country:"us"},{value:"BTCCHINA",name:"BTC China",desc:window.t("BTC China"),flag:"bitcoin",group:"Cryptocurrency",hideInSymbolSearch:!0,country:""},{value:"HUOBI",name:"Huobi",desc:window.t("Huobi"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"KORBIT",name:"Korbit",desc:window.t("Korbit"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"THEROCKTRADING",name:"The Rock Trading",desc:window.t("The Rock Trading"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"ANX",name:"ANX",desc:window.t("ANX"),flag:"bitcoin",group:"Cryptocurrency",hideInSymbolSearch:!0,country:""},{value:"MEXBT",name:"meXBT",desc:window.t("meXBT"),flag:"bitcoin",group:"Cryptocurrency",hideInSymbolSearch:!0,country:""},{value:"FTX",name:"FTX",desc:window.t("FTX"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"GEMINI",name:"Gemini",desc:window.t("Gemini"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"BITVC",name:"BitVC",desc:window.t("BitVC"),flag:"bitcoin",group:"Cryptocurrency",hideInSymbolSearch:!0,country:""},{value:"BITYES",name:"BitYes",desc:window.t("BitYes"),flag:"bitcoin",group:"Cryptocurrency",hideInSymbolSearch:!0,country:""},{value:"BNC",name:"BNC",desc:window.t("BNC"),flag:"bitcoin",group:"Cryptocurrency",hideInSymbolSearch:!0,country:""},{value:"BITFLYER",name:"bitFlyer",desc:window.t("bitFlyer"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"BYBIT",name:"Bybit",desc:window.t("Bybit"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"BITMEX",name:"BitMEX",desc:window.t("BitMEX"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"BITPANDAPRO",name:"Bitpanda Pro",desc:window.t("Bitpanda Pro"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"FOREXCOM",name:"FOREX.com",desc:window.t("FOREX.com"),flag:"forex",group:"Forex",country:""},{value:"FX_IDC",name:"ICE",desc:window.t("ICE Data Services"),flag:"forex",group:"Forex",country:""},{value:"CEXIO",name:"CEX.IO",desc:window.t("CEX.IO"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"BITSO",name:"Bitso",desc:window.t("Bitso"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"BITFINEX",name:"Bitfinex",desc:window.t("Bitfinex"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"MTGOX",name:"Mt.Gox",desc:window.t("Mt.Gox"),flag:"bitcoin",group:"Cryptocurrency",hideInSymbolSearch:!0,country:""},{value:"POLONIEX",name:"Poloniex",desc:window.t("Poloniex"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"BITTREX",name:"Bittrex",desc:window.t("Bittrex"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"BINANCE",name:"Binance",desc:window.t("Binance"),flag:"bitcoin",group:"Cryptocurrency",country:""
},{value:"BCBA",name:"BYMA",desc:window.t("BYMA — Argentine Stock Exchanges and Markets"),flag:"argentina",group:"Mexico and South America",country:"ar"},{value:"BMFBOVESPA",name:"B3",desc:window.t("B3 — Brasil Bolsa Balcao S.A."),flag:"brasil",group:"Mexico and South America",country:"br"},{value:"BMV",name:"BMV",desc:window.t("BMV — Mexican Stock Exchange"),flag:"mexico",group:"Mexico and South America",country:"mx"},{value:"BVL",name:"BVL",desc:window.t("BVL — Bolsa de Valores de Lima"),flag:"peru",group:"Mexico and South America",country:"pe"},{value:"BCS",name:"SSE",desc:window.t("SSE — Santiago Stock Exchange"),flag:"chile",group:"Mexico and South America",country:"cl"},{value:"BVC",name:"BVC",desc:window.t("BVC — Bolsa de Valores de Colombia"),flag:"colombia",group:"Mexico and South America",country:"co"},{value:"NAG",name:"NSE",desc:window.t("NSE — Nagoya Stock Exchange"),flag:"japan",group:"Asia / Pacific",country:"jp"},{value:"TSE",name:"TSE",desc:window.t("TSE — Tokyo Stock Exchange"),flag:"japan",group:"Asia / Pacific",country:"jp"},{value:"TFEX",name:"TFEX",desc:window.t("TFEX — Thailand Futures Exchange"),flag:"thailand",group:"Asia / Pacific",country:"th"},{value:"TFX",name:"TFX",desc:window.t("TFX — Tokyo Financial Exchange"),flag:"japan",group:"Asia / Pacific",country:"jp"},{value:"TOCOM",name:"TOCOM",desc:window.t("TOCOM — Tokyo Commodity Exchange"),flag:"japan",group:"Asia / Pacific",country:"jp"},{value:"OSE",name:"OSE",desc:window.t("OSE — Osaka Securities Exchange"),flag:"japan",group:"Asia / Pacific",country:"jp"},{value:"SGX",name:"SGX",desc:window.t("SGX — Singapore Stock Exchange"),flag:"singapore",group:"Asia / Pacific",country:"sg"},{value:"SAPSE",name:"SSE",desc:window.t("SSE — Sapporo Securities Exchange"),flag:"japan",group:"Asia / Pacific",country:"jp"},{value:"FSE",name:"FSE",desc:window.t("FSE — Fukuoka Stock Exchange"),flag:"japan",group:"Asia / Pacific",country:"jp"},{value:"TWSE",name:"TWSE",desc:window.t("TWSE — Taiwan Stock Exchange"),flag:"taiwan",group:"Asia / Pacific",country:"tw"},{value:"SET",name:"SET",desc:window.t("SET — Stock Exchange of Thailand"),flag:"thailand",group:"Asia / Pacific",country:"th"},{value:"KRX",name:"KRX",desc:window.t("KRX — Korea Stock Exchange"),flag:"south_korea",group:"Asia / Pacific",country:"kr"},{value:"BAHRAIN",name:"BSE",desc:window.t("BSE — Bahrain Stock Exchange"),flag:"bahrain",group:"Middle East / Africa",country:"bh"},{value:"BELEX",name:"BELEX",desc:window.t("BELEX — Belgrade Stock Exchange"),flag:"serbia",group:"Europe",country:"rs"},{value:"EGX",name:"EGX",desc:window.t("EGX — Egyptian Exchange"),flag:"egypt",group:"Middle East / Africa",country:"eg"},{value:"TADAWUL",name:"Tadawul",desc:window.t("Tadawul — Saudi Stock Exchange"),flag:"saudi_arabia",group:"Middle East / Africa",country:"sa"},{value:"IDX",name:"IDX",desc:window.t("IDX — Indonesia Stock Exchange"),flag:"indonesia",group:"Asia / Pacific",country:"id"},{value:"HSI",name:"HSI",desc:window.t("HSI — Hang Seng Indices"),flag:"hong_kong",group:"Asia / Pacific",country:"hk"},{
value:"QSE",name:"QSE",desc:window.t("QSE — Qatar Stock Exchange"),flag:"qatar",group:"Middle East / Africa",country:"qa"},{value:"OANDA",name:"OANDA",desc:window.t("OANDA"),flag:"forex",group:"Forex",country:""},{value:"SAXO",name:"Saxo",desc:window.t("Saxo"),flag:"forex",group:"Forex",country:""},{value:"EURONEXT",name:"Euronext",desc:window.t("Euronext — Euronext NV"),flag:"europe",group:"Europe",country:"eu"},{value:"EURONEXTAMS",name:"EURONEXTAMS",desc:window.t("Euronext — Euronext Amsterdam"),flag:"netherlands",group:"Europe",country:"nl"},{value:"EURONEXTBRU",name:"EURONEXTBRU",desc:window.t("Euronext — Euronext Brussels"),flag:"belgium",group:"Europe",country:"be"},{value:"EURONEXTLIS",name:"EURONEXTLIS",desc:window.t("Euronext — Euronext Lisbon"),flag:"portugal",group:"Europe",country:"pt"},{value:"EURONEXTPAR",name:"EURONEXTPAR",desc:window.t("Euronext — Euronext Paris"),flag:"france",group:"Europe",country:"fr"},{value:"OMX",name:"OMX",desc:window.t("OMX — Nasdaq OMX Group"),flag:"europe",group:"Europe",country:"eu"},{value:"FWB",name:"FWB",desc:window.t("FWB — Frankfurt Stock Exchange"),flag:"germany",group:"Europe",country:"de"},{value:"FRA",name:"FRA",desc:window.t("FRA — Frankfurt Stock Exchange"),flag:"germany",hideInSymbolSearch:!0,group:"Europe",country:"de"},{value:"SWB",name:"SWB",desc:window.t("SWB — Stuttgart Stock Exchange"),flag:"germany",group:"Europe",country:"de"},{value:"XETR",name:"XETR",desc:window.t("XETR — Xetra"),flag:"germany",group:"Europe",country:"de"},{value:"BME",name:"BME",desc:window.t("BME — Bolsa de Madrid"),flag:"spain",group:"Europe",country:"es"},{value:"GPW",name:"GPW",desc:window.t("GPW — Warsaw Stock Exchange"),flag:"poland",group:"Europe",country:"pl"},{value:"MIL",name:"MIL",desc:window.t("MIL — Milan Stock Exchange"),flag:"italy",group:"Europe",country:"it"},{value:"MILSEDEX",name:"MILSEDEX",desc:window.t("MILSEDEX — Milan Stock Exchange"),flag:"italy",group:"Europe",hideInSymbolSearch:!0,country:"it"},{value:"OSL",name:"OSE",desc:window.t("OSE — Oslo Stock Exchange"),flag:"norway",group:"Europe",country:"no"},{value:"IST",name:"IST",desc:window.t("IST — Istanbul Stock Exchange"),flag:"turkey",hideInSymbolSearch:!0,group:"Europe",country:"tr"},{value:"BIST",name:"BIST",desc:window.t("BIST — Borsa Istanbul"),flag:"turkey",group:"Europe",country:"tr"},{value:"TASE",name:"TASE",desc:window.t("TASE — Tel Aviv Stock Exchange"),flag:"israel",group:"Middle East / Africa",country:"il"},{value:"SIX",name:"SIX",desc:window.t("SIX — Swiss Stock Exchange"),flag:"switzerland",hideInSymbolSearch:!0,group:"Europe",country:"ch"},{value:"SIX",name:"SIX",desc:window.t("SIX — SIX Swiss Exchange"),flag:"switzerland",group:"Europe",country:"ch"},{value:"ASX",name:"ASX",desc:window.t("ASX — Australian Securities Exchange"),flag:"australia",group:"Asia / Pacific",country:"au"},{value:"NZX",name:"NZX",desc:window.t("NZX — New Zealand Stock Exchange"),flag:"new_zealand",group:"Asia / Pacific",country:"nz"},{value:"SSE",name:"SSE",desc:window.t("SSE — Shanghai Stock Exchange"),flag:"china",
group:"Asia / Pacific",country:"cn"},{value:"SZSE",name:"SZSE",desc:window.t("SZSE — Shenzhen Stock Exchange"),flag:"china",group:"Asia / Pacific",country:"cn"},{value:"HKEX",name:"HKEX",desc:window.t("HKEX — Hong Kong Exchange"),flag:"hong_kong",group:"Asia / Pacific",country:"hk"},{value:"NSENG",name:"NSE",desc:window.t("NSE — Nigerian Stock Exchange"),flag:"nigeria",group:"Middle East / Africa",country:"ng"},{value:"JSE",name:"JSE",desc:window.t("JSE — Johannesburg Stock Exchange"),flag:"south_africa",group:"Middle East / Africa",country:"za"},{value:"COINBASE",name:"Coinbase",desc:window.t("Coinbase"),flag:"bitcoin",group:"Cryptocurrency",country:""},{value:"USI",name:"USI",desc:window.t("USI"),flag:"usa",hideInSymbolSearch:!0,group:"North America",country:"us"},{value:"OMXHEX",name:"HEX",desc:window.t("HEX — Nasdaq Helsinki"),flag:"finland",group:"Europe",country:"fi"},{value:"OMXICE",name:"ICEX",desc:window.t("ICEX — Nasdaq Iceland"),flag:"iceland",group:"Europe",country:"is"},{value:"OMXCOP",name:"CSE",desc:window.t("CSE — Nasdaq Copenhagen"),flag:"denmark",group:"Europe",country:"dk"},{value:"OMXSTO",name:"STO",desc:window.t("STO — Nasdaq Stockholm"),flag:"sweden",group:"Europe",country:"se"},{value:"OMXVSE",name:"VSE",desc:window.t("VSE — Nasdaq Vilnius"),flag:"lithuania",group:"Europe",country:"lt"},{value:"OMXTSE",name:"TALSE",desc:window.t("TALSE — Nasdaq Tallinn"),flag:"estonia",group:"Europe",country:"ee"},{value:"OMXRSE",name:"OMXR",desc:window.t("OMXR — Nasdaq Riga"),flag:"latvia",group:"Europe",country:"lv"},{value:"OMXNORDIC",name:"OMXNORDIC",desc:window.t("OMXNORDIC"),flag:"europe",hideInSymbolSearch:!0,group:"Europe",country:"eu"},{value:"OMXBALTIC",name:"OMXBALTIC",desc:window.t("OMXBALTIC"),flag:"europe",hideInSymbolSearch:!0,group:"Europe",country:"eu"}]},"JUY+":function(e,t,i){"use strict";function n(){return new Promise(function(e){null===a?Promise.all([i.e("vendors_embed"),i.e(19),i.e(58),i.e(63),i.e(55),i.e(80),i.e(88),i.e(116),i.e(114),i.e(144),i.e(152),i.e(169),i.e("price-alerts-dispatcher")]).then(i.t.bind(null,"3Tqy",7)).then(function(t){null===a&&(a=new t.AlertsDispatcher,window.initData.offlineAlertEventsOnInit&&a.showOfflineEvents()),e(a)}):e(a)})}function r(){return a}function o(e){return null===a&&(a=e,!0)}var s,a;i.r(t),i.d(t,"getPriceAlertsDispatcher",function(){return n}),i.d(t,"getPriceAlertsDispatcherIfExists",function(){return r}),i.d(t,"setPriceAlertsDispatcherIfNotExists",function(){return o}),s=i("iKPL"),a=null},"JWp+":function(e,t,i){"use strict";function n(e){if(e.ok)return e.json();throw new Error("not ok")}function r(e,t){var i={count:t};return e&&(i.lastId=e),$.ajax({url:"/global-notifications/",cache:!1,dataType:"json",type:"GET",data:i})}function o(e,t,i){$.getJSON("/my-charts/",{limit:i},e).fail(t)}function s(e,t){$.getJSON(E+"charts/count/",void 0,e).fail(t)}function a(e){var t=Object(S.b)({chartId:e.url});/^\/chart(\/|$)/.test(location.pathname)?open(t,Object(I.isOnMobileAppPage)("new")?"_self":"_blank"):location.href=t}function l(e,t,i,n,r,o,s){var a,l,c
;(a=n.content,c=new Promise(function(e,t){var i=setTimeout(t,5e3,new Error("Loading timed out"));(l=C.pop()||new w).onerror=t,l.onmessageerror=t,l.onmessage=function(n){clearTimeout(i),"done"===n.data.type?e(n.data.payload):i=setTimeout(t,3e4,new Error("Processing timed out"))},l.postMessage({type:"do",payload:a})}),c.then(function(){C.length<1?(delete l.onerror,delete l.onmessage,delete l.onmessageerror,C.push(l)):l.terminate()},function(e){T.logError("Worker request failed: "+e.message),l.terminate()}),c).catch(function(){return null}).then(function(e){var t,i=new FormData;for(t in n)"content"===t&&e?i.append(t,new Blob([e],{type:"application/gzip"}),"blob.gz"):i.append(t,String(n[t]));return fetch("/savechart/",{method:"POST",credentials:"same-origin",body:i})}).then(function(e){if(!e.ok)throw e;return e.text()}).then(o,s)}function c(e,t){$.post("/deletechart/",{uid:[e]},function(e){e.error||("string"==typeof t?document.location.href=t:"function"==typeof t?t():window.location.reload())})}function u(e){null===L&&(L=Object(x.fetch)("/api/v1/study-templates",{credentials:"same-origin"}).then(n).then(function(e){var t,i,n,r,o=new Set((e.standard||[]).map(function(e){return e.name})),s=(e.custom||[]).map(function(e){return Object(b.__assign)(Object(b.__assign)({},e),{is_default:!1})});for(t=0,i=s;t<i.length;t++)n=i[t],o.delete(n.name);return r=(e.standard||[]).filter(function(e){return o.has(e.name)}).map(function(e){return Object(b.__assign)(Object(b.__assign)({},e),{is_default:!0})}),Object(b.__spreadArrays)(s,r)})),L.then(e)}function h(){L=null}function d(e,t){var i;(i={name:e.name,content:e.content,meta_info:e.meta_info||{indicators:[]}},Object(x.fetch)("/api/v1/study-templates",{credentials:"same-origin",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(function(e){if(e.ok)return e.json().then(function(e){return{result:e}});switch(e.status){case 403:return e.json().then(function(e){return{error:e.code}});case 422:return e.json().then(function(e){return{error:e.code,id:e.id}});default:throw new Error("not ok")}})).then(t)}function p(e,t){$.get("/study-template/?templateName="+encodeURIComponent(e),t)}function f(e,t){$.post("/remove-study-template/",{name:e},t)}function _(e,t){(function(e){return Object(x.fetch)("/api/v1/study-templates/"+e,{credentials:"same-origin"}).then(n)})(e).then(t)}function m(e,t){(function(e){return Object(x.fetch)("/api/v1/study-templates/standard/"+e,{credentials:"same-origin"}).then(n)})(e).then(t)}function g(e,t){(function(e){return Object(x.fetch)("/api/v1/study-templates/"+e,{credentials:"same-origin",method:"DELETE"}).then(function(e){if(!e.ok)throw new Error("not ok")})})(e).then(t)}function y(e,t,i){(function(e,t){return Object(x.fetch)("/api/v1/study-templates/"+e,{credentials:"same-origin",method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(n)})(e,{name:t}).then(i)}function v(e,t,i){(function(e,t){return Object(x.fetch)("/api/v1/study-templates/"+e,{credentials:"same-origin",method:"PUT",headers:{
"Content-Type":"application/json"},body:JSON.stringify(t)}).then(n)})(e,{name:t.name,content:t.content,meta_info:t.meta_info||{indicators:[]}}).then(i)}var b,S,w,P,T,C,x,I,E,L;i.r(t),b=i("mrSG"),i("P5fv"),S=i("BxxN"),w=i("gOE2"),P=i("uOxu"),T=Object(P.getLogger)("Lib.AsyncGzip"),C=[],x=i("BHQF"),I=i("qFKp"),i.d(t,"getGlobalNotifications",function(){return r}),i.d(t,"getCharts",function(){return o}),i.d(t,"getChartsCount",function(){return s}),i.d(t,"loadChart",function(){return a}),i.d(t,"saveChart",function(){return l}),i.d(t,"removeChart",function(){return c}),i.d(t,"getStudyTemplatesList",function(){return u}),i.d(t,"invalidateStudyTemplatesList",function(){return h}),i.d(t,"saveStudyTemplate",function(){return d}),i.d(t,"getStudyTemplateContent",function(){return p}),i.d(t,"removeStudyTemplate",function(){return f}),i.d(t,"getStudyTemplateContentById",function(){return _}),i.d(t,"getStandardStudyTemplateContentById",function(){return m}),i.d(t,"removeStudyTemplateById",function(){return g}),i.d(t,"renameStudyTemplate",function(){return y}),i.d(t,"replaceStudyTemplate",function(){return v}),E="/api/v1/",L=null},JgDS:function(e,t,i){"use strict";function n(e){var t={};return l.forEach(function(i){var n=e[i];"string"==typeof n&&""!==n&&(t[i]=Object(a.htmlEscape)(n))}),t}function r(e,t){void 0===t&&(t=!1);var i=Object(s.createUrlParams)(e);return i&&t?"?"+i:i}function o(e){var t=Object(s.getUrlParams)(),i=n(t);return r(i,e)}var s,a,l;i.r(t),i.d(t,"UTM_PARAM_NAMES",function(){return l}),i.d(t,"filterUtmInfo",function(){return n}),i.d(t,"buildUtmQueryString",function(){return r}),i.d(t,"buildUtmQueryStringFromUrlParams",function(){return o}),s=i("B+p7"),a=i("LIFs"),l=["utm_source","utm_medium","utm_campaign"]},JjUe:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h,d,p,f,_,m,g,y,v;i.r(t),i.d(t,"OverlayDataWindowView",function(){return v}),n=i("mrSG"),r=i("ivNn"),o=i("4miz"),s=i("GH0z"),a=i("k9/m"),l=i("7qT/"),c=i("Ialn"),u=i("qFKp"),h=i("38az"),d=i("e92V"),p=i("mMWL"),f=u.CheckMobile.any(),_=f&&!1,m=new s.PercentageFormatter,g=window.t("n/a"),y=g+" ("+g+"%)",v=function(e){function t(t,i){var n=e.call(this)||this;return n._invalidated=!0,n._study=t,n._model=i,n._items.push(new o.DataWindowItem(window.t("Open"),"")),n._items.push(new o.DataWindowItem(window.t("High"),"")),n._items.push(new o.DataWindowItem(window.t("Low"),"")),n._items.push(new o.DataWindowItem(window.t("Close"),"")),n._items.push(new o.DataWindowItem("","")),n._items.push(new o.DataWindowItem("","")),n._items.push(new o.DataWindowItem(window.t("Change"),"")),n.update(),n}return Object(n.__extends)(t,e),t.prototype.items=function(){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._items},t.prototype.update=function(){this._invalidated=!0},t.prototype._updateImpl=function(){var e,t,i,n,o,s,l,u,h,d,p,f,_,v,b,S,w,P;if(this._header=this._study.title(),this._items[0].setValue(g),this._items[1].setValue(g),this._items[2].setValue(g),this._items[3].setValue(g),this._items[6].setValue(y),
!this._model.timeScale().isEmpty()&&0!==this._study.data().size()){for(e=this._showLastPriceAndChangeOnly(),t=0,i=this._items;t<i.length;t++)i[t].setVisible(!e);if((n=this._items[4]).setVisible(!1),e?o=this._study.data().lastIndex():(o=this._model.crossHairSource().appliedIndex(),Object(r.isNumber)(o)||(o=this._study.data().lastIndex())),null!==o&&Object(r.isNumber)(o)&&null!==(s=this._study.data().search(o,a.PlotRowSearchMode.NearestLeft,1))&&(l=s.index,h=(u=s.value)[1],d=u[2],p=u[3],f=u[4],null!=h&&null!=d&&null!=p&&null!=f))for(_=this._study.formatter(),void 0!==(v=this._changesData(f,h,l,e)).values&&(b=Object(c.forceLTRStr)(_.format(v.values.change,!0)+" ("+m.format(v.values.percentChange,!0)+")"),this._items[6].setValue(b)),e?(this._items[5].setValue(_.format(f)),this._items[5].setVisible(!0),this._items[6].setVisible(!0)):(this._items[0].setValue(_.format(h)),this._items[1].setValue(_.format(d)),this._items[2].setValue(_.format(p)),this._items[3].setValue(_.format(f)),n.setValue(_.format(this._study.barFunction()(u))),this._items[5].setVisible(!1)),S=this._color(l,v,e),w=0,P=this._items;w<P.length;w++)P[w].setColor(S)}},t.prototype._showLastPriceAndChangeOnly=function(){return f&&(null===this._model.crossHairSource().pane||Object(d.a)(p.tool.value())||null!==this._model.lineBeingEdited())},t.prototype._changesData=function(e,t,i,n){var r,o,s;if(n&&!_){if(null!==(r=this._study.quotes()))return{values:{change:r.change,percentChange:r.change_percent},priceDirection:{basedOnCurrentBar:r.change>=0?0:1,basedOnPrevClose:r.change>=0?0:1}}}else if(null!==(s=(o=this._study.data().search(i-1,a.PlotRowSearchMode.NearestLeft,1))&&o.value[4]||null))return{values:{change:e-s,percentChange:Object(l.a)(s,e)},priceDirection:{basedOnCurrentBar:e>=t?0:1,basedOnPrevClose:e>=s?0:1}};return{priceDirection:{basedOnCurrentBar:e>=t?0:1,basedOnPrevClose:e>=t?0:1}}},t.prototype._color=function(e,t,i){var n,r,o,s=h.SeriesBarColorer.upColor(this._study.properties()),a=h.SeriesBarColorer.downColor(this._study.properties());return i&&!_?t.priceDirection?s:a:10===(n=this._study.properties().childs().style.value())?null!=(r=this._study.barColorer().barStyle(e,!1)).barBorderColor?r.barBorderColor:r.barColor:(o=!1,0===n?o=this._study.properties().childs().barStyle.childs().barColorsOnPrevClose.value():1===n?o=this._study.properties().childs().candleStyle.childs().barColorsOnPrevClose.value():9===n&&(o=!0),o?0===t.priceDirection.basedOnPrevClose?s:a:0===t.priceDirection.basedOnCurrentBar?s:a)},t}(o.DataWindowView)},JmuD:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)},t.hasProperty=function(e,t){return t in e}},K4L1:function(e,t,i){"use strict";function n(e,t){var n,r,o,s,a,c,u,h,d;if(!e)throw new Error("No studies metainfo");if(n=i("EyEd"),this._studiesMetainfo=e,!t)throw new Error("No studies migrations");for(this._studiesMigrations=t,this._migrations={},
r=0;r<this._studiesMigrations.length;r++)for(s=(o=this._studiesMigrations[r]).versFrom,a=o.versTo,c=0;c<o.studyMigrations.length;c++)h=(u=o.studyMigrations[c]).studyId,0!==u.rules.length?((d=h in this._migrations?this._migrations[h]:new n(h)).addMigration(s,a,u.rules),this._migrations[h]=d):l.logError("Study Migration should have at least one convertion rule");this._clientMigrations=[function(e,t){var i,n,r,o,s;if(0===this._studiesMetainfo.length||!e.isTVScript||e.version>=22)return t;for(i={},n=0,r=0;void 0!==(o=t[r]);)s=t[o.id],o.isFake&&(o.id="in_"+n++),i[r]=o,i[o.id]=s,r++;return i}]}var r=i("Eyy1").assert,o=i("ijIX").patchSourceState,s=i("nmnj"),a=i("lCO3").Version,l=i("uOxu").getLogger("Chart.Study.Versioning"),c=i("Wt0y"),u=i("0YCj"),h=i("TcSq").extractPineId,d=i("Si3H").migrateMetaInfoAndPropState;n.prototype.updateMetaInfo=function(e){var t,i,n;if(!e)return e;for(r(!e.isTVScript,"This method should update only built-in java indicators metaInfo. For Pine indicators use updateMetaInfoAsync"),t=null,i=this._studiesMetainfo,n=0;n<i.length;n++)if(i[n].id===e.id){t=i[n];break}return TradingView.clone(t)},n.prototype.updateMetaInfoAsync=function(e){var t,i,n,o,a,l;if(!e)return{sync:!1,result:Promise.reject("No old metaInfo was given")};if(t=new u(e),i=u.versionOf(e),e.isTVScript&&!e.pine&&i<u.VERSION_PINE_PROTECT_TV_4164)return r(TradingView.isExistent(e.scriptIdPart),"scriptIdPart is missing, study "+JSON.stringify(e)),n=e.scriptIdPart,{sync:!1,result:new Promise(function(i,r){s.processLegacy(n,e.TVScriptSourceCode).done(function(e){t.removeDefaults();var n=new u(e);n.createDefaults(),d(n),i(n)}).fail(function(e,t){r(e)})})};if(e.isTVScript&&e.pine)return(e._serverMetaInfoVersion||i)!==u.CURRENT_METAINFO_FORMAT_VERSION?{sync:!1,result:new Promise(function(i,n){s.translateScriptAsync2(e.scriptIdPart,e.pine.version).done(function(e){t.removeDefaults();var n=new u(e);n.createDefaults(),d(n),i(n)}).fail(function(e,t){n(e)})})}:(t.createDefaults(),{sync:!0,result:t});for(o=null,a=this._studiesMetainfo,l=0;l<a.length;l++)if(a[l].id===e.id){o=a[l];break}return{sync:!0,result:o?TradingView.clone(o):null}},n.prototype.lastVersionOfStudy=function(e){return this._studiesMetainfo.find(function(t){return t.id===e}).version},n.prototype.updateStudyInputs=function(e,t,i,n,r){var o,s,c,u,h,d=TradingView.clone(n);if(e in this._migrations&&(o=a.parse(t),"last"===i?(c=this.lastVersionOfStudy(e),s=a.parse(c)):s=a.parse(i),d=this._migrations[e].updateInputs(o,s,d)),null==r)return d;for(u in r)u in d||(d[u]=r[u]);for(u in d)u in r||(h=d[u],l.logWarn("Extra input detected, studyId="+e+", versionFrom="+t+", inputId="+u+", inputValue="+h+", removing it and continue..."),delete d[u]);return d},n.prototype.updateStudyState=function(e,t,i){var n,r,o,s,a,c,h,d,p,f,_,m,g;if(null==e||null==t||null==i)return e;for(e=TradingView.clone(e),t.isTVScript||!!t.pine||t.version===i.version||(n=i&&i.defaults.inputs,r=this.updateStudyInputs(t.id,t.version,i.version,e.inputs,n),e.inputs=r),
o=0;o<this._clientMigrations.length;++o)r=this._clientMigrations[o].call(this,t,e.inputs),Object.keys(r).length===Object.keys(e.inputs).length?e.inputs=r:l.logWarn("StudyVersioning._clientMigrations application returned bad result. Skipping it...");if(s=u.versionOf(t),t.isTVScript&&t.TVScriptSourceCode&&s>=12&&s<=26){for(a={},o=0;o<t.plots.length;++o)c=t.plots[o],h=i.plots[o],a[c.id]=h.id;for(d=Object.keys(e.styles),o=0;o<d.length;++o)p=d[o],f=e.styles[p],delete e.styles[p],_=a[p],e.styles[_]=f;for(m=Object.keys(e.plots),o=0;o<m.length;++o)g=m[o],p=e.plots[g].id,e.plots[g].id=a[p]}return e},n.prototype.patchPointsBasedStudyState=function(e){return n._fixInputsMaxValue(e.state,e.metaInfo),"LineToolRegressionTrend"===e.type&&(e=o(e)),e},n.prototype.patchPointsBasedStudyData=function(e,t){if(!c.isProd())return t;if(!e||!t)return t;var i=TradingView.clone(t);return"VbPFixed@tv-volumebyprice"===e.id&&e.version&&e.version<=4&&n._patchOldVolumeProfiles(0,i),i},n.prototype.patchStudyData=function(e,t,i,r){var o,s,a,l,h,d,p;if(!c.isProd())return{data:t,nsData:i,indexes:r};if(o=TradingView.clone(t),s=TradingView.clone(i),a=TradingView.clone(r),"VbPVisible@tv-volumebyprice"===e.id&&e.version&&e.version<=4&&n._patchOldVolumeProfiles(0,o.graphics),"VbPSessions@tv-volumebyprice"===e.id&&e.version&&e.version<=4&&n._patchOldVolumeProfiles(0,o.graphics),l=u.versionOf(e),e.isTVScript&&e.TVScriptSourceCode&&l>=12&&l<=26)for(h=o.columns,o.columns=[],d=0;d<h.length;++d)p="plot_"+d,o.columns.push(p);return{data:o,nsData:s,indexes:a}},n._patchOldVolumeProfiles=function(e,t){var i,n=t.hhists[e].data,r=[];for(i in n)r=r.concat(n[i]);t.hhists[0].data=r},n._fixInputsOrder=function(e,t){var i,r,o,s,a=u.getOrderedInputIds(t),l=n.splitInputs(e.inputs),c=l.arr,h=l.obj,d=TradingView.merge({},h);for(i=0;i<a.length;++i)r=a[i],null!==(o=n.findInputKeyById(c,r))&&(s=c[o],d[i]=s);e.inputs=d},n.INPUT_MAX_VALUE=1e12,n._verifyInputsMaxValue=function(e){var t,i,r=n.INPUT_MAX_VALUE;if(e.inputs)for(t=0;t<e.inputs.length;t++)"integer"===(i=e.inputs[t]).type&&i.max&&i.max>r&&l.logWarn("Bad integer input max value in metaInfo id="+e.id+" title="+e.description)},n._fixInputsMaxValue=function(e,t){var i,r,o,s,a,l;if(!TradingView.isAbsent(t)){if(i=n.INPUT_MAX_VALUE,t.inputs)for(r=0;r<t.inputs.length;r++)"integer"===(o=t.inputs[r]).type&&o.max&&o.max>i&&(o.max=i);if(e&&e.inputs){for(l in a=(s=n.splitInputs(e.inputs)).arr)"integer"===(o=a[l]).type&&o.max&&o.max>i&&(o.max=i);e.inputs=TradingView.merge(s.obj,s.arr)}}},n.prototype.patchPropsStateAndMetaInfo=function(e,t,i){var r,o,s,a,l,c,p,f,_,m,g,y,v,b,S,w,P,T,C;if("Script$BOOKER"!==t.productId||t.alerts||delete e.alerts,n._fixInputsOrder(e,t),n._fixInputsMaxValue(e,t),r=n.splitInputs(e.inputs),e.inputs=r.obj,(o=u.versionOf(t))<u.METAINFO_FORMAT_VERSION_SOS_V2&&t.isChildStudy&&(e.isChildStudy=t.isChildStudy),s=60,t.isTVScript&&t.version<s&&("Script$TV_EARNINGS@tv-scripting"!==t.id&&"Script$TV_DIVIDENDS@tv-scripting"!==t.id&&"Script$TV_SPLITS@tv-scripting"!==t.id||delete t.TVScriptSourceCode),
"Volume"!==t.id&&"Volume@tv-basicstudies"!==t.id||0!==t.inputs.length||(t.inputs=[{id:"length",type:"integer",defval:20,min:1,max:1e3}],t.plots.push({id:"vol_ma",type:"line"})),"Volume@tv-basicstudies"===t.id&&t.version&&t.version<=46&&(e.styles.vol.transparency=e.transparency||87),"PivotPointsStandard@tv-basicstudies"===t.id&&(0===t.inputs.length?(e.inputs={kind:"Traditional",showHistoricalPivots:!0},t.inputs=[{defval:"Traditional",id:"kind",type:"text",options:["Traditional","Fibonacci","Woodie","Classic","DeMark","Camarilla"]},{id:"showHistoricalPivots",type:"bool",defval:!0}]):1===t.inputs.length&&(e.inputs={kind:"Traditional"},t.inputs=[{defval:"Traditional",id:"kind",type:"text",options:["Traditional","Fibonacci","Woodie","Classic","DeMark","Camarilla"]},{id:"showHistoricalPivots",type:"bool",defval:!0}]),void 0===e._hardCodedDefaultsVersion&&(e._hardCodedDefaultsVersion=1,a=e.color,delete e.color,e.levelsStyle={colors:{P:a,"S1/R1":a,"S2/R2":a,"S3/R3":a,"S4/R4":a,"S5/R5":a}})),"CMF"===t.shortId&&2===t.inputs.length&&(e.inputs={length:e.inputs["length fast"]},t.inputs=t.inputs.splice(0,1),t.inputs[0].id="length"),t.defaults&&void 0===t.defaults.precision&&o<u.VERSION_NEW_STUDY_PRECISION_FORMAT&&(-1!==["Volume@tv-basicstudies","VbPVisible@tv-volumebyprice","VbPSessions@tv-volumebyprice"].indexOf(t.id)?t.defaults.precision=0:t.defaults.precision=4),l=60,t.version<l)for(c=["TV_DIVIDENDS","TV_SPLITS","TV_EARNINGS"],p="Script".length,f=0;f<c.length;f++)t.id.startsWith("Script$"+c[f]+"@tv-scripting")&&(t.fullId="ESD"+t.fullId.substring(p),t.id="ESD"+t.id.substring(p),t.name="ESD"+t.name.substring(p),t.shortId="ESD"+t.shortId.substring(p),t.productId="ESD"+t.productId.substring(p));if(o<u.VERSION_PINE_PROTECT_TV_4164&&(_={"StrategyScript$STD;Consecutive%1Ups/Downs%1Strategy":{pineId:"STD;Consecutive%1Ups%1Downs%1Strategy",className:"StrategyScript"},Script$EDGR_NET_INCOME_FROM_CONTINUING_OPERATIONS_APPLICABLE_TO_COMMON_V2:{pineId:"Script$EDGR_NET_INCOME_FROM_CONTINUING_OPS_APPLICABLE_TO_COMMON_V2",className:"Script"}},t.shortId in _&&(m=_[t.shortId].className+"$"+_[t.shortId].pineId,g={scriptIdPart:_[t.shortId].pineId,fullId:t.fullId.replace(t.shortId,m),id:t.id.replace(t.shortId,m),name:t.name.replace(t.shortId,m),shortId:m},TradingView.merge(t,g),TradingView.merge(e,g)),(v=(y=h(t.fullId))&&y.match(/^(USER)(_\d+)(;)(.*)$/))&&(b=v[0],g={scriptIdPart:S=v[1]+v[3]+v[2]+v[4],fullId:t.fullId.replace(b,S),id:t.id.replace(b,S),name:t.name.replace(b,S),shortId:t.shortId.replace(b,S)},TradingView.merge(t,g),TradingView.merge(e,g))),"MA"===t.id){switch(w=new u({id:"MAExp",properties:[{id:"is_price_study",type:"bool",value:"true"}],inputs:[{id:"length",type:"integer",defval:20,min:1,max:500},{id:"source",type:"text",defval:"close",options:["open","high","low","close"]}],plots:[{id:"MovAvgExp",type:"line"}],palettes:{}}),P=new u({id:"MASimple",properties:[{id:"is_price_study",type:"bool",value:"true"}],inputs:[{id:"length",type:"integer",defval:20,min:1,max:500},{id:"source",type:"text",defval:"close",
options:["open","high","low","close"]}],plots:[{id:"MovAvgSimple",type:"line"}],palettes:{}}),T=new u({id:"MAVolumeWeighted",properties:[{id:"is_price_study",type:"bool",value:"true"}],inputs:[{id:"length",type:"integer",defval:20,min:1,max:500},{id:"source",type:"text",defval:"close",options:["open","high","low","close"]}],plots:[{id:"MovAvgVolumeWeighted",type:"line"}],palettes:{}}),C=new u({id:"MAWeighted",properties:[{id:"is_price_study",type:"bool",value:"true"}],inputs:[{id:"length",type:"integer",defval:20,min:1,max:500},{id:"source",type:"text",defval:"close",options:["open","high","low","close"]}],plots:[{id:"MovAvgWeighted",type:"line"}],palettes:{}}),e.inputs.type){case"exp":t=w;break;case"simple":t=P;break;case"weighted":t=C;break;case"volume weighted":t=T}e.styles[t.plots[0].id]=e.styles.MovAvg,delete e.styles.MovAvg,delete e.inputs.type}return i.oldShowStudyLastValueProperty&&(e.oldShowLastValue=e.showLastValue),delete e.showLastValue,delete e.showStudyArguments,d(t,e),{propsState:e,metaInfo:t}},n.mergeInputs=function(e,t){n.mergeInputsArrPart(e,t),n.mergeInputsObjPart(e,t)},n.mergeInputsArrPart=function(e,t){var i,r,o=n.splitInputs(t);for(i in o.arr)(r=n.findInputKeyById(e,o.arr[i].id))?TradingView.merge(e[r],o.arr[i]):n.appendInputInfoToArr(e,o.arr[i])},n.mergeInputsObjPart=function(e,t){var i=n.splitInputs(t);TradingView.merge(e,i.obj)},n.appendInputInfoToArr=function(e,t){var i,n,r=-1;for(i in e)n=parseInt(i,10),isNumber(n)&&n>r&&(r=n);e[r+1]=t},n.splitInputs=function(e){var t,i={},n={};for(t in e)isNumber(parseInt(t,10))?i[t]=e[t]:n[t]=e[t];return{arr:i,obj:n}},n.findInputKeyById=function(e,t){var i,n=null;for(i in e)if(isNumber(parseInt(i,10))&&e[i].id===t){n=i;break}return n},n.getInputKeyById=function(e,t){var i=n.findInputKeyById(e,t);if(!i)throw new Error("Cannot find input with id: "+t);return i},e.exports=n},K55a:function(e,t,i){"use strict";function n(e){var t,i=e.value();return null!==i&&void 0!==(t=r.f.get(i))?t:""}i.r(t),i.d(t,"marketStatusText",function(){return n});var r=i("kxJy")},K8V9:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor"><path d="M13.111 18.5H10.5a1 1 0 0 1-1-1v-11a1 1 0 0 1 1-1h11a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1h-8.389z"/><path d="M18.5 20v1.5a1 1 0 0 1-1 1h-11a1 1 0 0 1-1-1v-11a1 1 0 0 1 1-1H8"/></g></svg>'},"KG+6":function(e,t,i){"use strict";function n(e,t){var i,n;return e.firstBarTime>=t.length||e.lastBarTime>=t.length?null:(i=t[e.firstBarTime],n=t[e.lastBarTime],i===a.INVALID_TIME_POINT_INDEX||n===a.INVALID_TIME_POINT_INDEX?null:(Object(s.assert)(i<=n,"firstBarTime should not exceed lastBarTime"),Object(s.assert)(e.priceLow<=e.priceHigh,"priceLow should not exceed priceHigh"),{firstBarTime:i,lastBarTime:n,rate:e.rate,priceHigh:e.priceHigh,priceLow:e.priceLow}))}function r(e,t,i){var n=Object(l.ensureTimePointIndexIndex)(i.indexOf(e.firstBarTime)),r=Object(l.ensureTimePointIndexIndex)(i.indexOf(e.lastBarTime));return Object(o.__assign)(Object(o.__assign)({id:t},e),{
firstBarTime:n,lastBarTime:r})}var o,s,a,l,c,u;i.d(t,"a",function(){return c}),i.d(t,"b",function(){return u}),i.d(t,"d",function(){return n}),i.d(t,"c",function(){return r}),o=i("mrSG"),s=i("Eyy1"),a=i("tqok"),l=i("hsV8"),function(e){e.LeftToRight="left_to_right",e.RightToLeft="right_to_left"}(c||(c={})),function(e){e.Relative="relative",e.Absolute="absolute"}(u||(u={}))},KUek:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h,d,p;i.r(t),i.d(t,"sessionsPreferencesDefault",function(){return d}),i.d(t,"Sessions",function(){return p}),n=i("Eyy1"),r=i("gvrv"),o=i("jenN"),s=i("kcTO"),a=i("Ocx9"),l=i("Kxc7"),c="Sessions@tv-basicstudies",u="sessions_",h=new s.PriceFormatter,d={graphics:{backgrounds:{outOfSession:{color:"#2196F3",transparency:92,visible:!1}},vertlines:{sessBreaks:{color:"#4985e7",style:2,visible:!1,width:1}}}},p=function(){function e(e,t){var i,n=this;this._studySource=null,this._paneViews=[],this._metaInfo=null,this._destroyed=!1,this._isStarted=!1,this._loadedGraphics=null,this._model=e,this._doubleClickHandler=t,i=e.mainSeries(),this._properties=new a.DefaultProperty("sessions"),this._properties.subscribe(this,this._onPropertiesChanged),e.studyMetaInfoRepository().findById({type:"java",studyId:c}).then(function(t){n._destroyed||null===n._loadedGraphics&&(n._setMetaInfo(t),null!==n._metaInfo&&(n._studySource=new r.a(e.chartApi(),i,u,n._metaInfo),n._createPaneViews(),n._studySource.dataCleared().subscribe(n,n.updateAllViews),n._studySource.dataUpdated().subscribe(n,n.updateAllViews),n._studySource.setInputs({}),n._processHibernate()))}),e.timeScale().onReset().subscribe(this,this._clearData),e.timeScale().logicalRangeChanged().subscribe(this,this.updateAllViews),e.mainSeries().properties().extendedHours.subscribe(this,this._updateVisibleOutOfSessionBackground),e.mainSeries().properties().interval.subscribe(this,this._processHibernate),this._updateVisibleOutOfSessionBackground(e.mainSeries().properties().extendedHours)}return e.prototype.start=function(){this._isStarted=!0,this._processHibernate()},e.prototype.restart=function(){this._clearData(),l.enabled("stop_study_on_restart")&&this.stop(),this.start()},e.prototype.isStarted=function(){return this._isStarted},e.prototype.stop=function(){this._isStarted=!1,null!==this._studySource&&this._studySource.stop()},e.prototype.paneViews=function(e){return e.containsMainSeries()?this._paneViews:[]},e.prototype.priceAxisViews=function(e,t){return[]},e.prototype.updateAllViews=function(){this._paneViews.forEach(function(e){return e.update()})},e.prototype.destroy=function(){this._destroyed=!0,null!==this._studySource&&(this._studySource.dataCleared().unsubscribe(this,this.updateAllViews),this._studySource.dataUpdated().unsubscribe(this,this.updateAllViews),this._studySource.destroy(),this._studySource=null),this._model.timeScale().logicalRangeChanged().unsubscribe(this,this.updateAllViews),this._model.timeScale().onReset().unsubscribe(this,this._clearData),
this._model.mainSeries().properties().extendedHours.unsubscribe(this,this._updateVisibleOutOfSessionBackground),this._model.mainSeries().properties().interval.unsubscribe(this,this._processHibernate),this._properties.unsubscribe(this,this._onPropertiesChanged)},e.prototype.series=function(){return this._model.mainSeries()},e.prototype.priceScale=function(){return this.series().priceScale()},e.prototype.graphics=function(){return this._loadedGraphics||Object(n.ensureNotNull)(this._studySource).graphics()},e.prototype.properties=function(){return this._properties},e.prototype.graphicsInfo=function(){return Object(n.ensureNotNull)(this._metaInfo).graphics},e.prototype.firstValue=function(e){return this._model.mainSeries().firstValue()},e.prototype.formatter=function(){return h},e.prototype.state=function(e){var t={properties:this._properties.state()};return e&&null!==this._metaInfo&&(t.data={graphics:Object(o.saveStudyGraphics)(this.graphics()),metaInfo:this._metaInfo}),t},e.prototype.restoreState=function(e,t){this._properties.mergeAndFire(e.properties),this._updateVisibleOutOfSessionBackground(this._model.mainSeries().properties().extendedHours),void 0!==e.data&&t&&(this._loadStudyGraphics(e.data.graphics),this._setMetaInfo(e.data.metaInfo),this._createPaneViews())},e.prototype.restoreOldState=function(e,t){var i={graphics:e.state.graphics},n={properties:i};void 0!==e.data&&void 0!==e.metaInfo&&t&&(n.data={metaInfo:e.metaInfo,graphics:e.data.graphics}),this.restoreState(n,t)},e.prototype.applyPreferences=function(e){this._properties.mergePreferences(e)},e.prototype.metaInfo=function(){return Object(n.ensureNotNull)(this._metaInfo)},e.prototype._loadStudyGraphics=function(e){if(void 0!==e.backgrounds){var t=e.backgrounds.findIndex(function(e){return"inSession"===e.styleId});e.backgrounds.splice(t,1)}this._loadedGraphics=Object(o.loadStudyGraphics)(e)},e.prototype._setMetaInfo=function(e){void 0!==e.graphics.backgrounds&&void 0!==e.graphics.backgrounds.inSession&&delete e.graphics.backgrounds.inSession,this._metaInfo=e},e.prototype._updateVisibleOutOfSessionBackground=function(e){this._outOfSessionVisibilityProperty().setValue(e.value())},e.prototype._clearData=function(){null!==this._studySource&&this._studySource.clearData()},e.prototype._createPaneViews=function(){var e=this,t={mouseDoubleClickHandler:this._doubleClickHandler};Object(o.createGraphicsPaneViews)(this,this._model,t).then(function(t){e._paneViews=t,e._model.lightUpdate()})},e.prototype._onPropertiesChanged=function(){this._processHibernate(),this.updateAllViews()},e.prototype._processHibernate=function(){var e,t,i;null!==this._studySource&&(e=this._canBeHibernated(),t=this._isHibernated(),i=this._studySource.isStarted(),!t&&e&&i?this._studySource.stop():!t||e||i||this._studySource.start())},e.prototype._canBeHibernated=function(){return this._model.mainSeries().isDWM()||!this._outOfSessionVisibilityProperty().value()&&!this._vertLinesVisibleProperty().value()},e.prototype._isHibernated=function(){
return this._isStarted&&(null===this._studySource||!this._studySource.isStarted())},e.prototype._outOfSessionVisibilityProperty=function(){return this._properties.childs().graphics.childs().backgrounds.childs().outOfSession.childs().visible},e.prototype._vertLinesVisibleProperty=function(){return this._properties.childs().graphics.childs().vertlines.childs().sessBreaks.childs().visible},e}()},KcY8:function(e,t,i){"use strict";var n,r=i("mrSG"),o=i("aO4+"),s=i("f6yo"),a=i("Tmoa"),l=i("Ialn"),c=i("8Uy/"),u=i("jFln"),h=i("ikwP"),d=i("VdBB"),p=i("qFKp"),f=p.CheckMobile.any()?10:0,_=function(){function e(e,t){this.setData(e,t)}return e.prototype.setData=function(e,t){this._data=Object(r.__assign)({},e),this._commonData=Object(r.__assign)({},t)},e.prototype.draw=function(e,t,i,n,r,o){var s,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B;if(this._data.visible){if(e.font=t.font,s=Math.floor((this._data.tickVisible?t.tickLength:0)*o),d=Math.floor((this._data.borderVisible?t.borderSize:0)*o),p=Math.floor(t.paddingTop*o),f=Math.floor(t.paddingBottom*o),_=Math.floor(t.paddingInner*o),m=Math.floor(t.paddingOuter*o),g=this._data.text,y=Math.round(t.baselineOffset*o),v=void 0!==this._data.labelIcon,b=Math.max(1,Math.floor(o)),(S=Math.floor(t.fontSize*o)+p+f)%2!=b%2&&(S+=1),v?w=S:(P=Math.ceil(i.measureText(e,g)),w=Math.round(P*o)+s+d+_+m),T=this._commonData.coordinate,this._commonData.fixedCoordinate&&(T=this._commonData.fixedCoordinate),C="right"===r,x=this._getOffsetScaled(C,n,o),I=Math.ceil(n*o),L=E=C?I:0,e.fillStyle=Object(a.resetTransparency)(this._commonData.background),e.lineWidth=1,Object(u.setLineStyle)(e,c.LINESTYLE_SOLID),e.lineCap="butt",M=Math.round(T*o)-Math.floor(.5*o),k=Math.floor(M+b/2-S/2),D=k+S,g||v){if(C?(A=E-s,O=(L=E-w)+m):(L=E+w,A=E+s,O=E+d+s+_),E+=x,L+=x,A+=x,e.beginPath(),e.moveTo(E,k),e.lineTo(L,k),e.lineTo(L,D),e.lineTo(E,D),e.fill(),0!==x&&this._data.fillOffset&&(e.fillStyle=t.paneBackgroundColor,R=C?Math.ceil(n*o)+1:0,e.beginPath(),e.moveTo(E,k),e.lineTo(R,k),e.lineTo(R,D),e.lineTo(E,D),e.fill()),v){switch(this._data.labelIcon){case 0:this._drawPlusIcon(e,E,L,k,M,D,b)}return}this._data.tickVisible&&(e.fillStyle=this._commonData.color,e.fillRect(E,M,A-E,b)),e.textAlign="left",e.fillStyle=this._commonData.color,Object(h.drawScaled)(e,o,function(){e.fillText(g,(O+x)/o,(D-f-y)/o)})}this._data.secondLine&&(V=Math.ceil(i.measureText(e,this._data.secondLine)*o)+_+m,e.fillStyle=Object(a.resetTransparency)(this._commonData.background),this._data.text&&(k+=S+b,D+=S+b),C?(E=(L=Math.min(L,I-V))+V,O=L+m):(L=(E=Math.max(L-V,d))+V,O=E+_),E+=x,L+=x,e.beginPath(),e.moveTo(E,k),e.lineTo(L,k),e.lineTo(L,D),e.lineTo(E,D),e.fill(),e.textAlign="left",e.fillStyle=this._commonData.color,B=this._data.secondLine,Object(h.drawScaled)(e,o,function(){e.fillText(Object(l.startWithLTR)(B),(O+x)/o,(D-f-y)/o)}))}},e.prototype.height=function(e,t){if(!this._data.visible)return 0;var i=e.fontSize+e.paddingTop+e.paddingBottom;return this._data.secondLine&&t?2*i+1:i},e.prototype.hitTest=function(e){
var t,i,n,r,a,l,c=this._data.hitTestData;return void 0===c?null:(t=this._data.offset,i=Object(o.box)(new o.Point(c.xl+t-f,c.y-f),new o.Point(c.xl+t+c.containerWidth+f,c.y+c.containerHeight+f)),n=c.left&&Object(s.pointInBox)(e,i),r=Object(o.box)(new o.Point(c.xr-t-f,c.y-f),new o.Point(c.xr-t+c.containerWidth+f,c.y+c.containerHeight+f)),a=c.right&&Object(s.pointInBox)(e,r),n||a?(l=n?"left":"right",new d.HitTestResult(d.HitTestResult.CUSTOM,{mouseClickHandler:void 0===c.mouseClickHandler?void 0:c.mouseClickHandler.bind(this,e,l),tooltip:c.tooltip})):null)},e.prototype._getOffsetScaled=function(e,t,i){var n=e?-1:1,r=0===this._data.offset?0:n*this._data.offset,o=0===r?0:n*Math.max(1,Math.round(Math.abs(r)*i));return e&&t*i%1!=0&&(o=n*(Math.abs(o)+1)),o},e.prototype._drawPlusIcon=function(e,t,i,n,r,o,s){var a,l,c,u,h;e.fillStyle=this._commonData.color,a=Math.abs(t-i),(l=Math.round(.5*a))%2!=s%2&&(l+=1),c=Math.floor((a-l)/2),h=(u=Math.min(t,i))+Math.floor(a/2-s/2),e.fillRect(u+c,r,l,s),e.fillRect(h,n+c,s,l)},e}();i.d(t,"a",function(){return n}),n=function(){function e(e){this._commonRendererData={coordinate:0,color:"#FFF",background:"#000"},this._axisRendererData={text:"",visible:!1,tickVisible:!0,borderVisible:!0,offset:0},this._paneRendererData={text:"",visible:!1,tickVisible:!1,borderVisible:!1,offset:1,fillOffset:!0},this._invalidated=!0,this._axisRenderer=new(e||_)(this._axisRendererData,this._commonRendererData),this._paneRenderer=new(e||_)(this._paneRendererData,this._commonRendererData)}return e.prototype.text=function(){return this._axisRendererData.text},e.prototype.secondLineText=function(){return this._axisRendererData.secondLine},e.prototype.background=function(){return this._commonRendererData.background},e.prototype.color=function(){return this.generateTextColor(this.background())},e.prototype.generateTextColor=function(e){return Object(a.colorFromBackground)(e)},e.prototype.coordinate=function(){return this._updateRendererDataIfNeeded(),this._commonRendererData.coordinate},e.prototype.floatCoordinate=function(){return this._updateRendererDataIfNeeded(),this._commonRendererData.floatCoordinate||this._commonRendererData.coordinate},e.prototype.update=function(){this._invalidated=!0},e.prototype.height=function(e,t){return void 0===t&&(t=!1),Math.max(this._axisRenderer.height(e,t),this._paneRenderer.height(e,t))},e.prototype.getFixedCoordinate=function(){return this._commonRendererData.fixedCoordinate||0},e.prototype.setFixedCoordinate=function(e){this._commonRendererData.fixedCoordinate=e},e.prototype.isVisible=function(){return this._updateRendererDataIfNeeded(),this._axisRendererData.visible||this._paneRendererData.visible},e.prototype.isAxisLabelVisible=function(){return this._updateRendererDataIfNeeded(),this._axisRendererData.visible},e.prototype.isPaneLabelVisible=function(){return this._updateRendererDataIfNeeded(),this._paneRendererData.visible},e.prototype.renderer=function(){return this._updateRendererDataIfNeeded(),this._axisRenderer.setData(this._axisRendererData,this._commonRendererData),
this._paneRenderer.setData(this._paneRendererData,this._commonRendererData),this._axisRenderer},e.prototype.paneRenderer=function(){return this._updateRendererDataIfNeeded(),this._axisRenderer.setData(this._axisRendererData,this._commonRendererData),this._paneRenderer.setData(this._paneRendererData,this._commonRendererData),this._paneRenderer},e.prototype.setPaneRendererLabelIcon=function(e){this._paneRendererData.labelIcon=e},e.prototype._updateRendererDataIfNeeded=function(){this._invalidated&&(this._updateRendererData(this._axisRendererData,this._paneRendererData,this._commonRendererData),this._invalidated=!1)},e}()},Kdr6:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"HHistLegendView",function(){return o}),n=i("mrSG"),r=i("TG9i"),o=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._showStudyValues=i.properties().paneProperties.legendProperties.showStudyValues,n}return Object(n.__extends)(t,e),t.prototype.isValuesVisible=function(){return this._showStudyValues.value()},t.prototype.additional=function(){return null},t.prototype.destroy=function(){},t}(r.HHistDataWindowView)},Ke3L:function(e,t,i){"use strict";var n,r,o,s,a,l;i.r(t),i.d(t,"ProjectionSeriesPriceAxisView",function(){return l}),n=i("mrSG"),r=i("Eyy1"),o=i("k9/m"),s=i("TQMj"),a=i("oXaB"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.lastPrice=function(){return this._getSource().data().lastProjectionPrice},t.prototype._updateRendererData=function(e,t,i){var n,s,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I;e.visible=!1,t.visible=!1,n=this._getData().model,l=(s=this._getSource()).priceScale(),c=n.timeScale(),u=this.lastPrice(),c.isEmpty()||l.isEmpty()||void 0===u||null!==(h=c.visibleBarsStrictRange())&&(d=h.firstBar(),p=h.lastBar(),null!==(_=(f=s.data()).search(p,o.PlotRowSearchMode.NearestLeft))&&void 0!==(m=s.nearestIndex(d,o.PlotRowSearchMode.NearestRight))&&(g=s.model().properties().scalesProperties,y=Object(r.ensureNotNull)(f.valueAt(m))[TradingView.CLOSE_PLOT],v=i.background,b=g.showSeriesLastValue.value(),S=!1,w=!1,P=!1,T=s.lastValueData(TradingView.CLOSE_PLOT,!1),8===(C=s.properties()).style.value()&&C.haStyle.showRealLastPrice.value()?((x=s.lastValueData(TradingView.CLOSE_PLOT,!0)).noData||x.color===i.background||(v=x.color),x.noData||T.noData||(S=(I=x.index===T.index)&&g.showSymbolLabels.value(),w=g.seriesLastValueMode.value()===a.PriceAxisLastValueMode.LastPriceAndPercentageValue,b=b&&I,P=I&&this._isCountdownEnabled()&&C.showCountdown.value())):v=s.barColorer().barStyle(_.index,!0).barColor,i.background=v,i.color=this.generateTextColor(v),i.coordinate=l.priceToCoordinate(u,y),e.visible=b||P,T.noData||(T.text=l.formatPrice(u,y),T.formattedPriceAbsolute=l.formatPriceAbsolute(u),T.formattedPricePercentage=l.formatPricePercentage(u,y),e.text=this._axisFirstLineText(T,b,w),e.secondLine=P?this._countdownText():"",t.text=this._paneText(T,b,S,w)),t.visible=S||b&&w))},t}(s.SeriesPriceAxisView)},Kmdw:function(e,t,i){"use strict";var n,r,o,s,a,l;i.r(t),
i.d(t,"PaneRendererArrowUp",function(){return a}),i.d(t,"PaneRendererArrowDown",function(){return l}),n=i("mrSG"),r=i("2WC2"),o=i("Hr11"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._sign=0,t._thinArrow=!1,t._thinArrowLineWidth=0,t._headHeight=0,t._arrowWidth=0,t}return Object(n.__extends)(t,e),t.prototype.setData=function(e,t){this._setBaseData(e,t)},t.prototype._drawItemShape=function(e,t,i){var n=t.pixelRatio,r=this._lineWidth(t)%2?.5:0,s=this._sign,a=this._arrowWidth,l=this._headHeight,c=Math.abs(i.height),u=Math.round(i.x*n)+r,h=i.vertOffset,d=Math.round((i.y+h+s*c/2)*n)+r,p=Object(o.ceiledEven)(a*n),f=p/2,_=Math.round(c*n),m=Math.round(l*n);e.translate(u,d),this._thinArrow?(e.moveTo(0,0),e.lineTo(-f,-f*s),e.moveTo(0,0),e.lineTo(f,-f*s),e.moveTo(0,0),e.lineTo(0,-_*s),e.moveTo(-f,-_*s),e.lineTo(f,-_*s)):(e.moveTo(0,0),_<m?(e.lineTo(p,-_*s),e.lineTo(-p,-_*s)):(e.lineTo(p,-m*s),e.lineTo(f,-m*s),e.lineTo(f,-_*s),e.lineTo(-f,-_*s),e.lineTo(-f,-m*s),e.lineTo(-p,-m*s)),e.lineTo(0,0)),e.translate(-u,-d)},t.prototype._preDrawInit=function(){var e=this._calculateWidth();this._arrowWidth=e,this._sign=this._isUp()?-1:1,this._thinArrow=e<4,this._thinArrowLineWidth=Math.max(e/2,1),this._headHeight=Math.round(e)},t.prototype._startPath=function(e,t,i,n){e.beginPath(),e.fillStyle=i,e.strokeStyle=n,e.lineWidth=this._lineWidth(t)},t.prototype._lineWidth=function(t){return this._thinArrow?this._thinArrowLineWidth:e.prototype._lineWidth.call(this,t)},t.prototype._calculateWidth=function(){return Math.round(this._barSpacing/4)},t}(r.a),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype._isUp=function(){return!0},t}(s),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype._isUp=function(){return!1},t}(s)},KnF9:function(e,t,i){"use strict";var n,r;i.r(t),i.d(t,"EnvironmentState",function(){return r}),n=i("qFKp"),r=function(){function e(e){this._shift=!1,this._control=!1,this._alt=!1,void 0!==e&&(this._shift=Boolean(e.shiftKey),this._control=Boolean(Object(n.isMac)()?e.metaKey:e.ctrlKey),this._alt=Boolean(e.altKey))}return e.prototype.shift=function(){return this._shift},e.prototype.control=function(){return this._control},e.prototype.alt=function(){return this._alt},e.prototype.shiftOnly=function(){return this._shift&&!this._control&&!this._alt},e.prototype.controlOnly=function(){return this._control&&!this._shift&&!this._alt},e.prototype.altOnly=function(){return this._alt&&!this._shift&&!this._control},e.prototype.controlShift=function(){return this._shift&&this._control&&!this._alt},e}()},KtbP:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"PanePriceAxisView",function(){return o}),n=i("u+0B"),r=function(){function e(e){this._priceAxisViewRenderer=null,this._rendererOptions=null,this._align="right",this._width=0,this._textWidthCache=e}return e.prototype.setParams=function(e,t,i,n){this._priceAxisViewRenderer=e,this._rendererOptions=t,this._width=i,this._align=n
},e.prototype.draw=function(e,t){null!==this._rendererOptions&&null!==this._priceAxisViewRenderer&&this._priceAxisViewRenderer.draw(e,this._rendererOptions,this._textWidthCache,this._width,this._align,t.pixelRatio)},e.prototype.hitTest=function(e){var t,i;return void 0===(null===(t=this._priceAxisViewRenderer)||void 0===t?void 0:t.hitTest)?null:null===(i=this._priceAxisViewRenderer)||void 0===i?void 0:i.hitTest(e)},e}(),o=function(){function e(e,t,i){this._priceAxisView=e,this._textWidthCache=new n.TextWidthCache(50),this._dataSource=t,this._chartModel=i,this._fontSize=-1,this._renderer=new r(this._textWidthCache)}return e.prototype.update=function(){this._priceAxisView.update()},e.prototype.renderer=function(e,t){var i,n,r,o=this._chartModel.crossHairSource(),s=this._dataSource===o?o.pane:this._chartModel.paneForSource(this._dataSource);return null===s?null:null===(i=this._priceScale())?null:("overlay"===(n=s.priceScalePosition(i))&&(n=s.priceScalePosition(s.defaultPriceScale())),"overlay"===n?null:((r=this._chartModel.priceAxisRendererOptions()).fontSize!==this._fontSize&&(this._fontSize=r.fontSize,this._textWidthCache.reset()),this._renderer.setParams(this._priceAxisView.paneRenderer(),r,t,n),this._renderer))},e.prototype._priceScale=function(){return this._dataSource.priceScale()},e}()},Ktlt:function(e,t,i){"use strict";(function(e){function n(t,i){var n,s,a,c,u=this;r.call(this),this._series=t,this._clickedId=null,this._clickedHoverItemIndex=null,i&&i.fixedData?(this._distribution=i.fixedData,(n=t.model().properties().chartEventsSourceProperties.state()).visible=!0,this._properties=new e(n)):(this._chartEvents=new o({minImportance:1}),this._properties=t.model().properties().chartEventsSourceProperties),this.setOwnerSource(t),s=function(e){var i,n,r,o,s,a,l,c,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D;if(u._coordinates||u._recalcCoordinates(),(i=u._coordinates)&&i.length){if(u._series.model().hoveredSource()!==u&&(u._hoverGroupIndex=void 0),u._createTemplates(),n=u._paneHeight,r=null,s=(o=u._LOLLIPOP_LINE_WIDTH)/2,a=u._LOLLIPOP_LINE_HEIGHT,c=-(l=u._LOLLIPOP_CIRCLE_DIAMETER)/2,h=u._LOLLIPOP_COUNTER_SIZE,d=u._LOLLIPOP_COUNTER_OFFSET,f=(p=u.properties().breaks).visible.value())for(e.strokeStyle=p.color.value(),e.lineWidth=p.width.value(),CanvasEx.setLineStyle(e,p.style.value()),_=0;_<i.length;_++)CanvasEx.drawLine(e,i[_].x,0,i[_].x,n-a-l*i[_].items.length);for(u._importanceByIndex||(u._importanceByIndex={}),m=u._importanceByIndex,_=i.length;_--;)for(e.drawImage(u._templatesCache.line,i[_].x-s+.5,n-a-.5,o,a),m[g=i[_].index]||(m[g]=[]),y=i[_].items.length;y--;){if(v=i[_].items[y],y in m[g])b=m[g][y];else{for(b=-1,S=v.length;S--;)v[S].importance>b&&(b=v[S].importance);m[g][y]=b}w=n-a-l*(y+1)-.5,P=i[_].x,T=v.length,C=v[0].currency,x=u._hoverGroupIndex===i[_].index&&u._hoverItemIndex===y,u._clickedId!==i[_].index||u._clickedHoverItemIndex!==y?(I=x?"hovered":b<-.5?"low":b<.5?"mid":"hi",E=u._templatesCache[I][C],e.drawImage(E,P+c,w,l,l),T>1&&(L=u._amountImage(T),e.drawImage(L,0,0,L.width,L.height,P+d,w-d,h,h))):r={
y:w,x:P,count:T,currency:C,currencyGroup:v,maxImportance:b,hovered:!0}}!f&&r&&(w=0,null!==(A=t.bars().valueAt(u._hoverGroupIndex))&&(O=A[TradingView.LOW_PLOT],M=t.priceScale(),isFinite(O)&&M&&(k=t.firstValue(),w=M.priceToCoordinate(O,k))),e.strokeStyle=u.color,e.lineWidth=1,CanvasEx.setLineStyle(e,CanvasEx.LINESTYLE_DASHED),CanvasEx.drawLine(e,r.x,0,r.x,n-a-l*(r.count-1))),r&&(E=(D=r.hovered?u._templatesCache.hovered:u._templatesCache[b]||u._templatesCache[-1])[r.currency]||D[""],e.drawImage(E,r.x+c,r.y,l,l),r.count>1&&(L=u._amountImage(r.count),e.drawImage(L,0,0,L.width,L.height,r.x+d,r.y-d,h,h))),r?u._showTooltip(r.currencyGroup,r.x,r.y,e):u._hideTooltip()}else u._hideTooltip()},a=function(e,t){_(e,t.pixelRatio,function(){s(e)})},c=function(e){var t,i,n,r,o,s,a,c,h,d,p,f,_,m,g;if(u._hoverGroupIndex=void 0,u._hoverItemIndex=void 0,t=e.x,i=e.y,u._coordinates||u._recalcCoordinates(),!(n=u._coordinates)||!n.length)return null;if(r=u._paneHeight,o=u._LOLLIPOP_CIRCLE_DIAMETER,s=u._LOLLIPOP_LINE_HEIGHT,c=r-(a=Math.floor((r-s-i)/o))*o-s-o/2-i,h=Math.sqrt(o*o/4-c*c),!isFinite(h))return null;for(d=t-h,p=0,f=n.length-1;f-p>1;)n[_=p+f>>1].x>=d&&(f=_),n[_].x<=d&&(p=_);for(m=p;m<n.length&&!((g=n[m].x-t)>h);m++)if(!(g<-h)&&n[m].items[a])return u._hoverGroupIndex===n[m].index&&u._hoverItemIndex===a||(u._hoverGroupIndex=n[m].index,u._hoverItemIndex=a,u._invalidate()),new l(l.CUSTOM,{mouseClickHandler:u._lollipopMouseClickHandler.bind(u,n[m].index)});return null},this._paneView={renderer:function(e,t){return u._paneHeight=e,{hitTest:c,draw:a}}},this._series.model().timeScale().tickMarks().changed.subscribe(this,this._recalcDistribution),this._chartEvents&&this._chartEvents.changed.subscribe(this,this._recalcDistribution),this._properties.subscribe(this,this._recalcDistribution),this._recalcDistribution()}var r=i("fgLi").DataSource,o=i("0h28"),s=i("LxhU").Interval,a=i("LxhU").ResolutionKind,l=i("VdBB").HitTestResult,c=i("jCNj"),u=i("j1f4"),h=i("6xeX").Tooltip,d=i("s1Gx").sortSourcesPreOrdered,p=i("ikwP").createDisconnectedCanvas,f=i("ikwP").getPrescaledContext2D,_=i("ikwP").drawScaled,m=i("ikwP").Size,g=2,y=["EUR","USD","JPY","GBP","CHF","AUD","CAD","NZD","CNY"],v=d.ChartEventsSource;inherit(n,r),n.prototype.color=u.color.black80,n.prototype.bgcolor="white",n.prototype._tooltipShown=!1,n.prototype._$tooltip=null,n.prototype._$content=null,n.prototype._tooltipX=void 0,n.prototype._tooltipY=void 0,n.prototype._tooltipItems=null,n.prototype._distribution=null,n.prototype._colorsByIndex=null,n.prototype._coordinates=null,n.prototype._hoverGroupIndex=void 0,n.prototype._hoverItemIndex=void 0,n.prototype._LOLLIPOP_LINE_WIDTH=2,n.prototype._LOLLIPOP_LINE_HEIGHT=2,n.prototype._LOLLIPOP_CIRCLE_DIAMETER=24,n.prototype._LOLLIPOP_COUNTER_OFFSET=2,n.prototype._LOLLIPOP_COUNTER_SIZE=14,n.prototype.zorder=function(){return v},n.prototype.title=function(){return"Chart Events"},n.prototype.showInObjectTree=function(){return!1},n.prototype.onClickOutside=function(){this._clickedId=null},n.prototype._constructor="ChartEventsSource",
n.prototype.properties=function(){return this._properties},n.prototype.updateAllViews=function(){var e,t=this._series.model().timeScale();t&&this._coordinates&&(e={width:t.width(),barSpacing:t.barSpacing(),rightOffset:t.rightOffset()},this._cachedTimescaleState&&this._cachedTimescaleState.width===e.width&&this._cachedTimescaleState.barSpacing===e.barSpacing&&this._cachedTimescaleState.rightOffset===e.rightOffset||(this._cachedTimescaleState=e,this._coordinates=null))},n.prototype.paneViews=function(){if(!this._properties.visible.value())return null;var e=this._series.symbolInfo();return!e||"bitcoin"!==e.type&&"crypto"!==e.type?[this._paneView]:null},n.prototype._recalcDistribution=function(){var e,t,i,n,r,o,l,u,h,d,p,f,_,m,g,v,b,S,w,P,T,C,x=this._series.model().timezone();if(x&&"exchange"!==x||(x=(e=this._series.symbolInfo())&&e.timezone),x&&(this._timeOffset=c.get_timezone(x).offset_utc(new Date)),isFinite(this._timeOffset))if(this._chartEvents){if(this._coordinates=null,this._distribution=null,this._importanceByIndex=null,!this._properties.visible.value())return this._hideTooltip(),void(this._clickedId=null);if((e=this._series.symbolInfo())&&e.name&&!(e.name.length<6)&&("forex"===e.type||"cfd"===e.type||"bitcoin"===e.type||"crypto"===e.type)){for(t=null,i=e.name,n=0,r=0;r<2;r++)"bitcoin"!==e.type&&"crypto"!==e.type||"DOGE"!==i.substr(n,4).toUpperCase()?(o=i.substr(n,3).toUpperCase(),n+=3):(o="DOGE",n+=4),-1!==y.indexOf(o)&&(t||(t={}),t[o]=!0);if(t&&(u=s.parse(this._series.interval())).isValid()){switch(h=NaN,u.kind()){case a.Weeks:h=168*u.multiplier();break;case a.Days:h=24*u.multiplier();break;case a.Minutes:h=u.multiplier()/60;break;case a.Seconds:h=u.multiplier()/3600;break;default:return}if(h<4)l=-1;else if(h<48)l=0;else{if(!(h<672))return;l=1}if(this._minImportance===l&&this._symbolName===i||(this._chartEvents.reset({minImportance:l,currencyFilter:Object.keys(t)}),this._minImportance=l,this._symbolName=i),this._createTemplates(),d=this._chartEvents.items(),f=(p=this._series.model().timeScale()).tickMarks(),_={},this._distribution=_,m=+f.minIndex,this._properties.futureOnly.value()&&(m=Math.max(m,p.baseIndex())),isFinite(m)){if(g=+f.maxIndex,v=d.length,b=0,S=f.indexToTime(g))for(w=+S-this._timeOffset;b<d.length&&!(d[b].timestamp<=w);b++);for(P=g;P>=m;P--)if(S=f.indexToTime(P))for(w=+S-this._timeOffset;;b++){if(b>=v)return void(this._chartEvents.minObtainedTimestamp>f.indexToTime(m)&&this._chartEvents.requestMore({from:f.indexToTime(m)}));if(T=d[b],!t||t[T.currency]){if(T.timestamp<w)break;for(_[P]||(_[P]=[]),C=_[P].length;C--;)if(_[P][C][0].currency===T.currency){_[P][C].push(T);break}C<0&&_[P].push([T])}}}}}}else this.distibution&&this._createTemplates()},n.prototype._recalcCoordinates=function(){var e,t,i,n,r,o,s;if(this._distribution||this._recalcDistribution(),e=[],this._coordinates=e,(t=this._distribution)&&null!==(n=(i=this._series.model().timeScale()).visibleBarsStrictRange()))for(r=n.lastBar(),o=n.firstBar(),this._coordinates=e,s=o;s<=r;s++)t[s]&&e.push({x:i.indexToCoordinate(s)+1,items:t[s],index:s})},
n.prototype._onNewItems=function(){this._recalcDistribution(),this._series.model().updateSource(this)},n.prototype._createTemplates=function(){var e,t;if(!this._templatesCache)for(this._templatesCache={line:null,hovered:{},numbers:{}},this._createTemplateLine(),e=0;e<y.length;e++)t=y[e],this._createTemplateCircle(t,"low",u.color.attention),this._createTemplateCircle(t,"mid",u.color.attention50),this._createTemplateCircle(t,"hi",u.color.danger),this._createTemplateCircle(t,"hovered",u.color.brandHover)},n.prototype._createTemplateLine=function(){var e,t,i=p(document,new m(this._LOLLIPOP_LINE_WIDTH,this._LOLLIPOP_LINE_HEIGHT)),n=f(i);n.strokeStyle=this.color,CanvasEx.setLineStyle(n,CanvasEx.LINESTYLE_DASHED),(e=this._templatesCache).line=i,(t=new Image).onload=function(){e.line=t},t.src=i.toDataURL()},n.prototype._createTemplateCircle=function(e,t,n){function r(){var i=new Image;i.onload=function(){S[t][e]=i},i.src=v.toDataURL()}function o(){b.beginPath(),b.arc(s,s,_/2-a/2,0,2*Math.PI),b.closePath(),b.lineWidth=a,b.strokeStyle=n,b.stroke()}var s,a,l,c,u,h,d=this,_=d._LOLLIPOP_CIRCLE_DIAMETER*g,y=2.5*g,v=p(document,new m(_,_)),b=f(v),S=this._templatesCache;switch(S[t]||(S[t]={}),S[t][e]=v,s=Math.floor(_/2),l=_-2*(a=1.5*g)-2*y,c=this.bgcolor,u="",e){case"EUR":u=i("YUej");break;case"USD":u=i("9RhJ");break;case"JPY":u=i("C85F");break;case"GBP":u=i("Ngz3");break;case"CHF":u=i("IERO");break;case"AUD":u=i("tHq3");break;case"CAD":u=i("koRH");break;case"NZD":u=i("r4gg");break;case"CNY":u=i("EEWc")}u?((h=new Image).onload=function(){!function(e){e.width=l,e.height=l,b.drawImage(e,s-l/2,s-l/2,l,l),b.globalCompositeOperation="destination-in",b.beginPath(),b.arc(s,s,l/2,0,2*Math.PI),b.closePath(),b.fillStyle=c,b.fill(),b.globalCompositeOperation="source-over"}(h),o(),r(),d._invalidate()},/\b(MSIE|Trident)\b/.test(navigator&&navigator.appVersion)?h.src=this._fallbackImages[e]:h.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(u)):(o(),r())},n.prototype._amountImage=function(e){var t,i,n,r,o;return e=String(e),this._templatesCache.numbers[e]?this._templatesCache.numbers[e]:(t=this._LOLLIPOP_COUNTER_SIZE*g,i=10*g,n=p(document,new m(t,t)),o=t/2,(r=f(n)).font=i+"px sans-serif",r.textBaseline="middle",r.textAlign="center",r.fillStyle="white",r.arc(o,o,t/2,0,2*Math.PI),r.fill(),r.fillStyle="black",r.fillText(e,o,o),this._templatesCache.numbers[e]=n,n)},n.prototype._createTooltipLayout=function(){this._$tooltip=new h({width:220})},n.prototype._showTooltip=function(e,t,i,n){var r=n.canvas.parentNode;r&&(this._$tooltip||this._createTooltipLayout(),this._$tooltip.show({items:e,x:t,y:i,wrapElement:r,timeOffset:this._timeOffset}))},n.prototype._hideTooltip=function(){this._$tooltip&&this._$tooltip.hide()},n.prototype._invalidate=function(){this._series.model().updateSource(this)},n.prototype._dateStr=function(e){var t=new Date(e+this._timeOffset),i=Math.round(Math.abs(this._timeOffset)/6e4),n="UTC";return 0!==i&&(this._timeOffset>0?n+="+":n+="-",n+=Math.floor(i/60),i%60&&(n+=":"+i%60)),
t.getUTCFullYear()+"-"+("0"+(t.getUTCMonth()+1)).slice(-2)+"-"+("0"+t.getUTCDate()).slice(-2)+" "+("0"+t.getUTCHours()).slice(-2)+":"+("0"+t.getUTCMinutes()).slice(-2)+" ("+n+")"},n.prototype._fallbackImages={AUD:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAtFBMVEUAAABHV6hGV6hIWKdGV6lGV6mjrNVba6/MoLvXrcJdarOGg7man8+dptF4hcDhtsXhtsRndbhHWKn0lJ5SYq74v8X2qbG3vt6Ml8mXoc+AjMT1z9bd4O9pd7nGy+ROX63///9ebbP1pK3vY3HpnKrbt8mutdnc3+/yipXuXm339/vl6PPyprCjrNTfmKv09fqOmcp9icLZscTxdIGvttnglqitia/o6vTl5/Ogk771nKXR1uok/dPkAAAAEnRSTlMAkNAgz4/kQ/D0l1Q146P+/tdT9Ek9AAAAl0lEQVQYGU3ABRLCMAAEwEtS3C9CCxR3d/3/vwhMkcVLJl1dM0gpJLJXq+v0UngbOqtbHTIe9wJ4uenssDydyUbXMA8Umv3BvTm6kYaGjyJKVjtrJx0aemEZFT13C2vrpr2iF0Bvtm7Xcnu2I76A/46GkPwT9iQEGfNHQDG6RPxSgGh0Q34IeDUTMyHxJpgQSCghSSkUvCcoxxGR2DVB1AAAAABJRU5ErkJggg==",CAD:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAWlBMVEUAAADyna7wnqf19/v19/n09/rvipX09vr09/ruXm3udYPte4fue4j09/rvj5nwkJv0+vr39//tVWXtXm307PD04uf02N7uaHf19/rzztTxpq/udIHuX27uc4Cmg02WAAAAEnRSTlMAPFd/gL/A7/D+8OfmwK+tMCDHCHMKAAAAfElEQVR4AWWPRQLEIAwAU6GuBFL//ze3kfU5wcSBmTJXli6bwBhWpRxBaP1q+E7i/i38AJD6T1GnUIgI+x5Y+AIaEdF7EtEAsjgP74+TRa1i8TcXC9SScJslSIk1pW0ja5qijI1RxmLyv9jX6q0dV+m/GsCY8r6q+nzm9wN3vQ/0RJj4yQAAAABJRU5ErkJggg==",CHF:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAxElEQVR4AWNAB+9DUw3ehqTUvwlJ2Q+k34MwlF0PkmPAB4CKCt6Gpv7HhUGGAel8rJqBtmyAKCSM34SmrifKZgKuKYD7GZuCD6VN/6EAxMbqHZBekO0N2Az4WN8N0w9i43JFAwPQPwfQbAZr+DJvOUw/iA0Sw3AJSC8DkPEBWZAAwPAGRQaA9OL2wvwVMD0gNk4vUByIsGj8QGo0gvS8D8hQoCghkZ2UQWrxZaYPeDR/QLcZV3ZugMbOBxAGsUFiYD+jAQBm1lU4Y8LtqgAAAABJRU5ErkJggg==",CNY:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAbFBMVEUAAADvVGTtVGTsVWXtVGTvUGDvUGjtVGTtVWXsU2PtVWXsVGTsVWXtVGTsVGTvWmHuWmLtVWXwhVDtVWXuW2L2u0LylE7yjlHxgVXzmkzvdVn1tUT0p0fvaF7vblvxe1jxiFP1rUb0oUr0m0w7gi5vAAAAE3RSTlMAQIDA7xAg4JBQ8L9gf7CT4N95YlMWdQAAAIZJREFUGBlVwAcSgjAURdGX0LF7A0q37H+PfjOMg0df+WGXprtDrtU+hQlIK0UnIDQzppRx9x7oQ8A4KTs/uwCEcQEuma6NaYF5wjj5sWnemMeM8Upew3DDtAvmqOQWwp2pm4iO8kRtIPKq+OOUFWwUmeTYcDIlP6WifU1UV1rlPqmLxOcyH/tmDpsy+r2pAAAAAElFTkSuQmCC",EUR:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAYFBMVEUAAABIWKdFVapHV6hHV6hGWKlGWKlGV6lHV6hHWKhGWKlGV6lGV6lHWKlSX6JeZpxpbZd1dJCAe4uMgoWXiX+ikHqjkHmvl3LFpGfGpWfcslzds1voulXoulbzwFD/yEoW9yMBAAAADXRSTlMAIDBvcH+Ar7C/wO/wuFJj1gAAAJdJREFUeAE9z4UBxDAIQFHqxk+pe9l/y/N7cSfyEmdV01RZLF8pH00ibyVA1wEU//XhPAeA9Hke+mnEnXHqaWLJYfDTnk4fIJcahm2Ab1OLEgIBILx6jShcBy8cJ6jULH4bgN0+U0sOS9sGCG27QC6xQlj3ed7XABq9AsMuN/PLIP2GvvRm/QLl93PKC5rKV5zXqnUevfoPfJIMWKgHm2UAAAAASUVORK5CYII=",JPY:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAP1BMVEUAAAD39//0+vr2+Pr2+Pr19/v19/n19vn19vn09/r09/r09vr09/rxpa/yw8r19/rxpq/zxMvvh5PtVWXviJT5Un0aAAAADXRSTlMAIDBvcH+Ar7C/wO/wuFJj1gAAAGpJREFUeAFljoMBRDEMQFMrxcf+s16D8ytiAGFDaa0EC4qfQnNi5/kiafyN3/WsjLUOrrIQSZ7X5iYtQqX4xYytVsD9d3F0qvl14H/Ju+kpTS2SHL0Pkmj+FvtePQPjUUz0oNhYEWs0pD8AMW8Lpf/OkoMAAAAASUVORK5CYII=",
NZD:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAn1BMVEUAAABGV6lHV6hGWKlGWKlFVaqQgrRGV6lIWKfmmaimqdFHV6hGWKlGV6nTqb/e2ed1gb/TqL50gb/d2OZHWKhRVqRHV6j2qbH+9PX83+Lxf4tHWKn1o6v0maJmV5yFV49RV6TuXWxod7n0mqOMl8lcV6DOVXG5VXn2qrJGWKnuXm2vVn7yiZR6VpOPVouZVoelVoKkqNCDe7KaVobuX26RZHfdAAAAF3RSTlMA8HDAgDBq7yD++29/r/D90/DT/b/wsEIK9MUAAACcSURBVBgZTcAFEsIwAATAixR3S5MrLTXc4f9vI80wDItGazY/9xaDCF9TEztbkO0+gm6SOFsd6A3hjcr3sdzvn2xIoGWSPE+MebLRjjCJ3Xrt4uqQZvQ0xs4aY11c7LYkawVnK2Mq6x7phjxtlxD8c8kEFIPrjYGCZnDfMdCIBBsbelktOoDkzyuV8Fb8kQikYCAkviKthFC6A+8Dc4QUp0+PRNwAAAAASUVORK5CYII=",GBP:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABsElEQVR4AaVTA6+dURA8P6Fx+i/6D2rbttu4tm3HtS6fbdv2u7ated+W15zkaHd2ksVh4Zi3Tjxr6dYfa3M+1uQP33hrokV3srFEWLyZN2fJ1p+dS7f9xFB+E/SbD9P6dScb+YgTPXgbbx+RaEUVCPIRlwWDlzWw9eaTOiQr8OV7J3786NnMCHfu1MweaBm1mbsG0d48iVW7+DEFjp4pgkqih62hHZMTOjsjLNnyc93xc8XQyIywN3bA6/biybvmCAFRVj8sU0qYOwfR3TaNNXsEWLbt+zxWz29oIAItdV0X3F0DcLV2wZFb+k/AlVcKV3MnvP3DkFZ14C+/XtjQwNRn7niJFLE2HYp6D14Um7lAcAq0zM09cLV1w5VT8pfI3Yvh7uyHhksxmEuxjIpIFb7zogGBAGCra4VJY8F0Wds/ATmXt9/v54rcDq3CiJMXSqgrv4tIqCgf0Zu46lqmlRBy1Y7WxmXbf6K1YRzmnhGYxuXg8bqV7C++va7YouT6e+R0YcJBuvqwFh6nB19flW/OfJSjf6YfXbEEyEcclghU2OwPtQWjN9+aaNGdbNG4M6B0Sa2MTP3yAAAAAElFTkSuQmCC",USD:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAn1BMVEUAAAD19/n2+Prte4f09/rvipXuXm3wnqf0+vrvj5nudYOtlb5+jsu81PLwipbwkJvAutjue4judIKSib99i8d5hMPvkJusyu339/+GsOZznNv09vr00dfyna5KidztVWWCrudVkN7tXm319/q70/Jsn+KlxO6wy/Bgl+DS4veOtel3puWZvevvfYrM2/Pzz9XH2vRUhtVyhsfp8fvd6fm1RKu9AAAAHnRSTlMAgHDn8MD+VzCv8Hb7cr6t4ubv3vb45NIgr/PvyzyfYTeeAAAAkElEQVR4XlXLVQ7DMBBF0ReGMvMYwlDu/tfW2I6q9Gh+7pMGymg1ftJyGqA3r8UnJcb8melN3RDPiHUWqg9UkrpEsYFJLd45VYUZTiF2JbUNtZwSzcKRFEF01864cVFx8ciJaT7SjAquXswgsX71rtoWVvLHQugO290D9nCw0XHYjwMtkiZlhF7gxVLG3kXFF0FcGmdRqkNIAAAAAElFTkSuQmCC"},n.prototype.isSavedInChart=function(e){return!!e},n.prototype.state=function(e){var t,i,n,r,o,s,a,l,c,u,h,d,p,f,_=300,m=400;if(this._distribution||this._recalcDistribution(),!this._distribution)return null;if(t={type:"ChartEventsSource",id:this.id(),state:null,zorder:this.zorder()},e){for(i={},n=Object.keys(this._distribution).map(Number).filter(isFinite).sort(function(e,t){return t-e}),r=1/0,null!==(o=this._series.model().timeScale().visibleBarsStrictRange())&&(r=o.firstBar()),s=0,a=0;a<n.length&&!(s>_)&&!((l=n[a])<r);a++)for(i[l]=[],c=this._distribution[l],u=0;u<c.length&&!(s>m);u++)for(i[l][u]=[],h=this._distribution[l][u],d=0;d<h.length&&!(s>m);d++)f={timestamp:(p=h[d]).timestamp,currency:p.currency},p.actual&&(f.actual=p.actual),p.forecast&&(f.forecast=p.forecast),p.previous&&(f.previous=p.previous),p.title&&(f.title=p.title),isFinite(p.importance)&&(f.importance=p.importance),i[l][u][d]=f,s++;t.state={distribution:i}}return t},n.createFromState=function(e,t,i){var r,o;return t&&(r=i.mainSeries())&&(o=e&&e.state&&e.state.distribution)?new n(r,{fixedData:o}):null},n.prototype._lollipopMouseClickHandler=function(e){this._clickedId=this._clickedId===e?null:e,
this._clickedHoverItemIndex=this._hoverItemIndex},TradingView.ChartEventsSource=n,t.ChartEventsSource=n}).call(this,i("tc+8"))},KuNA:function(e,t,i){"use strict";var n,r;i.r(t),i.d(t,"ProPlans",function(){return n}),i.d(t,"BrokerPlans",function(){return r}),function(e){e.Free="free",e.Pro="pro",e.ProTrial="pro_trial",e.ProRealtime="pro_realtime",e.ProRealtimeTrial="pro_realtime_trial",e.ProPremium="pro_premium",e.ProPremiumTrial="pro_premium_trial",e.ProMiniAlerts="pro_mini_alerts",e.ProMiniAds="pro_mini_ads",e.ProMiniLayouts="pro_mini_layouts",e.ProEdu="pro_edu"}(n||(n={})),function(e){e.Platinum="platinum",e.Gold="gold",e.Silver="silver",e.Free="free"}(r||(r={}))},Kxc7:function(e,t,i){var n=i("qlfx"),r={},o={},s={},a={init:function(){var e,t,i,l;Object.keys(n).forEach(function(i){e=n[i],t=e.subsets,Array.isArray(t)?t.forEach(function(e){r[e]=1}):t&&Object.keys(t).forEach(function(e){r[e]=1}),r[i]=1}),(i=Object.keys(r)).forEach(function(e){i.forEach(function(i){if(void 0!==(l=n[i])){if(!(t=l.subsets))return;o.hasOwnProperty(e)||(o[e]=[]),Array.isArray(t)&&~t.indexOf(e)?o[e].push(i):e in t&&o[e].push(i)}})}),"undefined"!=typeof __initialDisabledFeaturesets&&__initialDisabledFeaturesets&&__initialDisabledFeaturesets.forEach(function(e){a.disable(e)}),"undefined"!=typeof __initialEnabledFeaturesets&&__initialEnabledFeaturesets&&__initialEnabledFeaturesets.forEach(function(e){a.enable(e)}),"undefined"!=typeof window&&(window.Featuresets=a),this.meta={_uniqueSetsNames:r,_setsReverseDependencies:o,_setsStates:s}},enabled:function(e){var t=function(e){var i,n,r=o.hasOwnProperty(e)?o[e]:[];if(!1===s[e])return!1;for(i=s[e],n=0;n<r.length;++n)i|=t(r[n]);return i};return!!t(e)},enable:function(e){s[e]=!0},disable:function(e){s[e]=!1},setEnabled:function(e,t){s[e]=!!t},_uniqueSets:function(){return Object.keys(r)}};a.init(),e.exports=a},"L/Ed":function(e,t,i){"use strict";var n;i.r(t),i.d(t,"ToolboxType",function(){return n}),function(e){e[e.Delete=0]="Delete"}(n||(n={}))},LAp3:function(e,t,i){"use strict";function n(e,t){return new a(e,t)}var r,o,s,a;i.d(t,"a",function(){return n}),r=i("mrSG"),o=i("ogJP"),s=i("5rJj"),a=function(e){function t(t,i){return e.call(this,t,i,!1,{names:["width","color","visible"]})||this}return Object(r.__extends)(t,e),t.prototype._iterateLevels=function(e,t){var i,n,r;for(i in e.levels)if(e.levels[i]&&Object(o.isSameType)(e.levels[i],t.typecheck())){for(r in n=t.tpl(),this._map.names)this._map.names.hasOwnProperty(r)&&(n=t.fill(r,this._map.names[r],e.levels[i],n));e.levels[i]=n}return e},t}(i.n(s).a)},LBej:function(e,t,i){"use strict";(function(t){function n(e,i){var n,r,s=TVSettings.getValue("PublishedChartsTimeline.filter",l.None);is_authenticated||(s=l.None),n=new t({filter:s}),o.call(this,e,n),this._currentRange=null,this._properties.visible.listeners().subscribe(this,function(e){this._getData(this._currentRange)}),this._properties.filter.listeners().subscribe(this,function(e){TVSettings.setValue("PublishedChartsTimeline.filter",e.value()),this.clearMarks(),this._getData(this._currentRange)}),
r=e._undoModel._chartWidget,this._containsData=r._containsData,this._containsData&&this._properties.visible.setValue(!0),this.setUserEditEnabled(!1),this._onIdeaClickedHandler=i}function r(e){a.call(this)}var o=i("fTGZ").BarsMarksContainer,s=i("BOPY").BarsMarksContainerRenderer,a=i("BOPY").BarMarkTooltip,l=i("hPwr").PublishedChartsFilter,c=i("TxTq"),u=i("IVMC"),h=i("PC8g").trackEvent,d=i("uOxu").getLogger("Chart.PublishedChartsTimeLine"),p=i("BHQF").fetch;inherit(n,o),n.prototype._initialize=function(e){c&&(this._boundOnMessage=this._onMessage.bind(this),c.on("ideas",this._boundOnMessage),c.on("ideas.post",this._boundOnMessage))},n.prototype._constructor="PublishedChartsTimeline",n.prototype._plateViewData=function(e){return{title:e.title,user_id:e.user__id,username:e.username,suggested:e.is_hot,mine:null!=window.user&&e.user__id===window.user.id,public:e.is_public}},n.prototype.paneViews=function(){return this._model.isInReplay()?[]:o.prototype.paneViews.call(this)},n.prototype.showIdea=function(e,t){var i,n=this._marks[e];if(n){if(h("GUI","View published idea"),t&&h("GUI","Ideas navigation arrow"),TradingView.onWidget()||this._containsData)return i=n.published_chart_url||"/v/"+n.image_url+"/",i=this._getBaseUrl()+i,void window.open(i);this._onIdeaClickedHandler({chartId:n.image_url,chartName:n.name,publishedUrl:n.published_chart_url,shortSymbol:n.short_name})}else d.logDebug("PublishedChartsTimeline.showIdea: unexpected published chart id")},n.prototype._getBaseUrl=function(){var e,t;return TradingView.onWidget()&&window.locale_domains?(e=window.locale||"en",(t=window.locale_domains[e]?window.locale_domains[e]:window.locale_domains.en)?document.location.protocol+"//"+t:""):""},n.prototype.onClicked=function(e){this.showIdea(e.id)},n.prototype.state=function(e){var t={type:"BarsMarksContainer",id:this.id(),zorder:this._zOrder,pinnedTooltips:this.pinnedTooltips};return e&&(t.marks=this.getPublishedPlates()),t},n.prototype.asyncState=function(){var e=this;return new Promise(function(t){e._properties.visible.value()?t(e.state(!0)):e._getData(e._currentRange,!0).then(function(){t(e.state(!0))})})},n.prototype.restoreData=function(e,t){null!=this.pinnedTooltips&&(this.pinnedTooltips=e.pinnedTooltips),t&&null!=e.marks&&(this._marks=e.marks)},n.prototype._getData=function(e,t){var i,n,r,o,s=this._model.mainSeries().properties(),a=this._model.mainSeries().symbolInfo();if(this._currentRange=e,a&&(this._properties.visible.value()||t))return i=a.base_name.length>1?a.base_name:[a.pro_name],n=this.roundRange(this._rangeDifference(e)),i=(i=u(i)).sort(function(e,t){return e-t}),r={interval:s.interval.value(),legs:JSON.stringify(i),startTickmark:n.start,endTickmark:n.end,filter:this._properties.filter.value()},o=$.ajax("/charttimeline/",{type:"POST",data:r,dataType:"json"}).done(function(t){t.forEach(function(e){this._marks[e.id]=e},this),this._loadedRange=this._rangeUnion(e,this._loadedRange);var i=this._requests.indexOf(o);~i&&this._requests.splice(i,1),this.onNeedRepaint.fire()}.bind(this)),this._requests.push(o),o},
n.prototype._onMessage=function(e){var t,i,n,r;this._containsData||(n=(i=(t=this._model.mainSeries()).symbolInfo())&&i.base_name)&&(r=t.properties(),e.interval===r.interval.value()&&~n.indexOf(e.pro_symbol)&&(this._marks[e.id]=e,this.onNeedRepaint.fire()))},n.prototype._createTooltip=function(){return new r},n.prototype.updateDotData=function(e,t){return t.mine=e.mine,t.public=e.public,t.direction=e.direction,t},n.prototype.updatePlateData=function(e,t){return t.title=e.title,t.user_id=e.user_id,t.username=e.username,t.barWidth=this.barWidth(),t},n.prototype.destroy=function(){this._onIdeaClickedHandler=null,this._boundOnMessage&&(c.off("ideas",this._boundOnMessage),c.off("ideas.post",this._boundOnMessage),this._boundOnMessage=void 0),o.prototype.destroy.call(this)},inherit(r,a),r.prototype._createLayout=function(){this._layout=$('<div class="published-charts-tooltip"></div>'),this._layout_avatar=$('<div class="avatar"><img></div>').appendTo(this._layout),this._layout_text=$('<div class="text"></div>').appendTo(this._layout),this._layout_username=$('<div class="username">'+$.t("by __username__",{username:"<b></b>"})+"</div>").appendTo(this._layout),this._layout_pin=$('<div class="pin"></div>').appendTo(this._layout),this._picture_fetched=!1;var e=this;this._layout_pin.click(function(){e.plateData.pinned=!e.plateData.pinned,e.source.pinTooltip(e.plateData.id,e.plateData.pinned),e._layout_pin.toggleClass("pinned",e.plateData.pinned)}),this._layout_text.click(function(){e.source.showIdea(e.plateData.id)})},r.prototype._updatePlate=function(e){this.plateData=e,this._layout.removeClass(s.THEMES.join(" ")).addClass(e.themeName),this._layout_text.text(e.title),this._layout_username.find("b").text(e.username),this._layout_pin.toggleClass("pinned",e.pinned),this._picture_fetched||(this._picture_fetched=!0,p("/api/v1/user/profile/{0}/?avatars_fallback=true".format(e.user_id)).then(function(e){return e.json()}).then(function(t){this._layout_avatar.find("img").attr("alt",e.username),this._layout_avatar.find("img").attr("src",t.avatars.mid)}.bind(this)))},e.exports=n}).call(this,i("tc+8"))},LIFs:function(e,t,i){"use strict";function n(e){return e.replace(a,l)}function r(e){return void 0===e&&(e=""),e.replace(/(<([^>]+)>)/gi,"")}function o(e){return void 0===e&&(e=""),e.replace(/\s+/g,"")}function s(e){return void 0===e&&(e=""),e.replace(/\b\w/g,function(e){return e.toUpperCase()})}var a,l;i.r(t),i.d(t,"htmlEscape",function(){return n}),i.d(t,"removeTags",function(){return r}),i.d(t,"removeSpaces",function(){return o}),i.d(t,"capitalizeFirstLetterInWord",function(){return s}),a=/[<"'&>]/g,l=function(e){return"&#"+e.charCodeAt(0)+";"}},LdoW:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor"><path d="M6.5 15A8.5 8.5 0 1 0 15 6.5H8.5"/><path d="M12 10L8.5 6.5 12 3"/></g></svg>'},Ltzl:function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"SaveLineToolStateUndoCommand",function(){return s}),n=i("mrSG"),r=i("Eyy1"),o=i("RDU5"),s=function(e){
function t(t,i,n,r){void 0===r&&(r=!0);var o=e.call(this,n,r)||this;return o._newStates=[],o._model=t,o._savedStates=i.map(function(e){return e.state(!1)}),o}return Object(n.__extends)(t,e),t.prototype.redo=function(){this._applyState(this._newStates)},t.prototype.undo=function(){0===this._newStates.length&&this.saveNewState(),this._applyState(this._savedStates)},t.prototype.saveNewState=function(){var e=this,t=this._savedStates.map(function(t){return Object(r.ensureNotNull)(e._model.dataSourceForId(t.id))});this._newStates=t.map(function(e){return e.state(!1)})},t.prototype._applyState=function(e){var t,i,n,o;for(t=0,i=e;t<i.length;t++)n=i[t],o=Object(r.ensureNotNull)(this._model.dataSourceForId(n.id)),this._model.restoreLineToolState(o,n)},t}(o.UndoCommand)},LxhU:function(e,t,i){"use strict";function n(e){return 0===e.length?1:parseInt(e,10)}function r(e){return e>=60&&!(e%60)}var o,s,a,l,c,u,h,d;i.r(t),i.d(t,"ResolutionKind",function(){return a}),i.d(t,"SpecialResolutionKind",function(){return l}),i.d(t,"Interval",function(){return d}),i.d(t,"isHour",function(){return r}),o=/^(\d*)([SHDWMR])$/,s=/^(\d+)$/,function(e){e.Seconds="seconds",e.Minutes="minutes",e.Days="days",e.Weeks="weeks",e.Months="months",e.Range="range",e.Invalid="invalid"}(a||(a={})),function(e){e.Hours="hours"}(l||(l={})),(c={})[a.Seconds]=1e3,c[a.Minutes]=60*c[a.Seconds],c[a.Days]=1440*c[a.Minutes],c[a.Weeks]=7*c[a.Days],u={S:a.Seconds,D:a.Days,W:a.Weeks,M:a.Months,R:a.Range},h=new Set([a.Seconds,a.Minutes]),d=function(){function e(e,t){this._kind=a.Invalid,this._multiplier=0,e!==a.Invalid&&t>0&&(this._kind=e,this._multiplier=t)}return e.prototype.kind=function(){return this._kind},e.prototype.multiplier=function(){return this._multiplier},e.prototype.isValid=function(){return this.kind()!==a.Invalid&&this.multiplier()>0},e.prototype.isDWM=function(){return this.isValid()&&!this.isRange()&&!this.isIntraday()},e.prototype.isIntraday=function(){var e=h.has(this.kind());return this.isValid()&&!this.isRange()&&e},e.prototype.isSeconds=function(){return this.kind()===a.Seconds},e.prototype.isMinutes=function(){return this.kind()===a.Minutes},e.prototype.isMinuteHours=function(){return this.kind()===a.Minutes&&r(this.multiplier())},e.prototype.isDays=function(){return this.kind()===a.Days},e.prototype.isWeeks=function(){return this.kind()===a.Weeks},e.prototype.isMonths=function(){return this.kind()===a.Months},e.prototype.isRange=function(){return this.kind()===a.Range},e.prototype.isTimeBased=function(){return!this.isRange()},e.prototype.letter=function(){return this.isValid()&&this.kind()!==a.Minutes?this.kind()[0].toUpperCase():""},e.prototype.value=function(){return this.isValid()?this.kind()===a.Minutes?this.multiplier()+"":this.multiplier()+this.letter():""},e.prototype.isEqualTo=function(t){if(!(t instanceof e))throw new Error("Argument is not an Interval");return!(!this.isValid()||!t.isValid())&&(this.kind()===t.kind()&&this.multiplier()===t.multiplier())},e.prototype.inMilliseconds=function(e){var t,i;return void 0===e&&(e=Date.now()),
!this.isValid()||this.isRange()?NaN:this.isMonths()?((t=new Date(e)).setUTCMonth(t.getUTCMonth()+(this.multiplier()||1)),+t-e):(i=this.multiplier(),c[this.kind()]*i)},e.isEqual=function(t,i){return e.parse(t).isEqualTo(e.parse(i))},e.parse=function(t){t=(t+"").toUpperCase().split(",")[0];var i=o.exec(t);return null!==i?"H"===i[2]?new e(a.Minutes,60*n(i[1])):new e(u[i[2]],n(i[1])):null!==(i=s.exec(t))?new e(a.Minutes,n(i[1])):new e(a.Invalid,0)},e.kind=function(t){return e.parse(t).kind()},e.isValid=function(t){return e.parse(t).isValid()},e.isDWM=function(t){return e.parse(t).isDWM()},e.isIntraday=function(t){return e.parse(t).isIntraday()},e.isSeconds=function(t){return e.parse(t).isSeconds()},e.isMinutes=function(t){return e.parse(t).isMinutes()},e.isMinuteHours=function(t){return e.parse(t).isMinuteHours()},e.isDays=function(t){return e.parse(t).isDays()},e.isWeeks=function(t){return e.parse(t).isWeeks()},e.isMonths=function(t){return e.parse(t).isMonths()},e.isRange=function(t){return e.parse(t).isRange()},e.isTimeBased=function(t){return e.parse(t).isTimeBased()},e.normalize=function(t){var i=e.parse(t);return i.isValid()?i.value():null},e}()},"M7/j":function(e,t,i){"use strict";function n(e){var t,i;if(0===e.length)return!1;if(-1===(t=e.findIndex(function(e){return Object(c.coordinateIsValid)(e.y)})))return!1;for(i=e.length-1;i>t&&!Object(c.coordinateIsValid)(e[i].y);)i--;return!(t>=i)}function r(e,t){var i,n,r,o,l,u=[],h=[],d=null;for(i=0;i<e.length;i++){if(n=e[i],r=e[i+1]||{},Object(c.coordinateIsValid)(n.y))n.y<=t&&u.push(n),n.y>=t&&h.push(n),d=n;else{if(null===d)continue;n=d}Object(c.coordinateIsValid)(r.y)&&((n.y>t&&r.y<t||n.y<t&&r.y>t)&&(Math.abs(n.x-r.x)<1?(o=new s.Point(n.x,t),u.push(o),h.push(o)):null!==(l=Object(a.intersectLineSegments)(n,r,new s.Point(n.x,t),new s.Point(r.x,t)))&&(o=n.add(r.subtract(n).scaled(l)),u.push(o),h.push(o))))}return{topItems:u,bottomItems:h}}var o,s,a,l,c,u,h,d,p;i.r(t),i.d(t,"itemsRangeIsValid",function(){return n}),i.d(t,"splitItems",function(){return r}),i.d(t,"PaneRendererBaseline",function(){return p}),o=i("mrSG"),s=i("aO4+"),a=i("hBTJ"),l=i("GEp6"),c=i("Zp/P"),u=i("Y7w9"),h=i("cPgM"),d=i("VdBB"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._data=null,t}return Object(o.__extends)(t,e),t.prototype.setData=function(e){this._data=e},t.prototype.hitTest=function(e){var t,i,n,r,o,a,h,p,f,_,m;if(null===this._data)return null;for(i=(t=this._data).items,n=t.topLineWidth,r=t.bottomLineWidth,o=Object(c.selectionTolerance)((n+r)/2),a=Object(u.lowerbound)(i,e,function(e,t){return e.x<=t.x}),h=Math.max(1,a-1),p=Math.min(i.length-1,a+1),f=h;f<=p;++f)if(_=i[f-1],m=i[f],Object(l.distanceToSegment)(new s.Point(_.x,_.y),new s.Point(m.x,m.y),new s.Point(e.x,e.y)).distance<=o)return new d.HitTestResult(d.HitTestResult.REGULAR);return null},t.prototype._drawImpl=function(e){var t,i,o,s,a,l,c,u,h,d,p,f,_,m,g;null!==this._data&&(i=(t=this._data).items,o=t.baseLevelCoordinate,s=t.bottom,a=t.bottomFillColor1,l=t.bottomFillColor2,c=t.topFillColor1,
u=t.topFillColor2,h=t.topLineColor,d=t.bottomLineColor,p=t.topLineWidth,f=t.bottomLineWidth,n(i)&&(m=(_=r(i,o)).topItems,g=_.bottomItems,e.lineCap="round",e.lineJoin="round",e.translate(.5,.5),0!==m.length&&(e.beginPath(),e.moveTo(m[0].x,o),this._makeLine(e,m,!0,0),e.closePath(),e.fillStyle=this._makeLinearGradient(e,c,u,o-s,o),e.fill(),e.beginPath(),this._makeLine(e,m,!1,0),e.lineWidth=p,e.strokeStyle=h,e.stroke()),0!==g.length&&(e.beginPath(),e.moveTo(g[0].x,o),this._makeLine(e,g,!0,1),e.closePath(),e.fillStyle=this._makeLinearGradient(e,a,l,o,o+s),e.fill(),e.beginPath(),this._makeLine(e,g,!1,1),e.lineWidth=f,e.strokeStyle=d,e.stroke())))},t.prototype._makeLine=function(e,t,i,n){var r,o,s,a,l,u,h,d,p,f;if(null!==this._data&&-1!==(r=t.findIndex(function(e){return Object(c.coordinateIsValid)(e.y)})))for(s=(o=this._data).barSpacing,a=o.baseLevelCoordinate,l=.25*s,h=t.length,d=r;d<h;d++)if(p=t[d],f=t[d+1]||{},Object(c.coordinateIsValid)(p.y)){if(0===n){if(u&&u.y>=a&&p.y>=a){e.moveTo(p.x,p.y);continue}}else if(u&&u.y<=a&&p.y<=a){e.moveTo(p.x,p.y);continue}if(u&&Object(c.coordinateIsValid)(u.y))e.lineTo(p.x,p.y),i&&!Object(c.coordinateIsValid)(f.y)&&e.lineTo(p.x,a);else if(f&&Object(c.coordinateIsValid)(f.y))i?(d!==r&&e.lineTo(p.x,a),e.lineTo(p.x,p.y)):e.moveTo(p.x,p.y);else if(i){if(0===d)continue;d!==r&&e.lineTo(p.x-l,a),e.lineTo(p.x-l,p.y),e.lineTo(p.x+l,p.y),e.lineTo(p.x+l,a)}else e.moveTo(p.x-l,p.y),e.lineTo(p.x+l,p.y);u=p}},t.prototype._makeLinearGradient=function(e,t,i,n,r){var o=e.createLinearGradient(0,n,0,r);return o.addColorStop(0,t),o.addColorStop(1,i),o},t}(h.ScaledPaneRenderer)},MA5A:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u;i.r(t),i.d(t,"LineToolCrossLine",function(){return u}),n=i("mrSG"),r=i("Ocx9"),o=i("p1SQ"),s=i("GmZZ"),a=i("Ss5c"),l=i("hayr"),c=window.t("Cross Line"),u=function(e){function t(n,r){var a=e.call(this,n,r||t.createProperties())||this;return a._constructor="LineToolCrossLine",a._priceAxisView=new o.LineToolHorzLinePriceAxisView(a),a._timeAxisView=new s.LineToolVertLineTimeAxisView(a),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("amUF").CrossLinePaneView;a._setPaneViews([new t(a,a._model)])}.bind(null,i)).catch(void 0),a}return Object(n.__extends)(t,e),t.prototype.pointsCount=function(){return 1},t.prototype.translatedType=function(){return c},t.prototype.name=function(){return"Cross Line"},t.prototype.priceAxisViews=function(e,t){return this.isSourceHidden()?null:t===this.priceScale()&&this.properties().showPrice.value()&&this._model.paneForSource(this)===e?[this._priceAxisView]:null},t.prototype.timeAxisViews=function(){return this.isSourceHidden()?null:this.properties().showTime.value()?[this._timeAxisView]:null},t.prototype.updateAllViews=function(){e.prototype.updateAllViews.call(this),this._priceAxisView.update(),this._timeAxisView.update()},t.prototype.canHasAlert=function(){return!1},t.prototype.getInputsPropertyPage=function(){return l.propertyPages.LineToolCrossLineInputsPropertyPage},t.prototype.getStylesPropertyPage=function(){
return l.propertyPages.LineToolCrossLineStylesPropertyPage},t.prototype.lineColor=function(){return this.properties().linecolor.value()},t.prototype.lineWidth=function(){return this.properties().linewidth.value()},t.prototype.lineStyle=function(){return this.properties().linestyle.value()},t.createProperties=function(e){var i=new r.DefaultProperty("linetoolcrossline",e);return t._configureProperties(i),i},t.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(i.bind(null,"xrdl")).then(function(e){return e.CrossLineDefinitionsViewModel})},t._configureProperties=function(e){a.LineDataSource._configureProperties(e)},t}(a.LineDataSource)},MROS:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"ModelSelection",function(){return o}),n=i("Y7w9"),r=i("CW80"),o=function(){function e(){this._items=[],this._set=new Set}return e.prototype.isEmpty=function(){return 0===this._items.length},e.prototype.add=function(e){this._items.length>0&&!Object(r.isLineTool)(this._items[0])&&this.clear(),Object(r.isLineTool)(e)||this.clear();var t=Object(n.lowerbound)(this._items,e,function(e,t){return e.zorder()<t.zorder()});this._items.splice(t,0,e),this._set.add(e)},e.prototype.canBeAddedToSelection=function(e){return 0===this._items.length||Object(r.isLineTool)(this._items[0])&&Object(r.isLineTool)(e)},e.prototype.isSelected=function(e){return this._set.has(e)},e.prototype.sources=function(){return this._items.slice(0)},e.prototype.checkLineToolSelection=function(){this._items.forEach(function(e){return Object(r.isLineTool)(e)&&e.calcIsActualSymbol()}),this._items=this._items.filter(function(e){return!Object(r.isLineTool)(e)||e.isActualSymbol()})},e.prototype.remove=function(e){this._items=this._items.filter(function(t){return t!==e}),this._set.delete(e)},e.prototype.clear=function(){this._items=[],this._set.clear()},e.prototype.notFixedSources=function(){return this._items.filter(function(e){return!Object(r.isLineTool)(e)||!e.isFixed()})},e}()},MSvv:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C;i.r(t),n=i("mrSG"),r=i("Eyy1"),o=i("ogJP"),s=i("k9/m"),a=i("Ss5c"),l=i("Ocx9"),c=i("0YCj"),u=i.n(c),h=i("jenN"),d=i("aB9a"),p=i("8Uy/"),f=i("a7Ha"),_=i("Zy3/"),m=i("z+cS"),g=i("pJOz"),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lineRenderer1=new m.VerticalLineRenderer,t._lineRenderer2=new m.VerticalLineRenderer,t._medianRenderer=new g.TrendLineRenderer,t._renderer=null,t}return Object(n.__extends)(t,e),t.prototype.renderer=function(){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._renderer},t.prototype._updateImpl=function(){var t,i,n,o,s;e.prototype._updateImpl.call(this),this._renderer=null,this._getPoints().length<2||(i=(t=this._getPoints())[0],n=t[1],o=this._getModel().timeScale().width(),s=Object(r.ensureNotNull)(this._getSource().priceScale()).height(),this._lineRenderer1.setData({width:o,height:s,x:i.x,color:"#808080",linewidth:1,
linestyle:p.LINESTYLE_SOLID}),this._lineRenderer2.setData({width:o,height:s,x:n.x,color:"#808080",linewidth:1,linestyle:p.LINESTYLE_SOLID}),this._medianRenderer.setData({width:o,height:s,points:[i,n],color:"#808080",linewidth:1,linestyle:p.LINESTYLE_SOLID,extendleft:!1,extendright:!1,leftend:f.LineEnd.Normal,rightend:f.LineEnd.Normal}),this._renderer=new _.CompositeRenderer,this._renderer.append(this._lineRenderer1),this._renderer.append(this._lineRenderer2),this._renderer.append(this._medianRenderer))},t}(d.LineSourcePaneView),v=i("hayr"),b=i("ZAxB"),S=i("gvrv"),w=i("w4Ji"),P=i("GVHu"),i.d(t,"StudyLineDataSource",function(){return T}),T=function(e){function t(t,i,n,r){var o=e.call(this,t,r)||this;return o._indexes=null,o._inputs=null,o._pointsetPoints=null,o._loadedPlots=null,o._loadedGraphics=null,o._definitionsViewModel=null,o._beingCreatedPaneView=new y(o,t),o._anchorsPaneView=new C(o,t),o._metaInfo=i,o._dataSource=new S.a(t.chartApi(),t.mainSeries(),n,i),o._dataSource.dataCleared().subscribe(o,o._onDataCleared),o._dataSource.dataUpdated().subscribe(o,o._onDataUpdated),o}return Object(n.__extends)(t,e),t.prototype.destroy=function(){this._dataSource.dataUpdated().unsubscribe(this,this._onDataUpdated),this._dataSource.dataCleared().unsubscribe(this,this._onDataCleared),this._dataSource.destroy(),null!==this._definitionsViewModel&&(this._definitionsViewModel.destroy(),this._definitionsViewModel=null),e.prototype.destroy.call(this)},t.prototype.stop=function(){this._dataSource.stop(),e.prototype.stop.call(this)},t.prototype.metaInfo=function(){return this._metaInfo},t.prototype.graphicsInfo=function(){return this._metaInfo.graphics},t.prototype.series=function(){return this._model.mainSeries()},t.prototype.translatedType=function(){return this._metaInfo.description},t.prototype.name=function(){return this._metaInfo.description},t.prototype.studyId=function(){return this._metaInfo.id},t.prototype.setPoint=function(t,i,n){this.clearData(),e.prototype.setPoint.call(this,t,this._preparePoint(i,n))},t.prototype.move=function(e){},t.prototype.clearData=function(){this._pointsetPoints=null,this._inputs=null,this._dataSource.clearData(),this._loadedPlots=null,this._indexes=null,this._loadedGraphics=null,this.updateAllViews()},t.prototype.data=function(){return this.plots()},t.prototype.plots=function(){return this._loadedPlots||this._dataSource.plots()},t.prototype.graphics=function(){return this._loadedGraphics||this._dataSource.graphics()},t.prototype.firstValue=function(){return this._model.mainSeries().firstValue()},t.prototype.state=function(t){var i,r,s=e.prototype.state.call(this,t);return this.metaInfo()instanceof u.a?i=this.metaInfo().state():(i=Object(o.clone)(this.metaInfo())).id=u.a.parseIdString(i.id+(i.version?"-"+i.version:"")).fullId,r=Object(n.__assign)(Object(n.__assign)({},s),{metaInfo:i}),t&&(r.data=this.plots().state(),r.nonseriesindexes=this._indexes,r.graphics=Object(h.saveStudyGraphics)(this.graphics())),r},t.prototype.restoreData=function(e){
void 0!==e.data&&(this._loadedPlots=new s.PlotList(Object(w.studyPlotFunctionMap)(this._metaInfo)),this._loadedPlots.restoreState(e.data)),this._indexes=e.nonseriesindexes?e.nonseriesindexes:null,this._loadedGraphics=e.graphics?Object(h.loadStudyGraphics)(e.graphics):null},t.prototype.getInputsPropertyPage=function(){return v.propertyPages.StudyLineDataSourcePropertyPage},t.prototype.getStylesPropertyPage=function(){return v.propertyPages.StudyStylesPropertyPage},t.prototype.getPropertyDefinitionsViewModel=function(){var e=this;return null===this._definitionsViewModel?this._getPropertyDefinitionsViewModelClass().then(function(t){return null===t||e._isDestroyed?null:(null===e._definitionsViewModel&&(e._definitionsViewModel=new t(e._model.undoModel(),e)),e._definitionsViewModel)}):Promise.resolve(this._definitionsViewModel)},t.prototype.paneViews=function(){var t,i=[];return this.isSourceHidden()?i:(this._isReady()?null!==(t=e.prototype.paneViews.call(this))&&(i=i.concat(t)):i.push(this._beingCreatedPaneView),i.push(this._anchorsPaneView),i)},t.prototype.propertiesChanged=function(){e.prototype.propertiesChanged.call(this),this._processHibernate(),this._onStudyInputsMayChange()},t.createPropertiesFromStudyMetaInfoAndState=function(e,i,n,r){var o=Object(P.prepareStudyPropertiesForLoadChart)(e,i,n,null,r);return t._configureProperties(o),o},t.prototype._isReady=function(){return!0},t.prototype._onPointsetUpdated=function(t){e.prototype._onPointsetUpdated.call(this,t),this._pointsetPoints=this._points.map(function(e){return{price:e.price,index:e.index}}),this._onStudyInputsMayChange()},t.prototype._onDataCleared=function(){this.updateAllViews(),this._model.updateSource(this)},t.prototype._onDataUpdated=function(e,t,i){this.updateAllViews(),this._model.updateSource(this)},t.prototype._onStudyInputsMayChange=function(){var e=null!==this._pointsetPoints&&this._pointsetPoints.length===this.pointsCount()?this._studyInputs(this._pointsetPoints):null;this._areInputsEqual(this._inputs,e)||this._applyStudyInputs(e)},t.prototype._preparePoint=function(t,i){var n=Object(r.ensureNotNull)(this._model.mainSeries().bars().firstIndex()),o=Object(r.ensureNotNull)(this._model.mainSeries().bars().lastIndex());return t.index=Math.max(t.index,n),t.index=Math.min(t.index,o),e.prototype._preparePoint.call(this,t,i)},t.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.resolve(null)},t._createPropertiesFromStudyIdAndState=function(e,i){var n=u.a.getStudyPropertyRootNameById(e),r=new l.DefaultProperty(n,i);return t._configureProperties(r),r},t._createPropertiesFromStudyMetaInfo=function(e,i){var n=Object(P.prepareStudyProperties)(e,null,null,i);return t._configureProperties(n),n},t._configureProperties=function(e){a.LineDataSource._configureProperties(e)},t.prototype._processHibernate=function(){this.isSourceHidden()?this._dataSource.isStarted()&&this._dataSource.stop():this._dataSource.isStarted()||null===this._inputs||this._dataSource.start()},t.prototype._areInputsEqual=function(e,t){
return null===t?null===e:null!==e&&Object(b.a)(this._metaInfo.inputs,e,t)},t.prototype._applyStudyInputs=function(e){var t=this._inputs;this._inputs=e,null!==e?(this._dataSource.setInputs(e),null!==t||this.isSourceHidden()||this._dataSource.isStarted()||this._dataSource.start()):this.clearData(),this.properties().lastUpdateTime.setValue((new Date).valueOf())},t}(a.LineDataSource),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.renderer=function(){this._invalidated&&(this._updateImpl(),this._invalidated=!1);var e=new _.CompositeRenderer;return e.append(this.createLineAnchor({points:this._getPoints()})),e},t}(d.LineSourcePaneView)},MWAT:function(e,t,i){"use strict";function n(e){var t=Object(s.ensureDefined)(d.find(function(t){return t.name===e}));return new t.ctor(t)}function r(){return d}var o,s,a,l,c,u,h,d;i.r(t),i.d(t,"PriceScaleSelectionStrategyEvenly",function(){return c}),i.d(t,"PriceScaleSelectionStrategyAllRight",function(){return u}),i.d(t,"PriceScaleSelectionStrategyAllLeft",function(){return h}),i.d(t,"createPriceScaleSelectionStrategy",function(){return n}),i.d(t,"allPriceScaleSelectionStrategyInfo",function(){return r}),o=i("mrSG"),s=i("Eyy1"),a=i("3ClC"),c=function(e){function t(t){return e.call(this,t)||this}return Object(o.__extends)(t,e),t.prototype.apply=function(e){var t,i;for(e.containsMainSeries()&&(t=Object(s.ensureNotNull)(Object(s.ensureNotNull)(e.mainDataSource()).priceScale()),e.movePriceScale(t,"right",0)),i=e.model();e.leftPriceScales().length>e.rightPriceScales().length;)t=e.leftPriceScales()[e.leftPriceScales().length-1],e.movePriceScale(t,"right",this._targetPriceScaleIndex(t,i));for(;e.rightPriceScales().length-e.leftPriceScales().length>1;)t=e.rightPriceScales()[e.rightPriceScales().length-1],e.movePriceScale(t,"left",this._targetPriceScaleIndex(t,i))},t.prototype.createNewPriceScaleIfPossible=function(e){if(!this.canCreateNewPriceScale(e))return e.createPriceScaleAtPosition("overlay");var t=e.leftPriceScales().length<e.rightPriceScales().length?"left":"right";return e.createPriceScaleAtPosition(t)},t}(l=function(){function e(e){this._priceScalesLimit=8,this._metaInfo=e}return e.prototype.metaInfo=function(){return this._metaInfo},e.prototype.findSuitableScale=function(e,t,i,n){var r,o,s,l,c;if(void 0!==n)return this._tryToGetDesiredPriceScale(e,t,n,i);if(Object(a.isStudy)(t)){if("Volume@tv-basicstudies"===(r=t.metaInfo()).id)return(o=e.createPriceScaleAtPosition("overlay")).setTopMargin(.75),o.setBottomMargin(0),o;if(null!==(s=t.desiredPriceScalePosition()))return this._tryToGetDesiredPriceScale(e,t,s,i);if(void 0!==i&&(Object(a.isStudy)(i)||e.isMainPane())&&r.is_price_study)return this._getPriceScaleTheSameAsForSource(i,e)}if(l=!1,Object(a.isStudy)(t)){if(void 0!==(c=t.metaInfo().groupingKey)&&null!==(o=e.model().findNonOverlayStudyWithGroupingKey(c,e)))return this._getPriceScaleTheSameAsForSource(o.study,o.pane);l=Boolean(t.metaInfo().is_price_study)}else t===e.model().mainSeries()&&(l=!0)
;return l&&null!==(o=this._findFirstScaleForPriceStudy(e))?o:this.createNewPriceScaleIfPossible(e)},e.prototype.canCreateNewPriceScale=function(e){return e.leftPriceScales().length+e.rightPriceScales().length<this._priceScalesLimit},e.prototype._getPriceScaleTheSameAsForSource=function(e,t){return t.isOverlay(e)?t.createPriceScaleAtPosition("overlay"):Object(s.ensureNotNull)(e.priceScale())},e.prototype._priceScaleIsPrice=function(e,t){var i=e.mainSource();return!!i&&(i===t.mainSeries()||!!Object(a.isStudy)(i)&&Boolean(i.metaInfo().is_price_study))},e.prototype._findFirstScaleForPriceStudy=function(e){var t,i=e.model();for(t=0;t<this._priceScalesLimit;t++){if(e.rightPriceScales().length>t&&this._priceScaleIsPrice(e.rightPriceScales()[t],i))return e.rightPriceScales()[t];if(e.leftPriceScales().length>t&&this._priceScaleIsPrice(e.leftPriceScales()[t],i))return e.leftPriceScales()[t]}return null},e.prototype._targetPriceScaleIndex=function(e,t){if(e.mainSource()===t.mainSeries())return 0},e.prototype._tryToGetDesiredPriceScale=function(e,t,i,n){switch(i){case"left":return this.canCreateNewPriceScale(e)?e.createPriceScaleAtPosition("left"):e.createPriceScaleAtPosition("overlay");case"right":return this.canCreateNewPriceScale(e)?e.createPriceScaleAtPosition("right"):e.createPriceScaleAtPosition("overlay");case"as-series":return void 0!==n?Object(s.ensureNotNull)(n.priceScale()):e.isMainPane()?Object(s.ensureNotNull)(Object(s.ensureNotNull)(e.mainDataSource()).priceScale()):this.createNewPriceScaleIfPossible(e);case"overlay":return e.createPriceScaleAtPosition("overlay")}},e}()),u=function(e){function t(t){return e.call(this,t)||this}return Object(o.__extends)(t,e),t.prototype.apply=function(e){var t=this,i=e.model();e.leftPriceScales().slice(0).forEach(function(n){return e.movePriceScale(n,"right",t._targetPriceScaleIndex(n,i))})},t.prototype.createNewPriceScaleIfPossible=function(e){return this.canCreateNewPriceScale(e)?e.createPriceScaleAtPosition("right"):e.createPriceScaleAtPosition("overlay")},t}(l),h=function(e){function t(t){return e.call(this,t)||this}return Object(o.__extends)(t,e),t.prototype.apply=function(e){var t=this,i=e.model();e.rightPriceScales().slice(0).forEach(function(n){return e.movePriceScale(n,"left",t._targetPriceScaleIndex(n,i))})},t.prototype.createNewPriceScaleIfPossible=function(e){return this.canCreateNewPriceScale(e)?e.createPriceScaleAtPosition("left"):e.createPriceScaleAtPosition("overlay")},t}(l),d=[{name:"left",title:window.t("Stack On The Left"),ctor:h},{name:"right",title:window.t("Stack On The Right"),ctor:u},{name:"auto",title:window.t("Auto"),ctor:c}]},MXV9:function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor" transform="translate(4 4)"><path d="M.5 10.992c0 .287.226.508.505.508H2.65c.19.93.55 1.82 1.09 2.63L2.577 15.3a.5.5 0 0 0-.007.71l1.42 1.42a.5.5 0 0 0 .71-.007l1.17-1.163c.81.54 1.71.9 2.63 1.09v1.645c0 .284.227.505.508.505h1.984c.28 0 .508-.221.508-.505V17.35a7.46 7.46 0 0 0 2.63-1.09l1.17 1.163a.5.5 0 0 0 .71.007l1.42-1.42a.5.5 0 0 0-.007-.71l-1.163-1.17c.54-.81.9-1.7 1.09-2.63h1.645a.502.502 0 0 0 .505-.508V9.008a.503.503 0 0 0-.505-.508H17.35c-.19-.93-.55-1.82-1.09-2.63l1.163-1.17a.5.5 0 0 0 .007-.71l-1.42-1.42a.5.5 0 0 0-.71.007L14.13 3.74a7.46 7.46 0 0 0-2.63-1.09V1.005A.504.504 0 0 0 10.992.5H9.008a.504.504 0 0 0-.508.505V2.65c-.92.19-1.82.55-2.63 1.09L4.7 2.577a.5.5 0 0 0-.71-.007L2.57 3.99a.5.5 0 0 0 .007.71L3.74 5.87c-.54.81-.9 1.7-1.09 2.63H1.005a.503.503 0 0 0-.505.508v1.984z"/><circle cx="10" cy="10" r="2.5"/></g></svg>'},MY2c:function(e,t,i){"use strict";var n,r,o,s,a,l;i.r(t),i.d(t,"UndoStack",function(){return l}),n=i("RDU5"),r=i("aIyQ"),o=i.n(r),s=i("uOxu"),a=Object(s.getLogger)("Common.UndoStack"),l=function(){function e(){this._commands=[],this._onChange=new o.a}return e.prototype.onChange=function(){return this._onChange},e.prototype.isEmpty=function(){return 0===this._commands.length},e.prototype.clear=function(){this.isEmpty()||(this._commands.length=0,this._onChange.fire())},e.prototype.push=function(e){if(!(e instanceof n.UndoCommand))throw new TypeError("argument must be an instance of UndoCommand");this._commands.push(e),this._onChange.fire(e)},e.prototype.pop=function(){if(!this.isEmpty()){var e=this._commands.pop();return this._onChange.fire(e),e}a.logDebug("pop: undo stack is empty")},e.prototype.head=function(){if(!this.isEmpty())return this._commands[this._commands.length-1]},e}()},MbIA:function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"DateTimeFormatter",function(){return s}),n=i("4kQX"),r=i("gQ5K"),o={dateFormat:"yyyy-MM-dd",timeFormat:"%h:%m:%s",dateTimeSeparator:" "},s=function(){function e(e){void 0===e&&(e={});var t=Object.assign({},o,e);this._dateFormatter=new r.DateFormatter(t.dateFormat),this._timeFormatter=new n.TimeFormatter(t.timeFormat),this._separator=t.dateTimeSeparator}return e.prototype.format=function(e){return""+this._dateFormatter.format(e)+this._separator+this._timeFormatter.format(e)},e.prototype.formatLocal=function(e){return""+this._dateFormatter.formatLocal(e)+this._separator+this._timeFormatter.formatLocal(e)},e}()},"MyT/":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><circle fill="currentColor" cx="9" cy="9" r="4"/></svg>'},"N+BX":function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolBezierCubic";var o=t||n.createProperties();r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("a6on").BezierCubicPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}
var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=window.t("Double Curve");inherit(n,r),n.prototype.pointsCount=function(){return 2},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Double Curve"},n.prototype.controlPoints=function(){var e=this.pointToScreenPoint(this.points()[0])[0],t=this.pointToScreenPoint(this.points()[1])[0],i=t.subtract(e).scaled(.5),n=i.transposed().scaled(.3),r=e.add(t).scaled(.33),o=e.add(t).scaled(.67),s=r.add(n),a=o.subtract(n);return[this.screenPointToPoint(s),this.screenPointToPoint(a)]},n.prototype.setLastPoint=function(e,t){r.prototype.setLastPoint.call(this,e,t),this._controlPoints=this.controlPoints()},n.prototype.addPoint=function(e,t,i){var n,o=r.prototype.addPoint.call(this,e,t,!0);return o&&(n=this.controlPoints(),delete this._controlPoints,this._points.push(n[0]),this._points.push(n[1]),i||(this.normalizePoints(),this.createServerPoints()),this._createPointProperty(2),this._createPointProperty(3)),o},n.prototype.restorePoints=function(e,t,i){r.prototype.restorePoints.call(this,e,t,i),this._createPointProperty(2),this._createPointProperty(3)},n.prototype.getStylesPropertyPage=function(){return s.LineToolBezierStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("b4fl").GeneralBezierDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new o("linetoolbeziercubic",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolBezierCubic=n},N22A:function(e,t,i){"use strict";function n(){return Object(o.a)(s)?Object(o.c)(s):null}function r(){return Object(o.e)(s)}var o,s;i.r(t),i.d(t,"TRADING_SERVICE",function(){return s}),i.d(t,"tradingService",function(){return n}),i.d(t,"waitTradingService",function(){return r}),o=i("ObRt"),s={id:"TradingService"}},NA7W:function(e,t,i){"use strict";var n,r;i.r(t),i.d(t,"QuoteSessionPriceFormatter",function(){return r}),n=i("kcTO"),r=function(){function e(e){this.type="quoteSessionPrice",this.reset(e)}return e.prototype.state=function(){return this._priceFormatter.state()},e.prototype.reset=function(e){this._priceFormatter=e||new n.PriceFormatter(100,1,!1)},e.prototype.update=function(e,t){var i=null!=t.pricescale||null!=t.minmov||null!=t.fractional||null!=t.minmove2,r=null!=e.pricescale&&null!=e.minmov&&null!=e.fractional&&null!=e.minmove2;i&&r&&(this._priceFormatter=new n.PriceFormatter(e.pricescale,e.minmov,e.fractional||!1,e.minmove2))},e.prototype.format=function(e,t,i){return this._priceFormatter.format(e,t,i)},e.prototype.hasForexAdditionalPrecision=function(){return this._priceFormatter.hasForexAdditionalPrecision()},e.serialize=function(e){return e.state()},e.deserialize=function(t){return new e(new n.PriceFormatter(t.priceScale,t.minMove,t.fractional,t.minMove2))},e}()},NJRZ:function(e,t,i){"use strict";function n(e,t){
this._constructor="LineTool5PointsPattern";var o=t||n.createProperties();r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("6MfG").Pattern5PaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=window.t("XABCD Pattern");inherit(n,r),n.prototype.pointsCount=function(){return 5},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"XABCD Pattern"},n.prototype.getStylesPropertyPage=function(){return s.LineToolLineTool5PointsPatternStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("EFc4").Points5PatternDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new o("linetool5pointspattern",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineTool5PointsPattern=n},NP3r:function(e,t,i){"use strict";function n(){var e,t=(null===(e=window.user)||void 0===e?void 0:e.pro_plan)||u.ProPlans.Free,i=t!==u.ProPlans.Free&&!Object(h.isTrialProduct)(t);return i||(t=Object(h.getProductForTrial)(t)),i&&window.user&&!window.user.is_pro_limited&&!window.user.new_pro_product_line&&(t="__legacy_"+t),t}function r(e,t){var i=o(e,t);return!!i&&!(i[c.ProductFeatures.DISABLE_ON_TRIAL]&&(!window.user||window.user.is_trial))}function o(e,t){var i,r=function e(t){var i=a[t];return i?i.extends?Object.assign({},e(i.extends),i):i:null}(t||n());return r?((i=window.TradingView.widgetCustomer)&&l[i]&&(r=Object.assign({},r,l[i])),r&&r[e]||null):null}var s,a,l,c,u,h,d;i.r(t),i.d(t,"getProductId",function(){return n}),i.d(t,"enabled",function(){return r}),i.d(t,"getConfig",function(){return o}),s=i("bSeV"),a=i("+lbv"),l=i("FwoV"),c=i("bKsZ"),u=i("KuNA"),h=i("FfBj"),d=i("+GxX"),Object(d.isFeatureEnabled)("alerts_on_seconds_for_trial")&&(delete a.pro_premium[c.ProductFeatures.ALERTS_ON_SECONDS][c.ProductFeatures.DISABLE_ON_TRIAL],delete a.__legacy_pro_premium[c.ProductFeatures.ALERTS_ON_SECONDS][c.ProductFeatures.DISABLE_ON_TRIAL]),Object(d.isFeatureEnabled)("alerts_on_seconds")||(delete a.pro_premium[c.ProductFeatures.ALERTS_ON_SECONDS],delete a.__legacy_pro_premium[c.ProductFeatures.ALERTS_ON_SECONDS])},NWKS:function(e){e.exports=JSON.parse('{"color-toolbar-button-text-active":"color-seeking-alpha-brand"}')},Ndyb:function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"PaneRendererColumns",function(){return s}),n=i("VdBB"),r=3,o=4,s=function(){function e(e){this._data=null,this._precalculatedCache=[],this.setData(e)}return e.prototype.setData=function(e){this._data=e,this._precalculatedCache=[]},e.prototype.draw=function(e,t){var i,n,r,o,s,a,l,c,u,h,d,p;if(null!==this._data&&0!==this._data.items.length)for(i=t.pixelRatio,this._precalculatedCache.length||this._fillPrecalculatedCache(i),n=Math.max(1,Math.floor(i)),
o=(r=Math.round(this._data.histogramBase*i)-Math.floor(n/2))+n,s=this._data.lineColor,a=0;a<this._data.items.length;a++)l=this._data.items[a],c=this._precalculatedCache[a],u=Math.round(l.y*i),h=l.style?l.style.color:s,e.fillStyle=h,d=void 0,p=void 0,u<=r?(d=u,p=o):(d=r,p=u-Math.floor(n/2)+n),e.fillRect(c.left,d,c.right-c.left+1,p-d)},e.prototype.hitTest=function(e){var t,i,r,o,s,a,l,c;if(null===this._data)return null;for(t=.5*this._data.barSpacing,i=e.x-t,r=e.x+t,o=0,s=this._data.items;o<s.length;o++)if((l=(a=s[o]).x)>=i&&l<=r&&(c=a.y,e.y>=Math.min(c,this._data.histogramBase)&&e.y<=Math.max(c,this._data.histogramBase)))return new n.HitTestResult(n.HitTestResult.REGULAR);return null},e.prototype._fillPrecalculatedCache=function(e){var t,i,n,s,a,l,c,u,h,d,p,f;if(null!==this._data&&0!==this._data.items.length){for(t=Math.ceil(this._data.barSpacing*e)<=r?0:Math.max(1,Math.floor(e)),i=Math.round(this._data.barSpacing*e)-t,this._precalculatedCache=new Array(this._data.items.length),n=0;n<this._data.items.length;n++)s=this._data.items[n],a=Math.round(s.x*e),l=void 0,c=void 0,i%2?(l=a-(u=(i-1)/2),c=a+u):(l=a-(u=i/2),c=a+u-1),this._precalculatedCache[n]={left:l,right:c,roundedCenter:a,center:s.x*e,time:s.timePointIndex};for(n=1;n<this._data.items.length;n++)h=this._precalculatedCache[n],d=this._precalculatedCache[n-1],h.time===d.time+1&&h.left-d.right!==t+1&&(d.roundedCenter>d.center?d.right=h.left-t-1:h.left=d.right+t+1);for(p=Math.ceil(this._data.barSpacing*e),n=0;n<this._data.items.length;n++)(h=this._precalculatedCache[n]).right<h.left&&(h.right=h.left),f=h.right-h.left+1,p=Math.min(f,p);if(t>0&&p<o)for(n=0;n<this._data.items.length;n++)(f=(h=this._precalculatedCache[n]).right-h.left+1)>p&&(h.roundedCenter>h.center?h.right-=1:h.left+=1)}else this._precalculatedCache=[]},e}()},Ngz3:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="#4758a9" d="M0 0h18v18H0z"/><path fill="#fff" d="M0 0v3.5L4 7H0v4h3l-3 2.5V18h.5L7 12v6h4v-5.5l6 5.5h1v-3.5L14 11h4V7h-3l3-2.5V0h-.5L11 6V0H7v5.5L1 0H0z"/><path fill="#ed5565" d="M8 0v8H0v2h8v8h2v-8h8V8h-8V0H8zm10 .6L11 7h2l5-4.5v-2zM0 .8v2L5 7h2L0 .8zM5 11l-5 4.3v2L7 11H5zm6 0l7 6v-1.8L13 11h-2z"/></svg>'},NhhI:function(e,t,i){},NhkU:function(e,t,i){"use strict";function n(e,t){var o,s,l;for(this._constructor="LineToolPitchfan",o=t||n.createProperties(),r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("l5Au").PitchfanLinePaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe),s=[this._properties.child("median").child("linewidth")],l=0;l<=n.LevelsCount;l++)s.push(this._properties.child("level"+l).child("linewidth"));this._widthsProperty=new a(s)}var r=i("Ss5c").LineDataSource,o=i("5rJj"),s=i("hayr").propertyPages,a=i("ytGH").LineToolWidthsProperty,l=window.t("Pitchfan");inherit(n,r),n.LevelsCount=8,n.prototype.levelsCount=function(){return n.LevelsCount},n.prototype.pointsCount=function(){return 3},n.prototype.translatedType=function(){return l},
n.prototype.name=function(){return"Pitchfan"},n.prototype.processErase=function(e,t){var i="level"+t,n=this.properties()[i].visible;e.setProperty(n,!1,"Erase level line")},n.prototype.getStylesPropertyPage=function(){return s.LineToolPitchfanStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("D+Nk").PitchBaseDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new o("linetoolpitchfan",e,!1,{range:[0,8]});return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolPitchfan=n},NsVT:function(e,t,i){"use strict";function n(e){var t=c.enabled("side_toolbar_in_fullscreen_mode"),i=c.enabled("header_in_fullscreen_mode");return"center"===e||"left"===e&&t||"top"===e&&i}var r,o,s,a,l,c,u,h;i.r(t),i.d(t,"ChartPage",function(){return h}),r=i("hY0g"),o=i.n(r),s=i("HySD"),a=i("t7cu"),l=i("+GxX"),c=i("Kxc7"),u=c.enabled("no_min_chart_width"),h=function(){function e(e){var t,i=this;if(this._processVisibility=function(e){var t=e.container.value();return i._affectsLayout(e.name)?(t&&t.classList.toggle("js-hidden",!1),!0):(t&&t.classList.toggle("js-hidden",!0),!1)},this._setWidth=function(e,t){var n,r=t;return i._fullscreenArea!==e.name&&(e.availWidth.setValue(t),e.canNegotiate.width&&(r=Object(a.a)(t,e.negotiations.width))),(n=e.container.value())&&(n.style.width=r+"px"),e.width.setValue(r),r},this._setHeight=function(e,t){var n,r=t;return i._fullscreenArea!==e.name&&(e.availHeight.setValue(t),e.canNegotiate.height&&(r=Object(a.a)(t,e.negotiations.height))),(n=e.container.value())&&(n.style.height=r+"px"),e.height.setValue(r),r},!(t=e.container.value()))throw new Error("bridge.container.value() must be an element");this._container=t,this._availableAreas=["left","tradingpanel","right","top","bottom","center","topleft"],this._areas={},this._bridge=e,this._width=e.width,this._height=e.height,this._width.subscribe(function(){return i.recalculate()}),this._height.subscribe(function(){return i.recalculate()}),this._bridge.visible.subscribe(function(){return i._updateVisibility()}),this._bridge.fullscreen.subscribe(function(){return i._onParentFullscreenChange()}),this.recalculate()}return e.prototype.allocate=function(e){var t,i,n=this,r=e&&e.areaName;if(-1===this._availableAreas.indexOf(r))throw new Error("unknown options.areaName");return this.free(r),t=this._createDOM(r),(i={name:r,canNegotiate:{width:"left"===r||"right"===r||"tradingpanel"===r||"topleft"===r,height:"top"===r||"bottom"===r||"topleft"===r},negotiations:{width:[],height:[]},remove:function(){for(var e in n._areas)n._areas[e]===i&&n.free(e)},negotiateWidth:function(e){if(i.canNegotiate.width){var t=Object(a.c)(e);Object(a.b)(i.negotiations.width,t)||(i.negotiations.width=t,n.recalculate())}},negotiateHeight:function(e){if(i.canNegotiate.height){var t=Object(a.c)(e);Object(a.b)(i.negotiations.height,t)||(i.negotiations.height=t,n.recalculate())}},
requestFullscreen:function(){n._fullscreenArea||("right"!==r&&"center"!==r||(n._fullscreenArea=r),"center"===r&&n._bridge.requestFullscreen(),n._updateFullscreen())},exitFullscreen:function(){r===n._fullscreenArea&&(n._fullscreenArea=void 0,"center"===r&&n._bridge.exitFullscreen(),n._updateFullscreen())},width:new o.a,height:new o.a,availWidth:new o.a,availHeight:new o.a,alive:new o.a(!0),container:new o.a(t),visible:new o.a(!0),fullscreen:new o.a(!0),rdState:new s.ResizerDetacherState}).rdState.pushOwner(i),this._areas[r]=i,i.rdState.owner.subscribe(function(e){var t,o,s,a=i.container.value();if(e!==i)a&&(a.innerHTML="",a.parentElement&&a.parentElement.removeChild(a));else{for(t=null,o=n._availableAreas.indexOf(r);o--;)if(s=n._availableAreas[o],n._affectsLayout(s)){t=n._areas[s].container.value();break}a&&(t&&a.parentElement?a.insertAdjacentElement("afterend",t):n._container.appendChild(a))}n.recalculate()},{callWithLast:!0}),i.rdState.bridge()},e.prototype.free=function(e){var t,i=this._areas[e];i&&(this._areas[e]=void 0,(t=i.container.value())&&t.parentElement&&t.parentElement.removeChild(t),i.alive.setValue(!1))},e.prototype.recalculate=function(){var e,t,i,n,r,o,s,a,l,c,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C={};this._recalcSingleRunToken=C,e=this._areas.topleft,t=this._areas.left,i=this._areas.tradingpanel,n=this._areas.right,r=this._areas.top,o=this._areas.bottom,s=this._areas.center,a=this._width.value(),l=this._height.value(),c=0,h=0,d=0,p=0,f=0,_=0,m=0,C===this._recalcSingleRunToken&&e&&this._processVisibility(e)&&(m=this._setHeight(e,l),(_=this._setWidth(e,a))&&(_+=4)),C===this._recalcSingleRunToken&&t&&this._processVisibility(t)&&((g=t.container.value())&&(g.style.top=m+"px"),this._setHeight(t,l-m),(d=this._setWidth(t,a))&&(d+=4)),C===this._recalcSingleRunToken&&i&&this._processVisibility(i)&&(this._setHeight(i,l),y=a-d,u||(y-=300),f=this._setWidth(i,y)),C===this._recalcSingleRunToken&&n&&this._processVisibility(n)&&(this._setHeight(n,l),y=a-d-f,u||(y-=300),p=this._setWidth(n,y)),b=(v=f+p)?4:0,C===this._recalcSingleRunToken&&r&&this._processVisibility(r)&&(S=Math.max(_,d),(g=r.container.value())&&(g.style.left=S+"px"),y=a-S-f-p-b,this._setWidth(r,y),c=this._setHeight(r,l)),w=0,P=a-d-f-p-b,C===this._recalcSingleRunToken&&o&&this._processVisibility(o)&&((g=o.container.value())&&(g.style.left=d+"px",g.classList.toggle("no-border-top-left-radius",!d),g.classList.toggle("no-border-top-right-radius",!v)),this._setWidth(o,P),T=l-c,w=Math.min(300,T-0),h=this._setHeight(o,T)+4),C===this._recalcSingleRunToken&&s&&this._processVisibility(s)&&((g=s.container.value())&&(g.style.left=d+"px",g.style.top=c+"px",g.classList.toggle("no-border-bottom-left-radius",!h||!d),g.classList.toggle("no-border-bottom-right-radius",!v||!h)),this._setWidth(s,P),T=l-c-h,this._setHeight(s,Math.max(T,w))),C===this._recalcSingleRunToken&&i&&this._affectsLayout("tradingpanel")&&(g=i.container.value())&&(g.style.right=p+"px"),C===this._recalcSingleRunToken&&this._updateVisibility()},e.prototype._affectsLayout=function(e){var t,i=this._areas[e]
;return!!i&&(i.rdState.owner.value()===i&&(this._fullscreenArea&&this._fullscreenArea!==e?n(e):!((this._width.value()<=567||this._height.value()<=445)&&(t=["center","top","left","topleft"],Object(l.isFeatureEnabled)("mobile_show_bottom_panel")&&t.push("bottom"),!t.includes(e)))))},e.prototype._updateVisibility=function(){var e,t,i,n=this._bridge.visible.value();for(e=0;e<this._availableAreas.length;e++)t=this._availableAreas[e],(i=this._areas[t])&&(n&&this._affectsLayout(t)?i.visible.setValue(!0):i.visible.setValue(!1))},e.prototype._onParentFullscreenChange=function(){this._bridge.fullscreen.value()||(this._fullscreenArea=void 0,this._updateFullscreen())},e.prototype._updateFullscreen=function(){var e,t,i,r,o=void 0!==this._fullscreenArea;for(e=0;e<this._availableAreas.length;e++)t=this._availableAreas[e],(i=this._areas[t])&&(t!==this._fullscreenArea?(r=i.container.value())&&r.classList.toggle("js-hidden",o&&!n(t)):i.fullscreen.setValue(!0));this._updateVisibility(),this.recalculate()},e.prototype._createDOM=function(e){var t=document.createElement("div");return t.classList.add("layout__area--"+e),t.style.position="absolute","bottom"===e?t.style.bottom="0":t.style.top="0","right"===e||"tradingpanel"===e?t.style.right="0":t.style.left="0",t},e}()},Nu4p:function(e,t,i){"use strict";var n;i.r(t),i.d(t,"plotShapesData",function(){return n}),i("YFKU"),n={shape_arrow_down:{guiName:window.t("Arrow Down"),id:"shape_arrow_down",paneRendererClass:"PaneRendererArrowDown",pineName:"shape.arrowdown",icon:"arrow_down"},shape_arrow_up:{guiName:window.t("Arrow Up"),id:"shape_arrow_up",paneRendererClass:"PaneRendererArrowUp",pineName:"shape.arrowup",icon:"arrow_up"},shape_circle:{guiName:window.t("Circle"),id:"shape_circle",paneRendererClass:"PaneRendererCircleShape",pineName:"shape.circle",icon:"circle"},shape_cross:{guiName:window.t("Cross"),id:"shape_cross",paneRendererClass:"PaneRendererCrossShape",pineName:"shape.cross",icon:"cross"},shape_diamond:{guiName:window.t("Diamond"),id:"shape_diamond",paneRendererClass:"PaneRendererDiamond",pineName:"shape.diamond",icon:"diamond"},shape_flag:{guiName:window.t("Flag"),id:"shape_flag",paneRendererClass:"PaneRendererFlagShape",pineName:"shape.flag",icon:"flag"},shape_label_down:{guiName:window.t("Label Down"),id:"shape_label_down",paneRendererClass:"PaneRendererLabelDown",pineName:"shape.labeldown",icon:"label_down"},shape_label_up:{guiName:window.t("Label Up"),id:"shape_label_up",paneRendererClass:"PaneRendererLabelUp",pineName:"shape.labelup",icon:"label_up"},shape_square:{guiName:window.t("Square"),id:"shape_square",paneRendererClass:"PaneRendererSquare",pineName:"shape.square",icon:"square"},shape_triangle_down:{guiName:window.t("Triangle Down"),id:"shape_triangle_down",paneRendererClass:"PaneRendererTriangleApexDown",pineName:"shape.triangledown",icon:"triangle_down"},shape_triangle_up:{guiName:window.t("Triangle Up"),id:"shape_triangle_up",paneRendererClass:"PaneRendererTriangleApexUp",pineName:"shape.triangleup",icon:"triangle_up"},shape_xcross:{guiName:window.t("X Cross"),
id:"shape_xcross",paneRendererClass:"PaneRendererXCross",pineName:"shape.xcross",icon:"x_cross"}}},OBgQ:function(e,t,i){"use strict";var n,r,o;i.d(t,"a",function(){return o}),n=i("jCNj"),r="Etc/UTC",o=function(){function e(e,t,i){this.year=e,this.month=t,this.day=i}return e.prototype.toString=function(){return this.year+"-"+this.month+"-"+this.day},e.prototype.compareTo=function(e){return this.year>e.year||this.year===e.year&&this.month>e.month||this.year===e.year&&this.month===e.month&&this.day>e.day?1:this.year===e.year&&this.month===e.month&&this.day===e.day?0:-1},e.prototype.before=function(e){return-1===this.compareTo(e)},e.prototype.toCalendar=function(e){return n.get_cal(n.get_timezone("Etc/UTC"),this.year,this.month-1,this.day)},e.prototype.addDays=function(t){var i=this.toCalendar(n.get_timezone(r));return n.add_date(i,t),e.fromCalendar(i)},e.fromCalendar=function(t){return new e(n.get_year(t),n.get_month(t)+1,n.get_day_of_month(t))},e}()},OH2X:function(e,t,i){"use strict";t.LineToolFibRetracement=i("t2ex").LineToolFibRetracement,t.LineToolFibChannel=i("xnA2").LineToolFibChannel,t.LineToolFibSpeedResistanceArcs=i("Yjuu").LineToolFibSpeedResistanceArcs,t.LineToolProjection=i("68at").LineToolProjection,t.LineToolTrendBasedFibExtension=i("ZtA1").LineToolTrendBasedFibExtension,t.LineToolElliott=i("xz+e").LineToolElliott,t.LineToolFibCircles=i("4bfY").LineToolFibCircles,t.LineToolVertLine=i("n40Z").LineToolVertLine,t.LineToolCrossLine=i("MA5A").LineToolCrossLine,t.LineToolBarsPattern=i("2bPF").LineToolBarsPattern,t.LineToolTrendBasedFibTime=i("yUly").LineToolTrendBasedFibTime,t.LineToolFibTimeZone=i("FsE7").LineToolFibTimeZone,t.LineToolCircleLines=i("tG6Q").LineToolCircleLines,t.LineToolDateRange=i("WkYF").LineToolDateRange,t.LineToolPriceRange=i("RDDl").LineToolPriceRange,t.LineToolDateAndPriceRange=i("UCMi").LineToolDateAndPriceRange,t.LineToolParallelChannel=i("qcGP").LineToolParallelChannel,t.LineToolTrendAngle=i("nW7S").LineToolTrendAngle,t.LineToolTrendLine=i("WPQD").LineToolTrendLine,t.LineToolInfoLine=i("yi8X").LineToolInfoLine,t.LineToolArrowMark=i("TohL").LineToolArrowMark,t.LineToolExecution=i("704P").LineToolExecution,t.LineToolPitchfan=i("NhkU").LineToolPitchfan,t.LineToolGannSquare=i("Z0Sh").LineToolGannSquare,t.LineToolFibSpeedResistanceFan=i("zZ5f").LineToolFibSpeedResistanceFan,t.LineToolGannComplex=i("nd9+").LineToolGannComplex,t.LineToolGannFixed=i("TBaH").LineToolGannFixed,t.LineToolGannFan=i("4u8j").LineToolGannFan,t.LineToolFibWedge=i("9QkW").LineToolFibWedge,t.LineToolPitchfork=i("aDyP").LineToolPitchfork,t.LineToolDisjointAngle=i("oIoN").LineToolDisjointChannel,t.LineToolFlatBottom=i("InMJ").LineToolFlatBottom,t.LineToolIcon=i("icPo").LineToolIcon,t.LineToolRotatedRectangle=i("Az04").LineToolRotatedRectangle,t.LineToolFibSpiral=i("i80N").LineToolFibSpiral,t.LineToolHeadAndShoulders=i("aILO").LineToolHeadAndShoulders,t.LineToolTriangle=i("isVH").LineToolTriangle,t.LineToolTrianglePattern=i("lNN+").LineToolTrianglePattern,t.LineTool5PointsPattern=i("NJRZ").LineTool5PointsPattern,
t.LineToolThreeDrivers=i("PYn8").LineToolThreeDrivers,t.LineToolABCD=i("pKDv").LineToolABCD,t.LineToolPolyline=i("hP9j").LineToolPolyline,t.LineToolPrediction=i("Wh6B").LineToolPrediction,t.LineToolPriceLabel=i("zqZp").LineToolPriceLabel,t.LineToolNote=i("gLxC").LineToolNote,t.LineToolNoteAbsolute=i("gLxC").LineToolNoteAbsolute,t.LineToolBrush=i("+hLl").LineToolBrush,t.LineToolArc=i("0Pxc").LineToolArc,t.LineToolCallout=i("odCa").LineToolCallout,t.LineToolBalloon=i("me8f").LineToolBalloon,t.LineToolText=i("V3Oj").LineToolText,t.LineToolHorzLine=i("/DxK").LineToolHorzLine,t.LineToolHorzRay=i("CJIV").LineToolHorzRay,t.LineToolRectangle=i("7qI1").LineToolRectangle,t.LineToolEllipse=i("V086").LineToolEllipse,t.LineToolTimeCycles=i("kIXa").LineToolTimeCycles,t.LineToolSineLine=i("bv/X").LineToolSineLine,t.LineToolGhostFeed=i("XUCF").LineToolGhostFeed,t.LineToolBezierQuadro=i("Xyly").LineToolBezierQuadro,t.LineToolBezierCubic=i("N+BX").LineToolBezierCubic,t.LineToolArrow=i("QQu0").LineToolArrow,t.LineToolRay=i("5ZUI").LineToolRay,t.LineToolExtended=i("CHw2").LineToolExtended,t.LineToolSchiffPitchfork=i("v5F8").LineToolSchiffPitchfork,t.LineToolSchiffPitchfork2=i("XFad").LineToolSchiffPitchfork2,t.LineToolInsidePitchfork=i("EqoR").LineToolInsidePitchfork,t.LineToolTextAbsolute=i("V3Oj").LineToolTextAbsolute,t.LineToolArrowMarkLeft=i("TohL").LineToolArrowMarkLeft,t.LineToolArrowMarkRight=i("TohL").LineToolArrowMarkRight,t.LineToolArrowMarkUp=i("TohL").LineToolArrowMarkUp,t.LineToolArrowMarkDown=i("TohL").LineToolArrowMarkDown,t.LineToolFlagMark=i("aIha").LineToolFlagMark,t.LineToolCypherPattern=i("bTqm").LineToolCypherPattern,t.LineToolElliottImpulse=i("xz+e").LineToolElliottImpulse,t.LineToolElliottTriangle=i("xz+e").LineToolElliottTriangle,t.LineToolElliottTripleCombo=i("xz+e").LineToolElliottTripleCombo,t.LineToolElliottCorrection=i("xz+e").LineToolElliottCorrection,t.LineToolElliottDoubleCombo=i("xz+e").LineToolElliottDoubleCombo,t.LineToolRiskRewardLong=i("tDUI").LineToolRiskRewardLong,t.LineToolRiskRewardShort=i("tDUI").LineToolRiskRewardShort,t.LineToolPosition=i("ziJ5").LineToolPosition,t.LineToolOrder=i("B4/o").LineToolOrder},"OK+B":function(e,t,i){"use strict"
;var n,r,o=i("Eyy1").assert,s=i("eJTA"),a=s.rgba,l=s.rgbaToString,c=s.parseRgb,u=i("+GxX").isFeatureEnabled,h=i("cWHH"),d=i("1Wlv").PriceScale,p=i("8sOK").StudyStub,f=i("CW80"),_=f.createLineTool,m=f.createLineToolProperties,g=f.createStudyLineToolProperties,y=f.isLineToolName,v=f.isStudyLineToolName,b=i("Ss5c").LineDataSource,S=i("OH2X").LineToolBarsPattern,w=i("OH2X").LineToolCallout,P=i("HLXm"),T=i("GVHu"),C=T.Study,x=T.prepareStudyPropertiesForLoadChart,I=i("3ClC").createStudy,E=i("qJq3").Series,L=i("dfhE"),A=i("n5al"),O=i("0YCj"),M=i("Kxc7"),k=i("uOxu").getLogger("Chart.Serialization"),D=i("1gmO").AlertLabel,R=i("NP3r").getConfig,V=i("bKsZ").ProductFeatures,B=i("s4+V"),N=i("OH2X").LineToolParallelChannel,F=i("OH2X").LineToolTrendAngle,j=i("OH2X").LineToolGhostFeed,W=i("OH2X").LineToolElliott,U=i("7ktv").PriceDataSource,H=i("iDOr").Pane,z=i("Tmoa"),G=i("jofe").createDeferredPromise,Y=i("ApcL").preferencesByWhiteList;k=i("uOxu").getLogger("Chart.Serialization"),n=i("mPvX").LineToolsGroupModel,h.version=2,h.prototype.state=function(e,t,i){var n,r,o,s={panes:[]};for(n=0;n<this.panes().length;n++)s.panes.push(this.panes()[n].state(!0,e,!1,t,i));return s.timeScale=this._timeScale.state(e),r=null,r=this.publishedChartsTimelineSource(),o=this.properties(),s.chartProperties={paneProperties:o.paneProperties.state(),scalesProperties:o.scalesProperties.state(),publishedChartsTimelineProperties:r?r.state(e):void 0,chartEventsSourceProperties:o.chartEventsSourceProperties.state(),priceScaleSelectionStrategyName:o.priceScaleSelectionStrategyName.value()},o.chartEventsSourceProperties&&(s.chartProperties.chartEventsSourceProperties=o.chartEventsSourceProperties.state()),s.lineToolsGroups=this.lineToolsGroupModel().state(t),s.version=h.version,s.timezone=this.timezone(),s.sessions=this.sessions().state(e),s},h.prototype.asyncState=function(){var e=this.publishedChartsTimelineSource();return e?e.asyncState().then(function(e){var t={};return t.chartProperties={publishedChartsTimelineProperties:e},t}):Promise.resolve({})},h.prototype.chartPropertiesTransparencyMigrate=function(e){var t,i,n;e.chartProperties.paneProperties.crossHairProperties&&(n=e.chartProperties.paneProperties.crossHairProperties,z.isHexColor(n.color)&&(i=n.transparency/100,t=c(n.color),n.color=l(a(t,i)))),e.chartProperties.paneProperties.dataWindowProperties&&(n=e.chartProperties.paneProperties.dataWindowProperties,z.isHexColor(n.color)&&(i=n.transparency/100,t=c(n.color),n.color=l(a(t,i))))},h.prototype.resetDeferredStudies=function(){new r(this).reset()},h.prototype._getExceedingChildStudies=function(e){var t,i,n,r,o,s,a,l,c=[];for(t=0;t<e.length;++t)c=c.concat(e[t].sources||[]);for(i=0,n=1,n=R(V.STUDY_ON_STUDY).child_limit,r=[],o={},s=0,a=1e6;c.length&&--a;)((l=c[s]).ownerSource&&o[l.ownerSource]||!l.ownerSource)&&(o[l.id]=l,c.splice(c.indexOf(l),1),l.ownerSource&&"Study"===l.type&&l.state&&l.state.isChildStudy&&++i>n&&r.push(l)),s=(s+1)%c.length;return r},h.prototype.restoreState=function(e,t,i){var o,s,a,l,c,u,h,d,p,f,_,m,g,y;if(new r(this).reset(),o={},
e.panes)if(Array.isArray(e.panes)){if(!(e.panes.length<1)){if(e.chartProperties&&!e.chartProperties.timezone&&(e.chartProperties.timezone=e.timezone),e.chartProperties&&(s=TradingView.factoryDefaults("chartproperties").scalesProperties,TradingView.merge(s,e.chartProperties.scalesProperties),!("showLastValue"in s)||"showSeriesLastValue"in s||"showStudyLastValue"in s||(s.showSeriesLastValueProperty=s.showLastValue,s.showStudyLastValueProperty=s.showLastValue),"showSeriesLastValue"in s&&(o.showSeriesLastValueProperty=!0),"showStudyLastValue"in s&&(o.showStudyLastValueProperty=!0),e.chartProperties.paneProperties.vertGridProperties=e.chartProperties.paneProperties.vertGridProperties||TradingView.clone(e.chartProperties.paneProperties.gridProperties),e.chartProperties.paneProperties.horzGridProperties=e.chartProperties.paneProperties.horzGridProperties||TradingView.clone(e.chartProperties.paneProperties.gridProperties),this._properties.paneProperties.mergeAndFire(e.chartProperties.paneProperties),this._properties.scalesProperties.mergeAndFire(s),e.chartProperties.timezone&&this._properties.timezone.setValue(e.chartProperties.timezone),e.chartProperties.chartEventsSourceProperties&&this._properties.chartEventsSourceProperties&&this._properties.chartEventsSourceProperties.mergeAndFire(e.chartProperties.chartEventsSourceProperties),this._timeScale.restoreState(e.timeScale,t),this._updateDateTimeFormatter()),e.timeScale&&this._timeScale.restoreState(e.timeScale,t),!this.readOnly()&&(a=this._getExceedingChildStudies(e.panes)).length){for(l=e.panes.length-1;l>=0;--l){for(u=(c=e.panes[l]).sources.length-1;u>=0;--u)h=c.sources[u],~a.indexOf(h)&&c.sources.splice(u,1);c.sources.length||e.panes.splice(l,1)}setTimeout(function(){B.createGoProDialog({feature:"studyOnStudy"}).then(function(e){e.open()})},500)}for(d=e.panes,this.panes()[0].restoreState(d[0],t,e.version,o,i,!0),p=1,l=1;l<e.panes.length;l++)0!==(f=e.panes[l]).sources.length?((c=this.panes()[p]||this.createPane()).restoreState(f,t,e.version,o,i,!0),p+=1):k.logWarn("Empty pane detected - restoring is skipped. idx="+l+", state="+JSON.stringify(f));for(e.chartProperties&&e.chartProperties.publishedChartsTimelineProperties&&(h=this.publishedChartsTimelineSource())&&h.restoreData(e.chartProperties.publishedChartsTimelineProperties,t),this._invalidateBarColorerCaches(),_=this.dataSources(),m=0,l=0;l<_.length;l++)g=_[l],TradingView.isInherited(g.constructor,b)&&(m++,g.calcIsActualSymbol());return this._version=e.version,this.updateTimeScaleBaseIndex(),this.recalculateAllPanes(),this.fullUpdate(),this.syncESD(),y=TVLocalStorage.getItem("linetools_limit")||1e3,window.is_authenticated&&window.user&&window.user.settings&&(y=window.user.settings.linetools_limit||y),e.sessions&&this.sessions().restoreState(e.sessions,t),e.lineToolsGroups&&(this._lineToolsGroupModel=n.fromState(this,e.lineToolsGroups)),m>y&&m%100==0?{lines_limit_exceeded:!0,line_tools_count:m}:(this._dataSourceCollectionChanged.fire(),{})}k.logDebug("ChartModel.restoreState: invalid state")
}else k.logDebug("ChartModel.restoreState: invalid state");else k.logDebug("ChartModel.restoreState: invalid state")},H.prototype.state=function(e,t,i,n,r){function o(e){var o,s;return h.has(e)?h.get(e):(o=null,s=i&&!e.isSavedInStudyTemplates()||e instanceof D||!e.state||!(o=e.state(t,r))||!e.isSavedInChart(t)||n&&e.isActualSymbol&&!e.isActualSymbol()?null:o,h.set(e,s),s)}function s(e){return null!==h.get(e)}var a,l,c,u={},h=new Map;if(e)for(u.sources=[],a=0;a<this.m_dataSources.length;a++)null!==(l=o(this.m_dataSources[a]))&&u.sources.push(l);for(u.leftAxisesState=this._leftPriceScales.map(function(e){var t={};return t.state=e.state(),t.sources=e.dataSources().filter(s).map(function(e){return e.id()}),t}),u.rightAxisesState=this._rightPriceScales.map(function(e){var t={};return t.state=e.state(),t.sources=e.dataSources().filter(s).map(function(e){return e.id()}),t}),u.overlayPriceScales={},a=0;a<this.m_dataSources.length;a++)c=this.m_dataSources[a],this.isOverlay(c)&&c.isSavedInChart(t)&&(u.overlayPriceScales[c.id()]=c.priceScale().state());return u.stretchFactor=this._stretchFactor,this.m_mainDataSource&&(u.mainSourceId=this.m_mainDataSource.id()),u.priceScaleRatio=this._currentPriceScaleRatio,u},H.prototype.sourceById=function(e){for(var t=0;t<this.m_dataSources.length;t++)if(this.m_dataSources[t].id()===e)return this.m_dataSources[t];return null},H.prototype.isESDStudy=function(e){return"Script$TV_EARNINGS@tv-scripting"===e.id||"Script$TV_DIVIDENDS@tv-scripting"===e.id||"Script$TV_SPLITS@tv-scripting"===e.id||"ESD$TV_EARNINGS@tv-scripting"===e.id||"ESD$TV_DIVIDENDS@tv-scripting"===e.id||"ESD$TV_SPLITS@tv-scripting"===e.id},H.prototype.isStudyToSkip=function(e){return!!this.isESDStudy(e)},H.prototype.restoreState=function(e,t,i,n,r,o){function s(e){var t=defaults("chartproperties").paneProperties.axisProperties,i=new d(S.model().properties().scalesProperties,t);return i.restoreState(e.state),e.sources.forEach(function(e){var n=S.dataSourceForId(e);n&&function(e,t,i){v.add(e),void 0!==i.m_showSymbolLabels&&e instanceof E&&S.model().properties().scalesProperties.showSymbolLabels.setValue(i.m_showSymbolLabels),e.setPriceScale(t),t.addDataSource(e)}(n,i,t)}),0===i.dataSources().length?null:i}var a,l,c,u,h,p,f,_,m,g,y,v,S,w,P,T,x,I,L,A,O,M;if(n=n||{},e.stretchFactor&&(this._stretchFactor=e.stretchFactor),a={},e.sources){for(l=e.sources.filter(function(e){return!!e&&("MainSeries"===e.type||(!e.points||!e.points.some(function(e){return null===e.time_t||!isFinite(e.time_t)})||(k.logNormal("Dropped invalid "+e.type+". Reason: non-numeric point time"),!1)))}),c=-1!==this.m_dataSources.indexOf(this._model.mainSeries()),this.clearSeries(o),this.m_mainDataSource=null,c&&this._addSourceToCollections(this._model.mainSeries(),o),h=(u=this.getZOrderMinMax()).minZOrder,p=u.maxZOrder,function(){var t,i,n,r,o,s=l.find(function(t){return t.id===e.mainSourceId});if(void 0!==s)if(TradingView[s.type]&&TradingView.isInherited(TradingView[s.type],b)){for(t=null,i=0;i<l.length;i++)if(n=l[i],
!TradingView[s.type]||!TradingView.isInherited(TradingView[n.type],b)){if(null!==t)return void k.logWarn("Pane contains more than 1 possibly main sources - auto fix cannot be applied");t=n}null!==t?(r=e.mainSourceId,o=0,e.mainSourceId=t.id,l.forEach(function(e){e.ownerSource===r&&(e.ownerSource=t.id,o+=1)}),k.logNormal("Auto fix broken pane is applied, changed line tools="+o+", changed from="+r+" to="+t.id)):k.logWarn("Pane contains only line tools - possible we need to remove this pane?")}else k.logNormal("The type of main source is not line tool - fix is unnecessary");else k.logWarn("There is no main source with id "+e.mainSourceId+", total sources="+l.length)}(),f=0;f<l.length;f++)if("study_Sessions"===(m=(_=l[f]).type)){this.model().sessions().restoreOldState(_,t);break}for(f=0;f<e.sources.length;f++)"study_Sessions"!==(m=(_=e.sources[f]).type)&&(Math.abs(_.zorder)>1e200?(g=h-1,k.logWarn("Datasource zorder has bad value: "+_.zorder+" Resetting it to "+g),_.zorder=g):this.isZOrderAvailable(_.zorder)||c&&"MainSeries"===m&&this._model.mainSeries().zorder()===_.zorder||(_.zorder=p+1),a[y=_.id]=_.ownerSource,m&&("MainSeries"===m?this._restoreMainSeries(_,t,c,n,r,o):m.toLowerCase().startsWith("study")?this._restoreStudy(_,t,n,o):TradingView.isInherited(TradingView[m],b)?this._restoreLineTool(_,t,void 0,o):TradingView[m]&&TradingView[m].createFromState&&this._restoreSpecialSource(_,t,o)),h=Math.min(h,_.zorder),p=Math.max(p,_.zorder))}for(v=new Set,S=this,w=e.leftAxisesState?e.leftAxisesState.map(s).filter(function(e){return null!==e}):null!==(P=s({state:e.leftAxisState,sources:e.leftAxisSources}))?[P]:[],this._leftPriceScales.slice().forEach(function(e){this.removePriceScale(e)}.bind(this)),this._leftPriceScales=[],w.forEach(function(e){S._placePriceScale(e,"left")}),T=e.rightAxisesState?e.rightAxisesState.map(s).filter(function(e){return null!==e}):null!==(x=s({state:e.rightAxisState,sources:e.rightAxisSources}))?[x]:[],this._rightPriceScales.forEach(function(e){this.removePriceScale(e)}.bind(this)),this._rightPriceScales=[],T.forEach(function(e){S._placePriceScale(e,"right")}),this._currentPriceScaleRatio=e.priceScaleRatio||e.leftPriceScaleRatio||e.rightPriceScaleRatio||null,f=0;f<this.m_dataSources.length;f++)I=this.m_dataSources[f],v.has(I)||((L=new d(this._model.properties().scalesProperties)).setHeight(this.m_height),L.addDataSource(I),e.overlayPriceScales&&e.overlayPriceScales[I.id()]&&((A=e.overlayPriceScales[I.id()]).m_isAutoScale=!0,A.m_isLog=!1,A.m_isPercentage=!1,A.m_isLockScale=!1,L.restoreState(A)),I.setPriceScale(L));for(y in a)(O=a[y])&&(I=this.dataSourceForId(y))&&this.dataSourceForId(y).setOwnerSource(this.dataSourceForId(O));if(e.mainSourceId&&!this.m_mainDataSource&&(this.m_mainDataSource=this.dataSourceForId(e.mainSourceId)),!this.m_mainDataSource)for(f=0;f<this.m_dataSources.length;f++)if(I=this.m_dataSources[f],TradingView.isInherited(I.constructor,U)){this.m_mainDataSource=I;break}for(f=0;f<this.m_dataSources.length;f++)I=this.m_dataSources[f],
TradingView.isInherited(I.constructor,b)?(I.ownerSource()||I.setOwnerSource(this.mainDataSource()),I.isFixed()&&I.restoreFixedPoints(),I.fixAfterRestorePriceAxis&&I.fixAfterRestorePriceAxis()):TradingView.isInherited(I.constructor,C)&&(M=I.properties()).linkedToSeries&&M.linkedToSeries.value()&&(I.ownerSource()||I.setOwnerSource(this.model().mainSeries()));this._updateMargins(),this._cachedOrderedSoruces=null,this._cachedHitTestSources=null},H.prototype._restoreMainSeries=function(e,t,i,n,r,o){var s,a,l,c,h,d,p,f,_,m,g,y,v,b,S,w=e.id,P=e.state,T=e.zorder;if(P&&r&&(P.style=r.style||P.style,P.interval=r.interval||P.interval,P.symbol=r.symbol||P.symbol),P&&P.style===L.STYLE_HILO&&!u("chart_style_hilo")&&(P.style=L.STYLE_CANDLES),P&&["candleStyle","hollowCandleStyle","haStyle"].forEach(function(e){P[e]&&(P[e].wickUpColor=P[e].wickUpColor||P[e].wickColor,P[e].wickDownColor=P[e].wickDownColor||P[e].wickColor)}),P&&(P.statusViewStyle=P.statusViewStyle||{},P.statusViewStyle.symbolTextSource||(s=!!P.statusViewStyle.showSymbolAsDescription,P.statusViewStyle.symbolTextSource=s?"ticker":"description")),i||(a=this._model.mainSeries(),this._model.paneForSource(a).removeDataSource(a,!1,o),this._addSourceToCollections(a,o)),this.m_mainDataSource=this._model.mainSeries(),(l=P&&P.style?P.style:void 0)===E.STYLE_PNF&&"ATR"===this._model.mainSeries().properties().pnfStyle.inputs.style.value()?this._model.mainSeries().properties().pnfStyle.inputs.style._value="Traditional":l===E.STYLE_RENKO&&"ATR"===this._model.mainSeries().properties().renkoStyle.inputs.style.value()&&(this._model.mainSeries().properties().renkoStyle.inputs.style._value="Traditional"),P&&!P.hasOwnProperty("showSessions")&&(P.showSessions=!1),P&&!P.extendedHours&&(P.extendedHours=!1),P&&t&&(P.showCountdown=!1),P&&(t&&!("showSeriesLastValueProperty"in n)&&"showLastValue"in P&&this._model.properties().scalesProperties.showSeriesLastValue.setValue(P.showLastValue),delete P.showLastValue),P)for(c={haStyle:A.chartStyleStudyId(E.STYLE_HEIKEN_ASHI,!0),renkoStyle:A.chartStyleStudyId(E.STYLE_RENKO,!0),pbStyle:A.chartStyleStudyId(E.STYLE_PB,!0),kagiStyle:A.chartStyleStudyId(E.STYLE_KAGI,!0),pnfStyle:A.chartStyleStudyId(E.STYLE_PNF,!0),rangeStyle:A.chartStyleStudyId(E.STYLE_RANGE,!0)},h=this._model.studyVersioning(),d=this._model.mainSeries().styleStudyInfos(),p=Object.keys(L.SYMBOL_STRING_DATA),f=0;f<p.length;f++)l=p[f],m=(_=L.STYLE_SHORT_NAMES[l]+"Style")in e?e[_].studyId:c[_],null!=(l=P[_])&&(g=l.inputs,y=O.parseIdString(m),v=d[_].studyId,b=O.parseIdString(v),S=h.updateStudyInputs(y.id,y.version,b.version,g,null),l.inputs=S);this._model.mainSeries().restoreState(e,t),this._sourcesById.delete(this._model.mainSeries().id()),this._model.mainSeries().setId(w),this._sourcesById.set(w,this._model.mainSeries()),void 0!==T&&this._model.mainSeries().setZorder(T),this._model.mainSeries().properties().extendedHours.listeners().fire(this._model.mainSeries().properties().extendedHours),
this._model.mainSeries().symbolInfo()&&this._model.mainSeries().dataEvents().fireSymbolResolved(this._model.mainSeries().symbolInfo())},H.prototype._restoreStudy=function(e,t,i,n){function o(i){function n(n){var r,l=x(u,i,h,null,d,n),c=I(m._model,l,n||m._model.mainSeries(),o);c.setId(s),t&&(r=d.patchStudyData(u,e.data,e.nonSeriesData,e.indexes),c.restoreData(r.data,r.nsData,r.indexes)),m._model.replaceStudyStub(_,c)||(_=c),a.add(s,c)}var o,a;_.setStatus(""),o=i||new O(u),a=new r(m._model),c&&e.state.isChildStudy?a.get(c).then(n):n()}var s,a,l,c,u,h,d,f,_,m,g;if(t&&void 0===e.data&&void 0===e.nonSeriesData&&void 0===e.indexes)k.logError("Cannot restore (skipping) study without data "+e.id+", "+e.metaInfo.id);else{if(s=e.id,a=e.state,l=e.zorder,c=e.ownerSource,u=TradingView.clone(e.metaInfo),Object.assign(u,O.parseIdString(u.id)),!this.isStudyToSkip(u)||t)return h=a,f=(d=this._model.studyVersioning()).patchPropsStateAndMetaInfo(h,u,{oldShowStudyLastValueProperty:t&&!i.showStudyLastValueProperty}),h=f.propsState,u=f.metaInfo,(_=new p(this._model,e,u.shortDescription)).setId(s),m=this,t?o(null):(g=d.updateMetaInfoAsync(u)).sync?o(g.result):g.result.then(function(e){o(e)}).catch(function(e){_.setStatus("error: "+e),_.setFailed(!0)}),_&&this._addSourceToCollections(_,n),delete this._cachedOrderedSoruces,delete this._cachedHitTestSources,_&&void 0!==l&&_.setZorder(l),_;k.logNormal("Skipping study "+u.id)}},H.prototype._restoreLineTool=function(e,t,i,n){var r,s,a,l,c,u,h,d,f,b,T,C,x,I,E,L,A;if(i=void 0===i||i,W.migrateState(e),P.migrateState(e),r=e.type,s=e.id,a=e.state,l=i?e.zorder:this._newZOrderForLineTool(),o(y(r),"invalid data source type:"+r+" (expected to be a Line Tool)"),c=null,v(r)){if(d=(e=(c=this._model.studyVersioning()).patchPointsBasedStudyState(e)).metaInfo,Object.assign(d,O.parseIdString(d.fullId)),!t&&(f=d.productId,!pro.hasPackage(f)))return(b=new p(this._model,e,d.shortDescription)).setId(s),this._addSourceToCollections(b,n),void 0!==l&&b.setZorder(l),b.setStatus(window.t("not authorized")),void b.setFailed(!0);T=c.updateMetaInfo(d),h=g(r,d,C=T||d,a,c),t?h.merge({fixedSize:!1}):h.merge({fixedSize:!0}),u=_(r,this._model,h,C)}else h=m(r,a),t?h.merge({fixedSize:!1}):h.merge({fixedSize:!0}),u=new TradingView[r](this._model,h,!0);return u.setId(s),u.linkKey=e.linkKey,(x=e.alertId)&&u.canHasAlert()&&"function"==typeof u.setAlert&&M.enabled("alerts")&&!this._model.readOnly()&&!this._model.isJustClonedChart()&&u.setAlert(x,{noChartSave:!0}),I=(I=e.indexes?e.indexes:[]).slice(0,e.points.length),u.isFixed()?u.restorePositionPercents(e.positionPercents):u.restorePoints(e.points,I,t),u instanceof S||u instanceof w||u instanceof F||u instanceof j||u instanceof N?u.restoreData(e):t&&u.restoreData&&(E=e,c&&(E.graphics=c.patchPointsBasedStudyData(E.metaInfo,E.graphics)),u.restoreData(E)),(L=null==e.version?1:e.version)!==(A=null==u.version?1:u.version)&&"function"==typeof u.migrateVersion&&u.migrateVersion(L,A,{pane:this,model:this._model,properties:h}),this._addSourceToCollections(u,n),delete this._cachedOrderedSoruces,
delete this._cachedHitTestSources,void 0!==l&&u.setZorder(l),u},H.prototype._restoreSpecialSource=function(e,t,i){var n,r=TradingView[e.type];r&&r.createFromState&&(n=r.createFromState(e,t,this._model))&&(n.setId(e.id),this._addSourceToCollections(n,i),n.zorder&&n.setZorder(n.zorder))},h.prototype.studyTemplate=function(e){var t,i,n,r,o={panes:[]};for(t=0;t<this.panes().length;t++)i=!0,n=!1,r=!0,o.panes.push(this.panes()[t].state(i,n,r));return e&&(o.interval=this.mainSeries().interval()),o.version=h.version,o},h.prototype.theme=function(){var e={};return e.chartProperties={paneProperties:this.properties().paneProperties.state(),scalesProperties:this.properties().scalesProperties.state()},e.mainSourceProperties=this.mainSeries().state().state,delete e.mainSourceProperties.symbol,delete e.mainSourceProperties.interval,delete e.chartProperties.paneProperties.topMargin,delete e.chartProperties.paneProperties.bottomMargin,e.version=h.version,e},h.prototype.restoreTheme=function(e,t,i){var n,r,o={hollowCandle:{related:"candle"}};for(n in o)e.mainSourceProperties[n+"Style"]||(r=e.mainSourceProperties[o[n].related+"Style"],e.mainSourceProperties[n+"Style"]=TradingView.clone(r));this._undoModel.chartLoadTheme(this,e,t,i)},h.prototype.preferences=function(){return Y(this,this.mainSeries())},r=function(){function e(n){var r=t.indexOf(n);return~r?i[r]:this instanceof e?(this._source=n,this._studies={},this._deferreds={},t.push(n),void i.push(this)):new e(n)}var t=[],i=[];return e.prototype.add=function(e,t){this._deferreds[e]&&(this._deferreds[e].resolve(t),delete this._deferreds[e]),this._studies[e]=t},e.prototype.get=function(e){return this._studies[e]?Promise.resolve(this._studies[e]):(this._deferreds[e]||(this._deferreds[e]=G()),this._deferreds[e].promise)},e.prototype.reset=function(){var e=t.indexOf(this._source);~e&&(t.splice(e,1),i.splice(e,1))},e}(),e.exports=h},OKab:function(e,t,i){"use strict";var n,r,o,s,a,l,c;i.r(t),i.d(t,"FormattersSerializer",function(){return c}),n=i("kcTO"),r=i("nEwK"),o=i("GH0z"),s=i("NA7W"),a=i("Eyy1"),l={price:n.PriceFormatter,volume:r.VolumeFormatter,percentage:o.PercentageFormatter,quoteSessionPrice:s.QuoteSessionPriceFormatter},function(e){e.serialize=function(e){var t=Object(a.ensureDefined)(l[e.type]);return{type:e.type,state:t.serialize(e)}},e.deserialize=function(e){return Object(a.ensureDefined)(l[e.type]).deserialize(e.state)}}(c||(c={}))},OYox:function(e,t,i){"use strict";var n,r,o,s,a;i.r(t),i.d(t,"PaneRendererCircles",function(){return a}),n=i("aO4+"),r=i("ogJP"),o=i("Zp/P"),s=i("VdBB"),a=function(){function e(e){this._data=e}return e.prototype.draw=function(e,t){var i,n,o,s,a,l,c,u,h,d,p=this._data,f=t.pixelRatio,_=Math.max(1,Math.floor(f)),m=_%2?.5:0,g=p.vertOffset||0,y=p.lineColor||p.color,v=p.lineWidth||p.height/2,b="",S=!1;for(i=0,n=p.items;i<n.length;i++)s=(o=n[i]).x,a=o.y+g,Object(r.isNaN)(s)||Object(r.isNaN)(a)||(l=void 0,c=void 0,null!=o.style?(l=o.style.color,c=o.style.width):(l=y,c=v),l!==b&&(b=l,S&&e.fill(),e.beginPath(),e.fillStyle=l),u=Math.round(s*f)+m,
h=Math.round(a*f)+m,d=Math.round(c*f)+m,e.moveTo(u+d,h),e.arc(u,h,d,0,2*Math.PI,!1),S=!0);S&&e.fill()},e.prototype.hitTest=function(e){var t,i,r,a=this._data,l=a.lineWidth||a.height/2,c=2*l,u=a.vertOffset||0,h=Object(o.selectionTolerance)(c);for(t=0,i=a.items;t<i.length;t++)if((r=i[t])&&new n.Point(r.x,r.y+u).subtract(e).length()+l<=h)return new s.HitTestResult(s.HitTestResult.REGULAR);return null},e}()},Ob86:function(e,t,i){"use strict";(function(e){function t(e,t){return void 0===e?t:"1"===e}var n,r,o,s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B,N,F,j,W,U,H,z,G,Y,q,X,K,Q,Z,J,ee,te,ie,ne,re,oe,se,ae,le,ce,ue,he,de,pe,fe,_e,me,ge,ye,ve,be,Se,we,Pe,Te,Ce,xe,Ie,Ee,Le,Ae,Oe;if(i("fPdn"),i("i8AX"),e.enabled("use_localstorage_for_settings")&&TVSettings.sync(),n=i("wZIs"),r=i("/Y2c"),i("OK+B"),o=i("RXmj").ChartSaver,s=i("4QoS").takeChartSnapshot,a=i("HwbS"),l=i("RZo+"),c=i("PT1i").linking,u=i("8woN"),h=i("IWXC").getQuoteSessionInstance,d=i("k83o"),p=i("dfhE"),_=(f=i("n5al")).isRangeStyle,m=f.getDefaultStyle,g=i("LxhU").Interval,y=i("pPtI").getDefaultResolution,v=i("z3gQ"),b=i("Tmoa"),S=i("kNhM").EmbedFooterWidget,w=i("JT5O").StudyMarket,P=i("OiSa").isDrawingToolbarVisible,T=i("EsvI"),C=i("oiZD").setTheme,x=i("ZekX").availableTimeFrames,I=i("DcGp").dispatchEventToParent,E=i("DcGp").listenEventFromParent,L=i("Bdgc").IFrameEvents,A=i("Bdgc").ParentEvents,O=i("pOdx").resolveByCustomer,M=i("qE4g").addBrandingSource,k=i("x5Tw").setupChartEventHint,D=i("qocr").whenDocumentReadyPromise,R=i("j6W2").initGA,V=i("IHm8").registerSingleSymbolListBackend,B=i("7G8O").registerSettingsSymbolListBackend,N=window.initData,F=window.urlParams,j=N.defSymbol,W=N.def_extended_hours,U=N.hide_ideas,H=N.hide_ideas_button,z=N.def_interval,G=N.def_style,Y=N.def_timezone,q=N.customer,X=F.range||N.def_range,K=F.enablepublishing||N.def_enable_publishing,Q=F.withdateranges||N.def_withdateranges,Z=N.def_save_image,J=!(F.hideIdeas||F.hideideasbutton||U||H),void 0!==F.saveimage&&(Z="0"!==F.saveimage),e.setEnabled("header_screenshot",Z?1:0),F.fundamental&&(e.setEnabled("create_volume_indicator_by_default",0),e.setEnabled("header_chart_type",0),e.setEnabled("header_compare",0),e.setEnabled("display_market_status",0),e.setEnabled("delete_button_in_legend",0),e.setEnabled("study_buttons_in_legend",0),e.setEnabled("format_button_in_legend",0),e.setEnabled("show_hide_button_in_legend",0),e.setEnabled("fundamental_widget",1),e.setEnabled("legend_context_menu",0),H=!0,U=!0,Q=!0,z="D","seekingalpha"===q&&(Q=!1,e.setEnabled("header_resolutions",0),e.setEnabled("header_fullscreen_button",0))),"bovespa"===q&&e.disable("header_settings"),(void 0===F.symboledit?N.def_hide_symbol_edit:!parseInt(F.symboledit))&&e.setEnabled("header_symbol_search",0),window.pro=new a(window.shopConf),j=F.symbol||j,"cme"===F.symbology&&(Ie=j,j=(Le=new u.SymbolToken(Ie)).root()?"ok"!==(Ee=l.convertSymbolDataToTV(Le.root(),Le.exchange(),F.venue)).status?Ie:(Ee.data.symbol&&Le.root(Ee.data.symbol),Ee.data.exchange&&Le.exchange(Ee.data.exchange),Le.toString()):Ie),ee=W,
"1"===F.extended_hours&&(ee=!0),"0"===F.extended_hours&&(ee=!1),te=d(parent),ie=i("lW/c").Root,ne=i("NsVT").ChartPage,re=new ie(window),oe=new ne(re.allocate()),X&&(se=x(null,p.STATUS_READY).find(function(e){return e.value===X}))&&(F.range=X,F.interval=se.targetResolution),ae=U,le=void 0===F.interval?void 0===F.style?z:y(_(parseInt(F.style))):F.interval,ce=void 0===F.style?void 0===F.interval?parseInt(G):m(g.isRange(F.interval)):parseInt(F.style),M(ue=window.chartWidgetCollection=new r({resizerBridge:oe.allocate({areaName:"center"}),topOffset:F.hidetoptoolbar?0:1,padding:5,edge:F.padding||0,widgetOptions:{onWidget:!0,addToWatchlistEnabled:!0,propertyPagesEnabled:!1,chartEventsEnabled:!0,esdEnabled:!F.fundamental,marketStatusWidgetEnabled:!F.fundamental,marketStatusWidget:{preMarketSolution:!1,postMarketSolution:!1},chartWarningWidget:{subscriptionFullInfo:!1},widgetCustomer:q,hideIdeas:ae,controlBarEnabled:!0,addVolume:!F.hidevolume,handleSessionErrors:!0,muteSessionErrors:!e.enabled("referral_program_for_widget_owners"),defSymbol:j,defInterval:le,defStyle:ce,defExtendedHours:ee,timezone:F.timezone||Y,defTimeframe:X,isDrawingToolbarVisible:P,watermarkEnabled:!F.fundamental,crossHairMenuEnabled:!1,paneContextMenuEnabled:!1,timeScaleWidget:{contextMenuEnabled:!1,timezoneMenuEnabled:!1},timeScale:{preserveBarSpacing:!0,lockVisibleTimeRangeOnResize:!1},legendWidgetEnabled:!F.hidelegend,legendWidget:{contextMenuEnabled:!F.fundamental,contextMenu:{settings:!1,fundamentals:!1},alertWidgetEnabled:!1},goToDateEnabled:!1,handleScroll:{vertTouchDrag:t(F.verttouchdrag,!1),horzTouchDrag:t(F.horztouchdrag,!0)},handleScale:{mouseWheel:t(F.mousewheelscale,"investopedia"!==q)}},seriesControlBarEnabled:!!Q,seriesControlBar:{timeFramesWidgetEnabled:!0,timeFramesWidget:{goToDateEnabled:!1,availableTimeFrames:x},timeWidgetEnabled:!F.fundamental,timeWidget:{timezoneMenuEnabled:!1},adjustForDividendsButtonEnabled:!1,extendedHoursButtonEnabled:W,percentageScaleButtonEnabled:!0,logScaleButtonEnabled:!F.fundamental,autoScaleButtonEnabled:!F.fundamental,fullscreenButtonEnabled:!0,mobileChangeLayoutEnabled:!1},mobileForceChartMaximizeEnabled:!1})),window.chartWidget=ue.activeChartWidget.value(),ue.readOnly()||(window.studyMarket=new w(ue,{onWidget:!0})),c.bindToChartWidgetCollection(ue),I(L.Names.WidgetLoad,F.frameElementId||null,void 0),F.theme&&(de=F.theme.toLowerCase(),(pe=T.themes[de])&&(C(de),pe.noChartTheme||(fe=F.theme&&F.theme.toLowerCase(),(_e=T.getStdTheme(fe))&&_e.content&&(he=_e.content,F.style&&(he.mainSourceProperties.style=parseInt(F.style)),F.fundamental&&(he.mainSourceProperties.visible=!1),n.applyDefaultsOverrides(he,{mainSeriesProperties:"mainSourceProperties"},!0))))),chartWidget.withModel(null,function(){var e=chartWidget.model().mainSeries();he&&chartWidget.model().model().restoreTheme(he),e.dataEvents().symbolResolved().subscribe(e,function(){!function(e,t){var i;if(t){i=e.model().model();try{JSON.parse(decodeURIComponent(t)).forEach(function(e){var t=i.createStudyInserter({type:"java",studyId:e.id})
;t.setForceOverlay(e.overlay),t.insert(function(){return Promise.resolve(e.inputs)})})}catch(e){(t.split(/\x1f/)||[]).forEach(function(e){i.createStudyInserter({type:"java",studyId:e}).insert()})}}}(chartWidget,F.studies)},!0),e.dataEvents().completed().subscribe(this,function(){he&&$(".loading-indicator").hide(),k&&(k(ue),k=null)}),e.dataEvents().symbolError().subscribe(null,function(){I(L.Names.NoData,F.frameElementId||null,void 0)})}),K&&(new S({resizerBridge:oe.allocate({areaName:"bottom"}),publishOptions:{onWidget:!0,publishSource:F.publishsource}}),$.get("/accounts/status_full/",{},function(e){e.is_authenticated&&(window.is_authenticated=!0,window.user=e.user_data)})),me=window.saver=new o(ue),TradingView.setWidgetLogoOverlayVisibility=function(e){te.post(parent,"setLogoOverlayVisibility",{visible:!!e})},void 0===F.hidesidetoolbar||+F.hidesidetoolbar?$(".tv-side-toolbar").addClass("js-hidden"):Promise.all([i.e("vendors_embed"),i.e(2),i.e(12),i.e(14),i.e(15),i.e(16),i.e(24),i.e(50),i.e(64),i.e(85),i.e(92),i.e(119),i.e(171),i.e(173),i.e(174),i.e(194),i.e(11),i.e(13),i.e(22),i.e(26),i.e(29),i.e(56),i.e(59),i.e(78),i.e(108),i.e("line-tools-icons"),i.e("widget-sidetoolbar")]).then(function(e){var t=i("q1tI"),n=i("i8i4"),r=i("mgFB").DrawingToolbar,o=i("tPkB"),s=oe.allocate({areaName:"left"});n.render(t.createElement(r,{chartWidgetCollection:ue,forceVisible:!(void 0===F.hidesidetoolbar||+F.hidesidetoolbar),resizerBridge:s,screenshotButton:"cme"===q}),s.container.value()),window.lineToolPropertiesToolbar=new o(ue)}.bind(null,i)).catch(i.oe),F.hidetoptoolbar||(ge=O(q),Promise.all([i.e("vendors_embed"),i.e(15),i.e(48),i.e(99),i.e(174),i.e(205),i.e(13),i.e(87),i.e("widget-toptoolbar")]).then(function(t){var n=i("q1tI"),r=i("i8i4"),o=i("EA1V").HeaderToolbar,s=i("/5ju").SaveChartService,a=i("lA7n").LoadChartService,l=oe.allocate({areaName:"top"});ge.then(function(e){return e.getToolSet()}).then(function(t){var i;i=Modernizr.mobiletouch?["full"]:e.enabled("caption_buttons_text_if_possible")?void 0:["medium"],r.render(n.createElement(o,{tools:t,chartSaver:me,chartApiInstance:ChartApiInstance,availableTimeFrames:x,chartWidgetCollection:ue,defaultIntervals:ChartApiInstance.defaultResolutions(),ideas:J,hideProperties:!0,hideStudyTemplates:!0,resizerBridge:l,popupButton:F.showpopupbutton,studyMarket:window.studyMarket,windowMessageService:te,isFundamental:Boolean(F.fundamental),allowedModes:i,saveChartService:new s(ue,me),loadChartService:new a(ue)}),l.container.value())})}.bind(null,i)).catch(i.oe)),F.toolbarbg&&(ye=b.isHexColor(F.toolbarbg)?"#"+F.toolbarbg:F.toolbarbg,$("#widget-container").css("background-color",ye)),e.enabled("onchart_messages")&&i.e("chart-messages").then(function(e){var t=i("auSW").OnChartMessages;window.onChartMessages=new t({readonly:!0})}.bind(null,i)).catch(i.oe),ve=[],be=[],Se=!1,F.watchlist&&(be=F.watchlist.split(/\x1f/).map(function(e){return e.trim()}).filter(Boolean)),(be.length||F.editablewatchlist)&&(we={type:"watchlist",properties:{list:be}},F.editablewatchlist?(we.readonly=!1,we.data={
hideTitleButton:!0},we.settingsKey="onwidget.watchlist",we.unAuthEditable=!0,B(be)):V(be),ve.push(we)),"details"in F&&ve.push({type:"detail"}),"news"in F)if("newsvendors"in F){for(Pe=F.newsvendors.split(/\x1f/),Te=0;Te<Pe.length;Te++)switch(Pe[Te]){case"headlines":ve.push({type:"news",properties:{provider:{base:"tradingviewextra",ru:"djforex",tr:"bloomberght"}}});break;default:ve.push({type:"news",properties:{provider:{base:"stocktwits"}}})}Se=!0}else ve.push({type:"news",properties:{provider:{en:"yahoo"}}}),ve.push({type:"news",properties:{provider:{en:"stocktwits"}}});"widgetbarwidth"in F&&(Ce=+F.widgetbarwidth),(!isFinite(Ce)||Ce<200)&&(Ce=200),xe=ve.length?[{name:"base",title:window.t("Widgets"),icon:"base",widgets:ve.map(function(e){return e})}]:[],F.hotlist&&xe.push({name:"hotlist",title:window.t("Hotlists"),icon:"hotlists",widgets:[{type:"hotlist",properties:{exchangeByLocale:{default:window.COUNTRY_CODE_TO_DEFAULT_EXCHANGE.en},groupByLocale:{default:"volume_gainers"}}},{type:"hotlist",properties:{exchangeByLocale:{default:window.COUNTRY_CODE_TO_DEFAULT_EXCHANGE.en},groupByLocale:{default:"percent_change_gainers"}}},{type:"hotlist",properties:{exchangeByLocale:{default:window.COUNTRY_CODE_TO_DEFAULT_EXCHANGE.en},groupByLocale:{default:"percent_change_loosers"}}}]}),F.calendar&&xe.push({name:"calendar",title:window.t("Calendar"),icon:"calendar",widgets:[{type:"reuters_calendar",properties:{}},{type:"earnings_calendar",properties:{}}]}),xe.length&&Promise.all([i.e("vendors_embed"),i.e("dialogs-core"),i.e(0),i.e(1),i.e(3),i.e(4),i.e(5),i.e(7),i.e(9),i.e(12),i.e(14),i.e(21),i.e(24),i.e(27),i.e(36),i.e(46),i.e(48),i.e(64),i.e(65),i.e(71),i.e(90),i.e(96),i.e(97),i.e(120),i.e(122),i.e(125),i.e(127),i.e(153),i.e(170),i.e(173),i.e(181),i.e(6),i.e(11),i.e(13),i.e(17),i.e(19),i.e(22),i.e(34),i.e(62),i.e(58),i.e(57),i.e(56),i.e(52),i.e(83),i.e(102),i.e(101),i.e(114),i.e(132),i.e(136),i.e("widgetbar")]).then(function(e){var t,n=i("Q8Ag");n.loadWidgetBarModules=function(e){var t=i("zpSA").widgetBarWidgets;t.Watchlist=i("MVPm").configure({chartApiInstance:ChartApiInstance}),e(t)},t=i("BH4H").WidgetBar,xe.forEach(function(e){e.widgets=e.widgets.filter(function(e){return!(void 0!==e.isEnabled&&!e.isEnabled)})}),window.widgetbar=new t({resizerBridge:oe.allocate({areaName:"right"}),readonly:!0,state:{width:Ce,pages:xe},overlayThreshold:640,showCloseButton:!0},{news:{options:{permanentProvider:!0,embedWidgetNews:Se}}})}.bind(null,i)).catch(i.oe),chartWidget.onDisconnected().subscribe(null,function(e){$(".loading-indicator").hide(),e&&v.showCriticalErrorMessage(function(){ChartApiInstance.disconnect(),setTimeout(function(){ChartApiInstance.connect(),chartWidget.reconnect()},500)})}),chartWidget.onReconnectBailout().subscribe(null,function(){v.showDisconnectedMessage(function(){setTimeout(function(){ChartApiInstance.connect()},0)})}),$(".tv-content").bind("contextmenu",function(e){var t=$(e.originalEvent.target);if(!t.is("input")&&!t.is("textarea"))return!1}),F.whotrades&&e.setEnabled("whotrades_auth_only",!0),$(window).resize(),
$(".loading-indicator").remove(),Oe=function(e){void 0!==Ae&&h("simple").unsubscribe("widgetQuoteListener",Ae),Ae=e,h("simple").subscribe("widgetQuoteListener",e,function(e){var t,i,n=e.values,r=["change","change_percent","last_price","original_name","short_name","exchange","description","volume"],o={};for(t=0;t<r.length;t++){if(i=r[t],!n.hasOwnProperty(i))return;o[i]=n[i]}o.volume=1e100===n.volume?void 0:n.volume,te.post(parent,"quoteUpdate",o)})},chartWidget.withModel(null,function(){var e=chartWidget.model().mainSeries();e.properties().symbol.subscribe(e,function(e){Oe(e.value())})}),te.on("quoteSubscribe",function(){var e=chartWidget.model().mainSeries().properties().symbol.value();Oe(e)}),te.on("imageURL",function(e,t){s(ue,function(e){t(e)},function(){t("")},{wl:"1"===F.whitelabel},N.cme_widget?{cme:!0}:void 0)}),te.on("symbolInfo",function(e,t){var i=chartWidget.model().mainSeries().symbolInfo(),n=chartWidget.model().mainSeries().properties().interval.value(),r={name:i.name,exchange:i.exchange,description:i.description,type:i.type,interval:n};t(r)}),te.on("widgetReady",function(e,t){chartWidget.withModel(null,function(){var e;chartWidget.model().mainSeries().symbolInfo()?t():(e=function(){t(),chartWidget.model().mainSeries().dataEvents().symbolResolved().unsubscribe(null,e)},chartWidget.model().mainSeries().dataEvents().symbolResolved().subscribe(null,e))})}),E(A.Names.SetSymbol,function(e){e&&e.symbol&&ue.setSymbol(e.symbol)}),E(A.Names.SetInterval,function(e){e&&e.interval&&ue.setResolution(e.interval)}),window.applyStudiesOverrides=function(e){e&&window.chartWidgetCollection.applyStudiesOverrides(e)},Promise.all([new Promise(function(e){chartWidget.withModel(null,function(){chartWidget.model().mainSeries().dataEvents().completed().subscribe(null,e,{once:!0})})}),D]).then(R)}).call(this,i("Kxc7"))},ObRt:function(e,t,i){"use strict";function n(e,t){if(o(e))throw new Error("Service already registered");c[e.id]=t;var i=u.get(e.id);void 0!==i&&(u.delete(e.id),i.resolve(t))}function r(e){if(!o(e))throw new Error("Service not found");c[e.id]=void 0}function o(e){return void 0!==c[e.id]}function s(e){var t=c[e.id];if(void 0===t)throw new Error("ServiceLocator: Service "+e.id+" not found");return t}function a(e){if(o(e))return Promise.resolve(s(e));var t=u.get(e.id);return void 0===t&&(t=Object(l.createDeferredPromise)(),u.set(e.id,t)),t.promise}var l,c,u;i.d(t,"b",function(){return n}),i.d(t,"d",function(){return r}),i.d(t,"a",function(){return o}),i.d(t,"c",function(){return s}),i.d(t,"e",function(){return a}),l=i("jofe"),c={},u=new Map},Ocx9:function(e,t,i){"use strict";(function(e){function n(e,t,i,n){var o=e?s.defaults:s.factoryDefaults,a=t.startsWith("study_")?TradingView.clone(o("study")):{},l=TradingView.clone(o(t,n));return t.startsWith("study_")&&l.inputs&&delete l.inputs.symbol,"linetoolicon"===t&&e&&(l.icon=s.defaults(t).icon),l=r(l,i),TradingView.merge(a,l),a}function r(e,t){var i,n={};for(i in e)t.indexOf(i)<0&&(n[i]=e[i]);return n}function o(t,i,r,s){var l;void 0===s&&(s=!0),this._defaultName=t,
r?l=i:(l=n(s,t,[],null),i&&TradingView.merge(l,i)),a.call(this,l),this._defaultName=t,this._useUserPreferences=s,this.listeners().subscribe(this,o.prototype.onPropertyChanged),this._exclusions=[],this._restoreFactoryDefaultsEvent=new e}var s=i("wZIs"),a=i("tc+8");inherit(o,a),o._saveDefaults=!1,o.prototype.preferences=function(){return this.state(this._exclusions)},o.prototype.mergePreferences=function(e){this.mergeAndFire(r(e,this._exclusions))},o.prototype.addExclusion=function(e){this._exclusions.indexOf(e)<0&&this._exclusions.push(e)},o.prototype.restoreFactoryDefaults=function(){var e=n(!1,this._defaultName,this._exclusions,null);this.mergeAndFire(e),this._defaultName.startsWith("study_")||this.saveDefaults(),this._restoreFactoryDefaultsEvent.fire()},o.prototype.onRestoreFactoryDefaults=function(){return this._restoreFactoryDefaultsEvent},o.prototype.onPropertyChanged=function(){o._saveDefaults&&!this._defaultName.startsWith("study_")&&this.saveDefaults()},o.prototype.saveDefaults=function(){this._useUserPreferences&&s.saveDefaults(this._defaultName,this.preferences())},o.prototype.clone=function(e){var t,i=new o(this._defaultName,this.state(),e&&e.replaceByState,this._useUserPreferences);for(t=0;t<this._exclusions.length;++t)i.addExclusion(this._exclusions[t]);return i},t.DefaultProperty=o,t.saveDefaultProperties=function(e){o._saveDefaults=e}}).call(this,i("aIyQ"))},OekH:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h,d,p;i.r(t),i.d(t,"CONNECTSTATUSES",function(){return n}),i.d(t,"ORDERTYPE",function(){return r}),i.d(t,"SIDE",function(){return o}),i.d(t,"ORDERSTATUS",function(){return s}),i.d(t,"ORDERSTATUSFILTER",function(){return a}),i.d(t,"PARENTTYPE",function(){return l}),i.d(t,"TICKETFOCUS",function(){return c}),i.d(t,"NOTIFICATION",function(){return u}),i.d(t,"OrderOrPositionMessageType",function(){return h}),i.d(t,"AccountType",function(){return d}),i.d(t,"DisconnectType",function(){return p}),function(e){e[e.CONNECTED=1]="CONNECTED",e[e.CONNECTING=2]="CONNECTING",e[e.DISCONNECTED=3]="DISCONNECTED",e[e.ERROR=4]="ERROR"}(n||(n={})),function(e){e[e.LIMIT=1]="LIMIT",e[e.MARKET=2]="MARKET",e[e.STOP=3]="STOP",e[e.STOPLIMIT=4]="STOPLIMIT"}(r||(r={})),function(e){e[e.BUY=1]="BUY",e[e.SELL=-1]="SELL"}(o||(o={})),function(e){e[e.CANCELED=1]="CANCELED",e[e.FILLED=2]="FILLED",e[e.INACTIVE=3]="INACTIVE",e[e.PLACING=4]="PLACING",e[e.REJECTED=5]="REJECTED",e[e.WORKING=6]="WORKING"}(s||(s={})),function(e){e[e.ALL=0]="ALL",e[e.CANCELED=1]="CANCELED",e[e.FILLED=2]="FILLED",e[e.INACTIVE=3]="INACTIVE",e[e.REJECTED=5]="REJECTED",e[e.WORKING=6]="WORKING"}(a||(a={})),function(e){e[e.ORDER=1]="ORDER",e[e.POSITION=2]="POSITION"}(l||(l={})),function(e){e[e.LIMITPRICE=1]="LIMITPRICE",e[e.STOPPRICE=2]="STOPPRICE",e[e.TAKEPROFIT=3]="TAKEPROFIT",e[e.STOPLOSS=4]="STOPLOSS"}(c||(c={})),function(e){e[e.ERROR=0]="ERROR",e[e.SUCCESS=1]="SUCCESS"}(u||(u={})),function(e){e.Information="information",e.Warning="warning",e.Error="error"}(h||(h={})),function(e){e.Demo="demo",e.Live="live"}(d||(d={})),function(e){e[e.LogOut=0]="LogOut",
e[e.FailedRestoring=1]="FailedRestoring",e[e.Offline=2]="Offline"}(p||(p={}))},OiSa:function(e,t,i){"use strict";var n,r,o,s,a,l,c;i.r(t),i.d(t,"isDrawingToolbarVisible",function(){return c}),n=i("Vdly"),r=i("Kxc7"),o=i("hY0g"),s=i.n(o),a=!r.enabled("hide_left_toolbar_by_default"),l=n.getBool("ChartDrawingToolbarWidget.visible",a),c=new s.a(l)},OsWk:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15" width="15" height="15" fill="none"><path d="M3.00004 7.50008C3.00004 6.25729 3.50318 5.13298 4.31807 4.31809L3.61097 3.61098C2.6162 4.60574 2.00004 5.98143 2.00004 7.50008H3.00004ZM4.31807 4.31809C5.13296 3.50321 6.25727 3.00008 7.50004 3.00008V2.00008C5.98141 2.00008 4.60572 2.61623 3.61097 3.61098L4.31807 4.31809ZM4.31808 3.61098L2.55033 1.84323L1.84322 2.55033L3.61097 4.31809L4.31808 3.61098ZM7.50004 3.00008C8.74283 3.00008 9.86715 3.50321 10.682 4.31811L11.3891 3.611C10.3944 2.61624 9.01869 2.00008 7.50004 2.00008V3.00008ZM10.682 4.31811C11.4969 5.13299 12 6.2573 12 7.50008H13C13 5.98144 12.3839 4.60576 11.3891 3.611L10.682 4.31811ZM11.3891 4.31811L13.1569 2.55033L12.4498 1.84322L10.682 3.611L11.3891 4.31811ZM12 7.50008C12 8.74285 11.4969 9.86716 10.682 10.682L11.3891 11.3892C12.3839 10.3944 13 9.01872 13 7.50008H12ZM10.682 10.682C9.86715 11.4969 8.74283 12.0001 7.50004 12.0001V13.0001C9.01869 13.0001 10.3944 12.3839 11.3891 11.3892L10.682 10.682ZM10.682 11.3892L12.4498 13.1569L13.1569 12.4498L11.3891 10.682L10.682 11.3892ZM7.50004 12.0001C6.25727 12.0001 5.13296 11.497 4.31807 10.6821L3.61097 11.3892C4.60572 12.3839 5.98141 13.0001 7.50004 13.0001V12.0001ZM4.31807 10.6821C3.50318 9.86718 3.00004 8.74286 3.00004 7.50008H2.00004C2.00004 9.01873 2.6162 10.3944 3.61097 11.3892L4.31807 10.6821ZM2.55033 13.1569L4.31808 11.3892L3.61097 10.6821L1.84322 12.4498L2.55033 13.1569ZM8.00004 2.50007L8 -8.77353e-06L7 8.77353e-06L7.00004 2.50009L8.00004 2.50007ZM12.5001 8.00008L15 8L15 7L12.5 7.00008L12.5001 8.00008ZM2.50006 7.00008L1.564e-05 7L-1.564e-05 8L2.50003 8.00008L2.50006 7.00008ZM7.00004 12.5001L7 15L8 15L8.00004 12.5001L7.00004 12.5001Z"/></svg>'},Owlf:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n="large"},"P+Pi":function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"PaneRendererFlagShape",function(){return s}),n=i("mrSG"),r=i("2WC2"),o=3,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype._drawItemShapeUsingCSSPixels=function(e,t){var i=t.width,n=t.height,r=n/2,s=(i-o)/3,a=t.x-i/2,l=t.vertOffset,c=t.y-r+l;e.moveTo(a,c),e.lineTo(a+o,c),e.bezierCurveTo(a+s,c-s,a+2*s,c+s,a+i,c),e.lineTo(a+i,c+r),e.bezierCurveTo(a+i-s,c+r+s,a+i-2*s,c+r-s,a+o,c+r),e.lineTo(a+o,c+n),e.lineTo(a,c+n),e.lineTo(a,c)},t}(r.a)},PAcw:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"GridRenderer",function(){return o}),n=i("jFln"),r=i("gAom"),o=function(){function e(){this._data=null}return e.prototype.setData=function(e){this._data=e},e.prototype.draw=function(e,t){var i,o,s,a,l,c,u,h,d,p,f,_;if(null!==this._data){
if(i=t.pixelRatio,o=Math.max(1,Math.floor(i)),e.lineWidth=o,s=Math.ceil(this._data.h*i),a=Math.ceil(this._data.w*i),e.save(),e.lineCap="butt",this._data.vertLinesVisible){for(e.strokeStyle=this._data.vertLinesColor,Object(n.setLineStyle)(e,this._data.vertLineStyle),e.beginPath(),l=0,c=this._data.timeMarks;l<c.length;l++)u=c[l],h=Math.round(u.coord*i),Object(r.drawVerticalLine)(e,h,0,s);e.stroke()}if(this._data.horzLinesVisible){for(e.strokeStyle=this._data.horzLinesColor,Object(n.setLineStyle)(e,this._data.horzLineStyle),e.beginPath(),d=0,p=this._data.priceMarks;d<p.length;d++)f=p[d],_=Math.round(f.coord*i),Object(r.drawHorizontalLine)(e,_,0,a);e.stroke()}e.restore()}},e.prototype.hitTest=function(e){return null},e}()},PC8g:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u;i.r(t),i.d(t,"trackEvent",function(){return u}),n=i("bSeV"),r=i("FQhm"),o=i("Kxc7"),s=i("uOxu"),a=Object(s.getLogger)("Common.TrackEvent"),l=[/Study_(Drawing)_(.*)/,/(Study)_(.*)@tv-basicstudies/,/(Study)_(.*)/,/(Chart Style) (.*)/],c=function(e,t,i){var n,o,s;for(t=t||e||i||"",n="",o=0;o<l.length;o++)if((s=t.match(l[o]))&&3===s.length){t=s[1],n=s[2];break}Object(r.emit)(t.toLowerCase().replace(" ","_"),{category:e,label:i,value:n})},u=function(e,t,i){if(o.enabled("charting_library_base"))c(e,t,i);else{var n=(e?e+":":"")+t;i&&(n+=" "+i),a.logNormal(n),o.enabled("widget")||!window._UNIT_TESTS&&window.gtag&&window.gtag("event",t,{event_category:e,event_label:i})}},"undefined"!=typeof window&&(window.TradingView=window.TradingView||{},window.TradingView.trackEvent=u)},PF2b:function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"PaneRendererTriangleApexUp",function(){return o}),i.d(t,"PaneRendererTriangleApexDown",function(){return s}),n=i("mrSG"),r=i("2WC2"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype._drawItemShape=function(e,t,i){var n,r,o,s,a,l=i.width,c=i.height,u=Math.round(c/3),h=i.vertOffset,d=h-2*u,p=t.pixelRatio,f=this._lineWidth(t),_=f%2?.5:0,m=Math.max(1,Math.floor(p)),g=m%2?.5:0,y=Math.round(l*p);y%2!=m%2&&(y+=1),n=Math.round(i.x*p)+g,r=Math.round((i.y+d)*p),o=n+y/2,s=Math.round((i.y+d+c)*p)+_,a=n-y/2,e.moveTo(n,r),e.lineTo(o,s),e.lineTo(a,s),e.lineTo(n,r)},t}(r.a),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype._drawItemShape=function(e,t,i){var n,r,o,s,a,l=i.width,c=i.height,u=Math.round(c/3),h=i.vertOffset-u,d=t.pixelRatio,p=this._lineWidth(t),f=p%2?.5:0,_=Math.max(1,Math.floor(d)),m=_%2?.5:0,g=Math.round(l*d);g%2!=_%2&&(g+=1),n=Math.round(i.x*d)+m,r=Math.round((i.y+h)*d)+f,o=n+g/2,s=Math.round((i.y+h+c)*d),a=n-g/2,e.moveTo(a,r),e.lineTo(o,r),e.lineTo(n,s),e.lineTo(a,r)},t}(r.a)},PFI7:function(e,t,i){"use strict";function n(e){return e.offsetWidth+s<e.scrollWidth}var r,o,s;i.r(t),r=i("glKZ"),o=i("qocr"),s=/\b(msie|trident)\b/i.test(navigator.userAgent)?1:0,Object(o.whenDocumentReady)(function(){document.addEventListener("mouseenter",function(e){var t,i=e.target
;i instanceof HTMLElement&&i.matches(".apply-overflow-title")&&((t=i).getAttribute("title")||t.offsetWidth+s>=t.scrollWidth||t.setAttribute("title",t.textContent||""))},!0),document.addEventListener("mouseenter",function(e){var t,i,o,s,a,l,c=e.target;if(c instanceof HTMLElement&&c.matches(".apply-overflow-tooltip")){if(c.matches(".apply-overflow-tooltip--check-children")){for(t=!1,i=c.children,o=0;o<i.length;o++)if((s=i[o])instanceof HTMLElement&&n(s)){t=!0;break}if(!t)return}else if(!n(c))return;a="",a=c.matches&&c.matches(".apply-overflow-tooltip--allow-text")?c.textContent||"":Array.from(c.childNodes).reduce(function(e,t){return t.nodeType===Node.TEXT_NODE&&e.push(t.textContent||""),e},[]).join("").trim(),Object(r.showOnElement)(c,{text:a}),l=function(){Object(r.hide)(),["mouseleave","mousedown"].forEach(function(e){return c.removeEventListener(e,l)})},["mouseleave","mousedown"].forEach(function(e){return c.addEventListener(e,l)})}},!0)})},PT1i:function(e,t,i){"use strict";function n(e,t){return null===e&&null===t||null!==e&&null!==t&&e.res===t.res&&e.val===t.val}var r,o,s,a,l,c,u,h,d,p,f,_;i.r(t),i.d(t,"Linking",function(){return f}),i.d(t,"linking",function(){return _}),r=i("hY0g"),o=i.n(r),s=i("Kxc7"),a=i("JOqt"),l=i("uOxu"),c=i("0UyP"),u=Object(l.getLogger)("Linking"),h=2e3,d=100,function(e){e[e.NotBound=0]="NotBound",e[e.BoundToWidget=1]="BoundToWidget",e[e.BoundToModel=2]="BoundToModel"}(p||(p={})),f=function(){function e(){this._watchedSymbol=new o.a,this._seriesShortSymbol=new o.a,this._proSymbol=new o.a,this._watchedInterval=new o.a,this._watchedTimeFrame=new o.a(null),this._watchedIntraday=new o.a,this._watchedSupportedResolutions=new o.a,this._symbolNamesList=new o.a,this._chartWidgetBindingState=p.NotBound,this._activeChartWidget=null,this._watchedSymbolListenerBound=this._watchedSymbolListener.bind(this),this._watchedIntervalListenerBound=this._watchedIntervalListener.bind(this),this._watchedTimeFrameListenerBound=this._watchedTimeFrameListener.bind(this),this._onSymbolLinkBound=this._onSymbolLink.bind(this),this._searchCharts=null,this._searchChartsLoadDebounced=null,this._selfEmit=!1,this._preventFeedBySymbol=!1,this._feedBySymbolDebounceCounter=0}return Object.defineProperty(e.prototype,"symbol",{get:function(){return this._watchedSymbol},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"proSymbol",{get:function(){return this._proSymbol},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"symbolNamesList",{get:function(){return this._symbolNamesList},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"seriesShortSymbol",{get:function(){return this._seriesShortSymbol.readonly()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interval",{get:function(){return this._watchedInterval},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeFrame",{get:function(){return this._watchedTimeFrame},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"intraday",{get:function(){return this._watchedIntraday.readonly()
},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"supportedResolutions",{get:function(){return this._watchedSupportedResolutions.readonly()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preventFeedBySymbol",{get:function(){return this._preventFeedBySymbol},enumerable:!0,configurable:!0}),e.prototype.bindToChartWidget=function(e){var t,i;this.unbindFromChartWidget(),this._activeChartWidget=e,(t=e.model())?this._onChartModelCreated(t):(e.modelCreated().subscribe(this,this._onChartModelCreated),this._chartWidgetBindingState=p.BoundToWidget,i=e.properties().mainSeriesProperties,this._watchedSymbol.setValue(i.symbol.value()),this._watchedInterval.setValue(i.interval.value()))},e.prototype.unbindFromChartWidget=function(){switch(this._chartWidgetBindingState){case p.BoundToWidget:if(!this._activeChartWidget)throw new Error("ChartWidget is undefined");this._activeChartWidget.modelCreated().unsubscribe(this,this._onChartModelCreated);break;case p.BoundToModel:this._symbolProperty().unsubscribe(this,this._onSymbolPropertyChange),this._watchedSymbol.unsubscribe(this._watchedSymbolListenerBound),this._mainSeries().dataEvents().symbolResolved().unsubscribe(this,this._updateSeriesSymbolInfo),this._mainSeries().dataEvents().symbolError().unsubscribe(this,this._updateSeriesSymbolInfo),this._intervalProperty().unsubscribe(this,this._onIntervalPropertyChange),this._watchedInterval.unsubscribe(this._watchedIntervalListenerBound),this._timeFrameProperty().unsubscribe(this,this._onIntervalPropertyChange),this._watchedTimeFrame.unsubscribe(this._watchedTimeFrameListenerBound),delete this._watchedSymbol.hook,delete this._watchedSymbol.writeLock}this._activeChartWidget=null,this._chartWidgetBindingState=p.NotBound},e.prototype.getChartWidget=function(){return this._activeChartWidget},e.prototype.bindToChartWidgetCollection=function(e){var t=this;this._chartWidgetCollection=e,this.unbindFromChartWidget(),e.activeChartWidget.subscribe(function(e){t.unbindFromChartWidget(),t.bindToChartWidget(e)},{callWithLast:!0})},e.prototype.bindToSearchCharts=function(e){var t=this;this.unbindFromSearchCharts(),this._searchCharts=e,e.onSearchBySymbol.subscribe(this,this._onSearchBySymbol),e.loadingSymbol.subscribe(function(e){!1===e&&(t._feedBySymbolDebounceCounter=0)}),this._watchedSymbol.subscribe(this._onSymbolLinkBound)},e.prototype.unbindFromSearchCharts=function(){this._searchCharts&&(this._searchCharts.onSearchBySymbol.unsubscribe(this,this._onSearchBySymbol),this._watchedSymbol.unsubscribe(this._onSymbolLinkBound),this._searchCharts=null)},e.prototype.setPreventFeedBySymbol=function(e){this._preventFeedBySymbol=e},e.prototype._onSearchBySymbol=function(e){if(!e.resolved_symbol)throw new Error("no resolved_symbol");this._selfEmit=!0,this._watchedSymbol.setValue(e.resolved_symbol),this._selfEmit=!1},e.prototype._onSymbolLink=function(e){if(!this._selfEmit){if(!this._searchCharts){var t="No search charts defined";throw u.logError(t),new Error(t)}this._preventFeedBySymbol||this._loadSearchCharts(e)}},
e.prototype._loadSearchCharts=function(e){var t,i,n=this;if(!this._searchCharts)throw t="No search charts defined",u.logError(t),new Error(t);this._searchChartsLoadDebounced?this._feedBySymbolDebounceCounter<d&&(this._feedBySymbolDebounceCounter++,this._searchChartsLoadDebounced(e)):(i=function(e){return n._searchCharts?(!0===n._searchCharts.loadingSymbol.value()?n._feedBySymbolDebounceCounter<d&&(n._feedBySymbolDebounceCounter++,n._searchChartsLoadDebounced=Object(a.debounce)(i,h),n._searchChartsLoadDebounced(e)):n._searchChartsLoadDebounced=null,n._searchCharts.feedBySymbol.call(n._searchCharts,e)):function(){}},!0===this._searchCharts.loadingSymbol.value()?this._feedBySymbolDebounceCounter<d&&(this._feedBySymbolDebounceCounter++,this._searchChartsLoadDebounced=Object(a.debounce)(i,h),this._searchChartsLoadDebounced(e)):this._searchCharts.feedBySymbol(e))},e.prototype._mainSeries=function(){if(!this._activeChartWidget)throw new Error("ChartWidget is undefined");return this._activeChartWidget.model().mainSeries()},e.prototype._properties=function(){return this._mainSeries().properties()},e.prototype._symbolProperty=function(){return this._properties().symbol},e.prototype._intervalProperty=function(){return this._properties().interval},e.prototype._timeFrameProperty=function(){if(!this._activeChartWidget)throw new Error("ChartWidget is undefined");return this._activeChartWidget.model().model().appliedTimeFrame()},e.prototype._watchedSymbolListener=function(e){(s.enabled("same_data_requery")||this._symbolProperty().value()!==e)&&(this._chartWidgetCollection.setSymbol(e),this._sendSnowplowAnalytics())},e.prototype._sendSnowplowAnalytics=function(){var e,t,i,n=this;window.user.do_not_track||(e=this._mainSeries(),t=function(){e.dataEvents().symbolResolved().unsubscribe(n,i)},i=function(i){Object(c.getTracker)().then(function(e){var t,r;null!==e&&(t=n._chartWidgetCollection.layout.value(),r=n._chartWidgetCollection.metaInfo.uid.value()||"",e.trackChartSymbols(i.pro_name,i.type,t,r))}),e.dataEvents().symbolError().unsubscribe(n,t)},e.dataEvents().symbolResolved().subscribe(this,i,!0),e.dataEvents().symbolError().subscribe(this,t,!0))},e.prototype._onSymbolPropertyChange=function(){var e=this._symbolProperty().value()!==this._watchedSymbol.value();this._watchedSymbol.setValue(this._symbolProperty().value()),e&&this._chartWidgetCollection.setSymbol(this._symbolProperty().value())},e.prototype._onSymbolResolved=function(e){var t=this._mainSeries().symbolInfo();t&&this._applyValuesFromSymbolInfo(t)},e.prototype._applyValuesFromSymbolInfo=function(e){var t=e.pro_name||s.enabled("trading_terminal")&&(e.full_name||e.name)||"";this._proSymbol.setValue(t),e.aliases&&this._symbolNamesList.setValue(e.aliases)},e.prototype._updateSeriesSymbolInfo=function(){this._seriesShortSymbol.setValue(this._properties().shortName.value());var e=this._mainSeries().symbolInfo();e?(this._applyValuesFromSymbolInfo(e),
e.hasOwnProperty("supported_resolutions")?this._watchedSupportedResolutions.setValue(e.supported_resolutions):this._watchedSupportedResolutions.setValue(void 0),this._watchedIntraday.setValue(!!e.has_intraday)):(this._watchedIntraday.deleteValue(),this._proSymbol.deleteValue())},e.prototype._watchedIntervalListener=function(e){(s.enabled("same_data_requery")||this._intervalProperty().value()!==e)&&this._chartWidgetCollection.setResolution(e)},e.prototype._onIntervalPropertyChange=function(){var e=this._intervalProperty().value()!==this._watchedInterval.value();this._watchedInterval.setValue(this._intervalProperty().value()),e&&this._chartWidgetCollection.setResolution(this._intervalProperty().value())},e.prototype._watchedTimeFrameListener=function(e){n(this._timeFrameProperty().state(),e)||this._chartWidgetCollection.setTimeFrame(e)},e.prototype._onTimeFramePropertyChange=function(){var e=!n(this._timeFrameProperty().state(),this._watchedTimeFrame.value());this._watchedTimeFrame.setValue(this._timeFrameProperty().state()),e&&this._chartWidgetCollection.setTimeFrame(this._timeFrameProperty().state())},e.prototype._onChartModelCreated=function(e){var t,i,n,r;if(!this._activeChartWidget)throw new Error("ChartWidget is undefined");this._chartWidgetBindingState=p.BoundToModel,this._activeChartWidget.modelCreated().unsubscribe(this,this._onChartModelCreated),(t=this._symbolProperty()).subscribe(this,this._onSymbolPropertyChange),this._watchedSymbol.setValue(t.value()),this._watchedSymbol.subscribe(this._watchedSymbolListenerBound),(i=this._mainSeries()).dataEvents().symbolResolved().subscribe(this,this._onSymbolResolved),this._watchedSymbol.hook=function(e){return i.symbolSameAsCurrent(e)&&(e=i.symbol()),e},i.dataEvents().symbolResolved().subscribe(this,this._updateSeriesSymbolInfo),i.dataEvents().symbolError().subscribe(this,this._updateSeriesSymbolInfo),i.dataEvents().symbolNotPermitted().subscribe(this,this._updateSeriesSymbolInfo),i.dataEvents().symbolGroupNotPermitted().subscribe(this,this._updateSeriesSymbolInfo),i.dataEvents().extendedHoursNotPermitted().subscribe(this,this._updateSeriesSymbolInfo),this._updateSeriesSymbolInfo(),(n=this._intervalProperty()).subscribe(this,this._onIntervalPropertyChange),this._watchedInterval.setValue(n.value()),this._watchedInterval.subscribe(this._watchedIntervalListenerBound),(r=this._timeFrameProperty()).subscribe(this,this._onTimeFramePropertyChange),this._watchedTimeFrame.setValue(r.state()),this._watchedTimeFrame.subscribe(this._watchedTimeFrameListenerBound),this._activeChartWidget.readOnly()&&(this._watchedSymbol.writeLock=!0)},e}(),window.TradingView=window.TradingView||{},_=new f,window.TradingView.Linking=_},PYn8:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolThreeDrivers";var o=t||n.createProperties();r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("S6aM").LineToolThreeDrivesPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}
var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=window.t("Three Drives Pattern");inherit(n,r),n.prototype.pointsCount=function(){return 7},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Three Drives Pattern"},n.prototype.getStylesPropertyPage=function(){return s.LineToolABCDPatternStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("y4pE").AbcdPatternDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new o("linetoolthreedrivers",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolThreeDrivers=n},Pb0m:function(e,t,i){"use strict";function n(e,t){this._model=e,this._source=t,this._waves=[],this._highlights=[],this._retracements=[],this._invalidated=!0}function r(e,t,i,n){l.call(this,e,t,i,n)}var o=i("Eyy1").ensureNotNull,s=i("aO4+").Point,a=i("qgcf").TextRenderer,l=i("Qq0B").NonSeriesStudy,c=i("pJOz").TrendLineRenderer,u=i("VdBB").HitTestResult,h=i("Zy3/").CompositeRenderer,d=i("Tmoa"),p=i("hayr").propertyPages,f=i("a7Ha").LineEnd,_=i("zDbI").CHART_FONT_FAMILY;n._wave5Labels=[["i","ii","iii","iv","v"],["(i)","(ii)","(iii)","(iv)","(v)"],["((i))","((ii))","((iii))","((iv))","((v))"],["1","2","3","4","5"],["(1)","(2)","(3)","(4)","(5)"],["((1))","((2))","((3))","((4))","((5))"],["I","II","III","IV","V"],["(I)","(II)","(III)","(IV)","(V)"],["((I))","((II))","((III))","((IV))","((V))"]],n._wave3Labels=[["a","b","c"],["A","B","C"]],n._fontSizes=[10,10,10,11,11,11,12,12,12],n.prototype.update=function(){this._invalidated=!0},n.prototype.updateImpl=function(){var e,t,i,r,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B,N,F;if(this._waves=[],this._highlights=[],this._retracements=[],this._source.customData()&&this._source.properties().visible.value()&&(e=this._source.customData().waves,t=this._source._indexes,i=this._model.timeScale(),r=this._source.priceScale(),l=(a=this._model.mainSeries()).firstBar(),r&&!r.isEmpty()&&!i.isEmpty()&&l&&e)){for(u=(c=i.visibleBarsStrictRange()).lastBar(),h=c.firstBar(),d=["m0StartIndex","startIndex","endIndex","m2EndIndex","m3EndIndex"],p=a.firstValue(),f=0;f<e.length;f++)if(e[f]){for(_=[],m=0;m<5&&(g=t[e[f][d[m]]],isFinite(g));m++)_.push(g);if(0!==_.length&&!(_[0]>u||_[_.length-1]<h)&&(y=+e[f].size,isFinite(y)&&(v="level"+y,(b=this._source.properties()[v]).visible.value()))){for(S=parseInt(e[f].direction,10),(w=[]).dir=S,w.prices=[],w.orig_prices=[],P=0;P<_.length;P++){if(void 0!==_[P]){if(T={},(C=_[P])<(l=o(a.bars().first())).index)continue;if(T.x=i.indexToCoordinate(C),null===(x=a.bars().valueAt(C))){w.push(void 0),w.prices.push(void 0),w.orig_prices.push(void 0),S=-S;continue}I=1===S?x[TradingView.HIGH_PLOT]:x[TradingView.LOW_PLOT],w.orig_prices.push(I),w.prices.push(I),T.y=r.priceToCoordinate(I,p),T.label=n._wave5Labels[y][P],T.align=-1===S?"top":"bottom",
T.color=b.color.value(),delete T.backgroundColor,w.id="wave_"+f,this._source===this._model.hoveredSource()&&(E=this._model.lastHittestData())&&E.wave&&E.wave.id===w.id&&(T.color="#FFFFFF",T.backgroundColor=b.color.value()),T.fontsize=n._fontSizes[y],T._textCache={widths:[]},T.wave=w,w.push(T)}else w.push(void 0),w.prices.push(void 0);S=-S}w.inds=_,w.dir=S,w.color=b.color.value(),this._waves.push(w)}}if(this._source===this._model.hoveredSource()&&(E=this._model.lastHittestData())){for(_=E.wave.inds,S=-E.wave.dir,L=E.backgroundColor?E.backgroundColor:E.color,A=E.wave.orig_prices,O=null,P=0;P<_.length;P++){if(void 0!==_[P]){if(C=_[P],M=i.indexToCoordinate(C),null===(x=a.bars().valueAt(C))){S=-S;continue}I=A[P],k=r.priceToCoordinate(I,p),D=new s(M,k),O&&this._highlights.push({points:[O,D],color:L}),O=D}S=-S}void 0!==A[1]&&void 0!==A[2]&&(R=A[1],V=A[2],B=A[3],N=A[0],this._retracements.push({y:r.priceToCoordinate(R,p),x:0,extendLeft:!0,extendRight:!0,color:L,text:"",style:CanvasEx.LINESTYLE_SOLID}),this._retracements.push({y:r.priceToCoordinate(R,p),x:0,extendLeft:!0,extendRight:!0,color:L,text:"",style:CanvasEx.LINESTYLE_SOLID}),S=V-R,void 0!==A[0]&&(I=R+(F=(N-R)/S)*S,M=i.indexToCoordinate(_[0]),this._retracements.push({y:r.priceToCoordinate(I,p),x:M,extendLeft:!1,extendRight:!0,color:L,text:""+F.toFixed(3),style:CanvasEx.LINESTYLE_DASHED})),void 0!==B&&(I=V-(F=(V-B)/S)*S,M=i.indexToCoordinate(_[3]),this._retracements.push({y:r.priceToCoordinate(I,p),x:M,extendLeft:!0,extendRight:!1,color:L,text:""+F.toFixed(3),style:CanvasEx.LINESTYLE_DASHED})))}}},n.prototype.CIRCLE_SIZE=16,n.prototype.renderer=function(){var e,t,i,n,r,o,l,p,m,g,y,v,b,S,w,P;for(this._invalidated&&(this.updateImpl(),this._invalidated=!1),e=new h,t=this.CIRCLE_SIZE,i={},n=0;n<this._waves.length;n++)for(r=this._waves[n],o=0;o<r.length;o++)void 0!==(l=r[o])&&("top"===l.align?(p=l.y+4,i["top_"+l.x]?(p+=i["top_"+l.x]*t,i["top_"+l.x]=i["top_"+l.x]+1):i["top_"+l.x]=1,m=p+t):(p=l.y-t-4,i["bottom_"+l.x]?(p-=i["bottom_"+l.x]*t,i["bottom_"+l.x]=i["bottom_"+l.x]+1):i["bottom_"+l.x]=1,m=p+t),(g={}).points=[new s(l.x,(p+m)/2)],g.text=l.label,g.color=l.color,g.backgroundColor=l.backgroundColor,g.font="Verdana",g.bold=!0,g.offsetX=0,g.offsetY=0,g.vertAlign="middle",g.horzAlign="center",g.fontsize=l.fontsize,y=new u(u.REGULAR,l),e.append(new a(g,y)));for(n=0;n<this._highlights.length;n++)b={points:(v=this._highlights[n]).points,width:this._model.timeScale().width(),height:this._source.priceScale().height(),color:d.generateColor(v.color,50),linewidth:3,linestyle:CanvasEx.LINESTYLE_SOLID,extendleft:!1,extendright:!1,leftend:f.Circle,rightend:f.Circle},(S=new c).setData(b),e.append(S);for(n=0;n<this._retracements.length;n++)w=this._retracements[n],b={points:[new s(w.x+1,w.y),new s(w.x,w.y)],width:this._model.timeScale().width(),height:this._source.priceScale().height(),color:d.generateColor(w.color,50),linewidth:1,linestyle:w.style,extendleft:w.extendLeft,extendright:w.extendRight,leftend:f.Normal,rightend:f.Normal},(S=new c).setData(b),e.append(S),P={
points:[new s(w.x,w.y)],text:this._retracements[n].text,backgroundColor:"#606060",color:"#FFFFFF",vertAlign:"middle",horzAlign:"center",font:_,offsetX:w.extendRight?-50:50,offsetY:2,fontsize:12},e.append(new a(P));return e},inherit(r,l),r.prototype.margins=function(){return[.1,.1]},r.prototype.isVisible=function(){if(!this.properties().visible.value())return!1;for(var e=0;e<=8;e++)if(this.properties()["level"+e].visible.value())return!0;return!1},r.prototype.getInputsPropertyPage=function(){return p.StudyElliottInputsPropertyPage},r.prototype.createViews=function(){l.prototype.createViews.call(this),this._setPaneViews([new n(this.model(),this)])},t.study_ElliottWave=r},PfBM:function(e,t,i){"use strict";var n;i.r(t),i.d(t,"ConnectionStatus",function(){return n}),function(e){e[e.Closed=0]="Closed",e[e.Connecting=1]="Connecting",e[e.Open=2]="Open"}(n||(n={}))},PgQx:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" d="M7.5 8.5h12v12a3 3 0 0 1-3 3h-6a3 3 0 0 1-3-3v-12z"/><path fill="currentColor" d="M17 6l-1-1h-5l-1 1H7v1h13V6z"/><path stroke="currentColor" stroke-linecap="square" d="M10.5 11.5v8m3-8v8m3-8v8"/></g></svg>'},PjMa:function(e,t,i){"use strict";var n;i.r(t),i.d(t,"DataSourceDangerReason",function(){return n}),function(e){e.Spread="spread",e.PineRepainting="pine-repainting",e.CryptoCap="cryptocap"}(n||(n={}))},PlME:function(e,t,i){"use strict";function n(e){return e.alert?e.type||"edit_alert":"create_alert"}function r(e,t){return Object(u.isFeatureEnabled)("alerts-maintenance")?l.AlertEditorAbortReason.AlertsMaintenance:null!==e&&function(e){return e.status()===c.STATUS_OFFLINE}(e)?l.AlertEditorAbortReason.MainSeriesIsOffline:null!==e&&function(e){return e.status()===c.STATUS_INVALID_SYMBOL}(e)?l.AlertEditorAbortReason.SymbolIsInvalid:"create_alert"===t&&null!==e&&function(e){var t;return"ATR"===(null===(t=e.stateForAlert().styleInputs)||void 0===t?void 0:t.style)}(e)?l.AlertEditorAbortReason.MainSeriesIsATR:"create_alert"===t&&null!==e&&function(e){return e.isInReplay()}(e)?l.AlertEditorAbortReason.MainSeriesIsInReplay:null}function o(e,t){if(!h.has(e)){h.add(e);var i=function(e,t){var i=s.t("Oops!"),n=s.t("Alert editor could not be initialized");return new Map([[l.AlertEditorAbortReason.AlertsMaintenance,{title:s.t("Alerts maintenance"),content:s.t("We are doing some brief daily maintenance. Alerts will be back really soon, thanks for your patience!")}],[l.AlertEditorAbortReason.MainSeriesIsOffline,{title:i,content:("create_alert"===t?s.t("Cannot create an alert while offline"):s.t("Cannot edit an alert while offline"))+". "+s.t("Please check your internet connection")+"."}],[l.AlertEditorAbortReason.SymbolIsInvalid,{title:i,content:"create_alert"===t?s.t("Can't create alert on invalid symbol"):s.t("Can't edit alert on invalid symbol")}],[l.AlertEditorAbortReason.MainSeriesIsATR,{title:s.t("Alert cannot be set on an ATR-based chart"),
content:s.t("Your alert won't trigger the way you expect it to! Inputs for ATR-based charts are recalculated each time you open a chart and are generally dependent on time. Please use the traditional chart type to set an alert with a static box size.")}],[l.AlertEditorAbortReason.MainSeriesIsInReplay,{title:i,content:s.t("Alert creating is not available in replay mode.")}]]).get(e)||{title:i,content:n}}(e,t);Object(a.createNoticeDialog)(i).then(function(t){t.on("beforeClose",function(){return h.delete(e)}),t.open()})}}var s,a,l,c,u,h;i.r(t),i.d(t,"getAlertDialogType",function(){return n}),i.d(t,"shouldAbortAlertEditor",function(){return r}),i.d(t,"showAbortExplainingDialog",function(){return o}),s=i("YFKU"),a=i("brCa"),l=i("1UCy"),c=i("dfhE"),u=i("+GxX"),h=new Set},PoSe:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){var n,r,o,s,a=null,l=0;return i=i||{},s=function(){l=!1===i.leading?0:Date.now(),a=null,o=e.apply(n,r),a||(n=r=null)},function(){var c,u=Date.now();return l||!1!==i.leading||(l=u),n=this,r=arguments,(c=t-(u-l))<=0||c>t?(a&&(clearTimeout(a),a=null),l=u,o=e.apply(n,r),a||(n=r=null)):a||!1===i.trailing||(a=setTimeout(s,c)),o}},e.exports=t.default},Q1r3:function(e,t,i){e.exports={errorDialog:"errorDialog-1NguAJjj"}},QCnb:function(e,t,i){"use strict";e.exports=i("+wdc")},QIuV:function(e,t,i){"use strict";function n(e,t){this.customization={forcePriceAxisLabel:!0,disableSelection:!0,disableErasing:!0},r.call(this,e,t)}var r=i("Ss5c").LineDataSource,o=i("ivNn").fixComputationError;inherit(n,r),n.prototype.isSynchronizable=function(){return!1},n.POINTS_COUNT=1,n.prototype.pointsCount=function(){return n.POINTS_COUNT},n.prototype.hasContextMenu=function(){return!1},n.prototype.state=function(){return null},n.prototype.startMoving=function(){r.prototype.startMoving.apply(this,arguments),this._cursorMoved=!1},n.prototype.endMoving=function(){r.prototype.endMoving.apply(this,arguments),this._cursorMoved=!1},n.prototype.correctPoints=function(e){var t,i,n;for(this._currentMovingPoint&&this._startMovingPoint?this._currentMovingPoint.price-this._startMovingPoint.price&&(this._cursorMoved=!0):this._cursorMoved=!1,t=1/this.priceScale().mainSource().base(),i=0;i<e.length;i++)n=e[i],this._cursorMoved&&(n.price=this._currentMovingPoint.price),n.price=o(t*Math.round(n.price/t)),e[i]=n},n.prototype.userEditEnabled=function(){return!0},n.prototype.movable=function(){return!1},n.prototype.canBeHidden=function(){return!1},n.prototype.isUserDeletable=function(){return!1},n.prototype.showInObjectTree=function(){return!1},n.prototype.getInputsPropertyPage=function(){return null},n.prototype.doesMovingAffectsUndo=function(){return!1},n.prototype.isAvailableInFloatingWidget=function(){return!1},n.prototype.timeAxisViews=function(){return null},n.prototype.cloneable=function(){return!1},n.prototype.copiable=function(){return!1},n._configureProperties=function(e){r._configureProperties(e)},e.exports=n},QQu0:function(e,t,i){"use strict";function n(e,t){var i=t||n.createProperties()
;r.call(this,e,i),this._constructor="LineToolArrow"}var r=i("WPQD").LineToolTrendLine,o=i("Ocx9").DefaultProperty,s=window.t("Arrow");inherit(n,r),n.prototype.translatedType=function(){return s},n.prototype.name=function(){return"Arrow"},n.createProperties=function(e){var t=new o("linetoolarrow",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolArrow=n},QTwd:function(e,t,i){"use strict";var n,r,o,s,a,l,c;i.r(t),i.d(t,"RestoreDefaultsPreferencesUndoCommand",function(){return c}),n=i("mrSG"),r=i("RDU5"),o=i("ApcL"),s=i("ZZnO"),a=i("N22A"),l="Apply All Chart Properties",c=function(e){function t(t){var i,n=e.call(this,l)||this;return n._trading=null,n._oldHideFloatingPanel=null,n._oldNoConfirmEnabled=null,n._oldShowOnlyRejectionNotifications=null,n._oldShowPricesWithZeroVolume=null,n._oldOrderExecutedSoundEnabled=null,n._prevWatermarkPreferences=null,n._model=t,n._trading=Object(a.tradingService)(),null!==n._trading&&(n._oldHideFloatingPanel=n._trading.hideFloatingPanel.value(),n._oldNoConfirmEnabled=n._trading.noConfirmEnabled.value(),n._oldShowOnlyRejectionNotifications=n._trading.showOnlyRejectionNotifications.value(),n._oldShowPricesWithZeroVolume=n._trading.showPricesWithZeroVolume.value(),n._oldOrderExecutedSoundEnabled=n._trading.orderExecutedSoundParams.enabled.value()),n._defaultsPreferences=Object(o.defaultsPreferencesByWhiteList)(n._model,n._model.mainSeries()),n._oldPreferences=t.preferences(),n._prevDateFormat=s.dateFormatProperty.value(),null!==(i=n._model.watermarkSource())&&(n._prevWatermarkPreferences=i.properties().state()),n}return Object(n.__extends)(t,e),t.prototype.redo=function(){null!==this._trading&&(this._trading.hideFloatingPanel.setValue(!1),this._trading.noConfirmEnabled.setValue(!1),this._trading.showOnlyRejectionNotifications.setValue(!1),this._trading.showPricesWithZeroVolume.setValue(!0),this._trading.orderExecutedSoundParams.enabled.setValue(!1)),this._model.applyPreferences(this._defaultsPreferences),this._model.mainSeries().onChartStyleChanged(),this._model.updateScales(),Object(s.removeSettingsValue)();var e=this._model.watermarkSource();null!==e&&e.restorePropertiesDefaults()},t.prototype.undo=function(){null!==this._trading&&(this._trading.hideFloatingPanel.setValue(this._oldHideFloatingPanel),this._trading.noConfirmEnabled.setValue(this._oldNoConfirmEnabled),this._trading.showOnlyRejectionNotifications.setValue(this._oldShowOnlyRejectionNotifications),this._trading.showPricesWithZeroVolume.setValue(this._oldShowPricesWithZeroVolume),this._trading.orderExecutedSoundParams.enabled.setValue(this._oldOrderExecutedSoundEnabled)),this._model.applyPreferences(this._oldPreferences),this._model.mainSeries().onChartStyleChanged(),this._model.updateScales(),s.dateFormatProperty.setValue(this._prevDateFormat);var e=this._model.watermarkSource();null!==e&&null!==this._prevWatermarkPreferences&&e.properties().mergeAndFire(this._prevWatermarkPreferences)},t}(r.UndoCommand)},QYoC:function(e,t,i){"use strict";var n
;(n=jQuery).fn.contextMenu=function(e){n(this).bind("contextmenu",function(t){return e(t),!1})}},Qb4w:function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"PriceRange",function(){return s}),n=i("ogJP"),r=i("uOxu"),o=Object(r.getLogger)("Chart.PriceRange"),s=function(){function e(e,t){var i,n;null!==e&&"object"==typeof e?(i=e,this._minValue=i.m_minValue,this._maxValue=i.m_maxValue):(n=e,this._minValue=n,void 0!==t&&(this._maxValue=t))}return e.prototype.equals=function(e){return this._minValue===e._minValue&&this._maxValue===e._maxValue},e.prototype.clone=function(){return new e(this._minValue,this._maxValue)},e.prototype.minValue=function(){return this._minValue},e.prototype.setMinValue=function(e){this._minValue=e},e.prototype.maxValue=function(){return this._maxValue},e.prototype.setMaxValue=function(e){this._maxValue=e},e.prototype.length=function(){return this._maxValue-this._minValue},e.prototype.isEmpty=function(){return this._maxValue===this._minValue||this._maxValue!=this._maxValue||this._minValue!=this._minValue},e.prototype.serialize=function(){return{m_maxValue:this._maxValue,m_minValue:this._minValue}},e.prototype.state=function(){return{max:this._maxValue,min:this._minValue}},e.prototype.merge=function(t){return new e(Math.min(this.minValue(),t.minValue()),Math.max(this.maxValue(),t.maxValue()))},e.prototype.apply=function(e,t){this._minValue=Math.min(this._minValue,e),this._maxValue=Math.max(this._maxValue,t)},e.prototype.set=function(e,t){this._minValue=e,this._maxValue=t},e.prototype.scaleAroundCenter=function(e){var t,i,r;Object(n.isNumber)(e)?0!==this._maxValue-this._minValue&&(t=.5*(this._maxValue+this._minValue),i=this._maxValue-t,r=this._minValue-t,i*=e,r*=e,this._maxValue=t+i,this._minValue=t+r):o.logDebug("PriceRange.scaleAroundCenter: invalid coeff")},e.prototype.shift=function(e){Object(n.isNumber)(e)?(this._maxValue+=e,this._minValue+=e):o.logDebug("PriceRange.shift: invalid coeff")},e.prototype.containsStrictly=function(e){return e.minValue()>this._minValue&&e.maxValue()<this._maxValue},e}()},Qf4T:function(e,t,i){"use strict";var n,r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){r.default.trackGoPro("Gopro Features",e,t)},n=i("wHoz"),r=(o=n)&&o.__esModule?o:{default:o},e.exports=t.default},QkND:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M13.29 4.8h-.09a4.2 4.2 0 1 0 .09 8.4 6 6 0 1 1 0-8.4z"/></svg>'},QloM:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"TabPriority",function(){return n}),i.d(t,"TabNames",function(){return r}),i.d(t,"TabOpenFrom",function(){return o}),function(e){e[e.Coordinates=100]="Coordinates",e[e.Display=100]="Display",e[e.Style=200]="Style",e[e.Inputs=300]="Inputs",e[e.Properties=250]="Properties"}(n||(n={})),function(e){e.background="Background",e.coordinates="Coordinates",e.drawings="Drawings",e.events="Events",e.eventsAndAlerts="Events & Alerts",e.inputs="Inputs",e.properties="Properties",
e.scales="Scales",e.legend="Legend",e.sourceCode="Source Code",e.style="Style",e.timezoneSessions="Timezone/Sessions",e.trading="Trading",e.visibility="Visibility",e.text="Text"}(r||(r={})),function(e){e[e.Default=100]="Default",e[e.UserSave=200]="UserSave",e[e.Override=300]="Override"}(o||(o={}))},Qq0B:function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"NonSeriesStudy",function(){return s}),n=i("mrSG"),r=i("Eyy1"),o=i("GVHu"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.clearData=function(){this._customData=null,this._indexes=null},t.prototype.restoreData=function(e,t,i){o.Study.prototype.restoreData.call(this,e),this._customData=t,this._indexes=i},t.prototype.state=function(t){var i=e.prototype.state.call(this,t);return t&&(i.nonSeriesData=this._customData,i.indexes=this._indexes),i},t.prototype.customData=function(){return this._customData},t.prototype._setPaneViews=function(e){this._paneViews=e,this.model().lightUpdate()},t.prototype._onDataUpdated=function(t,i,n){null!==i&&(i.indexes_replace?(Object(r.assert)("nochange"!==n),this._indexes=n):(this._customData=i.data,"nochange"!==n&&(this._indexes=n))),e.prototype._onDataUpdated.call(this,t,i,n)},t}(o.Study)},Qtjj:function(e,t,i){"use strict";var n,r,o,s,a,l;i.r(t),i.d(t,"TimeSynchronizer",function(){return l}),n=i("LxhU"),r=i("jCNj"),o=i.n(r),s=i("IiTo"),a=null,l=function(){function e(e,t){var i,r;this._sourceTargetBarBuilder=null,this._cache=new Map,this._source=e,this._target=t,this._isResolutionTheSame=n.Interval.isEqual(e.getResolution(),t.getResolution()),this._isSessionTheSame=(i=e.getSymbolInfo(),r=t.getSymbolInfo(),i.timezone===r.timezone&&i.session===r.session),this._shouldCorrectTradingDay=n.Interval.isDWM(e.getResolution())&&!this._isSessionTheSame}return e.prototype.sourceTimeToTargetTime=function(e){var t,i,n,r,s,a;return this._isSessionTheSame&&this._isResolutionTheSame?e:this._source.isValid()&&this._target.isValid()?(void 0===(t=this._cache.get(e))&&(i=1e3*e,this._shouldCorrectTradingDay&&(n=o.a.utc_to_cal(this._source.getSession().timezone,i),n=this._source.getSession().spec.correctTradingDay(n),r=new Date(n),o.a.set_hms(r,0,0,0,0,this._source.getSession().timezone),i=r.valueOf()),(s=this._sourceTargetBuilder()).moveTo(i),a=s.indexOfBar(i),t=s.startOfBar(Math.max(0,a))/1e3,this._cache.set(e,t)),t):e},e.prototype._sourceTargetBuilder=function(){if(null===this._sourceTargetBarBuilder){var e=this._isSessionTheSame?this._target.getSession():(null===a&&(a=new s.a("Etc/UTC","24x7")),a);this._sourceTargetBarBuilder=Object(s.b)(this._target.getResolution(),this._target.getSession(),e)}return this._sourceTargetBarBuilder},e}()},QwKQ:function(e,t,i){"use strict";(function(n){var r,o,s,a,l,c;Object.defineProperty(t,"__esModule",{value:!0}),r=function(){function e(e,t){var i,n;for(i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),
o=i("29gu"),i("b6p+"),s=i("uOxu").getLogger("Ui.TvControlCheckbox"),a={labelWrapper:'{{#hasLabel}}<label>{{#labelLeft}}<span class="tv-control-checkbox__label {{#labelAddClass}}{{labelAddClass}}{{/labelAddClass}}">{{labelLeft}}</span>{{/labelLeft}}{{> inputWrapper }}{{#labelRight}}<span class="tv-control-checkbox__label {{#labelAddClass}}{{labelAddClass}}{{/labelAddClass}}">{{labelRight}}</span>{{/labelRight}}</label>{{/hasLabel}}{{^hasLabel}}{{> inputWrapper }}{{/hasLabel}}',inputWrapper:'<{{ tag }} class="{{ customClass }}{{#disabled}} i-disabled{{/disabled}}">{{^hasCheckbox}}{{> checkbox }}{{/hasCheckbox}}{{> box }}{{> ripple }}</{{ tag }}>',checkbox:'<input{{#id}} id="{{ id }}"{{/id}} class="{{> checkboxClass }}" type="checkbox"{{#name}} name="{{ name }}"{{/name}}{{#checked}} checked{{/checked}}{{#disabled}} disabled{{/disabled}}>',checkboxClass:"{{ customClass }}__input",box:'<span class="{{ customClass }}__box {{#boxAddClass}}{{boxAddClass}}{{/boxAddClass}}">'+i("aLUT")+"</span>",ripple:'<span class="{{ customClass }}__ripple js-ripple"></span>'},l="i-inited",c=function(){function e(t){var i,n=t.customClass,r=void 0===n?"tv-control-checkbox":n,o=t.$checkbox,a=t.tag,c=t.id,u=t.name,h=t.checked,d=t.disabled,p=t.labelLeft,f=t.labelRight,_=t.labelAddClass,m=t.boxAddClass;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$el=null,void 0===a&&(a=p||f?"span":"label"),i=o instanceof $&&!!o.length){if(!o.is("input[type=checkbox]"))return void s.logError("`$checkbox` need to be input[type=checkbox]");if(o.hasClass(l))return;this._setInputId(o,c),this._setInputClass(o,r),this._setInputName(o,u),this._setInputChecked(o,h),this._setInputDisabled(o,d),h=!!o.prop("checked"),d=!!o.attr("disabled")}this.$el=this.render({$checkbox:o,hasCheckbox:i,customClass:r,tag:a,id:c,name:u,checked:h,disabled:d,labelLeft:p,labelRight:f,hasLabel:p||f,labelAddClass:_,boxAddClass:m}),this.$checkbox=i?o:this.$el.find("input[type=checkbox]")}return r(e,[{key:"_setInputId",value:function(e,t){void 0!==t&&e.attr("id",t)}},{key:"_setInputClass",value:function(e,t){var i=n.render(a.checkboxClass,{customClass:t});e.addClass(i)}},{key:"_setInputName",value:function(e,t){void 0!==t&&e.attr("name",t)}},{key:"_setInputChecked",value:function(e,t){void 0!==t&&e.prop("checked",!!t)}},{key:"_setInputDisabled",value:function(e,t){void 0!==t&&(t?e.setAttribute("disabled","disabled"):e.removeAttr("disabled"))}},{key:"render",value:function(e){var t=e.$checkbox,i=$(n.render(a.labelWrapper,e,a));return e.hasCheckbox&&(i.insertBefore(t),i.find("."+e.customClass).andSelf().filter("."+e.customClass).eq(0).prepend(t.detach()),t.addClass(l)),i}},{key:"checked",set:function(e){this._setInputChecked(this.$checkbox,!!e)},get:function(){return!!this.$checkbox.prop("checked")}}]),e}(),$.fn.tvControlCheckbox=(0,o.createTvBlockWithInstance)("tv-control-checkbox",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new c(TradingView.mergeObj(t,{$checkbox:e}))}),t.default=c,
e.exports=t.default}).call(this,i("nbsC"))},RDDl:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolPriceRange";var o=t||n.createProperties();r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("VghZ").PriceRangePaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=window.t("Price Range");inherit(n,r),n.prototype.pointsCount=function(){return 2},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Price Range"},n.prototype.getStylesPropertyPage=function(){return s.LineToolDateRangeStylesPropertyPage},n.createProperties=function(e){var t=new o("linetoolpricerange",e);return n._configureProperties(t),t},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("Ax76").GeneralDatePriceRangeDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolPriceRange=n},RDU5:function(e,t,i){"use strict";i.r(t),i.d(t,"UndoCommand",function(){return n});var n=function(){function e(e,t){void 0===t&&(t=!0),this._customFlags={},this._text=e,this._executeOnPush=t}return e.prototype.text=function(){return this._text},e.prototype.executeOnPush=function(){return this._executeOnPush},e.prototype.customFlag=function(e){return this._customFlags[e]},e.prototype.setCustomFlag=function(e,t){this._customFlags[e]=t},e.prototype.canMerge=function(e){return!1},e.prototype.merge=function(e){throw new Error("Should be re-implemented in child classes")},e}()},RTYN:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"PositionAveragePriceAxisView",function(){return o}),n=i("mrSG"),r=i("4TVt"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype._formatPrice=function(e,t){return this._source.formatter().format(e)},t}(r.LineToolPriceAxisView)},RXmj:function(e,t,i){"use strict";(function(e){function n(t){this._chartWidgetCollection=t,this._chartAboutToBeSavedDelegate=new e,this._chartSavedDelegate=new e,this._prevChartState=null,this._chartHasBeenModified=new e,this._chartSizeLimitExceededDelegate=new e,this._savingToken=null,this._requestLastChartModifiedRequired=!1,this._lastPushStreamStatus=c.statusPrivate(),this._pushStreamConnectingTimeout=setTimeout(function(){this._pushStreamConnectingTimeout=null,p.logNormal("PushStream is not connected in some time - force request last modified date is required"),this._requestLastChartModifiedRequired=!0}.bind(this),5e3),c.on("chart.storage",this._checkChartLastModified.bind(this)),c.onPrivateStatus(this._onPushstreamStatusChanged.bind(this))}function r(e,t){e.content=JSON.stringify(t)}
var o=i("nmnj"),s=i("PC8g").trackEvent,a=i("s4+V"),l=i("SNmj"),c=i("TxTq"),u=i("PfBM").ConnectionStatus,h=i("BHQF").fetch,d=i("+GxX").isFeatureEnabled,p=i("uOxu").getLogger("Chart.ChartSaver"),f=i("FQhm"),_=i("FIi8").deepExtend,m=i("ogJP").deepEquals,g=i("zUrt").backend,y=window.t("The publication preview could not be loaded. Please disable your browser extensions and try again.");n.prototype.chartHasBeenModified=function(){return this._chartHasBeenModified},n.prototype.chartSizeLimitExceeded=function(){return this._chartSizeLimitExceededDelegate},n.prototype._checkChartLastModified=function(e){null!==this._savingToken&&this._savingToken===e.savingToken||this._chartWidgetCollection.metaInfo.id.value()===e.id&&this._checkChartIsChanged(e.lastModified,"chart.storage")},n.prototype._checkChartIsChanged=function(e,t){var i=this._chartWidgetCollection.metaInfo.lastModified.value();i!==e&&p.logNormal(t+", local lastModified "+i+", server lastModified "+e),i<e?d("chart_changed_notification")?this._chartHasBeenModified.fire():p.logNormal("Emitting event about changed chart is skipped due disabled feature toggle state"):i>e&&p.logWarn("Emitting event about changed chart is skipped due to received the old version")},n.prototype._onPushstreamStatusChanged=function(e){var t,i=this._lastPushStreamStatus;if(this._lastPushStreamStatus=e,i===u.Open&&e!==u.Open&&(this._requestLastChartModifiedRequired=!0),e===u.Open&&(null!==this._pushStreamConnectingTimeout&&(clearTimeout(this._pushStreamConnectingTimeout),this._pushStreamConnectingTimeout=null),this._requestLastChartModifiedRequired)){if(this._requestLastChartModifiedRequired=!1,p.logNormal("PushStream is connected and request last modified date to detect changes is required"),!(t=this._chartWidgetCollection.metaInfo.uid.value()))return;h("/api/v1/charts/"+t+"/",{method:"HEAD"}).then(function(e){var i;e.ok?(i=new Date(e.headers.get("last-modified")).valueOf()/1e3,this._checkChartIsChanged(i,"Force request after PushStream is reconnected")):p.logWarn("Cannot fetch last modified date for chart ("+t+"), status="+e.status)}.bind(this))}},n.prototype.chartAboutToBeSaved=function(){return this._chartAboutToBeSavedDelegate},n.prototype.chartSaved=function(){return this._chartSavedDelegate},n.prototype.whenReadyToSave=function(e){var t,i,n=this._chartWidgetCollection,r=n.activeChartWidget.value(),o=r.model().mainSeries();o.symbolInfo()&&!o.hasDelayedSymbolIntervalChange()?e():(t=null,i=null,t=function(){o.dataEvents().symbolError().unsubscribe(null,i,!0),e()},i=function(){o.dataEvents().symbolResolved().unsubscribe(null,t,!0)},o.dataEvents().symbolResolved().subscribe(null,t,!0),o.dataEvents().symbolError().subscribe(null,i,!0))},n.prototype.saveToJSON=function(){var e=this._getCommonSavingInfo(!1);return r(e,this._getChartWidgetCollectionState(!1,!0)),e},n.prototype._fillAsyncInfo=function(e,t){var i=JSON.parse(e.content),n=this._chartWidgetCollection,r=t?n.asyncState():n.activeChartWidget.value().asyncState();return r.then(function(t){return e.content=JSON.stringify(_(i,t)),e})},
n.prototype._getChartWidgetCollectionState=function(e,t,i,n){return e||(t=!0,n=!1),t?this._chartWidgetCollection.state(!!e,i,n):this._chartWidgetCollection.activeChartWidget.value().state(!!e,i,n)},n.prototype._getCommonSavingInfo=function(e){var t,i,n,r,o,s={publish_request_id:Math.random().toString(36).substring(2)},a=this._chartWidgetCollection,l=a.activeChartWidget.value(),c=a.metaInfo,u=l.model().mainSeries(),h=u.properties(),d=u.symbolInfo();if(c.id.value()&&(s.id=c.id.value()),s.name=c.name.value()||"",s.description=c.description.value()||"",s.resolution=u.properties().interval.value(),s.symbol_type=null!==d&&d.type||"",s.exchange=null!==d&&d.exchange||"",s.listed_exchange=null!==d&&d.listed_exchange||"",null!==d&&u.isSpread()?(t=d.legs[0],i=(i=d.base_name[0]).split(":")[1],s.symbol=t,s.short_name=i,s.expression=d.full_name):(s.symbol=null!==d&&d.ticker||h.symbol.value(),s.short_name=h.shortName.value()),null!==d){for(n=[],r=0,o=d.legs.length;r<o;r++)n.push({symbol:d.legs[r],pro_symbol:d.base_name[r]});s.legs=JSON.stringify(n)}else s.legs=JSON.stringify([]);return s.is_realtime=e?"0":"1",s},n.prototype.publishChart=function(e){var t,n,r,o,a,l,c,u;s("GUI","Publish Chart"),t=this,n=(e=e||{}).isPrivate||TVSettings.getBool("publishchart.private",!1),r={accessType:n?0:1,publishSource:e.publishSource,videoFilename:e.videoFilename,videoDuration:e.videoDuration,videoCam:e.videoCam},o=$(".publish-dropdown-container"),a=$(".publish-chart-button"),l={savePrivacySetting:!e.doNotSavePrivacySetting,onWidget:e.onWidget},c=e.onPublishUrl,u=e.onPublishError,t._ideaPublisher?t._ideaPublisher.openPublication(r,l):Promise.all([i.e("vendors_embed"),i.e("dialogs-core"),i.e(0),i.e(1),i.e(10),i.e(14),i.e(20),i.e(24),i.e(25),i.e(35),i.e(45),i.e(117),i.e(118),i.e(134),i.e(13),i.e(18),i.e(22),i.e(41),i.e(51),i.e(112),i.e(131),i.e(182)]).then(function(e){var n=i("M+sa").IdeaPublisher,s=i("MRHJ").IdeasProvider,h=i("4AJk").ChartInfoProvider,d=i("fT+7").CategoriesProvider,p=new h({chartWidgetCollection:t._chartWidgetCollection}),f=new s({publish:function(e,i){return new Promise(function(n,r){var o={closeForm:function(){n()},showError:function(e){r(e)},onPublishUrl:c,onPublishError:u};try{t.onPublish(e,Object.assign({},i,o))}catch(e){r(y)}})}}),_=new d;t._ideaPublisher=new n({chartInfoProvider:p,ideasProvider:f,categoriesProvider:_,onOpenEditor:function(){o.addClass("disabled")},onMinimizeEditor:function(){o.removeClass("disabled"),a.addClass("inprogress")},onCloseEditor:function(){o.removeClass("disabled"),a.removeClass("inprogress")}}),t._ideaPublisher.openPublication(r,l)}.bind(null,i)).catch(i.oe)},n.prototype.publishScript=function(e,t,i){var n,r,o,s,a=this;a._scriptPublisher?a._scriptPublisher.openPublication(e,t):(n=i.ScriptPublisher,r=i.ScriptsProvider,o=i.CategoriesProvider,s=new r({publish:function(e){return new Promise(function(t,i){var n={closeForm:function(){if(e&&e.scriptPublication&&e.scriptPublication.updateScriptIdPart){var i=e.scriptPublication.updateScriptIdPart;l.invalidateCache([i]),
window.studyMarket&&window.studyMarket.resetAllPages()}t()},showError:function(e){i(e)}};try{a.onPublish(e,n)}catch(e){i(y)}})}}),a._scriptPublisher=new n({scriptsProvider:s,categoriesProvider:new o}),a._scriptPublisher.openPublication(e,t))},n.prototype.onPublish=function(e,t){function i(e){return e.returnValue=window.t("Script may be not updated if you leave the page."),e.returnValue}function n(n){var r,o,s,a,l;window.removeEventListener("beforeunload",i),u.publishInProgress=!1,"ok:"===(r=n.responseText||n).substr(0,3)?(o=!1,t.savePrivacySetting&&(o=!e.is_public,TVSettings.setValue("publishchart.private",o)),s=r.substr(3),a=JSON.parse(s),u._chartWidgetCollection.metaInfo.id.value()||u._chartWidgetCollection.metaInfo.id.setValue(a.id),t.closeForm&&t.closeForm(),t.onPublishUrl&&t.onPublishUrl(a.publishUrl,a.uuid),f.emit("onPublishUrl",a.uuid),u._lastPublishUrl=a.publishUrl,u.hWnd&&(u.hWnd.location=a.publishUrl)):((413===n.status||/^[\d\s]*request.+large/i.test(r.trim()))&&(r=window.t("This Chart Layout has a lot of objects and can't be published. Please remove the unused objects (drawings/indicators) through the Object Tree to continue publishing.")),l=r||window.t("Error occurred while publishing"),t.showError&&t.showError(l,{html:!0}),t.onPublishError&&t.onPublishError(l),u.hWnd&&(u.hWnd.close(),u.hWnd=null))}var a,l,c,u=this;u.publishInProgress||(a=t&&t.publishAllLayout,l=u._getCommonSavingInfo(!0),c=!1,e.scriptPublication&&e.scriptPublication.scriptProtection===TVScript.Access.ACCESS_CLOSED_NEEDS_AUTH&&(c=!0),r(l,this._getChartWidgetCollectionState(!0,a,!0,c)),l.image=JSON.stringify(this._chartWidgetCollection.images({onlyActiveChart:!a})),u._fillAsyncInfo(l,t&&t.publishAllLayout).then(function(t){var r=e.scriptPublication,a=!(!r||!r.updateScriptIdPart),l=new Promise(function(e,t){var n;r?(a?(window.addEventListener("beforeunload",i),n=o.publishNext(r.scriptSource,r.updateScriptIdPart)):n=o.publishNew(r.scriptSource,r.scriptProtection),n.done(function(t){e(t.publishedstudyscript_id)}).fail(t)):e()});a?l.then(function(i){var r={publishedstudyscript_id:i,description:e.description,tags:e.tags};$.ajax({url:"/script-update/",type:"post",dataType:"text",data:$.extend({},t,r),complete:n})},n):l.then(function(i){var r,o,a,l,c,u,h,d;for(i&&(e.publishedstudyscript_id=i),r=e.tags.split(","),o=e.scriptPublication?"Script":"Idea",a=0;a<r.length;a++)s(o+" Publication",o+" Tag",r[a]);e.scriptPublication?(l={open_no_auth:"Open",closed_no_auth:"Protected",closed_needs_auth:"Invite Only"},c=e.scriptPublication.scriptProtection,s("Script Publication","Script Visibility",l[c])):(u=e.is_education?"Education":"Analysis",h=["Neutral","Long","Short"],d=e.is_public?"Public":"Private",s("Idea Publication","Idea Type",u),s("Idea Publication","Idea Strategy",h[e.direction]),s("Idea Publication","Idea Privacy",d)),$.ajax({url:"/publishchart/",type:"post",dataType:"text",data:$.extend({},t,e),complete:n})},n)}),u.publishInProgress=!0,
t.onWidget||""!==e.name&&""!==e.description&&e.description.length<=7e4&&e.name.length<=64&&($.cookie("publish_request_id",l.publish_request_id,{path:"/"}),u.hWnd=window.open("/loading/","_blank")))},n.prototype._saveChart=function(e,t,i,n,r){var o=i,s=n;return this._savingToken=String(Math.random()),e.savingToken=this._savingToken,o=function(e){var o,s;if(this._savingToken=null,"ok:"===e.substr(0,3))o=e.substr(3),s=JSON.parse(o),t.id.value()||(t.id.setValue(s.id),t.uid.setValue(s.uid)),t.lastModified.setValue(s.lastModified),"function"==typeof i&&i({uid:t.uid.value()},s.count||0);else if("saved_chart_limit_reached"===e||""===e){if("function"==typeof n&&n(),r.noDefaultOnFail)return;a.createGoProDialog({feature:"savedChartsLimit"}).then(function(e){e.open()})}else"function"==typeof n&&n(),$("#error").html(e);$(window).off("beforeunload.savechart")},s=function(o){if(this._savingToken=null,o&&413===o.status)return this._chartSizeLimitExceededDelegate.fire(),void("function"==typeof n&&n.apply(null,arguments));r.retry?"function"==typeof n&&n.apply(null,arguments):(r.retry=!0,this._saveChart(e,t,i,n,r))},g.saveChart(e.name,e.short_name,e.resolution,e,t,o.bind(this),s.bind(this))},n.prototype.saveChartSilently=function(e,t,i){var n,o=this._getChartWidgetCollectionState(!1),s=this._chartWidgetCollection.metaInfo;m(this._prevChartState,o)[0]&&null!=s.id.value()?this._chartSavedDelegate.fire(!0):(r(n=this._getCommonSavingInfo(!1),o),(i=i||{}).chartName&&(n.name=i.chartName),n.name&&0!==n.name.length||!i.defaultChartName||(n.name=i.defaultChartName),n.name?(i.autoSave&&(n.autoSave=!0),$(window).on("beforeunload.savechart",function(){return window.t("Your chart is being saved, please wait a moment before you leave this page.")}),this._isSaveInProcess=!0,this._chartAboutToBeSavedDelegate.fire(),this._saveChart(n,s,function(){this._chartWidgetCollection.metaInfo.name.setValue(n.name),this._prevChartState=o,this._chartSavedDelegate.fire(!0),this._isSaveInProcess=!1,e&&e(s)}.bind(this),function(){this._chartSavedDelegate.fire(!1),this._isSaveInProcess=!1,t&&t.apply(null,arguments)}.bind(this),i),$(window).off("beforeunload.savechart")):console.warn("Saving chart with empty name is not allowed"))},n.prototype.isSaveInProcess=function(){return this._isSaveInProcess},t.ChartSaver=n}).call(this,i("aIyQ"))},"RZo+":function(e,t,i){"use strict";var n={},r={XCBT:"CBOT",XNYM:"NYMEX",XCME:"CME",XCEC:"COMEX"};n.convertSymbolDataToTV=function(e,t,i){return i=2===i||"floor"===i||"pit"===i?"PIT":"GBX",t&&r[t]?{status:"ok",data:{symbol:e,exchange:r[t]+"_"+i}}:{status:"error",data:"Exchange `"+t+"` is not supported"}},e.exports=n},RjiR:function(e,t,i){"use strict";function n(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.enabled=!0,this._symbol=e,this._symbolOriginal=null,this._options=(0,s.deepExtend)({},b,i),!1!==this._options.signNegative&&!0!==this._options.signNegative&&delete this._options.signNegative,i.customPriceFormatter&&(this._customPriceFormatter=i.customPriceFormatter),
i.customTimeFormatter&&(void 0!==i.customTimeFormatter.lastPrice||void 0!==i.customTimeFormatter.rtc?this._timeFormatter=i.customTimeFormatter:this._timeFormatter={lastPrice:i.customPriceFormatter,rtc:i.customPriceFormatter}),this._percentFormatter=new c.PercentageFormatter,this._priceFormatter=this._customPriceFormatter||new h.PriceFormatter(100),this._volumeFormatter=new d.VolumeFormatter,this._cache={},this._lastPrice=null,this._lastPriceFormatted="",this._elements={},this._textNodes={},this._setElements(t),this._highlighters={},this._initHighlighters(),this._options.setStateHook&&this.setStateHook(this._options.setStateHook),this.quoteSession=this._options.quoteSession||(0,m.getQuoteSessionInstance)("simple"),this._quoteSessionEventHandler=this.onData.bind(this),setTimeout(this.connect.bind(this),0)}function r(e,t,i,n,r){function o(){var o;if(s&&(clearTimeout(s),s=void 0),i||t)for(o=0;o<e.length;o++)e[o].style.background="";if(!i||!t)for(o=0;o<e.length;o++)e[o].classList.remove(r,n)}var s,a=null;return{show:function(l){var c,u=0;if(l!==a){if(null!==a&&null!==l&&(u=l-a),o(),s=setTimeout(o,750),0<u)if(t)for(c=0;c<e.length;c++)e[c].style.background=t;else for(c=0;c<e.length;c++)e[c].classList.add(n);else if(u<0)if(i)for(c=0;c<e.length;c++)e[c].style.background=i;else for(c=0;c<e.length;c++)e[c].classList.add(r);null!==l&&(a=l)}},hide:o}}var o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i,n,r=[],o=!0,s=!1,a=void 0;try{for(i=e[Symbol.iterator]();!(o=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{!o&&i.return&&i.return()}finally{if(s)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=i("FIi8"),a=i("uOxu"),l=i("ogJP"),c=i("GH0z"),u=i("RoXi"),h=i("kcTO"),d=i("nEwK"),p=i("oNU6"),f=i("Wc1E"),_=i("RqCd"),m=i("IWXC"),g=i("kyOc"),y=i("y8Ih"),v=(0,a.getLogger)("QuoteTicker"),b={addDescriptionTitle:!0,changeDirectionDownClass:"down",changeDirectionUpClass:"up",changeDirectionNeutralClass:"neutral",changeInBrackets:!1,changePercentInBrackets:!1,lastPriceTimeInBrackets:!0,rtcTimeInBrackets:!0,clientName:"quote-ticker",dontDyePrice:!1,fallingBg:null,growingBg:null,lastFallingClass:"falling",lastGrowingClass:"growing",quoteSession:null,signNegative:!0,signPositive:!1,customPriceFormatter:null,customTimeFormatter:null,sessionStatusClassSuffix:"--for-ticker",dataModeClassSuffix:"--for-ticker",showInvalidSymbolStatus:!1,indicatorsTooltipType:"custom",lastPriceLastCharSup:!1,lastPriceHighlightDiffOnly:!1,initedHook:void 0,setStateHook:void 0,sfPermissionDeniedHook:void 0,noSuchSymbolHook:void 0
},S=["aboard","about","above","abreast","abroad","absent","across","adjacent","after","against","along","alongside","amid","among","an","apropos","apud","around","as","astride","at","atop","bar","before","behind","below","beneath","beside","besides","between","beyond","but","by","chez","circa","come","despite","down","during","except","for","from","in","inside","into","less","like","minus","near","notwithstanding","of","off","on","onto","ontop","opposite","out","outside","over","pace","past","per","post","pre","pro","qua","re","sans","save","short","since","than","through","throughout","to","toward, towards","under","underneath","unlike","until","up","upon","upside","versus","via","vice","with","within","without","worth"];n.prototype._setElements=function(e){var t=this;this._container=e,this._elements.change=this._findElements(e,["js-symbol-change","symbol-change"]),this._elements.changeDirection=this._findElements(e,["js-symbol-change-direction","symbol-change-direction"]),this._elements.extHrsChangeDirection=this._findElements(e,["js-symbol-ext-hrs-change-direction"]),this._elements.changePercent=this._findElements(e,["js-symbol-change-pt","symbol-change-pt"]),this._elements.description=this._findElements(e,["js-symbol-description-name","symbol-description-name"]),this._elements.extHrsChange=this._findElements(e,"js-symbol-ext-hrs-change"),this._elements.extHrsChangePercent=this._findElements(e,"js-symbol-ext-hrs-change-pt"),this._elements.extHrsClose=this._findElements(e,"js-symbol-ext-hrs-close"),this._elements.industry=this._findElements(e,["js-symbol-industry","symbol-industry"]),this._elements.last=this._findElements(e,["js-symbol-last","symbol-last"]),this._elements.sector=this._findElements(e,["js-symbol-sector","symbol-sector"]),this._elements.sessionStatus=this._findElements(e,"js-symbol-session-status"),this._elements.shortName=this._findElements(e,["js-symbol-short-name","symbol-short-name"]),this._elements.updateMode=this._findElements(e,"js-data-mode"),this._elements.updateMode.forEach(function(e){return e.classList.add("i-hidden")}),this._textNodes.change=this._getOrCreateTextNodes(this._elements.change),this._textNodes.changePercent=this._getOrCreateTextNodes(this._elements.changePercent),this._textNodes.extHrsChange=this._getOrCreateTextNodes(this._elements.extHrsChange),this._textNodes.extHrsChangePercent=this._getOrCreateTextNodes(this._elements.extHrsChangePercent),this._textNodes.extHrsClose=this._getOrCreateTextNodes(this._elements.extHrsClose),this._textNodes.last=this._getOrCreateTextNodes(this._elements.last),this._textNodes.open=this._findTextNodes(e,"js-symbol-open"),this._textNodes.eps=this._findTextNodes(e,"js-symbol-eps"),this._textNodes.marketCap=this._findTextNodes(e,"js-symbol-market-cap"),this._textNodes.prevClose=this._findTextNodes(e,"js-symbol-prev-close"),this._textNodes.dividends=this._findTextNodes(e,"js-symbol-dividends"),this._textNodes.priceEarnings=this._findTextNodes(e,"js-symbol-pe"),this._textNodes.volume=this._findTextNodes(e,"js-symbol-volume"),
this._textNodes.high=this._findTextNodes(e,"js-symbol-high"),this._textNodes.low=this._findTextNodes(e,"js-symbol-low"),this._textNodes.currency=this._findTextNodes(e,"js-symbol-currency"),this._textNodes.lastPriceTime=this._findTextNodes(e,"js-symbol-lp-time"),this._textNodes.rtcTime=this._findTextNodes(e,"js-symbol-rtc-time"),this._elements.lastHighlight=this._options.lastPriceHighlightDiffOnly?this._elements.last.map(function(e){return t._appendAndGetNewElement(e,"span")}):this._elements.last,this._textNodes.lastHighlight=this._getOrCreateTextNodes(this._elements.lastHighlight),this._elements.lastSup=this._options.lastPriceLastCharSup?this._elements.lastHighlight.map(function(e){return t._appendAndGetNewElement(e,"sup")}):[],this._textNodes.lastSup=this._getOrCreateTextNodes(this._elements.lastSup)},n.prototype._findElements=function(e,t){var i=(0,l.isArray)(t)?t:[t];return Array.prototype.concat.apply([],i.map(function(t){return Array.prototype.slice.call(e.getElementsByClassName(t))}))},n.prototype._findTextNodes=function(e,t){return this._getOrCreateTextNodes(this._findElements(e,t))},n.prototype._getOrCreateTextNodes=function(e){var t=this;return e.map(function(e){var i=t._getFirstTextNode(e);return i||(i=e.ownerDocument.createTextNode(""),e.appendChild(i)),i})},n.prototype._appendAndGetNewElement=function(e,t){var i=document.createElement(t);return e.appendChild(i),i},n.prototype._getFirstTextNode=function(e){var t,i=e.childNodes;for(t=i.length-1;t>=0;t--)if(3===i.item(t).nodeType)return i.item(t);return null},n.prototype.connect=function(e){this._subscribed||(this._subscribedSymbol=e||this._symbol,this.quoteSession.subscribe(this._options.clientName,this._subscribedSymbol,this._quoteSessionEventHandler),this._subscribed=!0)},n.prototype.disconnect=function(){this._subscribed&&(this.quoteSession.unsubscribe(this._options.clientName,this._subscribedSymbol,this._quoteSessionEventHandler),this._subscribed=!1)},n.prototype.onData=function(e,t){if(this.enabled)switch(e.status){case"ok":this.successData(e,t);break;case"permission_denied":this.onPermissionDenied(e);break;case"error":this.errorData(e)}},n.prototype.successData=function(e,t){e.values&&this.setState(e.values,e,t)},n.prototype.onPermissionDenied=function(e){(0,y.isSfQuoteData)(e)?this._options.sfPermissionDeniedHook?this._options.sfPermissionDeniedHook(e,this._symbolOriginal||this._symbol):this.errorData(e):this.downgradeData(e)},n.prototype.errorData=function(e){var t=this;this._options.showInvalidSymbolStatus&&(this.setShortName(this._symbol),this._elements.sessionStatus.map(function(e){return new p.MarketStatusIndicator({classSuffix:t._options.sessionStatusClassSuffix,el:e,data:{values:{current_session:"invalid"}},tooltipType:t._options.indicatorsTooltipType})})),this._options.noSuchSymbolHook?(this._symbolOriginal&&this.setShortName(this._symbolOriginal),this._options.noSuchSymbolHook.call(this,e,this._symbolOriginal||this._symbol)):v.logWarn("No data for: "+this._symbol)},n.prototype.downgradeData=function(e){
var t=e&&e.values&&e.values.alternative,i=this._symbol===t,n=t&&-1!==t.indexOf(":");n&&!i?(this._symbolOriginal=this._symbol,this._symbol=t,this._subscribed=!1,this.connect()):this.errorData(e)},n.prototype.setState=function(e,t,i){var n,r,o,s,a,l,c,u,m,g,y,b,S,w,P,T=this,C=i.values;if(null==C.pricescale&&null==C.minmov&&null==C.fractional&&null==C.minmove2||(this._priceFormatter=this._customPriceFormatter||new h.PriceFormatter(e.pricescale||100,e.minmov||1,e.fractional,e.minmove2)),n=this._options,r=this._percentFormatter,o=this._priceFormatter,s=this._volumeFormatter,C.timezone&&this._timeFormatter&&(this._timeFormatter.lastPrice&&this._timeFormatter.lastPrice.setTimezone(C.timezone),this._timeFormatter.rtc&&this._timeFormatter.rtc.setTimezone(C.timezone)),a=function(e){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?"("+e+")":e},l=function(e){return null==e?d.PLACE_HOLDER:r.format(e,n.signPositive,void 0,n.signNegative)},c=void 0!==n.signPositiveChange?n.signPositiveChange:n.signPositive,u=function(e){var t=o.format(e,c,void 0,n.signNegative);return a(t,n.changeInBrackets)},m=function(e){var t=r.format(e,c,void 0,n.signNegative);return a(t,n.changePercentInBrackets)},g=o.format.bind(o),y=s.format.bind(s),b=function(e){return null==e?d.PLACE_HOLDER:g(e)},this._setNodesValue(this._textNodes.change,C.change,u),this._setNodesValue(this._textNodes.changePercent,C.change_percent,m),null!=C.change&&(n.dontDyePrice||this._setChangeFontColor([].concat(this._elements.change,this._elements.changePercent),C.change,n.changeUpFontColor,n.changeDownFontColor,n.changeNeutralFontColor),this._setChangeDirection(this._elements.changeDirection,C.change)),this._setNodesValue(this._textNodes.extHrsChange,C.rch,u),this._setNodesValue(this._textNodes.extHrsChangePercent,C.rchp,m),null!=C.rch&&(n.dontDyePrice||this._setChangeFontColor([].concat(this._elements.extHrsChange,this._elements.extHrsChangePercent),C.rch,n.changeUpFontColor,n.changeDownFontColor,n.changeNeutralFontColor),this._setChangeDirection(this._elements.extHrsChangeDirection,C.rch)),this._setNodesValue(this._textNodes.prevClose,C.prev_close_price,g),this._setNodesValue(this._textNodes.dividends,e.dividends_yield,l,!0),(S=(0,_.getTranslatedSymbolDescription)(C))&&(S=this._prepareSymbolDescription(S),this._setTextsContent(this._elements.description,S),this._options.addDescriptionTitle))for(w=0;w<this._elements.description.length;w++)this._elements.description[w].setAttribute("title",S);if(null==C.short_name&&null==C.exchange||e.short_name&&(P=e.short_name,"QUANDL"===e.exchange&&void 0!==e.short_name.split("/")[1]&&(P=e.short_name.split("/")[1]+", "+e.short_name.split("/")[0]),this.setShortName(P)),this._setLastValue(C.last_price,g),this._setNodesValue(this._textNodes.extHrsClose,C.rtc,g),C.rtc&&this._highlighters.extHrsClose.show(C.rtc),C.industry&&this._setTextsContent(this._elements.industry,e.industry,function(e){return e}),C.sector&&this._setTextsContent(this._elements.sector,e.sector),
this._elements.sessionStatus&&C.current_session&&(this._sessionStatusInstances?this._sessionStatusInstances.forEach(function(e){return e.setStatus(C.current_session)}):this._sessionStatusInstances=this._elements.sessionStatus.map(function(t){return new p.MarketStatusIndicator({classSuffix:T._options.sessionStatusClassSuffix,el:t,short:!0,data:{values:C},quoteSession:T.quoteSession,symbol:e.original_name,manualUpdate:!0,tooltipType:T._options.indicatorsTooltipType})})),this._setNodesValue(this._textNodes.open,C.open_price,g),this._setNodesValue(this._textNodes.high,C.high_price,g),this._setNodesValue(this._textNodes.low,C.low_price,g),this._setNodesValue(this._textNodes.eps,e.earnings_per_share_basic_ttm,b,!0),this._setNodesValue(this._textNodes.priceEarnings,e.price_earnings_ttm,b,!0),this._setNodesValue(this._textNodes.marketCap,e.market_cap_basic,y,!0),this._setNodesValue(this._textNodes.volume,e.volume,y,!0),this._setNodesValue(this._textNodes.currency,e.currency_code,null,!0),(C.lp_time||C.timezone&&e.lp_time)&&this._textNodes.lastPriceTime.length&&(this._timeFormatter&&this._timeFormatter.lastPrice?this._setNodesValue(this._textNodes.lastPriceTime,a(this._timeFormatter.lastPrice.format(e.lp_time),this._options.lastPriceTimeInBrackets)):v.logError("last price time field requested with no formatter provided")),(C.rtc_time||C.timezone&&e.rtc_time)&&this._textNodes.rtcTime.length&&(this._timeFormatter&&this._timeFormatter.rtc?this._setNodesValue(this._textNodes.rtcTime,a(this._timeFormatter.rtc.format(e.rtc_time),this._options.rtcTimeInBrackets)):v.logError("rtc time field requested with no formatter provided")),null!=C.last_price)for(w=0;w<this._elements.updateMode.length;w++)this._elements.updateMode[w].classList.remove("i-hidden");this._elements.updateMode&&(C.update_mode||C.update_mode_seconds)&&(this._updateModeInstances?this._updateModeInstances.forEach(function(t){return t.update({values:e})}):this._updateModeInstances=this._elements.updateMode.map(function(t){return new f.DataModeIndicator({classSuffix:T._options.dataModeClassSuffix,el:t,data:{values:e},modeInterval:e.update_mode_seconds,short:!0,tooltipType:T._options.indicatorsTooltipType})})),this._setStateHook&&this._setStateHook(t.values,i.values),this._lastPrice?this._highlighters.last.show(e.last_price):null===this._lastPrice&&(this._container.classList.add("quote-ticker-inited"),"function"==typeof this._options.initedHook&&this._options.initedHook("last_price"in e)),this._lastPrice=e.last_price},n.prototype._setNodesValue=function(e,t,i,n){var r,o;if(null!==t&&void 0!==t||n)for(r="function"==typeof i?i(t):t,o=0;o<e.length;o++)e[o].nodeValue=r},n.prototype._setTextsContent=function(e,t,i){var n,r;if(e&&e.length&&t)for(n="function"==typeof i?i(t):t,r=0;r<e.length;r++)e[r].textContent=n},n.prototype._setLastValue=function(e,t){var i,n,r,s,a,l,c,u,h,d;null!==e&&void 0!==e&&(i="function"==typeof t?t(e):String(e))!==this._lastPriceFormatted&&(n=this._options.lastPriceHighlightDiffOnly?this._getLastValueStringDiff(this._lastPriceFormatted,i):["",i],
s=(r=o(n,2))[0],a=r[1],l=s,c=this._options.lastPriceLastCharSup?[a.slice(0,-1),a.slice(-1)]:[a,""],h=(u=o(c,2))[0],d=u[1],this._options.lastPriceHighlightDiffOnly&&this._setNodesValue(this._textNodes.last,l),this._setNodesValue(this._textNodes.lastHighlight,h),this._setNodesValue(this._textNodes.lastSup,d),this._lastPriceFormatted=i)},n.prototype._getLastValueStringDiff=function(e,t){if(e===t)return[t,""];for(var i=0;e[i]===t[i];)i++;return[t.slice(0,i),t.slice(i)]},n.prototype._setChangeFontColor=function(e,t,i,n,r){var o,s=u.PriceColorer.formatSign(t,{up:i,down:n,neutral:r});for(o=0;o<e.length;o++)e[o].style.color=s},n.prototype._setChangeDirection=function(e,t){var i,n;for(i=0;i<e.length;i++)(n=e[i].classList).toggle(this._options.changeDirectionUpClass,t>0),n.toggle(this._options.changeDirectionDownClass,t<0),n.toggle(this._options.changeDirectionNeutralClass,0===t)},n.prototype.setShortName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this._setTextsContent(this._elements.shortName,e)},n.prototype._prepareSymbolDescription=function(e){var t,i=this._getCache("symbol-description:"+e);return i||(i=(i=(t=e)===t.toUpperCase()?e.toLowerCase():e).replace(/[^\s]\S*/g,function(e){return function(e){return 1!==e.length&&!~S.indexOf(e)}(e)?(0,g.capitalizeFirstLetter)(e):e}),i=(0,g.capitalizeFirstLetter)(i),this._setCache("symbol-description:"+e,i),i)},n.prototype._initHighlighters=function(){this._highlighters.last=new r(this._elements.lastHighlight,this._options.growingBg,this._options.fallingBg,this._options.lastGrowingClass,this._options.lastFallingClass),this._highlighters.extHrsClose=new r(this._elements.extHrsClose,this._options.growingBg,this._options.fallingBg,this._options.lastGrowingClass,this._options.lastFallingClass)},n.prototype.disable=function(){this.enabled=!1,this.disconnect()},n.prototype.enable=function(){this.enabled=!0,this.connect()},n.prototype.setStateHook=function(e){null===e&&this._setStateHook?delete this._setStateHook:"function"==typeof e&&(this._setStateHook=e)},n.prototype._setCache=function(e,t){void 0===t||null===t?delete this._cache[e]:this._cache[e]=t},n.prototype._getCache=function(e){return this._cache&&this._cache[e]},e.exports.QuoteTicker=n},RoXi:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"PriceColorer",function(){return o}),n=i("P5fv"),r=i("j1f4"),function(e){function t(e,t){return 0===e?t&&void 0!==t.neutral?t.neutral:r.color.black70:e>0?t&&void 0!==t.up?t.up:r.color.success:t&&void 0!==t.down?t.down:r.color.danger}e.formatSign=t,e.formatDiff=function(e,i){return t(i-e)},e.domDifference=function(e,t,i,n,r){function o(e){var t=document.createElement("span");return t.innerHTML=e,t}var s,a,l,c,u,h;if(void 0===i&&(i=0),void 0===n&&(n=""),void 0===r&&(r=""),!i)return $(o(e));if(l=null,(s=e+"").length===(a=t+"").length){for(c=0;c<s.length;c++)if(s.charAt(c)!==a.charAt(c)){l=c;break}}else l=Number("0");return null===l?$(o(s)):(u=o(s.substr(0,l)),(h=document.createElement("span")).className=i<0?n:r,h.appendChild(o(s.substr(l))),$(u).add(h))}}(o||(o={}))
},RqCd:function(e,t,i){"use strict";function n(e){var t="#"+e+"-symbol-description",i=window.t(t);return i===t?null:i}function r(e){var t,i;if(void 0!==e.pro_name){if(null!==(t=n(e.pro_name)))return t;if(void 0!==e.short_name&&null!==(i=n(e.short_name)))return i}return"en"!==e.language&&void 0!==e.local_description&&e.language===window.language?e.local_description:s&&void 0!==e.short_description?e.short_description:"en"===e.language&&void 0!==e.local_description&&e.language===window.language?e.local_description:e.description||""}var o,s;i.r(t),i.d(t,"getTranslatedSymbolDescription",function(){return r}),i("YFKU"),o=i("+GxX"),s=Object(o.isFeatureEnabled)("short_descriptions")},S48P:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-9 -9 18 18" width="18" height="18" fill="currentColor"><g transform="scale(1.3)"><circle r="3"/><circle cy="5" r="1"/><circle cy="5" r="1" transform="rotate(45)"/><circle cy="5" r="1" transform="rotate(90)"/><circle cy="5" r="1" transform="rotate(135)"/><circle cy="5" r="1" transform="rotate(180)"/><circle cy="5" r="1" transform="rotate(-135)"/><circle cy="5" r="1" transform="rotate(-90)"/><circle cy="5" r="1" transform="rotate(-45)"/></g></svg>'},S8xo:function(e,t,i){"use strict";function n(e,t){var i=e.clientX-t.clientX,n=e.clientY-t.clientY;return Math.sqrt(i*i+n*n)}function r(e){return Boolean(e.touches)}var o,s,a,l,c;i.r(t),i.d(t,"MouseEventHandler",function(){return c}),o=i("bf9a"),s=i("qFKp"),a=i("Eyy1"),l=i("GUQs"),c=function(){function e(e,t,i){var n=this;this._clickCount=0,this._tapCount=0,this._clickTimeoutId=null,this._clickPosition={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._longTapTimeoutId=null,this._longTapActive=!1,this._mouseMoveStartPosition=null,this._moveExceededManhattanDistance=!1,this._cancelClick=!1,this._unsubscribeOutsideEvents=null,this._unsubscribeMousemove=null,this._unsubscribeRoot=null,this._startPinchMiddlePoint=null,this._startPinchDistance=0,this._pinchPrevented=!1,this._preventDragProcess=!1,this._mousePressed=!1,this._onFirefoxOutsideMouseUp=function(e){n._mouseUpHandler(e)},this._target=e,this._handler=t,this._options=i,this._init()}return e.prototype.destroy=function(){null!==this._unsubscribeOutsideEvents&&(this._unsubscribeOutsideEvents(),this._unsubscribeOutsideEvents=null),null!==this._unsubscribeMousemove&&(this._unsubscribeMousemove(),this._unsubscribeMousemove=null),null!==this._unsubscribeRoot&&(this._unsubscribeRoot(),this._unsubscribeRoot=null),this._clearLongTapTimeout(),this._resetClickTimeout()},e.prototype._mouseEnterHandler=function(e){var t,i,n=this;this._unsubscribeMousemove&&this._unsubscribeMousemove(),t=this._mouseMoveHandler.bind(this),this._unsubscribeMousemove=function(){n._target.removeEventListener("mousemove",t)},this._target.addEventListener("mousemove",t),r(e)&&this._mouseMoveHandler(e),i=this._makeCompatEvent(e),this._processEvent(i,this._handler.mouseEnterEvent)},e.prototype._resetClickTimeout=function(){null!==this._clickTimeoutId&&clearTimeout(this._clickTimeoutId),
this._clickCount=0,this._tapCount=0,this._clickTimeoutId=null,this._clickPosition={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}},e.prototype._mouseMoveHandler=function(e){if(!this._mousePressed||r(e)){var t=this._makeCompatEvent(e);this._processEvent(t,this._handler.mouseMoveEvent)}},e.prototype._mouseMoveWithDownHandler=function(e){var t,i,n,o,s,c,u,h,d;"button"in e&&0!==e.button||null===this._startPinchMiddlePoint&&(t=r(e),this._preventDragProcess&&t||(this._pinchPrevented=!0,i=this._makeCompatEvent(e),n=Object(a.ensure)(this._mouseMoveStartPosition),!(c=(o=Math.abs(n.x-i.pageX))+(s=Math.abs(n.y-i.pageY))>5)&&t||(c&&!this._moveExceededManhattanDistance&&t&&(h=s>=(u=.5*o)&&!this._options.treatVertTouchDragAsPageScroll,d=u>s&&!this._options.treatHorzTouchDragAsPageScroll,h||d||(this._preventDragProcess=!0)),c&&(this._moveExceededManhattanDistance=!0,this._cancelClick=!0,t&&this._clearLongTapTimeout()),this._preventDragProcess||(this._processEvent(i,this._handler.pressedMouseMoveEvent),t&&Object(l.a)(e)))))},e.prototype._mouseUpHandler=function(e){var t,i;"button"in e&&0!==e.button||(t=this._makeCompatEvent(e),this._clearLongTapTimeout(),this._mouseMoveStartPosition=null,this._mousePressed=!1,this._unsubscribeRoot&&(this._unsubscribeRoot(),this._unsubscribeRoot=null),(i=r(e))&&this._mouseLeaveHandler(e),this._processEvent(t,this._handler.mouseUpEvent),i?++this._tapCount:++this._clickCount,this._clickTimeoutId&&(this._clickCount>1||this._tapCount>1)?(Math.abs(this._clickPosition.x-t.localX)+Math.abs(this._clickPosition.y-t.localY)<(i?15:5)&&!this._cancelClick&&this._processEvent(t,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()):this._cancelClick||this._processEvent(t,this._handler.mouseClickEvent),r(e)&&(0===this._tapCount&&Object(l.a)(e),this._mouseLeaveHandler(e),0===e.touches.length&&this._longTapActive&&(this._longTapActive=!1,Object(l.a)(e))),s.isFF&&this._target.ownerDocument.documentElement.removeEventListener("mouseleave",this._onFirefoxOutsideMouseUp))},e.prototype._clearLongTapTimeout=function(){null!==this._longTapTimeoutId&&(clearTimeout(this._longTapTimeoutId),this._longTapTimeoutId=null)},e.prototype._mouseDownHandler=function(e){var t,i,n,o;"button"in e&&0!==e.button||(t=this._target.ownerDocument.documentElement,s.isFF&&t.addEventListener("mouseleave",this._onFirefoxOutsideMouseUp),i=this._makeCompatEvent(e),this._cancelClick=!1,this._moveExceededManhattanDistance=!1,this._preventDragProcess=!1,r(e)&&this._mouseEnterHandler(e),this._mouseMoveStartPosition={x:i.pageX,y:i.pageY},this._unsubscribeRoot&&(this._unsubscribeRoot(),this._unsubscribeRoot=null),n=this._mouseMoveWithDownHandler.bind(this),o=this._mouseUpHandler.bind(this),this._unsubscribeRoot=function(){t.removeEventListener("touchmove",n),t.removeEventListener("touchend",o),t.removeEventListener("mousemove",n),t.removeEventListener("mouseup",o)},t.addEventListener("touchmove",n,{passive:!1}),t.addEventListener("touchend",o,{passive:!1}),this._clearLongTapTimeout(),
r(e)&&1===e.touches.length?this._longTapTimeoutId=setTimeout(this._longTapHandler.bind(this,e),240):(t.addEventListener("mousemove",n),t.addEventListener("mouseup",o)),this._mousePressed=!0,this._processEvent(i,this._handler.mouseDownEvent),this._clickTimeoutId||(this._clickCount=0,this._tapCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),500),this._clickPosition={x:i.localX,y:i.localY}))},e.prototype._init=function(){var e,t,i=this;this._target.addEventListener("mouseenter",this._mouseEnterHandler.bind(this)),this._target.addEventListener("touchcancel",this._clearLongTapTimeout.bind(this)),e=this._target.ownerDocument,t=function(e){i._handler.mouseDownOutsideEvent&&(e.target&&i._target.contains(e.target)||i._handler.mouseDownOutsideEvent())},this._unsubscribeOutsideEvents=function(){e.removeEventListener("mousedown",t),e.removeEventListener("touchstart",t)},e.addEventListener("mousedown",t),e.addEventListener("touchstart",t,{passive:!0}),this._target.addEventListener("mouseleave",this._mouseLeaveHandler.bind(this)),this._target.addEventListener("contextmenu",this._longTapHandler.bind(this)),this._target.addEventListener("touchstart",this._mouseDownHandler.bind(this),{passive:!0}),Modernizr.mobiletouch||this._target.addEventListener("mousedown",this._mouseDownHandler.bind(this)),this._initPinch(),this._target.addEventListener("touchmove",function(){},{passive:!1})},e.prototype._initPinch=function(){var e=this;void 0===this._handler.pinchStartEvent&&void 0===this._handler.pinchEvent&&void 0===this._handler.pinchEndEvent||(this._target.addEventListener("touchstart",function(t){return e._checkPinchState(t.touches)},{passive:!0}),this._target.addEventListener("touchmove",function(t){var i;2===t.touches.length&&null!==e._startPinchMiddlePoint&&void 0!==e._handler.pinchEvent&&(i=n(t.touches[0],t.touches[1])/e._startPinchDistance,e._handler.pinchEvent(e._startPinchMiddlePoint,i),Object(l.a)(t))},{passive:!1}),this._target.addEventListener("touchend",function(t){e._checkPinchState(t.touches)}))},e.prototype._checkPinchState=function(e){1===e.length&&(this._pinchPrevented=!1),2!==e.length||this._pinchPrevented||this._longTapActive?this._stopPinch():this._startPinch(e)},e.prototype._startPinch=function(e){var t=this._target.getBoundingClientRect()||{left:0,top:0};this._startPinchMiddlePoint={x:(e[0].clientX-t.left+(e[1].clientX-t.left))/2,y:(e[0].clientY-t.top+(e[1].clientY-t.top))/2},this._startPinchDistance=n(e[0],e[1]),void 0!==this._handler.pinchStartEvent&&this._handler.pinchStartEvent(),this._clearLongTapTimeout()},e.prototype._stopPinch=function(){null!==this._startPinchMiddlePoint&&(this._startPinchMiddlePoint=null,void 0!==this._handler.pinchEndEvent&&this._handler.pinchEndEvent())},e.prototype._mouseLeaveHandler=function(e){this._unsubscribeMousemove&&this._unsubscribeMousemove();var t=this._makeCompatEvent(e);this._processEvent(t,this._handler.mouseLeaveEvent)},e.prototype._longTapHandler=function(e){r(e)||Object(l.a)(e);var t=this._makeCompatEvent(e)
;this._processEvent(t,this._handler.longTapEvent),this._processEvent(t,this._handler.contextMenuEvent),this._cancelClick=!0,this._longTapActive=!0},e.prototype._processEvent=function(e,t){t&&t.call(this._handler,e)},e.prototype._makeCompatEvent=function(e){var t,i;return t="touches"in e&&e.touches.length?e.touches[0]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0]:e,i=this._target.getBoundingClientRect()||{left:0,top:0},{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY,localX:t.clientX-i.left,localY:t.clientY-i.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,type:e.type.startsWith("mouse")?"mouse":"touch",target:t.target,view:e.view,preventDefault:function(){Object(l.a)(e)}}},e}()},SNmj:function(e,t,i){"use strict";var n=function(){var e={};return{suggest:function(t){var i=$.ajax({url:"/pubscripts-suggest-json/",type:"GET",data:{search:t},dataType:"json"});return i.done(function(t){if(t&&t.results)for(var i=0;i<t.results.length;i++)e[t.results[i].scriptIdPart]=TradingView.clone(t.results[i])}),i},isScriptStrategy:function(e){return e.extra&&"strategy"===e.extra.kind},info:function(t){var i,n,r=$.Deferred(),o=[],s=[];for(i=0;i<t.length;i++)n=t[i],e[n]?o.push(TradingView.clone(e[n])):s.push(n);return s.length?($.ajax({url:"/pubscripts-get/",type:"POST",data:{scriptIdPart:s.join(",")},dataType:"json"}).done(function(t){var i,n;for(i in t=t||[])n=t[i],e[n.scriptIdPart]=TradingView.clone(n),o.push(n);r.resolve(o)}).fail(function(){r.reject()}),r):r.resolve(o).promise()},invalidateCache:function(t){t.forEach(function(t){delete e[t]})},cleanCache:function(){e=[]}}}();e.exports=n},SXwY:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var i=function i(n){var r=i.cache,o=""+(t?t.apply(this,arguments):n);return r.hasOwnProperty(o)||(r[o]=e.apply(this,arguments)),r[o]};return i.cache={},i},e.exports=t.default},Si3H:function(e,t,i){"use strict";function n(e,t){var i=s.a.versionOf(e),n=e;void 0===n._serverMetaInfoVersion&&(n._serverMetaInfoVersion=i),h.forEach(function(n){i<0||i>=n.targetMetaInfoVersion()||(n.migrateMetaInfo(e),void 0!==t&&n.migratePropState(t),Object(r.assert)(e._metainfoVersion===n.targetMetaInfoVersion()))})}var r,o,s,a,l,c,u,h;i.r(t),r=i("Eyy1"),o=i("0YCj"),s=i.n(o),a=i("ogJP"),l=function(){function e(){}return e.prototype.targetMetaInfoVersion=function(){return 47},e.prototype.migrateMetaInfo=function(e){var t,i,n=e,r=e;r._metainfoVersion=47,n.defaults&&void 0!==n.defaults.precision?(t=n.defaults&&n.defaults.precision,0===(i=Object(a.isNumber)(t)?t:parseInt(t))?r.format={type:"volume"}:isFinite(i)?r.format={type:"price",precision:i}:r.format={type:"inherit"},delete n.defaults.precision):r.format={type:"inherit"}},e.prototype.migratePropState=function(e){},e}(),c=i("mrSG"),u=function(){function e(){}return e.prototype.targetMetaInfoVersion=function(){return 50},e.prototype.migrateMetaInfo=function(e){var t,i,n,o,s,a,l,u,h,d=e,p=e;if(p._metainfoVersion=50,
void 0!==d.defaults&&void 0!==d.defaults.ohlcPlots&&void 0!==d.ohlcPlots)for(t=d.ohlcPlots,i=d.defaults.ohlcPlots,n=Object(r.ensureDefined)(Object(r.ensureDefined)(p.defaults).ohlcPlots),o=0,s=Object.keys(i);o<s.length;o++)"ohlc_candles"===(l=i[a=s[o]]).plottype&&(u=!1,void 0!==(h=t[a])&&(u=!!h.drawBorder,delete h.drawBorder),n[a]=Object(c.__assign)({borderColor:"#000000",drawBorder:u},l))},e.prototype.migratePropState=function(e){},e}(),i.d(t,"migrateMetaInfoAndPropState",function(){return n}),(h=[new l,new u]).sort(function(e,t){return e.targetMetaInfoVersion()-t.targetMetaInfoVersion()})},SqfW:function(e,t,i){"use strict";function n(e,t){if(e.index>=t.length)return null;var i=t[e.index];return i===s.INVALID_TIME_POINT_INDEX?null:{startPrice:e.startPrice,endPrice:e.endPrice,index:i,extendTop:e.extendTop,extendBottom:e.extendBottom}}function r(e,t,i){var n=Object(a.ensureTimePointIndexIndex)(i.indexOf(e.index));return Object(o.__assign)(Object(o.__assign)({id:t},e),{index:n})}var o,s,a;i.d(t,"b",function(){return n}),i.d(t,"a",function(){return r}),o=i("mrSG"),s=i("tqok"),a=i("hsV8")},Ss5c:function(e,t,i){"use strict";(function(e){function n(t,i){var r,o;if(c.call(this),this._model=t,this._properties=i,this._pointAdded=new g,this._pointChanged=new g,this._onTemplateApplying=new g,this._onTemplateApplied=new g,this._paneViews=[],this._points=[],this._fixedPoints=[],this._timePoint=[],this._currentPointsetId=null,this._properties.hasChild("symbol")||this._properties.addChild("symbol",new e(t.mainSeries().symbol())),this._properties.hasChild("interval")||this._properties.addChild("interval",new e(t.mainSeries().interval())),this.calcIsActualSymbol(),this._properties.intervalsVisibilities.listeners().subscribe(this,n.prototype.calcIsActualSymbol),this._properties.listeners().subscribe(this,this.propertiesChanged),this._createPointsProperties(),this.m_priceAxisViews=[],this.m_timeAxisViews=[],this.pointsCount()>0)for(r=0;r<this.pointsCount();r++)this.m_priceAxisViews.push(this.createPriceAxisView(r)),this.m_timeAxisViews.push(new l(this,r));o=this,this._properties.visible.listeners().subscribe(this,function(e){var t=!1===u.hideAllDrawings().value();e.value()?e.value()&&t&&m.emit("drawing_event",this._id,"show"):(o._model.selection().isSelected(this)&&o._model.selectionMacro(function(e){e.removeSourceFromSelection(o)}),t&&m.emit("drawing_event",this._id,"hide"))}),this.customization=this.customization||{forcePriceAxisLabel:!1,disableSelection:!1,disableErasing:!1,disableSave:!1,showInObjectsTree:!0},this._syncStateExclusions=[],this._definitionsViewModel=null,this._isDestroyed=!1,this._properties.hasChild("linewidth")?this._widthsProperty=new x([this._properties.child("linewidth")]):this._widthsProperty=null}
var r,o=i("Eyy1").ensureDefined,s=i("aO4+").Point,a=i("4TVt").LineToolPriceAxisView,l=i("fJhV").LineDataSourceTimeAxisView,c=i("fgLi").DataSource,u=i("mMWL"),h=i("LxhU"),d=h.Interval,p=h.ResolutionKind,f=i("pPtI").getServerInterval,_=i("uOxu").getLogger("Chart.LineDataSource"),m=i("FQhm"),g=i("aIyQ"),y=i("hayr").propertyPages,v=i("WkOR").areEqualSymbols,b=i("Kxc7"),S=i("s4+V"),w=i("0dm4").canPlaceAlertOnResolution,P=i("0dm4").showUnsupportedResolutionDialog,T=i("JUY+").getPriceAlertsDispatcher,C=i("JUY+").getPriceAlertsDispatcherIfExists,x=i("ytGH").LineToolWidthsProperty,I=b.enabled("datasource_copypaste"),E=10;inherit(n,c),n.prototype.widthsProperty=function(){return this._widthsProperty},n.prototype.pointAdded=function(){return this._pointAdded},n.prototype.pointChanged=function(){return this._pointChanged},n.PointPriceProperty=function(t,i){e.call(this),this._lineSource=t,this._pointIndex=i,t.pointAdded().subscribe(this,function(e){this._pointIndex===e&&this._listeners.fire(this)}),t.pointChanged().subscribe(this,function(e){this._pointIndex===e&&this._listeners.fire(this)})},inherit(n.PointPriceProperty,e),n.PointPriceProperty.prototype.value=function(){var e=this._lineSource.points()[this._pointIndex].price,t=this._lineSource.ownerSource().formatter(),i=t.parse(t.format(e));return i.value},n.PointPriceProperty.prototype.setValue=function(e){var t=this._lineSource.points()[this._pointIndex];t.price=parseFloat(e),this._lineSource.setPoint(this._pointIndex,t),this._lineSource._model.updateSource(this._lineSource),this._listeners.fire(this),this._lineSource.endChanging(!0),this._lineSource._syncMultichartState(),this._lineSource._properties.lastUpdateTime.setValue((new Date).valueOf())},n.prototype.enableCurrentIntervalVisibility=function(){var e,t,i,n,r,o,s,a=d.parse(this._model.mainSeries().interval());a.isSeconds()&&(a.multiplier()<60?(this.properties().intervalsVisibilities.seconds.setValue(!0),e=Math.min(this.properties().intervalsVisibilities.secondsFrom.value(),a.multiplier()),this.properties().intervalsVisibilities.secondsFrom.setValue(e),t=Math.max(this.properties().intervalsVisibilities.secondsTo.value(),a.multiplier()),this.properties().intervalsVisibilities.secondsTo.setValue(t)):a=new d(p.Minutes,a.multiplier()/60)),a.isMinutes()&&(a.multiplier()<60?(this.properties().intervalsVisibilities.minutes.setValue(!0),e=Math.min(this.properties().intervalsVisibilities.minutesFrom.value(),a.multiplier()),this.properties().intervalsVisibilities.minutesFrom.setValue(e),t=Math.max(this.properties().intervalsVisibilities.minutesTo.value(),a.multiplier()),this.properties().intervalsVisibilities.minutesTo.setValue(t)):(i=Math.floor(a.multiplier()/60),this.properties().intervalsVisibilities.hours.setValue(!0),n=Math.min(this.properties().intervalsVisibilities.hoursFrom.value(),i),this.properties().intervalsVisibilities.hoursFrom.setValue(n),r=Math.max(this.properties().intervalsVisibilities.hoursTo.value(),i),this.properties().intervalsVisibilities.hoursTo.setValue(r))),
a.isDays()&&(this.properties().intervalsVisibilities.days.setValue(!0),o=Math.min(this.properties().intervalsVisibilities.daysFrom.value(),a.multiplier()),this.properties().intervalsVisibilities.daysFrom.setValue(o),s=Math.max(this.properties().intervalsVisibilities.daysTo.value(),a.multiplier()),this.properties().intervalsVisibilities.daysTo.setValue(s)),a.isWeeks()&&this.properties().intervalsVisibilities.weeks.setValue(!0),a.isMonths()&&this.properties().intervalsVisibilities.months.setValue(!0)},n.prototype.getType=function(){return TradingView.className(this.constructor)},n.prototype.getConstructor=function(){return this._constructor||null},n.prototype.isActualSymbol=function(){return this._isActualSymbol},n.prototype.isActualInterval=function(){return this._isActualInterval},n.prototype.isSavedInChart=function(e){return!this.customization.disableSave},n.prototype.setSavingInChartEnabled=function(e){this.customization.disableSave=!e},n.prototype.showInObjectTree=function(){return this.customization.showInObjectsTree},n.prototype.isAvailableInFloatingWidget=function(){return!0},n.prototype.setShowInObjectsTreeEnabled=function(e){this.customization.showInObjectsTree=e},n.prototype.isSelectionEnabled=function(){return!this.customization.disableSelection},n.prototype.setSelectionEnabled=function(e){this.customization.disableSelection=!e},n.prototype.visibilityKeyByInterval=function(e){var t,i=d.parse(e);return n.IntervalsVisibilities.forEach(function(e){e.kind===i.kind()&&e.from<=i.multiplier()&&e.to>=i.multiplier()&&(t=e.key)}),t},n.prototype.calcIsActualSymbol=function(){var e,t=this._properties.symbol,i=this._model.mainSeries(),n=t.value();this._isActualSymbol=i.symbolSameAsCurrent(n),this._isActualSymbol&&(e=i.symbol(),v(n,e)||(_.logWarn('Possible drawing "migrating" detected from "'+n+'" to "'+e+'"'),_.logWarn("Series symbolInfo: "+JSON.stringify(i.symbolInfo())),_.logWarn((new Error).stack)),t.setValue(e)),this.calcIsActualInterval()},n.prototype.calcIsActualInterval=function(){var e,t,i,n,r,o,s=this._properties,a=this._model.mainSeries(),l=d.parse(a.interval()),c=s.intervalsVisibilities;this._isActualInterval=!1,l.isSeconds()&&l.multiplier()<60&&(e=c.seconds.value(),t=c.secondsFrom.value(),i=c.secondsTo.value(),this._isActualInterval=e&&l.multiplier()>=t&&l.multiplier()<=i),l.isSeconds()&&l.multiplier()>=60&&(n=Math.floor(l.multiplier()/60),e=c.minutes.value(),t=c.minutesFrom.value(),i=c.minutesTo.value(),this._isActualInterval=e&&n>=t&&n<=i),l.isMinutes()&&l.multiplier()<60&&(e=c.minutes.value(),t=c.minutesFrom.value(),i=c.minutesTo.value(),this._isActualInterval=e&&l.multiplier()>=t&&l.multiplier()<=i),l.isMinutes()&&l.multiplier()>=60&&(r=Math.floor(l.multiplier()/60),e=c.hours.value(),t=c.hoursFrom.value(),i=c.hoursTo.value(),this._isActualInterval=e&&r>=t&&r<=i),l.isDays()&&(e=c.days.value(),t=c.daysFrom.value(),i=c.daysTo.value(),this._isActualInterval=e&&l.multiplier()>=t&&l.multiplier()<=i),l.isWeeks()&&(this._isActualInterval=c.weeks.value()),l.isMonths()&&(this._isActualInterval=c.months.value()),
l.isRange()&&(this._isActualInterval=c.ranges.value()),!this._isActualInterval&&this._model.selection().isSelected(this)&&(o=this,this._model.selectionMacro(function(e){e.removeSourceFromSelection(o)}))},n.PointIndexProperty=function(t,i){e.call(this),this._lineSource=t,this._pointIndex=i},inherit(n.PointIndexProperty,e),n.PointIndexProperty.prototype.value=function(){return this._lineSource.points()[this._pointIndex].index},n.PointIndexProperty.prototype.setValue=function(e){var t=this._lineSource.points()[this._pointIndex];t.index=e,this._lineSource.setPoint(this._pointIndex,t),this._lineSource._model.updateSource(this._lineSource),this._listeners.fire(this),this._lineSource.endChanging(!0),this._lineSource._syncMultichartState(),this._lineSource._properties.lastUpdateTime.setValue((new Date).valueOf())},n.prototype._syncMultichartState=function(){var e={points:this._timePoint,interval:this._model.mainSeries().interval()};this.linkKey&&this.isSynchronizable()&&u.finishChangingLineTool({model:this._model,linkKey:this.linkKey,symbol:this._model.mainSeries().symbol(),finalState:e})},n.prototype._createPointProperty=function(e){var t,i=this._properties.points;i.addProperty(e),(t=i[e]).addChild("price",new n.PointPriceProperty(this,e)),t.addChild("bar",new n.PointIndexProperty(this,e))},n.prototype._createPointsProperties=function(){this._properties.addProperty("points");for(var e=0;e<this.pointsCount();e++)this._createPointProperty(e)},n.prototype.priceScale=function(){return this._ownerSource?this._ownerSource.m_priceScale:null},n.prototype.symbol=function(){return this._properties.symbol.value()},n.prototype.properties=function(){return this._properties},n.prototype.isSavedInStudyTemplates=function(){return!1},n.prototype.state=function(e){var t=TradingView.className(this.constructor),i={type:t,id:this.id(),state:this.properties().state(),points:this._timePoint,zorder:this.zorder(),linkKey:this.linkKey};return delete i.state.points,e&&(i.indexes=this._points),this.ownerSource()&&(i.ownerSource=this.ownerSource().id()),this.isFixed()&&(i.positionPercents=this._positionPercents||this.calcPositionPercents()),"version"in this&&1!==this.version&&(i.version=this.version),this.hasAlert.value()&&(i.alertId=this._alertId),i},n.prototype.template=function(){return this.properties().preferences()},n.prototype.applyTemplate=function(e){this._onTemplateApplying.fire(e),this._applyTemplateImpl(e),this.calcIsActualSymbol(),this.updateAllViews(),this.model().lightUpdate(),this._onTemplateApplied.fire()},n.prototype._applyTemplateImpl=function(e){var t=this.properties();t.mergePreferences(e),t.saveDefaults(),this.propertiesChanged()},n.prototype.clearData=function(){this._points=[]},n.prototype.currentPointsetId=function(){return"pointset_"+this._currentPointsetId},n.prototype.stop=function(){if(this.clearServerPoints(),this.hasAlert.value()){var e=C();e&&e.deleteAlert(this._alertId)}},n.prototype.isStarted=function(){return null!==this._currentPointsetId},n.prototype.restart=function(){this.isFixed()||(this._currentPointsetId=null,
this.createServerPoints())},n.prototype.tryCreateServerPoints=function(){this.isFixed()||null===this._currentPointsetId&&this.createServerPoints()},n.prototype.normalizePoint=function(e){var t=this._model.timeScale().normalizeBarIndex(e.index);return t.price=e.price,t},n.prototype.normalizePoints=function(){var e,t;for(this._timePoint=[],e=0;e<this._points.length;e++)if(void 0!==this._points[e].index){if(!(t=this._model.timeScale().normalizeBarIndex(this._points[e].index)).time_t){this._timePoint=[];break}t.price=this._points[e].price,this._timePoint.push(t)}},n.prototype.denormalizeTimePoints=function(){var e,t,i=[];for(e=0;e<this._timePoint.length;e++){if(void 0===(t=this._model.timeScale().denormalizeTimePoint(this._timePoint[e]))){i=[];break}i.push({index:t,price:this._timePoint[e].price})}i.length>0&&(this._points=i)},n.prototype.restorePoints=function(e,t,i){this._timePoint=e,this._points=t,i||this.denormalizeTimePoints()},n.prototype.restoreExternalPoints=function(e){this.properties().interval.setValue(e.interval),this._timePoint=e.points,this.isActualSymbol()?this.createServerPoints():this.clearServerPoints()},n.prototype.restorePositionPercents=function(e){this._positionPercents=e},n.prototype.getLinkKey=function(){return this.linkKey||null},n.prototype.updateAllViewsAndRedraw=function(){this.updateAllViews(),this._model.updateSource(this)},n.prototype.propertiesChanged=function(){if(this.calcIsActualInterval(),this.updateAllViewsAndRedraw(),this.linkKey){var e=this.properties().state(this._syncStateExclusions);delete e.interval,u.changeLineStyle({linkKey:this.linkKey,state:e,model:this._model})}},n.prototype.points=function(){var e,t,i=[];for(e=0;e<this._points.length;e++)t=this._points[e],i.push({index:t.index,price:t.price,time:t.time});return this._lastPoint&&i.push({index:this._lastPoint.index,price:this._lastPoint.price,time:this._lastPoint.time}),this._currentMovingPoint&&this._startMovingPoint&&this.correctPoints(i),i},n.prototype.normalizedPoints=function(){return this._timePoint},n.prototype.axisPoints=function(){return this.points()},n.prototype.fixedPoints=function(){var e,t,i,n,r=[];if(this._positionPercents&&!this.priceScale().isEmpty())for(e=0;e<this._positionPercents.length;e++)t=this._positionPercents[e],i=this._model.timeScale().width()*t.x,n=this.priceScale().height()*t.y,r.push(new s(i,n));else for(e=0;e<this._fixedPoints.length;e++)r.push(this._fixedPoints[e].clone());return this._lastPoint&&r.push(this._lastPoint.clone()),this._currentMovingPoint&&this._startMovingPoint&&this.correctFixedPoints(r),r},n.prototype._preparePoint=function(e,t){var i=e;return t&&t.shift()&&this.points().length>=2&&this._properties.snapTo45Degrees&&this._snapPoint45Degree(i,this.points()[this.points().length-2]),i},n.prototype.addPoint=function(e,t,i){var n=this._preparePoint(e,t);return this._addPointIntenal(n,t,i)},n.prototype._addPointIntenal=function(e,t,i){this._points.push(e);var n=this._points.length===this.pointsCount();return n?(this._lastPoint=null,i||(this.normalizePoints(),
this.createServerPoints())):this._lastPoint=e,this._pointAdded.fire(this._points.length-1),n},n.prototype.addFixedPoint=function(e){this._fixedPoints.push(e);var t=this._fixedPoints.length===this.pointsCount();return t&&this.calcPositionPercents(),t},n.prototype.calcPositionPercents=function(){var e,t,i,n;if(!this.priceScale()||this.priceScale().isEmpty())return[];for(this._positionPercents=[],e=0;e<this._fixedPoints.length;e++)i=(t=this._fixedPoints[0]).x/this._model.timeScale().width(),n=t.y/this.priceScale().height(),this._positionPercents.push({x:i,y:n});return this._positionPercents},n.prototype.calcMiddlePoint=function(e,t){return new s((e.x+t.x)/2,(e.y+t.y)/2)},n.prototype.getPointByPosition=function(e,t,i,n){return[t,i,n][e]},n.prototype.restoreFixedPoints=function(){this._fixedPoints=this.fixedPoints()},n.prototype.onData=function(e){e.params.customId===this.currentPointsetId()&&this._onPointsetUpdated(e.params.plots)},n.prototype._onPointsetUpdated=function(e){var t,i,n,r;if(0!==e.length){for(t=0;t<e.length;t++)i=e[t],n=this._timePoint[i.index],r={index:i.value[0],time:new Date(1e3*i.value[1]),price:n.price},this._points.length<=i.index?(this._points.push(r),this._pointAdded.fire(this._points.length-1)):(this._points[i.index]=r,this._pointChanged.fire(i.index));this.checkAlert&&this.checkAlert(),this.updateAllViewsAndRedraw()}},n.prototype.startChanging=function(e,t){e<this.m_priceAxisViews.length&&this.m_priceAxisViews[e].setActive(!0),e<this.m_timeAxisViews.length&&this.m_timeAxisViews[e].setActive(!0),this._properties.lastUpdateTime.setValue((new Date).valueOf())},n.prototype.setPoint=function(e,t,i){if(i&&i.shift()&&this._properties.snapTo45Degrees){var n=0===e?1:e-1;this._snapPoint45Degree(t,this.points()[n])}this._points[e]=t,this._pointChanged.fire(e),this.normalizePoints()},n.prototype.startMoving=function(e,t,i){this.isFixed()&&this.restoreFixedPoints(),this._startMovingPoint=this.isFixed()?e.screen:e.logical,this._properties.lastUpdateTime.setValue((new Date).valueOf())},n.prototype.move=function(e,t,i){var n;n=i&&(i.shiftOnly()||i.controlShift())?this.isFixed()?this._alignScreenPointHorizontallyOrVertically(e.screen):this._alignPointHorizontallyOrVertically(e.logical):this.isFixed()?e.screen:e.logical,this._currentMovingPoint=n,this.updateAllViews()},n.prototype._alignPointHorizontallyOrVertically=function(e){var t=this.pointToScreenPoint(e)[1],i=this.pointToScreenPoint(this._startMovingPoint)[1],n=Math.abs(i.x-t.x),r=Math.abs(i.y-t.y),o=n<E&&r<E;return o?e:{index:n<r?this._startMovingPoint.index:e.index,price:n<r?e.price:this._startMovingPoint.price}},n.prototype._alignScreenPointHorizontallyOrVertically=function(e){var t=Math.abs(this._startMovingPoint.x-e.x),i=Math.abs(this._startMovingPoint.y-e.y),n=t<E&&i<E;return n?e:t<i?new s(this._startMovingPoint.x,e.y):new s(e.x,this._startMovingPoint.y)},n.prototype.startMovingPoint=function(){return this._startMovingPoint?TradingView.clone(this._startMovingPoint):null},n.prototype.currentMovingPoint=function(){
return this._currentMovingPoint?TradingView.clone(this._currentMovingPoint):null},n.prototype.correctPoints=function(e){var t,i,n=this._currentMovingPoint.index-this._startMovingPoint.index,r=this._currentMovingPoint.price-this._startMovingPoint.price;if(0===n&&0===r)return!1;for(t=0;t<e.length;t++)(i=e[t]).index+=n,i.price+=r,e[t]=i;return!0},n.prototype.correctFixedPoints=function(e){var t,i=this._currentMovingPoint.subtract(this._startMovingPoint);for(t=0;t<e.length;t++)e[t]=e[t].add(i)},n.prototype.endMoving=function(e){var t,i,n;if(this._properties.interval.setValue(this._model.mainSeries().interval()),t=!1,i=!1,this._currentMovingPoint&&this._startMovingPoint){if(t=this._currentMovingPoint.index!==this._startMovingPoint.index,i=this._currentMovingPoint.price!==this._startMovingPoint.price,this.isFixed())this.correctFixedPoints(this._fixedPoints);else if(this.correctPoints(this._points))for(m.emit("drawing_event",this._id,"move"),n=0;n<this._points.length;n++)this._pointChanged.fire(n);this._startMovingPoint=null,this._currentMovingPoint=null}if(this.isFixed())return this.calcPositionPercents(),void this.updateAllViews();this.normalizePoints(),this.updateAllViews(),t&&!e&&this.createServerPoints(),(i||t)&&this.synchronizeAlert(!this._alertUndoMode)},n.prototype.endChanging=function(e,t){var i;for(this._properties.interval.setValue(this._model.mainSeries().interval()),t||(this.normalizePoints(),this.createServerPoints()),i=0;i<this.m_priceAxisViews.length;i++)this.m_priceAxisViews[i].setActive(!1);for(i=0;i<this.m_timeAxisViews.length;i++)this.m_timeAxisViews[i].setActive(!1);this.synchronizeAlert(!e)},n.prototype.paneViews=function(){var e,t;if(this.isSourceHidden())return null;if(1===this._paneViews.length)return[this._paneViews[0]];for(e=[],t=this._paneViews.length-1;t>=0;--t)e.push(this._paneViews[t]);return e},n.prototype._setPaneViews=function(e){this._paneViews=e,this._model.lightUpdate()},n.prototype.dataWindowView=function(){return null},n.prototype.statusView=function(){return null},n.prototype.isSourceHidden=function(){return!this._properties.visible.value()||u.hideAllDrawings().value()&&this.canBeHidden()||!this._isActualInterval||!this._isActualSymbol},n.prototype.isSynchronizable=function(){return!0},n.prototype.priceAxisViews=function(e,t){var i,n,r;return t!==this.priceScale()||this.isSourceHidden()?null:this._model.lineBeingEdited()===this&&(i=this._model.linePointBeingEdited())<this.m_priceAxisViews.length?(r=(n=this.m_priceAxisViews.slice())[i],n.splice(i,1),n.push(r),n):this.m_priceAxisViews},n.prototype.timeAxisViews=function(){var e,t,i;return this.isSourceHidden()?null:this._model.lineBeingEdited()===this&&(e=this._model.linePointBeingEdited())<this.m_timeAxisViews.length?(i=(t=this.m_timeAxisViews.slice())[e],t.splice(e,1),t.push(i),t):this.m_timeAxisViews},n.prototype.updateAllViews=function(){var e,t,i;if(!this._isActualSymbol)return null;if(!this._properties.visible.value())return null;if(null!==(e=this.paneViews()))for(t=e,i=0;i<t.length;i++)t[i].update();for(t=this.m_priceAxisViews,
i=0;i<t.length;i++)t[i].update();for(t=this.m_timeAxisViews,i=0;i<t.length;i++)t[i].update()},n.prototype.setLastPoint=function(e,t){this._lastPoint=this._preparePoint(e,t),this.updateAllViews()},n.prototype.lastPoint=function(){return this._lastPoint},n.prototype.setLastFixedPoint=function(e){this._lastFixedPoint=e,this.updateAllViews()},n.prototype.title=function(){return this.translatedType()},n.prototype.translatedType=function(){return"Line Tool"},n.prototype.name=function(){return"Line Tool"},n._pointSetId=1,n.prototype.start=function(){this.createServerPoints()},n.prototype.createServerPoints=function(){var e,t,i,r,o,s;if(!this._recursiveGuard&&this._isActualSymbol&&this._model.chartApi().connected()&&(this.clearServerPoints(),!this._model.timeScale().isEmpty()&&(0===this._timePoint.length&&this.normalizePoints(),0!==this._timePoint.length))){for(this._currentPointsetId=++n._pointSetId,e=this._model.mainSeries().symbolId(),t=[],i=0;i<this._timePoint.length;i++)r=this._timePoint[i],t.push([r.time_t,r.offset]);o=f(this.properties().interval.value()),s=this,this._model.chartApi().createPointset(this.currentPointsetId(),"turnaround",e,o,t,function(e){s.onData(e)})}},n.prototype.clearServerPoints=function(){null!==this._currentPointsetId&&(this._model.chartApi().removePointset(this.currentPointsetId()),this._currentPointsetId=null)},n.prototype.isBeingEdited=function(){return this===this._model.lineBeingEdited()||this===this._model.sourceBeingMoved},n.prototype.isFixed=function(){return!1},n.prototype.isLocked=n.prototype.isFrozen=function(){return this.properties().frozen&&this.properties().frozen.value()},n.prototype.pointToScreenPoint=function(e){var t,i,n,r,o=this._model.timeScale(),a=this.priceScale(),l=this.ownerSource().firstValue();return!a||a.isEmpty()||o.isEmpty()||null==l?[new s(0,0),new s(0,0)]:(t=o.indexToCoordinate(e.index,!0),i=e.price,n=a.priceToCoordinate(i,l),r=new s(t,n),t=o.indexToCoordinate(e.index,!1),n=a.priceToCoordinate(i,l),[r,new s(t,n)])},n.prototype.screenPointToPoint=function(e){var t=this._model.timeScale(),i=this.priceScale(),n=t.coordinateToIndex(e.x),r=this.ownerSource().firstValue();if(null!==r&&isFinite(r))return{price:i.coordinateToPrice(e.y,r),index:n}},n.prototype.tags=function(){return[this._constructor]},n.prototype._snapPoint45Degree=function(e,t,i){var n,r,o,s,a,l,c,u=this._model.timeScale(),h=u.indexToCoordinate(t.index),d=u.indexToCoordinate(e.index)-h,p=this.m_priceScale,f=t.price,_=e.price,m=this.ownerSource().firstValue(),g=p.priceToCoordinate(f,m),y=p.priceToCoordinate(_,m)-g,v=Math.round(Math.atan2(d,y)/Math.PI*4);2===Math.abs(v)?i||(e.price=f):0===Math.abs(v)||4===Math.abs(v)?i||(e.index=t.index):0===Math.abs(v)||4===Math.abs(v)?i||(e.index=t.index):(n=Math.sqrt(d*d+y*y),r=d<0?-1:1,o=y<0?-1:1,s=Math.max(Math.abs(y),Math.abs(d)),s/=s*Math.sqrt(2)/n,a=Math.round(u.coordinateToIndex(h+s*r)),l=Math.abs(u.indexToCoordinate(a)-h),c=p.coordinateToPrice(g+l*o,m),e.index=a,e.price=c)},n.prototype.createPriceAxisView=function(e){return new a(this,{pointIndex:e})},
n.prototype.version=1,n.prototype.alertId=function(){return this._alertId},n.prototype.setAlert=function(e,t){function i(){!t.noChartSave&&window.saver&&window.saver.saveChartSilently(null,function(e){e&&413===e.status||S.createGoProDialog({feature:"savedChartsForAlertLimit"}).then(function(e){e.open()})},{noDefaultOnFail:!0})}var n=this;return t=t||{},this.canHasAlert()?(n._alertId=parseInt(e),n.hasAlert.setValue(!0),n.getAlert().then(function(e){var t=n._model.hoveredSource()===n,r=n._model.selection().isSelected(n);return e?(n._processAlertHandlers("unsubscribe"),n._processAlertHandlers("subscribe"),e.set("hovered",t),e.set("selected",r),setTimeout(i,0),e):(_.logError("Failed to get alert, alert will not be saved with drawing in chart"),Promise.reject("got_no_alert"))}).catch(function(e){n._processAlertHandlers("unsubscribe"),"not_exists"===e&&n.removeAlert()})):Promise.reject("Line data source can not has alert")},n.prototype.removeAlert=function(){delete this._alertId,delete this._alert,this.hasAlert.setValue(!1)},n.prototype._processAlertHandlers=function(e){var t,i,n,r=this;("unsubscribe"!==(e="subscribe"===e?"subscribe":"unsubscribe")||r._alertCallbacks)&&(i="subscribe"===e?"on":"off",t=r.properties(),n=r._alertCallbacks||{remove:r.removeAlert.bind(r),hovered:function(e,t){var i=r._model.hoveredSource()===r;t&&!i?r._model.setHoveredSource(r):!t&&i&&r._model.setHoveredSource(null)},selected:function(e,t){t&&r._model.selectionMacro(function(e){e.addSourceToSelection(r)})},synchronizeSilently:function(e){r.synchronizeAlert(!1)}},r._alertCallbacks||(r._alertCallbacks=n),r.getAlert().then(function(o){o&&(o[i]("destroy",n.remove),o[i]("change:hovered",n.hovered),o[i]("change:selected",n.selected),t.extendLeft&&t.extendLeft[e](r,n.synchronizeSilently),t.extendRight&&t.extendRight[e](r,n.synchronizeSilently))}))},n.prototype.editAlert=function(e){var t=this;t.hasAlert.value()&&T().then(function(i){i.openEditDialog(t._alertId,{actionSource:e,error:function(e){"not_exists"===e&&t.removeAlert()}})})},n.prototype.getAlert=function(){var e=this;return new Promise(function(t,i){T().then(function(n){n.requestAlert(e._alertId,{success:t,error:i})})})},n.prototype.getAlertSync=function(){if(!this._alertId)return null;var e=C();return e&&e.getAlertSync(this._alertId)||null},n.prototype.synchronizeAlert=function(e){var t=this;t.hasAlert.value()&&setTimeout(function(){function i(){t._alertUndoMode=!0,o.undoToCheckpoint(t._undoCheckpointAlert),setTimeout(function(){t._alertUndoMode=!1,t.localAndServerAlertsMismatch=!1},0)}function n(e){"not_exists"!==e&&i()}var r,o=t._getUndoHistory();t._undoCheckpointAlert||t._alertUndoMode||(r=o.undoStack().pop(),t._undoCheckpointAlert=o.createUndoCheckpoint(),r&&o.undoStack().push(r)),w(t.stateForAlert().interval)?t.getAlert().then(function(i){i?(function(e){var i=e.get("description")!==e.defaultDescription(),n=e.get("extra"),r=n.alertSeries(),o=t._model.mainSeries().stateForAlert();"MainSeries"===r.type&&o.actualSymbol===r.actualSymbol&&(n.mainSeries(o),n.alertSeries(o)),
e.set("resolution",t.stateForAlert().interval),n.drawing(t),i||e.setDefaultDescription(),t.localAndServerAlertsMismatch=!0}(i),e&&function(e){T().then(function(i){i.restartAlert(e,{success:function(){t.localAndServerAlertsMismatch=!1},error:n,complete:function(){delete t._undoCheckpointAlert},actionSource:"drawing_sync"})})}(i)):_.logError("Failed to get alert, drawing and alert are not synchronized")}).catch(n):t._alertUndoMode||(P(),i(),delete t._undoCheckpointAlert)},0)},n.prototype._getUndoHistory=function(){return this._model._undoModel.undoHistory()},n.prototype.stateForAlert=function(){var e,t;return this.canHasAlert()?((e=this.state()).id=this.idForAlert(),e.uniqueId=this.idForAlert(),e.title=this.title(),e.interval=this._model.mainSeries().interval(),(t=this._getAlertPlots())&&(e.plots=t),e):null},n.prototype._getAlertPlots=function(){return null},n.prototype._linePointsToAlertPlot=function(e,t,i,n){if(2!==e.length)return _.logError("[Drawing Alert] Wrong points"),null;var r=this._model.timeScale();return!r||r.isEmpty()?null:{type:"LinePlot",title:t||this.title(),timestamp:r.indexToTimePoint(0),offset1:e[0].index,offset2:e[1].index,price1:e[0].price,price2:e[1].price,extendBackward:i||!1,extendForward:n||!1}},n.prototype.getAlertIsActive=function(){if(!this._alertId)return!1;var e=this.getAlertSync(this._alertId);return Boolean(e&&e.get("active"))},n.prototype.geometry=function(){var e=this,t=function(t){var i=t.x/e._model.timeScale().width(),n=t.y/e.priceScale().height();return new s(i,n)},i=this.points().map(function(i){var n=e.pointToScreenPoint(i)[0];return t(n)});return i},n.prototype.onlyYMoving=function(){return!1},n.prototype.model=function(){return this._model},n.prototype.isForcedDrawPriceAxisLabel=function(){return this.customization.forcePriceAxisLabel},n.prototype.getInputsPropertyPage=function(){return y.LineToolInputsPropertyPage},n.prototype.getVisibilitiesPropertyPage=function(){return y.LineToolVisibilitiesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.resolve(null)},n.prototype.getPropertyDefinitionsViewModel=function(){if(null===this._definitionsViewModel){var e=this;return e._getPropertyDefinitionsViewModelClass().then(function(t){return null===t||e._isDestroyed?null:(null===e._definitionsViewModel&&(e._definitionsViewModel=new t(e._model.undoModel(),e)),e._definitionsViewModel)})}return Promise.resolve(this._definitionsViewModel)},n.prototype.hasEditableCoordinates=function(){return!0},n.prototype.getSourceIcon=function(){return{type:"loadSvg",svgId:"linetool."+this.getType()}},n.prototype.destroy=function(){this.stop(),null!==this._definitionsViewModel&&(this._definitionsViewModel.destroy(),this._definitionsViewModel=null),this._isDestroyed=!0},n.prototype.setOwnerSource=function(e){c.prototype.setOwnerSource.call(this,e),e&&this.setPriceScale(e.priceScale())},n.prototype.getOrderTemplate=function(){return null},n.prototype.copiable=function(){return I},n.prototype.cloneable=function(){return!0},n.prototype.movable=function(){return!0},r={
frozen:!1,visible:!0,intervalsVisibilities:{seconds:!0,secondsFrom:1,secondsTo:59,minutes:!0,minutesFrom:1,minutesTo:59,hours:!0,hoursFrom:1,hoursTo:24,days:!0,daysFrom:1,daysTo:366,weeks:!0,months:!0,ranges:!0}},n._configureProperties=function(t){var i,n;if(t.hasChild("visible")||t.addChild("visible",new e(r.visible)),t.hasChild("frozen")||t.addChild("frozen",new e(r.frozen)),t.addExclusion&&(t.addExclusion("visible"),t.addExclusion("frozen")),t.hasChild("intervalsVisibilities"))for(n in i=o(t.child("intervalsVisibilities")),r.intervalsVisibilities)i.hasChild(n)||i.addChild(n,new e(r.intervalsVisibilities[n]));else t.addChild("intervalsVisibilities",new e(r.intervalsVisibilities));t.hasChild("title")||t.addChild("title",new e("")),t.addExclusion&&(t.addExclusion("symbol"),t.addExclusion("symbolInfo"),t.addExclusion("points"),t.addExclusion("interval"),t.addExclusion("title")),t.hasChild("lastUpdateTime")||(t.addChild("lastUpdateTime",new e(0)),t.addExclusion&&t.addExclusion("lastUpdateTime")),t.hasChild("singleChartOnly")&&t.removeProperty("singleChartOnly")},t.LineToolPriceAxisView=a,t.LineDataSource=n}).call(this,i("tc+8"))},SzKR:function(e,t,i){},T6Of:function(e,t,i){"use strict";var n,r;i.r(t),i.d(t,"LimitedPrecisionNumericFormatter",function(){return r}),n=i("ogJP"),r=function(){function e(e){void 0===e&&(e=1),this._precision=e}return e.prototype.format=function(e){var t,i;return Object(n.isNumber)(e)||(e=parseFloat(e)),t=e.toFixed(this._precision),i=Math.pow(10,-this._precision),Math.max(parseFloat(t),i)+""},e.prototype.parse=function(e){var t=parseFloat(e);return isNaN(t)?{res:!1}:{res:!0,value:t,suggest:this.format(t)}},e}()},T7XC:function(e,t,i){"use strict";var n;i.r(t),i.d(t,"BillingCycle",function(){return n}),function(e){e.Monthly="m",e.ThreeMonths="3m",e.OneYear="y",e.TwoYears="2y",e.ThreeYears="3y",e[1/0]="i"}(n||(n={}))},TBaH:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u;i.r(t),i.d(t,"LineToolGannFixed",function(){return u}),n=i("mrSG"),r=i("aO4+"),o=i("Ss5c"),s=i("LAp3"),a=i("hayr"),l=i("ytGH"),c=window.t("Gann Square Fixed"),u=function(e){function t(n,r){var o,s,a,c,u,h=e.call(this,n,r||t.createProperties())||this;for(h._constructor="LineToolGannFixed",Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("wdUH").GannFixedPaneView;h._setPaneViews([new t(h,h.model())])}.bind(null,i)).catch(void 0),h.properties().childs().reverse.subscribe(h,h._reversePoints),o=[],a=(s=h.properties().childs()).levels.childCount(),c=0;c<a;c++)u=s.levels.childs()[c].childs(),o.push(u.width);for(a=s.fanlines.childCount(),c=0;c<a;c++)u=s.fanlines.childs()[c].childs(),o.push(u.width);for(a=s.arcs.childCount(),c=0;c<a;c++)u=s.arcs.childs()[c].childs(),o.push(u.width);return h._widthsProperty=new l.LineToolWidthsProperty(o),h}return Object(n.__extends)(t,e),t.prototype.pointsCount=function(){return 2},t.prototype.translatedType=function(){return c},t.prototype.name=function(){return"Gann Square Fixed"},t.prototype.properties=function(){return e.prototype.properties.call(this)},
t.prototype.getStylesPropertyPage=function(){return a.propertyPages.LineToolGannFixedStylesPropertyPage},t.prototype.axisPoints=function(){var e=this.points(),t=this.getScreenPoints();return e.length<2||t.length<2?[]:[e[0],this.screenPointToPoint(t[1])]},t.prototype.getScreenPoints=function(){var e,t,i,n,o,s,a,l,c,u,h=this.points();return h.length<2?[]:null===(e=this._calcAngle())?[]:(t=h[0],i=h[1],n=this.pointToScreenPoint(t)[0],o=this.pointToScreenPoint(i)[0],s=Math.sqrt(Math.pow(n.x-o.x,2)+Math.pow(n.y-o.y,2)),c=(l=(a=new r.Point(Math.cos(e),-Math.sin(e))).normalized()).x<0?-1:1,u=l.y<0?-1:1,[n.addScaled(a,s),n.add(new r.Point(5*s*c,5*s*u))])},t.prototype.levelsCount=function(){return this.properties().childs().levels.childCount()},t.prototype.levels=function(){var e,t,i=[],n=this.properties().childs(),r=n.levels.childCount();for(e=0;e<r;e++)t=n.levels.childs()[e].childs(),i.push({index:e,visible:t.visible.value(),color:t.color.value(),width:t.width.value()});return i},t.prototype.fanLinesCount=function(){return this.properties().childs().fanlines.childCount()},t.prototype.fanLines=function(){var e,t,i=[],n=this.properties().childs(),r=n.fanlines.childCount();for(e=0;e<r;e++)t=n.fanlines.childs()[e].childs(),i.push({index:e,visible:t.visible.value(),x:t.x.value(),y:t.y.value(),color:t.color.value(),width:t.width.value()});return i},t.prototype.arcsCount=function(){return this.properties().childs().arcs.childCount()},t.prototype.arcs=function(){var e,t,i=[],n=this.properties().childs(),r=n.arcs.childCount();for(e=0;e<r;e++)t=n.arcs.childs()[e].childs(),i.push({index:e,visible:t.visible.value(),x:t.x.value(),y:t.y.value(),color:t.color.value(),width:t.width.value()});return i},t.prototype.arcsBackgroundTransparency=function(){return this.properties().childs().arcsBackground.childs().transparency.value()},t.prototype.isArcsBackgroundFilled=function(){return this.properties().childs().arcsBackground.childs().fillBackground.value()},t.createProperties=function(e){var i=Object(s.a)("linetoolgannfixed",e);return t._configureProperties(i),i},t.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(i.bind(null,"WfUZ")).then(function(e){return e.GannComplexAndFixedDefinitionsViewModel})},t._configureProperties=function(e){o.LineDataSource._configureProperties(e)},t.prototype._calcAngle=function(){var e,t,i,n,r,o=this.points();return o.length<2?null:(e=o[0],t=o[1],i=this.pointToScreenPoint(e)[0],(n=this.pointToScreenPoint(t)[0].subtract(i)).length()<=0?null:(n=n.normalized(),r=Math.acos(n.x),n.y>0&&(r=-r),r))},t.prototype._reversePoints=function(){var e=this._points,t=e[0],i=e[1];this._points[0]=i,this._points[1]=t,this.normalizePoints(),this.restart()},t}(o.LineDataSource)},TG9i:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h,d,p;i.r(t),i.d(t,"HHistDataWindowView",function(){return p}),n=i("mrSG"),r=i("Eyy1"),o=i("ivNn"),s=i("4miz"),a=i("nEwK"),l=i("qFKp"),c=i("e92V"),u=i("mMWL"),h=l.CheckMobile.any(),d=window.t("n/a"),
p=function(e){function t(t,i){var n,o,a,l,c,u,h=e.call(this)||this;if(h._invalidated=!0,h._study=t,h._model=i,h._header=h._study.title(!0),void 0===(n=h._study.metaInfo().graphics.hhists))return h;for(a in o=0,n)n.hasOwnProperty(a)&&(l=Object(r.ensureDefined)(n[a])).titles.length>o&&(o=l.titles.length);for(o>1&&o++,c=h._na(),u=0;u<o;u++)h._items.push(new s.DataWindowItem("",c));return h.update(),h}return Object(n.__extends)(t,e),t.prototype.items=function(){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._items},t.prototype.update=function(){this._invalidated=!0},t.prototype.study=function(){return this._study},t.prototype._hideValues=function(){return h&&(null===this._model.crossHairSource().pane||Object(c.a)(u.tool.value())||null!==this._model.lineBeingEdited())},t.prototype._na=function(){var e=this._hideValues();return this._study.isVisible()&&!e?d:""},t.prototype._setNa=function(){var e,t,i,n=this._hideValues(),r=this._na();for(e=0,t=this._items;e<t.length;e++)(""!==(i=t[e]).value()||n)&&(i.setTitle(""),i.setValue(r),i.setColor(void 0))},t.prototype._updateImpl=function(){var e,t,i,n,r,s,l,c,u,h,d;this._header=this._study.title(!0),this._title=this._study.title(),e=this._study.priceScale(),t=this._model.timeScale(),null===e||e.isEmpty()||t.isEmpty()?this._setNa():(n=(i=this._model.crossHairSource()).appliedIndex(),r=i.price,s=this._study.graphics().hhistsByTimePointIndex(),null!==(l=function(e,t,i){var n,r,o,s;return 0===e.size?null:null===(n=function(e,t){var i=null;return e.forEach(function(e,n){n<=t&&(null===i||n>i)&&(i=n)}),i}(e,t))?null:(r=e.get(n))&&0!==r.size?(o=i,s=null,r.forEach(function(e){e.priceLow<=o&&o<e.priceHigh&&(s=e)}),s):null}(s,n,r))&&void 0!==(c=this._study.metaInfo().graphics.hhists)&&void 0!==(u=c[l.styleId])&&(h=this._study.properties().child("graphics").child("hhists").child(l.styleId),d=new a.VolumeFormatter,this._items.forEach(function(e,t,i){var n,r;if(!(t<h.colors.childCount()))return l.rate.length>1&&t===h.colors.childCount()?(r=l.rate.reduce(function(e,t){return e+t},0),e.setValue(d.format(r)),void e.setColor(h.valuesColor.value())):void e.setValue("");t<l.rate.length?(n=l.rate[t],e.setTitle(u.titles[t]),e.setValue(Object(o.isNumber)(n)?d.format(n):""),e.setColor(h.colors[t].value())):(e.setTitle(""),e.setValue(""),e.setColor(void 0))})))},t}(s.DataWindowView)},TMWk:function(e,t,i){"use strict";function n(e,t,i,n){s.call(this,e,t,i,n),this._underlyingData=new a(l(n))}var r=i("Eyy1").assert,o=i("ogJP").clone,s=i("GVHu").Study,a=i("k9/m").PlotList,l=i("w4Ji").studyPlotFunctionMap;inherit(n,s),n.prototype.clearData=function(){s.prototype.clearData.call(this),this._underlyingData.clear()},n.prototype._mergeData=function(e){var t,i;this._invalidateLastNonEmptyPlotRowCache(),t=this._underlyingData.firstIndex(),this._underlyingData.merge(e),t!==this._underlyingData.firstIndex()&&(this.m_data=new a(l(this._metaInfo),function(e,t){return null==e[t]})),i=this.m_data.lastIndex(),this._underlyingData.range(i,this._underlyingData.lastIndex()).each(function(e,t){
return this.m_data.add(e,o(t)),!1}.bind(this)),this._plotsForStrategyProcessing().forEach(function(e){this._createStrategy(e.strategy,e.strategyIndex,e.targetIndex,i).rebuildData(this.m_data)},this)},n.prototype._plotsForStrategyProcessing=function(){var e=["dataoffset"],t=[];return this._metaInfo.plots.forEach(function(i,n){var o,s,a=e.indexOf(i.type)>-1;a&&(o=null,this._metaInfo.plots.forEach(function(e,t){e.id===i.target&&(o=t)}),r(o>=0,"target plot not found for strategy plot "+i.id),s={strategy:i.type,strategyIndex:n,targetIndex:o},t.push(s))},this),t},n.prototype._createStrategy=function(e,t,i,r){return new n["Strategy_"+e](t,i,r)},n.Strategy_dataoffset=function(e,t,i){this._strategyPlotIndex=e,this._targetPlotIndex=t,this._startIndex=i},n.Strategy_dataoffset.prototype.rebuildData=function(e){var t=this._targetPlotIndex+1,i=this._strategyPlotIndex+1,n=null,r=null;e.range(this._startIndex||e.firstIndex(),e.lastIndex()).each(function(o,s){var a,l,c,u=s[t],h=s[i]?Math.round(s[i]):null;return s[t]=null,s[i]=null,!(!h||h>0)&&(l={pointIndex:a=o+h,value:u},r?r.pointIndex!==l.pointIndex&&(a>=0&&(e.valueAt(a)[t]=u),c=!1,n&&(c=n.value<=r.value&&r.value<=u||n.value>=r.value&&r.value>=u),c?r.pointIndex>=0&&(e.valueAt(r.pointIndex)[t]=null):n=r,r=l):r=l,!1)})},t.study_ScriptWithDataOffset=n},TQMj:function(e,t,i){"use strict";function n(e){return e<10?"0"+e:e.toString()}var r,o,s,a,l,c,u,h,d,p,f,_,m;i.r(t),r=i("mrSG"),o=i("Eyy1"),s=i("LxhU"),a=i("KcY8"),l=i("Kxc7"),c=i("oXaB"),u=i("+GxX"),i.d(t,"SeriesPriceAxisView",function(){return m}),h=l.enabled("countdown"),d=Object(u.isFeatureEnabled)("server-side-countdown"),p=l.enabled("price_scale_always_last_bar_value"),f=[0,1,2,3,9,8],_=l.enabled("force_exchange_as_title"),m=function(e){function t(t,i){var n=e.call(this)||this;return n._source=t,n._data=i,n}return Object(r.__extends)(t,e),t.prototype._getSource=function(){return this._source},t.prototype._getData=function(){return this._data},t.prototype._isCountdownEnabled=function(){return h},t.prototype._countdownText=function(){var e,t,i,r,a,l,c,u,h;return d?null===(e=this._source.barCloseTime())?"":function(e,t){var i,r,o,s,a;return void 0===t&&(t=Date.now()/1e3),(i=Math.ceil(e-t))<=0?"":i<3600?(r=Math.floor(i/60),o=Math.ceil(i%60),n(r)+":"+n(o)):i<86400?(s=Math.floor(i/3600),i%=3600,r=Math.floor(i/60),i%=60,o=Math.ceil(i),n(s)+":"+n(r)+":"+n(o)):(a=Math.floor(i/86400),i%=86400,24===(s=Math.ceil(i/3600))&&(s=0,a+=1),a+"d "+s+"h")}(e,this._currentTime()/1e3):(t=s.Interval.parse(this._source.interval())).isDWM()||t.isSeconds()&&1===t.multiplier()?"":(i=1e3*Object(o.ensure)(Object(o.ensureNotNull)(this._source.data().bars().last()).value[0]),r=s.Interval.parse(this._source.interval()).inMilliseconds(),a=i.valueOf()+r,(l=Math.round((a-this._currentTime())/1e3))<=0?"":(c=null,(l=Math.min(l,r/1e3))>=3600&&(c=n(Math.floor(l/3600))),l%=3600,u=n(Math.floor(l/60)),l%=60,h=n(Math.floor(l)),null!==c?c+":"+u+":"+h:u+":"+h))},t.prototype._updateRendererData=function(e,t,i){var n,r,o,s,a,l,u,d,_,m,g,y;e.visible=!1,t.visible=!1,
12!==(n=this._source.properties()).style.value()&&(o=(r=this._data.model.properties().scalesProperties).showSeriesLastValue.value(),s=h&&-1!==f.indexOf(n.style.value())&&n.showCountdown.value(),a=r.showSymbolLabels.value(),l=r.seriesLastValueMode.value()===c.PriceAxisLastValueMode.LastPriceAndPercentageValue,(u=this._source.lastValueData(void 0,p)).noData||(d=8===n.style.value(),(o||s||a)&&d&&n.haStyle.showRealLastPrice.value()&&(_=this._source.lastValueData(void 0,!1),m=this._source.lastValueData(void 0,!0),_.noData||m.noData||_.index!==m.index||(o=!1,s=!1,a=!1)),(o||s)&&(g=this._axisFirstLineText(u,o,l),y=s?this._countdownText():"",0===g.length?(e.text=y,e.secondLine=""):(e.text=g,e.secondLine=y),0===g.length&&0===y.length||(e.visible=!0)),(a||l)&&(t.text=this._paneText(u,o,a,l),t.visible=t.text.length>0),i.background=this._source.priceLineColor(u.color),i.color=this.generateTextColor(i.background),i.coordinate=u.coordinate,i.floatCoordinate=u.floatCoordinate))},t.prototype._paneText=function(e,t,i,n){var r,o,s="";return _?s+=(r=this._source.symbolInfo())?r.exchange+" ":"":i&&((o=this._source.getSymbolName()).length>40&&(o=o.substr(0,37)+"..."),s+=o+" "),t&&n&&(s+=this._source.priceScale().isPercentage()?e.formattedPriceAbsolute:e.formattedPricePercentage),s.trim()},t.prototype._axisFirstLineText=function(e,t,i){return t?i?this._source.priceScale().isPercentage()?e.formattedPricePercentage:e.formattedPriceAbsolute:e.text:""},t.prototype._currentTime=function(){return Date.now()+1e3*this._source.serverTimeOffset()},t}(a.a)},TSYQ:function(e,t,i){var n;!function(){"use strict";function i(){var e,t,n,o,s,a=[];for(e=0;e<arguments.length;e++)if(t=arguments[e])if("string"===(n=typeof t)||"number"===n)a.push(t);else if(Array.isArray(t)&&t.length)(o=i.apply(null,t))&&a.push(o);else if("object"===n)for(s in t)r.call(t,s)&&t[s]&&a.push(s);return a.join(" ")}var r={}.hasOwnProperty;e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},TTFo:function(e,t,i){"use strict";function n(e,t){return t<0&&(e=-e),e/100*t+t}function r(e,t){var i=100*(e-t)/t;return t<0?-i:i}function o(e,t){var i=r(e.minValue(),t),n=r(e.maxValue(),t);return new h.PriceRange(i,n)}function s(e,t){return t<0&&(e=-e),(e-=100)/100*t+t}function a(e,t){var i=100*(e-t)/t+100;return t<0?-i:i}function l(e,t){var i=a(e.minValue(),t),n=a(e.maxValue(),t);return new h.PriceRange(i,n)}function c(e){var t,i=Math.abs(e);return i<1e-8?0:(t=Object(d.log10)(i+1e-4)+4,e<0?-t:t)}function u(e){var t,i=Math.abs(e);return i<1e-8?0:(t=Math.pow(10,i-4)-1e-4,e<0?-t:t)}var h,d;i.r(t),i.d(t,"fromPercent",function(){return n}),i.d(t,"toPercent",function(){return r}),i.d(t,"toPercentRange",function(){return o}),i.d(t,"fromIndexedTo100",function(){return s}),i.d(t,"toIndexedTo100",function(){return a}),i.d(t,"toIndexedTo100Range",function(){return l}),i.d(t,"toLog",function(){return c}),i.d(t,"fromLog",function(){return u}),h=i("Qb4w"),d=i("Hr11")},TcSq:function(e,t,i){"use strict";function n(e){return e===r(e)}function r(e){
var t=e.indexOf("$"),i=e.indexOf("@");return t<0&&i>=0?null:e.substring(Math.max(t+1,0),i>=0?i:e.length)}function o(e){return e.startsWith("PUB;")}function s(e){return e.startsWith("USER;")}function a(e){return e.startsWith("STD;")}i.r(t),i.d(t,"isPineIdString",function(){return n}),i.d(t,"extractPineId",function(){return r}),i.d(t,"isPublishedPineId",function(){return o}),i.d(t,"isCustomPineId",function(){return s}),i.d(t,"isStandardPineId",function(){return a})},TmNs:function(e,t,i){"use strict";var n,r,o,s,a,l;i.r(t),i.d(t,"PriceLineAxisView",function(){return s}),i.d(t,"SeriesPriceLineAxisView",function(){return a}),i.d(t,"StudyPriceLineAxisView",function(){return l}),n=i("mrSG"),r=i("KcY8"),o=i("HL4j"),s=function(e){function t(){return e.call(this,o.PriceLineAxisRenderer)||this}return Object(n.__extends)(t,e),t.prototype._updateRendererData=function(e,t,i){if(t.visible=!1,e.visible=!1,this._isVisible()){var n=this._value();n.noData||(i.background="",i.color=this._priceLineColor(n.color),i.coordinate=n.coordinate,i.floatCoordinate=n.floatCoordinate,e.linewidth=this._lineWidth(),e.visible=!0)}},t}(r.a),a=function(e){function t(t){var i=e.call(this)||this;return i._series=t,i}return Object(n.__extends)(t,e),t.prototype._value=function(){return this._series.lastValueData(void 0,!0)},t.prototype._priceLineColor=function(e){return this._series.priceLineColor(e)},t.prototype._lineWidth=function(){return this._series.properties().priceLineWidth.value()},t.prototype._isVisible=function(){var e=this._series.model().properties().scalesProperties,t=e.showSeriesLastValue.value();return this._series.properties().showPriceLine.value()&&t},t}(s),l=function(e){function t(t,i){var n=e.call(this)||this;return n._study=t,n._plotname=i,n}return Object(n.__extends)(t,e),t.prototype._value=function(){return this._study.lastValueData(this._plotname,!0)},t.prototype._lineWidth=function(){return this._study.properties().styles[this._plotname].linewidth.value()},t.prototype._priceLineColor=function(e){return e},t.prototype._isVisible=function(){var e=this._study.model().properties().scalesProperties,t=e.showStudyLastValue.value();return this._study.properties().styles[this._plotname].trackPrice.value()&&t},t}(s)},Tmoa:function(e,t,i){"use strict";function n(e,t,i){var n,r,s,a,c;return t=t||0,l(e)?(r=(n=Object(u.parseRgb)(e))[0],s=n[1],a=n[2],c=Object(u.normalizeAlphaComponent)(o(t)),Object(u.rgbaToString)([r,s,a,c])):i?Object(u.rgbaToString)(Object(u.rgba)(Object(u.parseRgb)(e),Object(u.normalizeAlphaComponent)(o(t)))):e}function r(e){return 100*(1-e)}function o(e){if(e<0||e>100)throw new Error("invalid transparency");return 1-e/100}function s(e){return l(e)?e:Object(u.rgbaToString)(Object(u.rgba)(Object(u.parseRgb)(e),Object(u.normalizeAlphaComponent)(1)))}function a(e){var t=Object(u.parseRgb)(e).map(function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function l(e){return 0===e.indexOf("#")}function c(e){
return"black"===Object(u.rgbToBlackWhiteString)(Object(u.parseRgb)(e),150)?"white":"black"}var u;i.r(t),i.d(t,"generateColor",function(){return n}),i.d(t,"alphaToTransparency",function(){return r}),i.d(t,"transparencyToAlpha",function(){return o}),i.d(t,"resetTransparency",function(){return s}),i.d(t,"getLuminance",function(){return a}),i.d(t,"isHexColor",function(){return l}),i.d(t,"colorFromBackground",function(){return c}),u=i("eJTA")},TohL:function(e,t,i){"use strict";function n(e,t){var r=t||n.createProperties();l.call(this,e,r),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(t){var n=i("mr3a").TextPaneView,r=i("5Dp4").MarkPaneView,o=[new r(this,e,this.image,this.width,this.height,this.offsetX,this.offsetY)],s=this._createTextPaneView(n);null!==s&&o.push(s),this._setPaneViews(o)}.bind(this).bind(null,i)).catch(i.oe)}function r(e,t){this._constructor="LineToolArrowMarkLeft",n.call(this,e,t)}function o(e,t){this._constructor="LineToolArrowMarkUp",n.call(this,e,t)}function s(e,t){this._constructor="LineToolArrowMarkRight",n.call(this,e,t)}function a(e,t){this._constructor="LineToolArrowMarkDown",n.call(this,e,t)}var l=i("Ss5c").LineDataSource,c=i("tc+8"),u=i("Ocx9").DefaultProperty,h=i("hayr").propertyPages,d=window.t("Arrow Mark"),p=window.t("Arrow Mark Left"),f=window.t("Arrow Mark Up"),_=window.t("Arrow Mark Right"),m=window.t("Arrow Mark Down");inherit(n,l),n.prototype.width=21,n.prototype.height=21,n.prototype.offsetX=0,n.prototype.offsetY=0,n.prototype.paneViews=function(){var e=l.prototype.paneViews.call(this);return null!==e&&this._textPaneView&&e.push(this._textPaneView),e},n.prototype.pointsCount=function(){return 1},n.prototype.translatedType=function(){return d},n.prototype.name=function(){return"Arrow Mark"},n.prototype.getStylesPropertyPage=function(){return h.LineToolArrowMarkStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("5sLb").ArrowMarkDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.prototype.template=function(){var e=l.prototype.template.call(this);return e.text=this.properties().childs().text.value(),e},n.prototype._applyTemplateImpl=function(e){l.prototype._applyTemplateImpl.call(this,e),this.properties().childs().text.setValue(e.text)},n.prototype._createTextPaneView=function(e){return null},n.createProperties=function(e){var t=new u("linetoolarrowmark",e);return n._configureProperties(t),t},n._configureProperties=function(e){l._configureProperties(e),e.hasChild("text")||e.addChild("text",new c("")),e.addExclusion("text")},inherit(r,n),r.prototype.image=new Image,
r.prototype.image.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAB50lEQVR4AWMgETAKKAgIAGkQ5mCgAmCWdtTWV4yxvgFkWwKxOKUGssr5Gccrx9t+Vk6w+w/kxwKxIrmGMTKIivIohFvONKsI+e/cl/ofamgGECuTYyCTqJ2mqlK01Vnr+uj/HjNy/1v1J8AMzSTHUBYZP6MgpTjb97bNsf9dpmf9N++J/W/UEQEztAiIbUEGo2EpIObE8C4oVuVDzLuBmv869aT8t5+c+t+0K/q/YXs4GGsWeIAMRscwy/yhBiO8K2ijJKcYZXXYuj7qv/u0nP/W/Yn/jTsjQYYRwliDhUXKy8BVKdbmuW1T7H+3Gdn/LXrjQN4FaSDLUBa5MItyoOAvp67k/45T0pC9S56hSrHWhY4tif9D5pUDXZjz36w7Blkx+S5VDLNoBUWMY3fKfwdExMAw+WEq7Wvkoxhn+waUhFwRSYhcQxGxL26jpqQYbX3CBpjY3aeDYj+BothHpFNxcW75cIvJpmXB/516Uv/bT0r5b9IVRUY6xQSssr6GkcAc9dGuNe6/y7RMMnMUJmCWcNTSBgbHZeuG6P+eM/P+W/VRlPcRwSGoJMgvH265yKIq/L9LfzqKoZSXp0Em6cDy9BvU0Dhyy1PM4PAwMFWKs7kFZFsBsQQDlQAjr4a0MJAWxFdHAQAcI3sGHsO1dgAAAABJRU5ErkJggg==",r.prototype.offsetX=1,r.prototype.offsetY=-10,r.prototype.translatedType=function(){return p},r.prototype.name=function(){return"Arrow Mark Left"},r.prototype._createTextPaneView=function(e){var t=new e(this,this._model,22,3,"middle","left");return t.disableSelection(),t},r.createProperties=function(e){return n.createProperties(e)},inherit(o,n),o.prototype.image=new Image,o.prototype.image.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAACBklEQVR4AWMgErAoxVoXgmgGKgEWxTCLVseWxP9yYRbl1DCYSdrXyEc5we5vyLzy/0D6l5SXgStInFwDGcVt1JQU42zfOHan/HebkfPfqSv5v1KszXNBGyU5kDzpRoqLcytGW5+wbY797zA59b9Zd8x/xylp/22bYv8rRlkdBqrgINVIVvlwi8k29dH/Xadn/Tftiv5v2B4Opt1mZP+3ro/6Lx9i3k1K+DLL+hpGmpYF/3efnvPfvCcWZCAcW/TG/XeflvMfFM4yfkZBxIQvo4SjlrZSnO1Hp57U/9b9Cf+NOiKQDQXxgeKJ/516Uv4D1b0XtdNUxRu+gkqC/MBwvGzXGvffflLKf+POSISBCAwWtweGMyi8laKtzjKIivLgCUfLRdYN0f9dpmX+N+mKghiCieHh6wIMb2tguCuEW84E6ccIR7kgk3SLqvD/njPzYOFICIPVeczI/W9WEfJfzs84HmQOIhw9DEyV422/ufSn/7fqg4cjIQxWZwUMd+e+1P9A/Z+lHbX1weHLqyEtrBRncwsYm/+RsWaBBz4DwfLoehRjrG8IKAgIgOMHiK2AOA6IM6G4CKgIr6EgeZA6qPoMII4FYksgFmCA5gwJIFYEYmUotiXSUFuYHqh+cXw5TZlIQ5WxaR4mhuLBZBkqBcT+oJjFg/3B6kgAnFANyniwFEQdJgAAOuN7Bp7MBuYAAAAASUVORK5CYII=",o.prototype.offsetX=-9,o.prototype.offsetY=0,o.prototype.translatedType=function(){return f},o.prototype.name=function(){return"Arrow Mark Up"},o.prototype._createTextPaneView=function(e){var t=new e(this,this._model,0,18,"top","center");return t.disableSelection(),t},o.createProperties=function(e){return n.createProperties(e)},inherit(s,n),s.prototype.image=new Image,
s.prototype.image.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAB60lEQVR4AWPAAziAWJBXQ1oYSDMyUAlIALGVUpzNLQkPA1Mgm5kahioCcZxygt1/5Xjbb3JBJulAPiulhioDcSbIUJf+9P8WVeH/5cMtFwkqCfKDgoNiQ636Ev57zsz7b90Q/V8x2vqyhKOWNqHg4ARiKZAhaNgWiItAhhp1RPw374n97zIt879da9x/pTjbj7K+hpE4gwNqoD9IMzasWeDx37A9HIxNuqL+209K+e/Uk/rftCwYGBwWkxnExbkRwYHpTZBGgti4M/K/dX/Cf/fpOf9t6sHBcULcRk0JaAYT6YYiMDw4XKdn/bdtjv2vGGf7RtrXyAdoDguZhiKwaVf0f4fJqf8du1NAQfVXMcyiFWQwmYYisFl3zH+3GTn/Q+aV/3dsSfyvFGtdSLFLHaek/XfqSga59JdcmEU5yKVkh6lFbxzQhdn/bZtiga6zeS7lZeAKMpCC2E/87z4t5791fdR/xSirw4I2SnKg2CcxnSK8aw+MGKceSMTIh5h3Q0szRvJzFCQJgXLUexk/oyCQd8nP+8DE7jEjF+jd6P9K0VZnRe00VWHeJcfQDJChzn2p/80qQv4rhFvOZBAV5QF5l5LyNBZann6W8zOOp0Z5Kg7Eloox1jekHbX1qVLyQ2NVQEBBQIBU7wIAOFZ7BmG7RzYAAAAASUVORK5CYII=",s.prototype.offsetX=-19,s.prototype.offsetY=-10,s.prototype.translatedType=function(){return _},s.prototype.name=function(){return"Arrow Mark Right"},s.prototype._createTextPaneView=function(e){var t=new e(this,this._model,22,3,"middle","right",!0);return t.disableSelection(),t},s.createProperties=function(e){return n.createProperties(e)},inherit(a,n),a.prototype.image=new Image,a.prototype.image.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAB/UlEQVR4AWPAATj3Wij8J4RB6hhIAFIgTS9a8nBhmKFSpBiqDNJ0P80PF4YZqkyyobfD7HDh4WJolaKY+G5zhXvoMXva2xifoWB5dD07zeTvFKvxioDMFY6RFUgEGvzzQVk8OGafVib9v5fkhc9QkDxIHVj9vaKY/7vM5b+HS/JFA80TAhnKA8TGZSoiS057GYFiFqzhTpQTPkNB8iB1YPUnPQz+5ykKzQGaYwjE3CBDmUCuBWKHabqSZ0656oI0EY1B6idoSx4F6reDupIJFrTMQCwtxsYcvNZY5uU5T0OiDDwLdOFKI9knvMzM/kD9kmBz0AAbEKs6iHAX7zSX/3nF3xyvgZd8Tf9vM5P/ZiXAmQdNBazYEgIjEHOBwiVHXmjWcSctnAbeDLH5f8xR83+SjNBEoHo9sD4owGWwIBDb9mtJHMIVviDxDg3x3UB11kDMD9ZHADCDwkeAmdlvhZHMI2C4oRh4xl3//1IDmbvszAxeQHXiUPWEATR8lE0EubJB4QYMP7CBF31M/m82k/usy8uRCpRXAKsjEXCCwiteVqD/qIPG/+tBVv/3WCj8C5Pi7wCKawMxBwMZgBEaXlbtGuI7T7ro/G9QFdsI5JsDMR/+cCQcvuLsLAzubRoSa4FsJyAWBSdwsgEifKVBXoYmcBYGagCoQZzEGggAoyq6zKXuV5gAAAAASUVORK5CYII=",a.prototype.offsetX=-9,a.prototype.offsetY=-18,a.prototype.translatedType=function(){return m},a.prototype.name=function(){return"Arrow Mark Down"},a.prototype._createTextPaneView=function(e){var t=new e(this,this._model,0,18,"bottom","center");return t.disableSelection(),t},a.createProperties=function(e){return n.createProperties(e)},s.prototype.version=r.prototype.version=a.prototype.version=o.prototype.version=2,t.LineToolArrowMark=n,t.LineToolArrowMarkLeft=r,t.LineToolArrowMarkRight=s,t.LineToolArrowMarkUp=o,t.LineToolArrowMarkDown=a},TrvT:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u;i.r(t),i.d(t,"CompareDataWindowView",function(){return u}),n=i("mrSG"),r=i("it7y"),o=i("e92V"),s=i("mMWL"),a=i("qFKp"),l=i("ogJP"),c=a.CheckMobile.any(),u=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._studyCompare=t,n}return Object(n.__extends)(t,e),t.prototype._updateImpl=function(){e.prototype._updateImpl.call(this),this._items[0].setTitle(this._studyCompare.guiPlotName(""))},t.prototype._hideValues=function(){return!1},t.prototype._currentIndex=function(){
var e,t=this._model.crossHairSource().lockedIndex,i=c&&(null===this._model.crossHairSource().pane&&void 0===t||Object(o.a)(s.tool.value())||null!==this._model.lineBeingEdited());return i?e=this._study.data().lastIndex():(e=this._model.crossHairSource().appliedIndex(),Object(l.isNumber)(e)||(e=this._study.data().lastIndex())),e},t}(r.StudyDataWindowView)},TxTq:function(e,t,i){"use strict";var n=i("0waE"),r=i("FBuY").TVXWindowEvents,o=i("PC8g").trackEvent,s=i("VVxS").TVLocalStorage,a=i("a4Nd").PushStream,l=i("PfBM").ConnectionStatus,c=i("xlbu").telemetry,u=i("uOxu"),h=u.getLogger,d=u.getRawLogHistory,p="PushStreamMultiplexer",f=h(p),_=function(){var e,t=null,i=null,u={},h={},_=[],m=null,g="multiplexer-bc-",y="pushStreamMultiplexerState.",v="private_",b=l.Closed,S=l.Closed,w=!1,P={_codeParams:function(e){return(e=Array.prototype.slice.call(e)).push((new Date).getTime()),JSON.stringify(e)},_decodeParams:function(e){var t=JSON.parse(e);return t.pop(),t},guid:n.guid(),_init:function(){if(this._needInstantiating())this._instantiatePushStream();else{var e=this._decodeConnectionStatus(s.getItem(this._connectionStatusKey));b=e[0],S=e[1]}setTimeout(function(){P.isConnected()||(f.logNormal("Not connected for a while after init..."),o("pushstream","not connected after init",navigator.userAgent))},P._activityTimeout)},_instantiatePushStream:function(e){this._setMark(),t&&(o("PushstreamDoublePublic",window.user&&window.user.username||"Guest",navigator.userAgent),t.disconnect()),(t=new a(this._dispatchMessage.bind(this),{url:window.PUSHSTREAM_URL,urlPath:"message-pipe-ws"})).connectionStatus().subscribe(function(e){this._dispatchStatusChange(e,S)}.bind(this)),i&&(o("PushstreamDoublePrivate",window.user&&window.user.username||"Guest",navigator.userAgent),i.disconnect()),(i=new a(this._dispatchMessage.bind(this),{url:window.PUSHSTREAM_URL,urlPath:"message-pipe-ws"})).connectionStatus().subscribe(function(e){this._dispatchStatusChange(b,e)}.bind(this)),this.on("pushstream_set_user_channel",function(e){this._setUserChannel(e)}.bind(this)),this._connectChannels(e)},_destructPushStream:function(){var e=t;t=null,e.disconnect(),e=i,i=null,e.disconnect(),this._dispatchStatusChangeFromOther(s.getItem(this._connectionStatusKey))},_activityTimeout:5e3,_delayTimeout:2e4,_pulseActivity:function(){this.ownPushStream()?this._lostOwn()?(f.logNormal("Lost own pushstream connection"),c.sendReport("site","pushstream_lost_own"),this._destructPushStream()):this._setMark():this._needInstantiating()&&!w&&(f.logNormal("Creating pushstream connection, because other tab lost it"),c.sendReport("site","pushstream_pick_up"),this._instantiatePushStream(this.getChannels()))},_markName:y+"mark",_lostOwn:function(){var e=s.getItem(this._markName);return!!e&&(e=this._decodeParams(e))[0]!==this.guid},_getMark:function(){return this._decodeParams(s.getItem(this._markName))},_setMark:function(){s.setItem(this._markName,this._codeParams([this.guid,(new Date).getTime()]))},_unsetMark:function(){s.setItem(this._markName,"")},_needInstantiating:function(){
var e,t=s.getItem(this._markName);return!t||(e=(t=this._decodeParams(t))[1],(new Date).getTime()-e>this._delayTimeout)},_onRequestRecreate:function(e){if(!this.ownPushStream()&&this._needInstantiating()){var t=this._decodeParams(e)[0];f.logNormal("Creating pushstream connection after recreate request"),this._instantiatePushStream(t)}},_onUnload:function(){this.ownPushStream()&&(this._unsetMark(),this._sendRecreateRequest())},_getChannels:function(){return t.getChannels().concat(i.getChannels())},_channelsName:y+"channels",_getChannelsFromStorage:function(){var e=s.getItem(this._channelsName);return e?JSON.parse(e):[]},getChannels:function(){return this.ownPushStream()?this._getChannels():this._getChannelsFromStorage()},_storeChannels:function(){s.setItem(this._channelsName,JSON.stringify(this._getChannels()))},_sendRecreateRequest:function(){var e=this._getChannels();r.emit(this._xEventRecreate,this._codeParams([e]))},ownPushStream:function(){return!!t||!!i},pushStream:function(){if(!this.ownPushStream())throw new Error("Not own PushStream");return t},isConnected:function(){return b>0},status:function(){return b||l.Closed},statusPrivate:function(){return S||l.Closed},_userChannel:function(e){return v+e},userChannel:function(){if(!m)throw new Error("No user channel");return this._userChannel(m)},_xEventRecreate:g+"recreate",_xEventSend:g+"send",_xEventChannelAdd:g+"channelAdd",_xEventChannelRemove:g+"channelRemove",_xEventRequiredChannels:g+"requirech",_xEventConnectionStatus:g+"connectionStatus",_xEventReconnectCommand:g+"reconnectCommand",_xEventRequestLogs:g+"requestLogs",_xEventShareLogs:g+"shareLogs",_shareLogsKey:y+"shareLogs",_connectionStatusKey:y+"connectionStatus",_addChannel:function(e){var n=e.startsWith(v)?i:t;n.hasChannel(e)||(n.addChannel(e),this._storeChannels())},addChannel:function(e){this.ownPushStream()?this._addChannel(e):r.emit(this._xEventChannelAdd,this._codeParams([e]))},_addChannelFromOther:function(e){var t=this._decodeParams(e)[0];this.ownPushStream()&&this._addChannel(t)},_removeChannel:function(e){var n=e.startsWith(v)?i:t;n.hasChannel(e)&&(n.removeChannel(e),this._storeChannels())},removeChannel:function(e){this.ownPushStream()?this._removeChannel(e):r.emit(this._xEventChannelRemove,this._codeParams([e]))},_removeChannelFromOther:function(e){var t=this._decodeParams(e)[0];this.ownPushStream()&&this._removeChannel(t)},_connectChannels:function(e){t.addChannel("public"),void 0!==e&&e.length>0&&e.forEach(function(e){e.startsWith(v)||t.hasChannel(e)||t.addChannel(e)}),"is_authenticated"in window?this._connectUserChannelInitial(!0):window.loginStateChange&&loginStateChange.subscribe(this,this._connectUserChannelInitial),t.connect()},_connectUserChannelInitial:function(e){e&&(is_authenticated?(m=user.private_channel,i.addChannel(this.userChannel()),i.connect()):m=null)},_changeLoginState:function(e){e||(is_authenticated?(m=user.private_channel,this.ownPushStream()&&(this._addChannel(this.userChannel()),i.connect())):(this.ownPushStream()&&(this._removeChannel(this.userChannel()),
i.disconnect()),m=null))},_setUserChannel:function(e){f.logNormal("Set user channel "+e),e!==m&&(this.ownPushStream()&&m&&this._removeChannel(this.userChannel()),m=e,this.ownPushStream()&&m&&this._addChannel(this.userChannel()))},_dispatchStatusChange:function(e,t){this._dispatchStatusChangeToOthers(e,t),this._dispatchStatusChangeToSelf(e,t)},_dispatchStatusChangeToSelf:function(e,t){e!==b&&(b=e,this._callStatusHandlers(e,!1)),t!==S&&(S=t,this._callStatusHandlers(t,!0))},_callStatusHandlers:function(e,t){f.logNormal("Connection status change: "+e+", private "+t),c.sendReport("site","pushstream_status_change"),_.forEach(function(i){i.isPrivate===t&&i.handler(e)})},_decodeConnectionStatus:function(e){var t=parseInt(e,10);return isNaN(t)?this._decodeParams(e):[t,t]},_dispatchStatusChangeFromOther:function(e){var t=this._decodeConnectionStatus(e),i=t[0],n=t[1];this.ownPushStream()||this._dispatchStatusChangeToSelf(i,n)},_dispatchStatusChangeToOthers:function(e,t){if(this.ownPushStream()){var i=this._codeParams([e,t]);s.setItem(this._connectionStatusKey,i),r.emit(this._xEventConnectionStatus,i)}},_dispatchMessage:function(e,t,i){this._dispatchMessageToOthers(e,t,i),this._dispatchMessageToSelf(e,t,i,!1)},_dispatchMessageToSelf:function(e,t,i,n){i=e.channel,e=e.content,this._emit(e,t,i,n)},_dispatchMessageToOthers:function(e,t,i){var n=[e,t,i,(new Date).getTime()];r.emit(this._xEventSend,this._codeParams(n))},_dispatchMessageFromOther:function(e){var t,i,n,r;this.ownPushStream()||(i=(t=this._decodeParams(e))[0],n=t[1],r=t[2],this._dispatchMessageToSelf(i,n,r,!0))},_isSpecialChannel:function(e){return/\*/.test(e)},_emit:function(e,t,i,n){function r(r){r.call(this,e,t,i,n)}var o,s;for(o in u[i]&&u[i].forEach(r,this),h)s="^"+o.replace(/\*/g,".*?")+"$",new RegExp(s).test(i)&&h[o].forEach(r,this)},on:function(e,t){var i=this._isSpecialChannel(e)?h:u;i[e]||(i[e]=[]),i[e].push(t)},off:function(e,t){var i,n=this._isSpecialChannel(e)?h:u;switch(arguments.length){case 0:u={},h={};break;case 1:n[e]&&delete n[e];break;default:n[e]&&~(i=n[e].indexOf(t))&&n[e].splice(i,1)}},onStatus:function(e){_.push({handler:e,isPrivate:!1}),setTimeout(function(){e(b)},0)},onPrivateStatus:function(e){_.push({handler:e,isPrivate:!0}),setTimeout(function(){e(S)},0)},offStatus:function(e){_=_.filter(function(t){return t.handler!==e})},forceConnect:function(){w=!1,f.logNormal("Creating pushstream connection after force connect"),this.ownPushStream()?(t.disconnect(),i.disconnect(),this._instantiatePushStream(this.getChannels())):this._needInstantiating()?this._instantiatePushStream():r.emit(this._xEventReconnectCommand,{})},disconnect:function(){this.ownPushStream()&&(this._destructPushStream(),this._unsetMark(),w=!0)},_dispatchReconnectCommandFromOther:function(){this.ownPushStream()&&this.forceConnect()},_getOwnLogs:function(e){var t,i;return this.ownPushStream()?(t=d(e,p),i=this.pushStream().getLogs(),[].concat(t,i)):[]},_onRequestLogs:function(e){var t,i;this.ownPushStream()&&(t=this._getOwnLogs(e),i=JSON.stringify(t),s.setItem(this._shareLogsKey,i),
r.emit(this._xEventShareLogs,i))},getLogs:function(e){return new Promise(function(t){var i=setTimeout(function(){var e=s.getItem(this._shareLogsKey);t(null!==e?JSON.parse(e):[])}.bind(this),1e3),n=function(e){var o;r.off(this._xEventShareLogs,n),r.emit(this._xEventShareLogs,""),clearTimeout(i);try{o=JSON.parse(e)}catch(e){o=[],f.logError("Failed to parse logs received from master tab")}t(o)}.bind(this);this.ownPushStream()?t(this._getOwnLogs(e)):(r.on(this._xEventShareLogs,n),r.emit(this._xEventRequestLogs))}.bind(this))}};return P._init(),window.addEventListener("unload",P._onUnload.bind(P)),r.on(P._xEventRecreate,P._onRequestRecreate.bind(P)),r.on(P._xEventSend,P._dispatchMessageFromOther.bind(P)),r.on(P._xEventChannelAdd,P._addChannelFromOther.bind(P)),r.on(P._xEventChannelRemove,P._removeChannelFromOther.bind(P)),r.on(P._xEventConnectionStatus,P._dispatchStatusChangeFromOther.bind(P)),r.on(P._xEventReconnectCommand,P._dispatchReconnectCommandFromOther.bind(P)),r.on(P._xEventRequestLogs,P._onRequestLogs.bind(P)),e=function(){window.loginStateChange&&loginStateChange.subscribe(P,P._changeLoginState)},"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e),setInterval(P._pulseActivity.bind(P),P._activityTimeout),P._pulseActivity(),P}();e.exports=_},TzTt:function(e,t,i){"use strict";function n(e,t){var i,n;return i=null==t?document.documentElement:9===t.nodeType?t.documentElement:t,o&&(n=o.get(i)),n||((n=i.ownerDocument.createRange()).selectNodeContents(i),o&&o.set(i,n)),n.createContextualFragment(e)}function r(e,t){var i,r,o,s=n(e,t);if("firstElementChild"in s)i=s.firstElementChild;else for(i=null,r=0;r<s.childNodes.length;r++)if(1===(o=s.childNodes[r]).nodeType){i=o;break}return null!==i&&s.removeChild(i),i}var o;i.r(t),i.d(t,"parseHtml",function(){return n}),i.d(t,"parseHtmlElement",function(){return r}),o=new WeakMap},"U/gD":function(e,t,i){"use strict";function n(e,t){var i,n,o;return void 0===t&&(t=Date.now()),n="",(o=(i=Object(r.get_timezone)(e).offset_utc(t))/1e3/60/60)%1&&(n=":"+o%1*60),"",{offset:i,string:"UTC"+(o>0?"+"+(o-o%1)+n:0===o?"":String(o-o%1+n))}}var r;i.d(t,"a",function(){return n}),r=i("jCNj")},"U0+/":function(e,t,i){"use strict";function n(e){e.description_localized=window.t(e.description,{context:"study"})}function r(e,t){var i,n,r,o,s,u=new a.a(t);return Object(l.migrateMetaInfoAndPropState)(u),i=!0,-1===(n=e.findIndex(function(e){return e.id===u.id}))?e.push(u):(o=void 0!==(r=e[n]).pine?c.Version.parse(r.pine.version):null,null===(s=void 0!==u.pine?c.Version.parse(u.pine.version):null)||null===o||s.isGreaterOrEqual(o)?(r.removeDefaults(),e[n]=u):i=!1),i&&u.createDefaults(),u}var o,s,a,l,c,u,h,d,p,f,_;i.r(t),i.d(t,"StudyMetaInfoRepository",function(){return _}),i("YFKU"),o=i("Eyy1"),s=i("0YCj"),a=i.n(s),l=i("Si3H"),c=i("lCO3"),u=i("nmnj"),h=i("K4L1"),d=i.n(h),p=i("uOxu"),f=Object(p.getLogger)("Chart.Studies.StudyMetaInfoRepository",{color:"#606"}),_=function(){function e(e){this._nextRequestNumber=1,this._rawStudiesMetaInfo=[],this._isReady=!1,
this._metaInfoQueryQueue=[],this._javaMetaInfoQueryQueue=[],this._javaStudiesMetaInfo=[],this._pineMetaInfoCache=[],this._studiesMigrations=[],this._gateway=e}return e.prototype.requestMetaInfo=function(){var e,t=this;return this._requestStarted(),e=this._makeNextRequestId(),f.logNormal("Requesting metainfo #"+e),new Promise(function(i){f.logNormal("Requesting studies metadata #"+e),t._gateway.requestMetadata(e,function(n){var r,o;f.logNormal("Requesting studies metadata #"+e+" finished"),r=n.params[1].metainfo.slice(),o=n.params[1].migrations.slice(),t._processSiteMetaInfo(r,o),t._requestFinished(),i()})})},e.prototype.findById=function(e){if(!this._isReady)return this._enqueueMetaInfoQuery(e);var t=this._findStudyMetaInfo(e);return null!==t?Promise.resolve(t):"pine"===e.type?this._compilePine(e):Promise.reject("unexpected study id="+e.studyId+" with type="+e.type)},e.prototype.findByIdSync=function(e){return this._findStudyMetaInfo(e)},e.prototype.isReady=function(){return this._isReady},e.prototype.findAllJavaStudies=function(){return this._isReady?Promise.resolve(this._javaStudiesMetaInfo):this._enqueueJavaMetaInfoQuery()},e.prototype.getInternalMetaInfoArray=function(){return this._javaStudiesMetaInfo},e.prototype.getMigrations=function(){return this._studiesMigrations},e.prototype.addPineMetaInfo=function(e){return r(this._pineMetaInfoCache,e)},e.prototype._processMigrations=function(e){this._studiesMigrations=[];for(var t=0;e&&t<e.length;t++)this._studiesMigrations.push(e[t])},e.prototype._processSiteMetaInfo=function(e,t){var i,o,s,l,c,u;for(i=0,o=e;i<o.length;i++)s=o[i],d.a._verifyInputsMaxValue(s),n(s);for(this._rawStudiesMetaInfo=e,this._processMigrations(t),l=0,c=this._rawStudiesMetaInfo;l<c.length;l++)u=c[l],r(this._javaStudiesMetaInfo,u);a.a.overrideDefaults(this._javaStudiesMetaInfo)},e.prototype._processLibraryMetaInfo=function(e){},e.prototype._requestStarted=function(){this._isReady=!1,this._javaStudiesMetaInfo=[],this._pineMetaInfoCache=[],this._studiesMigrations=[],this._rawStudiesMetaInfo=[]},e.prototype._requestFinished=function(){this._isReady=!0,this._processPendingMetaInfoQueries(),this._processPendingFullMetaInfoQueries()},e.prototype._enqueueMetaInfoQuery=function(e){var t=this;return new Promise(function(i){t._metaInfoQueryQueue.push({studyDescriptor:e,resolver:i})})},e.prototype._enqueueJavaMetaInfoQuery=function(){var e=this;return new Promise(function(t){e._javaMetaInfoQueryQueue.push({resolver:t})})},e.prototype._processPendingMetaInfoQueries=function(){for(;this._metaInfoQueryQueue.length;){var e=this._metaInfoQueryQueue.shift();this.findById(e.studyDescriptor).then(e.resolver)}},e.prototype._processPendingFullMetaInfoQueries=function(){for(;this._javaMetaInfoQueryQueue.length;){this._javaMetaInfoQueryQueue.shift().resolver(this._javaStudiesMetaInfo)}},e.prototype._findStudyMetaInfo=function(e){return"java"===e.type?this._javaStudiesMetaInfo.find(function(t){return t.id===e.studyId})||null:this._pineMetaInfoCache.find(function(t){
return t.scriptIdPart===e.pineId&&(void 0===e.pineVersion||Object(o.ensureDefined)(t.pine).version===e.pineVersion)})||null},e.prototype._makeNextRequestId=function(){return"metadata_"+this._nextRequestNumber++},e.prototype._compilePine=function(e){var t,i=this;return f.logNormal("Compiling "+e.pineId+" script"),(t=Promise.resolve(Object(u.translateScriptAsync2)(e.pineId,e.pineVersion||"last")).then(function(t){return f.logNormal("Compiling "+e.pineId+" is successful"),i.addPineMetaInfo(Object(o.ensureDefined)(t))})).catch(function(){f.logNormal("Compiling "+e.pineId+" is failed")}),t},e}()},UCMi:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolDateAndPriceRange";var o=t||n.createProperties();r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("UcQu").DateAndPriceRangePaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=window.t("Date and Price Range");inherit(n,r),n.prototype.pointsCount=function(){return 2},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Date and Price Range"},n.prototype.getStylesPropertyPage=function(){return s.LineToolDateAndPriceRangeStylesPropertyPage},n.createProperties=function(e){var t=new o("linetooldateandpricerange",e);return n._configureProperties(t),t},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("Ax76").GeneralDatePriceRangeDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolDateAndPriceRange=n},UCjq:function(e,t,i){"use strict";function n(e,t){return e.position-t.position}function r(e,t,i){var n=(e.position-t.position)/(e.time-t.time);return Math.sign(n)*Math.min(Math.abs(n),i)}function o(e){return!e||!e.customization||!e.customization.disableSelection}var s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B,N,F;i.r(t),s=i("Eyy1"),a=i("aO4+"),l=i("qFKp"),c=i("FQhm"),u=i("ogJP"),h=i("FIi8"),d=i("VdBB"),p=i("vTIA"),f=i("CW80"),_=i("mMWL"),m=i("bOGh"),g=i("fTGZ"),y=i("ikwP"),v=i("mE5r"),b=i("1IXQ"),S=function(){function e(e,t,i,n){this._position1=null,this._position2=null,this._position3=null,this._position4=null,this._animationStartPosition=null,this._duration=0,this._speed=0,this._terminated=!1,this._minSpeed=e,this._maxSpeed=t,this._acceleration=i,this._minMove=n}return e.prototype.addPosition=function(e,t){if(null!==this._position1){if(this._position1.time===t)return void(this._position1.position=e);if(Math.abs(this._position1.position-e)<this._minMove)return}this._position4=this._position3,this._position3=this._position2,this._position2=this._position1,this._position1={time:t,position:e}},e.prototype.start=function(e,t){var i,o,s,a,l,c,u,h,d,p,f;if(null!==this._position1&&null!==this._position2&&!(t-this._position1.time>50)){for(i=0,
a=[o=r(this._position1,this._position2,this._maxSpeed)],l=[s=n(this._position1,this._position2)],i+=s,null!==this._position3&&(c=r(this._position2,this._position3,this._maxSpeed),Math.sign(c)===Math.sign(o)&&(u=n(this._position2,this._position3),a.push(c),l.push(u),i+=u,null!==this._position4&&(h=r(this._position3,this._position4,this._maxSpeed),Math.sign(h)===Math.sign(o)&&(d=n(this._position3,this._position4),a.push(h),l.push(d),i+=d)))),p=0,f=0;f<a.length;++f)p+=l[f]/i*a[f];var _,m;if(!(Math.abs(p)<this._minSpeed))this._animationStartPosition={position:e,time:t},this._speed=p,this._duration=(_=p,m=this._acceleration,Math.abs(_/m))}},e.prototype.getPosition=function(e){var t,i,n;return Object(s.ensureNotNull)(this._animationStartPosition).position+(t=this._speed,i=this._progressDuration(e),n=this._acceleration,Math.sign(t)*(Math.abs(t*i)+.5*n*(i*i)))},e.prototype.finished=function(e){return null===this._animationStartPosition||this._progressDuration(e)===this._duration},e.prototype.terminated=function(){return this._terminated},e.prototype.terminate=function(){this._terminated=!0},e.prototype._progressDuration=function(e){var t=Object(s.ensureNotNull)(this._animationStartPosition),i=e-t.time;return Math.min(i,this._duration)},e}(),w=i("hY0g"),P=i.n(w),T=i("1AAW"),C=i("XcdR"),x=i("dDSx"),I=i("HZKX"),E=i("5VQP"),L=i("Fixu"),A=i("e92V"),O=i("QloM"),M=i("ZBiT"),i.d(t,"customizationSelectionEnabled",function(){return o}),i.d(t,"PaneWidgetBase",function(){return F}),k=parseInt(M["css-value-pane-controls-padding-left"]),D=parseInt(M["css-value-pane-controls-padding-right"]),R={contextMenuEnabled:!0,contextMenu:{general:!0,studies:!0,fundamentals:!0,publishedCharts:!0,ordersAndPositions:!0,lineTools:!0,esdStudies:!0,alerts:!0,chartEvents:!0,mainSeries:!0,mainSeriesTrade:!1,objectTree:!0},priceScaleContextMenuEnabled:!0,legendWidgetEnabled:!0,controlsEnabled:!0,propertyPagesEnabled:!0,sourceSelectionEnabled:!0},V=l.CheckMobile.any(),B=l.CheckMobile.any(),N=!1,F=function(){function e(e,t,i){var n,r,o,s,a,l,c,h,d,p=this;this._legendWidget=null,this._paneControls=null,this._isDestroyed=!1,this._startTrackPoint=null,this._exitTrackingModeOnNextTry=!1,this._startMoveLineToolParams=null,this._preventSourceChange=!1,this._size=new y.Size(0,0),this._themedColor=null,this._startScrollingPos=null,this._isScrolling=!1,this._scrollPriceScale=null,this._scrollXAnimation=null,this._scrollYAnimation=null,this._prevPinchScale=1,this._pinching=!1,this._wasPinched=!1,this._longTap=!1,this._contextMenuOpenedOnLastMouseDown=!1,this._paneControlsResizeObserver=null,this._hideNotMainSourcesInLegendSpawn=null,this._lastClickedSourceId=null,this._canvasConfiguredHandler=function(){return p._state&&p._chartModel().lightUpdate()},this._topCanvasConfiguredHandler=function(){return p._state&&p._chartModel().lightUpdate()},this._chart=e,this._state=t,this._options=Object(u.merge)(Object(u.clone)(R),i),this._state&&(this._state.onDestroyed().subscribe(this,this._onStateDestroyed,!0),
this._state.dataSourcesCollectionChanged().subscribe(this,this._onDataSourcesCollectionChanged)),n={contextMenuEnabled:this._options.priceScaleContextMenuEnabled,pressedMouseMoveScale:this._options.handleScale.axisPressedMouseMove,currencyLabelEnabled:this._options.currencyLabelEnabled,croppedTickMarks:this._options.croppedTickMarks},void 0!==this._options.priceScaleContextMenu&&(n.contextMenu=this._options.priceScaleContextMenu),r=function(e,t,i,r,o){return new b.PriceAxisWidget(p,i,t,e,n,r,o)},o=e.properties().scalesProperties,s=this._chartModel().rendererOptionsProvider(),a=function(){return p._chartModel().backgroundColor().value()},l={backgroundBasedTheme:e.backgroundBasedTheme(),rendererOptionsProvider:s,getBackgroundColor:a},c={showLabels:!1},this._lhsPriceAxisesContainer=new v.PriceAxisesContainer(o,"left",r,l,c),this._rhsPriceAxisesContainer=new v.PriceAxisesContainer(o,"right",r,l,c),this._paneCell=document.createElement("td"),this._paneCell.classList.add("chart-markup-table","pane"),this._div=document.createElement("div"),this._div.classList.add("chart-gui-wrapper"),this._paneCell.appendChild(this._div),this._canvasBinding=Object(y.createBoundCanvas)(this._div,new y.Size(16,16)),this._canvasBinding.subscribeCanvasConfigured(this._canvasConfiguredHandler),(h=this._canvasBinding.canvas).style.position="absolute",h.style.left="0",h.style.top="0",this._topCanvasBinding=Object(y.createBoundCanvas)(this._div,new y.Size(16,16)),this._topCanvasBinding.subscribeCanvasConfigured(this._topCanvasConfiguredHandler),(d=this._topCanvasBinding.canvas).style.position="absolute",d.style.left="0",d.style.top="0",this._tooltipSelector=document.createElement("div"),this._tooltipSelector.classList.add("tooltip","tooltip-selector","tooltip-selector-hidden"),this._div.appendChild(this._tooltipSelector),this._rowElement=document.createElement("tr"),this._rowElement.appendChild(this._lhsPriceAxisesContainer.getElement()),this._rowElement.appendChild(this._paneCell),this._rowElement.appendChild(this._rhsPriceAxisesContainer.getElement()),this._options.legendWidgetEnabled&&this._loadAndCreateLegendWidget(),this._state&&!this._chart.readOnly()&&this._options.controlsEnabled&&this._loadAndCreatePaneControlsWidget()}return e.prototype.destroy=function(){this._topCanvasBinding.unsubscribeCanvasConfigured(this._topCanvasConfiguredHandler),this._topCanvasBinding.destroy(),this._canvasBinding.unsubscribeCanvasConfigured(this._canvasConfiguredHandler),this._canvasBinding.destroy(),null!==this._hideNotMainSourcesInLegendSpawn&&this._hideNotMainSourcesInLegendSpawn.destroy(),this._legendWidget&&(this._legendWidget.destroy(),delete this._legendWidget),null!==this._paneControlsResizeObserver&&this._paneControlsResizeObserver.disconnect(),null!==this._paneControls&&(this._paneControls.destroy(),delete this._paneControls),this._lhsPriceAxisesContainer.destroy(),this._rhsPriceAxisesContainer.destroy(),this.hasState()&&(this.state().onDestroyed().unsubscribeAll(this),this.state().dataSourcesCollectionChanged().unsubscribeAll(this))},
e.prototype.size=function(){return this._size},e.prototype.setSize=function(e){Object(s.assert)(e.w>=0&&e.h>=0,"Try to set invalid size to PaneWidget "+JSON.stringify(e)),this._size.equals(e)||(this._size=e,this._canvasBinding.resizeCanvas({width:e.w,height:e.h}),this._topCanvasBinding.resizeCanvas({width:e.w,height:e.h}),this._paneCell.style.width=e.w+"px",this._paneCell.style.height=e.h+"px",this._div.style.width=e.w+"px",this._div.style.height=e.h+"px",this._rowElement.classList.toggle("js-hidden",0===e.h),null!==this._legendWidget&&this._legendWidget.updateWidgetModeBySize(e),null!==this._paneControls&&this._paneControls.updateWidgetModeByWidth(e.w))},e.prototype.width=function(){return this._size.w},e.prototype.height=function(){return this._size.h},e.prototype.backgroundColor=function(){return this._chartModel().backgroundColor().value()},e.prototype.showContextMenuForSelection=function(e){var t,i=this._chartUndoModel().selection();i.isEmpty()||(t=i.sources().filter(function(e){return e.hasContextMenu()}),this.showContextMenuForSources(t,e))},e.prototype.showContextMenuForSources=function(e,t,i){var n,r,o,s;return e.length?(n=e[0],r=Object(u.merge)(Object(u.clone)(this._options.contextMenu),i||{}),o=new I.ActionsProvider(this._chart,r),n===this._chartUndoModel().crossHairSource()?(n.handleContextMenuEvent(t),Promise.resolve(null)):0===(s=o.contextMenuActionsForSources(e)).length?Promise.resolve(null):E.ContextMenuManager.createMenu(s).then(function(e){return e.show(t),e})):Promise.resolve(null)},e.prototype.state=function(){return Object(s.ensureNotNull)(this._state)},e.prototype.hasState=function(){return null!==this._state},e.prototype.setState=function(e){this._state!==e&&(this.hasState()&&(this.state().onDestroyed().unsubscribeAll(this),this.state().dataSourcesCollectionChanged().unsubscribeAll(this)),this._state=e,this.hasState()&&(this.state().onDestroyed().subscribe(this,this._onStateDestroyed,!0),this.state().dataSourcesCollectionChanged().subscribe(this,this._onDataSourcesCollectionChanged),this.updatePriceAxisWidgets()))},e.prototype.getScreenshotData=function(){return{leftAxis:this._lhsPriceAxisesContainer.getScreenshotData(),rightAxis:this._rhsPriceAxisesContainer.getScreenshotData(),content:this._canvasBinding.canvas.toDataURL(),contentWidth:this._size.w,contentHeight:this._size.h}},e.prototype.hardResetCanvas=function(){this._size.equals(new y.Size(0,0))||(Object(y.hardResizeCanvas)(this._canvasBinding,this._size),Object(y.hardResizeCanvas)(this._topCanvasBinding,this._size),this._lhsPriceAxisesContainer.hardResetCanvas(),this._rhsPriceAxisesContainer.hardResetCanvas())},e.prototype.updatePriceAxisWidgets=function(){var e,t,i,n,r,o;this.hasState()&&(t=(e=this._chartModel()).paneForSource(e.mainSeries()))&&(i=e.priceScaleSlotsCount(),r=(n=this.state()).visibleLeftPriceScales(),o=n.visibleRightPriceScales(),this._lhsPriceAxisesContainer.setScales(r,i.left,t.leftPriceScales().length,i.left+i.right),this._rhsPriceAxisesContainer.setScales(o,i.right,t.rightPriceScales().length,i.left+i.right))},
e.prototype.update=function(){this.hasState()&&(this._lhsPriceAxisesContainer.update(),this._rhsPriceAxisesContainer.update(),null!==this._legendWidget&&this._legendWidget.update(),this.updateControls())},e.prototype.updateControls=function(){this.hasState()&&null!==this._paneControls&&this._paneControls.update()},e.prototype.updateThemedColors=function(e){this._themedColor=e,this._updateByThemedColors()},e.prototype.statusWidget=function(){return this._legendWidget},e.prototype.getElement=function(){return this._rowElement},e.prototype.canvasElement=function(){return this._canvasBinding.canvas},e.prototype.hasCanvas=function(e){return this._canvasBinding.canvas===e||this._topCanvasBinding.canvas===e},e.prototype.pinchStartEvent=function(){this._options.handleScale.pinch&&(this._terminateActiveAnimations(),this._prevPinchScale=1,this._pinching=!0,this._wasPinched=!0)},e.prototype.pinchEvent=function(e,t){if(this._options.handleScale.pinch){var i=5*(t-this._prevPinchScale);this._prevPinchScale=t,this._chartModel().zoomTime(e.x,i,!0),this._prevPinchScale=t}},e.prototype.pinchEndEvent=function(){this._pinching=!1},e.prototype.mouseClickEvent=function(e){var t,i,n,r,o,a;this.hasState()&&(t=this._dataSourceAtPoint(e.localX,e.localY),i=this._chartUndoModel(),n=t&&t.source,r=t&&!t.isCustom&&null!==t.source?t.source.id():null,this._lastClickedSourceId!==r&&(null!==this._lastClickedSourceId&&(o=i.model().dataSourceForId(this._lastClickedSourceId))&&o.onClickOutside&&(o.onClickOutside(e),i.model().updateSource(o)),this._lastClickedSourceId=r),!this._isSelectBarModeEnabled()||this.trackingModeEnabled()&&!this._exitTrackingModeOnNextTry||i.crossHairSource().trySelectCurrentBar(),t&&t.hittest&&t.hittest.result()===d.HitTestResult.CUSTOM&&(a=t.hittest.data().mouseClickHandler)&&(a(e),i.model().updateSource(Object(s.ensureNotNull)(n))),this._isSelectBarModeEnabled()||t&&t.source===i.crossHairSource()||this._tryExitTrackingMode(),n instanceof g.BarsMarksContainer&&t&&Object(s.ensureNotNull)(t.hittest).data()&&n.onClicked(Object(s.ensureNotNull)(t.hittest).data()),n&&Object(f.isLineTool)(n)&&Object(c.emit)("drawing_event",n.id(),"click"))},e.prototype.exitTrackingMode=function(){null!==this._state&&null!==this._startTrackPoint&&(this._exitTrackingModeOnNextTry=!0,this._tryExitTrackingMode())},e.prototype.trackingModeEnabled=function(){return null!==this._state&&null!==this._startTrackPoint},e.prototype._tryExitTrackingMode=function(){this._exitTrackingModeOnNextTry&&(this._startTrackPoint=null,this._clearCursorPosition())},e.prototype._clearCursorPosition=function(){this._chartModel().clearCurrentPosition()},e.prototype._dataSourceAtPoint=function(e,t){var i,n,r,o,s,l,c,u,h,d,f,_,m,g,y,v,b,S,w,P,T,C,x,I=null,E=null,L=null;if(!this.hasState())return null;for(n=(i=this.state()).height(),r=i.width(),o=!1,s=function(e,t,i,n){var r=L?L.result():0;e.result()>r&&(L=e,I=t,E=i,o=n)},l=new a.Point(e,t),this._hitTestCustomSources(i.customSources(p.CustomSourceLayer.Foreground),l,s),c=i.hitTestSources(),u=this._chartUndoModel(),
h=c.length;0<h--;)if(null!==(f=(d=c[h]).paneViews()))for(_=f.length;0<_--;)(m=f[_].renderer(n,r))&&m.hitTest&&null!==(g=m.hitTest(l))&&s(g,d,m,!1);for(_=(v=(y=u.crossHairSource()).paneViews(i)||[]).length-1;_>=0;--_)(m=v[_].renderer(n,r))&&m.hitTest&&(g=m.hitTest(l))&&s(g,y,m,!1);if(this.containsMainSeries()){for(b=u.barsMarksSources(),h=0;h<b.length;++h)for(S=(d=b[h]).paneViews()||[],m=void 0,w=void 0,_=0;_<S.length;_++)if(null!==(m=S[_].renderer(n,r))&&(w=m.hitTest(l))){L=w,I=d,E=m,o=!1;break}null!==(T=(P=u.activeStrategySource().value())&&P.strategyOrdersPaneView())&&(x=(C=T.renderer(n,r))&&C.hitTest(l))&&(L=x,I=P,E=C,o=!1)}return null===I&&this._hitTestCustomSources(i.customSources(p.CustomSourceLayer.Background),l,s),null===I&&null!==this._legendWidget&&(I=this._legendWidget.dataSourceAtPoint(e,t)),{source:I,hittest:L,renderer:E,isCustom:o}},e.prototype._hitTestCustomSources=function(e,t,i){var n,r,o,a,l,c,u=Object(s.ensureNotNull)(this._state),h=u.height(),d=u.width();for(n=e.length-1;n>=0;--n)if(0!==(o=(r=e[n]).paneViews(u)).length)for(a=o.length-1;a>=0;--a)null!==(l=o[a].renderer(h,d))&&null!==(c=l.hitTest(t))&&i(c,r,l,!0)},e.prototype._tryStartMovingLineTool=function(e,t,i,n){var r,l,c,u,h,d;return!(null===t.source||!t.source.movable()||null!==this._startTrackPoint)&&(this._preventSourceChange?(this._startMoveLineToolParams=null,!1):(r=this._chartUndoModel(),l=Object(s.ensureNotNull)(Object(s.ensureNotNull)(this._state).mainDataSource()).firstValue(),c=Object(s.ensureNotNull)(t.source.priceScale()).coordinateToPrice(e.localY,Object(s.ensureNotNull)(l)),u=o(t.source)?r.selection().sources():[t.source],h=new a.Point(e.localX,e.localY),d={index:n,price:c},this._startMoveLineToolParams={source:u,startPoint:{logical:d,screen:h},data:t.hittest&&t.hittest.data(),envState:i},!0))},e.prototype._chartModel=function(){return this._chart.model().model()},e.prototype._chartUndoModel=function(){return this._chart.model()},e.prototype._externalPaneXCoord=function(e,t){var i,n,r=this._div.getBoundingClientRect(),o=r.left+document.body.scrollLeft;return t+=o,n=(i=Object(s.ensureNotNull)(this._chart.paneByState(e)))._div.getBoundingClientRect().left+document.body.scrollLeft,i._correctXCoord(t-n)},e.prototype._externalPaneYCoord=function(e,t){var i,n,r=this._div.getBoundingClientRect(),o=r.left+document.body.scrollTop;return t+=o,n=(i=Object(s.ensureNotNull)(this._chart.paneByState(e)))._div.getBoundingClientRect().left+document.body.scrollTop,i._correctYCoord(t-n)},e.prototype._correctXCoord=function(e){return Math.max(0,Math.min(e,this._size.w-1))},e.prototype._correctYCoord=function(e){return Math.max(0,Math.min(e,this._size.h-1))},e.prototype._processScroll=function(e){var t,i,n;if(this._chart.model().model().scrollEnabled()){if(t=Date.now(),this._startScrollingPos||this._preventScroll()||(this._startScrollingPos={x:e.clientX,y:e.clientY,timestamp:t,localX:e.localX,localY:e.localY}),null!==this._scrollXAnimation&&this._scrollXAnimation.addPosition(e.localX,t),
null!==this._scrollYAnimation&&this._scrollYAnimation.addPosition(e.localY,t),i=this._chartUndoModel(),n=this.state().defaultPriceScale(),this._startScrollingPos&&!this._isScrolling&&(this._startScrollingPos.x!==e.clientX||this._startScrollingPos.y!==e.clientY))return i.beginUndoMacro("scroll").setCustomFlag("doesnt_affect_save",!0),null===this._scrollXAnimation&&B&&(this._scrollXAnimation=new S(.2,3.2,-.0026,15),this._scrollXAnimation.addPosition(this._startScrollingPos.localX,this._startScrollingPos.timestamp),this._scrollXAnimation.addPosition(e.localX,t)),null===this._scrollYAnimation&&N&&B&&(this._scrollYAnimation=new S(.2,3.2,-.0026,15),this._scrollYAnimation.addPosition(this._startScrollingPos.localY,this._startScrollingPos.timestamp),this._scrollYAnimation.addPosition(e.localY,t)),i.selection().isEmpty()||(n=i.selection().sources()[0].priceScale()),null===n||n.isEmpty()||(this._scrollPriceScale=n,i.startScrollPrice(this.state(),n,e.localY)),i.startScrollTime(e.localX),this._isScrolling=!0,void this.setCursorForTool();this._isScrolling&&(null!==this._scrollPriceScale&&i.scrollPriceTo(this.state(),this._scrollPriceScale,e.localY),i.scrollTimeTo(e.localX))}},e.prototype._finishScroll=function(){var e=this._chartUndoModel();e.endScrollTime(),null!==this._scrollPriceScale&&e.endScrollPrice(this.state(),this._scrollPriceScale),e.endUndoMacro(),this._isScrolling=!1,this._startScrollingPos=null,this._scrollPriceScale=null,this.setCursorForTool()},e.prototype._endScroll=function(e){var t,i,n,r,o,s,a=this;if(!this._isScrolling)return!1;if(t=this._isScrolling&&this._scrollUndoCommandInStack(),this._isScrolling){if(i=Date.now(),null!==this._scrollXAnimation&&this._scrollXAnimation.start(e.localX,i),null!==this._scrollYAnimation&&this._scrollYAnimation.start(e.localY,i),n=this._chartUndoModel(),(null===this._scrollXAnimation||this._scrollXAnimation.finished(i))&&(null===this._scrollYAnimation||this._scrollYAnimation.finished(i)))return this._finishScroll(),t;r=this._scrollXAnimation,o=this._scrollYAnimation,s=function(){var e,t,i;(null!==r&&!r.terminated()||null!==o&&!o.terminated())&&(e=Date.now(),t=null===r||r.finished(e),i=null===o||o.finished(e),null===r||r.terminated()||n.scrollTimeTo(r.getPosition(e)),null===o||o.terminated()||null===a._scrollPriceScale||n.scrollPriceTo(a.state(),a._scrollPriceScale,o.getPosition(e)),t&&i?a._finishScroll():requestAnimationFrame(s))},requestAnimationFrame(s)}return t},e.prototype._terminateActiveAnimations=function(){var e=Date.now(),t=null===this._scrollXAnimation||this._scrollXAnimation.finished(e),i=null===this._scrollYAnimation||this._scrollYAnimation.finished(e);null===this._scrollXAnimation&&null===this._scrollYAnimation||t&&i||this._finishScroll(),null!==this._scrollXAnimation&&(this._scrollXAnimation.terminate(),this._scrollXAnimation=null),null!==this._scrollYAnimation&&(this._scrollYAnimation.terminate(),this._scrollYAnimation=null)},e.prototype._preventScroll=function(){
return V&&this._longTap||this._contextMenuOpenedOnLastMouseDown||Object(f.isLineToolName)(_.tool.value())||Boolean(this._chartUndoModel().lineBeingCreated())||null!==this._startTrackPoint},e.prototype._isSelectBarModeEnabled=function(){return this._chartUndoModel().crossHairSource().selectBarMode().value()},e.prototype._finishTool=function(e){var t,i=this._chartUndoModel(),n=_.tool.value();Object(_.resetToCursor)(),this._preventCrossHairMove()&&this._clearCursorPosition(),i.selectionMacro(function(t){t.addSourceToSelection(e)}),Object(A.c)(n)&&(t=i.createUndoCheckpoint(),this._chart.showChartPropertiesForSource(e,O.TabNames.text,void 0,t)),Object(L.trackDrawingCreated)(e)},e.prototype._updateByThemedColors=function(){null!==this._legendWidget&&this._legendWidget.updateThemedColors(this._themedColor),null!==this._paneControls&&this._paneControls.updateThemedColors(this._themedColor)},e.prototype._scrollUndoCommandInStack=function(){var e,t,i=this._chartUndoModel().undoHistory().undoStack();return!i.isEmpty()&&((e=i.head())instanceof m.a&&(!e.isEmpty()&&((t=e.commands()[0])instanceof x.PriceScaleChangeUndoCommand||t instanceof C.a)))},e.prototype._onStateDestroyed=function(){this.setState(null)},e.prototype._getHideNotMainSourcesValue=function(){return!this._chart.isActive()&&!this._chart.crossHairSyncEnabled()},e.prototype._onDataSourcesCollectionChanged=function(){this._startMoveLineToolParams=null,null!==this._legendWidget&&this._legendWidget.updateLayout()},e.prototype._loadAndCreateLegendWidget=function(){var e=this;Promise.all([i.e("vendors_embed"),i.e(15),i.e(93),i.e(115),i.e(200),i.e(54),i.e(81),i.e("chart-widget-gui")]).then(i.bind(null,"sAH5")).then(function(t){var i,n,r;e._isDestroyed||(i=t.LegendWidget,(n=Object(h.deepExtend)({},e._options.legendWidget)).canShowSourceCode=!e._chart.onWidget(),n.readOnlyMode=n.readOnlyMode||e._chart.readOnly(),n.statusesWidgets={sourceStatusesEnabled:e._options.sourceStatusesWidgetEnabled,marketStatusEnabled:e._options.marketStatusWidgetEnabled,marketStatus:e._options.marketStatusWidget||{},dataUpdateModeEnabled:e._options.chartWarningWidgetEnabled,dataUpdateMode:e._options.chartWarningWidget||{}},r=new P.a(e._getHideNotMainSourcesValue()),e._hideNotMainSourcesInLegendSpawn=Object(T.a)(function(){return{}},e._chart.chartWidgetCollection().activeChartWidget,e._chart.chartWidgetCollection().lock.crosshair),e._hideNotMainSourcesInLegendSpawn.subscribe(function(){r.setValue(e._getHideNotMainSourcesValue())}),e._legendWidget=new i(e._chartUndoModel(),e,e._chart.backgroundBasedTheme(),r,n,{showContextMenuForSelection:e.showContextMenuForSelection.bind(e),showContextMenuForSources:e.showContextMenuForSources.bind(e),updateActions:e._chart.updateActions.bind(e._chart),showChartPropertiesForSource:e._chart.showChartPropertiesForSource.bind(e._chart),showGeneralChartProperties:e._chart.showGeneralChartProperties.bind(e._chart),showObjectsTreeDialog:e._chart.showObjectsTreeDialog.bind(e._chart)}),e._div.appendChild(e._legendWidget.getElement()),e._legendWidget.updateLayout(),
e._legendWidget.updateWidgetModeBySize(e._size),e._legendWidget.updateThemedColors(e._themedColor))})},e.prototype._loadAndCreatePaneControlsWidget=function(){var e=this;Promise.all([Promise.all([i.e("vendors_embed"),i.e(15),i.e(93),i.e(115),i.e(200),i.e(54),i.e(81),i.e("chart-widget-gui")]).then(i.bind(null,"lvAK")),Promise.all([i.e("vendors_embed"),i.e(15),i.e(93),i.e(115),i.e(200),i.e(54),i.e(81),i.e("chart-widget-gui")]).then(i.bind(null,"bdgK"))]).then(function(t){var i,n=t[0],r=t[1];e._isDestroyed||(i=n.PaneControlsWidget,e._paneControls=new i(e._chartUndoModel(),e,{backgroundThemeName:e._chart.backgroundBasedTheme()},{toggleMaximizePane:e._chart.toggleMaximizePane.bind(e._chart)},e._div),e._paneControls.updateWidgetModeByWidth(e._size.w),e._paneControls.updateThemedColors(e._themedColor),e._paneControlsResizeObserver=new r.default(e._handleRestrictLegendWidth.bind(e)),e._paneControlsResizeObserver.observe(e._paneControls.getElement()))})},e.prototype._handleRestrictLegendWidth=function(e){var t,i;null!==this._legendWidget&&null!==this._paneControls&&(t=this._legendWidget.getElement(),0!==(i=e[e.length-1].contentRect.width)?t.style.maxWidth="calc(100% - "+(i+k+D)+"px)":delete t.style.maxWidth)},e}()},ULlu:function(e,t,i){"use strict";function n(e){return e[0]}function r(e,t,i){return"string"!=typeof t?e:void 0===i||null===i?(e.removeAttribute(t),e):(e.setAttribute(t,String(i)),e)}function o(e,t){return"string"==typeof t&&e.classList.add(t),e}function s(e,t){return void 0===t?e:(null===t&&(e.innerHTML=""),"string"!=typeof t&&"number"!=typeof t||(e.innerHTML=String(t)),e)}function a(e){var t=window.getComputedStyle(e);return[t.paddingLeft,t.paddingRight].reduce(function(e,t){return e-Number((t||"").replace("px",""))},e.clientWidth)}function l(e){var t=window.getComputedStyle(e);return[t.paddingTop,t.paddingBottom].reduce(function(e,t){return e-Number((t||"").replace("px",""))},e.clientHeight)}function c(e,t){var i;i=function(i){return i(e).trigger(t)},window.jQuery&&i(window.jQuery)}i.r(t),i.d(t,"unwrap",function(){return n}),i.d(t,"attr",function(){return r}),i.d(t,"addClass",function(){return o}),i.d(t,"html",function(){return s}),i.d(t,"contentWidth",function(){return a}),i.d(t,"contentHeight",function(){return l}),i.d(t,"trigger",function(){return c})},USzt:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h,d,p,f;i.d(t,"a",function(){return f}),n=i("mrSG"),r=i("Eyy1"),o=i("cBZt"),s=i("MSvv"),a=i("23IT"),l=i("I9zs"),c=i("jenN"),u=i("hayr"),h="VbPFixed",d="tv-volumebyprice",p=Object(o.studyIdString)(h,d),f=function(e){function t(i,n,r,o){var s=this,a=r||i.studyMetaInfoRepository().findByIdSync({type:"java",studyId:p}),u=n||t._createPropertiesFromStudyMetaInfo(a,i.studyVersioning());return(s=e.call(this,i,a,"vbpfixed_",u)||this)._constructor="LineToolVbPFixed",Object(c.createGraphicsPaneViews)(s,i).then(function(e){var t,n,r;o=i.mainSeries(),a.plots.length>0&&(t=new l.StudyPaneView(s,o,i,a.plots[0].id),e.push(t)),a.plots.length>1&&(n=new l.StudyPaneView(s,o,i,a.plots[1].id),e.push(n)),
a.plots.length>2&&(r=new l.StudyPaneView(s,o,i,a.plots[2].id),e.push(r)),s._setPaneViews(e)}),s.clearData(),s}return Object(n.__extends)(t,e),t.prototype.pointsCount=function(){return 2},t.prototype.offset=function(e){return 0},t.prototype.getMinFirstBarIndexForPlot=function(){return-1/0},t.prototype.isSelfColorerPlot=function(e){var t=this._metaInfo.plots[e];return Object(a.isColorerPlot)(t)},t.prototype.calcIsActualSymbol=function(){this._isActualSymbol=!0,this.calcIsActualInterval()},t.prototype.getStylesPropertyPage=function(){return u.propertyPages.LinetoolVolumeProfilePropertyPage},t.prototype.cloneable=function(){return!1},t.createProperties=function(t){return e._createPropertiesFromStudyIdAndState.call(this,p,t)},t.studyId=function(){return p},t.prototype._studyInputs=function(e){var t,i,n,o,s,a,l;return Object(r.assert)(2===e.length,"all the line tool points should be defined"),t=e[0],i=e[1],n=Math.min(t.index,i.index),o=Math.max(t.index,i.index),s=this._model.mainSeries().bars().lastIndex(),a=this._model.mainSeries().bars().valueAt(n),l=this._model.mainSeries().bars().valueAt(o),null===a||null===l?null:{rowsLayout:this.properties().inputs.rowsLayout.value(),rows:this.properties().inputs.rows.value(),volume:this.properties().inputs.volume.value(),vaVolume:this.properties().inputs.vaVolume.value(),first_bar_time:1e3*Object(r.ensureNotNull)(Object(r.ensureDefined)(a[0])),last_bar_time:1e3*Object(r.ensureNotNull)(Object(r.ensureDefined)(l[0])),subscribeRealtime:s===o}},t.prototype._onDataUpdated=function(t,i,n){this._correctPoints(),e.prototype._onDataUpdated.call(this,t,i,n)},t.prototype._isReady=function(){return!Object(c.isStudyGraphicsEmpty)(this.graphics())},t.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(154),i.e(164),i.e("study-property-pages-with-definitions")]).then(i.bind(null,"cKLu")).then(function(e){return e.StudyLineDataSourceDefinitionsViewModel})},t.prototype._correctPoints=function(){var e=null,t=null;this.graphics().hhists().forEach(function(i){i.forEach(function(i){var n=i.priceLow,r=i.priceHigh;(!e||n<e)&&(e=n),(!t||r>t)&&(t=r)})}),null!==e&&null!==t&&(this._points[0].price=t,this._points[1].price=e)},t}(s.StudyLineDataSource)},UgcK:function(e,t,i){},UqOQ:function(e,t,i){"use strict";var n,r,o,s,a;i.d(t,"a",function(){return a}),n=i("mrSG"),r=i("aIyQ"),o=i.n(r),s=i("0waE"),a=function(){function e(e,t,i){this._onChanged=new o.a,this._lineToolsSet=new Set,this._lineTools=Object(n.__spreadArrays)(e),this._lineToolsSet=new Set(this._lineTools),this._name=t,this.id=i||Object(s.randomHashN)(6)}return e.prototype.lineTools=function(){return this._lineTools},e.prototype.name=function(){return this._name},e.prototype.setName=function(e){var t=this;this._doAndFireOnChange(function(){t._name=e})},e.prototype.isActualSymbol=function(){return this._lineTools.length>0&&this._lineTools[0].isActualSymbol()},e.prototype.containsLineTool=function(e){return this._lineToolsSet.has(e)},e.prototype.addLineTools=function(e){var t=this;this._doAndFireOnChange(function(){
var i;e.forEach(function(e){return t._lineToolsSet.add(e)}),(i=t._lineTools).push.apply(i,e)})},e.prototype.excludeLineTool=function(e){var t=this;this._doAndFireOnChange(function(){t._lineToolsSet.delete(e);var i=t._lineTools.indexOf(e);t._lineTools.splice(i,1)})},e.prototype.excludeLineTools=function(e){var t=this;this._doAndFireOnChange(function(){var i=new Set(e);e.forEach(function(e){return t._lineToolsSet.delete(e)}),t._lineTools=t._lineTools.filter(function(e){return!i.has(e)})})},e.prototype.state=function(){return{id:this.id,name:this._name,tools:this._lineTools.map(function(e){return e.id()})}},e.prototype.visibility=function(){var e=this._lineTools.some(function(e){return e.properties().visible.value()}),t=this._lineTools.some(function(e){return!e.properties().visible.value()});return e&&!t?"Visible":t&&!e?"Invisible":"Partial"},e.prototype.locked=function(){var e=this._lineTools.some(function(e){return e.properties().frozen.value()}),t=this._lineTools.some(function(e){return!e.properties().frozen.value()});return e&&!t?"Locked":t&&!e?"Unlocked":"Partial"},e.prototype.onChanged=function(){return this._onChanged},e.fromState=function(t,i){var n,r,o,s,a=[];for(n=0,r=i.tools;n<r.length;n++)o=r[n],null!==(s=t.dataSourceForId(o))&&a.push(s);return a.length>0?new e(a,i.name,i.id):null},e.prototype._doAndFireOnChange=function(e){var t,i=this.visibility(),n=this.locked();e(),t={visibilityChanged:this.visibility()!==i,lockedChanged:n!==this.locked()},this._onChanged.fire(t)},e}()},V086:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolEllipse";var r=t||n.createProperties();s.call(this,e,r),this.version=n.version,Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("obU/").EllipsePaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("aO4+").Point,o=i("GEp6").distanceToLine,s=i("Ss5c").LineDataSource,a=i("Ocx9").DefaultProperty,l=i("hayr").propertyPages,c=window.t("Ellipse");inherit(n,s),n.prototype.startChanging=function(e,t){var i,n,r;s.prototype.startChanging.call(this,e,t),0!==e&&1!==e||(i=this.pointToScreenPoint(this._points[0])[0],n=this.pointToScreenPoint(this._points[1])[0],r=this.pointToScreenPoint(this._points[2])[0],this._dist=o(i,n,r).distance||0)},n.prototype._preparePoint=function(e,t){var i=this._preparePointInternal(e,t,!1);return t&&t.shift()&&this._points[0].index===this._points[1].index&&this._fixVerticalDiameterPoints(this._points[1],this._points[0],i),i},n.prototype._preparePointInternal=function(e,t,i){var n,o,a,l,c,u,h,d,p,f,_=Object.assign({},e);if(t&&t.shift()){if(n=this.points().length,!this._fakePointAdded&&3===n&&!i)return _;(this._fakePointAdded||2===n||i)&&(this._snapPoint45Degree(e,this._points[0]),this._fakePointAdded?this._points[1]=e:i||(this._fakePointAdded=!0,s.prototype._addPointIntenal.call(this,e)),o=this.pointToScreenPoint(this._points[0])[0],l=(a=this.pointToScreenPoint(this._points[1])[0]).x-o.x,c=a.y-o.y,u=Math.sqrt(l*l+c*c)/2,h=a.subtract(o),d=o.add(a).scaled(.5),
p=(p=new r(-h.y,h.x)).normalized(),f=d.add(p.scaled(u)),_=this.screenPointToPoint(f),(TradingView.isNaN(_.price)||TradingView.isNaN(_.index))&&(_=this.screenPointToPoint(d)))}else this._fakePointAdded&&(this._points.splice(1,1),this._fakePointAdded=!1);return _},n.prototype._fixVerticalDiameterPoints=function(e,t,i){var n=this.pointToScreenPoint(e)[0],r=this.pointToScreenPoint(t)[0],o=this._model.timeScale(),s=o.indexToCoordinate(e.index),a=o.indexToCoordinate(i.index),l=2*Math.abs(s-a);l*=t.price>e.price?1:-1,e.price=this.screenPointToPoint({x:n.x,y:r.y+l}).price},n.prototype.addPoint=function(e,t,i){var n=s.prototype.addPoint.call(this,e,t,i);return n&&(this._fakePointAdded=!1),n},n.prototype.setPoint=function(e,t,i){var n,s,a,l,c=Object.assign({},t),u=this.pointToScreenPoint(this._points[0])[0],h=this.pointToScreenPoint(this._points[1])[0],d=this.pointToScreenPoint(this._points[2])[0];switch(e){case 0:if(i&&i.shift()){this._snapPoint45Degree(c,this._points[1]),this._points[0]=c,this._points[2]=this._preparePointInternal(this._points[2],i,!0),this._points[0].index===this._points[1].index&&this._fixVerticalDiameterPoints(this._points[0],this._points[1],this._points[2]);break}u=this.pointToScreenPoint(c)[0],n=h.subtract(u),s=u.add(h).scaled(.5),a=(a=new r(-n.y,n.x)).normalized(),d=s.add(a.scaled(this._dist)),d=this.screenPointToPoint(d),this._points[0]=c,this._points[2]=d;break;case 1:if(i&&i.shift()){this._snapPoint45Degree(c,this._points[0]),this._points[1]=c,this._points[2]=this._preparePointInternal(this._points[2],i,!0),this._points[0].index===this._points[1].index&&this._fixVerticalDiameterPoints(this._points[1],this._points[0],this._points[2]);break}n=(h=this.pointToScreenPoint(c)[0]).subtract(u),s=u.add(h).scaled(.5),a=(a=new r(-n.y,n.x)).normalized(),d=s.add(a.scaled(this._dist)),d=this.screenPointToPoint(d),this._points[1]=c,this._points[2]=d;break;case 2:case 3:c=this.pointToScreenPoint(c)[0],l=o(u,h,c).distance,n=h.subtract(u),s=u.add(h).scaled(.5),a=(a=new r(-n.y,n.x)).normalized(),d=s.add(a.scaled(l)),d=this.screenPointToPoint(d),this._points[2]=d}this.normalizePoints()},n.prototype.pointsCount=function(){return 3},n.prototype.translatedType=function(){return c},n.prototype.name=function(){return"Ellipse"},n.prototype.hasEditableCoordinates=function(){return!1},n.version=2,n.prototype.migrateVersion=function(e,t,i){var n,r,o;1===e&&2===this._points.length&&(n=this._points[0].price,r=.5*(this._points[0].price+this._points[1].price),this._points[0]={price:r,index:this._points[0].index},this._points[1]={price:r,index:this._points[1].index},this._points.push({price:n,index:this._points[0].index})),1===e&&2===this._timePoint.length&&(n=this._timePoint[0].price,r=.5*(this._timePoint[0].price+this._timePoint[1].price),this._timePoint[0].price=r,this._timePoint[1].price=r,o={price:n,offset:this._timePoint[0].offset,time_t:this._timePoint[0].time_t},this._timePoint.push(o))},n.prototype.getInputsPropertyPage=function(){return null},n.prototype.getStylesPropertyPage=function(){
return l.LineToolEllipseStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("Zd1D").GeneralFiguresDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new a("linetoolellipse",e);return n._configureProperties(t),t},n._configureProperties=function(e){s._configureProperties(e)},t.LineToolEllipse=n},V0al:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"PaneRendererXCross",function(){return o}),n=i("mrSG"),r=i("2WC2"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype._drawItemShapeUsingCSSPixels=function(e,t){var i=t.width,n=t.height,r=t.x-i/2,o=t.vertOffset,s=t.y-n/2+o;e.moveTo(r,s),e.lineTo(r+i,s+n),e.moveTo(r,s+n),e.lineTo(r+i,s)},t}(r.c)},V3Oj:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolText";var r=t||n.createProperties();o.call(this,e,r),this._timeScale=e.timeScale(),this._barSpacing=e.timeScale().barSpacing(),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("mr3a").TextPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}function r(e,t){var i=t||r.createProperties();n.call(this,e,i)}var o=i("Ss5c").LineDataSource,s=i("fgLi").DataSource,a=i("tc+8"),l=i("Ocx9").DefaultProperty,c=i("hayr").propertyPages,u=window.t("Text",{context:"tool"});inherit(n,o),n.MIN_WIDTH=100,n.prototype.setPoint=function(e,t){var i,r,o=this.properties();if(0===e&&o.wordWrapWidth&&o.wordWrapWidth.value()){if(i=this.isFixed()?this.fixedPoints()[0].x:this._timeScale.indexToCoordinate(this.points()[0].index),r=this._timeScale.indexToCoordinate(t.index)-i-~~(o.fontsize.value()/6),!isFinite(r))return;o.wordWrapWidth.setValue(Math.max(n.MIN_WIDTH,r))}},n.prototype.pointsCount=function(){return 1},n.prototype.translatedType=function(){return u},n.prototype.name=function(){return"Text"},n.prototype.setPriceScale=function(e){s.prototype.setPriceScale.call(this,e),e&&e.priceRange()&&(this._priceDencity=e.height()/e.priceRange().length(),this._isPriceDencityLog=e.isLog())},n.prototype.restoreSize=function(){this._barSpacing=this._model.timeScale().barSpacing(),this._priceDencity=this.priceScale().height()/this.priceScale().priceRange().length(),this.updateAllViews(),this._model.updateSource(this)},n.prototype.template=function(){var e=o.prototype.template.call(this);return e.text=this.properties().childs().text.value(),e},n.prototype._applyTemplateImpl=function(e){o.prototype._applyTemplateImpl.call(this,e),this.properties().childs().text.setValue(e.text)},n.createProperties=function(e){var t=new l("linetooltext",e);return n._configureProperties(t),t},n._configureProperties=function(e){o._configureProperties(e),e.hasChild("text")||e.addChild("text",new a(window.t("Text"))),e.addExclusion("text")},inherit(r,n),r.prototype.isSynchronizable=function(){return!1},r.prototype.translatedType=function(){return window.t("Anchored Text")},
r.prototype.name=function(){return"Anchored Text"},n.prototype.hasEditableCoordinates=function(){return!1},r.prototype.isFixed=function(){return!0},r.createProperties=function(e){var t=new l("linetooltextabsolute",e);return r._configureProperties(t),t},r._configureProperties=function(e){n._configureProperties(e)},n.prototype.state=function(e){var t=o.prototype.state.call(this,e);return e&&(t.state.fixedSize=!1),t},n.prototype.getInputsPropertyPage=function(){return null},n.prototype.getStylesPropertyPage=function(){return c.LineToolTextStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("QWxu").TextDefinitionsViewModel}.bind(null,i)).catch(i.oe)},t.LineToolText=n,t.LineToolTextAbsolute=r},V9Ec:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trialMessageSuccessDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(t){Promise.all([i.e("vendors_embed"),i.e("dialogs-core"),i.e(0),i.e(1),i.e(3),i.e(5),i.e(7),i.e(277),i.e(8),i.e(6),i.e(145),i.e("trial-message-success-dialog")]).then(function(n){t(i("qNxe").trialMessageSuccessDialog(e))}.bind(null,i)).catch(i.oe)})}},VNzU:function(e,t,i){"use strict";function n(e){var t,i,r,o,s,a,l,c,u,h=new Set;if("number"==typeof e)return h.add(e),{indices:h,smallestIndex:e,sizer:function(e){return e}};for(t=e[0],r=1/0,o=0,s=i=e.slice(1).map(n);o<s.length;o++)for(a=s[o],l=0,c=Array.from(a.indices);l<c.length;l++)(u=c[l])<r&&(r=u),h.add(u);return{indices:h,smallestIndex:r,sizer:function(e,n,r,o){var s,a,l,c,u,h,d,p,f,_,m=0;for(l=0,c=i;l<c.length;l++)(u=c[l]).smallestIndex>=r||(u.indices.has(n)&&(s=u,a=m),m++);return d=a*((h=(("h"===t?e.width:e.height)-(m-1)*o)/m)+o),p=Math.round(d),f=Math.round(d+h)-p,_="h"===t?{top:e.top,left:e.left+p,height:e.height,width:f}:{top:e.top+p,left:e.left,height:f,width:e.width},s.sizer(_,n,r,o)}}}function r(e,t){var i=n(e);return{title:t,count:i.indices.size,sizer:i.sizer}}function o(e){return"s"===e}function s(e){return!o(e)}var a,l,c,u,h;i.r(t),a=i("mrSG"),l=i("Dq3s"),i.d(t,"layouts",function(){return h}),i.d(t,"isSingleLayout",function(){return o}),i.d(t,"isMultipleLayout",function(){return s}),c={s:{title:"1 chart",count:1,sizer:function(e,t){if(0!==t)throw new RangeError("invalid index");return e}}},u={"2h":r(l["2h"],"2-up Horizontal"),"2v":r(l["2v"],"2-up Vertical"),"2-1":r(l["2-1"],"2 at top and 1 at bottom"),"1-2":r(l["1-2"],"1 at top and 2 at bottom"),"3s":r(l["3s"],"3-up Stacked"),"3r":r(l["3r"],"3-up Stacked Left"),"3h":r(l["3h"],"3-up Horizontal"),"3v":r(l["3v"],"3-up Vertical"),4:r(l[4],"4-up"),"4h":r(l["4h"],"4-up Horizontal"),"4v":r(l["4v"],"4-up Vertical"),"4s":r(l["4s"],"4-up Stacked"),"2-2":r(l["2-2"],"2 at top and 2 at bottom"),"1-3":r(l["1-3"],"1 at top and 3 at bottom"),"1-4":r(l["1-4"],"1 at top and 4 at bottom"),"5s":r(l["5s"],"5-up Stacked"),6:r(l[6],"6-up"),"6c":r(l["6c"],"6-up in two columns"),8:r(l[8],"8-up"),
"8c":r(l["8c"],"8-up in two columns")},h=Object(a.__assign)(Object(a.__assign)({},c),u)},VSsv:function(e,t,i){"use strict";function n(e){return{level:e.level,text:e.text}}function r(e,t,i){return Object(o.__assign)({id:t},e)}var o,s;i.d(t,"a",function(){return s}),i.d(t,"c",function(){return n}),i.d(t,"b",function(){return r}),o=i("mrSG"),function(e){e[e.TopLeft=0]="TopLeft",e[e.TopCenter=1]="TopCenter",e[e.TopRight=2]="TopRight",e[e.MiddleLeft=3]="MiddleLeft",e[e.MiddleCenter=4]="MiddleCenter",e[e.MiddleRight=5]="MiddleRight",e[e.BottomLeft=6]="BottomLeft",e[e.BottomCenter=7]="BottomCenter",e[e.BottomRight=8]="BottomRight"}(s||(s={}))},VVxS:function(e,t,i){"use strict";var n,r=function(){try{this.isAvailable=!0,this.localStorage=window.localStorage,this.localStorage.setItem("tvlocalstorage.available","true")}catch(e){delete this.isAvailable,delete this.localStorage}this._updateLength()};r.prototype.length=0,r.prototype.isAvailable=!1,r.prototype.localStorage={"tvlocalstorage.available":"false"},r.prototype._updateLength=function(){var e,t;if(this.isAvailable)this.length=this.localStorage.length;else{for(t in e=0,this.localStorage)this.localStorage.hasOwnProperty(t)&&e++;this.length=e}},r.prototype.key=function(e){return this.isAvailable?this.localStorage.key(e):Object.keys(this.localStorage)[e]},r.prototype.getItem=function(e){return this.isAvailable?this.localStorage.getItem(e):void 0===this.localStorage[e]?null:this.localStorage[e]},r.prototype.setItem=function(e,t){this.isAvailable?this.localStorage.setItem(e,t):this.localStorage[e]=t,this._updateLength()},r.prototype.removeItem=function(e){this.isAvailable?this.localStorage.removeItem(e):delete this.localStorage[e],this._updateLength()},r.prototype.clear=function(){this.isAvailable?this.localStorage.clear():this.localStorage={},this._updateLength()},(n=function(e){this.storage=e}).prototype.getItem=function(e){return Promise.resolve(this.storage.getItem(e))},n.prototype.setItem=function(e,t){return Promise.resolve(this.storage.setItem(e,t))},window.TVLocalStorage=new r,window.TVLocalStorageAsync=new n(window.TVLocalStorage),e.exports={TVLocalStorage:window.TVLocalStorage,TVLocalStorageAsync:window.TVLocalStorageAsync}},VdBB:function(e,t,i){"use strict";i.r(t),i.d(t,"HitTestResult",function(){return n});var n=function(){function e(e,t,i){this._result=e,this._data=t,this._eraseMarker=i}return e.prototype.result=function(){return this._result},e.prototype.data=function(){return this._data},e.prototype.eraseMarker=function(){return this._eraseMarker},e.MOVEPOINT_BACKGROUND=1,e.REGULAR=2,e.MOVEPOINT=3,e.CHANGEPOINT=4,e.CUSTOM=5,e.CUSTOM_MOVE=6,e}()},Vdly:function(e,t,i){"use strict";(function(e,t){var n,r,o,s,a,l,c;i("qFKp"),n=i("BHQF").fetch,r=i("dTSQ").regExpEscape,o=i("FBuY").TVXWindowEvents,s=i("VVxS").TVLocalStorage,a=i("aIyQ"),l=["s.tradingview.com","betacdn.tradingview.com"],c=window.TVSettings=function(){function t(e){return P+"."+e}function i(e,t){var i;return i=T[e],window.is_authenticated&&!O||null!=i||(i=T[e]),null==i?t:i}function u(e,t,i){i=i||{}
;var n=""+t;return T[e]!==n&&(T[e]=n,p(e)),i.forceFlush&&!I&&(I=setTimeout(function(){I=void 0,f()},w)),c}function h(e,t){return t=t||{},null!=T[e]&&(delete T[e],p(e)),t.forceFlush&&f(),c}function d(){x=void 0,C.length&&f()}function p(e){if(M)null==T[e]?M.removeValue(e):M.setValue(e,T[e]);else if(!window.is_authenticated||O)try{null==T[e]?s.removeItem(t(e)):s.setItem(t(e),T[e])}catch(e){}else C.push(e),x||(x=setTimeout(d,S));o.emit("settings",JSON.stringify({key:e,value:T[e]}))}function f(t){var i,r,o,s,a,l;if(!e.enabled("widget")&&window.is_authenticated&&!O&&0!==C.length){for(i=C,C=[],r={},o=i.length;o--;)s=i[o],void 0===(a=T[s])&&(a=null),r[s]=a;(l=new FormData).append("delta",JSON.stringify(r)),t&&navigator.sendBeacon?navigator.sendBeacon("/savesettings/",l):n("/savesettings/",{method:"POST",credentials:"include",body:l})}}function _(){return Object.keys(T)}function m(e){for(var t=0;t<E.length;++t)if(E[t].exec(e))return!0;return!1}function g(e){var t,i,n,r;for(T={},t=0===Object.keys(e).length,i=P+".",n=s.length;n--;)(r=s.key(n))&&r.substring(0,i.length)===i&&(t&&u(r.substring(i.length),s.getItem(r)),s.removeItem(r));Object.keys(e).forEach(function(t){T[t]=e[t]+""})}var y,v,b,S,w,P,T,C,x,I,E,L,A=!1,O=e.enabled("cqg_terminal"),M=null;try{A=!TradingView.onWidget()&&parent&&parent!==window&&!!parent.IS_DEMO_PAGE}catch(e){}return A?(y={"widgetbar.layout-settings":{widgets:{},settings:{minimized:!0}},notShowMainWizard:!0},{loaded:!1,loadedModel:!1,getValue:v=function(e,t,i){var n=y[e];return null==n?t:n},getJSON:v,getBool:v,getFloat:v,getInt:v,setValue:b=function(){},setJSON:b,remove:b,keys:function(){return Object.keys(y)},keysMask:function(){return[]},sync:b,onSync:{subscribe:function(){}}}):(S=12e4,w=10,"local"===window.environment&&(S=5e3),P=TradingView.onWidget()?"tradingview-widget":"tradingview",T={},C=[],E=[/^widgetbar\.widget\.watchlist.+/,/.+quicks$/,/^widgetbar\.layout-settings$/,/^ChartSideToolbarWidget\.visible$/,/^onwidget\.watchlist$/,/^domepanel.visible$/,/^orderpanel.visible$/,/^chart\.favoriteDrawings$/,/^chart\.favoriteDrawingsPosition$/,/^loadChartDialog.favorites$/,/^ChartFavoriteDrawingToolbarWidget\.visible/,/^trading\.chart\.proterty$/,/^trading_floating_toolbar\.position$/,/^trading\.orderWidgetMode\./,/^symbolWatermark$/,/^pinereference\.size$/,/^pinereference\.position$/],o.on("settings",function(e){var t=JSON.parse(e);null==t.value?delete T[t.key]:T[t.key]=t.value}),L=new a,document.addEventListener("visibilitychange",function(){"hidden"!==document.visibilityState&&!0!==document.hidden||f()}),window.addEventListener("beforeunload",function(){f(!0)}),{loaded:!1,loadedModel:!1,getValue:i,getJSON:function(e,t){var n=i(e,void 0);if(null==n)return t;try{return JSON.parse(n)}catch(i){return h(e),t}},getBool:function(e,t){var n=i(e);return null==n?t:!(!n||"false"===n||0==+n)},getFloat:function(e,t,n){var r,o=i(e,void 0);if(null==o)return t;if(r=parseFloat(o),!isFinite(r))throw new TypeError('"'+o+'" is not float (key: "'+e+'")');return r},getInt:function(e,t,n){var r,o=i(e,void 0)
;if(null==o)return t;if(r=parseInt(o,10),!isFinite(r))throw new TypeError('"'+o+'" is not int (key: "'+e+'")');return r},setValue:u,setJSON:function(e,t,i){return u(e,JSON.stringify(t),i),c},remove:h,keys:_,keysMask:function(e,t){var i,n=_(),o=[];for(e=new RegExp("^"+r(e).replace(/\\\*\\\*/gi,".+").replace(/\\\*/gi,"[^.]+")+"$","gi"),i=n.length-1;i>=0;i--)e.test(n[i])&&o.push(n[i]),e.lastIndex=0;return o},sync:function(t){M?g(M.initialSettings||{}):window.is_authenticated&&!O?g(t||{}):(function(){var e,t,i,n;if(TradingView.onWidget()&&l.includes(window.location.host))for(e="tradingview.",t=s.length;t--;)0===(i=s.key(t)).indexOf(e)&&(n=i.replace(e,P+"."),s.setItem(n,s.getItem(i)),s.removeItem(i))}(),function(){var t,i,n,r,o;for(T={},t=P+".",i=!e.enabled("save_chart_properties_to_local_storage"),n=s.length;n--;)(r=s.key(n))&&r.substring(0,t.length)===t&&(o=r.substring(t.length),i&&!m(o)||(T[o]=s.getItem(r)))}()),L.fire()},onSync:L,setSettingsAdapter:function(e){M=e}})}(),setTimeout(function(){i.e("clear-old-settings").then(function(e){i("FwaW").clearOldSettings()}.bind(null,i)).catch(i.oe)},3e4),t&&t.exports&&(t.exports=c)}).call(this,i("Kxc7"),i("YuTi")(e))},VgjZ:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"PriceAxisRendererOptionsProvider",function(){return o}),n=i("XlJ7"),r=i("zDbI"),o=function(){function e(e){this._rendererOptions={borderSize:1,tickLength:4,offsetSize:1,fontSize:NaN,font:"",color:"",paneBackgroundColor:"",paddingBottom:0,paddingInner:0,paddingOuter:0,paddingTop:0,baselineOffset:0},this._chartModel=e}return e.prototype.options=function(){var e=this._rendererOptions,t=this._chartModel.properties(),i=t.scalesProperties.fontSize.value();return e.fontSize!==i&&(e.fontSize=i,e.font=Object(n.makeFont)(i,r.CHART_FONT_FAMILY,""),e.paddingTop=Math.floor(i/3.5),e.paddingBottom=e.paddingTop,e.paddingInner=Math.max(Math.ceil(i/2-e.tickLength/2),0),e.paddingOuter=Math.ceil(i/2+e.tickLength/2),e.baselineOffset=Math.round(i/5)),e.color=t.scalesProperties.textColor.value(),e.paneBackgroundColor=t.paneProperties.background.value(),this._rendererOptions},e}()},W3MX:function(e){
e.exports=JSON.parse('{"color-aqua-spring":"#ebf9f5","color-army-green":"#3d2c12","color-army-green-2":"#31230d","color-athens-gray-1":"#f2f3f5","color-athens-gray-2":"#f7f8fa","color-athens-gray-3":"#eceff2","color-black":"#000000","color-blue-dianne":"#21384d","color-bluish":"#2185cc","color-bright-gray":"#363c4e","color-brownish-grey":"#8d6e63","color-carnation":"#f04561","color-catskill-white":"#e1ecf2","color-charade":"#2f3241","color-charcoal-grey":"#323337","color-curious-blue":"#299dcd","color-dark-blue-grey":"#123440","color-darkness-blue-grey":"#12213b","color-dark-grey":"#292a2d","color-dark-grey-blue":"#28415a","color-dark-sky-blue":"#37a6ef","color-dark-slate-blue":"#194453","color-deep-sea-blue":"#016087","color-duck-egg-blue":"#e1eff9","color-ebony-clay":"#262b3e","color-foam":"#d7f0fb","color-gull-gray":"#9db2bd","color-humming-bird":"#d3eef9","color-keppel-1":"#37bc9b","color-keppel-2":"#34b293","color-lavender-blush":"#ffedf0","color-lightish-purple":"#a75ee8","color-loblolly":"#c5cbce","color-manatee":"#878ca8","color-mandy":"#eb4d5c","color-medium-blue":"#2e7bb2","color-milk-chocolate":"#6f2626","color-mirage-1":"#131722","color-mirage-2":"#171b29","color-mirage-3":"#1c2030","color-mischka":"#d6d8e0","color-morning-glory":"#9addcc","color-oslo-gray":"#8b8e95","color-pale":"#fff2cf","color-pale-grey-1":"#f9fafb","color-pale-grey-2":"#e7ebee","color-pale-sky":"#6b7988","color-picton-blue-1":"#3bb3e4","color-picton-blue-2":"#41bef1","color-puerto-rico":"#3bc2a1","color-purple-brown":"#4e2934","color-purple-brown-2":"#3d2028","color-radical-red":"#ff4a68","color-regent-gray":"#8797a5","color-scooter":"#38acdb","color-silver-tree":"#53b987","color-slate-gray":"#758696","color-sundown":"#ffa4b3","color-sunglow":"#ffca3b","color-tan-hide":"#ff9850","color-trout-1":"#4c525e","color-trout-2":"#4f5966","color-violet-1":"#332738","color-violet-2":"#271d2b","color-water-blue":"#1592e6","color-white":"#ffffff","color-white-ice":"#ebf7fc","color-wild-watermelon":"#ff5773","color-bg-primary":"color-white","color-bg-primary-hover":"color-cold-gray-100","color-bg-secondary":"color-cold-gray-50","color-bg-scroll-buttons":"color-cold-gray-100","color-legacy-bg-scroll-buttons":"color-cold-gray-850","color-legacy-bg-widget":"color-white","color-text-primary":"color-cold-gray-900","color-text-secondary":"color-cold-gray-500","color-text-tertiary":"color-cold-gray-400","color-text-disabled":"color-cold-gray-300","color-box-shadow":"color-cold-gray-300","color-divider":"color-cold-gray-150","color-divider-hover":"color-cold-gray-100","color-active-hover-text":"color-black","color-alert-text":"color-black","color-border-table":"color-cold-gray-100","color-brand":"color-tv-blue-500","color-brand-active":"color-tv-blue-600","color-brand-hover":"color-tv-blue-600","color-brand-light":"color-picton-blue-2","color-chart-page-bg":"color-cold-gray-150","color-common-tooltip-bg":"color-cold-gray-800","color-common-tooltip-text":"color-cold-gray-100","color-danger":"color-radical-red","color-depthrenderer-stroke-style":"color-athens-gray-1","color-highlight-new":"color-pale","color-input-bg":"color-white","color-input-publish-bg":"color-white","color-link":"color-tv-blue-500","color-link-hover":"color-tv-blue-600","color-link-active":"color-tv-blue-600","color-list-nth-child-bg":"color-athens-gray-2","color-pane-bg":"color-white","color-pane-secondary-bg":"color-cold-gray-100","color-popup-menu-item-hover-bg":"color-cold-gray-100","color-popup-menu-separator":"color-catskill-white","color-replay-data-mode":"color-radical-red","color-screener-header-bg":"color-athens-gray-2","color-screener-description":"color-trout-2","color-legacy-success":"color-keppel-1","color-success":"color-minty-green-500","color-success-hover":"color-minty-green-600","color-success-active":"color-minty-green-700","color-toolbar-button-text":"color-cold-gray-900","color-toolbar-button-text-hover":"color-black","color-toolbar-button-text-active":"color-tv-blue-500","color-toolbar-button-text-active-hover":"color-tv-blue-600","color-toolbar-button-background-hover":"color-cold-gray-100","color-toolbar-button-background-secondary-hover":"color-cold-gray-150","color-toolbar-toggle-button-background-active":"color-tv-blue-500","color-toolbar-toggle-button-background-active-hover":"color-tv-blue-600","color-toolbar-interactive-element-text-normal":"color-cold-gray-900","color-toolbar-interactive-element-text-hover":"color-black","color-toolbar-opened-element-bg":"color-cold-gray-100","color-tooltip-bg":"color-ebony-clay","color-tv-dialog-caption":"color-trout-2","color-tv-dropdown-item-hover-bg":"color-athens-gray-1","color-underlined-text":"color-slate-gray","color-widget-pages-bg":"color-white","color-warning":"color-tan-orange-500","color-growing":"color-minty-green-400","color-falling":"color-ripe-red-400","color-collapse-tabs-border":"color-athens-gray-3","color-forex-icon":"color-bright-gray","color-list-item-active-bg":"color-dark-sky-blue","color-list-item-hover-bg":"color-white-ice","color-list-item-text":"color-ebony-clay","color-site-widget-hover":"color-athens-gray-1","color-attention":"color-sunglow","color-price-axis-label-back":"color-cold-gray-150","color-price-axis-label-text":"color-cold-gray-650","color-price-axis-gear":"color-cold-gray-900","color-price-axis-gear-hover":"#000000","color-price-axis-highlight":"color-cold-gray-150","color-marker-flagged":"color-ripe-red-400","color-marker-flagged-hovered":"color-ripe-red-600","color-bid":"color-tv-blue-500","color-ask":"color-ripe-red-400","color-sell":"color-ripe-red-400","color-buy":"color-tv-blue-500","color-neutral":"color-cold-gray-500","color-border":"#dadde0","color-border-chat-fields":"#c9cbcd","color-border-hover":"#c8c8c8","color-button-hover-bg":"#f2f2f2","color-depthrenderer-fill-style":"#555555","color-disabled-border-and-color":"#ececec","color-disabled-input":"#ececec","color-readonly-input":"#b4b4b4","color-empty-container-message":"#8a8a8a","color-icons":"#7d7d7d","color-input-textarea-readonly":"#555555","color-item-active-blue":"#eff9ff","color-item-hover-active-bg":"#f1f3f6","color-item-hover-bg":"#edf1f2","color-item-hover-blue":"#c6e9f8","color-item-selected-blue":"#eafafe","color-item-active-text":"color-white","color-item-active-bg":"color-tv-blue-500","color-list-item":"#888989","color-news-highlight":"#f2f5f8","color-placeholder":"#adaeb0","color-row-hover-active-bg":"#f1f3f6","color-sb-scrollbar-body-bg":"#d8d8d8","color-screener-header-bg-hover":"#f1f3f6","color-section-separator-border":"#b5b7b9","color-separator-table-chat":"#eaecef","color-tag-active-bg":"#cfdce3","color-tag-hover-bg":"#dce6ea","color-text-regular":"#4a4a4a","color-tv-button-checked":"#757575","color-white-theme-tooltip-text":"#333333","color-brand-dark":"#2a2c39","color-scroll-bg":"color-cold-gray-400","color-scroll-border":"color-item-hover-active-bg","color-widget-border":"color-cold-gray-100","color-scroll-buttons-arrow":"color-white","color-control-intent-default":"color-cold-gray-200","color-control-intent-success":"color-minty-green-600","color-control-intent-primary":"color-tv-blue-500","color-control-intent-warning":"color-tan-orange-500","color-control-intent-danger":"color-ripe-red-500","color-seeking-alpha-brand":"#ff7200","color-pro":"color-minty-green-400","color-pro-hover":"color-minty-green-600","color-pro-plus":"color-tv-blue-500","color-pro-plus-hover":"color-tv-blue-600","color-pro-premium":"color-tan-orange-500","color-pro-premium-hover":"color-tan-orange-700","color-trial":"color-cold-gray-500","color-trial-hover":"color-cold-gray-600","color-mod":"color-ripe-red-400","color-mod-hover":"color-ripe-red-600","color-top":"color-banana-yellow-700","color-top-hover":"color-banana-yellow-800","color-ad":"color-banana-yellow-a700","color-ad-hover":"color-banana-yellow-700","color-broker-featured":"color-minty-green-400","color-broker-featured-hover":"color-minty-green-600","color-alert-status-active":"color-minty-green-400","color-alert-status-stopped":"color-ripe-red-500","color-alert-status-stopped-auto":"color-tan-orange-500","color-covid19-confirmed":"color-ripe-red-500","color-covid19-recovered":"color-minty-green-500","color-covid19-deaths":"color-cold-gray-450","color-blue-gray-950":"#0C0E15","color-cold-gray-50":"#F8F9FD","color-cold-gray-100":"#F0F3FA","color-cold-gray-150":"#E0E3EB","color-cold-gray-200":"#D1D4DC","color-cold-gray-250":"#C1C4CD","color-cold-gray-300":"#B2B5BE","color-cold-gray-350":"#A3A6AF","color-cold-gray-400":"#9598A1","color-cold-gray-450":"#868993","color-cold-gray-500":"#787B86","color-cold-gray-550":"#6A6D78","color-cold-gray-600":"#5D606B","color-cold-gray-650":"#50535E","color-cold-gray-700":"#434651","color-cold-gray-750":"#363A45","color-cold-gray-800":"#2A2E39","color-cold-gray-850":"#1E222D","color-cold-gray-900":"#131722","color-cold-gray-950":"#0C0E15","color-ripe-red-50":"#FFEBEE","color-ripe-red-100":"#FFCDD2","color-ripe-red-200":"#ef9a9a","color-ripe-red-300":"#E57373","color-ripe-red-400":"#EF5350","color-ripe-red-500":"#F44336","color-ripe-red-600":"#E53935","color-ripe-red-700":"#D32F2F","color-ripe-red-900":"#B71C1C","color-ripe-red-a200":"#FF5252","color-tan-orange-50":"#FFF3E0","color-tan-orange-100":"#FFE0B2","color-tan-orange-200":"#FFCC80","color-tan-orange-300":"#ffb74d","color-tan-orange-400":"#FFA726","color-tan-orange-500":"#FF9800","color-tan-orange-600":"#FB8C00","color-tan-orange-700":"#F57C00","color-tan-orange-800":"#EF6C00","color-tan-orange-900":"#e65100","color-tan-orange-a200":"#ffab40","color-tan-orange-a400":"#ff9100","color-tan-orange-a700":"#FF6D00","color-iguana-green-100":"#C8E6C9","color-iguana-green-200":"#A5D6A7","color-iguana-green-300":"#81c784","color-iguana-green-400":"#66BB6A","color-iguana-green-500":"#4caf50","color-iguana-green-600":"#43a047","color-iguana-green-700":"#388e3c","color-iguana-green-900":"#1B5E20","color-iguana-green-a700":"#00c853","color-banana-yellow-100":"#FFF9C4","color-banana-yellow-200":"#FFF59D","color-banana-yellow-300":"#FFF176","color-banana-yellow-400":"#ffee58","color-banana-yellow-500":"#ffeb3b","color-banana-yellow-600":"#fdd835","color-banana-yellow-700":"#fbc02d","color-banana-yellow-800":"#f9a825","color-banana-yellow-900":"#F57F17","color-banana-yellow-a400":"#ffea00","color-banana-yellow-a700":"#ffd600","color-tv-blue-50":"#E3F2FD","color-tv-blue-100":"#BBDEFB","color-tv-blue-200":"#90CAF9","color-tv-blue-300":"#64B5F6","color-tv-blue-400":"#42A5F5","color-tv-blue-500":"#2196F3","color-tv-blue-600":"#1E88E5","color-tv-blue-700":"#1976D2","color-tv-blue-800":"#1565C0","color-tv-blue-900":"#0d47a1","color-tv-blue-a100":"#82b1ff","color-tv-blue-a200":"#448aff","color-tv-blue-a400":"#2979ff","color-tv-blue-a600":"#2962FF","color-tv-blue-a700":"#144987","color-tv-blue-a800":"#143661","color-tv-blue-a900":"#132742","color-deep-blue-100":"#D1C4E9","color-deep-blue-200":"#B39DDB","color-deep-blue-300":"#9575cd","color-deep-blue-400":"#7e57c2","color-deep-blue-500":"#673ab7","color-deep-blue-700":"#512da8","color-deep-blue-800":"#4527A0","color-deep-blue-900":"#311B92","color-deep-blue-a100":"#b388ff","color-deep-blue-a700":"#6200EA","color-minty-green-100":"#B2DFDB","color-minty-green-200":"#80cbc4","color-minty-green-300":"#4db6ac","color-minty-green-400":"#26a69a","color-minty-green-500":"#009688","color-minty-green-600":"#00897b","color-minty-green-700":"#00796b","color-minty-green-900":"#004D40","color-minty-green-a400":"#1de9b6","color-minty-green-a700":"#00BFA5","color-grapes-purple-100":"#E1BEE7","color-grapes-purple-200":"#CE93D8","color-grapes-purple-300":"#ba68c8","color-grapes-purple-400":"#ab47bc","color-grapes-purple-500":"#9c27b0","color-grapes-purple-600":"#8e24aa","color-grapes-purple-700":"#7b1fa2","color-grapes-purple-800":"#6A1B9A","color-grapes-purple-900":"#4A148C","color-grapes-purple-a700":"#aa00ff","color-berry-pink-100":"#F8BBD0","color-berry-pink-200":"#f48fb1","color-berry-pink-300":"#f06292","color-berry-pink-400":"#ec407a","color-berry-pink-500":"#e91e63","color-berry-pink-700":"#C2185B","color-berry-pink-900":"#880E4F","color-berry-pink-a200":"#ff4081","color-sky-blue-100":"#B2EBF2","color-sky-blue-200":"#80DEEA","color-sky-blue-300":"#4dd0e1","color-sky-blue-400":"#26c6da","color-sky-blue-500":"#00bcd4","color-sky-blue-600":"#00acc1","color-sky-blue-700":"#0097A7","color-sky-blue-800":"#00838F","color-sky-blue-900":"#006064","color-sky-blue-a400":"#00e5ff","color-sky-blue-a700":"#00B8D4","color-deep-blue-600":"#5E35B1","color-facebook":"#1877F2","color-twitter":"#1DA1F2","color-pre-market":"color-tan-orange-600","color-pre-market-bg":"color-tan-orange-400","color-post-market":"color-tv-blue-500","color-post-market-bg":"color-tv-blue-400","color-market-open":"color-minty-green-500","color-market-open-bg":"color-minty-green-400","color-market-closed":"color-cold-gray-400","color-market-holiday":"color-cold-gray-400","color-invalid-symbol":"color-ripe-red-400","color-invalid-symbol-hover":"color-ripe-red-700","color-replay-mode":"color-tv-blue-500","color-replay-mode-icon":"color-white","color-replay-mode-hover":"color-tv-blue-600","color-delay-mode":"color-tan-orange-600","color-delay-mode-bg":"color-tan-orange-400","color-eod-mode":"color-deep-blue-600","color-eod-mode-bg":"color-grapes-purple-400","color-data-problem":"color-ripe-red-600","color-data-problem-bg":"color-ripe-red-400","color-data-problem-hover":"color-ripe-red-700"}')
},W5mg:function(e,t,i){"use strict";function n(e){return!e.groupId&&"time"!==e.type&&!e.isHidden&&!r.includes(e.id)}i.d(t,"a",function(){return n});var r=["first_visible_bar_time","last_visible_bar_time"]},WPQD:function(e,t,i){"use strict";(function(e){function n(e,t){this._constructor="LineToolTrendLine";var o=t||n.createProperties();r.call(this,e,o),e._trendLineStatsCache||(e._trendLineStatsCache=new a(e)),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("ocVb").TrendLinePaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=i("FVHe").TrendLineStatsCache,l=window.t("Trend Line");inherit(n,r),n.prototype.stop=function(){r.prototype.stop.call(this),this._model._trendLineStatsCache.removeSource(this.id())},n.prototype.pointsCount=function(){return 2},n.prototype.translatedType=function(){return l},n.prototype.name=function(){return"Trend Line"},n.prototype.canHasAlert=function(){return!0},n.prototype._getAlertPlots=function(){return[this._linePointsToAlertPlot(this._points,null,this.properties().extendLeft.value(),this.properties().extendRight.value())]},n.prototype.getStylesPropertyPage=function(){return s.LineToolTrendLineStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("auWl").TrendLineDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.prototype.template=function(){var e=r.prototype.template.call(this);return e.text=this.properties().childs().text.value(),e},n.prototype._applyTemplateImpl=function(e){r.prototype._applyTemplateImpl.call(this,e),this.properties().childs().text.setValue(e.text||"")},n.createProperties=function(e){var t=new o("linetooltrendline",e);return n._configureProperties(t),t},n._configureProperties=function(t){r._configureProperties(t),t.hasChild("text")||t.addChild("text",new e("")),t.addExclusion("text")},t.LineToolTrendLine=n}).call(this,i("tc+8"))},Wc1E:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h,d;i.r(t),i.d(t,"DataModeIndicator",function(){return d}),n=i("mrSG"),i("YFKU"),i("HbRj"),r=i("quTg"),o=i("r8Gw"),s={connecting:"tv-data-mode--connecting",delayed:"tv-data-mode--delayed",delayed_streaming:"tv-data-mode--delayed",endofday:"tv-data-mode--endofday",forbidden:"tv-data-mode--forbidden",realtime:"tv-data-mode--realtime",snapshot:"tv-data-mode--snapshot",loading:"tv-data-mode--loading",replay:"tv-data-mode--replay"},a={connecting:window.t("Connecting"),delayed:window.t("Delayed"),delayed_streaming:window.t("Delayed"),endofday:window.t("End of Day"),forbidden:window.t("Instrument is not allowed"),realtime:window.t("Real-time"),snapshot:window.t("Snapshot"),loading:"",replay:window.t("Replay Mode")},l={connecting:window.t("C",{context:"data_mode_connecting_letter"}),delayed:window.t("D",{context:"data_mode_delayed_letter"}),delayed_streaming:window.t("D",{context:"data_mode_delayed_streaming_letter"}),
endofday:window.t("E",{context:"data_mode_end_of_day_letter"}),forbidden:window.t("F",{context:"data_mode_forbidden_letter"}),realtime:window.t("R",{context:"data_mode_realtime_letter"}),snapshot:window.t("S",{context:"data_mode_snapshot_letter"}),loading:"",replay:window.t("R",{context:"data_mode_replay_letter"})},u={streaming:"realtime"},h={classMap:s,classSuffix:"",data:{values:{update_mode:"connecting"}},labelMap:a,modeInterval:c=600,short:!1,shortLabelMap:l,showTooltip:!0,tooltipType:"custom"},d=function(e){function t(t){var i=e.call(this,t)||this;return i._quoteSessionPrefix="data-mode-indicator",i._componentClass="tv-data-mode",i._init(t),i}return Object(n.__extends)(t,e),t.prototype.getLabel=function(){return!0===this._shortMode?this._shortLabelMap[this._value]||"":e.prototype.getLabel.call(this)},t.prototype.setMode=function(e,t){this.update({values:{update_mode:e,update_mode_seconds:t}})},t.prototype.hide=function(){this._el.classList.add("i-hidden")},t.prototype.show=function(){this._el.classList.remove("i-hidden")},t.prototype.getTooltipText=function(){var e="",t=this.getValue();if(""===t)return e;switch(t){case"delayed":e=window.t("Quotes are delayed by {0} min and updated every 30 seconds");break;case"delayed_streaming":e=window.t("Quotes are delayed by {0} min");break;default:e=this._labelMap[t]||e}return["delayed","delayed_streaming"].includes(t)&&(e=e.format(Math.round(this._modeInterval/60))),e},t.prototype._init=function(t){void 0===t&&(t={});var i=Object.assign({},h,t);this._modeInterval=i.modeInterval||c,this._shortLabelMap=i.shortLabelMap||l,e.prototype._init.call(this,i),this._render()},t.prototype._getValueFromData=function(e){var t;return t=void 0!==e.values&&void 0!==e.values.update_mode?e.values.update_mode:this.getValue(),u[t]||t},t.prototype._updateValue=function(t,i){void 0!==t.values&&void 0!==t.values.update_mode_seconds&&(this._modeInterval=t.values.update_mode_seconds),e.prototype._updateValue.call(this,t,i)},t}(o.a)},Wh6B:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolPrediction";var r=t||n.createProperties();o.call(this,e,r),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("Ay2m").PredictionPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Eyy1").ensureNotNull,o=i("Ss5c").LineDataSource,s=i("Ocx9").DefaultProperty,a=i("hayr").propertyPages,l=i("08i5"),c=window.t("Forecast");inherit(n,o),n.prototype.isSynchronizable=function(){return!1},n.prototype.status=function(){return this._properties.status.value()},n.prototype.setStatus=function(e){return this._properties.status.setValue(e)},n.prototype.pointsCount=function(){return 2},n.prototype.translatedType=function(){return c},n.prototype.name=function(){return"Forecast"},n.prototype.restorePoints=function(e,t,i){o.prototype.restorePoints.call(this,e,t,i),this.checkAlert()},n.prototype.checkAlert=function(){var e,t,i,n;this._points.length<2||this._model.mainSeries().bars().isEmpty()||(e=this._points[1],
this.status()?e.index>this._model.timeScale().baseIndex()&&this.setStatus(l.AlertStatus.Waiting):null!==(t=this._model.mainSeries().bars().valueAt(e.index))&&((i=this.direction())===l.Direction.Up&&t[TradingView.HIGH_PLOT]>=e.price?this.setStatus(l.AlertStatus.Success):i===l.Direction.Down&&t[TradingView.LOW_PLOT]<=e.price?this.setStatus(l.AlertStatus.Success):(n=r(this._model.mainSeries().bars().lastIndex()),e.index!==n&&this.setStatus(l.AlertStatus.Failure))))},n.prototype.addPoint=function(e){var t=o.prototype.addPoint.call(this,e);return t&&this.checkAlert(),t},n.prototype.endChanging=function(){o.prototype.endChanging.call(this),this.setStatus(l.AlertStatus.Waiting),this.checkAlert()},n.prototype.onData=function(e){o.prototype.onData.call(this,e),this.checkAlert()},n.prototype.endMoving=function(){o.prototype.endMoving.call(this),this.setStatus(l.AlertStatus.Waiting),this.checkAlert()},n.prototype.direction=function(){var e;return this.points().length<2?l.Direction.Up:(e=this.points()[0],this.points()[1].price>e.price?l.Direction.Up:l.Direction.Down)},n.prototype.getStylesPropertyPage=function(){return a.LineToolPredictionStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("Pwwq").PredictionDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.prototype.cloneable=function(){return!1},n.createProperties=function(e){var t=new s("linetoolprediction",e);return n._configureProperties(t),t},n._configureProperties=function(e){o._configureProperties(e),e.merge({status:l.AlertStatus.Waiting})},t.LineToolPrediction=n},Wh9f:function(e,t,i){"use strict";function n(e){return o(s(e),r(e))}function r(e){var t,i={shortName:e.shortName,exchange:e.exchange,proName:e.proName,type:e.type};return e.proName&&e.proName.includes(":")&&(t=e.proName.split(":"),i.exchange=t[0],i.shortName=t[1]),i}function o(e,t){return e.replace("{tvexchange}",t.exchange||"").replace("{tvsymbol}",t.shortName||"").replace("{tvprosymbol}",t.proName||"")}function s(e){var t=e.type&&["spread","expression"].includes(e.type);return t?e.proName?"/symbols/spread/{tvprosymbol}/":"/":void 0===e.shortName&&void 0===e.proName?(console.warn("Params missed"),"/"):e.type&&["forex","bitcoin","crypto"].includes(e.type)?e.exchange?"/symbols/{tvsymbol}/?exchange={tvexchange}":"/symbols/{tvsymbol}/":e.exchange||e.proName?"/symbols/{tvexchange}-{tvsymbol}/":"/symbols/{tvsymbol}/"}function a(e,t){var i,n,s=e;if(/{tvsymbol}|{tvexchange}|{tvprosymbol}/.test(e)||(i="tvprosymbol",void 0===t.proName&&(i="tvsymbol"),s=e+"?tvwidgetsymbol={"+i+"}"),n=o(s,r(t)),!Object(f.c)(n))throw new Error("The symbol URL "+n+" is not allowed.");return n}function l(e,t,i,n){var s=window.locale_domains?Object(p.determineBaseUrl)(window.locale_domains,n):window.location.origin,a=o(e,r(t)),l=s+a;return i?Object(p.addUtmToUrl)(l,i):l}function c(e,t,i){return l(s(e),e,t,i)}function u(e,t){return l("/chart/?symbol={tvprosymbol}",e,t)}function h(e,t,i){
return l(s(e)+"technicals/",e,t,i)}var d,p,f;i.r(t),i.d(t,"getSymbolPagePath",function(){return n}),i.d(t,"makeSymbolInfoWithSymbolInfoPriority",function(){return r}),i.d(t,"renderTemplate",function(){return o}),i.d(t,"makeSymbolPagePathTemplate",function(){return s}),i.d(t,"makeTemplateSymbolUrl",function(){return a}),i.d(t,"makeTemplatedSymbolPageUrl",function(){return l}),i.d(t,"makeSymbolPageUrl",function(){return c}),i.d(t,"makeSymbolChartUrl",function(){return u}),i.d(t,"makeSymbolTechnicalsPageUrl",function(){return h}),d=i("bSeV"),p=i("E1RQ"),f=i("wuAJ")},"Wj6+":function(e,t,i){"use strict";var n;i.r(t),i.d(t,"Size",function(){return n}),function(e){e.Small="small",e.Medium="medium",e.Large="large"}(n||(n={}))},WkOR:function(e,t,i){"use strict";function n(e,t){return void 0===e?void 0===t:void 0!==t&&(s?e.toUpperCase()===t.toUpperCase():e===t)}function r(e,t){return e.some(function(e){return n(t,e)})}var o,s;i.r(t),i.d(t,"areEqualSymbols",function(){return n}),i.d(t,"includesEqualSymbol",function(){return r}),o=i("Kxc7"),s=o.enabled("uppercase_instrument_names")},WkYF:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolDateRange";var o=t||n.createProperties();r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("3xLB").DateRangePaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=window.t("Date Range");inherit(n,r),n.prototype.pointsCount=function(){return 2},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Date Range"},n.prototype.getStylesPropertyPage=function(){return s.LineToolDateRangeStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("Ax76").GeneralDatePriceRangeDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new o("linetooldaterange",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolDateRange=n},Wo0S:function(e,t,i){e.exports={"common-tooltip":"common-tooltip-s2GEoMlT","common-tooltip--hidden":"common-tooltip--hidden-Z0EAvXgv","common-tooltip--horizontal":"common-tooltip--horizontal-13imOC5w","common-tooltip--farther":"common-tooltip--farther-2yXMAkHF","common-tooltip--vertical":"common-tooltip--vertical-mcRoucek","common-tooltip-farther":"common-tooltip-farther-XoKytD99","common-tooltip--no-pointer-events":"common-tooltip--no-pointer-events-3nL0Vygu","common-tooltip--direction_normal":"common-tooltip--direction_normal-3u9ejKM2","common-tooltip__body":"common-tooltip__body-356XFpBj","common-tooltip__button-container":"common-tooltip__button-container-3EjyKV3s","common-tooltip__body--no-buttons":"common-tooltip__body--no-buttons-3quqi1Sv","common-tooltip__button":"common-tooltip__button-1rnQgujz",
"common-tooltip--direction_reversed":"common-tooltip--direction_reversed-XN-JUTdr","common-tooltip__ear-holder":"common-tooltip__ear-holder-yIJjpvgu","common-tooltip__ear-holder--below":"common-tooltip__ear-holder--below-1rmzWejA","common-tooltip__ear-holder--above":"common-tooltip__ear-holder--above-1D8FkNkw","common-tooltip__ear-holder--before":"common-tooltip__ear-holder--before-oXq5sFXr","common-tooltip__ear-holder--after":"common-tooltip__ear-holder--after-BnAcuW1N","common-tooltip__body--with-hotkey":"common-tooltip__body--with-hotkey-2wXRtgYZ","common-tooltip__body--width_wide":"common-tooltip__body--width_wide-3oG604Li","common-tooltip__body--width_narrow":"common-tooltip__body--width_narrow-34hrFTFo","common-tooltip__body--no-padding":"common-tooltip__body--no-padding-2vVe6Xco","common-tooltip__hotkey-block":"common-tooltip__hotkey-block-2gS_uAOl","common-tooltip__hotkey-block--divider":"common-tooltip__hotkey-block--divider-rQ38KmpQ","common-tooltip__hotkey-text":"common-tooltip__hotkey-text-1eb7dyCg","common-tooltip__hotkey-button":"common-tooltip__hotkey-button-1XJ40e4D","common-tooltip__plus-sign":"common-tooltip__plus-sign-3CKSupKp"}},WqyU:function(e,t,i){(function(e){var t,i,n;"undefined"!=typeof window&&(t=window.TVScript=window.TVScript||{}),(t=t||{}).Access={},t.Access.ACCESS_OPEN_NO_AUTH="open_no_auth",t.Access.ACCESS_CLOSED_NO_AUTH="closed_no_auth",t.Access.ACCESS_CLOSED_NEEDS_AUTH="closed_needs_auth",t.Access.MAP_ID_TO_NAME={1:t.Access.ACCESS_OPEN_NO_AUTH,2:t.Access.ACCESS_CLOSED_NO_AUTH,3:t.Access.ACCESS_CLOSED_NEEDS_AUTH},t.Access.MAP_NAME_TO_ID={},Object.keys(t.Access.MAP_ID_TO_NAME).forEach(function(e){t.Access.MAP_NAME_TO_ID[t.Access.MAP_ID_TO_NAME[e]]=e}),t.Kinds={},t.Kinds.STUDY="study",t.Kinds.STRATEGY="strategy",t.PinePrefix={},t.PinePrefix.USER="USER;",t.PinePrefix.PUB="PUB;",t.PinePrefix.STD="STD;",t.PinePrefix.TV="TV_",t.PinePrefix.EDGR="EDGR_",t.PineType={},t.PineType.UserSaved="PineType_UserSaved",t.PineType.UserPublished="PineType_UserPublished",t.PineType.BuiltIn="PineType_BuiltIn",t.PineType.Addon="PineType_Addon",t.Type=t.Type||function(){},t.Type.VOID="void",t.Type.INTEGER="integer",t.Type.FLOAT="float",t.Type.STRING="string",t.Type.BOOL="bool",t.Type.COLOR="color",t.Type.SERIES="series",t.Type.PLOT="plot",t.Type.HLINE="hline",t.Type.BARCOLOR="barcolor",t.Type.BGCOLOR="bgcolor",t.Type.PLOTSHAPES="plotshape",t.Type.PLOTCHARS="plotchar",t.Type.PLOTARROWS="plotarrow",t.Type.NA="na",t.Type.ARRAY="array",t.TranslatorDefaultVersion=1,t.TranslatorReferenceVersioningIntroduced=4,t.TranslatorLastVersion=4,t.pineType=function(e){return e.startsWith(t.PinePrefix.USER)?t.PineType.UserSaved:e.startsWith(t.PinePrefix.PUB)?t.PineType.UserPublished:e.startsWith(t.PinePrefix.STD)||e.startsWith(t.PinePrefix.TV)||e.startsWith(t.PinePrefix.EDGR)?t.PineType.BuiltIn:t.PineType.Addon},t.patchILTemplate=function(e,i,n){var r=n||{},o=/<(in_\d+)>/g;return t._patchTemplate(o,e,i,r)},t.decorateQuotes=function(e){var t,i,n;return e?(t=/([^\\']+?)(')[^']*?/g,i="$1\\$2",
"'"==(n=e).charAt(0)&&"'"==n.charAt(n.length-1)?"'"+(n=n.substr(1,n.length-2)).replace(t,i)+"'":n.replace(t,i)):e},t.patchInputs=function(e,t){var i,n,r,o={};for(i in e)e.hasOwnProperty(i)&&(r=(n=e[i]).isFake?{v:t[n.id],f:!0,t:n.type}:t[n.id],o[n.id]=r);return o},t._patchTemplate=function(e,i,n,r){var o=r||{},s=i.replace(e,function(e,i){var r,s,a=i in o?o[i]:n.defaults.inputs[i];for(r=0;r<n.inputs.length;++r)n.inputs[r].id===i&&("bool"===n.inputs[r].type?a=a?"1.0":"0.0":["text","symbol","resolution","session"].indexOf(n.inputs[r].type)>=0?a="'"+t.decorateQuotes(a)+"'":"source"===n.inputs[r].type&&((s=a.split("$"))[0]="'"+s[0]+"'",a="source("+s.join(",")+")"));return a});return s},t.isStrategy=function(e){return/^\s*strategy\s*\(/m.test(e)},i=/^\/\/\s*?@version\s*?=\s*?(\S*?)\s*?$/gm,n=/^[0-9]+$/,t.extractVersion=function(e){var r,o,s;return i.lastIndex=0,null===(r=i.exec(e))?t.TranslatorDefaultVersion:(o=r[1],s=n.test(o)?Number(o):NaN,isNaN(s)?t.TranslatorDefaultVersion:s)},e&&e.exports&&(e.exports=t)}).call(this,i("YuTi")(e))},Wt0y:function(e,t,i){"use strict";function n(e){var t;return void 0===e&&(e=location.host),t=["d33t3vvu2t2yu5.cloudfront.net","dwq4do82y8xi7.cloudfront.net","s.tradingview.com","s3.tradingview.com"],-1!==["i18n.tradingview.com","partial.tradingview.com","www.tradingview.com","wwwcn.tradingview.com"].indexOf(e)||-1!==t.indexOf(e)||e.match(/^[a-z]{2}\.tradingview\.com/)||e.match(/prod-[^.]+.tradingview.com/)?"battle":-1!==e.indexOf("tradingview.com")?"staging":e.match(/webcharts/)?"staging_local":(e.match(/^localhost(:\d+)?$/),"local")}function r(){return"local"===n()}function o(){return"battle"===n()}function s(){return!o()}i.r(t),i.d(t,"environment",function(){return n}),i.d(t,"isLocal",function(){return r}),i.d(t,"isProd",function(){return o}),i.d(t,"isDebug",function(){return s})},X2bh:function(e,t,i){"use strict";function n(){return new Promise(function(e){Object(r.createConfirmDialog)({type:"modal",content:window.t("This drawing is used in alert. If you remove the drawing, the alert will be also removed. Do you want to remove the drawing anyway?")}).then(function(t){t.on("action:yes",function(t){t.close(),e(!0)}),t.on("action:no",function(t){t.close(),e(!1)}),t.on("destroy",function(){return e(!1)}),t.open()}).catch(function(t){throw e(!1),t})})}i.r(t),i.d(t,"confirmDatasourceRemoving",function(){return n});var r=i("oNDq")},XAms:function(e,t,i){"use strict";function n(e){e.preventDefault()}function r(e){var t=e.target;t&&!t.closest(o.join(", "))&&e.preventDefault()}i.d(t,"a",function(){return n}),i.d(t,"b",function(){return r});var o=["input:not([type])",'input[type="text"]','input[type="email"]','input[type="password"]','input[type="search"]','input[type="number"]','input[type="url"]',"textarea","a[href]",'*[contenteditable="true"]']},XFad:function(e,t,i){"use strict";function n(e,t){var i=t||n.createProperties();o.call(this,e,i),this._constructor="LineToolSchiffPitchfork2"}var r=i("5rJj"),o=i("aDyP").LineToolPitchfork,s=window.t("Schiff Pitchfork");inherit(n,o),
n.prototype.translatedType=function(){return s},n.prototype.name=function(){return"Schiff Pitchfork"},n.createProperties=function(e){var t=new r("linetoolschiffpitchfork2",e,!1,{range:[0,8]});return n._configureProperties(t),t},n._configureProperties=function(e){o._configureProperties(e)},t.LineToolSchiffPitchfork2=n},XHTO:function(e,t,i){e.exports={indicator:"indicator-2-4D_4No",visible:"visible-3nLICWKx",attention:"attention-1Awiiwh2","data-warning-indicator-blinking":"data-warning-indicator-blinking-3FHh-Q2h","data-warning-indicator-blinking-reverse":"data-warning-indicator-blinking-reverse-26mzlDwj",active:"active-1-d2ZZY7"}},"XMe/":function(e,t,i){"use strict";var n,r,o;Object.defineProperty(t,"__esModule",{value:!0}),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.sortedStringify=function(e,t){var i,s,a,l,c,u;return t||(t={}),"function"==typeof t&&(t={cmp:t}),"number"==typeof(i=t.space||"")&&(i=Array(i+1).join(" ")),s="boolean"==typeof t.cycles&&t.cycles,a=t.replacer||function(e,t){return t},l=t.cmp&&(u=t.cmp,function(e){return function(t,i){var n={key:t,value:e[t]},r={key:i,value:e[i]};return u(n,r)}}),c=[],function e(t,u,h,d){var p,f,_,m,g,y,v=i?"\n"+new Array(d+1).join(i):"",b=i?": ":":";if(h&&h.toJSON&&"function"==typeof h.toJSON&&(h=h.toJSON()),void 0!==(h=a.call(t,u,h))){if("object"!==(void 0===h?"undefined":n(h))||null===h)return JSON.stringify(h);if(r(h)){for(p=[],f=0;f<h.length;f++)_=e(h,f,h[f],d+1)||JSON.stringify(null),p.push(v+i+_);return"["+p.join(",")+v+"]"}if(-1!==c.indexOf(h)){if(s)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}for(c.push(h),m=o(h).sort(l&&l(h)),p=[],f=0;f<m.length;f++)(g=e(h,u=m[f],h[u],d+1))&&(y=JSON.stringify(u)+b+g,p.push(v+i+y));return c.splice(c.indexOf(h),1),"{"+p.join(",")+v+"}"}}({"":e},"",e,0)},r=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},o=Object.keys||function(e){var t,i=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(t in e)i.call(e,t)&&n.push(t);return n}},XPit:function(e,t,i){"use strict";function n(){var e=new Map;return c.forEach(function(t,i){e.set(t,r(t))}),e}function r(e){return l[e]}var o,s,a,l,c,u;i.r(t),i.d(t,"TimePointIndexSearchMode",function(){return a}),i.d(t,"seriesPlotFunctionMap",function(){return n}),i.d(t,"barFunction",function(){return r}),i.d(t,"SeriesData",function(){return u}),o=i("Eyy1"),s=i("k9/m"),function(e){e[e.FromLeft=-1]="FromLeft",e[e.FromRight=1]="FromRight"}(a||(a={})),l={open:function(e){return e[1]},high:function(e){return e[2]},low:function(e){return e[3]},close:function(e){return e[4]},hl2:function(e){return(e[2]+e[3])/2},hlc3:function(e){return(e[2]+e[3]+e[4])/3},ohlc4:function(e){return(e[1]+e[2]+e[3]+e[4])/4}},c=["open","high","low","close","hl2","hlc3","ohlc4"],u=function(){function e(){this.m_bars=new s.PlotList(n()),this.m_nsBars=new s.PlotList(n())}
return e.prototype.bars=function(){return this.m_bars},e.prototype.nsBars=function(){return this.m_nsBars},e.prototype.size=function(){return this.m_bars.size()+this.m_nsBars.size()},e.prototype.each=function(e){this.m_bars.each(e),this.m_nsBars.each(e)},e.prototype.clear=function(){this.m_bars.clear(),this.m_nsBars.clear(),this.lastProjectionPrice=void 0},e.prototype.isEmpty=function(){return this.m_bars.isEmpty()&&this.m_nsBars.isEmpty()},e.prototype.first=function(){return this.m_bars.isEmpty()?this.m_nsBars.first():this.m_bars.first()},e.prototype.last=function(){return this.m_nsBars.isEmpty()?this.m_bars.last():this.m_nsBars.last()},e.prototype.search=function(e,t){return this.nsBars().isEmpty()?this.bars().search(e,t):this.bars().isEmpty()?this.nsBars().search(e,t):Object(o.ensureNotNull)(this.nsBars().firstIndex())<=e?this.nsBars().search(e,t):this.bars().search(e,t)},e.prototype.valueAt=function(e){var t=this.search(e);return null!==t?t.value:null},e.prototype.plotValueToTimePointIndex=function(e,t,i){var n,r,o,s;if(i===a.FromRight)return n=function(i,n){var r=n[t];return void 0!==r&&null!==r&&e>=r},null!==(r=this.m_bars.findLast(n))?r.index:null!==(o=this.m_nsBars.findLast(n))?o.index:this.m_bars.firstIndex();if(i===a.FromLeft)return s=function(i,n){var r=n[t];return void 0!==r&&null!==r&&e<=r},null!==(r=this.m_bars.findFirst(s))?r.index:null!==(o=this.m_nsBars.findFirst(s))?o.index:this.m_bars.lastIndex();throw new Error("plotValueToTimePointIndex: unsupported search mode")},e}()},XUCF:function(e,t,i){"use strict";function n(e,t,i){this._source=e,this._index=t,this._bars=i||[]}function r(e,t,n){var o,a;this._constructor="LineToolGhostFeed",(o=t||r.createProperties())._source=this,n||(a=Math.round(this.calculateATR(e)),o.averageHL.setValue(a)),s.call(this,e,o),this._segments=[],o.averageHL.listeners().subscribe(this,r.prototype.regenerate),o.variance.listeners().subscribe(this,r.prototype.regenerate),o.points||o.addProperty("points"),this._currentAverageHL=this._properties.averageHL.value(),this._currentVariance=this._properties.variance.value(),this._currentInterval=e.mainSeries().interval(),this.properties().onRestoreFactoryDefaults().subscribe(this,this._handleRestoringFactoryDefaults),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("dMkl").GhostFeedPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var o=i("Hr11").sign,s=i("Ss5c").LineDataSource,a=i("Ocx9").DefaultProperty,l=i("hayr").propertyPages,c=window.t("Ghost Feed");n.prototype.setBars=function(e){this._bars=e||[]},n.prototype.clone=function(e){return new n(e,this._index,TradingView.clone(this._bars))},n.prototype.createBar=function(){var e,t,i,n=this._source.properties().averageHL.value(),r=this._source.properties().variance.value()/100,o=this._source._model.mainSeries().base(),s=Math.random(),a=n*(1-2*s)*r;return i=(t=a-(e=n*(1+(.5-(s=Math.random()))*r))/2)+e,{o:(t+Math.random()*e)/o,h:i/o,l:t/o,c:(t+Math.random()*e)/o}},n.prototype.generate=function(){var e,t,i,n,r,s
;if(this._bars=[],t=(e=this._source.points())[this._index],i=e[this._index+1],t&&i&&t.index!==i.index)for(this._avgHL=this._source.properties().averageHL.value(),this._variance=this._source.properties().variance.value()/100,n=this._index?t.index+1:t.index,r=o(i.index-t.index),s=n;s!==i.index;s+=r)this._bars.push(this.createBar())},n.prototype.bars=function(){return this._bars},n.prototype.setSize=function(e){if(e<this._bars.length)this._bars.splice(e,this._bars.length-e);else for(;this._bars.length<e;)this._bars.push(this.createBar())},inherit(r,s),r.prototype.isSynchronizable=function(){return!1},r.prototype._handleRestoringFactoryDefaults=function(){var e=Math.round(this.calculateATR());this.properties().averageHL.setValue(e)},r.prototype.destroy=function(){this.properties().onRestoreFactoryDefaults().unsubscribe(this,this._handleRestoringFactoryDefaults),s.prototype.destroy.call(this)},r.prototype.regenerate=function(){this._currentAverageHL=this._properties.averageHL.value(),this._currentVariance=this._properties.variance.value(),this._segments.forEach(function(e){e.generate()}),this.updateAllViews(),this._model.updateSource(this)},r.prototype.propertiesChanged=function(){s.prototype.propertiesChanged.call(this),this._currentAverageHL===this._properties.averageHL.value()&&this._currentVariance===this._properties.variance.value()||this.regenerate()},r.prototype.pointsCount=function(){return-1},r.prototype.translatedType=function(){return c},r.prototype.name=function(){return"Ghost Feed"},r.prototype.segmentBars=function(e){return this._segments[e].bars()},r.prototype.segments=function(){return this._segments},r.prototype.generateBars=function(e){this._segments.length<=e&&this._segments.push(new n(this,e)),this._segments[e].generate()},r.prototype.addPoint=function(e){var t,i;if(this._points.length>0&&this._points[this._points.length-1].index===e.index){for(this._lastPoint=null,this.normalizePoints(),this.createServerPoints(),t=0;t<this._points.length;t++)this._createPointProperty(t);return!0}return i=s.prototype.addPoint.call(this,e),this._finished&&(this._lastPoint=null),this._points.length>1&&this.generateBars(this._points.length-2),i||this._finished},r.prototype.finish=function(){this._finished=!0,this._lastPoint=null,this.normalizePoints(),this.createServerPoints()},r.prototype.setPoint=function(e,t,i){var n,r;s.prototype.setPoint.call(this,e,t,i),e>0&&(n=this.points()[e-1],r=t.index-n.index,this._segments[e-1].setSize(Math.abs(r))),e<this.points().length-1&&(r=this.points()[e+1].index-t.index,this._segments[e].setSize(Math.abs(r)))},r.prototype.state=function(e){var t=s.prototype.state.call(this,e);return t.segments=this._segments.map(function(e){return{bars:e.bars()}}),t},r.prototype.restoreData=function(e){var t=this;e.segments&&(this._segments=e.segments.map(function(e,i){return new n(t,i,[].concat(e.bars))})),this._currentAverageHL=this._properties.averageHL.value(),this._currentVariance=this._properties.variance.value()},r.prototype.onData=function(e){if(s.prototype.onData.call(this,e),
0===this.properties().points._childs.length)for(var t=0;t<this._points.length;t++)this._createPointProperty(t);this._currentInterval!==this._model.mainSeries().interval()&&(this.regenerate(),this._currentInterval=this._model.mainSeries().interval())},r.prototype.cloneData=function(e){var t=this;this._segments=e._segments.map(function(e){return e.clone(t)})},r.prototype.calculateATR=function(e){var t,i=(void 0!==e?e:this._model).mainSeries(),n=[];return i.bars().each(function(e,t){n.push(t[TradingView.HIGH_PLOT]-t[TradingView.LOW_PLOT])}),t=0===n.length?0:n.reduce(function(e,t){return e+t},0)/n.length,t*=i.base()},r.prototype.getInputsPropertyPage=function(){return l.LineToolGhostFeedInputsPropertyPage},r.prototype.getStylesPropertyPage=function(){return l.LineToolGhostFeedStylesPropertyPage},r.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("fIc+").GhostFeedDefinitionsViewModel}.bind(null,i)).catch(i.oe)},r.createProperties=function(e){var t=new a("linetoolghostfeed",e);return r._configureProperties(t),t},r._configureProperties=function(e){s._configureProperties(e)},t.LineToolGhostFeed=r},XcdR:function(e,t,i){"use strict";var n,r,o,s,a;i.d(t,"a",function(){return a}),n=i("mrSG"),r=i("uOxu"),o=i("RDU5"),s=Object(r.getLogger)("Chart.ChartUndoModel"),a=function(e){function t(t,i,n){var r=e.call(this,n,!1)||this;return r._newRightOffsetAndBarSpacing=null,r.setCustomFlag("doesnt_affect_save",!0),r._model=t,r._rightOffsetAndBarSpacing=i,r}return Object(n.__extends)(t,e),t.prototype.undo=function(){if(null===this._newRightOffsetAndBarSpacing){var e=this._model.timeScale();this._newRightOffsetAndBarSpacing={barSpacing:e.barSpacing(),rightOffset:e.rightOffset()},e.setBarSpacing(this._rightOffsetAndBarSpacing.barSpacing),e.setRightOffset(this._rightOffsetAndBarSpacing.rightOffset)}else s.logDebug("TimeScaleChangeUndoCommand.undo: Command is already undone")},t.prototype.redo=function(){if(null!==this._newRightOffsetAndBarSpacing){var e=this._model.timeScale();e.setBarSpacing(this._newRightOffsetAndBarSpacing.barSpacing),e.setRightOffset(this._newRightOffsetAndBarSpacing.rightOffset),this._newRightOffsetAndBarSpacing=null}else s.logDebug("TimeScaleChangeUndoCommand.redo: Command is not undone")},t}(o.UndoCommand)},XlJ7:function(e,t,i){"use strict";function n(e,t,i,n){return(n?n+" ":"")+(i?i+" ":"")+e+"px "+t}function r(e){var t=o.exec(e);return null===t?null:{family:t[5],size:parseInt(t[3])*("pt"===t[4]?.75:1),bold:Boolean(t[1]),italic:Boolean(t[2])}}i.r(t),i.d(t,"makeFont",function(){return n}),i.d(t,"parseFont",function(){return r});var o=/(bold )?(italic )?(\d+)(px|pt) (.*)$/},XuOW:function(e,t,i){"use strict";var n;i.r(t),i.d(t,"InsertionErrorCode",function(){return n}),function(e){e.StudyCannotBeChild="cannot_be_child",e.StubWasRemoved="stub_was_removed",e.CannotGetMetainfo="cannot_get_metainfo",e.Cancelled="cancelled",e.Unknown="unknown"}(n||(n={}))},Xyly:function(e,t,i){"use strict";function n(e,t){
this._constructor="LineToolBezierQuadro";var o=t||n.createProperties();r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("4Ptp").BezierQuadroPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=window.t("Curve");inherit(n,r),n.prototype.pointsCount=function(){return 2},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Curve"},n.prototype.controlPoint=function(){var e=this.pointToScreenPoint(this.points()[0])[0],t=this.pointToScreenPoint(this.points()[1])[0],i=t.subtract(e).scaled(.5),n=i.transposed().scaled(.3),r=e.add(t).scaled(.5),o=r.add(n),s=this.screenPointToPoint(o);return s},n.prototype.setLastPoint=function(e,t){r.prototype.setLastPoint.call(this,e,t),this._controlPoint=this.controlPoint()},n.prototype.addPoint=function(e,t,i){var n,o=r.prototype.addPoint.call(this,e,t,!0);return o&&(n=this.controlPoint(),this._points.push(n),delete this._controlPoint,i||(this.normalizePoints(),this.createServerPoints()),this._createPointProperty(2)),o},n.prototype.restorePoints=function(e,t,i){r.prototype.restorePoints.call(this,e,t,i),this._createPointProperty(2)},n.prototype.getStylesPropertyPage=function(){return s.LineToolBezierStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("b4fl").GeneralBezierDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new o("linetoolbezierquadro",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolBezierQuadro=n},XzZr:function(e,t,i){"use strict";function n(){}var r=i("ogJP").declareClassAsPureInterface;TradingView.WEB_SOCKET_WAS_CONNECTED=!1,n.REBIND_STUDY_STANDALONE_TO_CHILD=1,n.REBIND_STUDY_CHILD_TO_STANDALONE=2,n.prototype.defaultWatchlistSymbols=function(){},n.prototype.defaultResolutions=function(){},n.prototype.supportedSymbolsTypes=function(){},n.prototype.supportedExchangesList=function(){},n.prototype.futuresRegex=function(){},n.prototype.quoteCreateSession=function(e){},n.prototype.quoteDeleteSession=function(e){},n.prototype.quoteSetFields=function(e,t){},n.prototype.quoteAddSymbols=function(e,t){},n.prototype.quoteRemoveSymbols=function(e,t){},n.prototype.quoteFastSymbols=function(e,t){},n.prototype.depthCreateSession=function(e,t,i){},n.prototype.depthDeleteSession=function(e){},n.prototype.depthSetSymbol=function(e,t){},n.prototype.depthClearSymbol=function(e){},n.prototype.depthSetScale=function(e,t){},n.prototype.chartCreateSession=function(e,t){},n.prototype.chartDeleteSession=function(e){},n.prototype.createSession=function(e,t){},n.prototype.removeSession=function(e){},n.prototype.connected=function(){},n.prototype.connect=function(){},n.prototype.disconnect=function(){},n.prototype.switchTimezone=function(e,t){},
n.prototype.resolveSymbol=function(e,t,i,n,r){},n.prototype.createSeries=function(e,t,i,n,r,o,s){},n.prototype.removeSeries=function(e,t,i){},n.prototype.modifySeries=function(e,t,i,n,r,o){},n.prototype.requestMoreData=function(e,t,i,n){},n.prototype.requestMetadata=function(e,t,i){},n.prototype.isCanCreateStudy=function(e,t){},n.prototype.createStudy=function(e,t,i,n,r,o,s){},n.prototype.rebindStudy=function(e,t,i,n,r,o,s,a){},n.prototype.removeStudy=function(e,t,i){},n.prototype.modifyStudy=function(e,t,i,n,r){},n.prototype.createPointset=function(e,t,i,n,r,o,s){},n.prototype.modifyPointset=function(e,t,i,n,r){},n.prototype.removePointset=function(e,t,i){},n.prototype.requestMoreTickmarks=function(e,t,i,n){},n.prototype.requestFirstBarTime=function(e,t,i,n){},n.prototype._invokeHandler=function(e,t){},n.prototype._sendRequest=function(e,t){},n.prototype._onMessage=function(e){},n.prototype._convertTimescaleResponse=function(e){},n.prototype._dispathNotification=function(e){},n.prototype._invokeNotificationHandler=function(e,t,i){},n.prototype._notifySessions=function(e){},n.prototype.unpack=function(e){},n.prototype.searchSymbols=function(e,t,i,n,r,o,s,a,l,c){},n.prototype.serverTimeOffset=function(){},n.prototype.getMarks=function(e,t,i,n,r){},n.prototype.getTimescaleMarks=function(e,t,i,n,r){},r(n,"ChartApiInterface"),e.exports.HandlerInfo=function(e,t){this.handler=e,this.customId=t},e.exports.ChartApiInterface=n},Y5iK:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"MainSeriesScaleRatioProperty",function(){return o}),n=i("aIyQ"),r=i.n(n),o=function(){function e(e){this._changed=new r.a,this._model=e}return e.prototype.getStepChangeValue=function(){return.1},e.prototype.getMinValue=function(){return 1e-7},e.prototype.getMaxValue=function(){return 9999},e.prototype.value=function(){return this._model.mainSeriesScaleRatio()},e.prototype.setValue=function(e,t){(e!==this.value()||t)&&(this._model.setMainSeriesScaleRatio(e),this._onChanged())},e.prototype.state=function(){return null},e.prototype.clone=function(){return new e(this._model)},e.prototype.listeners=function(){return this._changed},e.prototype.subscribe=function(e,t){this._changed.subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._changed.unsubscribe(e,t)},e.prototype.unsubscribeAll=function(e){this._changed.unsubscribeAll(e)},e.prototype._onChanged=function(){this._changed.fire(this)},e}()},Y7w9:function(e,t,i){"use strict";function n(e,t){return e<t}function r(e,t,i,n,r){var o,s,a;for(void 0===n&&(n=0),void 0===r&&(r=e.length),o=r-n;0<o;)i(e[a=n+(s=o>>1)],t)?(n=a+1,o-=s+1):o=s;return n}function o(e,t,i,o){return void 0===i&&(i=0),void 0===o&&(o=e.length),r(e,t,n,i,o)}function s(e,t,i,n,r){var o,s,a;for(void 0===n&&(n=0),void 0===r&&(r=e.length),o=r-n;0<o;)i(t,e[a=n+(s=o>>1)])?o=s:(n=a+1,o-=s+1);return n}function a(e,t,i,r){return void 0===i&&(i=0),void 0===r&&(r=e.length),s(e,t,n,i,r)}function l(e,t){return e.filter(function(e){return!t.includes(e)})}function c(e,t){var i=e.indexOf(t)
;return i<0?e.slice():[t].concat(e.slice(0,i)).concat(e.slice(i+1))}function u(e,t,i){var n=new Set(t),r=[],s=[];return e.forEach(function(e,t){n.has(e)||(r.push(e),s.push(t))}),i<e.length-1&&(i=o(s,i+1)),r.splice.apply(r,Object(d.__spreadArrays)([i,0],t)),r}function h(e,t,i){var n=new Set(t),r=[],s=[];return e.forEach(function(e,t){n.has(e)||(r.push(e),s.push(t))}),i<=e.length-1&&(i=o(s,i)),r.splice.apply(r,Object(d.__spreadArrays)([i,0],t)),r}i.r(t),i.d(t,"lowerbound",function(){return r}),i.d(t,"lowerbound_int",function(){return o}),i.d(t,"upperbound",function(){return s}),i.d(t,"upperbound_int",function(){return a}),i.d(t,"subtract",function(){return l}),i.d(t,"moveToHead",function(){return c}),i.d(t,"moveAfter",function(){return u}),i.d(t,"moveBefore",function(){return h});var d=i("mrSG")},YCFM:function(e,t,i){},YFkB:function(e,t,i){"use strict";function n(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,n,s,a,l,c,u,h,d;return Object(r.__generator)(this,function(r){return i=NaN,n=NaN,s="",a=e.proSymbol(),l=(e.symbolInfo()||{name:null}).name||a,c=e.priceScale(),t&&(u=e.firstValue(),i=null!==u?c.coordinateToPrice(t,u):null,s=null!==i?e.formatter().format(i):""),null!==(h=e.bars().last())&&(n=Object(o.ensure)(h.value[TradingView.CLOSE_PLOT])),d=!!(e.symbolInfo()||{is_tradable:!1}).is_tradable,[2,{symbol:a,displaySymbol:l,value:i,formattedValue:s,last:n,symbolInfoTradable:d}]})})}var r,o;i.d(t,"a",function(){return n}),r=i("mrSG"),o=i("Eyy1")},YJLw:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,i=0;if(0===e.length)return i;for(t=0;t<e.length;t++)i=(i<<5)-i+e.charCodeAt(t),i&=i;return i},e.exports=t.default},YUej:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="#4758a9" d="M0 0h18v18H0z"/><path fill="#ffda44" d="M9 2l.3 1.1h1.2l-1 .7L10 5l-1-.7L8 5l.4-1.2-1-.7h1.3zM4 4l1.1.6.8-.9L5.8 5l1 .6-1.2.1-.1 1.2-.6-1-1.2.2.9-.9zM2 9l1.1-.4V7.4l.7 1L5 8l-.7 1 .7 1-1.1-.4-.7 1V9.2zm2 4.9l.6-1.1-.9-.9 1.2.2.5-1 .2 1.1 1.2.2-1 .6.1 1.2-.8-.9zm5 2l-.4-1.1H7.4l1-.7-.4-1.2 1 .7 1-.7-.4 1.2 1 .7H9.2zm4.8-2l-1-.6-.9.9.2-1.2-1-.6 1.1-.1.2-1.2.6 1L14 12l-.8.8zm2-5l-1 .4v1.2l-.8-1-1 .4.6-1-.7-1 1.1.4.8-1v1.3zm-2-4.9l-.5 1.1.9.8-1.2-.1-.6 1-.1-1.2-1.2-.1 1-.6-.2-1.2.9.9z"/></svg>'},"Ye2/":function(e,t,i){"use strict";var n;i.r(t),i.d(t,"LineToolBarsPatternMode",function(){return n}),function(e){e[e.Bars=0]="Bars",e[e.Line=1]="Line",e[e.OpenClose=2]="OpenClose",e[e.LineOpen=3]="LineOpen",e[e.LineHigh=4]="LineHigh",e[e.LineLow=5]="LineLow",e[e.LineHL2=6]="LineHL2"}(n||(n={}))},Yj6H:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h,d,p;i.r(t),i.d(t,"PriceScaleBase",function(){return p}),n=i("Eyy1"),r=i("aIyQ"),o=i.n(r),s=i("Qb4w"),a=i("TTFo"),l=i("qJq3"),c=i("7ktv"),u=i("0gbU"),h=i("cKqi"),d=i("3ClC"),p=function(){function e(){this._marksCache=null,this._onMarksChanged=new o.a,this.m_dataSources=[],this._sourcesForAutoscale=null,this._sourcesToUpdateViews=null,this._hasSeries=!1,
this._seriesLikeSources=[],this._priceDataSources=[],this._lastSourceRemoved=new o.a}return e.prototype.addDataSource=function(e,t){var i,n=this;(t||-1===this.m_dataSources.indexOf(e))&&(e instanceof c.PriceDataSource&&(this._priceDataSources.push(e),e instanceof u.study_Compare||e instanceof h.study_Overlay?this._seriesLikeSources.push(e):e instanceof l.Series&&(i=e.properties(),this._hasSeries||(i.childs().lockScale&&(this.setMode({lockScale:i.childs().lockScale.value()}),i.removeProperty("lockScale")),i.childs().pnfStyle.childs().lockScale&&i.childs().pnfStyle.removeProperty("lockScale")),this._seriesLikeSources.push(e),this._hasSeries=!0)),e.properties().visible.listeners().subscribe(null,function(){return n._sourcesForAutoscale=null}),this.m_dataSources.push(e),this._mainSource=void 0,this._sourcesForAutoscale=null,this._sourcesToUpdateViews=null,this.updateFormatter(),this.initScaleProperties(),this.invalidateSourcesCache())},e.prototype.removeDataSource=function(e){var t,i,r=this.m_dataSources.indexOf(e);Object(n.assert)(-1!==r,"Source is not attached to scale"),e.properties().visible.listeners().unsubscribeAll(this),this.m_dataSources.splice(r,1),e instanceof c.PriceDataSource&&(t=this._priceDataSources.indexOf(e),Object(n.assert)(-1!==t,"Source is not found"),this._priceDataSources.splice(t,1),(e instanceof u.study_Compare||e instanceof h.study_Overlay||e instanceof l.Series)&&(i=this._seriesLikeSources.indexOf(e),Object(n.assert)(-1!==i,"Source is not found"),this._seriesLikeSources.splice(i,1),e instanceof l.Series&&(this._hasSeries=!1))),this.mainSource()||this.setMode({autoScale:!0}),this._mainSource=void 0,this._sourcesForAutoscale=null,this._sourcesToUpdateViews=null,this.updateFormatter(),this.invalidateSourcesCache(),0===this.m_dataSources.length&&this._lastSourceRemoved.fire()},e.prototype.currency=function(){var e,t,i,n,r;if(this.isIndexedTo100()||this.isPercentage()||0===this._seriesLikeSources.length)return null;for(e=null,t=0,i=this._priceDataSources;t<i.length;t++)if((n=i[t]).isVisible()){if(null===(r=n.currency()))return null;if(null!==e){if(r!==e)return null}else e=r}return e},e.prototype.onMarksChanged=function(){return this._onMarksChanged},e.prototype.priceRangeInPrice=function(){var e,t,i;return this.isEmpty()?null:null===(e=this.mainSource())?null:(t=Object(n.ensureNotNull)(e.firstValue()),i=this.height(),{from:this.coordinateToPrice(i-1,t),to:this.coordinateToPrice(0,t)})},e.prototype.setPriceRangeInPrice=function(e){var t,i,n,r,o,l,c;this.isPercentage()||this.isIndexedTo100()||(i=(t=this.isInverted())?this.bottomMargin():this.topMargin(),n=t?this.topMargin():this.bottomMargin(),o=(r=this.isLog())?Object(a.toLog)(e.from):e.from,o+=n*(c=(l=r?Object(a.toLog)(e.to):e.to)-o),l-=i*c,this.setMode({autoScale:!1}),this.setPriceRange(new s.PriceRange(o,l)),this._marksCache=null,this._onMarksChanged.fire())},e.prototype.hasMainSeries=function(){return this._hasSeries},e.prototype.getStudies=function(){return this.dataSources().filter(d.isStudy)},e.prototype.lastSourceRemoved=function(){
return this._lastSourceRemoved},e}()},Yjuu:function(e,t,i){"use strict";function n(){a.call(this)}function r(e,t){var s,a,l;for(this._constructor="LineToolFibSpeedResistanceArcs",s=t||r.createProperties(),o.call(this,e,s),e._fibSpeedResistanceArcsLabelsCache||(e._fibSpeedResistanceArcsLabelsCache=new n),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("bcXK").FibSpeedResistanceArcsPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe),a=[this._properties.child("trendline").child("linewidth")],l=1;l<=r.LevelsCount;l++)a.push(this._properties.child("level"+l).child("linewidth"));this._widthsProperty=new c(a)}var o=i("Ss5c").LineDataSource,s=i("5rJj"),a=i("xUGI"),l=i("hayr").propertyPages,c=i("ytGH").LineToolWidthsProperty,u=window.t("Fib Speed Resistance Arcs");inherit(n,a),n.prototype.levelsCount=function(){return r.LevelsCount},inherit(r,o),r.LevelsCount=11,r.prototype.levelsCount=function(){return r.LevelsCount},r.prototype.pointsCount=function(){return 2},r.prototype.translatedType=function(){return u},r.prototype.name=function(){return"Fib Speed Resistance Arcs"},r.prototype.processErase=function(e,t){var i="level"+t,n=this.properties()[i].visible;e.setProperty(n,!1,"Erase level line")},r.prototype.getStylesPropertyPage=function(){return l.LineToolFibSpeedResistanceArcsStylesPropertyPage},r.createProperties=function(e){var t=new s("linetoolfibspeedresistancearcs",e,!1,{range:[1,11]});return r._configureProperties(t),t},r.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("pdv6").FibSpeedResistanceArcsDefinitionsViewModel}.bind(null,i)).catch(i.oe)},r._configureProperties=function(e){o._configureProperties(e)},t.LineToolFibSpeedResistanceArcs=r},YlKu:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"ApplyLineToolTemplateUndoCommand",function(){return o}),n=i("mrSG"),r=i("RDU5"),o=function(e){function t(t,i,n){var r=e.call(this,n)||this;return r._source=t,r._newState=i,r._oldState=t.properties().state(),r}return Object(n.__extends)(t,e),t.prototype.redo=function(){this._source.applyTemplate(this._newState)},t.prototype.undo=function(){this._source.applyTemplate(this._oldState)},t}(r.UndoCommand)},YmeR:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"ActionBinder",function(){return o}),n=i("mrSG"),r=i("2h0C"),o=function(e){function t(t,i,n,r,o){void 0===o&&(o=null);var s=e.call(this,t,i,!0,n,r)||this;return null!==o?t.update({onExecute:o.bind(s)}):t.update({onExecute:s._onActionCallback.bind(s)}),s}return Object(n.__extends)(t,e),t.prototype.action=function(){return this.control()},t.prototype.value=function(){return this.action().isChecked()},t.prototype.setValue=function(e){this.action().update({checked:Boolean(e)})},t.prototype._onActionCallback=function(){this._undoModel.setProperty(this._property,this.value(),this._undoText)},t}(r.Binding)},Z0Sh:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolGannSquare"
;var r=t||n.createProperties();s.call(this,e,r),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("eg8N").GannSquarePaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r,o,s=i("Ss5c").LineDataSource,a=i("5rJj"),l=i("hayr").propertyPages,c=window.t("Gann Box");inherit(n,s),n.HLevelsCount=7,n.VLevelsCount=7,n.prototype.hLevelsCount=function(){return n.HLevelsCount},n.prototype.vLevelsCount=function(){return n.VLevelsCount},n.prototype.pointsCount=function(){return 2},n.prototype.translatedType=function(){return c},n.prototype.name=function(){return"Gann Box"},r=[4.5,9,11.25,18,22.5,36,45],o=function(){for(var e=[],t=1e10,i=r.length-1,n=1,o=0,s=0;s<t;)s=r[o]*n,e.push(Math.round(s)),e.push(Math.ceil(-s)),o===i-1&&(n*=10),o=(o+1)%i;return e.sort(function(e,t){return e<t?-1:e>t?1:0}),e}(),n.prototype._alignPriceOnPattern=function(e,t){var i,n,o,s,a,l,c=Math.round(1e6*(e.price-t.price))/1e6;if(0===c)return t.price;for(i=r[0],n=r[r.length-1],o=1,s=Math.abs(c);s<i*o||n*o<s;)s<i*o?o*=.1:n*o<s&&(o*=10);for(a=n*o,l=r.length-2;l>=0&&!(r[l]*o<s);--l)a=r[l]*o;return e.price=t.price+(c>=0?a:-a),e},n.prototype._alignTimeOnPattern=function(e,t){var i,n=e.index-t.index;if(0===n)return 0;for(i=o.length-2;i>=0&&!(o[i]<n);--i);return i+=n>0?1:0,e.index=t.index+o[i],e},n.prototype._alignPointsFixedIncrement=function(e,t){return this._alignTimeOnPattern(e,t),this._alignPriceOnPattern(e,t),e},n.prototype._preparePoint=function(e,t){return t&&t.shift()&&0!==this._points.length&&this._alignPointsFixedIncrement(e,this._points[0]),s.prototype._preparePoint.call(this,e,t)},n.prototype.setPoint=function(e,t,i){if(i&&i.shift()){var n=0===e?this._points[1]:this._points[0];this._alignPointsFixedIncrement(t,n)}s.prototype.setPoint.call(this,e,t,i)},n.prototype.getStylesPropertyPage=function(){return l.LineToolGannSquareStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("2liL").GannSquareDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new a("linetoolgannsquare",e,!1,{range:[1,7],prefixes:["h","v"],names:["coeff","color","visible"]});return n._configureProperties(t),t},n._configureProperties=function(e){s._configureProperties(e)},t.LineToolGannSquare=n},Z8aO:function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"SeriesPriceLinePaneView",function(){return s}),n=i("mrSG"),r=i("k4w6"),o=i("8Uy/"),s=function(e){function t(t){var i=e.call(this,t)||this;return i._lineRendererData.linestyle=o.LINESTYLE_SMALL_DASHED,i}return Object(n.__extends)(t,e),t.prototype._updateImpl=function(){if(this._lineRendererData.visible=!1,this._series.properties().showPriceLine.value()&&12!==this._series.properties().style.value()){var e=this._series.lastValueData(void 0,!0);e.noData||(this._lineRendererData.visible=!0,this._lineRendererData.y=e.coordinate,this._lineRendererData.color=this._series.priceLineColor(e.color),
this._lineRendererData.width=this._model.timeScale().width(),this._lineRendererData.height=this._series.priceScale().height(),this._lineRendererData.linewidth=this._series.properties().priceLineWidth.value())}},t}(r.a)},Z9Tc:function(e,t,i){"use strict";(function(e){function n(e,t){var i=TVSettings.getBool("_phone_verif_dlg_initial",!0);TVSettings.setValue("_phone_verif_dlg_initial",!1),(0,a.trackEvent)("Phone verification",e+(i?" initial":""),t)}function r(e){var t=$.Deferred();return(0,l.createPhoneDialog)({featureSource:e.source,doNotShowConfirmation:e.doNotShowConfirmation}).then(function(i){i.on("afterOpen",function(){return n("Show dialog",e.source)}).on("verification:success",function(i){t.resolve(i),n("Verified",e.source)}).on("verification:cancel",function(){t.reject(),n("Cancelled",e.source)}).on("verification:codeExpired",function(){return n("Show dialog",e.source)}).open()}),t}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(i){return!window.is_authenticated||user.is_staff||user.is_superuser||user.is_pro||user.is_moderator?i([!1]):t.customPhoneCheck?t.customPhoneCheck(u)?i([!0,"date-joined"]):i([!1]):!e.enabled("phone_verification")||user.has_phone?i([!1]):void(!0!==t.doNotCheckSocialActivity&&new Date(user.date_joined)>u?i([!0,"date-joined"]):(!0!==t.doNotCheckSuspicious&&i([Boolean(c.TVLocalStorage.getItem("is_suspicious")),"suspicious"]),i([!0,"default"])))})}var s,a,l,c,u,h;Object.defineProperty(t,"__esModule",{value:!0}),s=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i,n,r=[],o=!0,s=!1,a=void 0;try{for(i=e[Symbol.iterator]();!(o=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{!o&&i.return&&i.return()}finally{if(s)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),t.getDialogDfd=r,t.verificationIsRequired=o,t.whenVerified=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=$.Deferred();return o({doNotCheckSuspicious:e.doNotCheckSuspicious,doNotCheckSocialActivity:e.doNotCheckSocialActivity,customPhoneCheck:e.customPhoneCheck}).then(function(i){var n,o=s(i,2),a=o[0],l=o[1];return a?e.showDialog?(n={source:e.source,messages_sms:e.messages_sms,messages_phone:e.messages_phone,successful_message:e.successful_message,doNotShowConfirmation:e.doNotShowConfirmation},"suspicious"!==l&&(n.topMessage=window.t("Verify your phone number and get access to more tools on TradingView.")),void r(n).done(function(){return t.resolve()}).always(function(){return t.reject()})):h.done(function(){return t.resolve()}):(h.resolve(),t.resolve())}),t.promise()},t.requestPhoneNumber=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(t,i){r({source:e.source,messages_sms:e.messages_sms,messages_phone:e.messages_phone,successful_message:e.successful_message}).done(t).always(i)})},a=i("PC8g"),l=i("kpbz"),c=i("VVxS"),
u=new Date(2018,3,24),h=$.Deferred(),window.loginStateChange&&loginStateChange.subscribe(null,function(){window.is_authenticated&&(h=$.Deferred(),o().then(function(e){var t=s(e,2),i=t[0];t[1];i||h.resolve()}))})}).call(this,i("Kxc7"))},ZAbA:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"SeriesDataEvents",function(){return o}),n=i("aIyQ"),r=i.n(n),o=function(){function e(){this._completed=new r.a,this._error=new r.a,this._symbolError=new r.a,this._symbolResolved=new r.a,this._seriesError=new r.a,this._symbolNotPermitted=new r.a,this._symbolGroupNotPermitted=new r.a,this._extendedHoursNotPermitted=new r.a,this._chartTypeNotPermitted=new r.a,this._intradaySpreadNotPermitted=new r.a,this._intradayExchangeNotPermitted=new r.a,this._customIntervalNotPermitted=new r.a,this._secondsIntervalNotPermitted=new r.a,this._tickMarksRangeChanged=new r.a,this._barReceived=new r.a,this._messageReceived=new r.a}return e.prototype.completed=function(){return this._completed},e.prototype.error=function(){return this._error},e.prototype.symbolError=function(){return this._symbolError},e.prototype.symbolResolved=function(){return this._symbolResolved},e.prototype.seriesError=function(){return this._seriesError},e.prototype.symbolNotPermitted=function(){return this._symbolNotPermitted},e.prototype.symbolGroupNotPermitted=function(){return this._symbolGroupNotPermitted},e.prototype.extendedHoursNotPermitted=function(){return this._extendedHoursNotPermitted},e.prototype.chartTypeNotPermitted=function(){return this._chartTypeNotPermitted},e.prototype.intradaySpreadNotPermitted=function(){return this._intradaySpreadNotPermitted},e.prototype.intradayExchangeNotPermitted=function(){return this._intradayExchangeNotPermitted},e.prototype.customIntervalNotPermitted=function(){return this._customIntervalNotPermitted},e.prototype.secondsIntervalNotPermitted=function(){return this._secondsIntervalNotPermitted},e.prototype.tickMarksRangeChanged=function(){return this._tickMarksRangeChanged},e.prototype.barReceived=function(){return this._barReceived},e.prototype.messageReceived=function(){return this._messageReceived},e.prototype.fireCompleted=function(){this._completed.fire()},e.prototype.fireError=function(){this._error.fire()},e.prototype.fireSymbolError=function(e){this._symbolError.fire(e),this.fireError()},e.prototype.fireSymbolResolved=function(e){this._symbolResolved.fire(e)},e.prototype.fireSeriesError=function(e){this._seriesError.fire(e),this.fireError()},e.prototype.fireSymbolNotPermitted=function(e){this._symbolNotPermitted.fire(e),this.fireError()},e.prototype.fireSymbolGroupNotPermitted=function(e){this._symbolGroupNotPermitted.fire(e),this.fireError()},e.prototype.fireExtendedHoursNotPermitted=function(){this._extendedHoursNotPermitted.fire(),this.fireError()},e.prototype.fireChartTypeNotPermitted=function(e){this._chartTypeNotPermitted.fire(e),this.fireError()},e.prototype.fireIntradaySpreadNotPermitted=function(){this._intradaySpreadNotPermitted.fire(),this.fireError()},e.prototype.fireIntradayExchangeNotPermitted=function(){
this._intradayExchangeNotPermitted.fire(),this.fireError()},e.prototype.fireCustomIntervalNotPermitted=function(){this._customIntervalNotPermitted.fire(),this.fireError()},e.prototype.fireSecondsIntervalNotPermitted=function(){this._secondsIntervalNotPermitted.fire(),this.fireError()},e.prototype.fireTickMarksRangeChanged=function(e){this._tickMarksRangeChanged.fire(e)},e.prototype.fireBarReceived=function(e){this._barReceived.fire(e)},e.prototype.fireMessageReceived=function(e){this._messageReceived.fire(e)},e}()},ZAxB:function(e,t,i){"use strict";function n(e,t,i){var n,r,o;for(n=0,r=e;n<r.length;n++)if(t[(o=r[n]).id]!==i[o.id])return!1;return!0}function r(e){return{from:Math.round(e.first_visible_bar_time/1e3),to:Math.round(e.last_visible_bar_time/1e3)}}i.d(t,"a",function(){return n}),i.d(t,"b",function(){return r})},ZBiT:function(e,t,i){e.exports={"css-value-pane-controls-padding-left":"1px","css-value-pane-controls-padding-right":"5px"}},ZJKN:function(e,t,i){"use strict";var n,r;i.r(t),i.d(t,"BarsRange",function(){return r}),n=i("Eyy1"),r=function(){function e(e,t){Object(n.assert)(e<=t,"The last bar in the bars range should be greater than or equal to the first bar"),this._firstBar=e,this._lastBar=t}return e.prototype.firstBar=function(){return this._firstBar},e.prototype.lastBar=function(){return this._lastBar},e.prototype.count=function(){return this._lastBar-this._firstBar+1},e.prototype.contains=function(e){return this._firstBar<=e&&e<=this._lastBar},e.prototype.equals=function(e){return this._firstBar===e.firstBar()&&this._lastBar===e.lastBar()},e.compare=function(e,t){return null===e||null===t?e===t:e.equals(t)},e}()},ZPGM:function(e,t,i){"use strict";(function(t,n){var r=i("uOxu").getLogger("Common.CollectionObserver"),o=t.Collection.extend({initialize:function(e,i){if(this._observableCollection=i.observableCollection,this._validator=i.validator,this._syncEvents=n.isArray(i.syncEvents)?i.syncEvents:[],this._syncEvents.push("reset"),this._syncEvents=n.uniq(this._syncEvents),this._observableCollection)if(this._observableCollection instanceof t.Collection){"function"==typeof i.comparator&&(this.comparator=i.comparator),this.comparator||"function"!=typeof this._observableCollection.comparator||(this.comparator=this._observableCollection.comparator),this._observableCollection.on("add",this.onAdd,this),this._observableCollection.on("remove",this.remove,this);for(var o=this._syncEvents.length-1;o>=0;o--)this._observableCollection.on(this._syncEvents[o],this.syncCollections,this);e&&e.length&&this.add(e)}else r.logError("'observableCollection' need to be Backbone.Collection");else r.logError("'observableCollection' option required")},syncCollections:function(){var e=this._validator;e&&this.reset(n.filter(this._observableCollection.models,e))},onAdd:function(e,i,n){var r,o=this._validator;o&&!o(e)||(r=i instanceof t.Collection?n:i,this.add(e,r))},destroy:function(){this._observableCollection.off("add",this.onAdd,this),this._observableCollection.off("remove",this.remove,this)
;for(var e=this._syncEvents.length-1;e>=0;e--)this._observableCollection.off(this._syncEvents[e],this.syncCollections,this)}});e.exports=o}).call(this,i("q1z7"),i("F/us"))},ZTvj:function(e,t,i){e.exports={toast:"toast-12K1jRDo",isShifting:"isShifting-2UjSKZ__",body:"body-2o_Wje8v",isDismissing:"isDismissing-3RjjQJ5U",closeButtonAdv:"closeButtonAdv-2pjmC0Yh",main:"main-ia8PV28N",textInfo:"textInfo-39tIOCnC",textInfoNoAd:"textInfoNoAd-3XhCjIv6",preview:"preview-3XtYuf9S",closeButton:"closeButton-10VUlhi4",badge:"badge-2HLZCdqj",title:"title-3HdyG5Ws",checkboxLabel:"checkboxLabel-3AbDosEb",link:"link-20I_3GI5",text:"text-28Tbt8W-",actions:"actions-1tBSFr16",footerContainer:"footerContainer-8tPgC5Yv",footerContent:"footerContent-2XyjdIBm",floatingImage:"floatingImage-2CZdTbfe",type_info:"type_info-24ZpAIdB",type_danger:"type_danger-ibonUDCI",type_success:"type_success-3PT-YsXU",type_attention:"type_attention-tAvOWRQd",type_da:"type_da-2mw7g5Rq"}},ZUZx:function(e,t,i){"use strict";function n(){o=!0}var r,o,s;i.r(t),i.d(t,"enableReloadPagePopup",function(){return n}),i("YFKU"),r=i("qFKp"),o=!1,Object(r.isMac)()&&r.isSafari&&!r.CheckMobile.iOS()&&!Object(r.haveEverReceivedTouchEvent)()&&(s=function(){Object(r.markAsReceivedTouch)(),document.removeEventListener("touchstart",s),o&&Promise.all([i.e("vendors_embed"),i.e("dialogs-core"),i.e(0),i.e(1),i.e(3),i.e(5),i.e(7),i.e(8),i.e(6),i.e(160),i.e("create-dialog")]).then(i.bind(null,"YDhE")).then(function(e){var t=e.createDialog({type:"popup",destroyOnClose:!0,width:400,title:window.t("Please reload the page"),content:window.t("Reload your page to ensure that your chart is working as it should. Would you like to reload the page now?"),actions:[{name:"not-now",type:"default",text:window.t("Continue"),method:"close"},{name:"reload-chart",type:"primary",text:window.t("Reload")}]});t.on("action:reload-chart",function(){window.location.reload()}),t.open()})},document.addEventListener("touchstart",s,!1))},ZZnO:function(e,t,i){"use strict";function n(){return o.getValue(l,Object(a.defaultDateFormat)())}function r(){c.setValue(Object(a.defaultDateFormat)()),o.remove(l)}var o,s,a,l,c;i.r(t),i.d(t,"dateFormatProperty",function(){return c}),i.d(t,"removeSettingsValue",function(){return r}),o=i("Vdly"),s=i("m/cY"),a=i("e1ZQ"),l="date_format",c=Object(s.a)(n()),o.onSync.subscribe(null,function(){return c.setValue(n())}),c.listeners().subscribe(null,function(){return o.setValue(l,c.value())})},ZbcA:function(e,t,i){"use strict";(function(e){function n(e){var t,i;if(e&&e.__esModule)return e;if(t={},null!=e)for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}var r,o,s,a,l,c,u,h,d,p,f,_,m,g;Object.defineProperty(t,"__esModule",{value:!0}),t.tvToasts=void 0,r=function(){function e(e,t){var i,n;for(i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i("33OQ"),s=(g=o)&&g.__esModule?g:{default:g},a=i("j1f4"),l=n(a),
c=i("ZTvj"),u=n(c),h=i("IpW8"),d=i("9+gJ"),p=i("69Qn"),f=i("Wj6+"),_=i("nvBB"),i("QwKQ"),m=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.template='<div class="'+u.toast+' {{ typeClass }}">\n\t\t\t\t<div class="'+u.body+"{{#preview}} "+u.preview+'{{/preview}}">\n\t\t\t\t\t<div class="'+u.main+'">\n\t\t\t\t\t\t<div class="'+u.textInfo+" {{^adv}} "+u.textInfoNoAd+' {{/adv}}">\n\t\t\t\t\t\t\t<div class="'+u.closeButton+" {{#adv}} "+u.closeButtonAdv+' {{/adv}} js-toast__close">'+i("BhuR")+'</div>\n\t\t\t\t\t\t\t{{# title }}\n\t\t\t\t\t\t\t\t<div class="'+u.title+'">\n\t\t\t\t\t\t\t\t\t{{{ title }}}\n\t\t\t\t\t\t\t\t\t<span class="'+u.badge+' js-badge-wrapper"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{{/ title }}\n\t\t\t\t\t\t\t{{# text }}\n\t\t\t\t\t\t\t\t<div class="'+u.text+'">{{{ text }}}</div>\n\t\t\t\t\t\t\t{{/ text }}\n\t\t\t\t\t\t\t{{# actions.length }}\n\t\t\t\t\t\t\t\t<div class="'+u.actions+'">\n\t\t\t\t\t\t\t\t\t{{# actions}}\n\t\t\t\t\t\t\t\t\t\t{{#isCheckbox}}\n\t\t\t\t\t\t\t\t\t\t<label class="js-toast__action" data-index="{{ index }}">\n\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" class="js-control-checkbox">\n\t\t\t\t\t\t\t\t\t\t\t<span class="'+u.checkboxLabel+'">{{{ text }}}</span>\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t{{/isCheckbox}}\n\t\t\t\t\t\t\t\t\t\t{{^isCheckbox}}\n\t\t\t\t\t\t\t\t\t\t<a class="'+u.link+' {{#align}}i-align_{{ align }}{{/align}} js-toast__action" href="{{ url }}{{^ url }}#{{/ url }}" {{# url }} target="blank"{{/ url }} {{# noFollow }}rel="nofollow"{{/ noFollow }} data-index="{{ index }}">{{{ text }}}</a>\n\t\t\t\t\t\t\t\t\t\t{{/isCheckbox}}\n\t\t\t\t\t\t\t\t\t{{/ actions }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{{/ actions.length }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{{# image }}\n\t\t\t\t\t\t\t<span class="'+u.floatingImage+' js-toast__logo-wr">\n\t\t\t\t\t\t\t{{# link }}<a href="{{ link }}" target="blank" rel="nofollow">{{/ link }}\n\t\t\t\t\t\t\t\t{{#src}}<img src="{{ src }}">{{/src}}\n\t\t\t\t\t\t\t{{# link }}</a>{{/ link }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{{/ image }}\n\t\t\t\t\t</div>\n\t\t\t\t\t{{# footerInfo }}\n\t\t\t\t\t\t<div class="'+u.footerContainer+'">\n\t\t\t\t\t\t\t<div class="'+u.footerContent+'">{{ footerInfo }}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{{/ footerInfo }}\n\t\t\t\t</div>\n\t\t\t</div>',this.adjustToastContainerPosition=this.adjustToastContainerPosition.bind(this),this.RESULTS=h.RESULTS}return r(t,[{key:"setToastContainerPosition",value:function(e){var t=$(e);this.$container=t.find("#tv-toasts"),this.$container.length||(this.$container=$('<div id="tv-toasts">').appendTo(t),s.default.on("changeDevice",this.adjustToastContainerPosition),this.adjustToastContainerPosition())}},{key:"adjustToastContainerPosition",value:function(){"phone-vertical"!==s.default.device&&"phone"!==s.default.device?this.$container.css({left:18,bottom:TradingView.onChartPage?66:28,position:"absolute"}):this.$container.css({left:0,bottom:0,
position:TradingView.onChartPage?"fixed":"absolute"})}},{key:"destroy",value:function(){s.default.off("changeDevice",this.adjustToastContainerPosition)}},{key:"escapeOptions",value:function(e){if(e.title&&(e.title=TradingView.clean(e.title)),e.text&&(e.text=TradingView.clean(e.text)),e.actions&&e.actions.length)for(var t=0;t<e.actions.length;t+=1)e.actions[t].text=TradingView.clean(e.actions[t].text);return e}},{key:"render",value:function(t){var i,n;return t.actions&&(t.actions=t.actions.map(function(e,t){return e.index=t,e}),t.typeClass=u["type_"+t.type]),t.type&&"da"===t.type&&(t.adv=!0),(i=$(e.render(this.template,t))).find(".js-control-checkbox").tvControlCheckbox({tag:"span"}),t.badge&&null!==(n=i[0].querySelector(".js-badge-wrapper"))&&(0,_.renderAdBadgeElement)(n,{size:f.Size.Medium}),i}},{key:"toast",value:function(e){var t=this,i=e.title,n=e.badge,r=e.text,o=e.time,a=void 0===o?1e4:o,l=e.type,c=void 0===l?"default":l,p=e.actions,f=void 0===p?[]:p,_=e.image,m=e.footerInfo,g=e.prerender,y=$.Deferred(),v={$el:this.render({title:i,badge:n,text:r,type:c,actions:f,image:_,footerInfo:m}),dismiss:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.RESULTS.EXTERNAL,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=$.Deferred();return v.$el?(e=v.$el,delete v.$el,e.trigger("mouseout"),e.find(u.body).addClass(u.isDismissing),(0,d.lazyVelocity)().then(function(){$.Velocity.animate(e[0],{height:0},{queue:!1,easing:"easeInOutCubic",duration:125,delay:i?0:125,complete:function(){e.remove(),n.resolve()}})}),function(e){e===h.RESULTS.BUTTON_ACTION?y.resolve({result:e,goalReached:!0,resultMsg:e}):y.reject({result:e,resultMsg:e,goalReached:!1})}(t),n.promise()):(window.clearTimeout(v.dismissTimeout),n.resolve().promise())},dfd:y.promise()};return"phone-vertical"!==s.default.device&&v.$el.css("opacity",0),!1!==a&&(v.dismissTimeout=setTimeout(v.dismiss.bind(this,h.RESULTS.TIMEOUT),a)),v.$el.on("click",".js-toast__close",v.dismiss.bind(this,h.RESULTS.MANUAL_CLOSE)),v.$el.on("click",".js-toast__action",function(e){var t=f[+e.currentTarget.getAttribute("data-index")];if(t.action)t.action.call(t,e),t.doNotPrevent&&e.preventDefault();else if(t.dismissButton)v.dismiss(h.RESULTS.BUTTON_DISMISS,!0);else if(!t.url)throw new Error("Toast: action is missed for button.");t.doNotDismiss||v.dismiss(h.RESULTS.BUTTON_ACTION,!0)}),g?g(v.$el).then(function(){t._displayAnimated(v)}):this._displayAnimated(v),v}},{key:"_displayAnimated",value:function(e){var t,i=this;this.$container.append(e.$el),t=e.$el.height(),this.$container.css({"-webkit-transform":"translateY("+t+"px)","-moz-transform":"translateY("+t+"px)","-ms-transform":"translateY("+t+"px)","-o-transform":"translateY("+t+"px)",transform:"translateY("+t+"px)"}),setTimeout(function(){i.$container.addClass(u.isShifting),setTimeout(function(){if(i.$container.css({"-webkit-transform":"","-moz-transform":"","-ms-transform":"","-o-transform":"",transform:""}),"phone-vertical"!==s.default.device){var t=e.$el;t&&(0,d.lazyVelocity)().then(function(){
$.Velocity.animate(t[0],{opacity:1},{queue:!1,easing:"easeOutCubic",duration:350,complete:function(){t.prop("style","")}})})}setTimeout(function(){i.$container.removeClass(u.isShifting)},l.dur/2)},20)},20),Modernizr.mobiletouch&&(new p.HammerJSLoader).load().then(function(t){var i=new t(e.$el[0],{prevent_default:!1}),n=80;i.on("pan",function(t){var i=1-Math.abs(t.deltaX/n);(0,d.lazyVelocity)().then(function(){$.Velocity.animate(e.$el[0],{left:t.deltaX,opacity:i>=0?i:0},{duration:50,queue:!1,easing:"easeOutQuad"})})}),i.on("panend",function(t){Math.abs(t.deltaX)>n?e.dismiss(!0):(0,d.lazyVelocity)().then(function(){$.Velocity.animate(e.$el[0],{left:0,opacity:1},{duration:300,easing:"easeOutExpo",queue:!1})})})})}}]),t}(),t.tvToasts=new m}).call(this,i("nbsC"))},ZekX:function(e,t,i){"use strict";function n(e,t){return t===r.STATUS_DELAYED_STREAMING&&(t=r.STATUS_READY),t===r.STATUS_EOD&&(t=r.STATUS_DELAYED),a[t]||[]}var r,o,s,a;i.r(t),i.d(t,"availableTimeFrames",function(){return n}),i("YFKU"),r=i("dfhE"),o=i("ljrM"),(s={})[r.STATUS_DELAYED]=[o.timeFrames.ytd,o.timeFrames["12m"],o.timeFrames["60m"],o.timeFrames.all],s[r.STATUS_READY]=[o.timeFrames["1d"],o.timeFrames["5d"],o.timeFrames["1m"],o.timeFrames["3m"],o.timeFrames["6m"],o.timeFrames.ytd,o.timeFrames["12m"],o.timeFrames["60m"],o.timeFrames.all],a=s},"Zo2/":function(e,t,i){"use strict";(function(t,n){function r(e){var i,r,o,s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S;Re.call(this,e),this._options.timeScaleWidget&&(this._options.timeScaleWidget.pressedMouseMoveScale=this._options.handleScale.axisPressedMouseMove),i=this,this._guid=Pe(),this._startSpinner(this._options.container.value()),r=this._options.content,o=this._options.readOnly,this._backgroundBasedTheme=new t("light"),this._removeMaximizeHotkey=null,i._hotkeys=w.createGroup({desc:"Chart actions",isDisabled:function(){return!i._isActive}}),s=this._options.containsData,a=this._options.onWidget,(l=this._options.onCmeWidget)&&Le.logWarn("[ChartWidget] 'onCmeWidget' option is depricated"),c=this._options.widgetCustomer,u=this._options.timezone,h=this._options.hideSymbolSearch,d=this._options.defSymbol,p=ee.isValid(this._options.defInterval)?this._options.defInterval:void 0,f=parseInt(this._options.defStyle),_=re.isValidStyle(f)?f:void 0,m=this._options.defExtendedHours,g=this._options.defTimeframe,this._chartWidgetCollection=this._options.chartWidgetCollection||null,this._content=r,this._initialLoading=this._options.initialLoading,this._readOnly=o,this._containsData=s,this._showChartEvents=!s&&this._options.chartEventsEnabled,this._defSymbol=d,this._defInterval=p,this._defTimeframe=g,this._defStyle=_,this._onWidget=!!a,this._onWidget&&(l?this._widgetCustomer="cme":c&&(this._widgetCustomer=c)),this._hideSymbolSearch=h,this._paneWidgets=[],this._maximizedPaneWidget=null,this._timeAxisSeparator=null,this._paneSeparators=[],this._frameTime=30,this._model=null,this._metaInfo={},this._drawRafId=0,this._lhsAxesWidth=0,this._rhsAxesWidth=0,(y=this._contentSeriesProperties())&&(d=y.symbol,p=y.interval),
void 0===this._options.useUserChartPreferences&&(this._options.useUserChartPreferences=!0),this._properties=new _e("chartproperties",void 0,void 0,this._options.useUserChartPreferences),v="chartproperties.mainSeriesProperties",b=this._options.useUserChartPreferences?Ee.defaults(v):Ee.factoryDefaults(v),this._properties.mainSeriesProperties.merge(b),p=p||b.interval||"D",re.isValidStyle(_)||(_=re.isValidStyle(b.style)?b.style:se(ee.isRange(p))),this._properties.mainSeriesProperties.merge({visible:!0,symbol:d||DEFAULT_SYMBOL,shortName:"",timeframe:"",onWidget:this._onWidget,interval:p,style:_,extendedHours:m,lineStyle:{styleType:Ee.factoryDefaults("chartproperties.mainSeriesProperties.lineStyle.styleType")}}),this._containsData&&this._properties.mainSeriesProperties.merge({showCountdown:!1}),u&&ye(u)&&this._properties.timezone.setValue(u),this._tagsChanged=new n,this._modelCreated=new n,this._disconnected=new n,this._reconnectBailout=new n,this._connected=new n,this._redrawPanes=new n,this._onScroll=new n,this.chartWidgetInitialized=new n,this._chartSession=new ve(ChartApiInstance),this._metaInfoRepository=new Ae(this._chartSession),this.lhsPriceAxisWidthChanged=new n,this.rhsPriceAxisWidthChanged=new n,this._timingsMeter=null,this._isActive=this._options.isActive,this._indicatorDotWrapperEl=null,this._options.container.subscribe(function(e){i._setElement($(e))},{callWithLast:!0}),S=function(){i.resize()},this._options.width.subscribe(S),this._options.height.subscribe(S),this._options.visible.subscribe(this._updateTimingsMeterState.bind(this)),this._properties.paneProperties.background.listeners().subscribe(this,this._updateThemedColor),this._aboutToBeDestroyed=new n,this._actions=null,this._definitionsViewModel=null,this._backgroundColorSpawn=null,this._onZoom=new n}var o,s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B,N,F,j,W,U,H,z,G,Y,q,X,K,Q,Z,J,ee,te,ie,ne,re,oe,se,ae,le,ce,ue,he,de,pe,fe,_e,me,ge,ye,ve,be,Se,we,Pe,Te,Ce,xe,Ie,Ee,Le,Ae,Oe,Me,ke,De,Re,Ve,Be,Ne,Fe,je,We,Ue,He,ze,Ge,Ye,qe,Xe;i("YCFM"),i("YFKU"),o=i("Eyy1").assert,s=i("Y7w9").moveToHead,a=i("mkn5").PaneWidget,l=i("sw9I"),c=i("mNEU"),u=i("1IXQ").PriceAxisWidget,h=i("uPb3").TimeAxisWidget,d=i("fTGZ").BarsMarksContainer,p=i("qJq3").Series,f=i("Kxc7"),_=i("YmeR").ActionBinder,m=i("mKT+").resolveAndShowEditObjectDialog,g=i("Vdly").setValue,y=i("QloM").TabNames,v=i("cdbK").showGoToDateDialog,b=i("efOF").CustomEvent,S=i("/3z9"),w=i("lxNp"),P=i("7nsU").showConfirmInputsDialog,T=i("+GxX").isFeatureEnabled,C=i("Ktlt").ChartEventsSource,x=i("dJ3D"),I=i("Ai40"),E=I.ESDStudyBase,L=i("lCO3").Version,A=i("Qf4T"),O=i("3jc8").showDeleteStudyTreeConfirm,M=i("w6b9").DataWarningIndicator,k=i("dfhE"),D=i("aBGL").AvailableOnTVPopup,R=i("s4+V"),V=i("brCa").showNoticeDialog,B=i("XuOW").InsertionErrorCode,N=i("oNDq").createConfirmDialog,F=i("X2bh").confirmDatasourceRemoving,j=i("GVHu").Study,W=i("8sOK").StudyStub,U=i("3ClC").isStudy,H=i("Ss5c").LineDataSource,z=i("CW80"),G=z.isLineToolName,Y=z.isLineTool,q=z.isStudyLineTool,X=i("7KDR"),K=X.Action,Q=X.Separator,
Z=i("L/Ed").ToolboxType,J=i("mMWL"),ee=i("LxhU").Interval,te=i("pPtI"),ie=te.setLastUsedResolution,ne=te.getDefaultResolution,re=i("n5al"),oe=re.isRangeStyle,se=re.getDefaultStyle,ae=i("pvsv").showSymbolInfoDialog,le=i("i1o5").InvalidateMask,ce=i("i1o5").InvalidationLevel,ue=i("nqXy").MouseWheelHelper,he=i("PT1i").linking,de=i("mYjs").showChangeIntervalDialog,pe=i("u5Q5").showDialog,fe=i("u5Q5").activateKeyPressHandler,_e=i("Ocx9").DefaultProperty,me=i("+6ja"),ge=me.availableTimezones,ye=me.timezoneIsAvailable,ve=i("0F0w").ChartSession,be=i("0YCj"),Se=i("c2JX").Spinner,we=i("PC8g").trackEvent,Pe=i("0waE").guid,Te=i("Tmoa"),Ce=i("ikwP").Size,xe=i("oNU6").MarketStatusIndicator,Ie=i("Wc1E").DataModeIndicator,Ee=i("wZIs"),Le=i("uOxu").getLogger("ChartWidget",{color:"#606"}),Ae=i("U0+/").StudyMetaInfoRepository,Oe=i("VNzU").isMultipleLayout,Me=i("b1GK").addPerfMark,ke=i("KnF9").EnvironmentState,De=i("FQhm"),Re=i("wjVR").ChartWidgetBase,Ve=i("EsvI").isStdThemedDefaultValue,Be=i("qFKp").CheckMobile.any(),Ne=i("ikwP").getCanvasDevicePixelRatio,Fe=i("ZbcA").tvToasts,je=window.t("A strategy may return inaccurate results"),We=window.t("Strategy orders are executed based on the prices of a displayed chart. Since prices of the current chart type differ from the actual quotes results may be incorrect"),Ue=window.t("On The Left"),He=window.t("On The Right"),ze=window.t("Move Scale To Left"),Ge=window.t("Move Scale To Right"),Ye=.5,qe=f.enabled("chart_content_overrides_by_defaults"),Xe=T("move_status_widgets_to_source"),inherit(r,Re),r.prototype.onZoom=function(){return this._onZoom},r.prototype.isInitialized=function(){return Boolean(this._inited)},r.prototype._getChartPropertyDefinitionsViewModel=function(){if(null===this._definitionsViewModel){var e=this;return new Promise(function(t,n){Promise.all([i.e(44),i.e(154),i.e("general-property-page")]).then(function(r){if(e._isDestroyed)n("Chart widget already destroyed");else{var o=i("5lPo").ChartPropertyDefinitionsViewModel;e.withModel(e,function(){null===e._definitionsViewModel&&(e._definitionsViewModel=new o(e.model(),e.properties(),e._options)),t(e._definitionsViewModel)})}}.bind(null,i)).catch(i.oe)})}return Promise.resolve(this._definitionsViewModel)},r.prototype._initMaximizeHotkey=function(e){function t(e){e.defaultPrevented||S.modifiersFromEvent(e)===S.Modifiers.Alt&&e.stopPropagation()}function i(e){e.defaultPrevented||S.modifiersFromEvent(e)===S.Modifiers.Alt&&(e.preventDefault(),e.stopPropagation(),n.toggleFullscreen())}var n=this;return e.addEventListener("mousedown",t,!0),e.addEventListener("click",i,!0),function(){e.removeEventListener("mousedown",t,!0),e.removeEventListener("click",i,!0)}},r.prototype.toggleFullscreen=function(){var e=this.getResizerDetacher();e.fullscreenable.value()&&(e.fullscreen.value()?e.exitFullscreen():e.requestFullscreen())},r.prototype.backgroundBasedTheme=function(){return this._backgroundBasedTheme.readonly()},r.prototype._updateThemedColor=function(){var e,t=this._properties.paneProperties.background.value(),i=Te.getLuminance(t),n=i<Ye
;for(this._jqMainDiv.toggleClass("chart-widget--themed-dark",n),this._jqMainDiv.toggleClass("chart-widget--themed-light",!n),this._backgroundBasedTheme.setValue(n?"dark":"light"),Ve("chartProperties.paneProperties.background",t,this._backgroundBasedTheme.value())&&(t=null),e=0;e<this._paneWidgets.length;e++)this._paneWidgets[e].updateThemedColors(t)},r.prototype._isLineToolModeExceptBrush=function(){var e=J.tool.value();return G(e)&&"LineToolBrush"!==e&&!this.selectBarMode().value()},r.prototype.updateCrossHairPositionIfNeeded=function(){var e,t,i,n,r;this._model&&(e=J.tool.value(),this._model.model().setCurrentTool(e),TradingView.isMobile.any()&&(t=this._maximizedPaneWidget||this._paneWidgets[0],(this._isLineToolModeExceptBrush()||Be&&this.selectBarMode().value())&&t.hasState()&&(i=t.state(),n=.5*this._model.model().timeScale().width(),r=.5*i.defaultPriceScale().height(),this._model.model().setAndSaveCurrentPosition(n,r,i))),this._model&&TradingView.isMobile.any()&&this._model.model().crossHairSource().updateAllViews())},r.prototype.exitTrackingMode=function(){Be&&(this._paneWidgets.forEach(function(e){e.exitTrackingMode()}),this._model.model().clearCurrentPosition())},r.prototype.onToolChanged=function(){this.selectBarMode().value()&&this.toggleSelectBarMode(),this.exitTrackingMode()},r.prototype.trackingModePaneWidget=function(){if(!Be)return null;for(var e=0;e<this._paneWidgets.length;++e)if(this._paneWidgets[e].trackingModeEnabled())return this._paneWidgets[e];return null},r.prototype._setElement=function(e){this._jqMainDiv&&(this._jqMainDiv.remove(),this._jqParent.empty()),this._controlBarNavigation&&(this._controlBarNavigation.destroy(),this._controlBarNavigation=null),null!==this._removeMaximizeHotkey&&this._removeMaximizeHotkey(),this._removeMaximizeHotkey=this._initMaximizeHotkey(e[0]);var t=e.prop("ownerDocument");this._jqParent=$(t.createElement("div")).addClass("chart-container-border").prependTo(e),this._jqMainDiv=$('<div class="chart-widget"/>',t),this._elTooltipDiv=t.createElement("div"),this._elTooltipDiv.className="tooltip-wrapper",this._jqMainDiv.append(this._elTooltipDiv),this._elMainTable=t.createElement("table"),this._elMainTable.className="chart-markup-table",this._elMainTable.setAttribute("cellpading","0"),this._elMainTable.setAttribute("cellspacing","0"),this._jqMainDiv.append(this._elMainTable),(this._options.controlBarEnabled||f.enabled("control_bar"))&&Promise.all([i.e("vendors_embed"),i.e(15),i.e(93),i.e(115),i.e(200),i.e(54),i.e(81),i.e("chart-widget-gui")]).then(function(e){if(!this._isDestroyed){this._controlBarNavigation&&this._controlBarNavigation.destroy();var t=i("TGRH").ControlBarNavigation;this._controlBarNavigation=new t(this,this._jqMainDiv[0],this._options.controlBar),this._model&&this._adjustSize()}}.bind(this).bind(null,i)).catch(i.oe),this._containsData||Xe||this.createIndicatorImage(),(this._options.handleScale.mouseWheel||this._options.handleScroll.mouseWheel)&&(this._mouseWheelHelper=new ue,this._onWheelBound=this._onMousewheel.bind(this),
this._jqMainDiv[0].addEventListener("wheel",this._onWheelBound,{passive:!1})),this.resize(),this._justActivated=!1,this.withModel(this,function(){this._jqParent.append(this._jqMainDiv),this._jqMainDiv.on("mousedown",this._beginRequestActive.bind(this)),this._jqMainDiv.on("mouseup",this._endRequestActive.bind(this)),this._jqMainDiv.on("touchstart",this._beginRequestActive.bind(this)),this._jqMainDiv.on("touchmove",this._endRequestActive.bind(this)),this._jqMainDiv.on("touchend",this._endRequestActive.bind(this)),this._jqParent.on("click",this._requestActive.bind(this))}),this._inited&&(null!==this._timeAxisWidget&&(this._timeAxisWidget.destroy(),this._timeAxisWidget=null),this._paneWidgets.forEach(function(e){e.destroy()}),this._paneWidgets.length=0,this._paneSeparators.forEach(function(e){e.destroy()}),this._paneSeparators.length=0,this._update(le.full()))},r.prototype._beginRequestActive=function(){var e=!1;this._chartWidgetCollection&&(e=this._chartWidgetCollection.activeChartWidget.value()!==this,this._chartWidgetCollection.activeChartWidget.setValue(this)),e&&(TradingView.isMobile.any()&&this._isLineToolModeExceptBrush()&&this.updateCrossHairPositionIfNeeded(),this._justActivated=!0)},r.prototype._endRequestActive=function(){var e=this;this._justActivated&&setTimeout(function(){e._justActivated=!1},0)},r.prototype._requestActive=function(){this._beginRequestActive(),this._endRequestActive()},r.prototype.justActivated=function(){return this._justActivated},r.prototype._onMousewheel=function(e){var t,i,n,r,o,s,a;if(this.model().model().zoomEnabled()&&(TradingView.onWidget()||!parent||parent===window||!parent.IS_DEMO_PAGE)&&this.model()&&!this.noScroll&&!this.model().timeScale().isEmpty()&&(i=(t=this._mouseWheelHelper.processWheel(e)).deltaX/100,n=-t.deltaY/100,0!==i&&this._options.handleScroll.mouseWheel||0!==n&&this._options.handleScale.mouseWheel)){switch(e.cancelable&&e.preventDefault(),e.deltaMode){case e.DOM_DELTA_PAGE:i*=120,n*=120;break;case e.DOM_DELTA_LINE:i*=32,n*=32}if(0!==n&&this._options.handleScale.mouseWheel){if(r=Math.sign(n)*Math.min(1,Math.abs(n)),o=this._jqMainDiv[0].getBoundingClientRect(),s=e.clientX-this._lhsAxesWidth-o.left,!Number.isFinite(s)||!Number.isFinite(r))return void Le.logWarn("Incorrect mouse wheel processing: scrollPosition: "+s+", zoomScale: "+r);a=new ke(e).control(),this.model().model().zoomTime(s,r,!!a||void 0),this._onZoom.fire(a)}0!==i&&this._options.handleScroll.mouseWheel&&this.model().scrollChart(-80*i)}},r.prototype.setTimezone=function(e){e&&ye(e)?this._properties.timezone.setValue(e):console.warn("Incorrect timezone: "+JSON.stringify(e))},r.prototype.getTimezone=function(){return this._properties.timezone.value()},r.prototype.refreshMarks=function(){this.model().barsMarksSources().forEach(function(e){e.refreshData()})},r.prototype.clearMarks=function(){this.model().barsMarksSources().forEach(function(e){e.clearMarks()})},r.prototype.metaInfoRepository=function(){return this._metaInfoRepository},r.prototype._init=function(){var e,t,i=this
;this.model()&&this.model().mainSeries().clearData(),this.initColors(),this._makeDefaultGui(),e=function(){if(i._checkObsoleteTimezone(),i._chartSession&&i._chartSession.connected()&&this._model.restart(),this._content&&(this.initColors(),this._updateGui(),this.update()),!Xe){var e=i._model.mainSeries();e.marketStatus.subscribe(function(t){i.indicatorImage&&i._updateDataAndMarketStatus(t,e.status())},{callWithLast:!0})}this._resizeHandler=function(){this._adjustSize(),this._model&&this._model.mainSeries().requestMoreData(),this.paint(),this.checkCompactMode(),this.resizeIndicator()}.bind(this),this._resizeHandler(),this._jqParent.append(this._jqMainDiv),this._spinner&&(this._spinner.stop(),delete this._spinner),$(window).on("keydown:chart_"+this._guid,function(e){27===e.which&&e.preventDefault()}),this._initBarsMarksSources(),this._showChartEvents&&this._createChartEventsSource(),this._activateSymbolSearchHotkeys(),this.model().timeScale().onScroll().subscribe(this,function(){this._onScroll.fire()}),this._inited=!0}.bind(this),void 0===(t=this._makeDefaultModel())?e():t.then(e)},r.prototype._activateSymbolSearchHotkeys=function(){this.readOnly()||this._hideSymbolSearch||fe()},r.prototype._checkObsoleteTimezone=function(){var e=this._properties.timezone.value();ye(e)||this._properties.timezone.setValue({UTC:"Etc/UTC",EST:"America/New_York",CST:"America/Chicago",PST:"America/Los_Angeles"}[e]||"exchange")},r.prototype._initBarsMarksSources=function(){var e=this;this.withModel(this,function(){this.model().barsMarksSources().forEach(function(t){t.onNeedRepaint.subscribe(e,function(){e.model().model().lightUpdate()})})})},r.prototype.initColors=function(){this._properties.paneProperties.vertGridProperties.color.listeners().subscribe(this,r.prototype.redrawPanes),this._properties.paneProperties.horzGridProperties.color.listeners().subscribe(this,r.prototype.redrawPanes),this._properties.scalesProperties.lineColor.listeners().subscribe(this,r.prototype.setScaleLineColor),this._properties.scalesProperties.textColor.listeners().subscribe(this,r.prototype.setScaleTextColor)},r.prototype._initBackgroundColor=function(){null===this._backgroundColorSpawn&&(this._backgroundColorSpawn=this._model.model().backgroundColor().spawn(),this._backgroundColorSpawn.subscribe(this.setBackgroundColor.bind(this)))},r.prototype.paneWidgets=function(){return this._paneWidgets},r.prototype.paneByCanvas=function(e){for(var t=0;t<this._paneWidgets.length;t++)if(this._paneWidgets[t].hasCanvas(e))return this._paneWidgets[t];return null},r.prototype.paneByState=function(e){for(var t=0;t<this._paneWidgets.length;t++)if(this._paneWidgets[t].state()===e)return this._paneWidgets[t];return null},r.prototype.timeAxisByCanvas=function(e){return this._timeAxisWidget.hasCanvas(e)?this._timeAxisWidget:null},r.prototype.properties=function(){return this._properties},r.prototype.emulateCriticalError=function(){this._chartSession.removeSeries("-1",null)},r.prototype.readOnly=function(){return this._readOnly},r.prototype.onDisconnected=function(){
return this._disconnected},r.prototype.onReconnectBailout=function(){return this._reconnectBailout},r.prototype.onConnected=function(){return this._connected},r.prototype.onRedrawPanes=function(){return this._redrawPanes},r.prototype.onScroll=function(){return this._onScroll},r.prototype.modelCreated=function(){return this._modelCreated},r.prototype.setResolution=function(e){var t,i;this._model?(t=this._model.mainSeries().properties(),i=window.t("Change Resolution"),this._model.setResolutionProperty(t.interval,e,this,i)):this._properties.mainSeriesProperties.merge({interval:e})},r.prototype.getResolution=function(){return this._model?this._model.mainSeries().properties().interval.value():this._properties.mainSeriesProperties.interval.value()},r.prototype.addOverlayStudy=function(e,t){var i=this.model();return this._options.isSymbolAvailable(e).then(function(n){var r,o;return n?(r=i.createStudyInserter({type:"java",studyId:"Overlay@tv-basicstudies"}),f.enabled("use_overrides_for_overlay")&&(o=Ee.factoryDefaults("study_Overlay@tv-basicstudies.style"),r.setPropertiesState({style:o})),r.setForceOverlay(t),r.insert(function(){return Promise.resolve({symbol:e})})):null})},r.prototype.addCompareStudy=function(e){var t=this.model();return this._options.isSymbolAvailable(e).then(function(i){return i?t.createStudyInserter({type:"java",studyId:"Compare@tv-basicstudies"}).insert(function(){return Promise.resolve({symbol:e})}):null})},r.prototype.updateActions=function(){var e,t,n,r,o,s,a=this,l=this.actions(),c=this._model.dataSources(),u=!1,h=!1;for(e=0,t=c.length;e<t;e++)n=c[e],TradingView.isInherited(n.constructor,H)&&n.isUserDeletable()&&(u=!0),TradingView.isInherited(n.constructor,j)&&n.removeByRemoveAllStudies()&&(h=!0),TradingView.isInherited(n.constructor,W)&&(h=!0);this._readOnly||(l.paneRemoveAllStudies&&l.paneRemoveAllStudies.update({disabled:!h}),l.paneRemoveAllDrawingTools&&l.paneRemoveAllDrawingTools.update({disabled:!u}),l.paneRemoveAllStudiesDrawingTools&&l.paneRemoveAllStudiesDrawingTools.update({disabled:!h&&!u})),i.e(262).then(function(e){function t(e){var t,i=[],o=n.getStdThemeNames(),s=n.getCurrentTheme().name;o.forEach(function(e){var t=new K({name:"theme-switch-to-"+e,label:TradingView.clean(n.translateStdThemeName(e)),checkable:!0,checked:s===e,onExecute:function(t){t.update({checked:!0}),n.loadTheme(e,!0,!1,a._chartWidgetCollection).then(function(){window.saver.saveChartSilently(),we("GUI","Themes","Switch to "+e+" theme")})}});i.push(t)}),i.sort(function(e,t){return e.getLabel()>t.getLabel()?-1:1}),window.is_authenticated&&(i.push(new Q),t=new K({name:"theme-save-as",label:window.t("Save As..."),onExecute:function(){r.showThemeSaveDialogAsync(a._model.model().theme())}}),i.push(t)),e&&e.length&&window.is_authenticated&&(i.push(new Q),e.forEach(function(e,t){var o=new K({label:TradingView.clean(n.translateStdThemeName(e)),checkable:!1,onExecute:function(t){n.loadTheme(e,!1,!1,a._chartWidgetCollection).then(function(){window.saver.saveChartSilently(),we("GUI","Switch to custom theme")})},toolbox:{
type:Z.Delete,action:function(){r.showRemoveThemeDialogAsync(e)}},showToolboxOnHover:!0});i.push(o)})),l.applyColorTheme.update({subItems:i})}var n=i("EsvI"),r=i("9J0/");window.is_authenticated?n.getThemeNames().then(t):t()}.bind(null,i)).catch(i.oe),r=this,o=[],s=function(e){return e.id===r.model().model().properties().timezone.value()},ge.forEach(function(e){if(!e.separator){var t=new K({label:e.title,checkable:!0,checked:s(e),statName:"SetTimeZone",onExecute:function(){r.model().setProperty(r.model().model().properties().timezone,e.id,"Changed Time Zone")}});o.push(t)}},this),l.applyTimeZone.update({subItems:o}),l.addToWatchlist&&l.addToWatchlist.update({label:window.t("Add to Watchlist {0}").format(this.getSymbol(!0))}),l.addToTextNotes&&l.addToTextNotes.update({label:window.t("Add Text Note for {0}").format(this.getSymbol(!0))}),l.moveChartAction&&l.moveChartAction.update({disabled:!this._chartWidgetCollection.activeChartCanBeMoved()})},r.prototype.applyTheme=function(e){var t=this;Promise.resolve().then(function(n){var r=i("EsvI");e=e||r.getCurrentTheme().name,r.loadTheme(e,!0,!0,t._chartWidgetCollection)}.bind(null,i)).catch(i.oe)},r.prototype.actions=function(){return null===this._actions&&this._setActions(),this._actions},r.prototype._setActions=function(){var e,t,n,r,o,s,a,l,c,u,h,d,p,m,b,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B,N,F,j,W,U,H,z,G,Y,q,X,Z,$,ee,te,ne,re,oe,se,ce,ue,fe,_e,me,ge,ye,ve,be,Se,Pe,Te,Ce=this,xe=[];if(!this._readOnly){for(xe=[new K({label:window.t("Eraser"),payload:"eraser",statName:"Eraser"}),new Q,new K({label:window.t("Trend Line"),payload:"LineToolTrendLine",statName:"LineToolTrendLine"}),new K({label:window.t("Horizontal Line"),payload:"LineToolHorzLine",statName:"LineToolHorzLine"}),new K({label:window.t("Vertical Line"),payload:"LineToolVertLine",statName:"LineToolVertLine"}),new K({label:window.t("Arrow"),payload:"LineToolArrow",statName:"LineToolArrow"}),new K({label:window.t("Ray"),payload:"LineToolRay",statName:"LineToolRay"}),new K({label:window.t("Extended"),payload:"LineToolExtended",statName:"LineToolExtended"}),new K({label:window.t("Parallel Channel"),payload:"LineToolParallelChannel",statName:"LineToolParallelChannel"}),new Q,new K({label:window.t("Pitchfork"),payload:"LineToolPitchfork",statName:"LineToolPitchfork"}),new K({label:window.t("Schiff Pitchfork"),payload:"LineToolSchiffPitchfork",statName:"LineToolSchiffPitchfork"}),new K({label:window.t("Pitchfan"),payload:"LineToolPitchfan",statName:"LineToolPitchfan"}),new K({label:window.t("Gann Square"),payload:"LineToolGannSquare",statName:"LineToolGannSquare"}),new K({label:window.t("Gann Fan"),payload:"LineToolGannFan",statName:"LineToolGannFan"}),new K({label:window.t("Fib Retracement"),payload:"LineToolFibRetracement",statName:"LineToolFibRetracement"}),new K({label:window.t("Trend-Based Fib Extension"),payload:"LineToolTrendBasedFibExtension",statName:"LineToolTrendBasedFibExtension"}),new K({label:window.t("Fib Speed Resistance Fan"),payload:"LineToolFibSpeedResistanceFan",statName:"LineToolFibSpeedResistanceFan"
}),new K({label:window.t("Fib Time Zone"),payload:"LineToolFibTimeZone",statName:"LineToolFibTimeZone"}),new K({label:window.t("Circle Lines"),payload:"LineToolCircleLines",statName:"LineToolCircleLines"}),new K({label:window.t("Fib Circles"),payload:"LineToolFibCircles",statName:"LineToolFibCircles"}),new K({label:window.t("Fib Speed Resistance Arcs"),payload:"LineToolFibSpeedResistanceArcs",statName:"LineToolFibSpeedResistanceArcs"}),new Q,new K({label:window.t("Rectangle"),payload:"LineToolRectangle",statName:"LineToolRectangle"}),new K({label:window.t("Ellipse"),payload:"LineToolEllipse",statName:"LineToolEllipse"}),new K({label:window.t("Triangle"),payload:"LineToolTriangle",statName:"LineToolTriangle"}),new K({label:window.t("Polyline"),payload:"LineToolPolyline",statName:"LineToolPolyline"}),new K({label:window.t("Arc"),payload:"LineToolArc",statName:"LineToolArc"}),new Q,new K({label:window.t("Text",{context:"tool"}),payload:"LineToolText",statName:"LineToolText"}),new K({label:window.t("Anchored Text"),payload:"LineToolTextAbsolute",statName:"LineToolTextAbsolute"}),new K({label:window.t("Balloon"),payload:"LineToolBalloon",statName:"LineToolBalloon"}),new K({label:window.t("Price Label"),payload:"LineToolPriceLabel",statName:"LineToolPriceLabel"}),new Q,new K({label:window.t("Elliott Wave Subminuette"),payload:"LineToolElliottSubminuette",statName:"LineToolElliottSubminuette"}),new K({label:window.t("Elliott Wave Minor"),payload:"LineToolElliottMinor",statName:"LineToolElliottMinor"}),new K({label:window.t("Elliott Wave Circle"),payload:"LineToolElliottCircle",statName:"LineToolElliottCircle"}),new K({label:window.t("Elliott Minor Retracement"),payload:"LineToolElliottMinorRetr",statName:"LineToolElliottMinorRetr"}),new K({label:window.t("Elliott Major Retracement"),payload:"LineToolElliottMajorRetr",statName:"LineToolElliottMajorRetr"}),new Q,new K({label:window.t("Brush"),payload:"LineToolBrush",statName:"LineToolBrush"}),new Q,new K({label:window.t("Forecast"),payload:"LineToolPrediction",statName:"LineToolPrediction"})],t=function(e){J.tool.setValue(e.getPayload())},n=0;n<xe.length;n++)xe[n]instanceof K&&xe[n].update({onExecute:t});e=new K({label:window.t("Settings..."),icon:i("MXV9"),statName:"ScalesProperties",onExecute:function(){Ce.showGeneralChartProperties(y.scales)}})}this._hotkeys.add({desc:"Maximize",hotkey:w.Modifiers.Alt+13,handler:function(){Ce.toggleFullscreen()},isDisabled:function(){return!Ce._options.fullscreenable.value()}}),this._hotkeys.add({desc:"Cancel selection",hotkey:27,handler:function(){Ce._model.selectionMacro(function(e){e.clearSelection()})},isDisabled:function(){return!Ce._model||0===Ce._model.selection().sources().length}}),Ce.withModel(null,function(){Ce._model.onSelectedSourceChanged().subscribe(null,function(){Ce._hotkeys.promote()})}),r=new K({label:window.t("Reset Chart"),icon:i("LdoW"),statName:"ResetChart",onExecute:this.GUIResetScales.bind(this),hotkeyGroup:this._hotkeys,hotkeyHash:w.Modifiers.Alt+82}),o=new K({label:window.t("Invert Scale"),
statName:"Invert Scale",checkable:!0,onExecute:function(){Ce._model.invertPriceScale(Ce._model.mainSeries().priceScale())},hotkeyGroup:this._hotkeys,hotkeyHash:w.Modifiers.Alt+73}),s=new K({label:window.t("Auto (Fits Data To Screen)"),checkable:!0,onExecute:function(){var e=Ce._model.mainSeries().priceScale();Ce._model.togglePriceScaleAutoScaleMode(e),s.update({checked:e.isAutoScale()})}}),a=new K({label:window.t("Lock Price To Bar Ratio"),checkable:!0,statName:"ToggleLockScale",onExecute:function(){Ce._model.togglePriceScaleLockScaleMode(Ce._model.mainSeries().priceScale())}}),l=new K({label:window.t("Regular"),checkable:!0,statName:"ToggleRegularScale",onExecute:function(){var e=Ce._model.mainSeries().priceScale();Ce._model.setPriceScaleRegularScaleMode(e),l.update({checked:e.isRegular()})}}),c=new K({label:window.t("Percent"),checkable:!0,statName:"TogglePercantage",onExecute:function(){Ce._model.togglePriceScalePercentageScaleMode(Ce._model.mainSeries().priceScale())},hotkeyGroup:this._hotkeys,hotkeyHash:w.Modifiers.Alt+80}),u=new K({label:window.t("Indexed to 100"),checkable:!0,statName:"ToggleIndexedTo100",onExecute:function(){Ce._model.togglePriceScaleIndexedTo100ScaleMode(Ce._model.mainSeries().priceScale())}}),h=new K({label:window.t("Logarithmic"),statName:"ToggleLogScale",checkable:!0,onExecute:function(){Ce._model.togglePriceScaleLogScaleMode(Ce._model.mainSeries().priceScale())},hotkeyGroup:this._hotkeys,hotkeyHash:w.Modifiers.Alt+76}),d=new K({label:window.t("Undo"),onExecute:function(){we("GUI","Undo"),Ce._model.undoHistory().undo()},disabled:!0,hotkeyGroup:this._hotkeys,hotkeyHash:w.Modifiers.Mod+90}),p=new K({label:window.t("Redo"),onExecute:function(){we("GUI","Redo"),Ce._model.undoHistory().redo()},disabled:!0,hotkeyGroup:this._hotkeys,hotkeyHash:w.Modifiers.Mod+89}),Ce.withModel(null,function(){Ce._model.undoHistory().undoStack().onChange().subscribe(Ce,Ce.updateUndoRedo),Ce._model.undoHistory().redoStack().onChange().subscribe(Ce,Ce.updateUndoRedo)}),m=[new K({label:window.t("Loading")})],b=new K({name:"apply-color-theme",label:window.t("Color Theme"),icon:i("opke"),subItems:m,statName:"ColorTheme"}),P=new K({label:window.t("Time Zone"),statName:"TimeZone"}),T=new K({label:window.t("Change Symbol..."),shortcutHint:window.t("Any Symbol"),statName:"ChangeSymbol",onExecute:function(){pe({callback:this.setSymbol.bind(this),ownerDocument:this._jqParent.prop("ownerDocument")})}}),g("symboledit.dialog_last_entry",""),C=new K({label:window.t("Change Interval..."),shortcutHint:window.t("Any Number"),statName:"ChangeInterval",onExecute:function(){de({callback:function(e){ie(e),he.interval.setValue(e)},ownerDocument:Ce._jqParent.prop("ownerDocument")})}}),TradingView.onWidget()||(this._options.addToWatchlistEnabled&&(x=new K({label:window.t("Add To Watchlist"),icon:i("a9Kt"),statName:"AddToWatchlist",onExecute:function(){var e,t,i;if(window.widgetbar){for(e=window.widgetbar.setPage("base"),i=0;i<e.widgets.length;i++)if("watchlist"===e.widgets[i].type){t=e.widgets[i].widgetObject;break}if(!t)return
;t.addSymbols([Ce.getSymbol()])}},hotkeyGroup:this._hotkeys,hotkeyHash:w.Modifiers.Alt+87})),I=new K({label:window.t("Add To Text Notes"),statName:"AddToTextNotes",onExecute:function(){runOrSignIn(function(){TradingView.bottomWidgetBar&&(TradingView.bottomWidgetBar.toggleWidget("text_notes",!0),TradingView.bottomWidgetBar._widgets.text_notes.addNote(null,Ce.getSymbol(!0),Ce.getSymbol()))},{source:"Add text note in chart context menu"})},hotkeyGroup:this._hotkeys,hotkeyHash:w.Modifiers.Alt+78})),E=new K({label:window.t("Reset Time Scale"),icon:i("LdoW"),statName:"ResetScale",onExecute:function(){Ce.model().resetTimeScale()},hotkeyGroup:this._hotkeys,hotkeyHash:w.Modifiers.Mod+w.Modifiers.Alt+81}),L=new K({label:window.t("Insert Drawing Tool"),subItems:xe,statName:"InsertDravingTool"}),A=new K({label:window.t("Remove Indicators"),statName:"RemoveAllIndicators",onExecute:this.removeAllStudies.bind(this)}),O=new K({label:window.t("Remove Drawings"),statName:"RemoveAllDrawingTools",onExecute:this.removeAllDrawingTools.bind(this)}),M=new K({label:window.t("All Indicators And Drawing Tools"),statName:"RemoveAllIndicatorsAndDrawingTools",onExecute:this.removeAllStudiesDrawingTools.bind(this)}),k=new K({label:window.t("Insert Indicator..."),statName:"InsertIndicator",onExecute:function(){Ce.showIndicators()},hotkeyGroup:this._hotkeys,hotkeyHash:191}),new K({label:window.t("Insert Indicator..."),statName:"InsertIndicator",onExecute:function(){Ce.showIndicators()},hotkeyGroup:this._hotkeys,hotkeyHash:111}),D=new K({label:window.t("Compare or Add Symbol..."),statName:"CompareOrAddSymbol",onExecute:this.showCompareOrAdd.bind(this)}),R=new K({label:window.t("Compare..."),statName:"Compare",onExecute:this.showCompareOrAdd.bind(this)}),V=new K({label:window.t("Object Tree..."),statName:"ObjectsTree",onExecute:this.showObjectsTreePanelOrDialog.bind(this)}),B=new K({label:window.t("Settings..."),icon:i("MXV9"),statName:"ChartProperties",onExecute:function(){Ce.showGeneralChartProperties()}}),N=new K({label:window.t("Settings..."),icon:i("MXV9"),statName:"MainSeriesProperties",onExecute:function(){Ce.showGeneralChartProperties(y.style)}}),F=new K({label:window.t("Lock/Unlock"),statName:"ToggleLockSelectedObject",onExecute:this.toggleLockSelectedObject.bind(this)}),j=new K({label:window.t("Hide"),icon:i("DYI2"),statName:"HideSelectedObject",onExecute:this.hideSelectedObject.bind(this)}),f.enabled("property_pages")&&(W=new K({label:window.t("Settings..."),icon:i("MXV9"),statName:"EditSelectedObject",onExecute:function(){Ce.showSelectedSourceProperties()}})),this.withModel(null,function(){Ce.model().mainSeries().properties().priceAxisProperties.subscribe(Ce,Ce._updateScalesActions)}),(U=new K({label:window.t("Scale Price Chart Only"),checkable:!0,statName:"ScalePriceChartOnly"})).binder=new _(U,this._properties.scalesProperties.scaleSeriesOnly,this.model(),window.t("Scale Price Chart Only")),H=this.model().model(),this._properties.scalesProperties.scaleSeriesOnly.listeners().subscribe(null,function(){H.recalculateAllPanes(),
H.invalidate(le.full())}),z=new K({label:window.t("Drawings Toolbar"),checkable:!0,statName:"ToggleDrawingToolbar"}),(G=this._options.isDrawingToolbarVisible)&&(G.subscribe(function(e){z.update({checked:e})},{callWithLast:!0}),z.update({onExecute:function(){G.setValue(!G.value())}})),(Y=new K({label:window.t("Stay in Drawing Mode"),checkable:!0,statName:"ToggleStayInDrawingMode"})).binder=new _(Y,J.properties().stayInDrawingMode,this.model(),window.t("Stay In Drawing Mode")),(q=new K({label:window.t("Sync drawings to all charts"),checkable:!0,statName:"ToggleSyncDrawings"})).binder=new _(q,J.properties().drawOnAllCharts,this.model(),"SyncDrawings"),(X=new K({label:window.t("Lock All Drawing Tools"),checkable:!0,statName:"ToggleLockDrawings"})).binder=new _(X,J.lockDrawings(),this.model(),window.t("Lock drawings"),function(){J.lockDrawings().setValue(this.value())}),(Z=new K({label:window.t("Hide All Drawing Tools"),checkable:!0,statName:"ToggleHideAllDrawingTools"})).binder=new _(Z,J.hideAllDrawings(),this.model(),window.t("Hide All Drawing Tools"),function(){J.hideAllDrawings().setValue(this.value())}),($=new K({label:window.t("Hide Marks On Bars"),checkable:!0,statName:"ToggleHideMarksOnBars"})).binder=new _($,J.hideMarksOnBars(),this.model(),window.t("Hide Marks On Bars"),function(){J.hideMarksOnBars().setValue(this.value())}),(ee=new K({label:window.t("Extended Trading Hours"),checkable:!0,statName:"ToggleExtendedHours"})).binder=new _(ee,this.model().mainSeries().properties().extendedHours,this.model(),window.t("Change Extended Hours")),(te=new K({label:window.t("Symbol Last Value Label"),checkable:!0,checked:!1,statName:"ToggleSymbolLastValue"})).binder=new _(te,this.properties().scalesProperties.showSeriesLastValue,this.model(),window.t("Show Symbol Last Value")),(ne=new K({label:window.t("Symbol Previous Day Close Value Label"),checkable:!0,checked:!1,statName:"ToggleSymbolPrevCloseValue"})).binder=new _(ne,this.properties().scalesProperties.showSeriesPrevCloseValue,this.model(),window.t("Show Symbol Previous Close Value")),this.model().mainSeries().onRestarted().subscribe(this,function(){this.updateActionForIntradayOnly(ne)}),(re=new K({label:window.t("Symbol Name Label"),checkable:!0,checked:!1,statName:"ToggleSymbolLabels"})).binding=new _(re,this.properties().scalesProperties.showSymbolLabels,this.model(),"Undo Show Symbol Labels"),(oe=new K({label:window.t("Indicator Last Value Label"),checkable:!0,checked:!1,statName:"ToggleStudyLastValue"})).binder=new _(oe,this.properties().scalesProperties.showStudyLastValue,this.model(),window.t("Show Indicator Last Value")),(se=new K({label:window.t("Indicator Name Label"),checkable:!0,checked:!1,statName:"ToggleIndicatorsLabels"})).binding=new _(se,this.properties().scalesProperties.showStudyPlotLabels,this.model(),"Undo Show Indicator Labels"),(ce=new K({label:window.t("Financials Last Value Label"),checkable:!0,checked:!1,statName:"ToggleFundamentalsLastValue"
})).binder=new _(ce,this.properties().scalesProperties.showFundamentalLastValue,this.model(),"Show Financials Last Value"),(ue=new K({label:window.t("Financials Name Label"),checkable:!0,checked:!1,statName:"ToggleFundamentalsLabels"})).binding=new _(ue,this.properties().scalesProperties.showFundamentalNameLabel,this.model(),"Show Financials Name Label"),(fe=new K({label:window.t("Countdown To Bar Close"),checkable:!0,checked:!1,statName:"ToggleCountdown"})).binder=new _(fe,this.model().mainSeries().properties().showCountdown,this.model(),fe.getLabel()),(_e=new K({label:window.t("Currency"),checkable:!0,checked:!0,statName:"ToggleScalesCurrency"})).binder=new _(_e,this.properties().scalesProperties.showCurrency,this.model(),"Change Currency Label Visibility"),me=null,this._options.goToDateEnabled&&(me=new K({label:window.t("Go to Date..."),statName:"GoToDate",onExecute:function(){var e=Ce._chartWidgetCollection.activeChartWidget.value();v(e.model())},hotkeyGroup:this._hotkeys,hotkeyHash:w.Modifiers.Alt+71})),ge=new K({label:window.t("Symbol Info..."),icon:i("1pHB"),checkable:!1,statName:"SymbolInfo",onExecute:function(){var e=Ce.model().mainSeries().symbol(),t=Ce.model().mainSeries().symbolInfo();ae(e,{symbolInfo:t})}}),ye=new K({label:Ue,statName:"MergeAllScalesToLeft",onExecute:function(){Ce.model().mergeAllScales("left")}}),ve=new K({label:He,statName:"MergeAllScalesToRight",onExecute:function(){Ce.model().mergeAllScales("right")}}),be=new K({label:ze,statName:"MoveScaleToLeft",onExecute:function(){Ce.model().mergeAllScales("left")}}),Se=new K({label:Ge,statName:"MoveScaleToRight",onExecute:function(){Ce.model().mergeAllScales("right")}}),Pe=new K({label:window.t("Move Chart"),subItems:[new K({label:window.t("Forward"),statName:"MoveChartRight",onExecute:function(){Ce._chartWidgetCollection.moveActiveChartWithUndo(!1)}}),new K({label:window.t("Back"),statName:"MoveChartLeft",onExecute:function(){Ce._chartWidgetCollection.moveActiveChartWithUndo(!0)}})]}),this._actions={chartProperties:B,mainSeriesPropertiesAction:N,timeScaleReset:E,chartReset:r,invertSeriesScale:o,logSeriesScale:h,autoSeriesScale:s,lockSeriesScale:a,regularSeriesScale:l,percentSeriesScale:c,indexedTo100SeriesScale:u,compareOrAdd:D,compare:R,paneObjectTree:V,insertIndicator:k,insertDrawingTool:L,applyColorTheme:b,symbolSearch:T,showSymbolInfoDialog:ge,changeInterval:C,seriesHide:j,studyHide:j,lineToggleLock:F,lineHide:j,scaleSeriesOnly:U,drawingToolbarAction:z,stayInDrawingModeAction:Y,syncModeAction:q,lockDrawingsAction:X,hideAllDrawingsAction:Z,hideAllMarks:$,applyTimeZone:P,extendedHours:ee,showCountdown:fe,showCurrency:_e,showSeriesLastValue:te,showSeriesPrevCloseValue:ne,showSymbolLabelsAction:re,showStudyLastValue:oe,showStudyPlotNamesAction:se,showFundamentalsLastValueAction:ce,showFundamentalNamesAction:ue,undo:d,redo:p,mergeLeftScalesAction:ye,mergeRightScalesAction:ve,moveScaleToLeft:be,moveScaleToRight:Se,moveChartAction:Pe},e&&(this._actions.scalesProperties=e),x&&(this._actions.addToWatchlist=x),
f.enabled("show_source_code")&&(this._actions.viewSourceCode=new K({label:window.t("Source Code..."),statName:"OpenSelectedObjectSource",onExecute:this.openSelectedObjectSource.bind(this)})),!TradingView.onWidget()&&f.enabled("text_notes")&&(this._actions.addToTextNotes=I),null!==me&&(this._actions.gotoDate=me),this.createSessionBreaksActions(),this.readOnly()||(Te=new K({label:window.t("Remove"),icon:i("PgQx"),statName:"RemoveSelectedObject",onExecute:function(){var e;this._chartWidgetCollection&&(e=this._chartWidgetCollection.activeChartWidget.value()),e||(e=this),e.removeSelectedSources()}.bind(this),hotkeyGroup:this._hotkeys,hotkeyHash:S.isMacKeyboard?8:46}),S.isMacKeyboard&&new K({statName:"RemoveSelectedObjectMacDelete",onExecute:function(){this.removeSelectedSources()}.bind(this),hotkeyGroup:this._hotkeys,hotkeyHash:46}),this._actions.insertDrawingTool=L,this._actions.paneRemoveAllStudies=A,this._actions.paneRemoveAllDrawingTools=O,this._actions.paneRemoveAllStudiesDrawingTools=M,this._actions.seriesRemove=Te,this._actions.studyRemove=Te,this._actions.lineRemove=Te,f.enabled("property_pages")&&(this._actions.format=W),this._actions.lockDrawingsAction=X,this._actions.hideAllDrawingsAction=Z,this._actions.hideAllMarks=$),this._actions.showPriceLine=new K({label:window.t("Price Line"),checkable:!0,statName:"TogglePriceLine"}),this._actions.showPriceLine.binding=new _(this._actions.showPriceLine,this.model().mainSeries().properties().showPriceLine,this.model(),"Undo Toggle Price Line"),this.readOnly()||(this._actions.horzLineRightThere=new K({label:window.t("Draw Horizontal Line Here"),onExecute:function(){Ce.activePaneWidget&&Ce.activePaneWidget.drawRightThere("LineToolHorzLine")},hotkeyGroup:this._hotkeys,hotkeyHash:w.Modifiers.Alt+72}),this._actions.vertLineRightThere=new K({label:window.t("Draw Vertical Line Here"),onExecute:function(){Ce.activePaneWidget&&Ce.activePaneWidget.drawRightThere("LineToolVertLine")},hotkeyGroup:this._hotkeys,hotkeyHash:w.Modifiers.Alt+86}),this._actions.crossLineRightThere=new K({label:window.t("Draw Cross Line Here"),onExecute:function(){Ce.activePaneWidget&&Ce.activePaneWidget.drawRightThere("LineToolCrossLine")},hotkeyGroup:this._hotkeys,hotkeyHash:w.Modifiers.Alt+67}),this._actions.trendLine=new K({label:window.t("Draw Trend Line"),onExecute:function(){Ce.activePaneWidget&&J.tool.setValue("LineToolTrendLine")},hotkeyGroup:this._hotkeys,hotkeyHash:w.Modifiers.Alt+84}),this._actions.FibRetracement=new K({label:window.t("Draw Fib Retracement"),onExecute:function(){Ce.activePaneWidget&&J.tool.setValue("LineToolFibRetracement")},hotkeyGroup:this._hotkeys,hotkeyHash:w.Modifiers.Alt+70})),this._updateScalesActions()},r.prototype.executeActionById=function(e){if("takeScreenshot"===e)return console.warn('Action "takeScreenshot" is deprecated. Use method "takeScreenshot" instead'),void this._chartWidgetCollection.takeScreenshot();"lockDrawingsAction"===e&&console.warn('Action "lockDrawingsAction" is deprecated. Use method "lockAllDrawingTools" instead'),
"hideAllDrawingsAction"===e&&console.warn('Action "hideAllDrawingsAction" is deprecated. Use method "hideAllDrawingTools" instead'),e in this._actions?this._actions[e]instanceof K&&this._actions[e].execute():console.warn("Unknown action id: "+e)},r.prototype.getCheckableActionState=function(e){if("lockDrawingsAction"===e)return console.warn('Action "lockDrawingsAction" is deprecated. Use method "lockAllDrawingTools" instead'),null;if("hideAllDrawingsAction"===e)return console.warn('Action "hideAllDrawingsAction" is deprecated. Use method "hideAllDrawingTools" instead'),null;if(e in this._actions){var t=this._actions[e];if(t instanceof K&&t.isCheckable())return t.isChecked();console.warn("Action "+e+" has no state")}else console.warn("Unknown action id: "+e);return null},r.prototype._updateScalesActions=function(){var e,t,i,n,r;null!==this._actions&&(t=(e=this.model().mainSeries()).priceScale(),i=e.properties(),n=t.isLockScale(),r=i.style.value()===p.STYLE_PNF,this._actions.percentSeriesScale.update({disabled:n||r,checked:t.isPercentage()}),this._actions.logSeriesScale.update({disabled:n||r,checked:t.isLog()}),this._actions.regularSeriesScale.update({disabled:n||r,checked:t.isRegular()}),this._actions.indexedTo100SeriesScale.update({disabled:n||r,checked:t.isIndexedTo100()}),this._actions.invertSeriesScale.update({checked:t.isInverted()}),this._actions.lockSeriesScale.update({checked:t.isLockScale()}),this._actions.autoSeriesScale.update({checked:t.isAutoScale(),disabled:t.properties().autoScaleDisabled.value()}))},r.prototype.removeAllStudies=function(){this._model.removeAllStudies()},r.prototype.removeAllDrawingTools=function(){this._model.removeAllDrawingTools()},r.prototype.removeAllStudiesDrawingTools=function(){this._model.removeAllStudiesAndDrawingTools()},r.prototype.model=function(){return this._model},r.prototype.defaultSymbol=function(){return this._defSymbol},r.prototype.connect=function(){this._handler=function(e){this._onData(e)}.bind(this),this._boundOnChartSessionIsConnectedChanged=this._onChartSessionIsConnectedChanged.bind(this),this._chartSession.isConnected().subscribe(this._boundOnChartSessionIsConnectedChanged),this._chartSession.criticalError().subscribe(this,this._onChartSessionCriticalError),this._chartSession.connect(this._handler)},r.prototype.finishInitWithoutConnect=function(){this._chartSession.disable(),this._init(),this.chartWidgetInitialized.fire()},r.prototype.reconnect=function(){this._chartSession.disconnect(),this._chartSession.connect()},r.prototype.update=function(){if(this._model){for(var e=0;e<this._paneWidgets.length;e++)this._paneWidgets[e].update();this._timeAxisWidget&&this._timeAxisWidget.update()}},r.prototype.paint=function(e){e||(e=le.full());for(var t=0;t<this._paneWidgets.length;t++)this._paneWidgets[t].paint(e.invalidateForPane(t),!1);this._timeAxisWidget&&this._timeAxisWidget.paint(e.fullInvalidation()),this._redrawPanes.fire()},r.prototype._makeDefaultGui=function(){this._makeChartWidget(),this._makeLoadingScreen(),this.onWidget()&&this._makeAvailableOnTVPopup(),
this._model&&(this._makeTimeAxisWidget(),this._makePaneWidgetsAndSeparators()),this._adjustSize(),this._updateScalesActions(),$(this._elMainTable).selectable(!1),this.update(),this.paint()},r.prototype.widget=function(){return this._jqMainDiv},r.prototype.restoreState=function(e,t,n){this._adjustSize();var r=this._model.restoreState(this._content,t,n);this._setActions(),r&&r.lines_limit_exceeded&&!this.readOnly()&&Promise.all([i.e("dialogs-core"),i.e(0),i.e(1),i.e(7),i.e(6),i.e("linetools-limit-exceeded-dialog")]).then(function(e){(0,i("uFqk").showLinetoolsLimitExceededDialog)(this)}.bind(this).bind(null,i)).catch(i.oe)},r.prototype.redrawPanes=function(e){for(var t=0;t<this._paneWidgets.length;t++)this._paneWidgets[t].paint();this._redrawPanes.fire()},r.prototype.setBackgroundColor=function(e){this.scaleBackgroundColor=e;for(var t=0;t<this._paneWidgets.length;t++)this._paneWidgets[t].paint(),this._paneWidgets[t].setCursorForTool();this.update(),this.paint()},r.prototype.setScaleLineColor=function(e){this.scaleLineColor=e.value(),this._paneSeparators.forEach(function(e){e.update()}),this.update(),this.paint()},r.prototype.setScaleTextColor=function(e){this.scaleTextColor=e.value(),this.update(),this.paint()},r.prototype.setTimingsMeter=function(e){this._timingsMeter=e,this._updateTimingsMeterState()},r.prototype._updateTimingsMeterState=function(){var e=this._options.visible.value();null!==this._timingsMeter&&(e?this._timingsMeter.startCollect():this._timingsMeter.stopCollect())},r.prototype._update=function(e){var t,i=e?e.fullInvalidation():ce.Full;if(null!==this._timingsMeter&&this._timingsMeter.startDraw(i),i===ce.Full){for(this._model?this._updateGui():this._adjustSize(),this._timeAxisWidget.update(),t=0;t<this._paneWidgets.length;t++)this._paneWidgets[t].setState(this._model.panes()[t]),null!==this._paneWidgets[t].statusWidget()&&this._paneWidgets[t].statusWidget().updateLayout();this._dataWindowWidget&&this._dataWindowWidget.fullUpdate()}else if(i===ce.Light){for(this._timeAxisWidget.update(),t=0;t<this._paneWidgets.length;t++)null!==this._paneWidgets[t].statusWidget()&&this._paneWidgets[t].statusWidget().update();this._dataWindowWidget&&this._dataWindowWidget.update()}else if(i===ce.Cursor){for(t=0;t<this._paneWidgets.length;t++)null!==this._paneWidgets[t].statusWidget()&&this._paneWidgets[t].statusWidget().update();this._dataWindowWidget&&this._dataWindowWidget.update()}this.paint(e),null!==this._timingsMeter&&this._timingsMeter.stopDraw(),e&&e.panesOrderInvalidated()&&De.emit("panes_order_changed")},r.prototype._createVolumeIfNeeded=function(){var e=f.enabled("create_volume_indicator_by_default")&&this._options.addVolume,t=!this._content,i=f.enabled("charting_library_base"),n=f.enabled("create_volume_indicator_by_default_once"),r=this._content&&!this._content.loading;e&&(t||i&&r&&!n)&&this._model.mainSeries().dataEvents().symbolResolved().subscribe(this,function(){var e=this;setTimeout(function(){var t,i,n,r,o=e._model.model().mainSeries().symbolInfo();o&&(t=!o.has_no_volume,
!e.containsVolume()&&t?(i=Ee.factoryDefaults("chartproperties.volumePaneSize"),(n=e._model.model().createStudyInserter({type:"java",studyId:"Volume@tv-basicstudies"})).setForceOverlay(f.enabled("volume_force_overlay")),n.setPaneSize(i),f.enabled("hide_volume_ma")&&n.setPropertiesState({styles:{vol_ma:{visible:!1}}}),n.insert()):!t&&e.containsVolume()&&(r=e.model().dataSources().filter(function(e){return e instanceof j&&"Volume"===e.metaInfo().shortId})[0],e._model.model().removeSource(r)))},0)},n)},r.prototype._createSessions=function(e){var t=this.showGeneralChartProperties.bind(this,y.timezoneSessions);e.createSessions(t)},r.prototype._createChartEventsSource=function(){var e,t,i,n;f.enabled("chart_events")&&(e=this._model.mainSeries(),t=new C(e),n=(i=this._model.paneForSource(e)).createPriceScaleAtPosition("overlay"),i.insertDataSource(t,n))},r.prototype._makeDefaultModel=function(){function e(){var e,i={readOnly:a.readOnly(),isSnapshot:!!a._containsData,timeScale:a._options.timeScale,crossHair:a._options.crossHair,esdEnabled:a._options.esdEnabled};return void 0!==a._options.watermarkEnabled&&(i.watermarkEnabled=a._options.watermarkEnabled),void 0!==a._options.shiftVisibleRangeOnNewBar&&(i.shiftVisibleRangeOnNewBar=a._options.shiftVisibleRangeOnNewBar),e=c(a._chartSession,function(e){if(!(e instanceof le))throw new Error("Invalid mask");a._invalidateMask?a._invalidateMask.merge(e):a._invalidateMask=e,a._draw_planned||(a._draw_planned=!0,a._options.visible.when(function(){var e=!document.hidden,i=a.screen&&a.screen.isShown();null!==a._timingsMeter&&e&&!i&&a._timingsMeter.startWaitingDraw(),a._drawRafId=a._jqParent.prop("ownerDocument").defaultView.requestAnimationFrame(t)}))},a._properties,n,a._metaInfoRepository,a,a._options.undoHistory,a._options.barsMarksContainersFactory,i),a._createSessions(e.chartModel()),e}function t(){a._draw_planned=!1,a._drawRafId=0,a._inLoadingState||a._invalidateMask&&(a._invalidateMask=a._update(a._invalidateMask))}var i,n,o,s,a=this;if(this._content&&this._content.timeScale.points&&(i=this._content.timeScale.points.items[0],n={startDate:i}),!this._metaInfoRepository.getInternalMetaInfoArray())throw new Error("Cannot create chart model: studies metainfo is absent");return f.enabled("lean_chart_load")?this._model=this._model||e():this._model=e(),this._createVolumeIfNeeded(),o=function(){var e,t;this._model.onTagsChanged().subscribe(this,r.prototype.onModelTagsChanged),this._initBackgroundColor(),this._updateGui(),this._modelCreated.fire(this._model),this._tagsChanged.fire(),e=this._model.mainSeries(),this._defTimeframe&&e.setDefaultTimeframe(this._defTimeframe),this._model.lineCancelled().subscribe(this,this.onLineCancelled),e.dataEvents().symbolNotPermitted().subscribe(null,function(t){e.properties().symbol.setValue(t)}),e.dataEvents().symbolResolved().subscribe(this,function(t){var i=t.pro_name;i&&this._options.isSymbolAvailable(i).then(function(t){t||e.properties().symbol.setValue(DEFAULT_SYMBOL)})}),
void 0!==this._options.requestFallbackSymbol&&e.dataEvents().symbolGroupNotPermitted().subscribe(this,function(t){this._options.requestFallbackSymbol(e.properties().symbol.value(),{type:"group_not_permitted",symbolGroup:t}).then(function(t){t&&e.properties().symbol.setValue(t)})}),e.onInReplayStateChanged().subscribe(this.screen,this.screen.show),e.properties().style.unsubscribe(this,this._onChartStyleChanged),e.properties().style.subscribe(this,this._onChartStyleChanged),e.dataEvents().completed().subscribe(this,function(){this._addPerfMark("SeriesCompleted")},!0),e.dataEvents().barReceived().subscribe(this,function(){this._addPerfMark("SeriesFirstDataReceived")},!0),(t=this._options).handleSessionErrors&&(e.dataEvents().chartTypeNotPermitted().subscribe(null,function(){e.properties().interval.setValue("D"),R.isOpened().then(function(e){t.muteSessionErrors||e||(A("kagiRenko"),R.createGoProDialog({feature:"kagiRenko"}).then(function(e){e.open()}))})}),e.dataEvents().intradaySpreadNotPermitted().subscribe(null,function(){e.properties().interval.setValue("D"),R.isOpened().then(function(e){t.muteSessionErrors||e||R.createGoProDialog({feature:"intradaySpread"}).then(function(e){e.open()})})}),e.dataEvents().customIntervalNotPermitted().subscribe(null,function(){e.properties().interval.setValue(ne(oe(e.properties().style.value()))),R.isOpened().then(function(e){t.muteSessionErrors||e||R.createGoProDialog({feature:"customIntervals"}).then(function(e){e.open()})})}),e.dataEvents().secondsIntervalNotPermitted().subscribe(null,function(){e.properties().interval.setValue(ne(oe(e.properties().style.value()))),R.isOpened().then(function(e){t.muteSessionErrors||e||R.createGoProDialog({feature:"secondsIntervals",upgradeMessage:window.t("Upgrade now"),forceUpgradeBtn:!0}).then(function(e){e.open()})})}),e.dataEvents().intradayExchangeNotPermitted().subscribe(null,function(){e.properties().interval.setValue("D"),R.isOpened().then(function(i){if(!t.muteSessionErrors&&!i){var n=e.symbolInfo().listed_exchange;x.prototype.supportedExchangesList().forEach(function(e){e.value===n&&(n=e.name)}),R.createGoProDialog({feature:"intradayExchange"}).then(function(e){e.open()})}})})),this._options.handleSessionErrors&&(e.requestingIntradayWhenNotSupported.subscribe(null,function(){var t,i,n;e.properties().interval.setValue("D"),a._options.muteSessionErrors||(t=window.t("Interval is not applicable"),i=$("<div></div>"),n=window.t("{p_start}Only {b_start}D, W, M{b_end} intervals are supported for this symbol/exchange. You will be automatically switched to a D interval. Intraday intervals are not available because of exchange policies.{p_end}").format({p_start:"<p>",p_end:"</p>",b_start:"<b>",b_end:"</b>"}),i.append(n),V({title:t,content:i}))}),e.requestingResolutionWhenNotSupported.subscribe(null,function(t){e.properties().interval.setValue(t)}))}.bind(this),this._content?(qe&&this._initialLoading&&(s={symbol:this._defSymbol,interval:this._defInterval,style:this._defStyle}),this.restoreState(this._content,this._containsData,s),
qe&&this._defSymbol&&this.model().model().setPriceAutoScaleForAllMainSources()):this._setActions(),o()},r.prototype._onChartStyleChanged=function(){we("Chart","Chart Style "+this._model.mainSeries().getStyleShortName().toUpperCase())},r.prototype._updateGui=function(){this._model&&(this._makeTimeAxisWidget(),this._makePaneWidgetsAndSeparators(),$(this._elMainTable).selectable(!1),this._adjustSize())},r.prototype._makeChartWidget=function(){},r.prototype._makeLoadingScreen=function(){if(f.enabled("lean_chart_load")){if(this.screen)return;this.screen=new r.LoadingScreen(this,this._jqParent)}else this.screen=new r.LoadingScreen(this,this._jqMainDiv)},r.prototype._makeAvailableOnTVPopup=function(){this.available_screen||(this.available_screen=new D(this))},r.prototype._setSymbol=function(e,t){if(this._model){var i=this._model.mainSeries();if(!t&&i.symbolSameAsCurrent(e)&&!f.enabled("same_data_requery"))return;this._model.selectionMacro(function(e){e.clearSelection()}),this._model.setScreenChartProperty(i.properties().symbol,e,this,"Change Symbol",f.enabled("same_data_requery"))}else this._properties.mainSeriesProperties.merge({symbol:e})},r.prototype.setSymbol=function(e,t){return this._setSymbol.apply(this,arguments)},r.prototype.loadRange=function(e){this._model&&(this.screen.show(),this._model.loadRange(e))},r.prototype.getSymbol=function(e){var t;return(t=this._model?this._model.mainSeries().properties():this._properties.mainSeriesProperties)?e&&t.shortName&&t.shortName.value()?t.shortName.value():t.symbol.value():""},r.LoadingScreen=function(e,t){this._cw=e,this.$element=$('<div class="chart-loading-screen">'),this.$shield=$('<div class="chart-loading-screen-shield">').appendTo(this.$element),this.$element.appendTo(t),this._showed=!1,this._cw.withModel(this,this._connectToModel)},r.LoadingScreen.prototype._connectToModel=function(){this._cw.model().mainSeries().dataEvents().messageReceived().subscribe(this,function(e){switch(e.method){case"symbol_error":e.params[1]!==p.PERMISSION_DENIED&&this.hide();break;case"series_error":f.enabled("hide_loading_screen_on_series_error")&&this.hide();break;case"series_completed":this.hide()}})},r.LoadingScreen.prototype.show=function(){this._cw._inLoadingState=!0,this._showed||(this._showed=!0,this._show())},r.LoadingScreen.prototype._show=function(){var e=this._cw.properties().paneProperties.background.value();this.$shield.css("background",e),this.$element.addClass("fade")},r.LoadingScreen.prototype.hide=function(){delete this._cw._inLoadingState,this._showed&&this._hide()},r.LoadingScreen.prototype._hide=function(){this._showed=!1,this.$element.removeClass("fade")},r.LoadingScreen.prototype.$canvas=null,r.LoadingScreen.prototype.context=null,r.LoadingScreen.prototype.isShown=function(){return this._showed},r.prototype.unsetActivePaneWidget=function(){this.activePaneWidget=!1},r.prototype.setActivePaneWidget=function(e){this.activePaneWidget=e},r.prototype.maximizedPaneWidget=function(){return this._maximizedPaneWidget},r.prototype.isMaximizedPane=function(){
return null!==this._maximizedPaneWidget},r.prototype.toggleMaximizePane=function(e){if(!(this._paneWidgets.length<2)){this._maximizedPaneWidget?(this._maximizedPaneWidget.state().setMaximized(!1),this._maximizedPaneWidget=null,this._paneSeparators.forEach(function(e){e.show()})):(this._maximizedPaneWidget=e,this._maximizedPaneWidget.state().setMaximized(!0),this._paneSeparators.forEach(function(e){e.hide()}));for(var t=this._paneWidgets.length;t--;)this._paneWidgets[t].updateControls(),this._paneWidgets[t].updatePriceAxisWidgets();this._timeAxisWidget.updatePriceAxisStubs(),this._adjustSize(),Xe&&this.updateIndicatorImagePosition(),this.updateCrossHairPositionIfNeeded()}},r.prototype._makePaneWidgetsAndSeparators=function(){var e,t,i,n,r,o,s=this._model.panes(),c=s.length,u=this._paneWidgets.length;for(e=c;e<u;e++)(t=this._paneWidgets.pop()).destroy(),(i=this._paneSeparators.pop())&&i.destroy();for(e=u;e<c;e++)n=!this._containsData&&Xe,r={contextMenuEnabled:this._options.paneContextMenuEnabled,currencyLabelEnabled:this._options.currencyLabelEnabled,handleScale:this._options.handleScale,handleScroll:this._options.handleScroll,priceScaleContextMenuEnabled:this._options.priceScaleContextMenuEnabled,symbolMarkerEnabled:this._options.symbolMarkerEnabled,legendWidgetEnabled:this._options.legendWidgetEnabled,marketStatusWidgetEnabled:this._options.marketStatusWidgetEnabled&&n,marketStatusWidget:this._options.marketStatusWidget,chartWarningWidgetEnabled:this._options.chartWarningWidgetEnabled,chartWarningWidget:this._options.chartWarningWidget,sourceStatusesWidgetEnabled:n,legendWidget:this._options.legendWidget,propertyPagesEnabled:this._options.propertyPagesEnabled,sourceSelectionEnabled:this._options.sourceSelectionEnabled,controlsEnabled:this._options.paneControlsEnabled,croppedTickMarks:this._options.croppedTickMarks},void 0!==this._options.paneContextMenu&&(r.contextMenu=this._options.paneContextMenu),void 0!==this._options.priceScaleContextMenu&&(r.priceScaleContextMenu=this._options.priceScaleContextMenu),(t=new a(this,s[e],r)).onMouseLeave=this.unsetActivePaneWidget.bind(this),t.onMouseEnter=this.setActivePaneWidget.bind(this),this._paneWidgets.push(t),e>0&&(i=new l(this,e-1,e),this._paneSeparators.push(i),this._timeAxisWidget?$(i.row).insertBefore(this._timeAxisWidget.getElement()):$(i.row).appendTo(this._elMainTable)),this._timeAxisWidget?this._elMainTable.insertBefore(t.getElement(),this._timeAxisWidget.getElement()):this._elMainTable.appendChild(t.getElement());for(null!==this._timeAxisSeparator&&this._timeAxisSeparator.destroy(),this._timeAxisSeparator=new l(this,this._paneWidgets.length-1,0,!0),$(this._timeAxisSeparator.row).insertBefore(this._timeAxisWidget.getElement()),e=0;e<c;e++)o=s[e],(t=this._paneWidgets[e]).hasState()&&t.state()===o?t.updatePriceAxisWidgets():t.setState(o);for(e=c;e--;)this._paneWidgets[e].updateControls();this._updateThemedColor()},r.prototype._titlesProvider=function(e,t){
var i,n=this.model(),r=this._maximizedPaneWidget?this._maximizedPaneWidget.state():n.paneForSource(n.mainSeries()),o="right"===e?r.rightPriceScales():r.leftPriceScales();return o.length<t+1?[]:((i=o[t].orderedSources().filter(function(e){return e===n.mainSeries()||e instanceof j})).reverse(),(i=s(i,n.mainSeries())).map(function(e){return e.title(!0,void 0,!1)}))},r.prototype._menuItemsProvider=function(e,t){var i,n,r,o=this.model(),s=this._maximizedPaneWidget?this._maximizedPaneWidget.state():o.paneForSource(o.mainSeries()),a="right"===e?s.visibleRightPriceScales():s.visibleLeftPriceScales();return a.length<t+1?[]:(i=a[t],n=o.panes().indexOf(s),r=this._paneWidgets[n],("right"===e?r.rightPriceAxisesContainer():r.leftPriceAxisesContainer()).findAxisWidgetForScale(i).getContextMenuActions())},r.prototype._makeTimeAxisWidget=function(){if(this._timeAxisWidget)this._timeAxisWidget.updatePriceAxisStubs();else{var e=this.model();this._timeAxisWidget=new h(this,this._options.timeScaleWidget,this._titlesProvider.bind(this),this._menuItemsProvider.bind(this),this._backgroundBasedTheme),this._elMainTable.appendChild(this._timeAxisWidget.getElement()),this._timeAxisWidget.updatePriceAxisStubs(),this._timeAxisWidget.onLabelHovered().subscribe(this,function(t,i){var n=this._maximizedPaneWidget?this._maximizedPaneWidget.state():e.paneForSource(e.mainSeries()),r=this.paneByState(n);r.highlightedPriceAxis().setValue(i?t:null),this.model().model().lightUpdate()})}},r.prototype.insertStudy=function(e,t,i,n){var r=this;return new Promise(function(o){t?window.runOrSignIn(function(){o(r._insertStudy(e,t,i,n))},{source:"study on study"}):o(r._insertStudy(e,t,i,n))}).catch(function(){})},r.prototype._insertStudy=function(e,t,i,n){var r,o,s=this._model.createStudyInserter(e,t,i);return s.setForceOverlay("java"===e.type&&"Volume@tv-basicstudies"===e.studyId&&f.enabled("volume_force_overlay")),r=this,(o=s.insert(function(e,t,i){return new Promise(function(o,s){n?o(n(e,t,i)):r.isSymbolicStudy(i)?(we("GUI","Confirmation dialogs","Symbol confirmation dialog"),P(i,r.model(),o,s,"symbol")):r.hasConfirmInputs(t)?(we("GUI","Confirmation dialogs","Inputs confirmation dialog"),P(i,r.model(),o,s)):o({})})})).catch(function(e){e===B.StudyCannotBeChild&&V({type:"modal",title:window.t("Oops!"),content:window.t("This indicator cannot be applied to another indicator.")}),e===B.CannotGetMetainfo&&V({type:"modal",title:window.t("Oops!"),content:window.t("Something went wrong. Please try again later.")})}),o.then(function(e){e&&be.isScriptStrategy(e.metaInfo())&&r.model().mainSeries().isRangeBasedStyle()&&Fe.toast({title:je,text:We,type:"attention"})},function(){}),o},r.prototype.hasConfirmInputs=function(e){var t,i;if(void 0===e)return!1;for(t=0;t<e.length;++t)if(void 0!==(i=e[t]).confirm&&i.confirm)return!0;return!1},r.prototype.isSymbolicStudy=function(e){switch(e.id){case"Overlay@tv-basicstudies":case"CorrelationCoefficient@tv-basicstudies":case"Correlation Coeff@tv-basicstudies":case"Correlation - Log@tv-basicstudies-1":case"Spread@tv-basicstudies":
case"Ratio@tv-basicstudies":return!0;default:return!1}},r.prototype.getPriceAxisMaxWidthByName=function(e){return"left"===e?this.maxLhsPriceAxisWidth:this.maxRhsPriceAxisWidth},r.prototype.getPriceAxisWidthChangedByName=function(e){return"left"===e?this.lhsPriceAxisWidthChanged:this.rhsPriceAxisWidthChanged},r.prototype._adjustSize=function(){function e(e,t){return e+t}function t(e,t){t.forEach(function(t,i){e[i]=Math.max(e[i],t)})}var i,n,r,o,s,a,c,h,d,p,f,_,m,g,y=0,v=null===this._model?null:this._model.model().priceScaleSlotsCount(),b=new Uint32Array(null===v?0:v.left),S=new Uint32Array(null===v?0:v.right),w=Ne(document.body);this._paneWidgets.forEach(function(e){var i,n;this._maximizedPaneWidget&&this._maximizedPaneWidget!==e||(i=e.leftPriceAxisesContainer().optimalWidths(),n=e.rightPriceAxisesContainer().optimalWidths(),t(b,i),t(S,n),y+=e.stretchFactor())},this),i=this._lhsAxesWidth=b.reduce(e,0),n=this._rhsAxesWidth=S.reduce(e,0),r=this._width(),o=this._height(),s=Math.max(r-i-n,0),a=this._paneSeparators.length,c=l.HEIGHT,h=this.isMaximizedPane()?0:c*a,(d=null!==this._timeAxisWidget?this._timeAxisWidget.optimalHeight():0)%2&&(d+=1),_=(f=o<(p=h+d)?0:o-p)/y,m=0,g=!1,this._paneWidgets.forEach(function(e,t){var i,n;this._model&&e.setState(this._model.panes()[t]),i=0,this.isMaximizedPane()?i=this._maximizedPaneWidget===e?f:0:(n=0,n=t===this._paneWidgets.length-1?Math.ceil((f-m)*w)/w:Math.round(e.stretchFactor()*_*w)/w,i=Math.max(n,2),m+=i),e.setPriceAxisSizes(u.LHS,i,b),e.setPriceAxisSizes(u.RHS,i,S),g=g||i!==e.height(),e.setSize(new Ce(s,i)),this._model&&e.state()&&this._model.setPaneHeight(e.state(),i)},this),null!==this._timeAxisWidget&&this._timeAxisWidget.setSizes(new Ce(s,d),b,S),this._model&&this._model.setWidth(s),this._controlBarNavigation&&this._controlBarNavigation.updatePosition(),this.maxLhsPriceAxisWidth!==i&&(this.maxLhsPriceAxisWidth=i,this.lhsPriceAxisWidthChanged.fire(i)),this.maxRhsPriceAxisWidth!==n&&(this.maxRhsPriceAxisWidth=n,this.rhsPriceAxisWidthChanged.fire(n)),g&&De.emit("panes_height_changed")},r.prototype._onChartSessionIsConnectedChanged=function(e){e?this._onConnection():this._onDisconnect()},r.prototype._onChartSessionCriticalError=function(e,t){this._disconnected.fire(!0)},r.prototype._onData=function(e){switch(e.method){case"reconnect_bailout":this._reconnectBailout.fire();break;default:this._model.onData(e)}},r.prototype._onConnection=function(){this._online=!0,this.requestMetadata(),this._model&&(this._model.restart(),this._updateGui(),this.update(),this.paint(),this._connected.fire())},r.prototype._onDisconnect=function(){this._model&&this._model.disconnect(),this._online=!1,this.update(),this.paint(),this._disconnected.fire()},r.prototype._applyStudiesOverrides=function(){be.overrideDefaults(this._metaInfoRepository.getInternalMetaInfoArray())},r.prototype.requestMetadata=function(){this._addPerfMark("RequestMetadataStart"),Le.logInfo("RequestMetadataStart"),this._metaInfoRepository.requestMetaInfo().then(function(){this._addPerfMark("RequestMetadataEnd"),
Le.logInfo("RequestMetadataEnd, already initialized: "+Boolean(this._inited)),this._inited?this.model().model().setStudiesMetaData(this._metaInfoRepository.getInternalMetaInfoArray(),this._metaInfoRepository.getMigrations()):(this._init(),this.chartWidgetInitialized.fire(),f.enabled("charting_library_base")||Le.logDebug("initialized"))}.bind(this))},r.prototype.studiesMetaData=function(){return this._model.studiesMetaData()},r.prototype.getTimeScale=function(){return this._timeAxisWidget},r.prototype.chartWidgetCollection=function(){return this._chartWidgetCollection},r.prototype.setSeriesStyle=function(e,t){this._model.setProperty(e.properties().style,t)},r.prototype.showObjectsTreePanelOrDialog=function(){var e=!1,t=window.widgetbar;t&&t.isVisible()&&(e="object_tree"===t.setPage("object_tree").name),e||this.showObjectsTreeDialog()},r.prototype.showObjectsTreeDialog=function(e){var t=this;Promise.all([i.e("dialogs-core"),i.e(0),i.e(1),i.e(7),i.e(47),i.e(70),i.e(124),i.e(171),i.e(199),i.e(6),i.e(42),i.e(61),i.e("objecttreedialog")]).then(function(n){new(0,i("SDvV").ObjectTreeDialog)({chartWidget:t,activeTab:e},t._model).show()}.bind(null,i)).catch(i.oe)},r.prototype._showChartProperties=function(e,t,i,n){t&&(g("properties_dialog.active_tab.chart",t),i.tabName=t);var r=this;return new Promise(function(t){m(e,r._model,i,r._chartWidgetCollection,n).then(function(e){t(e.isVisible()?e:null)})})},r.prototype.showGeneralChartProperties=function(e){if(!f.enabled("show_chart_property_page"))return Promise.resolve(null);var t=this;return this._showChartProperties(this._model.mainSeries(),e,{doNotCloseOnBgClick:!0,onResetToDefault:function(){t._model.restorePreferences(t._model),t.applyTheme(t)}}).then(function(e){if(null===e)return null;var i=function(){e.hide(),t._chartWidgetCollection.activeChartWidget.unsubscribe(i)};return t._chartWidgetCollection.activeChartWidget.subscribe(i),e})},r.prototype.showChartPropertiesForSource=function(e,t,i,n){return f.enabled("property_pages")?e===this._model.model().mainSeries()?this.showGeneralChartProperties(t):((i=i||{}).onResetToDefault=this._model.restorePropertiesForSource.bind(this._model,e),this._showChartProperties(e,t,i,n)):Promise.resolve(null)},r.prototype.generalPropertiesDefinitions=function(){return this._getChartPropertyDefinitionsViewModel().then(function(e){return e.propertyPages()})},r.prototype.propertiesDefinitionsForSource=function(e){return Y(e)||U(e)||q(e)?e.getPropertyDefinitionsViewModel().then(function(e){return null===e?null:e.propertyPages()}).catch(function(e){return Le.logWarn(e),null}):Promise.resolve(null)},r.prototype.showCompareOrAdd=function(){this._chartWidgetCollection.showAddCompareDialog()},r.prototype.showIndicators=function(e){if(window.studyMarket)return window.studyMarket.isVisible()?void window.studyMarket.hide():(window.studyMarket.show(e),window.studyMarket)},r.prototype.showFundamentals=function(e){var t,i,n
;if(window.fundamentalsDialog)return window.fundamentalsDialog.isVisible()?void window.fundamentalsDialog.hide():(t=void 0!==e?e.title(!0):void 0,void 0!==e&&(i=null===(n=e.symbolInfo())?e.symbol():n.ticker||n.full_name),window.fundamentalsDialog.show(i,t),window.fundamentalsDialog)},r.prototype.removeSelectedSources=function(){this.removeDataSources(this._model.selection().sources())},r.prototype.removeDataSources=function(e){var t,i=e.filter(function(e){return!(e===this._model.mainSeries()||e===this._model.lineBeingCreated()||e instanceof d||e instanceof E)}.bind(this));0!==i.length&&(t=null,U(i[0])&&(o(1===i.length,"Cannot remove several studies (no multi select for studies)"),t=i[0]),i.find(function(e){return e.hasAlert.value()&&e.isUserDeletable()})?F().then(function(e){e&&this._model.removeSelectedSources()}.bind(this)):t&&t.hasChildren()?O(this._model.removeSelectedSources.bind(this._model)):this._model.removeSelectedSources())},r.prototype.unlinkSelectedLine=function(){var e=this._model,t=e.selection().sources().filter(function(e){return Y(e)});e.unlinkLines(t)},r.prototype.copyLineToOtherCharts=function(){var e=this._model,t=e.selection().sources().filter(function(e){return Y(e)&&e.isSynchronizable()});e.copyToOtherCharts(t)},r.prototype.hideSelectedObject=function(){this.hideDataSources(this._model.selection().sources())},r.prototype.hideDataSources=function(e){var t,i;e.length&&(t=e.map(function(e){return e.properties().visible}),i=e.map(function(){return!1}),this._model.setProperties(t,i,"Hide "+e[0].title()))},r.prototype.toggleLockSelectedObject=function(){var e=this._model;e.selection().sources().forEach(function(t){var i=t.properties().frozen.value();e.setProperty(t.properties().frozen,!i,(i?window.t("Unlock"):window.t("Lock"))+" "+t.title())})},r.prototype.showSelectedSourceProperties=function(){var e=this._model.selection().sources()[0];e&&this.showSourceProperties(e)},r.prototype.showSourceProperties=function(e){var t=null;e===this._model.mainSeries()&&(t=y.style),this.showChartPropertiesForSource(e,t)},r.prototype.openSelectedObjectSource=function(e){var t,n=this._model.selection().sources()[0];n&&n.metaInfo&&(t=n.metaInfo())&&t.scriptIdPart&&t.pine&&TradingView.bottomWidgetBar&&i("nmnj").getPineSourceCode(t.scriptIdPart,t.pine.version).done(function(e){var i=L.parse(e.version),n=e.lastVersionMaj?L.parse(e.lastVersionMaj):new L(0,0),r={scriptSource:e.source,scriptIdPart:t.scriptIdPart,scriptName:e.scriptName,scriptTitle:e.scriptTitle,version:e.version,isOld:!n.isZero()&&n.major()!==i.major()};TradingView.bottomWidgetBar.activateScriptEditorTab(r)})},r.prototype.setTimeAxisVisible=function(e){this._timeAxisWidget.setVisible(e),this._adjustSize()},r.prototype.tags=function(){return this._model?this._model.calculateDefaultTags():[]},r.prototype.state=function(e,t,i){return this._model.state(e,t,i)},r.prototype.asyncState=function(){return this._model.asyncState()},r.prototype.metaInfo=function(){var e=this._metaInfo;return this._model&&(e.systemTags=this._model.calculateDefaultTags()),e},
r.prototype.images=function(){function e(e){var i,n,r,o,s,a;for(e.paint(ce.Light,t._onWidget),(i=e.getScreenshotData()).containsMainSeries=e.containsMainSeries(),i.studies=[],n=e.state().dataSources(),r=0;r<n.length;r++)o=n[r],s=t.properties().paneProperties.legendProperties,a=o.statusView(),o instanceof j?o.properties().visible.value()&&a&&s.showStudyTitles.value()&&s.showLegend.value()&&i.studies.push(o.statusView().text()):o instanceof p&&a&&s.showLegend.value()&&s.showSeriesTitle.value()&&(i.mainSeriesText=o.statusView().text());return i}var t,i,n,r,o,s,a;if(TradingView.printing=!0,t=this,i=this._model.selection().sources(),this._model.selectionMacro(function(e){e.clearSelection()}),n=[],this.isMaximizedPane())n.push(e(this._maximizedPaneWidget));else for(r=0;r<this._paneWidgets.length;r++)o=this._paneWidgets[r],n.push(e(o)),r<this._paneWidgets.length-1&&n.push(this._paneSeparators[r].image());return s=null,this._timeAxisWidget&&(n.push(this._timeAxisSeparator.image()),this._timeAxisWidget.paint(ce.Light),s=this._timeAxisWidget.getScreenshotData()),TradingView.printing=!1,this._model.selectionMacro(function(e){i.forEach(function(t){e.addSourceToSelection(t)})}),this._model.invalidate(le.light()),a=this.mainSeriesQuotesAndMetainfo(),{panes:n,timeAxis:s,colors:{text:this.properties().scalesProperties.textColor.value(),bg:this.properties().paneProperties.background.value(),scales:this.properties().scalesProperties.lineColor.value()},meta:a.meta,ohlc:a.ohlc,quotes:a.quotes}},r.prototype.mainSeriesQuotesAndMetainfo=function(){var e,t,i,n,r,o,s,a=this._model&&this._model.mainSeries();return a&&(n=function(e){return null==e?"":a.formatter().format(e,void 0,void 0,!0,!1)+""},r=function(e){return null==e?"":e+""},e={resolution:a.interval(),symbol:a.symbol()},(o=a.symbolInfo())&&(e.symbol=o.full_name,e.description=o.description,e.exchange=o.exchange),null!==(s=a.bars().last())&&(t=s.value.slice(1,5).map(n)),a.quotes()&&(i={change:n(a.quotes().change),changePercent:r(a.quotes().change_percent),last:n(a.quotes().last_price)})),{meta:e,ohlc:t,quotes:i}},r.prototype.onTagsChanged=function(){return this._tagsChanged},r.prototype.onModelTagsChanged=function(){this._tagsChanged.fire()},r.prototype.onAboutToBeDestroyed=function(){return this._aboutToBeDestroyed},r.prototype.destroy=function(){var e,t,i;for(this._aboutToBeDestroyed.fire(),null!==this._removeMaximizeHotkey&&(this._removeMaximizeHotkey(),this._removeMaximizeHotkey=null),0!==this._drawRafId&&this._jqParent.prop("ownerDocument").defaultView.cancelAnimationFrame(this._drawRafId),null!==this._backgroundColorSpawn&&this._backgroundColorSpawn.destroy(),this._model.model().destroy(),null!==this._timingsMeter&&(this._timingsMeter.stopCollect(),this._timingsMeter=null),this._chartSession.criticalError().unsubscribe(this,this._onChartSessionCriticalError),this._chartSession.isConnected().unsubscribe(this._boundOnChartSessionIsConnectedChanged),this._chartSession.destroy(),e=0;e<this._paneWidgets.length;e++)this._paneWidgets[e].destroy();for(this._paneWidgets.length=0,
e=0;e<this._paneSeparators.length;e++)this._paneSeparators[e].destroy();for(t in this._paneSeparators.length=0,this._controlBarNavigation&&(this._controlBarNavigation.destroy(),this._controlBarNavigation=void 0),$(window).off("visibilitychange:chart_"+this._guid),$(window).off("keydown:chart_"+this._guid),this._jqMainDiv&&this._jqMainDiv.remove(),this._actions)(i=this._actions[t])instanceof K&&(i.destroy(),i.binder&&i.binder.destroy());null!==this._timeAxisWidget&&(this._timeAxisWidget.destroy(),this._timeAxisWidget=null),null!==this._definitionsViewModel&&this._definitionsViewModel.destroy(),this._hotkeys&&(this._hotkeys.destroy(),this._hotkeys=null),this._jqMainDiv[0].removeEventListener("wheel",this._onWheelBound),this._isDestroyed=!0},r.prototype.title=function(){return window.t("Chart Properties")},r.prototype.symbolProperty=function(){return this._model.mainSeries().properties().shortName?this._model.mainSeries().properties().shortName:this._model.mainSeries().properties().symbol},r.prototype.loadContent=function(e,t){var i,n,r,o,s,a;for(this.screen.show(),i=this,this.isMaximizedPane()&&this.toggleMaximizePane(),n=i._model.model().dataSources(),r=0;r<n.length;r++)(o=n[r])!==i._model.mainSeries()&&i._model.model().removeSource(o,!0);for(this._model.disconnect(),i.activePaneWidget=!1,i._model.mainSeries().purgeSymbolInfo(),e.loading=!0,this._content=e,this._initialLoading=Boolean(t),r=0;r<e.panes.length;++r)for(a=0;a<e.panes[r].sources.length;++a)if(e.panes[r].sources[a].state.symbol){s=e.panes[r].sources[a].state;break}if(!s)throw Error("An error occured while determining main series ion the chart");i._properties.mainSeriesProperties.merge({visible:!0,symbol:s.symbol,timeframe:"",onWidget:i._onWidget,interval:s.interval||"D",style:s.style}),i._init(),he.interval.setValue(s.interval),i._model.undoHistory().clearStack()},r.prototype._contentSeriesProperties=function(){var e,t,i;if(this._content)for(e=this._content.panes.length;e-- >0;)for(i=(t=this._content.panes[e].sources).length;i-- >0;)if("MainSeries"===t[i].type)return t[i].state},r.prototype.updateUndoRedo=function(){this._model&&(this.actions().undo.update({disabled:this._model.undoHistory().undoStack().isEmpty()}),this.actions().redo.update({disabled:this._model.undoHistory().redoStack().isEmpty()}))},r.prototype.createSessionBreaksActions=function(e){var t=new K({label:window.t("Session Breaks"),checkable:!0,statName:"ToggleSessionBreaks"});t.binder=new _(t,this._model.chartModel().sessions().properties().graphics.vertlines.sessBreaks.visible,this.model(),"Session Breaks"),this._actions.sessionBreaks=t},r.prototype.updateActionForIntradayOnly=function(e){!e||!e instanceof K||e.update({disabled:this.model().mainSeries().isDWM()})},r.prototype.withModel=function(e,t){this.model()?t.call(e):this.modelCreated().subscribe(e,t,!0)},r.prototype.containsVolume=function(){return this.model().dataSources().some(function(e){return e instanceof j&&"Volume"===e.metaInfo().shortId})},r.prototype.containsStudyByPredicate=function(e){
return!!this._model&&this._model.dataSources().some(function(t){if(!(t instanceof j))return!1;var i=t.metaInfo();return e(i)})},r.prototype.containsStudy=function(e){return this.containsStudyByPredicate(function(t){return t.id===e||t.fullId===e})},r.prototype.isSmall=function(){return this._width()<550||this._height()<300},r.prototype.onWidget=function(){return this._onWidget},r.prototype.onCmeWidget=function(){return"cme"===this.widgetCustomer()},r.prototype.widgetCustomer=function(){return this._widgetCustomer},r.prototype._width=function(){return this._options.width.value()},r.prototype._height=function(){return this._options.height.value()},r.prototype.resize=function(){var e={height:this._height()+"px",width:this._width()+"px"};this._jqMainDiv.css(e),this._elMainTable.style.height=e.height,this._elMainTable.style.width=e.width,this._resizeHandler&&this._jqMainDiv&&this._resizeHandler()},r.prototype.chartSession=function(){return this._chartSession},r.prototype.maxLhsPriceAxisWidth=0,r.prototype.maxRhsPriceAxisWidth=0,r.prototype.GUIResetScales=function(){we("GUI","Reset Scales");var e=this.model();e&&e.resetScales()},r.prototype.onLineCancelled=function(){J.resetToCursor()},r.prototype.createIndicatorImage=function(){var e=this;this._indicatorBindingPriceAxisName="right",this._indicatorImageMargin="marginRight",this.indicatorImage=this._jqParent[0].getElementsByClassName("chart-status-picture")[0],this.indicatorImage?this.indicatorImage.innerHTML="":(this.indicatorImage=this._jqParent.prop("ownerDocument").createElement("span"),this.indicatorImage.className="chart-status-picture",this._jqParent.append(this.indicatorImage)),this._options.marketStatusWidgetEnabled&&(this.indicatorText=$('<span class="series-status-text apply-common-tooltip"><span class="js-market-status tv-market-status--series-status" data-name="market-status"></span></span>'),this.indicatorText.appendTo(this.indicatorImage),this.indicatorDot&&this.indicatorDot.stop(),this._indicatorDotWrapperEl=this.indicatorText.find(".js-market-status")[0],this.indicatorDot=new xe({el:this._indicatorDotWrapperEl,classSuffix:"--for-chart"}),this.indicatorDot.start(),f.enabled("display_data_mode")&&($('<span class="js-data-mode tv-data-mode--series-status"></span>').appendTo(this.indicatorText),this.dataModeIndicator&&this.dataModeIndicator.stop(),this.dataModeIndicator=new Ie({el:this.indicatorText.find(".js-data-mode")[0],classSuffix:"--for-chart"}),this.dataModeIndicator.start())),e.withModel(null,function(){var t=e._model.mainSeries();t.onStatusChanged().subscribe(null,e._updateDataWarningIndicator.bind(e)),t.onStatusChanged().subscribe(null,e.updateIndicatorImage.bind(e)),t.marketStatus.subscribe(e.updateIndicatorImage.bind(e)),e.updateIndicatorImage(),e.checkCompactMode(),e._model.model().onRearrangePanes().subscribe(null,function(){e.resetIndicatorSize(),e.resizeIndicator()})}),this._indicatorPriceAxisWidthChanged=this.getPriceAxisWidthChangedByName(this._indicatorBindingPriceAxisName),
this._indicatorPriceAxisWidthChanged.subscribe(this,this.updateIndicatorImagePosition),this.updateIndicatorImagePosition()},r.prototype._updateDataWarningIndicator=function(){var e=this,t=e.model().mainSeries(),i=t.status(),n=t.symbolInfo()&&![k.STATUS_LOADING,k.STATUS_REPLAY].includes(i);!e.onWidget()&&e._options.chartWarningWidgetEnabled&&n&&(e._chartIndicatorTooltip||(this._chartIndicatorTooltip=new M({container:e.indicatorImage,wrapElem:e._jqMainDiv.get(0),getSymbolInfo:function(){return t.symbolInfo()},getStatus:function(){return t.status()}})),this._chartIndicatorTooltip.toggleIndicator())},r.prototype.updateIndicatorImage=function(){var e,t,i,n=this,r=this._model;r&&(t=(e=r.mainSeries()).status(),i=e.quotes()?e.quotes().update_mode_seconds:null,n._updateDataAndMarketStatus(e.marketStatus.value(),t,i))},r.prototype.checkCompactMode=function(){this._jqMainDiv.toggleClass("i-compact",this._width()<=400),this.indicatorImage&&(this._indicatorWidth=this.indicatorImage.clientWidth)},r.prototype.getDataTextStatus=function(e){var t;switch(e){case p.STATUS_LOADING:case p.STATUS_RESOLVING:t="loading";break;case p.STATUS_INVALID_SYMBOL:t="invalid";break;case p.STATUS_NO_BARS:t="forbidden";break;case p.STATUS_DELAYED:t="delayed";break;case p.STATUS_DELAYED_STREAMING:t="delayed_streaming";break;case p.STATUS_EOD:case p.STATUS_PULSE:t="endofday";break;case p.STATUS_OFFLINE:t="connecting";break;case p.STATUS_SNAPSHOT:t="snapshot";break;case p.STATUS_READY:t="realtime";break;case p.STATUS_REPLAY:t="replay";break;default:t=e}return t},r.prototype._updateDataAndMarketStatus=function(e,t){var i;void 0!==this.indicatorText&&(i=this.getDataTextStatus(t),t===p.STATUS_LOADING||t===p.STATUS_RESOLVING?this.indicatorDot.setStatus("loading"):t===p.STATUS_INVALID_SYMBOL?this.indicatorDot.reset():i===t&&Le.logWarn("unhandled data mode "+i),f.enabled("display_data_mode")&&this.dataModeIndicator.setMode(i),!["loading","invalid","replay"].includes(i)&&e?this.indicatorDot.setStatus(e,!0):"invalid"===i?this.indicatorDot.setStatus("invalid",!0):"replay"===i&&this.indicatorDot.setStatus("replay"),this.resizeIndicator())},r.prototype.resetIndicatorSize=function(){var e,t;null!==this._paneWidgets[0]&&null!==(e=this._paneWidgets[0].statusWidget())&&null!==(t=e.firstTitle())&&(t.style.paddingRight="")},r.prototype.resizeIndicator=function(){var e,t,i,n,r;null!==this._paneWidgets[0]&&null!==(e=this._paneWidgets[0].statusWidget())&&null!==(t=e.firstTitle())&&(i=this._width()<150?0:this._indicatorWidth+10,t.style.paddingRight=i+"px"),this._options.marketStatusWidgetEnabled&&f.enabled("display_data_mode")&&this.indicatorDot&&(this.dataModeIndicator&&this.dataModeIndicator.isShortModeEnabled()?this.indicatorText.attr("title",this.dataModeIndicator.getTooltipText()):this.indicatorText.attr("title",""),this.indicatorText.get(0).dispatchEvent(new b("common-tooltip-update"))),this.indicatorImage&&(this._indicatorWidth=this.indicatorImage.clientWidth),n=this._width(),this._options.marketStatusWidgetEnabled&&this.indicatorDot&&(r=n>550,
this._indicatorDotWrapperEl.classList.toggle("i-hidden",!r),this.indicatorDot.setTooltipEnabled(!1)),f.enabled("display_data_mode")&&this.dataModeIndicator&&(n>650?(this.dataModeIndicator.setTooltipEnabled(!1),this.dataModeIndicator.disableShortMode()):n>550?(this.dataModeIndicator.setTooltipEnabled(!0),this.dataModeIndicator.enableShortMode()):(this.dataModeIndicator.setTooltipEnabled(!1),this.dataModeIndicator.enableShortMode()))},r.prototype.updateIndicatorImagePosition=function(){this.indicatorImage&&(this.indicatorImage.style[this._indicatorImageMargin]=this.getPriceAxisMaxWidthByName(this._indicatorBindingPriceAxisName)+"px")},r.prototype._getMainSeriesPaneWidget=function(){for(var e=0;e<this._paneWidgets.length;e++)if(this._paneWidgets[e].containsMainSeries())return this._paneWidgets[e];return null},r.prototype._startSpinner=function(e){this._spinner||e&&(this._spinner=(new Se).spin(e))},r.prototype.isJustClonedChart=function(){return!!(this._options||{}).justCloned},r.prototype.setDataWindowWidget=function(e){this._dataWindowWidget=e},r.prototype.removeDataWindowWidget=function(){this._dataWindowWidget=null},f.enabled("datasource_copypaste")&&(r.prototype.onAppClipboardPaste=function(e,t){Le.logDebug("[[paste]]"),this._model&&this._model.pasteSourceFromClip(e,t)},r.prototype.onAppClipboardCopy=function(e){e||(e=this._model.selection().sources()),e.filter(function(e){return e instanceof j&&e.isChildStudy()}).length?Le.logDebug("Can not copy child study"):(Le.logDebug("[[copy]]"),this._model&&this._model.copySourcesToClip(e))},r.prototype.onAppClipboardCut=function(e){Le.logDebug("[[cut]]"),this._model&&this._model.cutSourcesToClip(e||this._model.selection().sources())}),r.prototype.applyOverrides=function(e){var t,i={};for(t in e)t.startsWith("mainSeriesProperties.priceAxisProperties")||(i[t]=e[t]);applyPropertiesOverrides(this.properties(),null,!1,i,null),this._model&&(applyPropertiesOverrides(this._model.model().properties(),null,!1,i),applyPropertiesOverrides(this._model.mainSeries().properties(),null,!1,i,"mainSeriesProperties"))},r.prototype.applyStudiesOverrides=function(e){be.setDefaultsOverrides(e),this._applyStudiesOverrides()},r.prototype.setActive=function(e){this._isActive=e,Be&&(e&&this.selectBarMode().value()?this.startTrackingMode():this.exitTrackingMode()),this._paneWidgets.forEach(function(e){e.update()}),e||this.model().selectionMacro(function(e){e.clearSelection()})},r.prototype.isActive=function(){return this._isActive},r.prototype.trackTime=function(){return this._chartWidgetCollection.lock.trackTime},r.prototype.crossHairSyncEnabled=function(){return this._chartWidgetCollection.lock.crosshair.value()},r.prototype.isMultipleLayout=function(){return Oe(this._chartWidgetCollection.layout.value())},r.prototype.id=function(){return this._guid},r.prototype.selectBarMode=function(){return this._model.model().selectBarMode()},r.prototype.toggleSelectBarMode=function(){this.selectBarMode().value()||(J.resetToCursor(!0),this._model.lineBeingCreated()&&this._model.cancelCreatingLine()),
this._model.model().toggleSelectBarMode(),this.selectBarMode().value()&&this.startTrackingMode()},r.prototype.startTrackingMode=function(){var e,t;Be&&(this.exitTrackingMode(),this.updateCrossHairPositionIfNeeded(),e=this._maximizedPaneWidget||this._paneWidgets[0],t=this._model.model().crossHairSource().currentPoint(),e.startTrackingMode(t,t,new ke))},r.prototype.onBarSelected=function(){return this._model.model().onBarSelected()},r.prototype.trySetChartStyle=function(e){var t,i=this.model();return!!i&&(i.mainSeries().properties().style.value()===e||(f.enabled("charting_library_base")?(this._setChartStyle(e),!0):!(t=i.model()).isInReplay()||t.isSeriesStyleSupported(e)?(this._setChartStyle(e),!0):(N({content:window.t("Bar replay mode is not available for this chart type. Do you want to exit the replay mode?")}).then(function(t){t.on("action:yes",function(){t.close(),this._setChartStyle(e)}.bind(this)),t.open()}.bind(this)),!1)))},r.prototype._setChartStyle=function(e){var t=this.model(),i=t.mainSeries().properties().style;t.setChartStyleProperty(i,e,"Change Series Style")},r.prototype.showReplayOrderConfirmationDialog=function(){return this.model().isInReplay()?new Promise(function(e,t){N({content:window.t("You are in the chart replay mode. An order will be placed in real-time. Do you still want to place the order?")}).then(function(i){i.on("action:yes",function(){e(),i.close()}),i.on("afterClose",function(){t()}),i.open()})}):Promise.resolve()},r.prototype._addPerfMark=function(e){Me("ChartWidget."+this._guid+"."+e)},r.prototype.requestFullscreen=function(){this._options.requestFullscreen()},r.prototype.getResizerDetacher=function(){return this._options},e.exports.ChartWidget=r,e.exports.trackingModeIsAvailable=Be,e.exports.supportMoveStatusWidgetsToSource=Xe}).call(this,i("hY0g"),i("aIyQ"))},"Zp/P":function(e,t,i){"use strict";function n(e,t,i,n,r,o){var s,a,l,c;return Object(h.equalPoints)(e,t)?null:(s=new h.Point(0,0),a=new h.Point(i,n),r?o?(l=Object(d.intersectLineAndBox)(Object(h.lineThroughPoints)(e,t),Object(h.box)(s,a)),Array.isArray(l)?l:null):null===(c=Object(d.intersectRayAndBox)(t,e,Object(h.box)(s,a)))||Object(h.equalPoints)(t,c)?null:Object(h.lineSegment)(t,c):o?null===(c=Object(d.intersectRayAndBox)(e,t,Object(h.box)(s,a)))||Object(h.equalPoints)(e,c)?null:Object(h.lineSegment)(e,c):(l=Object(d.intersectLineSegmentAndBox)(Object(h.lineSegment)(e,t),Object(h.box)(s,a)),Array.isArray(l)?l:null))}function r(e,t,i,n){var r,o,s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P=5,T=1,C=.35,x=.2,I=.5*i,E=T*T,L=Math.sqrt(1+E),A=t.subtract(e),O=A.normalized(),M=P*i;return n&&(M=Math.min(M,A.length()*C)),M*L*x<=(r=I*T)?[]:(o=O.scaled(M),s=t.subtract(o),l=T*M,c=(a=O.transposed()).scaled(l),u=s.add(c),h=s.subtract(c),d=u.subtract(t).normalized().scaled(r),p=h.subtract(t).normalized().scaled(r),f=t.add(d),_=t.add(p),m=I*(L-1),g=a.scaled(m),y=Math.min(M-I*T/L,I*L*T),v=O.scaled(y),b=t.subtract(g),S=t.add(g),[[u,f],[h,_],[b,(w=t.subtract(v)).subtract(g)],[S,w.add(g)]])}function o(e,t){return t=t||1,Math.floor(.3*e*t)}function s(e,t){
var i,n,r,o;return e>=2&&e<=4?Math.floor(3*t):(i=1-.2*Math.atan(Math.max(4,e)-4)/(.5*Math.PI),n=Math.floor(e*i*t),r=Math.floor(e*t),o=Math.min(n,r),Math.max(Math.floor(t),o))}function a(e){return.4*e}function l(e){return m+.5*e}function c(e){return null!==e&&void 0!==e&&!Object(f.isNaN)(e)}function u(e,t){void 0!==t&&Object(_.setLineStyle)(e,t)}var h,d,p,f,_,m;i.r(t),i.d(t,"extendAndClipLineSegment",function(){return n}),i.d(t,"getArrowPoints",function(){return r}),i.d(t,"optimalBarWidth",function(){return o}),i.d(t,"optimalCandlestickWidth",function(){return s}),i.d(t,"optimalHiLoWidth",function(){return a}),i.d(t,"selectionTolerance",function(){return l}),i.d(t,"coordinateIsValid",function(){return c}),i.d(t,"setValidLineStyle",function(){return u}),h=i("aO4+"),d=i("hBTJ"),p=i("qFKp"),f=i("ogJP"),_=i("jFln"),m=p.CheckMobile.any()?12:2},Zp8I:function(e,t,i){"use strict";var n,r,o,s,a,l,c;i.r(t),i.d(t,"PaneRendererStepLine",function(){return c}),n=i("GEp6"),r=i("VdBB"),o=i("aO4+"),s=i("jFln"),a=i("Y7w9"),l=i("Zp/P"),c=function(){function e(){this._data=null}return e.prototype.setData=function(e){this._data=e},e.prototype.hitTest=function(e){var t,i,s,c,u,h,d,p,f,_,m,g,y;if(null===this._data||0===this._data.items.length)return null;for(i=(t=this._data).items,s=t.lineWidth,c=Object(l.selectionTolerance)(s),u=Object(a.lowerbound)(i,e,function(e,t){return e.x<=t.x}),h=Math.max(0,u-1),d=Math.min(i.length-1,u+1),p=h;p<d;p++)if(f=i[p],(_=i[p+1])&&(m=Math.round((f.x+_.x)/2),g=new o.Point(m,f.y),y=new o.Point(m,_.y),Math.min(Object(n.distanceToSegment)(f,g,e).distance,Object(n.distanceToSegment)(g,y,e).distance,Object(n.distanceToSegment)(y,_,e).distance)<=c))return new r.HitTestResult(r.HitTestResult.REGULAR);return null},e.prototype.draw=function(e,t){var i,n,r,o,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V;if(null!==this._data&&0!==this._data.items.length){for(m=(_=this._data).lineWidth,g=_.lineStyle,y=_.lineColor,v=_.items,b=t.pixelRatio,w=(S=Math.max(Math.floor(null!==(n=null===(i=v[0].style)||void 0===i?void 0:i.width)&&void 0!==n?n:m*b)))%2?.5:0,e.save(),e.lineCap="butt",void 0!==g&&Object(s.setLineStyle)(e,g),e.beginPath(),e.moveTo(Math.round(v[0].x*b)+w,Math.round(v[0].y*b)+w),P=v.length,e.strokeStyle=null!==(o=null===(r=v[0].style)||void 0===r?void 0:r.color)&&void 0!==o?o:y,e.lineWidth=S,T=0;T<P;T++)C=v[T],x=v[T+1],I=Math.round(C.x*b)+w,E=Math.round(C.y*b)+w,e.lineTo(I,E),x&&(L=Math.round((C.x+x.x)/2*b)+w,A=Math.round(x.y*b)+w,e.lineTo(L,E),e.lineTo(L,A),O=null!==(l=null===(a=C.style)||void 0===a?void 0:a.color)&&void 0!==l?l:y,M=null!==(u=null===(c=C.style)||void 0===c?void 0:c.width)&&void 0!==u?u:m,k=null!==(d=null===(h=x.style)||void 0===h?void 0:h.color)&&void 0!==d?d:y,V=M!==(D=null!==(f=null===(p=x.style)||void 0===p?void 0:p.width)&&void 0!==f?f:m),((R=O!==k)||V)&&(e.stroke(),R&&(e.strokeStyle=k),V&&(w=(S=Math.max(1,Math.floor(D*b)))%2?.5:0,e.lineWidth=S),e.beginPath(),e.moveTo(L,A)));e.stroke(),e.restore()}},e}()},ZtA1:function(e,t,i){"use strict";function n(e){a.call(this,e)}
function r(e,t){var s,a;this._constructor="LineToolTrendBasedFibExtension",s=t||r.createProperties(),o.call(this,e,s),this.version=r.version,e._trendBasedFibExtensionLabelsCache||(e._trendBasedFibExtensionLabelsCache=new n(s.fibLevelsBasedOnLogScale)),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("6sSH").TrendBasedFibExtensionPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe),a=[this._properties.child("trendline").child("linewidth"),this._properties.child("levelsStyle").child("linewidth")],this._widthsProperty=new c(a)}var o=i("Ss5c").LineDataSource,s=i("5rJj"),a=i("xUGI"),l=i("hayr").propertyPages,c=i("ytGH").LineToolWidthsProperty,u=window.t("Trend-Based Fib Extension");inherit(n,a),n.prototype.levelsCount=function(){return r.LevelsCount},n.prototype.points=function(e){return[e.points()[0],e.points()[1]]},n.prototype.startPoint=function(e,t){var i,n=e.points()[2].price;return this._calculateLogLevels(e)?(i=e.ownerSource().firstValue(),{price:n,coordinate:e.priceScale().priceToCoordinate(n,i)}):{price:n}},n.prototype.priceRange=function(e,t){var i,n,r,o,s=this.points(e),a=s[0],l=s[1],c=t?a.price-l.price:l.price-a.price;return this._calculateLogLevels(e)?(i=e.priceScale(),n=e.ownerSource().firstValue(),r=i.priceToCoordinate(a.price,n),o=i.priceToCoordinate(l.price,n),{price:c,coordinate:t?r-o:o-r}):{price:c}},n.prototype.sourceIsReady=function(e){return e.points().length>=3},inherit(r,o),r.version=2,r.LevelsCount=24,r.prototype.levelsCount=function(){return r.LevelsCount},r.prototype.stop=function(){o.prototype.stop.call(this),this._model._trendBasedFibExtensionLabelsCache.removeSource(this.id())},r.prototype.pointsCount=function(){return 3},r.prototype.translatedType=function(){return u},r.prototype.name=function(){return"Trend-Based Fib Extension"},r.prototype.migrateVersion=function(e,t,i){1===e&&this.properties().extendLines.setValue(!0)},r.prototype.processErase=function(e,t){var i="level"+t,n=this.properties()[i].visible;e.setProperty(n,!1,"Erase level line")},r.prototype.getStylesPropertyPage=function(){return l.LineToolTrendBasedFibExtensionStylesPropertyPage},r.createProperties=function(e){var t=new s("linetooltrendbasedfibextension",e,!1,{range:[0,8]});return r._configureProperties(t),t},r.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("17v9").FibDrawingsWith24LevelsDefinitionsViewModel}.bind(null,i)).catch(i.oe)},r._configureProperties=function(e){o._configureProperties(e)},r.prototype.fibLevelsBasedOnLogScale=function(){return this.properties().fibLevelsBasedOnLogScale.value()&&this.priceScale().isLog()},t.LineToolTrendBasedFibExtension=r},"Zy3/":function(e,t,i){"use strict";i.r(t),i.d(t,"CompositeRenderer",function(){return n});var n=function(){function e(){this._renderers=[],this._globalAlpha=1}return e.prototype.setGlobalAlpha=function(e){this._globalAlpha=e},e.prototype.append=function(e){this._renderers.push(e)},
e.prototype.insert=function(e,t){this._renderers.splice(t,0,e)},e.prototype.clear=function(){this._renderers.length=0},e.prototype.draw=function(e,t){for(var i=0;i<this._renderers.length;i++)e.save(),e.globalAlpha=this._globalAlpha,this._renderers[i].draw(e,t),e.restore()},e.prototype.drawBackground=function(e,t){var i,n;for(e.save(),e.globalAlpha=this._globalAlpha,i=0;i<this._renderers.length;i++)(n=this._renderers[i]).drawBackground&&n.drawBackground(e,t);e.restore()},e.prototype.hitTest=function(e){var t,i,n=null;for(t=this._renderers.length-1;t>=0;t--)null!==(i=this._renderers[t].hitTest(e))&&(null===n||i.result()>n.result())&&(n=i);return n},e.prototype.doesIntersectWithBox=function(e){return this._renderers.some(function(t){return!!t.doesIntersectWithBox&&t.doesIntersectWithBox(e)})},e}()},a4Nd:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h,d;i.r(t),n=i("Eyy1"),r=i("PfBM"),o=i("hY0g"),s=i.n(o),a=i("uOxu"),l=Object(a.getLogger)("PersistentWebsocketTransport"),c=function(){function e(e){var t=this;this._url="",this._socket=null,this._reconnectCount=0,this._onlineCancellationToken=null,this._connectionStatus=new s.a(r.ConnectionStatus.Closed),this._socketCloseHandler=this._onCloseCallback.bind(this),this._socketErrorHandler=this._onErrorCallback.bind(this),this._socketOpenHandler=this._onOpenCallback.bind(this),this._socketMessageHandler=this._onMessageCallback.bind(this),this._shouldReconnect=!0,this._tryReconnect=function(){t.disconnect();var e=t._getReconnectTimeout();l.logNormal("Sleeping some time before reconnect "+e+"ms"),setTimeout(t._tryReconnectImpl.bind(t),e)},this._onOfflineHandler=function(){t._removeOnOfflineListener(),l.logInfo("Network status changed to offline - trying to reconnect"),t._tryReconnect()},this._messageHandler=e,window.addEventListener("unload",function(){l.logNormal("Unload event comes - disconnecting without reconnect after that..."),t._shouldReconnect=!1,t.disconnect()},!1)}return e.prototype.setUrl=function(e){if(this._url!==e){var t=this._connectionStatus.value()!==r.ConnectionStatus.Closed;t&&this.disconnect(),this._url=e,t&&this.connect()}},e.prototype.connect=function(){this._connectionStatus.value()===r.ConnectionStatus.Closed?(this._socket&&(l.logError("Something went wrong - code 0x2"),this.disconnect()),this._onlineCancellationToken&&(this._onlineCancellationToken(),this._onlineCancellationToken=null),l.logNormal("Connecting to "+this._url),this._socket=new WebSocket(this._url),this._socket.addEventListener("error",this._socketErrorHandler),this._socket.addEventListener("close",this._socketCloseHandler),this._socket.addEventListener("open",this._socketOpenHandler),this._socket.addEventListener("message",this._socketMessageHandler),this._setOnOfflineListener(),this._connectionStatus.setValue(r.ConnectionStatus.Connecting)):l.logNormal("Attempt to open connection but it is not closed")},e.prototype.connectionStatus=function(){return this._connectionStatus.readonly()},e.prototype.disconnect=function(){
if(this._connectionStatus.value()!==r.ConnectionStatus.Closed)if(this._socket){l.logNormal("Closing connection to: "+this._socket.url+", currentStatus: "+r.ConnectionStatus[this._connectionStatus.value()]),this._socket.removeEventListener("error",this._socketErrorHandler),this._socket.removeEventListener("close",this._socketCloseHandler),this._socket.removeEventListener("open",this._socketOpenHandler),this._socket.removeEventListener("message",this._socketMessageHandler),this._removeOnOfflineListener();var e=this._socket;this._socket=null,this._connectionStatus.setValue(r.ConnectionStatus.Closed),e.readyState!==WebSocket.CLOSED&&e.close()}else l.logError("Something went wrong - code 0x1");else l.logNormal("Attempt to close connection but it is closed already")},e.prototype.sendMessage=function(e){this._connectionStatus.value()===r.ConnectionStatus.Open?this._socket?this._socket.send(e):l.logError("Something went wrong - code 0x3"):l.logWarn("Attempt to send message but connection is not opened")},e.prototype._onErrorCallback=function(){l.logInfo("Connection is closed by error"),this._tryReconnect()},e.prototype._onCloseCallback=function(e){l.logInfo("Connection is closed - code="+e.code+" msg="+e.reason),this._tryReconnect()},e.prototype._tryReconnectImpl=function(){var e=this;if(this._shouldReconnect){if(this._reconnectCount+=1,l.logInfo("Reconnecting count: "+this._reconnectCount),navigator.onLine)return l.logInfo("Network status: online - trying to connect"),void this.connect();var t,i;l.logInfo("Network status: offline - wait until online"),this._onlineCancellationToken=(t=function(){l.logInfo("Network status changed to online - trying to connect"),e.connect()},i=function(){window.removeEventListener("online",i),t&&t()},window.addEventListener("online",i),function(){t=null})}else l.logNormal("Skip reconnecting because of shouldReconnect state")},e.prototype._onOpenCallback=function(){l.logNormal("Connection opened"),this._reconnectCount=0,this._connectionStatus.setValue(r.ConnectionStatus.Open)},e.prototype._onMessageCallback=function(e){this._messageHandler(e.data)},e.prototype._getReconnectTimeout=function(){return this._reconnectCount<5?300:5e3},e.prototype._setOnOfflineListener=function(){window.addEventListener("offline",this._onOfflineHandler)},e.prototype._removeOnOfflineListener=function(){window.removeEventListener("offline",this._onOfflineHandler)},e}(),i.d(t,"PushStream",function(){return d}),u="PushStream",h=Object(a.getLogger)(u),d=function(){function e(e,t){this._channels=[],this._transport=new c(this._onPushStreamMessage.bind(this)),this._settings=t,this._messageHandler=e}return e.prototype.addChannel=function(e){Object(n.assert)(!this.hasChannel(e),"Channel already subscribed"),h.logNormal("Adding channel "+e),this._channels.push(e),this._transport.setUrl(this._generateUrl())},e.prototype.removeChannel=function(e){var t=this._channels.indexOf(e);Object(n.assert)(-1!==t,"There is no that channel"),h.logNormal("Removing channel "+e),this._channels.splice(t,1),
this._transport.setUrl(this._generateUrl())},e.prototype.getChannels=function(){return this._channels},e.prototype.hasChannel=function(e){return-1!==this._channels.indexOf(e)},e.prototype.connectionStatus=function(){return this._transport.connectionStatus()},e.prototype.connect=function(){Object(n.assert)(0!==this._channels.length,"There is no channels"),this._transport.connect()},e.prototype.disconnect=function(){this._transport.disconnect()},e.prototype.sendMessage=function(e){this._transport.sendMessage(e)},e.prototype.getLogs=function(e){return Object(a.getRawLogHistory)(e,u)},e.prototype._onPushStreamMessage=function(e){var t=JSON.parse(e),i=t.id,n=t.channel;-2===i?h.logWarn("Received unexpected message: about removed the channel"):i>0&&(h.logDebug('Received message: id="'+i+'" channel="'+n+'"'),this._messageHandler(t.text,i,n))},e.prototype._generateUrl=function(){var e=this._channels.join("/");return this._settings.url+"/"+this._settings.urlPath+"/"+e},e}()},a7Ha:function(e,t,i){"use strict";var n;i.r(t),i.d(t,"LineEnd",function(){return n}),function(e){e[e.Normal=0]="Normal",e[e.Arrow=1]="Arrow",e[e.Circle=2]="Circle"}(n||(n={}))},a9Kt:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" d="M13 22.5H5.5a2 2 0 0 1-2-2v-14a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2V14"/><path stroke="currentColor" stroke-linecap="square" d="M18.5 15.5v8m-4-4h8"/><path fill="currentColor" d="M7 8h11v1H7zm0 4h11v1H7zm0 4h5v1H7z"/></g></svg>'},aB9a:function(e,t,i){"use strict";function n(e,t,i,n){var r=i+n/2;Object(_.drawRoundRect)(e,t.x-r,t.y-r,2*r,2*r,(i+n)/2),e.closePath(),e.lineWidth=n}function r(e,t,i,r){e.globalAlpha=.2,n(e,t,i,r),e.stroke(),e.globalAlpha=1}function o(e,t,i,r){n(e,t,i-r,r),e.fill(),e.stroke()}function s(e,t,i,n){e.globalAlpha=.2,e.beginPath(),e.arc(t.x,t.y,i+n/2,0,2*Math.PI,!0),e.closePath(),e.lineWidth=n,e.stroke(),e.globalAlpha=1}function a(e,t,i,n){e.beginPath(),e.arc(t.x,t.y,i-n/2,0,2*Math.PI,!0),e.closePath(),e.lineWidth=n,e.fill(),e.stroke()}function l(e,t){var i=t.x-e.x,n=t.y-e.y,r=Math.abs(Math.atan2(i,n));return r>Math.PI/4&&r<3*Math.PI/4?g.PaneCursorType.VerticalResize:g.PaneCursorType.HorizontalResize}var c,u,h,d,p,f,_,m,g,y,v,b,S;i.r(t),c=i("mrSG"),u=i("aO4+"),h=i("qFKp"),d=i("VdBB"),p=i("vq8G"),f=i("f6yo"),_=i("jFln"),m=i("ogJP"),g=i("//lt"),y=h.CheckMobile.any()?16:8,v=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.data=n,o.square=r,o}return Object(c.__extends)(t,e),t}(u.Point),b=function(){function e(e){this._data=e}return e.prototype.draw=function(e,t){var i,n;this._data.visible&&(i=this._data.points.filter(function(e){return Boolean(e.square)}),n=this._data.points.filter(function(e){return!Boolean(e.square)}),i.length&&(e.fillStyle=this._data.backgroundColor,e.strokeStyle=this._data.color,this._drawPoints(e,t.pixelRatio,i,o,r)),n.length&&(e.fillStyle=this._data.backgroundColor,e.strokeStyle=this._data.color,this._drawPoints(e,t.pixelRatio,n,a,s)))},e.prototype.hitTest=function(e){
var t,i,n,r=this._data.radius||y;for(t=0;t<this._data.points.length;++t)if((i=this._data.points[t]).subtract(e).length()<=r+2)return n=void 0!==this._data.pointsCursorType?this._data.pointsCursorType[t]:g.PaneCursorType.Default,new d.HitTestResult(this._data.hittestResult,{pointIndex:i.data,cursorType:n});return null},e.prototype.doesIntersectWithBox=function(e){return this._data.points.some(function(t){return Object(f.pointInBox)(t,e)})},e.prototype._drawPoints=function(e,t,i,n,r){var o,s,a,l,c,u,h,d,p=this._data.currentPoint,f=this._data.radius||y,_=Math.max(1,Math.floor((this._data.strokeWidth||2)*t));for(this._data.selected&&(_+=Math.max(1,Math.floor(t/2))),o=Math.max(1,Math.floor(t)),(s=Math.round(f*t*2))%2!=o%2&&(s+=1),a=o%2/2,l=0,c=i;l<c.length;l++)u=c[l],Object(m.isInteger)(u.data)&&this._data.linePointBeingEdited===u.data||(n(e,new v(Math.round(u.x*t)+a,Math.round(u.y*t)+a,u.data,u.square),s/2,_),u.subtract(p).length()<=f+2&&(h=Math.max(1,Math.floor(this._data.selectedStrokeWidth*t)),(d=Math.round(f*t*2))%2!=o%2&&(d+=1),r(e,new v(Math.round(u.x*t)+a,Math.round(u.y*t)+a,u.data,u.square),d/2,h)))},e}(),i.d(t,"thirdPointCursorType",function(){return l}),i.d(t,"LineSourcePaneView",function(){return S}),S=function(){function e(e,t){this._invalidated=!0,this._middlePoint=null,this._points=[],this._floatPoints=[],this._source=e,this._model=t}return e.prototype.priceToCoordinate=function(e){var t,i,n=this._source.priceScale();return null===n?null:null===(i=null!==(t=this._source.ownerSource())?t.firstValue():null)?null:n.priceToCoordinate(e,i)},e.prototype.currentPoint=function(){var e=this._model.crossHairSource();return new u.Point(e.originX(),e.originY())},e.prototype.anchorColor=function(){return"#1E88E5"},e.prototype.isHoveredSource=function(){return this._source===this._model.hoveredSource()},e.prototype.isSelectedSource=function(){return this._model.selection().isSelected(this._source)},e.prototype.isBeingEdited=function(){return this._model.lineBeingEdited()===this._source},e.prototype.isEditMode=function(){return!this._model.isSnapshot()},e.prototype.areAnchorsVisible=function(){return(this.isHoveredSource()&&!this.isLocked()||this.isSelectedSource())&&this.isEditMode()},e.prototype.update=function(){this._invalidated=!0},e.prototype.isLocked=function(){return Boolean(this._source.isLocked&&this._source.isLocked())},e.prototype.addAnchors=function(e){var t=this._points;this._model.lineBeingCreated()===this._source&&(t=t.slice(0,-1)),e.append(this.createLineAnchor({points:t}))},e.prototype.createLineAnchor=function(e){if(this.isLocked())return new p.SelectionRenderer({bgColor:this._model.backgroundColor().value(),points:e.points,visible:this.areAnchorsVisible(),hittestResult:d.HitTestResult.REGULAR,barSpacing:this._model.timeScale().barSpacing()});var t=h.CheckMobile.any();return new b(Object(c.__assign)(Object(c.__assign)({},e),{color:this.anchorColor(),backgroundColor:this._model.backgroundColor().value(),currentPoint:this.currentPoint(),
linePointBeingEdited:this.isBeingEdited()?this._model.linePointBeingEdited():null,hittestResult:d.HitTestResult.CHANGEPOINT,radius:t?13:6,strokeWidth:t?2:1,selected:this.isSelectedSource(),selectedStrokeWidth:t?0:3,visible:this.areAnchorsVisible()}))},e.prototype._updateImpl=function(){var e,t,i,n,r,o,s,a;if(this._points=[],this._floatPoints=[],e=this._source.priceScale(),t=this._model.timeScale(),e&&!e.isEmpty()&&!t.isEmpty()){for(i=this._source.points(),n=0;n<i.length;n++){if(r=i[n],!(o=this._source.pointToScreenPoint(r)))return;(s=o[0]).data=n,(a=o[1]).data=n,this._floatPoints.push(s),this._points.push(a)}2===this._points.length&&(this._middlePoint=this._source.calcMiddlePoint(this._points[0],this._points[1])),this._invalidated=!1}},e.prototype._getSource=function(){return this._source},e.prototype._getPoints=function(){return this._points},e.prototype._getModel=function(){return this._model},e.prototype._height=function(){var e=this._source.priceScale();return null!==e?e.height():0},e.prototype._width=function(){return this._model.timeScale().width()},e}()},aBGL:function(e,t,i){"use strict";var n,r,o,s,a,l;i.r(t),i.d(t,"AvailableOnTVPopup",function(){return l}),i("YFKU"),i("HbRj"),n=i("brCa"),r=i("Wh9f"),o="AAPL",s=$.t("The symbol available only on {0}TradingView{1}."),a="https://www.tradingview.com{0}?utm_source=www.tradingview.com&utm_medium=widget&utm_campaign=chart&utm_term={2}:{1}",l=function(){function e(e){this._lastResolvedSymbol=null,this._chart=e,this._chart.withModel(this,this._connectToModel)}return e.prototype.show=function(){var e=this,t=this._getSymbol(),i=this._chart.defaultSymbol(),l=t.split(":"),c=l[0],u=l[1],h=a.format(Object(r.getSymbolPagePath)({proName:this._getProSymbol()}),u,c);Object(n.createNoticeDialog)({content:s.format('<a target="_blank" href="'+h+'">',"</a>")}).then(function(n){n.on("destroy",function(){var n;n=e._lastResolvedSymbol?e._lastResolvedSymbol:i!==t?i:o,e._chart.setSymbol(n)}),n.open()})},e.prototype._getProSymbol=function(){return this._chart.model().mainSeries().proSymbol()},e.prototype._getSymbol=function(){return this._chart.model().mainSeries().actualSymbol()},e.prototype._connectToModel=function(){var e=this._chart.model(),t=e.mainSeries();t.dataEvents().symbolResolved().subscribe(this,this._onSymbolResolved),t.dataEvents().symbolGroupNotPermitted().subscribe(this,this._onSymbolGroupNotPermitted),t.dataEvents().symbolNotPermitted().subscribe(this,this.show)},e.prototype._onSymbolResolved=function(){this._lastResolvedSymbol=this._getSymbol()},e.prototype._onSymbolGroupNotPermitted=function(){this.show()},e}()},aDyP:function(e,t,i){"use strict";function n(e,t){var i,o,s;for(this._constructor="LineToolPitchfork",i=t||n.createProperties(),r.call(this,e,i),this._properties.style.listeners().subscribe(this,n.prototype._recreatePaneView),this._recreatePaneView(),o=[this._properties.child("median").child("linewidth")],s=0;s<=n.LevelsCount;s++)o.push(this._properties.child("level"+s).child("linewidth"));this._widthsProperty=new u(o)}
var r=i("Ss5c").LineDataSource,o=i("5rJj"),s=i("7KDR").Action,a=i("hayr").propertyPages,l=i("rCHB").LineToolPitchforkStyle,c=null,u=i("ytGH").LineToolWidthsProperty,h=window.t("Pitchfork");inherit(n,r),n.LevelsCount=8,n.prototype.levelsCount=function(){return n.LevelsCount},n.prototype.additionalActions=function(){var e,t,i=[],n=["Original","Modified Schiff","Inside","Schiff"];for(e=0;e<4;e++)t=new s({checked:this.properties().style.value()===e,checkable:!0,label:window.t(n[e]),payload:{target:this,value:e},onExecute:function(e){var t=e.getPayload(),i=t.target,n=t.value;i.properties().style.setValue(n),i.updateAllViews(),i._model.updateSource(i)}}),i.push(t);return[i[0],i[3],i[1],i[2]]},n.prototype._recreatePaneView=function(){if(null!==c){var e=[];this._properties.style.value()===l.Original?e=[new c.PitchforkLinePaneView(this,this._model)]:this._properties.style.value()===l.Schiff?e=[new c.SchiffPitchforkLinePaneView(this,this._model)]:this._properties.style.value()===l.Schiff2?e=[new c.SchiffPitchfork2LinePaneView(this,this._model)]:this._properties.style.value()===l.Inside&&(e=[new c.InsidePitchforkLinePaneView(this,this._model)]),this._setPaneViews(e)}else Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){null===c&&(c=i("cT+B")),this._recreatePaneView()}.bind(this).bind(null,i)).catch(i.oe)},n.prototype.pointsCount=function(){return 3},n.prototype.translatedType=function(){return h},n.prototype.name=function(){return"Pitchfork"},n.prototype.processErase=function(e,t){var i="level"+t,n=this.properties()[i].visible;e.setProperty(n,!1,"Erase level line")},n.prototype.getStylesPropertyPage=function(){return a.LineToolPitchforkStylesPropertyPage},n.createProperties=function(e){var t=new o("linetoolpitchfork",e,!1,{range:[0,8]});return n._configureProperties(t),t},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("HCdA").PitchForkDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolPitchfork=n},aILO:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolHeadAndShoulders";var o=t||n.createProperties();r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("Fx2Q").LineToolHeadAndShouldersPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=window.t("Head and Shoulders");inherit(n,r),n.prototype.pointsCount=function(){return 7},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Head and Shoulders"},n.prototype.getStylesPropertyPage=function(){return s.LineToolLineTool5PointsPatternStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("EFc4").Points5PatternDefinitionsViewModel
}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new o("linetoolheadandshoulders",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolHeadAndShoulders=n},aIha:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolFlagMark";var s=t||n.createProperties();o.call(this,e,s),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(t){var n=i("5Dp4").MarkPaneView,o=new n(this,e,this.image,25,25,-8,-21);o.setAnchors(new r(0,0)),this._setPaneViews([o])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("aO4+").Point,o=i("Ss5c").LineDataSource,s=i("Ocx9").DefaultProperty,a=window.t("Flag Mark");inherit(n,o),n.prototype.image=new Image,n.prototype.image.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAsElEQVR4AWMYWcDExOS/YUd4hWF7+H90bNAePpO2liDwJTxyi2htyVXLvlBOWlry2bAtVIumwWXQERFF4zgJ20iPiP8JDCpLeqSuJ6ZdoRJ0SMIRx7QbQtmItgSXnGFbRCzMEnIzK8ISWgL6WzJqibGxsYaFhYUC7SxBWMQPNMjazMxMjebBZWhoKAq00NHc3FyL5nFiaWkpDTTYz8jISI/mEW9qaqoExGFgS+gFRgEAaE0hWxrw50oAAAAASUVORK5CYII=",n.prototype.pointsCount=function(){return 1},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Flag Mark"},n.prototype.version=2,n.createProperties=function(e){var t=new s("linetoolflagmark",e);return n._configureProperties(t),t},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("Cn8r").LineDataSourceDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n._configureProperties=function(e){o._configureProperties(e)},t.LineToolFlagMark=n},aIyQ:function(e,t,i){"use strict";(function(e){function t(){this._listeners=[]}function n(e){return!e.singleshot}i("uOxu").getLogger("Common.Delegate");t.prototype.subscribe=function(e,t,i){var n={object:e,member:t,singleshot:!!i};this._listeners.push(n)},t.prototype.unsubscribe=function(e,t){var i,n;for(i=0;i<this._listeners.length;++i)if((n=this._listeners[i]).object===e&&n.member.prototype===t.prototype){this._listeners.splice(i,1);break}},t.prototype.unsubscribeAll=function(e){var t;for(t=this._listeners.length-1;t>=0;--t)this._listeners[t].object===e&&this._listeners.splice(t,1)},t.prototype.destroy=function(){delete this._listeners},t.prototype.fire=function(){var e,t,i,r=this._listeners;for(this._listeners=this._listeners.filter(n),e=r.length,t=0;t<e;++t)(i=r[t]).member.apply(i.object||null,arguments)},"undefined"!=typeof window&&(window.Delegate=t),e&&e.exports&&(e.exports=t)}).call(this,i("YuTi")(e))},aKms:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"MarketStatusModel",function(){return o}),n=i("hY0g"),r=i.n(n),o=function(){function e(e,t){this._marketStatus=new r.a(null),this._quotesProvider=e,this._quotesProvider.quotesUpdate().subscribe(this,this._update.bind(this)),this._resetSubscription=t,this._resetSubscription.subscribe(this,this._resetStatus)}return e.prototype.destroy=function(){this._quotesProvider.quotesUpdate().unsubscribeAll(this),
this._resetSubscription.unsubscribeAll(this)},e.prototype.status=function(){return this._marketStatus},e.prototype._resetStatus=function(){this._marketStatus.setValue(null)},e.prototype._update=function(e){void 0===e.values?this._resetStatus():this._marketStatus.setValue(e.values.current_session)},e}()},aLUT:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 9" width="11px" height="9px"><path fill="none" fill-rule="evenodd" stroke-width="2" d="M1 3.22l3.415 3.496L10 1"/></svg>'},"aO4+":function(e,t,i){"use strict";function n(e,t){return new a(e,t)}function r(e,t){return e.x===t.x&&e.y===t.y}function o(e,t,i){if(0===e&&0===t)throw new Error("A and B can not be both equal to zero.");return{A:e,B:t,C:i}}function s(e,t){return{edge:e,isPositive:t}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){this.x=e,this.y=t}return e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.addScaled=function(t,i){return new e(this.x+i*t.x,this.y+i*t.y)},e.prototype.subtract=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.dotProduct=function(e){return this.x*e.x+this.y*e.y},e.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.scaled=function(t){return new e(this.x*t,this.y*t)},e.prototype.normalized=function(){return this.scaled(1/this.length())},e.prototype.transposed=function(){return new e(-this.y,this.x)},e.prototype.clone=function(){return new e(this.x,this.y)},e}();t.Point=a,t.point=n,t.equalPoints=r,t.line=o,t.lineThroughPoints=function(e,t){if(r(e,t))throw new Error("Points should be distinct");return o(e.y-t.y,t.x-e.x,e.x*t.y-t.x*e.y)},t.lineSegment=function(e,t){if(r(e,t))throw new Error("Points of a segment should be distinct");return[e,t]},t.halfplane=s,t.halfplaneThroughPoint=function(e,t){return s(e,e.A*t.x+e.B*t.y+e.C>0)},t.box=function(e,t){return{min:n(Math.min(e.x,t.x),Math.min(e.y,t.y)),max:n(Math.max(e.x,t.x),Math.max(e.y,t.y))}},t.equalBoxes=function(e,t){return r(e.min,t.min)&&r(e.max,t.max)}},akof:function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"PaneRendererCircleShape",function(){return s}),n=i("mrSG"),r=i("2WC2"),o=2*Math.PI,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype._drawItemShapeUsingCSSPixels=function(e,t){var i=Math.max(t.width,t.height)/2,n=t.x,r=t.vertOffset,s=t.y+r;e.moveTo(n+i,s),e.arc(n,s,i,0,o,!1)},t}(r.a)},b1GK:function(e,t,i){"use strict";function n(){}function r(e){o(e),s(e)}var o,s;i.r(t),i.d(t,"addPerfMark",function(){return r}),o=console.timeStamp?console.timeStamp.bind(console):n,s=window.performance&&performance.mark?performance.mark.bind(performance):n},"b6p+":function(e,t,i){},bJYc:function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"SetPropertyUndoCommand",function(){return s}),n=i("mrSG"),r=i("RDU5"),o=i("Ocx9"),s=function(e){function t(t,i,n,r,o){var s=e.call(this,n)||this;return s._targetObj=t,s._newValue=i,s._oldValue=s._targetObj.value(),s._model=r,
o&&s.setCustomFlag("doesnt_affect_save",!0),s}return Object(n.__extends)(t,e),t.prototype.redo=function(){Object(o.saveDefaultProperties)(!0),this._targetObj.setValue(this._newValue),Object(o.saveDefaultProperties)(!1),this._model.recalculateAllPanes(),this._model.lightUpdate()},t.prototype.undo=function(){Object(o.saveDefaultProperties)(!0),this._targetObj.setValue(this._oldValue),Object(o.saveDefaultProperties)(!1),this._model.recalculateAllPanes(),this._model.lightUpdate()},t}(r.UndoCommand)},bKFv:function(e,t,i){"use strict";var n;i.r(t),i.d(t,"StatsPosition",function(){return n}),function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(n||(n={}))},bKsZ:function(e,t,i){"use strict";var n;i.r(t),i.d(t,"ProductFeatures",function(){return n}),function(e){e.DISABLE_ON_TRIAL="disable_on_trial",e.CUSTOM_INTERVALS="CUSTOM_INTERVALS",e.CHART_STORAGE="CHART_STORAGE",e.MULTIPLE_CHARTS="MULTIPLE_CHARTS",e.MULTIPLE_WATCHLISTS="MULTIPLE_WATCHLISTS",e.IMPORT_WATCHLISTS="IMPORT_WATCHLISTS",e.EXPORT_WATCHLISTS="EXPORT_WATCHLISTS",e.INDICATORS_ON_CHART="INDICATORS_ON_CHART",e.STUDY_ON_STUDY="STUDY_ON_STUDY",e.TICK_BY_TICK_PUSH_DATA="TICK_BY_TICK_PUSH_DATA",e.SERVER_SIDE_ALERTS="SERVER_SIDE_ALERTS",e.ALERTS_TRUE_SMS="ALERTS_TRUE_SMS",e.PUBLISH_INVITE_ONLY_SCRIPTS="PUBLISH_INVITE_ONLY_SCRIPTS",e.SCREENER_ALERTS="SCREENER_ALERTS",e.SCREENER_AUTO_REFRESH="SCREENER_AUTO_REFRESH",e.SCREENER_EXPORT_DATA="SCREENER_EXPORT_DATA",e.SCREENER_INTERVALS="SCREENER_INTERVALS",e.SCREENER_REALTIME_IDC="SCREENER_REALTIME_IDC",e.SIMULTANEOUS_CONNECTIONS="SIMULTANEOUS_CONNECTIONS",e.STUDY_TEMPLATES="STUDY_TEMPLATES",e.CAN_EDIT_PUBLIC_CHATS="CAN_EDIT_PUBLIC_CHATS",e.NO_SPONSORED_ADS="NO_SPONSORED_ADS",e.IDC_AVAILABLE_DELAY="IDC_AVAILABLE_DELAY",e.STATUS="STATUS",e.ALERTS_NO_EXPIRATION="ALERTS_NO_EXPIRATION",e.MULTIFLAGGED_SYMBOLS_LISTS="MULTIFLAGGED_SYMBOLS_LISTS",e.BAR_REPLAY_INTRADAY="BAR_REPLAY_INTRADAY",e.TV_VOLUMEBYPRICE="TV_VOLUMEBYPRICE",e.SHOWS="SHOWS",e.ALERTS_WEBHOOK="ALERTS_WEBHOOK",e.DEEP_FUNDAMENTALS_HISTORY="DEEP_FUNDAMENTALS_HISTORY",e.EXPORT_CHART_DATA="EXPORT_CHART_DATA",e.ALERTS_ON_SECONDS="ALERTS_ON_SECONDS"}(n||(n={}))},bMzf:function(e,t,i){"use strict";function n(e,t){var i,n,r,o,s;for(void 0===t&&(t=window),i="theme-"+e,n=t.document.documentElement.classList,r=0,o=Array.from(n);r<o.length;r++)(s=o[r]).startsWith("theme-")&&s!==i&&n.remove(s);n.add(i)}i.r(t),i.d(t,"applyTheme",function(){return n})},bOGh:function(e,t,i){"use strict";var n,r,o;i.d(t,"a",function(){return o}),n=i("mrSG"),r=i("RDU5"),o=function(e){function t(t){var i=e.call(this,t,!1)||this;return i._subcommands=[],i}return Object(n.__extends)(t,e),t.prototype.addCommand=function(e){this._subcommands.push(e)},t.prototype.isEmpty=function(){return 0===this._subcommands.length},t.prototype.redo=function(){for(var e=0;e<this._subcommands.length;e++)this._subcommands[e].redo()},t.prototype.undo=function(){for(var e=this._subcommands.length-1;e>=0;e--)this._subcommands[e].undo()},t.prototype.commands=function(){return this._subcommands},t
}(r.UndoCommand)},bSeV:function(e,t){},bTqm:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolCypherPattern";var o=t||n.createProperties();r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("mjK7").CypherPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("NJRZ").LineTool5PointsPattern,a=window.t("Cypher Pattern");inherit(n,s),n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Cypher Pattern"},n.createProperties=function(e){var t=new o("linetoolcypherpattern",e);return n._configureProperties(t),t},n._configureProperties=function(e){s._configureProperties(e)},t.LineToolCypherPattern=n},bc0y:function(e,t,i){},beCu:function(e,t,i){"use strict";function n(e){return new a(e)}var r,o,s,a;i.r(t),i.d(t,"doAnimate",function(){return n}),r=i("mrSG"),o=i("j1f4"),s={from:0,duration:250,easing:o.easingFunc.easeOutCubic},a=function(){function e(e){var t,i=this;this._doing=!0,this._options=Object(r.__assign)(Object(r.__assign)({},s),e),t=performance.now(),window.requestAnimationFrame(function(e){i._animation(t,i._options.from,e)})}return e.prototype.stop=function(){this._doing=!1},e.prototype._animation=function(e,t,i){var n,r,o,s,a,l,c,u,h=this;this._doing?(r=(n=(i=!i||i<1e12?performance.now():i)-e)>=this._options.duration||t===this._options.to,l=this._options.from,c=this._options.to,u=this._options.easing(n/this._options.duration),o=l*(1-u)+c*u,a=(s=r?this._options.to:o)-t,this._options.onStep(a,s),r?this._finishAnimation():window.requestAnimationFrame(function(t){h._animation(e,s,t)})):this._finishAnimation()},e.prototype._finishAnimation=function(){this._options.onComplete&&this._options.onComplete()},e}()},biIa:function(e,t,i){"use strict";var n,r,o,s,a,l;i.r(t),i.d(t,"SeriesWaterlinePaneView",function(){return l}),n=i("mrSG"),r=i("k4w6"),o=i("//lt"),s=i("VdBB"),a=i("8Uy/"),l=function(e){function t(t){var i=e.call(this,t)||this,n={cursorType:o.PaneCursorType.VerticalResize,pressedMouseMoveHandler:function(e){var i=t.priceScale(),n=t.properties().baselineStyle,r=i.height(),o=100-e.y/r*100,s=o<0?0:Math.round(10*o)/10;n.baseLevelPercentage.setValue(Math.max(Math.min(s,100),0))}};return i._lineRenderer.setHitTest(new s.HitTestResult(s.HitTestResult.CUSTOM_MOVE,n)),i._lineRendererData.visible=!0,i._lineRendererData.linestyle=a.LINESTYLE_SPARSE_DOTTED,i}return Object(n.__extends)(t,e),t.prototype._updateImpl=function(){var e=this._series.properties().baselineStyle,t=Math.abs(100-e.baseLevelPercentage.value());this._lineRendererData.width=this._model.timeScale().width(),this._lineRendererData.height=this._series.priceScale().height(),this._lineRendererData.y=Math.round(this._lineRendererData.height*(t/100)),this._lineRendererData.color=e.baselineColor.value()},t}(r.a)},brCa:function(e,t,i){"use strict";function n(e){return new Promise(function(t){
Promise.all([i.e("vendors_embed"),i.e("dialogs-core"),i.e(0),i.e(1),i.e(3),i.e(5),i.e(7),i.e(8),i.e(6),i.e(160),i.e("create-dialog")]).then(function(n){var r=i("YDhE").createDialog;t(r(Object(o.__assign)(Object(o.__assign)({},s),e)))}.bind(null,i)).catch(void 0)})}function r(e){n(e).then(function(e){return e.open()})}var o,s;i.r(t),i.d(t,"createNoticeDialog",function(){return n}),i.d(t,"showNoticeDialog",function(){return r}),o=i("mrSG"),i("YFKU"),s={width:400,destroyOnClose:!0,title:window.t("Notification"),content:window.t("You are notified"),contentWrapTemplate:'<div class="tv-dialog__section tv-dialog__section--no-border"><div class="tv-text"><p></p></div></div>',actionsWrapTemplate:'<div class="tv-dialog__section tv-dialog__section--actions tv-dialog__section--no-border">',actions:[{name:"ok",type:"primary",text:window.t("Ok"),method:"close",key:[13,32]}]}},"bv/X":function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolSineLine";var o=t||n.createProperties();r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("piZW").SineLinePaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=window.t("Sine Line");inherit(n,r),n.prototype.pointsCount=function(){return 2},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Sine Line"},n.prototype.getStylesPropertyPage=function(){return s.LineToolTimeCyclesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("LX4V").CyclicAndSineLinesPatternDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new o("linetoolsineline",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolSineLine=n},c2JX:function(e,t,i){"use strict";function n(e){return void 0===e&&(e=""),'\n\t\t<div class="tv-spinner" role="progressbar">\n\t\t\t<div class="tv-spinner__spinner-layer">\n\t\t\t\t<div class="tv-spinner__background tv-spinner__width_element"></div>\n\t\t\t\t<div class="tv-spinner__circle-clipper tv-spinner__width_element tv-spinner__circle-clipper--left"></div>\x3c!--\n\t\t\t\t--\x3e<div class="tv-spinner__circle-clipper tv-spinner__width_element tv-spinner__circle-clipper--right"></div>\n\t\t\t</div>\n\t\t</div>\n\t'}var r,o,s,a,l;i.r(t),i.d(t,"renderSpinnerTemplate",function(){return n}),i.d(t,"Spinner",function(){return l}),r=i("SzKR"),o=i("TzTt"),s=i("Owlf"),a=Object(o.parseHtmlElement)(n()),l=function(){function e(e){this._shown=!1,this._el=a.cloneNode(!0),this.setSize(e||s.a)}return e.prototype.spin=function(e){return this._el.classList.add("tv-spinner--shown"),void 0===this._container&&(this._container=e,e.appendChild(this._el)),this._shown=!0,this},e.prototype.stop=function(e){return e&&void 0!==this._container&&this._container.removeChild(this._el),
this._el.classList.remove("tv-spinner--shown"),this._shown=!1,this},e.prototype.setStyle=function(e){var t=this;return Object.keys(e).forEach(function(i){var n=e[i];void 0!==n&&t._el.style.setProperty(i,n)}),this},e.prototype.setSize=function(e){var t=void 0!==e?"tv-spinner--size_"+e:"";return this._el.className="tv-spinner "+t+" "+(this._shown?"tv-spinner--shown":""),this},e.prototype.getEl=function(){return this._el},e.prototype.destroy=function(){this.stop(),delete this._el,delete this._container},e}()},c5ry:function(e,t,i){"use strict";function n(e){switch(e){case"FQ":return window.t("Quarterly");case"FY":return window.t("Annual");case"TTM":return window.t("TTM")}Object(r.ensureNever)(e)}var r;i.d(t,"a",function(){return n}),r=i("Eyy1"),i("YFKU")},cBZt:function(e,t,i){"use strict";function n(e,t){return e+"@"+t}function r(e){return e.replace(/(@[^-]+-[^-]+).*$/,"$1")}i.r(t),i.d(t,"studyIdString",function(){return n}),i.d(t,"extractStudyId",function(){return r})},cKqi:function(e,t,i){"use strict";function n(e,t){this._source=e,this._model=t,this._points=[new s(0,0)],this._lineRenderer=new T}function r(e,t){return null==e[t]}function o(e,t,i,n){this._waterlineView=null,l.call(this,e,t,i,n),this.m_data=new O(A(),r),this._formatter=null,this._paneView=null;var o=this;this.properties().minTick.listeners().subscribe(null,function(){o._recreatePriceFormattingDependencies(),o.updateAllViews(),o._model.fullUpdate()}),this.properties().style.listeners().subscribe(this,this._updateBarFunction),this.properties().lineStyle.priceSource.listeners().subscribe(this,this._updateBarFunction),this.properties().areaStyle.priceSource.listeners().subscribe(this,this._updateBarFunction),this.properties().baselineStyle.priceSource.listeners().subscribe(this,this._updateBarFunction),this._updateBarFunction(),this._quotesProvider=new R,V&&this._quotesProvider.quotesUpdate().subscribe(this,this._onQuotesUpdate)}var s=i("aO4+").Point,a=i("qJq3").Series,l=i("GVHu").Study,c=i("k9/m").PlotRowSearchMode,u=i("FBsw").OverlayPriceAxisView,h=i("KtbP").PanePriceAxisView,d=i("x0JF"),p=d.SeriesAreaPaneView,f=d.SeriesLinePaneView,_=d.SeriesHollowCandlesPaneView,m=d.SeriesCandlesPaneView,g=d.SeriesBarsPaneView,y=d.SeriesBaselinePaneView,v=i("biIa").SeriesWaterlinePaneView,b=i("i3nr").OverlayStatusView,S=i("JjUe").OverlayDataWindowView,w=i("z8/4").OverlayLegendView,P=i("38az").SeriesBarColorer,T=i("l4sv").HorizontalLineRenderer,C=i("hayr").propertyPages,x=i("Kxc7"),I=i("6sst").OverlayStudyPriceLineAxisView,E=i("Qb4w").PriceRange,L=i("XPit").barFunction,A=i("XPit").seriesPlotFunctionMap,O=i("k9/m").PlotList,M=i("n5al").createSeriesFormatter,k=i("n5al").seriesCurrency,D=i("n5al").extractSymbolNameFromSymbolInfo,R=i("wOSo").QuotesProvider,V=i("qFKp").CheckMobile.any()&&!0,B=!x.enabled("hide_study_overlay_legend_item"),N=x.enabled("uppercase_instrument_names"),F=i("uOxu").getLogger("Chart.StudyOverlay"),j=x.enabled("study_overlay_compare_legend_option");n.prototype.update=function(){if(this._visible=!1,this._source.properties().showPriceLine.value()){
var e=this._source.lastValueData(void 0,!0);e.noData||(this._visible=!0,this._points=[new s(0,e.coordinate)],this._color=e.color)}},n.prototype.renderer=function(){var e={};return e.width=this._model.timeScale().width(),e.height=this._source.priceScale().height(),e.y=this._points[0].y,e.color=this._color,e.linewidth=1,e.linestyle=CanvasEx.LINESTYLE_DOTTED,e.visible=this._visible,this._lineRenderer.setData(e),this._lineRenderer},inherit(o,l),o.prototype._showLastValueOnPriceScale=function(){return this._model.properties().scalesProperties.showSeriesLastValue.value()},o.prototype.symbol=function(){var e,t=this.properties().inputs.symbol.value(),i=this._resolvedSymbols?this._resolvedSymbols[t]:null;return e=i?i.name:t,N?e.toUpperCase():e},o.prototype.currency=function(){return k(this.symbolInfo())},o.prototype.lastValueData=function(e,t,i){var n,r,o,s,l,u,h,d,p,f,_,m,g,y={noData:!0};if(this._model.timeScale().isEmpty()||null==this.priceScale()||this.priceScale().isEmpty()||this.data().isEmpty())return y;if(null===(n=this._model.timeScale().visibleBarsStrictRange()))return y;if(!this.properties().visible.value())return y;if(null==(r=this.nearestIndex(n.lastBar(),c.NearestLeft,TradingView.OPEN_PLOT)))return y;if(s=null!==(o=this._lastNonEmptyPlotRow(TradingView.CLOSE_PLOT))&&n.contains(o.index),l=null!==o?o.value:null,null===(u=t||s?l:this.data().valueAt(r)))return y;if(h=this._barFunction(u),!isNumber(h))return y;if(d={noData:!1},i&&(d.price=h),p=this.firstValue(),!isNumber(p))return y;switch(d.text=this.priceScale().formatPrice(h,p),d.text=this.priceScale().formatPrice(h,p),d.formattedPriceAbsolute=this.priceScale().formatPriceAbsolute(h),d.formattedPricePercentage=this.priceScale().formatPricePercentage(h,p),d.floatCoordinate=this.priceScale().priceToCoordinate(h,p),d.coordinate=d.floatCoordinate,d.item=u,(f=this.properties()).style.value()){case a.STYLE_BARS:d.color=u[TradingView.OPEN_PLOT]<=u[TradingView.CLOSE_PLOT]?f.barStyle.upColor.value():f.barStyle.downColor.value();break;case a.STYLE_CANDLES:case a.STYLE_HOLLOW_CANDLES:d.color=u[TradingView.OPEN_PLOT]<=u[TradingView.CLOSE_PLOT]?f.candleStyle.upColor.value():f.candleStyle.downColor.value();break;case a.STYLE_LINE:d.color=f.lineStyle.color.value();break;case a.STYLE_AREA:d.color=f.areaStyle.color1.value();break;case a.STYLE_BASELINE:_=f.baselineStyle,m=this.priceScale(),g=Math.round(m.height()*(Math.abs(100-_.baseLevelPercentage.value())/100)),d.color=d.coordinate<g?f.baselineStyle.topLineColor.value():f.baselineStyle.bottomLineColor.value()}return d},o.prototype.firstValue=function(){var e,t,i=this._model.timeScale().visibleBarsStrictRange();return null===i?null:(e=i.firstBar(),0===this.data().size()?null:null!==(t=this.data().search(e,c.NearestRight,TradingView.OPEN_PLOT))?this._barFunction(t.value):null)},o.prototype.barFunction=function(){return this._barFunction},o.prototype._updateBarFunction=function(){var e=this.priceSource()||"close";this._barFunction=L(e)},o.prototype.priceSource=function(){switch(this._properties.style.value()){case a.STYLE_LINE:
return this._properties.lineStyle.priceSource.value();case a.STYLE_AREA:return this._properties.areaStyle.priceSource.value();case a.STYLE_BASELINE:return this._properties.baselineStyle.priceSource.value()}return null},o.prototype.priceRange=function(e,t){var i,n,r;if(TradingView.isInteger(e)){if(TradingView.isInteger(t))return 0===this.m_data.size()?null:(r=null!==(n=null!==(i=this.priceSource())?this.m_data.minMaxOnRangeCached(e,t,[{name:i,offset:0}]):this.m_data.minMaxOnRangeCached(e,t,[{name:"low",offset:0},{name:"high",offset:0}]))?new E(n.min,n.max):null,this._postProcessPriceRange(r));F.logDebug("priceRange: incorrect endBar")}else F.logDebug("priceRange: incorrect startBar")},o.prototype.createViews=function(){var e,t,i;switch(this._priceAxisViews=[],e=new u(this),this._priceAxisViewsBase=[e],t=new I(this),this._priceLinesAxisViews=[t],this._paneViews=[],i=null,this._properties.style.value()){case a.STYLE_BARS:i=new g(this,this._model);break;case a.STYLE_CANDLES:i=new m(this,this._model);break;case a.STYLE_HOLLOW_CANDLES:i=new _(this,this._model);break;case a.STYLE_LINE:i=new f(this,this._model);break;case a.STYLE_AREA:i=new p(this,this._model);break;case a.STYLE_BASELINE:i=new y(this,this._model),this._waterlineView=new v(this)}i&&this._paneViews.push(i),null!==this._waterlineView&&this._paneViews.push(this._waterlineView),this._paneViews.push(new n(this,this._model)),this._dataWindowView||(this._dataWindowView=new S(this,this._model)),this._legendView||(this._legendView=new w(this,this._model)),this._statusView||(this._statusView=new b(this,this._model.properties().scalesProperties.textColor)),this._priceAxisViews=[].concat(this._priceAxisViewsBase,this._hlinesPriceAsisViews,this._horizlinesPriceAsisViews),this._paneViews.push(new h(e,this,this._model))},o.prototype.barColorer=function(){return new P(this)},o.prototype.start=function(e){this._formatter=null,l.prototype.start.apply(this,arguments),this.priceScale()&&this.priceScale().updateFormatter(),V&&this._setQuotesSymbol(this.symbol())},o.prototype._tryCreateFormatter=function(){var e=this.properties().inputs.symbol.value(),t=this._resolvedSymbols[e];return M(t,this.properties().minTick.value())},o.prototype.formatter=function(){return this._formatter||this._recreateFormatter(),this._formatter},o.prototype._tryChangeInputs=function(){l.prototype._tryChangeInputs.call(this),this.m_formatter=null,this.priceScale().updateFormatter()},o.prototype.title=function(e,t,i,n){var r=this._titleInParts(e,t,i,n),o=r.join(", ");return N?o.toUpperCase():o},o.prototype.titleInParts=function(e,t,i,n){var r=this._titleInParts(e,t,i,n),o=r.join(", ");return[N?o.toUpperCase():o]},o.prototype._titleInParts=function(e,t,i,n){var r,o=this.properties().inputs.symbol.value(),s=this._resolvedSymbols[o],a=[];return s?(j?(r=this._model.mainSeries().properties().statusViewStyle.symbolTextSource.value(),a.push("description"===r?s.description:s.name)):a.push(s.name),!n&&s.exchange&&0!==s.exchange.length&&a.push([s.exchange])):a.push(o),a},o.prototype.bars=function(){
return this.m_data},o.prototype.open=function(e){return this.bars().valueAt(e)[TradingView.OPEN_PLOT]},o.prototype.high=function(e){return this.bars().valueAt(e)[TradingView.HIGH_PLOT]},o.prototype.low=function(e){return this.bars().valueAt(e)[TradingView.LOW_PLOT]},o.prototype.close=function(e){return this.bars().valueAt(e)[TradingView.CLOSE_PLOT]},o.prototype.hl2=function(e){return(this.high(e)+this.low(e))/2},o.prototype.hlc3=function(e){return(this.high(e)+this.low(e)+this.close(e))/3},o.prototype.ohlc4=function(e){return(this.open(e)+this.high(e)+this.low(e)+this.close(e))/4},o.prototype.symbolInfo=function(){if(!this._resolvedSymbols)return null;var e=this._properties.inputs.symbol.value();return e&&this._resolvedSymbols[e]||null},o.prototype._onSymbolResolved=function(e){l.prototype._onSymbolResolved.call(this,e),V&&this._setQuotesSymbol(e)},o.prototype._setQuotesSymbol=function(e){var t=this.symbolInfo(),i=D(t,e);this._quotesProvider.setQuotesSessionSymbol(i)},o.prototype.stop=function(e){l.prototype.stop.call(this,e),this._quotesProvider.setQuotesSessionSymbol(null)},o.prototype.quotes=function(){return this._quotesProvider.quotes()},o.prototype._onQuotesUpdate=function(e,t){this._legendView&&void 0!==t.values.prev_close_price&&(this._legendView.update(),this._model.updateSource(this))},o.prototype.destroy=function(){this._quotesProvider.quotesUpdate().unsubscribeAll(this),this._quotesProvider.destroy(),l.prototype.destroy.call(this)},o.prototype.lastPriceLabelFixedCoordinate=function(){return this._priceAxisViews[0]._fixedCoordinate},o.prototype.tags=function(){var e=[],t=this.symbolInfo();return t?e.push(t.name):this._properties.inputs.symbol.value()&&e.push(this._properties.inputs.symbol.value()),e},o.prototype.statusView=function(){return B?l.prototype.statusView.call(this):null},o.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(154),i.e(164),i.e("study-property-pages-with-definitions")]).then(function(e){return i("WUYT").StudyOverlayDefinitionsViewModel}.bind(null,i)).catch(i.oe)},o.prototype.getStylesPropertyPage=function(){return C.StudyOverlayStylesPropertyPage},o.prototype.defaultPlotIdForAlert=function(){return""},o.prototype.changeStyles=function(){this.m_data.each(function(e,t){t[TradingView.STYLE_PLOT]=null}),l.prototype.changeStyles.call(this)},t.study_Overlay=o},cO0S:function(e,t,i){"use strict";var n,r,o,s,a,l;i.r(t),i.d(t,"PaneRendererHistogram",function(){return l}),n=i("Eyy1"),r=i("aO4+"),o=i("GEp6"),s=i("Zp/P"),a=i("VdBB"),l=function(){function e(e){this._data=e}return e.prototype.draw=function(e,t){var i,n,r,o,s,a,l,c,u,h,d,p,f,_,m,g;if(0!==this._data.items.length)for(i=t.pixelRatio,e.fillStyle=this._data.lineColor,r=(n=Math.max(1,Math.floor(this._data.lineWidth*i)))/2,o=Math.max(1,Math.floor(i)),a=(s=Math.round(this._data.histogramBase*i)-Math.floor(o/2))+o,l=0,c=this._data.items;l<c.length;l++)h=n,d=r,(u=c[l]).style?(e.fillStyle=u.style.color,d=(h=Math.max(1,Math.floor(u.style.width*i)))/2):e.fillStyle=this._data.lineColor,p=h%2?.5:0,
f=Math.round(u.x*i)+p,m=void 0,g=void 0,(_=Math.round(u.y*i))<=s?(m=_,g=a):(m=s,g=_-Math.floor(o/2)+o),e.fillRect(Math.floor(f-d),m,h,g-m)},e.prototype.hitTest=function(e){var t,i,l,c,u,h,d=Object(s.selectionTolerance)(this._data.lineWidth),p=new Map;for(t=0,i=this._data.items;t<i.length;t++)if(c=(l=i[t]).x,u=l.y,h=d,l.style&&(p.has(l.style.width)?h=Object(n.ensureDefined)(p.get(l.style.width)):(h=Object(s.selectionTolerance)(this._data.lineWidth),p.set(this._data.lineWidth,h))),Object(o.distanceToSegment)(new r.Point(c,u),new r.Point(c,this._data.histogramBase),new r.Point(e.x,e.y)).distance<=h)return new a.HitTestResult(a.HitTestResult.REGULAR);return null},e}()},cPgM:function(e,t,i){"use strict";var n,r;i.r(t),i.d(t,"ScaledPaneRenderer",function(){return n}),i.d(t,"ScaledPaneRendererWrapper",function(){return r}),n=function(){function e(){}return e.prototype.draw=function(e,t){e.save(),e.scale(t.pixelRatio,t.pixelRatio),e.translate(.5,.5),this._drawImpl(e),e.restore()},e.prototype.drawBackground=function(e,t){e.save(),e.scale(t.pixelRatio,t.pixelRatio),e.translate(.5,.5),this._drawBackgroundImpl(e),e.restore()},e.prototype._drawBackgroundImpl=function(e){},e}(),r=function(){function e(e){this._base=e}return e.prototype.hitTest=function(e){return this._base.hitTest(e)},e.prototype.draw=function(e,t){e.save(),e.scale(t.pixelRatio,t.pixelRatio),e.translate(.5,.5),this._base.draw(e,{pixelRatio:1}),e.restore()},e.prototype.drawBackground=function(e,t){e.save(),e.scale(t.pixelRatio,t.pixelRatio),e.translate(.5,.5),this._base.drawBackground&&this._base.drawBackground(e,{pixelRatio:1}),e.restore()},e}()},cWHH:function(e,t,i){"use strict";(function(t,n,r){function o(e,i,r,s,a,l,c,u){var d,p,f,_,m;for(h.call(this,l),u=Object.assign({},ye,u),this._options=u,this._version=o.version,this._readOnly=u.readOnly,this._studiesMetaInfoRepository=a,this._properties=r,this._modelIntervals=[],this._isSnapshot=u.isSnapshot,this._rendererOptionsProvider=new re(this),this._lastBackgroundColor=void 0,this._lastOriginalColor=void 0,this.setStudiesMetaData(this._studiesMetaInfoRepository.getInternalMetaInfoArray(),this._studiesMetaInfoRepository.getMigrations()),this._lineBeingCreated=null,this._lineBeingEdited=null,this._linePointBeingEdited=null,Y.init(),d=this,this._panes=[],this.m_gridSource=new w,p=this._readOnly?new t(q("chartproperties.paneProperties.crossHairProperties")):this._properties.paneProperties.crossHairProperties,this.m_crossHairSource=new b(this,p,u.crossHair),this.m_crossHairSource.selectBarMode().subscribe(function(e){if(e&&d.lineBeingCreated()){var t=Y.tool.value();d.cancelCreatingLine(),Y.tool.setValue(t)}}),this.m_width=0,this._tagsChanged=new n,this._lineCancelled=new n,this._magnet=new P,(f=new X("chartproperties.mainSeriesProperties")).addExclusion("minTick"),f.addExclusion("priceAxisProperties.lockScale"),f.addExclusion("priceAxisProperties.percentage"),f.addExclusion("priceAxisProperties.indexedTo100"),f.addExclusion("priceAxisProperties.isInverted"),f.addExclusion("priceAxisProperties.log"),
f.addExclusion("priceAxisProperties.logDisabled"),f.addExclusion("priceAxisProperties.percentageDisabled"),f.addExclusion("priceAxisProperties.autoScaleDisabled"),this._chartApi=e,this._invalidateHandler=i,f.merge(r.mainSeriesProperties.state()),this.m_mainSeries=new G(this,f,s),this._timeScale=new T(this,u.timeScale),this.createPane(void 0,{axisProperties:f.priceAxisProperties.state(["autoScale"])}),(_=this._panes[0]).setStretchFactor(2*_.stretchFactor()),_._isMainPane=!0,this._selection=new ie,this._selectedSourceChanged=new n,this._properties.listeners().subscribe(this,o.prototype.propertyChangeHandler),this._properties.timezone.listeners().subscribe(null,function(){d._chartApi&&d._chartApi.connected()&&d._chartApi.switchTimezone(d.timezone())}),this._timeScale.defaultRightOffsetProperty().listeners().subscribe(null,function(){d.recalculateAllPanes()}),_.addDataSource(this.m_mainSeries,this._panes[0].findSuitableScale(this.m_mainSeries)),this._mainSeriesScaleRatioProperty=new ee(this),this.m_mainSeries.dataEvents().completed().subscribe(this,function(){if(this.crossHairSource().update(),this._scrollingState&&this.gotoTime(),fe.enabled("fix_left_edge")&&this.m_mainSeries.endOfData()){var e=this.m_mainSeries.bars().first();null!==e&&this._timeScale.setLeftEdgeFix(e.index)}}.bind(this)),this.m_mainSeries.onIntervalChanged().subscribe(this,function(){this._oldStartVisibleIndex=-1,this._oldEndVisibleIndex=-1}),this.m_mainSeries.dataEvents().barReceived().subscribe(this,o.prototype.updateTimeScaleBaseIndex),this.m_mainSeries.properties().symbol.listeners().subscribe(this,this.setPriceAutoScaleForAllMainSources),this._readOnly||(f.addChild("priceAxisProperties",this.m_mainSeries.m_priceScale.properties()),this._properties.paneProperties.legendProperties.showStudyTitles.listeners().subscribe(this,function(e){e.value()||d._properties.paneProperties.legendProperties.showStudyArguments.setValue(!1)})),this._barsMarksSources=c(this),m=0;m<this._barsMarksSources.length;m++)this._barsMarksSources[m].setOwnerSource(this.m_mainSeries);this._syncPointCache={},this._watermarkSource=u.watermarkEnabled?new S(this,this.m_mainSeries):null,this._oldStartVisibleIndex=-1,this._oldEndVisibleIndex=-1,this._currentTool="",Y.hideAllDrawings().subscribe(this,this._onDrawingsVisibilityChanged),this._properties.scalesProperties.listeners().subscribe(this,o.prototype.fullUpdate),this._id=Z.guid(),this._studyInserted=new n,this._chartThemeLoaded=new n,this._resetScales=new n,this._studyShiftColorStartOffset=void 0,this._linePointBeingEdited=null,this._lineBeingEdited=null,this._lineBeingCreated=null,le.subscribe(this,this._updateDateTimeFormatter),this.mainSeries().properties().interval.subscribe(this,this._updateDateTimeFormatter),this._updateDateTimeFormatter(),this._sessions=null,this._studyColorRotatorFactory=new pe(this),me&&this._options.esdEnabled&&this._createESDWatcher(),this._onInitialized(),this._watchedThemeSpawn=_e.spawn(),this._backgroundColor=new K(this._getBackgroundColor()),
this._properties.paneProperties.background.subscribe(this,function(){this._updateBackgroundColor()}),this._watchedThemeSpawn.subscribe(this._updateBackgroundColor.bind(this,!0)),this._initAlertsList(),ge&&this._dataSourceCollectionChanged.subscribe(this,this._updateShowLegendProperty.bind(this))}var s,a=i("Eyy1").assert,l=i("Eyy1").ensureNotNull,c=i("aO4+").Point,u=i("eJTA"),h=i("gP14").ChartModelBase,d=u.parseRgb,p=u.rgbToBlackWhiteString,f=i("CW80"),_=f.createLineTool,m=f.createLineToolProperties,g=f.isLineToolName,y=f.isLineTool,v=f.isStudyLineTool,b=i("2+aH").CrossHair,S=i("rY0k").Watermark,w=i("hY3j").Grid,P=i("/jjs").Magnet,T=i("22xp").TimeScale,C=i("fTGZ").BarsMarksContainer,x=i("qFKp").CheckMobile,I=i("LBej"),E=i("ZPGM"),L=i("379M").getBackgroundColorForChart,A=i("JUY+").getPriceAlertsDispatcher,O=i("+GxX").isFeatureEnabled,M=i("i1o5").InvalidateMask,k=i("i1o5").InvalidationLevel,D=i("GVHu"),R=D.Study,V=i("Qq0B").NonSeriesStudy,B=i("3ClC"),N=B.createStudy,F=B.isStudy,j=B.isFundamentalStudy,W=D.prepareStudyProperties,U=i("K4L1"),H=i("8sOK").StudyStub,z=i("k9/m").PlotRowSearchMode,G=i("qJq3").Series,Y=i("mMWL"),q=i("wZIs").defaults,X=i("Ocx9").DefaultProperty,K=i("hY0g"),Q=i("Qtjj").TimeSynchronizer,Z=i("0waE"),J=i("uOxu").getLogger("Chart.ChartModel"),ee=i("Y5iK").MainSeriesScaleRatioProperty,te=i("FaJS").scaleRatio,ie=i("MROS").ModelSelection,ne=i("Y7w9").subtract,re=i("VgjZ").PriceAxisRendererOptionsProvider,oe=i("KnF9").EnvironmentState,se=i("/YGI").StudyInserter,ae=i("PC8g").trackEvent,le=i("ZZnO").dateFormatProperty,ce=i("KUek").Sessions,ue=i("vTIA").CustomSourceLayer,he=i("FQhm"),de=i("jCNj"),pe=i("i126").StudyColorRotatorFactory,fe=i("Kxc7"),_e=i("oiZD").watchedTheme,me=!fe.enabled("widget")||fe.enabled("esdonwidget"),ge=O("lower_legend_collapser"),ye={isSnapshot:!1,readOnly:!1,watermarkEnabled:!0,shiftVisibleRangeOnNewBar:!0};inherit(o,h),o.prototype.applyPreferences=function(e){for(var t in e)void 0!==this._properties[t]&&"m_mainSeries"!==this._properties[t]&&this._properties[t].mergeAndFire(e[t]);void 0!==e.timeScale&&this._timeScale.defaultRightOffsetProperty().setValue(e.timeScale.defaultRightOffset),this._properties.saveDefaults(),this.m_mainSeries.applyPreferences(e.mainSeries),this.sessions().applyPreferences(e.sessions),this.recalculateAllPanes(),this.fullUpdate()},o.prototype.setStudiesMetaData=function(e,t){this._studiesMetaData=e,this._studyVersioning=new U(this._studiesMetaData,t)},o.prototype.isSnapshot=function(){return this._isSnapshot},o.prototype.currentTool=function(){return this._currentTool},o.prototype.setCurrentTool=function(e){this._currentTool=e},o.prototype.timezone=function(){return this._properties.timezone.value()},o.prototype.version=function(){return this._version},o.prototype.setVersion=function(e){this._version=e},o.prototype.initConnection=function(){this._chartApi.switchTimezone(this.timezone())},o.prototype.updatePane=function(e){var t=this._paneInvalidationMask(e);this.invalidate(t)},o.prototype.fullUpdate=function(){this.invalidate(M.full())},
o.prototype.lightUpdate=function(){this.invalidate(M.light())},o.prototype.studiesMetaData=function(){return this._studiesMetaData},o.prototype.studyVersioning=function(){return this._studyVersioning},o.prototype.disconnect=function(){var e,t,i;for(this.sessions().stop(),e=this.dataSources(),i=0;i<e.length;i++)(t=e[i]).disconnect&&t.disconnect()},o.prototype.restart=function(){var e,t,i;for(this.initConnection(),this._timeScale.reset(),this.m_mainSeries.restart(),e=this.dataSources(),t=0;t<e.length;t++)(i=e[t]).restart&&i!==this.m_mainSeries&&i.restart();this.sessions().restart()},o.prototype.startNotStartedStudies=function(){var e,t;if(!this.m_mainSeries.isStarted())throw new Error("Cannot start studies: main series is not started");for(e=this.dataSources(),t=0;t<e.length;t++)F(e[t])&&!e[t].isStarted()&&e[t].restart&&e[t]!==this.m_mainSeries&&e[t].restart()},o.prototype.updateLineTools=function(){var e,t,i=this.dataSources();for(e=0;e<i.length;e++)y(i[e])&&((t=i[e]).tryCreateServerPoints(),t.checkAlert&&t.checkAlert())},o.prototype.realignLineTools=function(){for(var e=0;e<this._panes.length;e++)this._panes[e].realignLineTools()},o.prototype.readOnly=function(){return this._readOnly},o.prototype.properties=function(){return this._properties},o.prototype.lineCancelled=function(){return this._lineCancelled},o.prototype.crossHairMoved=function(){return this.m_crossHairSource.moved()},o.prototype.chartApi=function(){return this._chartApi},o.prototype.propertyChangeHandler=function(){this.lightUpdate()},o.prototype._onDrawingsVisibilityChanged=function(e){var t,i,n,r=!1===e.value(),o=this.dataSources();for(t=0;t<o.length;t++)i=o[t],n=y(i)&&i.properties().visible.value(),r&&n?he.emit("drawing_event",i.id(),"show"):!r&&n&&he.emit("drawing_event",i.id(),"hide");this.selectionMacro(function(e){e.clearSelection()})},o.prototype.updateAllPaneViews=function(){var e;for(e=0;e<this._panes.length;e++)this._panes[e].updateAllViews()},o.prototype.mainSeries=function(){return this.m_mainSeries},o.prototype.timeScale=function(){return this._timeScale},o.prototype.gridSource=function(){return this.m_gridSource},o.prototype.watermarkSource=function(){return this._watermarkSource},o.prototype.crossHairSource=function(){return this.m_crossHairSource},o.prototype.publishedChartsTimelineSource=function(){for(var e=0;e<this._barsMarksSources.length;++e)if(this._barsMarksSources[e]instanceof I)return this._barsMarksSources[e];return null},o.prototype.barsMarksSources=function(){return this._barsMarksSources},o.prototype.width=function(){return this.m_width},o.prototype.setPaneHeight=function(e,t){e.setHeight(t),this.recalculateAllPanes(),this.lightUpdate()},o.prototype.setWidth=function(e){var t;for(this.m_width=e,this._timeScale.setWidth(this.m_width),t=0;t<this._panes.length;++t)this._panes[t].setWidth(e);this.recalculateAllPanes(),this.recalcVisibleRangeStudy(this.dataSources())},o.prototype.priceScaleSlotsCount=function(){var e,t,i,n,r=0,o=0;return this._panes.forEach(function(e){r=Math.max(e.leftPriceScales().length,r),
o=Math.max(e.rightPriceScales().length,o)}),e=r+o,x.any()?(n="right"===(i=(t=this.paneForSource(this.mainSeries())).priceScalePosition(this.mainSeries().priceScale())),"overlay"===i&&(n=t.rightPriceScales().length>0),n?{left:0,right:1,totallySlots:e}:{left:1,right:0,totallySlots:e}):{left:r,right:o,totallySlots:r+o}},o.prototype.startScalePrice=function(e,t,i){e.startScalePrice(t,i)},o.prototype.scalePriceTo=function(e,t,i){e.scalePriceTo(t,i),this.mainSeries().priceScale().isLockScale()?this.lightUpdate():this.invalidate(this._paneInvalidationMask(e,k.Light)),this._setScalesResetAvailable(!0)},o.prototype.endScalePrice=function(e,t){e.endScalePrice(t),this.invalidate(this._paneInvalidationMask(e,k.Light))},o.prototype.startScrollPrice=function(e,t,i){e.startScrollPrice(t,i)},o.prototype.scrollPriceTo=function(e,t,i){e.scrollPriceTo(t,i),this.invalidate(this._paneInvalidationMask(e,k.Light))},o.prototype.endScrollPrice=function(e,t){e.endScrollPrice(t),this.invalidate(this._paneInvalidationMask(e,k.Light))},o.prototype.setPriceAutoScale=function(e,t,i){e.setPriceAutoScale(t,i),this.invalidate(this._paneInvalidationMask(e,k.Light))},o.prototype.restorePriceScaleState=function(e,t,i){e.restorePriceScaleState(t,i),this.invalidate(this._paneInvalidationMask(e,k.Light))},o.prototype.resetPriceScale=function(e,t){this._setScalesResetAvailable(!1),e.resetPriceScale(t),this.invalidate(this._paneInvalidationMask(e,k.Light))},o.prototype.updateScales=function(e,t){this._undoModel._chartWidget._updateScalesActions()},o.prototype.startScaleTime=function(e){this._timeScale.startScale(e)},o.prototype.mainSeriesScaleRatioProperty=function(){return this._mainSeriesScaleRatioProperty},o.prototype.mainSeriesScaleRatioPropertyOnChanged=function(){this._mainSeriesScaleRatioProperty.listeners().fire(this._mainSeriesScaleRatioProperty)},o.prototype.mainSeriesScaleRatio=function(){return te(this._timeScale,this.m_mainSeries.priceScale())},o.prototype.setMainSeriesScaleRatio=function(e){this.paneForSource(this.m_mainSeries).applyPriceScaleRatio(this.m_mainSeries.priceScale(),e)},o.prototype.scaleTimeTo=function(e){this._timeScale.scaleTo(e),this.recalculateAllPanes(),this.lightUpdate(),this._setScalesResetAvailable(!0)},o.prototype.endScaleTime=function(){this._timeScale.endScale(),this.lightUpdate(),this.mainSeries().requestMoreData(),this.recalcVisibleRangeStudy(this.dataSources())},o.prototype.startScrollTime=function(e){this._timeScale.startScroll(e),this._isTimeScrolling=!0},o.prototype.scrollTimeTo=function(e){this._timeScale.scrollTo(e),this.recalculateAllPanes(),this.updateCrossHair(),this.lightUpdate(),this._setScalesResetAvailable(!0)},o.prototype.endScrollTime=function(){this._timeScale.endScroll(),this.lightUpdate(),this.mainSeries().requestMoreData(),this.recalcVisibleRangeStudy(this.dataSources()),this._isTimeScrolling=!1},o.prototype.recalcStudyBasedLineTools=function(){this.dataSources().forEach(function(e){v(e)&&e.recalcStudyIfNeeded&&e.recalcStudyIfNeeded()})},o.prototype.recalcVisibleRangeStudy=function(e,t){
void 0!==this._recalcVRTimerId&&clearTimeout(this._recalcVRTimerId);var i=this;this._recalcVRTimerId=setTimeout(function(){i._recalcVisibleRangeStudy(e,t)},500)},o.prototype._recalcVisibleRangeStudy=function(e,t){var i,n,r,o,s,a,l,c,u,h,d,p,f,_,m,g;if(!this.timeScale().isEmpty()&&(i=this.timeScale().visibleBarsStrictRange(),n=this.mainSeries().nearestData(i.firstBar(),z.NearestRight),r=this.mainSeries().nearestData(i.lastBar(),z.NearestLeft),o=this.mainSeries().bars().lastIndex(),s=n?n.index:void 0,a=r?r.index:void 0,l=s===this._oldStartVisibleIndex,c=a===this._oldEndVisibleIndex,!l||!c||t))for(this._oldStartVisibleIndex=s,this._oldEndVisibleIndex=a,u={first_visible_bar_time:1e3*Math.floor(n&&n.value?n.value[TradingView.TIME_PLOT]:0),last_visible_bar_time:1e3*Math.floor(r&&r.value?r.value[TradingView.TIME_PLOT]:0),subscribeRealtime:r&&r.index===o},h=0;h<e.length;h++)if(F(e[h])){for(p=(d=e[h]).metaInfo().inputs,f=[],_=0;_<p.length;_++)u.hasOwnProperty(p[_].id)&&f.push(p[_].id);for(m=d.properties().inputs,_=0;_<f.length;_++)m[g=f[_]].setValueSilently(u[g]);f.length>0&&m.listeners().fire(m)}},o.prototype.onResetScales=function(){return this._resetScales},o.prototype.resetTimeScale=function(){this._timeScale.restoreDefault(),this.recalculateAllPanes(),this.mainSeries().requestMoreData(),this.recalcVisibleRangeStudy(this.dataSources()),this.updateCrossHair(),this.lightUpdate(),this._resetScales.fire(),this._setScalesResetAvailable(!1)},o.prototype.restoreTimeScaleState=function(e){this._timeScale.restoreState(e),this.recalculateAllPanes(),this.updateCrossHair(),this.lightUpdate(),this._setScalesResetAvailable(!0)},o.prototype.restoreFactoryDefaults=function(e){e.restoreFactoryDefaults(),this.recalcVisibleRangeStudy(this.dataSources(),!0)},o.prototype.selectionMacro=function(e){var t,i,n=this.selection().sources();e({removeSourceFromSelection:function(e){this._selection.remove(e)}.bind(this),addSourceToSelection:function(e,t){var i=this._selection.isSelected(e);i&&this._lastHittestData===t||e&&e.customization&&e.customization.disableSelection||(this._lastHittestData=t,i||this._selection.add(e))}.bind(this),clearSelection:function(){this._selection.clear()}.bind(this),selection:this.selection.bind(this)}),t=ne(n,this.selection().sources()),(i=ne(this.selection().sources(),n)).concat(n).forEach(function(e){e.updateAllViews()}),t.forEach(function(e){var t=e.hasAlert&&e.hasAlert.value()&&e.getAlertSync();t&&t.set("selected",!1)}),i.forEach(function(e){var t=e.hasAlert&&e.hasAlert.value()&&e.getAlertSync();t&&t.set("selected",!0)}),this.lightUpdate(),this.setHoveredSource(null),(t.length>0||i.length>0)&&this._selectedSourceChanged.fire()},o.prototype.checkLineToolSelection=function(){this._selection.checkLineToolSelection()},o.prototype.onSelectedSourceChanged=function(){return this._selectedSourceChanged},o.prototype.selection=function(){return this._selection},o.prototype.invalidate=function(e){this._invalidateHandler&&this._invalidateHandler(e)},o.prototype.dataSources=function(){var e,t,i,n=[]
;for(n.push(this.m_crossHairSource),e=0;e<this._panes.length;++e)for(t=this._panes[e].dataSources(),i=0;i<t.length;i++)n.push(t[i]);return n},o.prototype.orderedDataSources=function(e){var t,i,n=[];for(n.push(this.m_crossHairSource),t=0;t<this._panes.length;t++)i=this._panes[t].orderedSources().slice(),e&&i.reverse(),n=n.concat(i);return n},o.prototype.dataSourceForId=function(e){var t,i;for(i=0;i<this._panes.length;++i)if(t=this._panes[i].dataSourceForId(e))return t;return null},o.prototype.children=function(e,t){return this.dataSources().filter(function(i){return(!0!==t||!F(i)||!i.isChildStudy())&&i.ownerSource()===e})},o.prototype.setAndSaveCurrentPosition=function(e,t,i,n){this.m_crossHairSource.saveOriginCoord(e,t),this.setCurrentPosition(e,t,i,n)},o.prototype.setCurrentPosition=function(e,t,i,n){var r,o,s,a,l,c,u,h,d,p,f,_,m,y,v,b=NaN,S=Math.round(this._timeScale.coordinateToIndex(e));if(i&&((r=i.defaultPriceScale()).isEmpty()||(o=i.mainDataSource().firstValue(),b=r.coordinateToPrice(t,o))),this._isSettingsExternalPosition||!this._lineBeingCreated&&!g(this.currentTool())||(b=this._magnet.align(b,S,i)),this._isTimeScrolling)this.m_crossHairSource.setPosition(this.m_crossHairSource.index,b,i);else{for(this.m_crossHairSource.setOnHoveredChartWidget(!0),this.m_crossHairSource.setPosition(S,b,i),this.m_crossHairSource.dataWindowView().update(),a=(s=this._panes).length;a--;)for(c=(l=s[a].dataSources()).length;c--;)(u=l[c].dataWindowView())&&u.update(),(h=l[c].legendView())&&h.update();this._lineBeingCreated?this._isSettingsExternalPosition||(this._lineBeingCreated.setLastPoint({index:S,price:b},n),this._lineBeingCreated.updateAllViews(),this.lightUpdate(),d=this._lineBeingCreated.lastPoint(),p=this.mainSeries().syncModel(),f=this._timeScale.points().roughTime(d.index,p.projectTime.bind(p)),Y.setLineToolLastPoint({model:this,linkKey:this._lineBeingCreated.linkKey,symbol:this.mainSeries().symbol(),point:{timeStamp:f,price:d.price}})):this.crossHairSource().startMeasurePoint()?this.lightUpdate():this.invalidate(M.cursor()),this._isSettingsExternalPosition||(_=this._undoModel._chartWidget)._chartWidgetCollection&&(p=this.mainSeries().syncModel())&&(m={timeStamp:f=this._timeScale.points().roughTime(S,p.projectTime.bind(p))},(y=i.mainDataSource())instanceof G&&(m.price=b,m.symbol=y.symbol()),m.syncModel=p,v=(v=this._lineBeingCreated||null!==this._linePointBeingEdited||this._sourcesBeingMoved.length)&&Y.drawOnAllCharts().value(),_._chartWidgetCollection.syncCrosshair(m,_,v,n))}},o.prototype.clearCurrentPosition=function(){var e,t,i,n,r,o,s,a=this.crossHairSource();for(a.clearPosition(),a.dataWindowView().update(),t=(e=this._panes).length;t--;)for(n=(i=e[t].dataSources()).length;n--;)(r=i[n].dataWindowView())&&r.update(),(o=i[n].legendView())&&o.update();this.invalidate(M.cursor()),(s=this._undoModel._chartWidget)._chartWidgetCollection&&s._chartWidgetCollection.syncCrosshair(NaN,s)},o.prototype.onSyncScrollNeeded=function(e){var t,i,n=this._undoModel._chartWidget
;n._chartWidgetCollection&&(t=this.mainSeries().syncModel())&&(i=1e3*this._timeScale.points().roughTime(e,t.projectTime.bind(t)),n._chartWidgetCollection.syncScroll(i,this))},o.prototype.syncTimeWithModel=function(e,t){var i,n,r,o=this.mainSeries(),s=o.syncModel();null!==s&&(i=1e3*this.createSyncPoint(e.mainSeries().syncModel(),s).sourceTimeToTargetTime(t/1e3),n=de.get_timezone(this.timezone()),r=de.utc_to_cal(n,i).getTime(),this._gotoTimeImpl(r,{centerIfVisible:!1}))},o.prototype.gotoTime=function(e){return this._gotoTimeImpl(e,{centerIfVisible:!0})},o.prototype._gotoTimeImpl=function(e,t){var i,n,r,o,s,a,c=this.timeScale(),u=this.mainSeries();if(void 0!==e)this._scrollingState&&this._scrollingState.deferred.reject(),i=$.Deferred(),this._scrollingState={targetDate:e,deferred:i,centerIfVisible:t.centerIfVisible};else{if(!this._scrollingState)return J.logError("scrollTo called without an argument"),$.Deferred().reject().promise();e=this._scrollingState.targetDate,i=this._scrollingState.deferred}return(n=function(t){var i,n,r,o,s;if(c.tickMarks().indexToTime(c.tickMarks().minIndex).valueOf()-e<0){for(i=c.tickMarks().nearestIndex(e),n=l(u.bars().lastIndex()),i=Math.min(i,n),r=c.tickMarks().indexToTime(i).valueOf();r<e&&i<n;)i++,r=c.tickMarks().indexToTime(i).valueOf();return s=(o=c.visibleBarsStrictRange()).lastBar()-o.firstBar(),!t&&o.contains(i)||(c.zoomToBarsRange(i-s/2,i+s/2),u.requestMoreData()),{timestamp:c.indexToTimePoint(i)}}}(this._scrollingState.centerIfVisible))||(r=c.tickMarks().minIndex,s=(o=c.visibleBarsStrictRange()).lastBar()-o.firstBar(),u.endOfData()?(c.zoomToBarsRange(r-s/2,r+s/2),n={timestamp:c.indexToTimePoint(r),eod:!0}):(a=this.timeScale().tickMarks().estimateLeft(e),u.requestMoreData(Math.ceil(a+s/2)))),n&&(this.fullUpdate(),this._scrollingState=null,i.resolve(n)),i.promise()},o.prototype.createSyncPoint=function(e,t){var i,n,r=this._syncPointCache[e.uniqueId()];if(r){if(i=r[t.uniqueId()])return i}else this._syncPointCache[e.uniqueId()]={};return n=new Q(e,t),this._syncPointCache[e.uniqueId()][t.uniqueId()]=n,n},o.prototype.setExternalPosition=function(e,t){var i,n,r,o,s,a,l,c,u,h,d,p=this.crossHairSource();if(p.setOnHoveredChartWidget(!1),!Number.isNaN(e)&&isNumber(e.timeStamp)&&(n=this.mainSeries().syncModel())&&(r=this.createSyncPoint(e.syncModel,n).sourceTimeToTargetTime(e.timeStamp),i=this._timeScale.points().roughIndex(r,n.distance.bind(n))),isFinite(i)&&isFinite(e.price))return this._isSettingsExternalPosition=!0,o=this.paneForSource(this.mainSeries()),s=this._timeScale.indexToCoordinate(i),a=o.mainDataSource().firstValue(),l=this.mainSeries().priceScale().priceToCoordinate(e.price,a),this.setCurrentPosition(s,l,o,t||new oe),p.setOnHoveredChartWidget(!1),void delete this._isSettingsExternalPosition;for(isFinite(i)?p.setPosition(i,NaN,null):(p.clearPosition(),p.dataWindowView().update()),u=(c=this.dataSources()).length;u--;)(h=c[u].dataWindowView())&&h.update(),(d=c[u].legendView())&&d.update();this.invalidate(M.cursor())},o.prototype.updateCrossHair=function(){
this.m_crossHairSource.update()},o.prototype.updateTimeScale=function(e,t,i,n,r,o){var s,a,l;if(o)for(this._timeScale.reset(),s=this.dataSources(),a=0;a<s.length;a++)s[a].clearData&&s[a].clearData();if(n.length>0)for(s=this.dataSources(),a=0;a<s.length;a++)s[a].moveData&&s[a].moveData(n);this._timeScale.update(e,t,i,r),l="ChartModel.prototype.updateTimeScale("+e+","+t+","+i.length+","+n.length+","+r.length+","+o+")",l+="TimeScale: {first:"+this._timeScale.points().firstIndex()+",last:"+this._timeScale.points().lastIndex()+"}",J.logDebug(l),this.recalculateAllPanes(),this.lightUpdate()},o.prototype.updateTimeScaleBaseIndex=function(e){var t,i,n,r,o,s,a,c,u,h=this.mainSeries().bars();h.isEmpty()||(i=(t=this.timeScale()).baseIndex(),n=l(h.lastIndex()),r=t.visibleBarsStrictRange(),null!==(o=t.logicalRange())&&(s=o.contains(i),e&&e.index>0&&(a=n-i,c=s?null:t.rightOffset()-a,!this._options.shiftVisibleRangeOnNewBar&&s&&((u=t.width()/(o.length()+a))>=t.minBarSpacing()?(t.setBarSpacing(u),c=t.rightOffset()+a):r.lastBar()!==i&&(c=t.rightOffset()-a)),null!==c&&t.setRightOffset(c))),t.setBaseIndex(n))},o.prototype.recalculatePane=function(e){e&&e.recalculate()},o.prototype.paneForSource=function(e){for(var t=this._panes.length-1;t>=0;t--)if(-1!==this._panes[t].dataSources().indexOf(e))return this._panes[t];return e instanceof C?this.paneForSource(this.m_mainSeries):null},o.prototype.recalculateAllPanes=function(){for(var e=0;e<this._panes.length;++e)this._panes[e].recalculate();this.updateAllPaneViews(),this.crossHairSource().updateAllViews()},o.prototype._invalidateBarColorerCaches=function(){var e,t,i=this.dataSources();for(e=0;e<i.length;++e)(t=i[e])instanceof G&&t.invalidateBarColorerCache()},o.prototype.createStudyInserter=function(e){return new se(e,this._studiesMetaInfoRepository,{createStudy:this.insertStudyWithParams.bind(this)})},o.prototype.insertStudyWithParams=function(e,t,i,n,r,o,s,a,l){var c,u,h,d,p,f;return null!==o&&void 0!==o||(o=this.mainSeries()),c=null,r||void 0===e.groupingKey||null!==(u=this.findNonOverlayStudyWithGroupingKey(e.groupingKey))&&(c=u.pane),null===c&&(r||e.is_price_study?c=this.paneForSource(o):(c=this.createPane(),void 0!==a&&c.setPaneSize(a))),"Compare@tv-basicstudies"===e.id&&this.m_mainSeries.priceScale().setMode({log:!1,percentage:!0}),h=Object.assign({},n,{inputs:t}),d=W(e,h,c,this.studyVersioning(),o),p=N(this,d,o,e,l),this._recalcVisibleRangeStudy([p],!0),p.start(),f=c.findSuitableScale(p,o,s),null!==i&&c.id()===i.paneId?c.insertDataSource(p,f,i.zorder):c.addDataSource(p,f),p.properties().linkedToSeries&&p.properties().linkedToSeries.value()&&p.setOwnerSource(this.mainSeries()),this.recalculatePane(c),this.fullUpdate(),this._invalidateBarColorerCaches(),this.recalcVisibleRangeStudy(this.dataSources(),!0),this._studyInserted.fire(p),this.alertsWatcher().syncSourceAlertLabels(p),p},o.prototype.studyInserted=function(){return this._studyInserted},o.prototype.insertStudyStub=function(e){
var t=this.mainSeries(),i=this.paneForSource(t),n=new H(this,null,e),r=i.createPriceScaleAtPosition("overlay");return i.addDataSource(n,r),this.recalculatePane(i),this.fullUpdate(),n},o.prototype.removeStudyStub=function(e){var t=this.dataSourceForId(e);return null===t?(J.logNormal("StudyStub id="+e+" is not found in chart model"),!1):(this.removeSource(t),!0)},o.prototype.detachSource=function(e,t){var i=this.paneForSource(e);if(i)return i.removeDataSource(e),i.isEmpty()?(this._lineBeingCreated&&i===this._paneBeingCreatedLineOn&&this.cancelCreatingLine(),this.removePane(i,t),!0):(this.fullUpdate(),!1)},o.prototype.removeSource=function(e,t){var i,n,r;if(this.selectionMacro(function(t){t.removeSourceFromSelection(e)}),this._sourcesBeingMoved.includes(e)&&(this._sourcesBeingMoved=this._sourcesBeingMoved.filter(function(t){return t!==e}),this._sourcesBeingMoved.length||(this._linePointBeingMoved=null)),e===this._lineBeingEdited&&(this._lineBeingEdited=null,Y.isToolEditingNow.setValue(!1)),e===this._lineBeingCreated&&(this._lineBeingCreated=null),e.stop&&e.stop(),this.alertsWatcher().removeSourceAlertLabels(e),i=this.detachSource(e,t),e.metaInfo&&e.metaInfo()&&"Compare@tv-basicstudies"===e.metaInfo().id){for(n=this.paneForSource(this.m_mainSeries).dataSources(),r=0;r<n.length;r++)if(n[r].metaInfo&&"Compare@tv-basicstudies"===n[r].metaInfo().id)return;this.m_mainSeries.priceScale().setMode({percentage:!1})}return this.fullUpdate(),this._invalidateBarColorerCaches(),F(e)&&(he.emit("study_event",e.id(),"remove"),e.isChildStudy()&&e.source().unsetChild(e)),e.destroy&&e.destroy(),y(e)&&he.emit("drawing_event",e.id(),"remove"),i},o.prototype._unmergeAvailable=function(e){return e===this.m_mainSeries||TradingView.isInherited(e.constructor,R)&&!e.isLinkedToSeries()&&!TradingView.isInherited(e.constructor,V)&&e.showInObjectTree()},o.prototype.isMergeUpAvailableForSource=function(e){return!!this._unmergeAvailable(e)&&this.paneForSource(e)!==this.panes()[0]},o.prototype.isMergeDownAvailableForSource=function(e){var t;return!!this._unmergeAvailable(e)&&this.paneForSource(e)!==(t=this.panes())[t.length-1]},o.prototype.isUnmergeAvailableForSource=function(e){return!!this._unmergeAvailable(e)&&this.paneForSource(e).dataSources().filter(this._unmergeAvailable,this).length>1},o.prototype.createLineTool=function(e,t,i,n,r,o){var s,a,l,u,h,d,p,f;return g(i)?("LineToolExecution"!==i&&ae("drawings","Study_Drawing_"+i),n&&(s=n.state(),n=m(i,s)),a=_(i,this,n,null),n||(n=a.properties()),l=!a.linkKey&&!r,Y.drawOnAllCharts().value()?a.linkKey=r||Z.randomHash():a.linkKey=r,a.toolname=i,a.setOwnerSource(o||e.mainDataSource()),u=e.defaultPriceScale(),e.addDataSource(a,u),a.isFixed()?(d=e.mainDataSource().firstValue(),p=this._timeScale.indexToCoordinate(t.index),f=u.priceToCoordinate(t.price,d),h=a.addFixedPoint(new c(p,f))):h=a.addPoint(t),h||(this._lineBeingCreated=a,this._paneBeingCreatedLineOn=e),l&&a.enableCurrentIntervalVisibility(),this.fullUpdate(),a):null},o.prototype.lineBeingCreated=function(){return this._lineBeingCreated},
o.prototype.paneBeingCreatedLineOn=function(){return this._paneBeingCreatedLineOn},o.prototype.coninueCreatingLine=function(e,t,i,n){var r,o=this._lineBeingCreated.addPoint(e,t,i);return this._lineBeingCreated.updateAllViews(),r=new M(k.Light),o&&(this._paneBeingCreatedLineOn=null,this._lineBeingCreated=null),this.invalidate(r),o},o.prototype.cancelCreatingLine=function(){if(this._lineBeingCreated){var e=this._lineBeingCreated;this.removeSource(this._lineBeingCreated),this._lineBeingCreated=null,this._lineCancelled.fire(),Y.drawOnAllCharts().value()&&e.isSynchronizable()&&Y.cancelLineTool({model:this})}},o.prototype.startChangingLinetool=function(e,t,i,n,r){var o,s,a;this._lineBeingEdited=e,Y.isToolEditingNow.setValue(!0),this._linePointBeingEdited=i,this._lineBeingEdited.startChanging(i,t,r),o=this.paneForSource(e),this._lineBeingEdited.startDragPoint&&this._lineBeingEdited.startDragPoint(i,t),this._lineBeingEdited.setPoint(i,t,n,r),this._lineBeingEdited.updateAllViews(),(s=this._paneInvalidationMask(o,k.Light)).force=!0,this.invalidate(s),e.linkKey&&e.isSynchronizable()&&(a=this.externalTimeStamp(t.index),Y.startChangingLineTool({linkKey:e.linkKey,model:this,symbol:this.mainSeries().symbol(),point:{price:t.price,timeStamp:a},pointIndex:i,envState:n}))},o.prototype.lineBeingEdited=function(){return this._lineBeingEdited},o.prototype.linePointBeingEdited=function(){return this._linePointBeingEdited},o.prototype.changeLinePoint=function(e,t,i){var n,r,o,s,a,l=this.paneForSource(this._lineBeingEdited);void 0!==e.x&&void 0!==e.y?(o=this._lineBeingEdited.priceScale(),s=l.mainDataSource().firstValue(),n=o.coordinateToPrice(e.y,s),r=Math.round(this.timeScale().coordinateToIndex(e.x)),n=this._magnet.align(n,r,l),this._lineBeingEdited.setPoint(this._linePointBeingEdited,{price:n,index:r},t,i)):this._lineBeingEdited.setPoint(this._linePointBeingEdited,e,t,i),this._lineBeingEdited.updateAllViews(),this.lightUpdate(),this._lineBeingEdited.linkKey&&this._lineBeingEdited.isSynchronizable()&&(a=this.externalTimeStamp(r),Y.changeLineTool({linkKey:this._lineBeingEdited.linkKey,model:this,symbol:this.mainSeries().symbol(),point:{price:n,timeStamp:a},envState:t}))},o.prototype.endChangingLinetool=function(e,t){var i,n=this._lineBeingEdited;this._lineBeingEdited.endChanging(!1,e,t),this._lineBeingEdited=null,Y.isToolEditingNow.setValue(!1),this._linePointBeingEdited=null,this.lightUpdate(),i={points:n._timePoint,interval:this.mainSeries().interval()},n.linkKey&&n.isSynchronizable()&&Y.finishChangingLineTool({model:this,linkKey:n.linkKey,symbol:this.mainSeries().symbol(),finalState:i})},o.prototype.finishLineTool=function(e){var t=this.lineBeingCreated();t&&(t.finish&&t.finish(),!e&&Y.drawOnAllCharts().value()&&t.linkKey&&t.isSynchronizable()&&Y.finishLineTool({linkKey:t.linkKey,model:this}))},o.prototype.calculateDefaultTags=function(){var e,t,i=[],n=this.dataSources();for(e=0;e<n.length;e++)(t=n[e]).tags&&(i=i.concat(t.tags()));return i},o.prototype.changeZOrder=function(e,t){this.paneForSource(e).changeZOrder(e,t),this.fullUpdate()},
o.prototype._sendTo=function(e,t){var i,n={},r=this;for(i in e.forEach(function(e){var t=r.paneForSource(e),i=r._panes.indexOf(t);n[i]||(n[i]=[]),n[i].push(e)}),n)t(r._panes[i],n[i]);this.fullUpdate()},o.prototype.sendToBack=function(e){this._sendTo(e,function(e,t){e.sendToBack(t)})},o.prototype.bringToFront=function(e){this._sendTo(e,function(e,t){e.bringToFront(t)})},o.prototype.setTimeViewport=function(e,t){this.timeScale().zoomToBarsRange(e,t),this.recalculateAllPanes(),this.lightUpdate()},o.prototype.zoomToViewport=function(e,t,i,n,o){var s,a,l;this.setTimeViewport(e,t),s=Math.min(i,n),a=Math.max(i,n),(l=o.defaultPriceScale()).isPercentage()||l.setMode({autoScale:!1}),l.isLog()&&(s=l.priceToLogical(s),a=l.priceToLogical(a)),l.setPriceRange(new r(s,a)),this.recalculateAllPanes(),this.invalidate(this._paneInvalidationMask(o,k.Light)),this._setScalesResetAvailable(!0)},o.prototype.clearAllStudies=function(){var e,t=this.dataSources();for(e=0;e<t.length;e++)t[e].clearData&&t[e].clearData()},o.prototype.allStudies=function(){return this._getAllSources(function(e){return F(e)})},o.prototype.allLineTools=function(){return this._getAllSources(y)},o.prototype.getStudyById=function(e){var t=this.dataSourceForId(e);return null!==t&&F(t)?t:null},o.prototype.getLineToolById=function(e){var t=this.dataSourceForId(e);return null!==t&&y(t)?t:null},o.prototype._getAllSources=function(e){var t,i,n,r,o,s=[],a=this._panes,l=a.length;for(t=0;t<l;++t)for(n=(i=a[t].orderedSources()).length,r=0;r<n;++r)e(o=i[r])&&s.push(o);return s},o.prototype.getStudyById=function(e){var t=this.dataSourceForId(e);return t instanceof R?t:null},o.prototype.backgroundColor=function(){return this._backgroundColor},o.prototype._getBackgroundColor=function(){var e=this._properties.paneProperties.background.value();return L(e)},o.prototype._updateBackgroundColor=function(e){(e||this._backgroundColor.value()!==this._properties.paneProperties.background.value())&&this._backgroundColor.setValue(this._getBackgroundColor())},o.prototype.backgroundCounterColor=function(){var e,t=this.backgroundColor().value();return void 0!==this._lastBackgroundColor&&void 0!==this._lastOriginalColor&&t===this._lastBackgroundColor||(e=p(d(t),150),this._lastBackgroundColor=t,this._lastOriginalColor="black"===e?"white":"black"),this._lastOriginalColor},o.prototype.isDark=function(){return"white"===this.backgroundCounterColor()},o.prototype.updateAllVolumeStudies=function(){var e,t,i,n,r,o,s=this._panes;for(e=s.length;e--;)for(t=!1,r=(n=(i=s[e]).dataSources()).length;r--;)o=n[r],F(o)&&"Volume"===o.metaInfo().shortId&&(o.updateAllViews(),t||(this.updatePane(i),t=!0))},s=O("alerts-request-entire-list"),o.prototype._initAlertsList=function(){var e=this;return e._alertsListPromise||(e._alertsListPromise=A().then(function(t){function i(t){e.mainSeries().dataEvents().symbolResolved()[t](e,n),e.mainSeries().dataEvents().symbolError()[t](e,e._removeAllAlertLabelsFromChart),e.mainSeries().properties().interval[t](e,n)}function n(){s?t.requestFullList({success:function(){
e._alertsList.syncCollections()},error:function(){e._alertsList.reset()}}):t.requestList({symbol:e.mainSeries().actualSymbol(),resolution:e.mainSeries().interval(),active:!0,success:function(){e._alertsList.syncCollections()},error:function(){e._alertsList.reset()}})}return e._alertsList=new E([],{observableCollection:t.alerts,syncEvents:["change:active","change:crossInterval","change:resolution","change:symbol"],validator:function(t){return(t.get("active")||t.isNew())&&(t.get("crossInterval")||t.get("resolution")===e.mainSeries().interval())&&t.get("symbol")===e.mainSeries().actualSymbol()}}),e._alertsList.on("add",e._addAlertLabelToChart.bind(e)),e._alertsList.on("remove",e._removeAlertLabelFromChart.bind(e)),e._alertsList.on("reset",function(){e.resetAlertList()}),e._alertsList.on("change:alertSeries",function(t){e._removeAlertLabelFromChart(t),e._addAlertLabelToChart(t)}),e._alertsList.syncCollections(),loginStateChange.subscribe(e,function(){i(window.is_authenticated?"subscribe":"unsubscribe")}),window.is_authenticated&&(i("subscribe"),n()),e._alertsList})),this._alertsListPromise},o.prototype._addAlertLabelToChart=function(e){if(e.get("extra")){var t=e.get("extra").alertSeries().id;this.alertsWatcher().addAlert(e,t)}},o.prototype._removeAlertLabelFromChart=function(e){this.alertsWatcher().removeAlert(e)},o.prototype._removeAllAlertLabelsFromChart=function(){this.alertsWatcher().removeAllAlertLabels()},o.prototype.getAlertsList=function(){return this.readOnly()?Promise.resolve(null):this._alertsList?Promise.resolve(this._alertsList):this._initAlertsList()},o.prototype.resetAlertList=function(){var e,t;if(this._alertsList)for(e=this._alertsList.models,this._removeAllAlertLabelsFromChart(),t=e.length-1;t>=0;t--)this._addAlertLabelToChart(e[t])},o.prototype.setInterval=function(e,t){var i=setInterval(e,t);return this._modelIntervals.push(i),i},o.prototype.clearInterval=function(e){clearInterval(e);var t=this._modelIntervals.indexOf(e);t>-1&&this._modelIntervals.splice(t,1)},o.prototype.clearIntervals=function(){for(var e=0;e<this._modelIntervals.length;e++)clearInterval(this._modelIntervals[e]);this._modelIntervals=[]},o.prototype.destroy=function(){var e;for(e=0;e<this._barsMarksSources.length;e++)this._barsMarksSources[e].destroy();for(this.clearIntervals(),Y.hideAllDrawings().unsubscribe(this,this._onDrawingsVisibilityChanged),this.resetDeferredStudies(),e=0;e<this._barsMarksSources.length;e++)this._barsMarksSources[e].destroy();for(e=0;e<this._panes.length;e++)this._panes[e].destroy();this._panes.length=0,this._sessions=null,this._timeScale.destroy(),le.unsubscribe(this,this._updateDateTimeFormatter),this.mainSeries().properties().interval.unsubscribe(this,this._updateDateTimeFormatter),this._properties.paneProperties.background.unsubscribeAll(this),this._watchedThemeSpawn.destroy(),this._trendLineStatsCache&&this._trendLineStatsCache.destroy(),this._fibRetracementLabelsCache&&this._fibRetracementLabelsCache.destroy(),this._alertsList&&this._alertsList.destroy(),loginStateChange.unsubscribeAll(this),
ge&&this._dataSourceCollectionChanged.unsubscribeAll(this),h.prototype.destroy.call(this)},o.prototype.countUserStudies=function(e){var t,i,n,r,o,s,a=0;for(e=e||{},t=0;t<this._panes.length;t++)for(i=this._panes[t].dataSources(),n=0;n<i.length;n++)if(r=i[n],F(r)&&!j(r)&&r.showInObjectTree()){if(o=r.metaInfo&&r.metaInfo()){if(s=o.id,e.dontCountVolume&&"Volume@tv-basicstudies"===s)continue;if(e.dontCountCompare&&"Compare@tv-basicstudies"===s)continue;if(e.dontCountOverlay&&"Overlay@tv-basicstudies"===s)continue}a++}return a},o.prototype.isJustClonedChart=function(){return this._undoModel.isJustClonedChart()},o.prototype.copyToOtherCharts=function(e){var t=this;e.forEach(function(e){var i;e.linkKey=e.linkKey||Z.randomHash(),i=e.state(),t.mainSeries().syncModel()&&(i.points=e._timePoint.map(function(e){var i=t.timeScale().timePointToIndex(e.time_t)+e.offset;return{price:e.price,timeStamp:t.externalTimeStamp(i)}}),i.linetool=e.getType(),i.model=t,i.symbol=t.mainSeries().symbol(),i.finalState={points:e._timePoint,interval:t.mainSeries().interval()},Y.copyLineTool(i))})},o.prototype.restoreSource=function(e,t,i,n,r){var o,s,a,l,c;return o=e?this.createPane(t):this.panes()[t],s=(a=n.type.toLowerCase().startsWith("study"))?o._restoreStudy(n):o._restoreLineTool(n),l=null,n.ownerSource&&(l=o.dataSourceForId(n.ownerSource)),s.setOwnerSource(l),c=null,r?c=o.getPriceScaleById(r.id):s.ownerSource()&&(c=s.ownerSource().priceScale()),c?(s.setPriceScale(c),c.addDataSource(s)):(c=o.createPriceScaleAtPosition(r.position,r.priceScaleIndex),r&&r.id&&c.setId(r.id),s.setPriceScale(c),c.addDataSource(s),"overlay"===r.position&&s.metaInfo&&"Volume@tv-basicstudies"===s.metaInfo().id&&(c.setTopMargin(.75),c.setBottomMargin(0))),s.start(),s.restore&&s.restore(),e&&o.restoreState(i),this.recalculateAllPanes(),this.mainSeries().invalidateBarColorerCache(),this.fullUpdate(),a&&this.alertsWatcher().syncSourceAlertLabels(s),s},o.prototype.restoreLineToolState=function(e,t){e.restorePoints(t.points,t.indexes||[]),e.properties().merge(t.state),e.restoreData&&e.restoreData(t),e.createServerPoints(),this.fullUpdate(),e.linkKey&&Y.restoreLineToolState({model:this,linkKey:e.linkKey,state:t})},o.prototype.onChartThemeLoaded=function(){return this._chartThemeLoaded},o.prototype.chartThemeLoaded=function(){this._chartThemeLoaded.fire()},o.prototype.selectBarMode=function(){return this.m_crossHairSource.selectBarMode()},o.prototype.toggleSelectBarMode=function(){this.m_crossHairSource.toggleSelectBarMode()},o.prototype.onBarSelected=function(){return this.m_crossHairSource.onBarSelected()},o.prototype.isSeriesStyleSupported=function(e){return this.m_mainSeries.isStyleSupported(e)},o.prototype.getStudyShiftColorStartOffset=function(){return this._studyShiftColorStartOffset},o.prototype.setStudyShiftColorStartOffset=function(e){this._studyShiftColorStartOffset=e},o.prototype.setPriceAutoScaleForAllMainSources=function(){var e,t;for(e=0;e<this._panes.length;++e)null===(t=this._panes[e].mainDataSource())||t.priceScale().isLockScale()||t.priceScale().setMode({
autoScale:!0})},o.prototype.isInReplay=function(){return this.m_mainSeries.isInReplay()},o.prototype.onInReplayStateChanged=function(){return this.m_mainSeries.onInReplayStateChanged()},o.prototype.switchToReplay=function(e,t){this.m_mainSeries.switchToReplay(e,t)},o.prototype.switchToRealtime=function(){this.m_mainSeries.switchToRealtime(),this._timeScale.resetRightOffset()},o.prototype.defaultResolutions=function(){return this.chartApi().chartApi().defaultResolutions()},o.prototype.rendererOptionsProvider=function(){return this._rendererOptionsProvider},o.prototype.priceAxisRendererOptions=function(){return this._rendererOptionsProvider.options()},o.prototype.magnet=function(){return this._magnet},o.prototype.isPriceScaleVisible=function(e){var t,i=this.paneForSource(e.mainSource()),n=i.priceScalePosition(e);return"overlay"===n||(t=this.priceScaleSlotsCount(),i.priceScaleIndex(e,n)<t[n])},o.prototype.studyMetaInfoRepository=function(){return this._studiesMetaInfoRepository},o.prototype.createSessions=function(e){a(null===this._sessions,"Sessions are already created"),this.addCustomSource("sessions",function(t){return t._sessions=new ce(t,e),t._sessions.start(),t._sessions},ue.Background)},o.prototype.sessions=function(){return l(this._sessions)},o.prototype.studiesColorRotatorFactory=function(){return this._studyColorRotatorFactory},e.exports=o}).call(this,i("tc+8"),i("aIyQ"),i("Qb4w").PriceRange)},cXAR:function(e,t,i){"use strict";function n(e,t){var i=Object(o.parseRgb)(t),n=Object(o.parseRgb)(e);return Object(o.distanceRgb)(i,n)<70?Object(o.rgbToHexString)(Object(o.invertRgb)(i)):t}var r,o,s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w;i.r(t),i.d(t,"SeriesDataWindowView",function(){return w}),r=i("mrSG"),o=i("eJTA"),s=i("ivNn"),a=i("4miz"),l=i("IzGk"),c=i("k9/m"),u=i("GH0z"),h=i("7qT/"),d=i("Ialn"),p=i("qFKp"),f=i("38az"),_=i("e92V"),m=i("mMWL"),g=p.CheckMobile.any(),y=g&&!1,v=new u.PercentageFormatter,b=window.t("n/a"),S=b+" ("+b+"%)",w=function(e){function t(t,i){var n=e.call(this)||this;return n._invalidated=!0,n._series=t,n._model=i,n._items.push(new a.DataWindowItem(window.t("Open"),"")),n._items.push(new a.DataWindowItem(window.t("High"),"")),n._items.push(new a.DataWindowItem(window.t("Low"),"")),n._items.push(new a.DataWindowItem(window.t("Close"),"")),n._items.push(new a.DataWindowItem("","")),n._items.push(new a.DataWindowItem("","")),n._items.push(new a.DataWindowItem(window.t("Change"),"")),n.update(),n}return Object(r.__extends)(t,e),t.prototype.update=function(){this._invalidated=!0},t.prototype.items=function(){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._items},t.prototype._updateImpl=function(){var e,t,i,r,o,a,u,h,p,_,m,g,w,P,T,C,x,I,E,L,A=this._series.symbolInfo();for(A?(this._header=[A.name,Object(l.translatedIntervalString)(this._series.interval()),A.exchange].join(", "),this._title=A.description):this._header=this._series.symbol(),e=this._showLastPriceAndChangeOnly(),t=0,i=this._items;t<i.length;t++)i[t].setVisible(!e);if(this._items[0].setValue(b),this._items[1].setValue(b),
this._items[2].setValue(b),this._items[3].setValue(b),this._items[6].setValue(S),this._items[5].setVisible(!1),(r=this._items[4]).setValue(b),r.setVisible(!1),!this._model.timeScale().isEmpty()&&0!==this._series.bars().size()){if(o=this._model.crossHairSource().appliedIndex(),e||!Object(s.isNumber)(o)){if(null===(a=this._series.data().last()))return;o=a.index}if(void 0!==(u=this._series.nearestIndex(o,c.PlotRowSearchMode.NearestLeft))&&(h=this._series.data().valueAt(u),p=function(e){if(null===e)return null;var t=e.properties().child("background");return void 0===t?null:t.value()}(this._series.model().paneForSource(this._series)),null!==h&&null!==p&&(_=h[1],m=h[2],g=h[3],w=h[4],null!=_&&null!=m&&null!=g&&null!=w)))for(P=this._series.formatter(),T=S,void 0!==(C=this._changesData(w,u,e)).values&&(T=Object(d.forceLTRStr)(P.format(C.values.change,!0)+" ("+v.format(C.values.percentChange,!0)+")")),this._items[6].setValue(T),e?(this._items[5].setValue(P.format(w)),this._items[5].setVisible(!0),this._items[6].setVisible(!0)):(this._items[0].setValue(P.format(_)),this._items[1].setValue(P.format(m)),this._items[2].setValue(P.format(g)),this._items[3].setValue(P.format(w)),this._items[4].setValue(P.format(this._series.barFunction()(h)))),x=null,x=n(p,x=e&&!y?void 0===C.values||C.values.change>=0?f.SeriesBarColorer.upColor(this._series.properties()):f.SeriesBarColorer.downColor(this._series.properties()):n(p,null!=(I=this._series.barColorer().barStyle(u,!1)).barBorderColor?I.barBorderColor:I.barColor)),E=0,L=this._items;E<L.length;E++)L[E].setColor(x)}},t.prototype._showLastPriceAndChangeOnly=function(){return g&&(null===this._model.crossHairSource().pane||Object(_.a)(m.tool.value())||null!==this._model.lineBeingEdited())},t.prototype._changesData=function(e,t,i){var n,r,o;if(i&&!y){if(null!==(n=this._series.quotes()))return{values:{change:n.change,percentChange:n.change_percent}}}else if(null!==(o=(r=this._series.data().valueAt(t-1))&&r[4]||null))return{values:{change:e-o,percentChange:Object(h.a)(o,e)}};return{}},t}(a.DataWindowView)},cbig:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9.3 9l.9-4.53a1.23 1.23 0 1 0-2.4 0L8.7 9l-.9 4.53a1.23 1.23 0 1 0 2.4 0L9.3 9z"/><path fill="currentColor" d="M9.15 9.26l4.38-1.48a1.23 1.23 0 1 0-1.21-2.09L8.85 8.74l-4.38 1.48a1.23 1.23 0 1 0 1.21 2.09l3.47-3.05z"/><path fill="currentColor" d="M9.15 8.74L5.68 5.69a1.23 1.23 0 1 0-1.2 2.09l4.37 1.48 3.47 3.05a1.23 1.23 0 1 0 1.2-2.09L9.16 8.74z"/></svg>'},cdbK:function(e,t,i){"use strict";function n(e){Promise.all([i.e(4),i.e(14),i.e(21),i.e(24),i.e(25),i.e(27),i.e(35),i.e(45),i.e(151),i.e(264),i.e(17),i.e(18),i.e(22),i.e(41),i.e(138),i.e("go-to-date-dialog-impl")]).then(function(t){i("uUY/").showGoToDateDialog(e)}.bind(null,i)).catch(void 0)}i.r(t),i.d(t,"showGoToDateDialog",function(){return n})},cgFQ:function(e,t,i){"use strict";var n,r=i("Tmoa"),o=i("ikwP"),s=/[1-9]/g,a=function(){function e(){this._data=null}return e.prototype.setData=function(e){
this._data=e},e.prototype.draw=function(e,t,i){var n,r,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C;null!==this._data&&this._data.visible&&0!==this._data.text.length&&(n=this._data,e.font=t.font,(r=Math.round(t.widthCache.measureText(e,n.text,s)))<=0||(e.save(),c=(l=r+2*(a=t.paddingHorizontal))/2,u=n.width,h=n.coordinate,(d=Math.floor(h-c)+.5)<0?(h+=Math.abs(0-d),d=Math.floor(h-c)+.5):d+l>u&&(h-=Math.abs(u-(d+l)),d=Math.floor(h-c)+.5),p=d+l,_=(f=0)+t.borderSize+t.paddingTop+t.fontSize+t.paddingBottom,e.fillStyle=n.background,m=Math.round(d*i),g=Math.round(f*i),y=Math.round(p*i),v=Math.round(_*i),e.fillRect(m,g,y-m,v-g),b=Math.round(n.coordinate*i),S=g,w=Math.round((S+t.borderSize+t.tickLength)*i),e.fillStyle=n.color,P=Math.max(1,Math.floor(i)),T=Math.floor(.5*i),e.fillRect(b-T,S,P,w-S),C=_-t.baselineOffset-t.paddingBottom,e.textAlign="left",e.fillStyle=n.color,Object(o.drawScaled)(e,i,function(){return e.fillText(n.text,d+a,C)}),e.restore()))},e}();i.d(t,"a",function(){return n}),n=function(){function e(e){this._renderer=new a,this._rendererData={background:"",color:"",coordinate:0,text:"",visible:!1,width:0},this._invalidated=!0,this._model=e,this._renderer.setData(this._rendererData)}return e.prototype.update=function(){this._invalidated=!0},e.prototype.renderer=function(){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._renderer},e.prototype.coordinate=function(){return this._rendererData.coordinate},e.prototype._updateImpl=function(){var e,t,i=this._rendererData;i.visible=!1,this._model.timeScale().isEmpty()||null!==(e=this._getIndex())&&(i.visible=!0,i.width=this._model.timeScale().width(),i.background=this._getBgColor(),i.color=Object(r.colorFromBackground)(i.background),i.coordinate=this._model.timeScale().indexToCoordinate(e),t=this._model.timeScale().indexToUserTime(e),i.text=null!==t?this._model.dateTimeFormatter().format(t):"",this._invalidated=!1)},e}()},d1Pk:function(e,t,i){"use strict";function n(e,t,i,n,r,s){if(s)return Math.round(Object(o.ensureDefined)(e.coordinate)+Object(o.ensureDefined)(t.coordinate)*i);var a=e.price+t.price*i;return n.priceToCoordinate(a,r)}function r(e,t,i,n,r,s){if(!s)return e.price+t.price*i;var a=Object(o.ensureDefined)(e.coordinate)+Object(o.ensureDefined)(t.coordinate)*i;return n.coordinateToPrice(a,r)}var o;i.r(t),i.d(t,"fibLevelCoordinate",function(){return n}),i.d(t,"fibLevelPrice",function(){return r}),o=i("Eyy1")},d1kB:function(e,t,i){},d700:function(e,t,i){"use strict";function n(e){if("INPUT"===e.tagName){var t=e.type;return"text"===t||"email"===t||"number"===t||"password"===t||"search"===t||"tel"===t||"url"===t}return"TEXTAREA"===e.tagName||e.isContentEditable}function r(e,t){var i,r;if(!t)return!1;if(27===(i=255&e)||i>>>4==7)return!1;switch(e^i){case o.Modifiers.Alt:return(38===i||40===i)&&"SELECT"===t.tagName||n(t);case o.Modifiers.Alt+o.Modifiers.Shift:return n(t);case o.Modifiers.Mod:return!(67!==i&&(o.isMacKeyboard||45!==i)||!(r=t.ownerDocument&&t.ownerDocument.getSelection())||r.isCollapsed)||n(t);case o.Modifiers.Mod+o.Modifiers.Shift:
return i>=33&&i<=40&&n(t);case o.Modifiers.Shift:case 0:return!!(9!==i||t.ownerDocument&&t!==t.ownerDocument.body&&t!==t.ownerDocument.documentElement)&&((13===i||32===i||!function(e){if("BUTTON"===e.tagName)return!0;if("INPUT"===e.tagName){var t=e.type;if("submit"===t||"button"===t||"reset"===t||"checkbox"===t||"radio"===t)return!0}return!1}(t))&&("form"in t||t.isContentEditable))}return!1}i.d(t,"b",function(){return n}),i.d(t,"a",function(){return r});var o=i("/3z9")},d8RW:function(e,t,i){"use strict";var n,r,o,s,a;i.r(t),i.d(t,"PaneRendererPnF",function(){return a}),n=i("mrSG"),r=i("VdBB"),o=i("Zp/P"),s=i("cPgM"),a=function(e){function t(t){var i=e.call(this)||this;return i._bars=t.bars,i._barSpacing=t.barSpacing,i._barWidth=t.barSpacing,i}return Object(n.__extends)(t,e),t.prototype.hitTest=function(e){var t,i,n,s,a,l,c,u=this._bars,h=.5*this._barSpacing;if(0===u.length)return null;if(e.x<u[0].time-h)return null;if(e.x>u[u.length-1].time+h)return null;for(t=null,i=0,n=u;i<n.length;i++)if(s=n[i],e.x<=s.time+h){t=s;break}return null===t?null:(a=Object(o.selectionTolerance)(this._barWidth),l=Math.min(t.high,t.low),c=Math.max(t.high,t.low),l-a<=e.y&&e.y<=c+a?new r.HitTestResult(r.HitTestResult.REGULAR):null)},t.prototype._drawImpl=function(e){var t,i,n,r,o;for(e.save(),e.lineCap="butt",e.lineWidth=1,e.translate(.5,.5),t=0,i=this._bars;t<i.length;t++){if(r=((n=i[t]).low-n.high)/n.additionalNum,n.isMergedBar&&(e.beginPath(),n.isUp?this._drawBarEllipse(e,n,r,n.additionalNum-1):this._drawBarCross(e,n,r,0),e.strokeStyle=n.isUp?n.downColor:n.upColor,e.stroke()),e.beginPath(),n.isUp)for(o=n.additionalNum-1-(n.isMergedBar?1:0);o>-1;o--)this._drawBarCross(e,n,r,o);else for(o=n.isMergedBar?1:0;o<n.additionalNum;o++)this._drawBarEllipse(e,n,r,o);e.strokeStyle=n.color,e.stroke()}e.restore()},t.prototype._drawBarCross=function(e,t,i,n){!function(e,t,i,n,r){e.moveTo(t,i),e.lineTo(t+n,i+r),e.moveTo(t+n,i),e.lineTo(t,i+r)}(e,t.time-.5*this._barWidth+.5,t.high+n*i,this._barWidth,i)},t.prototype._drawBarEllipse=function(e,t,i,n){!function(e,t,i,n,r){e.save(),e.translate(t+n/2,i+r/2),e.scale(n/2,r/2),e.moveTo(1,0),e.arc(0,0,.95,0,2*Math.PI,!1),e.restore()}(e,t.time-.45*this._barWidth+.5,t.high+n*i,.9*this._barWidth,i)},t}(s.ScaledPaneRenderer)},dBCn:function(e,t,i){"use strict";function n(){var e;return(e={})[l.InvalidationLevel.Cursor]={count:0,lastTime:0,maxTime:0,totalTime:0},e[l.InvalidationLevel.Light]={count:0,lastTime:0,maxTime:0,totalTime:0},e[l.InvalidationLevel.Full]={count:0,lastTime:0,maxTime:0,totalTime:0},e}function r(e,t){e.lastTime=t,e.totalTime+=t,++e.count,t>e.maxTime&&(e.maxTime=t)}function o(e){return e.toFixed(2)}function s(e){var t,i,n=e.count;return 0===n?"no events":(t=e.totalTime/n,i=o(e.maxTime),"count="+n+", last="+o(e.lastTime)+", max="+i+", avg="+o(t))}var a,l,c,u,h;i.r(t),i.d(t,"TimingsMeter",function(){return h}),a=i("uOxu"),l=i("i1o5"),c=Object(a.getLogger)("TimingsMeter.Service"),u=Object(a.getLogger)("TimingsMeter.Stats",{maxCount:160}),h=function(){function e(e){this._waitDrawStartTime=-1,
this._startDrawTime=-1,this._currentDrawLevel=l.InvalidationLevel.Full,this._currentDrawItems=n(),this._currentWaitingItem={count:0,lastTime:0,maxTime:0,totalTime:0},this._dumpTimingsStatsInterval=0,this._logPrefix="["+e+"]"}return e.prototype.destroy=function(){this.stopCollect()},e.prototype.startCollect=function(){0!==this._dumpTimingsStatsInterval&&(c.logWarn(this._logPrefix+" Multiple start detected"),this.stopCollect()),this._clearCurrentState(),this._dumpTimingsStatsInterval=setInterval(this._dumpTimingsStats.bind(this),15e3),c.logNormal(this._logPrefix+" Collecting started")},e.prototype.stopCollect=function(){0!==this._dumpTimingsStatsInterval&&(clearInterval(this._dumpTimingsStatsInterval),this._dumpTimingsStatsInterval=0,c.logNormal(this._logPrefix+" Collecting stopped. Dumping last state..."),this._dumpTimingsStats())},e.prototype.startWaitingDraw=function(){this._waitDrawStartTime=window.performance.now()},e.prototype.startDraw=function(e){this._startDrawTime=window.performance.now(),this._currentDrawLevel=e},e.prototype.stopDraw=function(){var e,t,i=window.performance.now();-1!==this._startDrawTime&&-1!==this._waitDrawStartTime&&(e=this._startDrawTime-this._waitDrawStartTime,r(this._currentWaitingItem,e),this._waitDrawStartTime=-1,t=i-this._startDrawTime,r(this._currentDrawItems[this._currentDrawLevel],t),this._startDrawTime=-1)},e.prototype._dumpTimingsStats=function(){var e=[this._logPrefix," awaiting:",s(this._currentWaitingItem),"; cursor:",s(this._currentDrawItems[l.InvalidationLevel.Cursor]),"; light:",s(this._currentDrawItems[l.InvalidationLevel.Light]),"; full:",s(this._currentDrawItems[l.InvalidationLevel.Full])].join("");u.logNormal(e),this._clearCurrentState()},e.prototype._clearCurrentState=function(){this._currentDrawItems=n(),this._currentWaitingItem={count:0,lastTime:0,maxTime:0,totalTime:0}},e}()},dBsn:function(e,t,i){"use strict";var n,r,o,s,a,l;i.r(t),i.d(t,"PaneRendererCross",function(){return l}),n=i("aO4+"),r=i("GEp6"),o=i("ogJP"),s=i("Zp/P"),a=i("VdBB"),l=function(){function e(e){this._data=e}return e.prototype.draw=function(e,t){var i,n,r,s,a,l,c,u,h,d,p,f,_,m,g=t.pixelRatio,y="",v=!1;for(a=0,l=this._data.items;a<l.length;a++)c=l[a],Object(o.isNaN)(c.x)||Object(o.isNaN)(c.y)||(u=null!==(n=null===(i=c.style)||void 0===i?void 0:i.color)&&void 0!==n?n:this._data.lineColor,h=Math.max(1,Math.floor((null!==(s=null===(r=c.style)||void 0===r?void 0:r.width)&&void 0!==s?s:this._data.lineWidth)*g)),u!==y&&(y=u,v&&e.fill(),e.beginPath(),e.fillStyle=u),(d=3*h)%2!=h%2&&(d+=1),p=Math.round(Math.round(c.x*g)-d/2),f=Math.round(Math.round(c.y*g)-d/2),_=p+Math.floor(d/2-h/2),m=f+Math.floor(d/2-h/2),e.rect(p,m,d,h),e.rect(_,f,h,d),v=!0);v&&e.fill()},e.prototype.hitTest=function(e){var t,i,o,l,c,u=Object(s.selectionTolerance)(this._data.lineWidth);for(c=1;c<this._data.items.length;++c)if(t=this._data.items[c-1],i=this._data.items[c],o=t.x,l=i.x,Object(r.distanceToSegment)(new n.Point(o,t.y),new n.Point(l,i.y),new n.Point(e.x,e.y)).distance<=u)return new a.HitTestResult(a.HitTestResult.REGULAR)
;return null},e}()},dDSx:function(e,t,i){"use strict";(function(e){function n(t,i,n,r,o,s,a,l,c){k.call(this,a),this._chartWidget=s,this.m_model=new O(t,i,n,r,o,this,l,c),this.m_zoomStack=new z,this._onSimpleZoomIn=new e,this._onSimpleZoomOut=new e,this._currentCustomMoveSource=null,this.beginUndoMacro=a.beginUndoMacro.bind(a),this.endUndoMacro=a.endUndoMacro.bind(a),this.createUndoCheckpoint=a.createUndoCheckpoint.bind(a),this.undoToCheckpoint=a.undoToCheckpoint.bind(a)}function r(e,t,i,n){G.call(this,i),this._priceScale=t,this._newMode=e,this._model=n}function o(e,t,i,n){G.call(this,i),this._property=e,this._newValue=t,this._model=n,this._priceScale=this._model.mainSeries().priceScale()}function s(e,t,i,n){G.call(this,"scale price",!1),this.m_model=e,this.m_pane=t,this.m_priceScale=i,this.m_state=n,this.m_newPriceScaleState=null}function a(e,t,i,n){this._model=e,this._series=t,this._oldSymbol=t.symbol(),this._oldInterval=t.interval(),this._symbol=i,this._interval=n}function l(e,t,i){G.call(this,"Move "+t[0].title()+" "+(i>0?"Forward":"Backward")),this._model=e,this._sourcesIds=t.map(function(e){return e.id()}),this._shift=i}function c(e,t,i,n,r,o){G.call(this,"Zoom"),this._model=e,this._startBar=t,this._endBar=i,this._startPrice=n,this._endPrice=r,this._pane=o}function u(e,t,i){G.call(this,"Zoom"),this._baseCmd=e,this._zoomStack=t,this._inOut=i}function h(e,t,i,n,r){G.call(this,"",!1),this._model=e,this._paneA=t,this._paneB=i,this._prevStretchA=n,this._currStretchA=r}function d(e,t){G.call(this,"Apply All Chart Properties"),this._model=e,this._undoModel=e.undoModel(),this._newProperties=t,function(e,t){var i,n,r={hollowCandle:{related:"candle"}};for(i in["candleStyle","hollowCandleStyle","haStyle"].forEach(function(t){e[t].wickUpColor=e[t].wickUpColor||e[t].wickColor,e[t].wickDownColor=e[t].wickDownColor||e[t].wickColor}),t.vertGridProperties=t.vertGridProperties||t.gridProperties,t.horzGridProperties=t.horzGridProperties||t.gridProperties,r)e[i+"Style"]||(n=e[r[i].related+"Style"],e[i+"Style"]=TradingView.clone(n))}(this._newProperties.mainSeries,this._newProperties.paneProperties),this._oldProperties=ae(e,e.mainSeries())}function p(e,t,i){G.call(this,"Apply Chart Theme"),this._model=e,this._newChartProps=TradingView.factoryDefaults("chartproperties"),this._newSeriesProps=TradingView.factoryDefaults("chartproperties.mainSeriesProperties"),this._newSessionProps=t.sessions||TradingView.factoryDefaults("sessions"),["candleStyle","hollowCandleStyle","haStyle"].forEach(function(e){t.mainSourceProperties[e].wickUpColor=t.mainSourceProperties[e].wickUpColor||t.mainSourceProperties[e].wickColor,t.mainSourceProperties[e].wickDownColor=t.mainSourceProperties[e].wickDownColor||t.mainSourceProperties[e].wickColor}),t.chartProperties.paneProperties.vertGridProperties=t.chartProperties.paneProperties.vertGridProperties||t.chartProperties.paneProperties.gridProperties,t.chartProperties.paneProperties.horzGridProperties=t.chartProperties.paneProperties.horzGridProperties||t.chartProperties.paneProperties.gridProperties,
t.chartProperties.paneProperties.legendProperties=this._model.properties().state().paneProperties.legendProperties,this._newChartProps=P({},this._newChartProps,t.chartProperties),delete this._newChartProps.scalesProperties.showLeftScale,delete this._newChartProps.scalesProperties.showRightScale,delete this._newChartProps.scalesProperties.scaleSeriesOnly,delete this._newChartProps.scalesProperties.showSeriesLastValue,delete this._newChartProps.scalesProperties.showStudyLastValue,delete this._newChartProps.scalesProperties.showSymbolLabels,delete this._newChartProps.scalesProperties.showStudyPlotLabels,delete this._newChartProps.scalesProperties.showFundamentalNameLabel,delete this._newChartProps.scalesProperties.showFundamentalLastValue,e.timeScale().preserveBarSpacing()&&delete this._newChartProps.scalesProperties.barSpacing,this._newSeriesProps=P({},this._newSeriesProps,t.mainSourceProperties),this._oldChartProps=e.properties().state(),delete this._oldChartProps.paneProperties.topMargin,delete this._oldChartProps.paneProperties.bottomMargin,this._oldSeriesProps=e.mainSeries().properties().state(),this._oldSessionsProps=this._model.sessions().state(),i||(delete this._oldSeriesProps.style,delete this._oldSeriesProps.symbol,delete this._oldSeriesProps.interval,delete this._oldSeriesProps.extendedHours,delete this._newSeriesProps.style,delete this._newSeriesProps.symbol,delete this._newSeriesProps.interval,delete this._newSeriesProps.extendedHours)}function f(e,t,i,n,r){G.call(this,e),this._property=t,this._value=i,this._forceSetProperty=r,this._prevValue=t.value(),this._cw=n}function _(e,t){G.call(this,"Stop Sincing Drawing"),this._model=e,this._sourceId=t.id(),this._linkKey=t.linkKey}function m(e,t,i){G.call(this,"Paste Drawing"),this._model=e,this._clipboardData=t,this._paneIndex=this._model.panes().indexOf(i||this._model.paneForSource(this._model.mainSeries())),this._source=null}function g(e,t){G.call(this,"Paste Indicator"),this._model=e,this._clipboardData=t}function y(e,t){G.call(this,"Move",!1),this._origPoint=e.clone(),this._point=null,this._handler=t}
var v=i("aO4+").Point,b=i("CW80"),S=b.isLineTool,w=i("Ss5c").LineDataSource,P=i("FIi8").deepExtend,T=i("hqNu").showGoToTradingViewReferralDialog,C=i("Qf4T"),x=i("bKsZ").ProductFeatures,I=i("NP3r").getConfig,E=i("NP3r").enabled,L=i("s4+V"),A=i("3ClC").isFundamentalStudyMetaInfo,O=i("OK+B"),M=i("beCu").doAnimate,k=i("onDC").ChartUndoModelBase,D=i("Ocx9"),R=D.saveDefaultProperties,V=i("GVQo"),B=i("qJq3").Series,N=i("GVHu"),F=N.Study,j=i("8sOK").StudyStub,W=i("0YCj"),U=i("0waE"),H=i("7MZv").showTooManyStudiesNotice,z=i("MY2c").UndoStack,G=i("RDU5").UndoCommand,Y=i("Ltzl").SaveLineToolStateUndoCommand,q=i("YlKu").ApplyLineToolTemplateUndoCommand,X=i("s9sR").SetResolutionUndoCommand,K=i("8C8C").RestoreFactoryDefaultsUndoCommand,Q=i("/ToI"),Z=Q.MoveToNewPriceScaleUndoCommand,J=Q.MoveToExistingPriceScaleUndoCommand,$=i("2OVc").InsertStudyCommand,ee=i("FKaq").SetPriceScaleSelectionStrategyCommand,te=i("/YGI").StudyInserter,ie=i("PC8g").trackEvent,ne=i("Fixu").trackDrawingPasted,re=i("uOxu").getLogger("Chart.ChartUndoModel"),oe=i("QTwd").RestoreDefaultsPreferencesUndoCommand,se=i("bJYc").SetPropertyUndoCommand,ae=i("ApcL").preferencesByWhiteList;inherit(n,k),n.prototype.version=function(){return this.m_model._version},n.prototype.onData=function(e){switch(e.method){case"timescale_update":var t=e.params;this.m_model.updateTimeScale(t.index,t.zoffset,t.changes,t.index_diff,t.marks,t.clear)}},n.prototype.paneForSource=function(e){return this.m_model.paneForSource(e)},n.prototype.createPane=function(e){return this.m_model.createPane(e)},n.prototype.readOnly=function(){return this.m_model.readOnly()},n.prototype.restart=function(){this.m_model.restart()},n.prototype.disconnect=function(){this.m_model.disconnect()},n.prototype.studiesMetaData=function(){return this.m_model.studiesMetaData()},n.prototype.studyVersioning=function(){return this.m_model.studyVersioning()},n.prototype.chartModel=function(){return this._model()},n.prototype._model=function(){return this.m_model},n.prototype.pushUndoCommand=function(e){this._pushUndoCommand(e)},n.prototype._pushUndoCommand=function(e){this._undoHistory.pushUndoCommand(e)},n.prototype.startScalePrice=function(e,t,i){this.pushUndoCommand(new s(this.m_model,e,t,t.state())),this.chartModel().startScalePrice(e,t,i)},n.prototype.scalePriceTo=function(e,t,i){this.chartModel().scalePriceTo(e,t,i)},n.prototype.endScalePrice=function(e,t){this.chartModel().endScalePrice(e,t)},n.prototype.startScrollPrice=function(e,t,i){t.isAutoScale()||(this._initialPriceScrollState=t.state(),this._initialPriceScrollPos=i,this.chartModel().startScrollPrice(e,t,i))},n.prototype.scrollPriceTo=function(e,t,i){t.isAutoScale()||(this._initialPriceScrollPos&&Math.abs(this._initialPriceScrollPos-i)>20&&(this.pushUndoCommand(new s(this.m_model,e,t,this._initialPriceScrollState)),delete this._initialPriceScrollState,delete this._initialPriceScrollPos),this.chartModel().scrollPriceTo(e,t,i))},n.prototype.endScrollPrice=function(e,t){t.isAutoScale()||(delete this._initialPriceScrollState,delete this._initialPriceScrollPos,
this.chartModel().endScrollPrice(e,t))},n.prototype.setPriceAutoScale=function(e,t,i){this.pushUndoCommand(new s(this.m_model,e,t,t.state())),this.chartModel().setPriceAutoScale(e,t,i)},n.prototype.resetPriceScale=function(e,t){this.pushUndoCommand(new s(this.m_model,e,t,t.state())),this.chartModel().resetPriceScale(e,t)},n.prototype.setWidth=function(e){this.m_model.setWidth(e)},n.prototype.setPaneHeight=function(e,t){this.m_model.setPaneHeight(e,t)},n.prototype.gridSource=function(){return this.m_model.gridSource()},n.prototype.watermarkSource=function(){return this.m_model.watermarkSource()},n.prototype.addAlertsSource=function(e){return this.m_model.addAlertsSource(e)},n.prototype.alertsSources=function(){return this.m_model.alertsSources()},n.prototype.publishedChartsTimelineSource=function(){return this.m_model.publishedChartsTimelineSource()},n.prototype.barsMarksSources=function(){return this.m_model.barsMarksSources()},n.prototype.crossHairSource=function(){return this.m_model.crossHairSource()},n.prototype.model=function(){return this.m_model},n.prototype.chartWidget=function(){return this._chartWidget},n.prototype.mainSeries=function(){return this.m_model.m_mainSeries},n.prototype.mainSeriesScaleRatioProperty=function(){return this.m_model.mainSeriesScaleRatioProperty()},n.prototype.panes=function(){return this.m_model.panes()},n.prototype.timeScale=function(){return this.m_model.timeScale()},n.prototype.selectionMacro=function(e){return this.m_model.selectionMacro(e)},n.prototype.setHoveredSource=function(e,t){this.m_model.setHoveredSource(e,t)},n.prototype.selection=function(){return this.m_model.selection()},n.prototype.onSelectedSourceChanged=function(){return this.m_model.onSelectedSourceChanged()},n.prototype.hoveredSource=function(){return this.m_model.hoveredSource()},n.prototype.activeStrategySource=function(){return this.m_model.activeStrategySource()},n.prototype.invalidate=function(e){this.m_model.invalidate(e)},n.prototype.setCurrentPosition=function(e,t,i,n){this.m_model.setCurrentPosition(e,t,i,n)},n.prototype.setAndSaveCurrentPosition=function(e,t,i,n){this.m_model.setAndSaveCurrentPosition(e,t,i,n)},n.prototype.modifySeries=function(e,t,i){var n=new a(this.m_model,e,t,i);this.pushUndoCommand(n)},n.prototype.canCreateStudy=function(e){return this.model().chartApi().chartApi().isCanCreateStudy(e)},n.prototype._isCountedStudy=function(e){return!["Volume@tv-basicstudies","Compare@tv-basicstudies","Overlay@tv-basicstudies"].includes(e.id)&&!A(e)},n.prototype.checkIfFeatureAvailable=function(e,t){var i=this.canCreateStudy(),n=t&&t instanceof F;return!this.readOnly()&&n&&(i=this.canCreateStudy(!0)),i?!this._isCountedStudy(e)||(this.m_model.countUserStudies({dontCountVolume:!0,dontCountOverlay:!0,dontCountCompare:!0})<(E(x.INDICATORS_ON_CHART)?I(x.INDICATORS_ON_CHART).limit:1/0)||(TradingView.onWidget()?T({feature:"indicators"}):(C("studyLimit"),L.createGoProDialog({feature:"studyLimit"}).then(function(e){e.open()})),!1)):(n?L.createGoProDialog({feature:"studyOnStudy"}).then(function(e){e.open()
}):H(),!1)},n.prototype._insertStudy=function(e,t,i,n,r,o,s,a){var l=new $(this.m_model,e,t,i,n,r,o,s,a||null,"Insert "+e.description);return this.pushUndoCommand(l),l.insertedStudy()},n.prototype.insertStudyWithoutCheck=function(e){return this._insertStudy(e)},n.prototype.createStudyInserter=function(e,t,i){var n,r=this,o=null,s={createStudy:function(e,t,i,n,s,a,l,c){return r.checkIfFeatureAvailable(e,a)?(ie("studies","Study_"+e.id),"Compare@tv-basicstudies"===e.id&&ie("compare","symbol:"+t.symbol),r._insertStudy(e,t,n,s,a,l,c,o)):(re.logNormal("Cannot insert study "+e.id),null)}};return void 0!==i&&(s.createStub=function(){var e=r.m_model.insertStudyStub(i);return o={targetPaneId:r.m_model.paneForSource(e).id(),targetZOrder:e.zorder()},e.id()},s.removeStub=function(e){return r.m_model.removeStudyStub(e)}),(n=new te(e,this.m_model._studiesMetaInfoRepository,s)).setParentSource(t),n},n.prototype.setProperty=function(e,t,i,n){if(e&&e.value()!==t){var r=new se(e,t,i,this.m_model,n);this.pushUndoCommand(r),this.emitEvent("setProperty")}},n.prototype.setProperties=function(e,t,i){var n=this;this.beginUndoMacro(i),this.m_model.selectionMacro(function(){for(var r=0;r<e.length;r++)n.setProperty(e[r],t[r],i)}),this.endUndoMacro()},n.prototype.setPriceScaleMode=function(e,t,i){var n,o,s=Object.keys(e),a=t.mode(),l=!1;for(n=0;n<s.length;n++)if(a[s[n]]!==e[s[n]]){l=!0;break}l&&(o=new r(e,t,i,this.m_model),this.pushUndoCommand(o))},n.prototype.setPriceScaleSelectionStrategy=function(e){var t,i;this.m_model.properties().priceScaleSelectionStrategyName.value()!==e&&(ie("Chart","Change PriceScale Selection Strategy"),t="Set Price Scale Selection Stretegy to "+e,this.beginUndoMacro(t),this.setProperty(this.m_model.properties().priceScaleSelectionStrategyName,e,t),i=new ee(this.m_model,e,t),this.pushUndoCommand(i),this.endUndoMacro())},n.prototype.setScaleRatioProperty=function(e,t,i){if(e.value()!==t){var n=new o(e,t,i,this.m_model);this.pushUndoCommand(n)}},n.prototype.setScreenChartProperty=function(e,t,i,n,r){if(r||e.value()!==t){var o=new f(n,e,t,i,r);this.pushUndoCommand(o)}},n.prototype.setResolutionProperty=function(e,t,i,n){if(e.value()!==t){var r=new X(e,t,i,n);this.pushUndoCommand(r)}},n.prototype.detachToRight=function(e,t){var i,n;ie("Chart","Move to new right scale"),i=window.t("Move {title} To New Price Scale").format({title:e.title()}),n=new Z(this.m_model,e,t,"right",i),this.pushUndoCommand(n),this.emitEvent("moveSource",[e])},n.prototype.detachToLeft=function(e,t){var i,n;ie("Chart","Move to new left scale"),i=window.t("Move {title} To New Left Scale").format({title:e.title()}),n=new Z(this.m_model,e,t,"left",i),this.pushUndoCommand(n),this.emitEvent("moveSource",[e])},n.prototype.detachNoScale=function(e,t){var i,n;ie("Chart","Make source no scale"),i=window.t("Make {title} No Scale (Full Screen)").format({title:e.title()}),n=new Z(this.m_model,e,t,"overlay",i),this.pushUndoCommand(n),this.emitEvent("moveSource",[e])},n.prototype.moveToScale=function(e,t,i,n){ie("Chart","Move source to target scale")
;var r=new J(this.m_model,e,t,i,n);this.pushUndoCommand(r),this.emitEvent("moveSource",[e])},n.prototype.lineBeingCreated=function(){return this.m_model.lineBeingCreated()},n.prototype.paneBeingCreatedLineOn=function(){return this.m_model.paneBeingCreatedLineOn()},n.prototype.cancelCreatingLine=function(){this.m_model.cancelCreatingLine()},n.prototype.lineCancelled=function(){return this.m_model.lineCancelled()},n.prototype.lineBeingEdited=function(){return this.m_model.lineBeingEdited()},n.prototype.sourcesBeingMoved=function(){return this.m_model.sourcesBeingMoved()},n.prototype.dataSources=function(){return this.m_model.dataSources()},n.prototype.orderedDataSources=function(e){return this.m_model.orderedDataSources(e)},n.prototype.dataSourceForId=function(e){return this.m_model.dataSourceForId(e)},n.prototype.state=function(e,t,i){return this.m_model.state(e,t,i)},n.prototype.asyncState=function(){return this.m_model.asyncState()},n.prototype.restoreState=function(e,t,i){return this.m_model.restoreState(e,t,i)},n.prototype.calculateDefaultTags=function(){return this.m_model.calculateDefaultTags()},n.prototype.onTagsChanged=function(){return this.m_model.onTagsChanged()},n.prototype.changeZOrder=function(e,t){var i=new l(this.m_model,e,t);this.pushUndoCommand(i),this.emitEvent("changeZOrder",[e,t])},n.prototype._removeAllStudiesImpl=function(){var e,t,i=this.m_model.dataSources();for(e=0;e<i.length;e++)t=i[e],(TradingView.isInherited(t.constructor,F)&&!t.isChildStudy()&&t.removeByRemoveAllStudies()||TradingView.isInherited(t.constructor,j))&&this.removeSource(t)},n.prototype.removeAllStudies=function(){this.beginUndoMacro(window.t("Remove all studies")),this._removeAllStudiesImpl(),this.endUndoMacro()},n.prototype._removeAllDrawingToolsImpl=function(e){var t=this;this.selectionMacro(function(){var i,n,r;for(t.lineBeingCreated()&&t.cancelCreatingLine(),i=t.dataSources(),n=0;n<i.length;n++)r=i[n],TradingView.isInherited(r.constructor,w)&&r.isActualSymbol()&&r.isUserDeletable()&&(e&&e!==r._constructor||t.removeSource(r))})},n.prototype.removeAllDrawingTools=function(e){this.beginUndoMacro(window.t("Remove Drawings")),this._removeAllDrawingToolsImpl(),this.endUndoMacro()},n.prototype.removeAllStudiesAndDrawingTools=function(){this.beginUndoMacro(window.t("Remove all studies and drawing tools")),this._removeAllDrawingToolsImpl(),this._removeAllStudiesImpl(),this.endUndoMacro()},n.prototype.unlinkLines=function(e){var t,i;this.beginUndoMacro("Stop syncing line tool(s)"),t=this.m_model,i=this,e.forEach(function(e){var n=new _(t,e);i.pushUndoCommand(n)}),this.endUndoMacro()},n.prototype.copyToOtherCharts=function(e){this.m_model.copyToOtherCharts(e)},n.prototype.moveLeft=function(){var e,t;try{this.beginUndoMacro("Move Left")}catch(e){return}e=this.m_model.timeScale().width(),t=this,M({to:e/5,onStep:function(e){t.startScrollTime(e),t.scrollTimeTo(0),t.endScrollTime()},onComplete:function(){t.endUndoMacro()}})},n.prototype.moveRight=function(){var e,t;try{this.beginUndoMacro("Move Right")}catch(e){return}
e=this.m_model.timeScale().width(),t=this,M({to:e/5,onStep:function(e){t.startScrollTime(0),t.scrollTimeTo(e),t.endScrollTime()},onComplete:function(){t.endUndoMacro()}})},n.prototype.scrollChart=function(e){this.m_model.scrollEnabled()&&(this.startScrollTime(0),this.scrollTimeTo(e),this.endScrollTime())},n.prototype.scrollChartByBar=function(e){if(this.m_model.scrollEnabled()){var t=e*this.m_model.timeScale().barSpacing();this.startScrollTime(0),this.scrollTimeTo(t),this.endScrollTime()}},n.prototype.resetScales=function(){this.beginUndoMacro("Reset scales"),this.resetTimeScale(),this.panes().forEach(function(e){e.leftPriceScales().forEach(function(t){this.resetPriceScale(e,t)},this),e.rightPriceScales().forEach(function(t){this.resetPriceScale(e,t)},this)},this),this.endUndoMacro(),this.m_model.recalculateAllPanes()},n.prototype.zoomToViewport=function(e,t,i,n,r){var o=new c(this.m_model,e,t,i,n,r),s=new u(o,this.m_zoomStack,!0);this.pushUndoCommand(s)},n.prototype.zoomFromViewport=function(){var e=new u(this.m_zoomStack.head(),this.m_zoomStack,!1);this.pushUndoCommand(e)},n.prototype.zoomStack=function(){return this.m_zoomStack},n.prototype.addPaneStretchFactorUndoCommand=function(e,t,i,n){var r=new h(this.m_model,e,t,i,n);this.pushUndoCommand(r)},n.prototype._restoreFactoryDefaults=function(e){var t=new K(this.m_model,e);this.pushUndoCommand(t)},n.prototype._restoreLineToolFactoryDefaults=function(e){var t,i="Load default drawing template";this.beginUndoMacro(i),this.saveLineToolState(e,i),t=new K(this.m_model,e.properties(),i),this.pushUndoCommand(t),this.saveLineToolState(e,i),this.endUndoMacro(),this.model().updateSource(e)},n.prototype.restorePropertiesForSource=function(e){S(e)?this._restoreLineToolFactoryDefaults(e):this._restoreFactoryDefaults(e.properties())},n.prototype.restorePreferences=function(){var e=new oe(this.model());this.pushUndoCommand(e)},n.prototype.applyPreferences=function(e){var t=new d(this.model(),e);this.pushUndoCommand(t)},n.prototype.chartLoadTheme=function(e,t,i,n){var r=new p(e,t,i);n?r.redo():this.pushUndoCommand(r)},n.prototype.applyLineToolTemplate=function(e,t,i){this.beginUndoMacro(i),this.saveLineToolState(e,i);var n=new q(e,t,i);this.pushUndoCommand(n),this.saveLineToolState(e,i),this.endUndoMacro(),this.model().updateSource(e)},n.prototype.onSimpleZoomIn=function(){return this._onSimpleZoomIn},n.prototype.onSimpleZoomOut=function(){return this._onSimpleZoomOut},n.prototype.getAlertsList=function(){return this.m_model.getAlertsList()},n.prototype.isJustClonedChart=function(){return this._chartWidget.isJustClonedChart()},n.prototype.copySourcesToClip=function(e){var t,i;if(e)return t={sources:[]},i=this,e.filter(function(e){return e.copiable()}).forEach(function(e){var n={};if(e instanceof w)n.type="drawing",n.geometry=e.geometry();else{if(!(e instanceof F))return!1;n.type="study"}if(n.source=e.state&&e.state(),delete n.source.alertId,delete n.source.linkKey,!n.source)return!1;n.modelId=i.m_model._id,t.sources.push(n)}),
!!t.sources.length&&(1===t.sources.length?t.title=e[0].title&&e[0].title():t.title="Drawings",V.set(t),!0)},n.prototype.cutSourcesToClip=function(e){var t,i,n=this.copySourcesToClip(e);if(!n)return!1;t=1===e.length?"Cut "+e[0].title:"Cut sources",this.beginUndoMacro(t),i=this,this.m_model.selectionMacro(function(){e.forEach(function(e){i.removeSource(e)})}),this.endUndoMacro()},n.prototype.pasteLineTool=function(e,t){var i=new m(this.m_model,t,e);return this.pushUndoCommand(i),i.source()},n.prototype.pasteStudy=function(e){var t=new g(this.m_model,e);this.pushUndoCommand(t)},n.prototype.pasteSourceFromClip=function(e,t){var i,n,r=V.get();if(!r)return!1;this.beginUndoMacro("Paste "+r.title),i=this,n=0,r.sources.forEach(function(t){if("drawing"===t.type){var r=i.pasteLineTool(e,t);n<5&&null!==r&&(ne(r),n+=1)}"study"===t.type&&t.source&&t.source.metaInfo&&i.checkIfFeatureAvailable(new W(t.source.metaInfo))&&i.pasteStudy(t)}),this.endUndoMacro()},n.prototype.trackTime=function(){return this._chartWidget.trackTime()},n.prototype.isInReplay=function(){return this.m_model.isInReplay()},n.prototype.switchToReplay=function(e,t){this._undoHistory.clearStack(),this.m_model.switchToReplay(e,t)},n.prototype.switchToRealtime=function(){this._undoHistory.clearStack(),this.m_model.switchToRealtime()},n.prototype.startCustomMoving=function(e,t,i){this._currentCustomMoveCommand=new y(t,i),this._currentCustomMoveSource=e},n.prototype.customMoveBeingProcessed=function(){return null!==this._currentCustomMoveSource},n.prototype.processCustomMove=function(e){this._currentCustomMoveCommand.setPoint(e)},n.prototype.endCustomMoving=function(){null!==this._currentCustomMoveCommand.point()&&(this.pushUndoCommand(this._currentCustomMoveCommand),this._currentCustomMoveCommand=null,this._currentCustomMoveSource=null)},n.prototype.saveLineToolState=function(e,t){this.pushUndoCommand(new Y(this.m_model,[e],t))},n.prototype.togglePriceScaleAutoScaleMode=function(e){var t={autoScale:!e.isAutoScale()};this.setPriceScaleMode(t,e,"Auto Scale")},n.prototype.togglePriceScaleLockScaleMode=function(e){var t={lockScale:!e.isLockScale()};this.setPriceScaleMode(t,e,"Lock Scale")},n.prototype.setPriceScaleRegularScaleMode=function(e){this.setPriceScaleMode({log:!1,percentage:!1,indexedTo100:!1},e,"Regular")},n.prototype.togglePriceScaleIndexedTo100ScaleMode=function(e){var t={indexedTo100:!e.isIndexedTo100()};this.setPriceScaleMode(t,e,"Indexed to 100")},n.prototype.togglePriceScalePercentageScaleMode=function(e){var t={percentage:!e.isPercentage()};this.setPriceScaleMode(t,e,"Percent")},n.prototype.togglePriceScaleLogScaleMode=function(e){var t={log:!e.isLog()};this.setPriceScaleMode(t,e,"Logarithmic")},n.prototype.invertPriceScale=function(e){var t=e.properties().isInverted;this.setProperty(t,!t.value(),"Invert Scale")},inherit(r,G),r.prototype.redo=function(){this._oldMode=this._priceScale.mode(),R(!0),this._priceScale.setMode(this._newMode),R(!1),this._model&&(this._model.recalculateAllPanes(),this._model.lightUpdate())},r.prototype.undo=function(){R(!0),
this._priceScale.setMode(this._oldMode),R(!1),this._oldMode=null,this._model&&(this._model.recalculateAllPanes(),this._model.lightUpdate())},inherit(o,G),o.prototype.redo=function(){this._oldValue=this._property.value(),this._oldMode=this._priceScale.mode(),R(!0),this._priceScale.setMode({autoScale:!1,percentage:!1,log:!1}),this._property.setValue(this._newValue),R(!1),this._model&&(this._model.recalculateAllPanes(),this._model.lightUpdate())},o.prototype.undo=function(){R(!0),this._property.setValue(this._oldValue),this._priceScale.setMode(this._oldMode),R(!1),this._oldMode=null,this._model&&(this._model.recalculateAllPanes(),this._model.lightUpdate())},inherit(s,G),s.prototype.undo=function(){null===this.m_newPriceScaleState?(this.m_newPriceScaleState=this.m_priceScale.state(),this.m_model.restorePriceScaleState(this.m_pane,this.m_priceScale,this.m_state)):re.logDebug("PriceScaleChangeUndoCommand.undo: Command is already undone")},s.prototype.redo=function(){null!==this.m_newPriceScaleState?(this.m_model.restorePriceScaleState(this.m_pane,this.m_priceScale,this.m_newPriceScaleState),this.m_newPriceScaleState=null):re.logDebug("PriceScaleChangeUndoCommand.redo: Command is not undone")},inherit(a,G),a.prototype.redo=function(){this._model.modifySeries(this._series,this._symbol,this._interval)},a.prototype.undo=function(){this._model.modifySeries(this._series,this._oldSymbol,this._oldInterval)},inherit(l,G),l.prototype.undo=function(){var e=this,t=this._sourcesIds.map(function(t){return e._model.dataSourceForId(t)});this._shift<0&&t.reverse(),t.forEach(function(t){e._model.changeZOrder(t,-e._shift)})},l.prototype.redo=function(){var e=this,t=this._sourcesIds.map(function(t){return e._model.dataSourceForId(t)});this._shift>0&&t.reverse(),t.forEach(function(t){e._model.changeZOrder(t,e._shift)})},n.prototype.removePane=function(e){var t=this.m_model.panes()[e].dataSources().slice();this.removeSources(t,!1,"Remove pane")},inherit(c,G),c.prototype.redo=function(){this._timeScaleState=this._model.timeScale().state(),this._priceScaleState=this._pane.defaultPriceScale().state(),this._model.zoomToViewport(this._startBar,this._endBar,this._startPrice,this._endPrice,this._pane)},c.prototype.undo=function(){this._model.timeScale().restoreState(this._timeScaleState),this._pane.defaultPriceScale().restoreState(this._priceScaleState),this._model.recalculateAllPanes(),this._model.lightUpdate()},inherit(u,G),u.prototype.undo=function(){if(this._inOut){if(this._baseCmd!==this._zoomStack.head())return void re.logDebug("zoom stack inconsistency");this._baseCmd.undo(),this._zoomStack.pop()}else this._baseCmd.redo(),this._zoomStack.push(this._baseCmd)},u.prototype.redo=function(){if(this._inOut)this._baseCmd.redo(),this._zoomStack.push(this._baseCmd);else{if(this._baseCmd!==this._zoomStack.head())return void re.logDebug("zoom stack inconsistency");this._baseCmd.undo(),this._zoomStack.pop()}},inherit(h,G),h.prototype.redo=function(){var e=this._paneA._stretchFactor+this._paneB._stretchFactor;this._paneA._stretchFactor=this._currStretchA,
this._paneB._stretchFactor=e-this._currStretchA,this._model.fullUpdate()},h.prototype.undo=function(){var e=this._paneA._stretchFactor+this._paneB._stretchFactor;this._paneA._stretchFactor=this._prevStretchA,this._paneB._stretchFactor=e-this._prevStretchA,this._model.fullUpdate()},inherit(d,G),d.prototype._merge=function(e){R(!0),this._model.applyPreferences(e),R(!1)},d.prototype.redo=function(){this._merge(this._newProperties),this._model.mainSeries().onChartStyleChanged(),this._model.updateScales()},d.prototype.undo=function(){this._merge(this._oldProperties),this._model.mainSeries().onChartStyleChanged(),this._model.updateScales()},inherit(p,G),p.prototype._merge=function(e,t,i){var n=this._model;R(!0),e&&(n.properties().paneProperties.mergeAndFire(e.paneProperties),n.properties().scalesProperties.mergeAndFire(e.scalesProperties)),n.mainSeries().priceScale().setMode({autoScale:t.priceAxisProperties.autoScale,percentage:t.priceAxisProperties.percentage,log:t.priceAxisProperties.log,lockScale:t.priceAxisProperties.lockScale}),n.mainSeries().properties().mergeAndFire(t),n.mainSeries().properties().saveDefaults(),n.mainSeries().createPaneView(),n.mainSeries().invalidateBarStylesCache(),n._version=t.version,n.recalculateAllPanes(),n.fullUpdate(),n.properties().saveDefaults(),n.sessions().restoreState({properties:i}),R(!1)},p.prototype.undo=function(){this._merge(this._oldChartProps,this._oldSeriesProps,this._oldSessionsProps),this._model.mainSeries().onChartStyleChanged(),this._model.updateScales(),this._model.chartThemeLoaded()},p.prototype.redo=function(){this._merge(this._newChartProps,this._newSeriesProps,this._newSessionProps),this._model.mainSeries().onChartStyleChanged(),this._model.updateScales(),this._model.chartThemeLoaded()},inherit(f,G),f.prototype.redo=function(){this._cw.screen.show(),this._property.setValue(this._value,this._forceSetProperty)},f.prototype.undo=function(){this._cw.screen.show(),this._property.setValue(this._prevValue,this._forceSetProperty)},inherit(_,G),_.prototype.redo=function(){delete this._model.dataSourceForId(this._sourceId).linkKey},_.prototype.undo=function(){this._model.dataSourceForId(this._sourceId).linkKey=this._linkKey},inherit(m,G),m.prototype.redo=function(){var e,t,i,n,r,o,s,a=this._model.panes()[this._paneIndex],l=a.dataSourceForId(this._clipboardData.source.ownerSource)||a.mainDataSource();this._sourceState||(e=!0,this._clipboardData.source.state.symbol===((t=a.mainDataSource()).symbol?t.symbol():"")&&(l instanceof B&&(e=!1),l instanceof F&&(e=!l.metaInfo().is_price_study)),delete(i=TradingView.clone(this._clipboardData.source)).state.symbol,e?(n=this._model,r=function(e){var t=e.x*n.timeScale().width(),i=e.y*l.priceScale().height();return new v(t,i)},o=l.firstValue(),i.points=this._clipboardData.geometry.map(function(e){var t=r(e),i=n.timeScale().coordinateToIndex(t.x),s=n.timeScale().normalizeBarIndex(i);return s.price=l.priceScale().coordinateToPrice(t.y,o),s
})):this._model._id===this._clipboardData.modelId&&l.id()===this._clipboardData.source.ownerSource&&(i.points=function(e,t){var i,n,r,o,s=t.priceScale(),a=[],l=t.firstValue();for(i=0;i<e.length;i++)n={offset:e[i].offset,time_t:e[i].time_t},r=e[i].price,o=s.priceToCoordinate(r,l),o-=40,r=s.coordinateToPrice(o,l),n.price=r,a.push(n);return a}(this._clipboardData.source.points,l)),i.id=U.guid(),this._sourceState=i),(s=a._restoreLineTool(this._sourceState,null,!1)).calcIsActualSymbol(),s.setOwnerSource(l),s.setPriceScale(l.priceScale()),l.priceScale().addDataSource(s),s.createServerPoints(),this._model.lightUpdate(),this._source=s},m.prototype.undo=function(){var e;this._sourceState||re.logError("This command was never executed - nothing to undo"),e=this._model.panes()[this._paneIndex].dataSourceForId(this._sourceState.id),this._model.removeSource(e),this._source=null},m.prototype.source=function(){return this._source},inherit(g,G),g.prototype.redo=function(){var e,t,i,n;this._sourceState||((e=TradingView.clone(this._clipboardData.source)).id=U.guid(),this._sourceState=e),t=null,i=null,this._sourceState.metaInfo.is_price_study?(t=this._model.paneForSource(this._model.mainSeries()),i=this._model.mainSeries().priceScale()):i=(t=this._model.createPane()).defaultPriceScale(),(n=t._restoreStudy(this._sourceState)).metaInfo().linkedToSeries&&n.setOwnerSource(this._model.mainSeries()),n.start(),n.setPriceScale(i),t.move(n,i)},g.prototype.undo=function(){this._sourceState||re.logError("This command was never executed - nothing to undo");var e=this._model.dataSourceForId(this._sourceState.id);this._model.removeSource(e)},inherit(y,G),y.prototype.setPoint=function(e){this._point=e.clone(),this._handler(e)},y.prototype.point=function(){return this._point},y.prototype.undo=function(){this._handler(this._origPoint)},y.prototype.redo=function(){this._handler(this._point)},t.ChartUndoModel=n,t.PriceScaleChangeUndoCommand=s}).call(this,i("aIyQ"))},dJ3D:function(e,t,i){"use strict";(function(e){function t(e){function t(e){var t,i=["","KB","MB","GB","TB"];return 0===e?"0":(t=parseInt(Math.floor(Math.log(e)/Math.log(1024))),Math.round(e/Math.pow(1024,t),2)+i[t])}if(this._isAuthTokenLoaded=!1,this._authTokenDfd=null,this._notificationHandlers={},this._sessions={},this._dataHandleModule=null,this.studyCounter=0,this.childStudyCounter=0,this._sendingQueuedRequestsCount=0,this._pendingMessagesQueue=[],this._wasConnectedAtLeastOnce=!1,this._trafficStats={total:0,sinceConnect:0,lastChunk:0},this._wsBackendConnection=e,this._wsBackendConnection.onReconnect(this._bindSocketEvents.bind(this)),this._wsBackendConnection.setLogger(d,h.getLogHistory),this._wsBackendConnection.setTelemetry(V),this._bindSocketEvents(),this._lowQualityEnabled=!1,this._turnaroundPrefix=l(),this._turnaroundIndex=0,null===N){d.logInfo("Delayed loading protobuf handler after 6000ms"),setTimeout(this._loadProtobufHandler.bind(this),6e3)}else d.logInfo("Protobuf handler is loaded already");setInterval(function(){
v.logNormal("Last 30 seconds:"+t(this._trafficStats.lastChunk)+" Since last connect:"+t(this._trafficStats.sinceConnect)+" Total traffic:"+t(this._trafficStats.total)),this._trafficStats.lastChunk=0}.bind(this),3e4)}var n,r,o,s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x=i("x+tH").WSMode,I=!1,E=!1,L=Date.now()-3e5,A=i("7MZv").showTooManyStudiesNotice,O=i("XzZr"),M=O.ChartApiInterface,k=O.HandlerInfo,D=i("hGxK"),R=i("Wt0y"),V=i("xlbu").telemetry,B=i("i4z7"),N=null,F=i("Kxc7"),j=i("ePL1");i("iSkW"),n=i("NP3r").enabled,r=i("NP3r").getConfig,o=i("bKsZ").ProductFeatures,s=i("ogJP").requireFullInterfaceImplementation,a=i("+GxX").isFeatureEnabled,l=i("0waE").randomHash,c=i("pP4S").ResponseMethods,u=i("qFKp").isOnMobileAppPage,h=i("uOxu"),d=h.getLogger("ChartApi.Core",{color:"#706"}),p=h.getLogger("ChartApi.ChartSession",{color:"#706"}),f=h.getLogger("ChartApi.ChartSession",{highRate:!0,maxCount:100,color:"#706"}),_=h.getLogger("ChartApi.ChartSession",{maxCount:0,color:"#706"}),m=h.getLogger("ChartApi.ChartSession",{maxCount:50,color:"#706"}),g=h.getLogger("ChartApi.QuoteSession",{maxCount:50,color:"#660"}),y=h.getLogger("ChartApi.QuoteSession",{highRate:!0,maxCount:10,color:"#660"}),v=h.getLogger("ChartApi.TrafficMeter",{maxCount:20,color:"#268"}),b=i("rOif"),S=i("wnP7").exchanges,w=i("BlPY"),P=i("0UyP").getTracker,T=i("iWlB").BackendSessionEventType,C=Number(window.TELEMETRY_SERVER_TIME_DIFF_THRESHOLD)||3e3,t.prototype.defaultWatchlistSymbols=function(){var e=b[window.locale];return void 0===e&&(e=b.default),e},t.prototype.defaultResolutions=function(){var e=["1","3","5","15","30","45","60","120","180","240","1D","1W","1M","1000R","100R","10R","1R"];return!F.enabled("widget")&&a("seconds_bars")?["1S","5S","15S","30S"].concat(e):e},t.prototype.supportedSymbolsTypes=function(){return"bovespa"===TradingView.widgetCustomer?w.filter(function(e){return-1!==["","stock","futures","index"].indexOf(e.value)}):"cme"===TradingView.widgetCustomer?w.filter(function(e){return e.value!==j.types.QUANDL}):w},t.prototype.supportedExchangesList=function(){return S},t.prototype.futuresRegex=function(){return/^(.+?)([12]!|\w\d{4})?$/},t.prototype.enableLowQualityMode=function(){this._lowQualityEnabled=!0,this._sendLowQualityModeIfEnabled()},t.prototype._sendLowQualityModeIfEnabled=function(){this._lowQualityEnabled&&this.connected()&&this._sendRequest("set_data_quality",[])},t.prototype.setLoadNew=function(e){this._loadNewBars=!!e},t.prototype.quoteCreateSession=function(e){return this._sendRequest("quote_create_session",[e])},t.prototype.quoteDeleteSession=function(e){return this._sendRequest("quote_delete_session",[e])},t.prototype.quoteSetFields=function(e,t){return this._sendRequest("quote_set_fields",[e,t])},t.prototype.quoteAddSymbols=function(e,t){return this._sendRequest("quote_add_symbols",[e,t])},t.prototype.quoteRemoveSymbols=function(e,t){return this._sendRequest("quote_remove_symbols",[e,t])},t.prototype.quoteFastSymbols=function(e,t){return this._sendRequest("quote_fast_symbols",[e,t])},t.prototype.quoteHibernateAll=function(e){
return this._sendRequest("quote_hibernate_all",[e])},t.prototype.depthCreateSession=function(e,t,i){return this._sendRequest("depth_create_session",[e,t,i])},t.prototype.depthDeleteSession=function(e){return this._sendRequest("depth_delete_session",[e])},t.prototype.depthSetSymbol=function(e,t){return this._sendRequest("depth_set_symbol",[e,t])},t.prototype.depthClearSymbol=function(e){return this._sendRequest("depth_clear_symbol",[e])},t.prototype.depthSetScale=function(e,t){return this._sendRequest("depth_set_scale",[e,t])},t.prototype.chartCreateSession=function(e,t){return this._sendRequest("chart_create_session",[e,t])},t.prototype.chartDeleteSession=function(e){return this._sendRequest("chart_delete_session",[e])},t.prototype.createSession=function(e,t){this._sessions[e]=t,this._notificationHandlers[e]={},this.connected()&&this._isAuthTokenLoaded&&t.onMessage({method:"connected",params:[]})},t.prototype.removeSession=function(e){delete this._sessions[e],delete this._notificationHandlers[e]},t.prototype.connected=function(){return!!this._isConnected},t.prototype._bindSocketEvents=function(){var e=this;this.connectDfd=new Promise(function(t,i){e._wsBackendConnection.on("connect",function(){e._onConnect(),t()}),e._wsBackendConnection.on("message",e._onMessage.bind(e)),e._wsBackendConnection.on("disconnect",function(){e._authTokenDfd&&(e._authTokenDfd=null),delete e._isConnected,e.studyCounter=0,e._notifySessions({method:"disconnected",params:[]}),delete e._metadataCallback,e._disconnectCount=(e._disconnectCount||0)+1,e._wsBackendConnection.isConnected()&&(e._telemetryDisconnectTimeout=setTimeout(function(){V.sendChartReport("disconnect")},5e3),e._wsBackendConnection.isMaxReconnects()&&(e._notifySessions({method:"reconnect_bailout",params:[]}),i(),V.sendChartReport("reconnect_bailout")))})})},t.prototype.serverTimeOffset=function(){return this._serverTimeOffset?this._serverTimeOffset:0},t.disconnectReason=function(e){
return 1e3===e?"Normal closure, meaning that the purpose for which the connection was established has been fulfilled.":1001===e?'An endpoint is "going away", such as a server going down or a browser having navigated away from a page.':1002===e?"An endpoint is terminating the connection due to a protocol error":1003===e?"An endpoint is terminating the connection because it has received a type of data it cannot accept (e.g., an endpoint that understands only text data MAY send this if it receives a binary message).":1004===e?"Reserved. The specific meaning might be defined in the future.":1005===e?"No status code was actually present.":1006===e?"The connection was closed abnormally, e.g., without sending or receiving a Close control frame":1007===e?"An endpoint is terminating the connection because it has received data within a message that was not consistent with the type of the message (e.g., non-UTF-8 [http://tools.ietf.org/html/rfc3629] data within a text message).":1008===e?'An endpoint is terminating the connection because it has received a message that "violates its policy". This reason is given either if there is no other sutible reason, or if there is a need to hide specific details about the policy.':1009===e?"An endpoint is terminating the connection because it has received a message that is too big for it to process.":1010===e?"An endpoint (client) is terminating the connection because it has expected the server to negotiate one or more extension, but the server didn't return them in the response message of the WebSocket handshake. <br /> Specifically, the extensions that are needed are: "+event.reason:1011===e?"A server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request.":1015===e?"The connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified).":"Unknown reason"},t.prototype._getAuthTokenDfd=function(e){var t,i,n;if(this._loadNewBars)return Promise.resolve("load_new_token")
;if(F.enabled("widget")||-1!==window.location.search.indexOf("widget_token")||-1!==window.location.hash.indexOf("widget_token"))return-1!==(t=window.TradingView&&window.TradingView.widgetCustomer||"").indexOf("smartlab")?Promise.resolve("widget_user_token-smartlab"):"seekingalpha"===t?Promise.resolve("widget_user_token-seekingalpha"):"abrilcombr"===t?Promise.resolve("widget_user_token-abrilcombr"):"agencialbmcombr"===t?Promise.resolve("widget_user_token-agencialbmcombr"):"bovespa"===t?Promise.resolve("widget_user_token-bmfbovespacombr"):"belugagroupru"===t?Promise.resolve("widget_user_token-belugagroupru"):"elespanolcom"===t?Promise.resolve("widget_user_token-elespanolcom"):"euqueroinvestir"===t?Promise.resolve("widget_user_token-euqueroinvestircom"):"healthitalia"===t?Promise.resolve("widget_user_token-healthitalia"):"hegnarno"===t?Promise.resolve("widget_user_token-hegnarno"):"investopedia"===t?Promise.resolve("widget_user_token-investopedia"):"ivsgroup"===t?Promise.resolve("widget_user_token-ivsgroup"):"marcopolocombr"===t?Promise.resolve("widget_user_token-marcopolocombr"):"moneytimescombr"===t?Promise.resolve("widget_user_token-moneytimescombr"):"recrusulcombr"===t?Promise.resolve("widget_user_token-recrusulcombr"):"seudinheiro"===t?Promise.resolve("widget_user_token-seudinheiro"):"sgcompanyit"===t?Promise.resolve("widget_user_token-sgcompanyit"):"sharejunction"===t?Promise.resolve("widget_user_token-sharejunction"):"spacemoneycombr"===t?Promise.resolve("widget_user_token-spacemoneycombr"):"thetradersnet"===t?Promise.resolve("widget_user_token-thetradersnet"):"toroinvestimentoscombr"===t?Promise.resolve("widget_user_token-toroinvestimentoscombr"):Promise.resolve("widget_user_token");if(u("any")){if(!window.is_authenticated)return Promise.resolve("widget_user_token-mobile-app");if(window.shopConf&&!window.user.is_pro&&!window.shopConf.offers.length)return Promise.resolve("widget_user_token-mobile-app-free")}return window.is_authenticated?((i=this)._authTokenManager||(n=new D,i._authTokenManager=n,i._authTokenManager.invalidated.subscribe(null,function(e){i._authTokenManager.get().then(function(e){e&&i.connected()&&i._sendRequest("set_auth_token",[e])})})),i._authTokenManager.get(e)):Promise.resolve("unauthorized_user_token")},t.prototype._onConnect=function(){var e,t,i,n,r,o,s;if(!this.connected()&&(this._trafficStats.sinceConnect=0,this._isAuthTokenLoaded=!1,e=this,this._connectOnlyOptions=this._connectOnlyOptions||{},this._authTokenDfd=this._getAuthTokenDfd(this._connectOnlyOptions.tokenGrabSession),this._connectOnlyOptions={},t=this._wsBackendConnection.getConnectionStart(),i=this._wsBackendConnection.getConnectionDuration(),this._changeHandlerToJson(),this.sessionid=this._wsBackendConnection.getSessionId(),this.sessionid&&!this._isConnected)){this._pendingMessagesQueue=[],this._sendingQueuedRequestsCount=0,this._isConnected=!0,n=JSON.parse(this.sessionid),r=this._wasConnectedAtLeastOnce?T.Reconnect:T.Connect,this._wasConnectedAtLeastOnce=!0,P().then(function(e){null!==e&&e.trackBackendSession(r,n.session_id)
}),this._sendLowQualityModeIfEnabled(),this._switchWSProtocol(),this._metadataServerHash=n.studies_metadata_hash||null;try{o=n.timestamp-(new Date).valueOf()/1e3,this._serverTimeOffset=o}catch(e){this._serverTimeOffset=0}d.logInfo("Time shift with server:"+Math.round(this._serverTimeOffset)+" seconds."),this._authTokenDfd?(this._sendingQueuedRequestsCount+=1,d.logInfo("Wait for auth token before send messages"),(s=this._authTokenDfd).then(function(t){null!==e._authTokenDfd&&e._authTokenDfd===s?(d.logNormal("Auth token request is finished, token: "+Boolean(t)),e._authTokenDfd=null,t&&e._pendingMessagesQueue.unshift({method:"set_auth_token",args:[t]}),e._onSendingQueueRequestFinished(),e._isAuthTokenLoaded=!0,e._notifySessions({method:"connected",params:[]})):d.logNormal("Comes auth token after requesting new token or after socket disconnected")}).catch(function(){d.logNormal("Requesting auth token is failed")})):(d.logWarn("Deferred auth token object is not valid"),this._isAuthTokenLoaded=!0),TradingView.WEB_SOCKET_WAS_CONNECTED=!0,V.setSessionInfo(this.sessionid),V.sendChartReport("websocket_connected"),V.sendChartReport("websocket_connection_time_frame",{value:i}),V.timeCounters.series.wsConnected=t+i,V.sendChartReport("reconnect_count_frame",{value:this._wsBackendConnection.getReconnectCount()}),V.sendChartReport("redirect_count_frame",{value:this._wsBackendConnection.getRedirectCount()}),!E&&window.performance&&window.performance.timing&&window.performance.timing.requestStart>L&&(E=!0,V.sendChartReport("before_websocket_connection_time_frame",{value:t-window.performance.timing.requestStart})),this._wsBackendConnection.resetCounters(),clearTimeout(this._telemetryDisconnectTimeout)}},t.prototype.connect=function(e){this._connectOnlyOptions=e,this._wsBackendConnection.isConnected()||this._wsBackendConnection.isConnecting()||this._wsBackendConnection.connect()},t.prototype.disconnect=function(e){return this._wsBackendConnection.disconnect(),!0},t.prototype.switchTimezone=function(e,t){return this._sendRequest("switch_timezone",[e,t])},t.prototype.resolveSymbol=function(e,t,i,n){return V.timeCounters.series["resolve_symbol_"+e]=Date.now(),this._notificationHandlers[e][t]=new k(n,t),this._sendRequest("resolve_symbol",[e,t,i])},t.prototype.createSeries=function(e,t,i,n,r,o,s){return this._notificationHandlers[e][t]=new k(s,t),V.timeCounters.series.marks.push("create_series_"+e),this._sendRequest("create_series",[e,t,i,n,r,o])},t.prototype.removeSeries=function(e,t,i){return this._notificationHandlers[e][t]=new k(i,t),this._sendRequest("remove_series",[e,t])},t.prototype.modifySeries=function(e,t,i,n,r,o){return this._notificationHandlers[e][t]=new k(o,t),this._sendRequest("modify_series",[e,t,i,n,r])},t.prototype.requestMoreData=function(e,t,i,n){return this._notificationHandlers[e][t]=new k(n,t),this._sendRequest("request_more_data",[e,t,i])},t.prototype.requestMetadata=function(e,t,i){var n,r,o,s,a=this;a._metadataCallback?a._metadataCallback.handlers.push(i):(n=F.enabled("widget"),
r=n?"studies_metadata_widget":"studies_metadata",o="pro_hash",s=[],a._metadataCallback=function(e){var t;for(a._metadataCallback=null,TVLocalForage.setItem(r,TradingView.clone(e)).then(function(){if(d.logNormal("Updated studies_metadata cache"),!n){var e=pro.hash();TVLocalForage.setItem(o,TradingView.clone(e)).then(function(){d.logNormal("Updated pro_hash cache")}).catch(function(e){d.logError("Cannot update pro_hash cache, reason: "+e)})}}).catch(function(e){d.logError("Cannot update studies_metadata cache, reason: "+e)}),t=0;t<s.length;t++)(0,s[t])(TradingView.clone(e))},a._metadataCallback.handlers=s,a._metadataCallback.handlers.push(i),d.logNormal("Requesting pro hash"),TVLocalForage.getItem(o).then(function(i){var o=pro.hash();null!==i&&i===o||n?(d.logNormal("Pro hash has not changed, requesting from local"),TVLocalForage.getItem(r).then(function(i){var n,r=null!==i&&i.params[1].hash||null;if(null===r||null===a._metadataServerHash||a._metadataServerHash!==r)return d.logNormal("Metadata hash has changed (cached:'"+r+"', server:'"+a._metadataServerHash+"'')"),void a._requestMetadataFromServer(e,t,a._metadataCallback);if(pro.hasPackage("tv-volumebyprice")&&void 0===i.params[1].metainfo.find(function(e){return e.id.includes("@tv-volumebyprice")}))return d.logNormal("De-sync detected! pro.hash contains VbPR studies, but data from cache doesn't and pro.hash isn't changed, pro.hash="+o),void a._requestMetadataFromServer(e,t,a._metadataCallback);if(d.logNormal("Using studies_metadata from browser cache"),a._metadataCallback){for(n=0;n<a._metadataCallback.handlers.length;n++)(0,a._metadataCallback.handlers[n])(TradingView.clone(i));a._metadataCallback=null}else d.logWarn("Cached metadata received, but callback expired")}).catch(function(i){d.logError("Cannot get studies_metadata, reason: "+i),a._requestMetadataFromServer(e,t,a._metadataCallback)})):(d.logNormal("Pro hash has changed (cached: '"+i+"', current:'"+o+"')"),a._requestMetadataFromServer(e,t,a._metadataCallback))}).catch(function(i){d.logError("Cannot get studies_metadata, reason: "+i),a._requestMetadataFromServer(e,t,a._metadataCallback)}))},t.prototype.authTokenManager=function(){return this._authTokenManager},t.prototype._requestMetadataFromServer=function(e,t,i){return!!i&&(d.logNormal("Request studies_metadata from server"),this._notificationHandlers[e][t]=new k(i,t),this._sendRequest("request_studies_metadata",[e,t]))},t.prototype.isCanCreateStudy=function(e,t){if(!n(o.STUDY_ON_STUDY))return!1;var i=r(o.STUDY_ON_STUDY);return!0===e?this.childStudyCounter<i.child_limit:this.studyCounter<i.limit},t.prototype.createStudy=function(e,t,i,n,r,o,s,a){if(!this.isCanCreateStudy())return A(),!1;this._notificationHandlers[e][t]=new k(s,t);var l=this._sendRequest(!0===a?"create_child_study":"create_study",[e,t,i,n,r,o]);return!1!==l&&(this.studyCounter++,a&&this.childStudyCounter++,l)},t.prototype.rebindStudy=function(e,t,i,n,r,o,s,a){if(a===M.REBIND_STUDY_STANDALONE_TO_CHILD){if(!this.isCanCreateStudy(!0))return!1;this.childStudyCounter++
}else a===M.REBIND_STUDY_CHILD_TO_STANDALONE&&this.childStudyCounter--;return i=i||"",this._notificationHandlers[e][t]=new k(s,t),this._sendRequest("child_study_rebind",[e,t,i,n,r,o]),!0},t.prototype.removeStudy=function(e,t,i,n){this._notificationHandlers[e][t]=new k(i,t);var r=this._sendRequest("remove_study",[e,t]);return!1!==r&&(this.studyCounter--,n&&this.childStudyCounter--,r)},t.prototype.modifyStudy=function(e,t,i,n,r){return this._notificationHandlers[e][t]=new k(r,t),this._sendRequest("modify_study",[e,t,i,n])},t.prototype.createPointset=function(e,t,i,n,r,o,s){return this._notificationHandlers[e][t]=new k(s,t),this._sendRequest("create_pointset",[e,t,i,n,r,o])},t.prototype.modifyPointset=function(e,t,i,n,r){return this._notificationHandlers[e][t]=new k(r,t),this._sendRequest("modify_pointset",[e,t,i,n])},t.prototype.removePointset=function(e,t,i){return this._notificationHandlers[e][t]=new k(i,t),this._sendRequest("remove_pointset",[e,t])},t.prototype.requestMoreTickmarks=function(e,t,i,n){return this._notificationHandlers[e][t]=new k(n,t),this._sendRequest("request_more_tickmarks",[e,t,i])},t.prototype.requestFirstBarTime=function(e,t,i,n){return this._notificationHandlers[e][t]=new k(n,t),this._sendRequest("get_first_bar_time",[e,t,i])},t.prototype._generateNextTurnaround=function(){var e=this._turnaroundPrefix+this._turnaroundIndex;return this._turnaroundIndex+=1,e},t.prototype.replayCreateSession=function(e){return this._sendRequest("replay_create_session",[e])},t.prototype.replayDeleteSession=function(e){return this._sendRequest("replay_delete_session",[e])},t.prototype.replayReset=function(e,t,i){var n=this._generateNextTurnaround();return this._notificationHandlers[e][n]=new k(i,n),this._sendRequest("replay_reset",[e,n,t])},t.prototype.replayStart=function(e,t,i){var n=this._generateNextTurnaround();return this._notificationHandlers[e][n]=new k(i,n),this._sendRequest("replay_start",[e,n,t])},t.prototype.replayStop=function(e,t){var i=this._generateNextTurnaround();return this._notificationHandlers[e][i]=new k(t,i),this._sendRequest("replay_stop",[e,i])},t.prototype.replayStep=function(e,t,i){var n=this._generateNextTurnaround();return this._notificationHandlers[e][n]=new k(i,n),this._sendRequest("replay_step",[e,n,t])},t.prototype.replayAddSeries=function(e,t,i,n){var r=this._generateNextTurnaround();return this._notificationHandlers[e][r]=new k(n,r),this._sendRequest("replay_add_series",[e,r,t,i])},t.prototype.replayRemoveSeries=function(e,t,i,n){var r=this._generateNextTurnaround();return this._notificationHandlers[e][r]=new k(n,r),this._sendRequest("replay_remove_series",[e,r,t,i])},t.prototype.replaySetResolution=function(e,t,i){var n=this._generateNextTurnaround();return this._notificationHandlers[e][n]=new k(i,n),this._sendRequest("replay_set_resolution",[e,n,t])},t.prototype.redirectCount=function(){return this._wsBackendConnection.getRedirectCount()},t.prototype.disconnectCount=function(){return this._disconnectCount||0},t.prototype._loadProtobufHandler=function(){
d.logInfo("Start loading protobuf handler"),i.e("protobuf-handler").then(function(e){N=i("lxLC"),d.logInfo("Protobuf handler loaded."),this.connected()&&this._switchWSProtocol()}.bind(this).bind(null,i)).catch(i.oe)},t.prototype._switchWSProtocol=function(){var e,t=!0;this._wsBackendConnection.usesCompression()?(t=!1,d.logInfo("stay on json because the connection uses compression")):a("protobuf-maintenance")?(t=!1,d.logInfo("stay on json because of protobuf maintenance")):null===N&&(t=!1,d.logInfo("stay on json because of no alternatives")),t?(this._sendingQueuedRequestsCount+=1,e=JSON.stringify({m:"switch_protocol",p:["protobuf"]}),this._wsBackendConnection.send(e),d.logInfo("Send command to switch protocol to protobuf. Wait response before send other messages...")):this._changeHandlerToJson()},t.prototype._changeHandlerToProtobuf=function(){this._protocol="protobuf",this._dataHandleModule=new N,this._wsBackendConnection.switchWebsocketMode(x.Binary)},t.prototype._changeHandlerToJson=function(){this._protocol="json",this._dataHandleModule=new B,this._wsBackendConnection.switchWebsocketMode(x.Text)},t.prototype._invokeHandler=function(e,t){e&&e(t)},t.prototype._flushPendingMessages=function(){d.logInfo("Flush pending messages. Count="+this._pendingMessagesQueue.length),this._pendingMessagesQueue.forEach(function(e){this._sendRequest(e.method,e.args)},this),this._pendingMessagesQueue=[]},t.prototype._sendRequest=function(e,t){var i,n,r,o,s,a,l,c;return 0!==this._sendingQueuedRequestsCount?(this._pendingMessagesQueue.push({method:e,args:t}),!0):(n={m:e,p:i=this._dataHandleModule[e].apply(this._dataHandleModule,t)},["create_study","child_study_rebind","create_child_study","modify_study"].includes(e)&&n.p.inputs?(r=JSON.parse(n.p.inputs.readString(n.p.inputs.remaining(),"b")),n.p.inputs.clear(),(o=Object.assign({},n.p)).inputs=r,s={m:e,p:o},a=JSON.stringify(s)):a=JSON.stringify(n),("json"===this._protocol?i.length>0:i.session)?(l="json"===this._protocol?i[0]:i.session).startsWith("qs_")?g.logNormal("send: "+a):l.startsWith("cs_")&&p.logNormal("send: "+a):d.logNormal("send: "+a),c=this._dataHandleModule.prepareEncodeMessage(e,i),this._wsBackendConnection.send(c))},t.prototype._onMessage=function(e){this._calcTrafficStats(e);var t=this.unpack(e);if("protocol_switched"===t.method&&t.params[0]!==this._protocol)return d.logInfo("Protocol changing accepted. Change handler and try flush queue"),this._changeHandlerToProtobuf(),void this._onSendingQueueRequestFinished();this._dispathNotification(t,e)},t.prototype._onSendingQueueRequestFinished=function(){this._sendingQueuedRequestsCount-=1,d.logInfo("Sending queue request finished. Remaining pending requests="+this._sendingQueuedRequestsCount),this._sendingQueuedRequestsCount<0&&d.logError("Invalid queue state="+this._sendingQueuedRequestsCount),0===this._sendingQueuedRequestsCount&&this._flushPendingMessages()},t.prototype._convertTimescaleResponse=function(e){return this._dataHandleModule.convertTimescaleResponse(e)},t.prototype._appendDuration=function(e,t){
return e?t+", duration: "+Math.round(Date.now()/1e3-e+this._serverTimeOffset)+"s":t},t.prototype._dispathNotification=function(e,t){var i,n,r,o,s,a,l,u,v,b,S,w,P,T,x,E=e.params.shift();if(this._notificationHandlers[E])switch(i=e.params[0],"symbol_resolved"===e.method&&(n=e.params[1].full_name,V.sendChartReport("symbol_resolved",{count:1,additional:{symbol:n}}),"number"==typeof(r=V.timeCounters.series["resolve_symbol_"+E])&&(o=Date.now()-r,(s=e.params[e.params.length-1])&&(l=(a=Math.round(1e3*(s-this.serverTimeOffset()))-r)>0&&o-a>=C,V.sendChartReport("symbol_resolve_server_time_frame",{value:l?a:o,additional:{symbol:n}})),V.sendChartReport("symbol_resolve_time_frame",{value:o,additional:{symbol:n}}))),["series_error","series_completed"].includes(e.method)&&V.timeCounters.series.marks.length>0&&(u="create_series_"+E,(v=V.timeCounters.series.marks.indexOf(u))>=0&&V.timeCounters.series.marks.splice(v,1)),V.timeCounters.series.wsConnected&&"series_error"===e.method&&0===V.timeCounters.series.marks.length&&delete V.timeCounters.series.wsConnected,V.timeCounters.series.wsConnected&&"series_completed"===e.method&&(V.sendChartReport("first_series_full_time_frame",{value:Date.now()-V.timeCounters.series.wsConnected}),delete V.timeCounters.series.wsConnected,V.timeCounters.series.marks=[],!I&&window.performance&&window.performance.timing&&window.performance.timing.requestStart>L&&(I=!0,V.sendChartReport("page_full_load_time_frame",{value:Date.now()-window.performance.timing.requestStart}))),E.startsWith("cs_")&&(b="recv: "+("json"===this._protocol?t:JSON.stringify({m:e.m,s:E,p:e.p})),"data_update"===e.method?(b=h.isHighRateEnabled()?b:b.slice(0,500),f.logNormal(this._appendDuration(e.time,b))):"study_loading"===e.method?_.logNormal(this._appendDuration(e.time,b)):"tickmark_update"===e.method?m.logNormal(this._appendDuration(e.time,b)):p.logNormal(this._appendDuration(e.time,b))),E.startsWith("qs_")&&("quote_symbol_data"===e.method?y.logNormal:g.logNormal)("recv: "+("json"===this._protocol?t:JSON.stringify({m:e.m,s:E,p:e.p}))),e.method){case"timescale_update":S=this._dataHandleModule.getTimescaleObjects(e),w=this._dataHandleModule.getTimescaleChangeset(e),(P=this._convertTimescaleResponse(w)).clear=0===P.changes.length&&0===P.index_diff.length&&0===P.marks.length,this._sessions[E].onMessage({method:"timescale_update",params:P}),this._dataHandleModule.prepareDataUpdateObjects(E,S,function(e,t,i){this._invokeNotificationHandler(e,t,i)}.bind(this));break;case"tickmark_update":(P=this._convertTimescaleResponse(e.params[0])).changes=[],this._sessions[E].onMessage({method:"timescale_update",params:P});break;case"data_update":S=this._dataHandleModule.getDataUpdateObjects(e),this._dataHandleModule.prepareDataUpdateObjects(E,S,function(e,t,i){this._invokeNotificationHandler(e,t,i)}.bind(this));break;case"index_update":for(T in e.params[0])x={method:"index_update",params:e.params[0][T]},this._invokeNotificationHandler(E,T,x);break;case"critical_error":d.logInfo(new Date+" critical_error session:"+this.sessionid+" reason:"+e.params[0]),
V.sendChartReport("critical_error"),this._sessions[E].onMessage({method:"critical_error",params:e.params});break;case"quote_symbol_data":case"quote_list_fields":case"depth_symbol_error":case"depth_symbol_success":case"dd":case"dpu":case"depth_bar_last_value":this._sessions[E].onMessage({method:e.method,params:e.params});break;case c.point:case c.resolutions:case c.endOfData:case c.instanceId:this._sessions[E].onMessage(e);break;default:this._invokeNotificationHandler(E,i,e)}},t.prototype._isStrategy=function(e,t){var i=this._notificationHandlers[e][t];return i&&i.handler&&i.handler.isTVScriptStrategy},t.prototype._invokeNotificationHandler=function(e,t,i){if(void 0!==t){var n=this._notificationHandlers[e][t];"series_deleted"!==i.method&&"study_deleted"!==i.method&&0!==i.method.indexOf("replay_")||delete this._notificationHandlers[e][t],void 0!==n&&this._invokeHandler(n.handler,i)}},t.prototype._notifySessions=function(e){var t,i;for(t in this._sessions){if(!this._sessions.hasOwnProperty(t))return;"function"==typeof(i=this._sessions[t]).onMessage&&i.onMessage(e)}},t.prototype.unpack=function(e){return this._dataHandleModule.unpack(e)},t.prototype._symbolSearchRequest=null,t.prototype.searchSymbols=function(e,t,i,n,r,o,s,a,l,c){function u(){var e=(new Date).getTime()-m;V.sendChartReport("symbol_search_time_frame",{value:e})}function h(){u(),V.sendChartReport("symbol_search_http_error"),g._symbolSearchRequest=null}var d,p,f,_,m,g=this;this._symbolSearchRequest&&this._symbolSearchRequest.abort(),d=location.protocol+"//"+window.SS_HOST,R.isProd()?d+="/symbol_search/":d+="/local_search/",window.SS_URL&&(d=window.SS_URL),p={text:e,exchange:t,type:i,hl:r,lang:n},window.SS_DOMAIN_PARAMETER&&(p.domain=window.SS_DOMAIN_PARAMETER),o&&(p.strict=1),i===j.types.QUANDL&&(d="https://quandlapi.tradingview.com/api/v3/datasets.json",p={query:e,database_code:t}),s&&(p.broker=s,a&&(p.tradable=!0),l&&(p.unhide=l)),f=Object.keys(p).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(p[e])}).join("&"),(_=new XMLHttpRequest).open("GET",d+"?"+f),m=(new Date).getTime(),_.addEventListener("load",function(){var e=JSON.parse(_.responseText);c&&c(e),u(),V.sendChartReport("symbol_search_http_status",{value:_.status}),g._symbolSearchRequest=null}),_.addEventListener("error",h),_.addEventListener("timeout",h),this._symbolSearchRequest=_,_.send()},t.prototype.getMarks=function(e,t,i,n,r){throw Error("This method is not implemented")},t.prototype.getTimescaleMarks=function(e,t,i,n,r){throw Error("This method is not implemented")},t.prototype.getPingInfo=function(){return this._wsBackendConnection.getPingInfo()},t.prototype._calcTrafficStats=function(e){var t="protobuf"===this._protocol?e.byteLength:e.length;this._trafficStats.total+=t,this._trafficStats.sinceConnect+=t,this._trafficStats.lastChunk+=t},s(t,"TVChartApi",M,"ChartApiInterface"),window.ChartApiInstance=new t(window.WSBackendConnection),e&&e.exports&&(e.exports=t)}).call(this,i("YuTi")(e))},dTSQ:function(e,t,i){"use strict";function n(e){
return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}i.r(t),i.d(t,"regExpEscape",function(){return n})},dUDn:function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"StandardPivotPointsPriceAxisView",function(){return s}),n=i("mrSG"),r=i("KcY8"),o=["P","S1","R1","S2","R2","S3","R3","S4","R4","S5","R5"],s=function(e){function t(t,i){var n,r=e.call(this)||this;return r._source=t,r._data=i,n=i.name,r._completeName="P"===n.toUpperCase()?"P":"S"+n[1]+"/R"+n[1],r}return Object(n.__extends)(t,e),t.prototype._updateRendererData=function(e,t,i){var n,r,s,a,l,c,u,h;e.visible=!1,t.visible=!1,(n=this._source.properties()).visible.value()&&(r=this._completeName,(s=n.levelsStyle.visibility)[r]&&s[r].value()&&(a=this._source.model().timeScale(),l=this._source.priceScale(),a.isEmpty()||null===a.visibleBarsStrictRange()||null!==l&&l.isEmpty()||(c=this._source.customData())&&c.pivots&&(u=this._source.pricesView().prices()[o.indexOf(this._data.name.toUpperCase())])&&(i.background=u.color,i.color=this.generateTextColor(u.color),i.coordinate=u.coordinate,i.floatCoordinate=u.floatCoordinate,(h=this._source.model().properties().scalesProperties).showStudyLastValue.value()&&(e.text=u.formatted,e.visible=!0),h.showStudyPlotLabels.value()&&(t.text=this._source.priceLabelText(this._data.name),t.visible=!0))))},t}(r.a)},dfhE:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V;i.r(t),i.d(t,"STATUS_OFFLINE",function(){return s}),i.d(t,"STATUS_RESOLVING",function(){return a}),i.d(t,"STATUS_LOADING",function(){return l}),i.d(t,"STATUS_READY",function(){return c}),i.d(t,"STATUS_INVALID_SYMBOL",function(){return u}),i.d(t,"STATUS_SNAPSHOT",function(){return h}),i.d(t,"STATUS_EOD",function(){return d}),i.d(t,"STATUS_PULSE",function(){return p}),i.d(t,"STATUS_DELAYED",function(){return f}),i.d(t,"STATUS_DELAYED_STREAMING",function(){return _}),i.d(t,"STATUS_NO_BARS",function(){return m}),i.d(t,"STATUS_REPLAY",function(){return g}),i.d(t,"SERIES_STATUS_TEXT",function(){return y}),i.d(t,"STYLE_LINE_TYPE_MARKERS",function(){return v}),i.d(t,"STYLE_LINE_TYPE_STEP",function(){return b}),i.d(t,"STYLE_LINE_TYPE_SIMPLE",function(){return S}),i.d(t,"STYLE_BARS",function(){return w}),i.d(t,"STYLE_CANDLES",function(){return P}),i.d(t,"STYLE_LINE",function(){return T}),i.d(t,"STYLE_AREA",function(){return C}),i.d(t,"STYLE_RENKO",function(){return x}),i.d(t,"STYLE_KAGI",function(){return I}),i.d(t,"STYLE_PNF",function(){return E}),i.d(t,"STYLE_PB",function(){return L}),i.d(t,"STYLE_HEIKEN_ASHI",function(){return A}),i.d(t,"STYLE_HOLLOW_CANDLES",function(){return O}),i.d(t,"STYLE_BASELINE",function(){return M}),i.d(t,"STYLE_RANGE",function(){return k}),i.d(t,"STYLE_HILO",function(){return D}),i.d(t,"STYLE_SHORT_NAMES",function(){return R}),i.d(t,"SYMBOL_STRING_DATA",function(){return V}),a=1,l=2,c=3,u=4,h=5,d=6,p=7,f=8,_=9,m=10,g=11,(n={})[s=0]="connecting",n[a]="loading",n[l]="loading",n[c]="realtime",n[u]="invalid",n[h]="snapshot",n[d]="endofday",n[p]="endofday",n[f]="delayed",n[_]="delayed_streaming",n[m]="forbidden",
n[g]="replay",y=n,v=0,b=1,S=2,w=0,P=1,T=2,C=3,x=4,I=5,E=6,L=7,A=8,O=9,M=10,k=11,D=12,(r={})[0]="bar",r[1]="candle",r[9]="hollowCandle",r[2]="line",r[3]="area",r[4]="renko",r[7]="pb",r[5]="kagi",r[6]="pnf",r[8]="ha",r[10]="baseline",r[11]="range",r[12]="hilo",R=r,(o={})[4]={type:"BarSetRenko@tv-prostudies",basicStudyVersion:40},o[7]={type:"BarSetPriceBreak@tv-prostudies",basicStudyVersion:34},o[5]={type:"BarSetKagi@tv-prostudies",basicStudyVersion:34},o[6]={type:"BarSetPnF@tv-prostudies",basicStudyVersion:34},o[8]={type:"BarSetHeikenAshi@tv-basicstudies",basicStudyVersion:60},o[11]={type:"BarSetRange@tv-basicstudies",basicStudyVersion:72},V=o},di4O:function(e,t,i){"use strict";function n(){var e,t,i=a.getJSON(u),n=Object.assign({},h,i);return void 0===i&&(void 0!==a.getJSON("chartproperties")&&void 0!==(e=a.getJSON("chartproperties").symbolWatermarkProperties)&&(t=Object(s.tryParseRgba)(e.color),n=Object.assign(n,e),null!==t&&(0!==t[3]?n.visibility=!0:(t[3]=.25,n.color=Object(s.rgbaToString)(t)))),delete n.transparency),n}function r(){return null===d&&(d=new c.a(n()),a.onSync.subscribe(null,function(){null!==d&&d.mergeAndFire(n())}),d.listeners().subscribe(null,function(){null!==d&&a.setJSON(u,d.state())})),d}function o(){null!==d&&d.mergeAndFire(h)}var s,a,l,c,u,h,d;i.r(t),i.d(t,"watermarkProperty",function(){return r}),i.d(t,"restoreWatermarkPropertyDefaults",function(){return o}),s=i("eJTA"),a=i("Vdly"),l=i("tc+8"),c=i.n(l),u="symbolWatermark",h={visibility:!1,color:"rgba(80, 83, 94, 0.25)"},d=null},dm8g:function(e,t,i){"use strict";function n(e){return e+"_"+(window.user&&window.user.username||"")}function r(e){return Object(s.fetch)("/u/sync/",{credentials:"same-origin"}).then(function(e){return e.json()},function(e){c.logError(e)}).then(function(t){t.is_authenticated!==window.is_authenticated&&(window.is_authenticated=t.is_authenticated,Object(l.trackEvent)("Sync User Data","Different Auth",n(e))),t.pro_plan!==window.user.pro_plan&&(window.user.pro_plan=t.pro_plan,t.pro_plan||(window.user.is_pro=void 0),Object(l.trackEvent)("Sync User Data","Different Pro Plan",n(e)))})}var o,s,a,l,c;i.r(t),i.d(t,"syncUserData",function(){return r}),o=i("bSeV"),s=i("BHQF"),a=i("uOxu"),l=i("PC8g"),c=Object(a.getLogger)("User.Sync")},e1ZQ:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h,d,p,f,_,m;i.r(t),i.d(t,"dateFormatFunctions",function(){return f}),i.d(t,"availableDateFormats",function(){return _}),i.d(t,"defaultDateFormat",function(){return m}),n=i("YFKU"),r=i("kcTO"),o={1:n.t("Jan"),2:n.t("Feb"),3:n.t("Mar"),4:n.t("Apr"),5:n.t("May"),6:n.t("Jun"),7:n.t("Jul"),8:n.t("Aug"),9:n.t("Sep"),10:n.t("Oct"),11:n.t("Nov"),12:n.t("Dec")},s=function(e,t){return(t?e.getMonth():e.getUTCMonth())+1},a=function(e,t){return t?e.getDate():e.getUTCDate()},l=function(e,t){return t?e.getFullYear():e.getUTCFullYear()},c=function(e,t){return Object(r.numberToStringWithLeadingZero)(a(e,t),2)},u=function(e,t){return o[s(e,t)]},h=function(e,t){return Object(r.numberToStringWithLeadingZero)(s(e,t),2)},d=function(e,t){
return Object(r.numberToStringWithLeadingZero)(l(e,t)%100,2)},p=function(e,t){return Object(r.numberToStringWithLeadingZero)(l(e,t),4)},f={"dd MMM 'yy":function(e,t){return c(e,t)+" "+u(e,t)+" '"+d(e,t)},"MMM dd":function(e,t){return u(e,t)+" "+c(e,t)},"yyyy-MM-dd":function(e,t){return p(e,t)+"-"+h(e,t)+"-"+c(e,t)},"yy-MM-dd":function(e,t){return d(e,t)+"-"+h(e,t)+"-"+c(e,t)},"yy/MM/dd":function(e,t){return d(e,t)+"/"+h(e,t)+"/"+c(e,t)},"yyyy/MM/dd":function(e,t){return p(e,t)+"/"+h(e,t)+"/"+c(e,t)},"dd-MM-yyyy":function(e,t){return c(e,t)+"-"+h(e,t)+"-"+p(e,t)},"dd-MM-yy":function(e,t){return c(e,t)+"-"+h(e,t)+"-"+d(e,t)},"dd/MM/yy":function(e,t){return c(e,t)+"/"+h(e,t)+"/"+d(e,t)},"dd/MM/yyyy":function(e,t){return c(e,t)+"/"+h(e,t)+"/"+p(e,t)},"MM/dd/yy":function(e,t){return h(e,t)+"/"+c(e,t)+"/"+d(e,t)},"MM/dd/yyyy":function(e,t){return h(e,t)+"/"+c(e,t)+"/"+p(e,t)}},_=Object.keys(f),m=function(){return-1!==["ja","ko","zh","zh_TW"].indexOf(window.language||"")?"yyyy-MM-dd":"dd MMM 'yy"}},e2wt:function(e,t,i){"use strict";function n(e){if(e.isSpread())return r.DataSourceDangerReason.Spread;var t=e.symbolInfo();return t&&"CRYPTOCAP"===t.exchange?r.DataSourceDangerReason.CryptoCap:null}i.r(t),i.d(t,"getSeriesDangerReason",function(){return n});var r=i("PjMa")},e92V:function(e,t,i){"use strict";function n(e){return"LineToolVbPFixed"===e||"LineToolRegressionTrend"===e||e in a}function r(e){return e in s||n(e)}function o(e){switch(e){case"LineToolBalloon":case"LineToolText":case"LineToolTextAbsolute":case"LineToolCallout":case"LineToolNote":case"LineToolNoteAbsolute":return!0}return!1}var s,a;i.d(t,"b",function(){return n}),i.d(t,"a",function(){return r}),i.d(t,"c",function(){return o}),s=i("OH2X"),a=i("rwPJ")},eI3D:function(e,t,i){"use strict";i.r(t),i.d(t,"OFFERS",function(){return n});var n={trial:"trial",early_access:"early_access",unsubscribe_trial:"unsubscribe_trial",upsell:"upsell",black_friday:"black_friday",cyber_monday:"cyber_monday",custom_discount:"custom_discount",longer_cycle:"longer_cycle"}},eJTA:function(e,t,i){"use strict";function n(e,t,i){return L.isNaN(t)?e:t<e?e:t>i?i:Math.round(t)}function r(e,t,i){return L.isNaN(t)?e:t<e?e:t>i?i:Math.round(1e4*t)/1e4}function o(e){return n(0,e,255)}function s(e){return n(0,e,255)}function a(e){return n(0,e,255)}function l(e){return r(0,e,1)}function c(e){return r(0,e,1)}function u(e){return r(0,e,1)}function h(e){return r(0,e,1)}function d(e){return r(0,e,1)}function p(e){return r(0,e,1)}function f(e){var t,i=e[0],n=e[1],r=e[2],o=i/255,s=n/255,a=r/255,l=Math.min(o,s,a),c=Math.max(o,s,a),u=0,h=0,d=(l+c)/2;if(l===c)u=0,h=0;else switch(t=c-l,h=d>.5?t/(2-c-l):t/(c+l),c){case o:u=((s-a)/t+(s<a?6:0))/6;break;case s:u=((a-o)/t+2)/6;break;case a:u=((o-s)/t+4)/6}return[u,h,d]}function _(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function m(e){var t,i,n,r,l,c=e[0],u=e[1],h=e[2];return 0===u?t=i=n=h:(t=_(l=2*h-(r=h<.5?h*(1+u):h+u-h*u),r,c+1/3),i=_(l,r,c),n=_(l,r,c-1/3)),[o(255*t),s(255*i),a(255*n)]}function g(e){
return A[0]*e[0]+A[1]*e[1]+A[2]*e[2]}function y(e,t,i){var n,r;return void 0===i&&(i=.05),r=(n=f(e))[0]+t*i,n[0]=c(r-Math.floor(r)),m(n)}function v(e,t,i){var n,r,o,s,a;return void 0===i&&(i=.05),n=e[0],r=e[1],o=e[2],s=e[3],[(a=y([n,r,o],t,i))[0],a[1],a[2],s]}function b(e,t){return t in e}function S(e){var t=M.re.exec(e);return null!==t?M.parse(t):null}function w(e){var t=k.re.exec(e);return null!==t?k.parse(t):null}function P(e){var t=D.re.exec(e);return null!==t?D.parse(t):null}function T(e){var t=R.re.exec(e);return null!==t?R.parse(t):null}function C(e){return"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function x(e){var t,i,n,r,o;if(e=e.toLowerCase(),b(O,e)){if(null!==(t=w(O[e])))return t;throw new Error("Invalid named color definition")}return null!==(i=S(e))?i:null!==(n=w(e))?n:null!==(r=P(e))?r:null!==(o=T(e))?[o[0],o[1],o[2]]:null}function I(e){var t,i,n,r,o;if(e=e.toLowerCase(),b(O,e)){if(null!==(t=w(O[e])))return[t[0],t[1],t[2],1];throw new Error("Invalid named color definition")}return null!==(i=S(e))?[i[0],i[1],i[2],1]:null!==(n=w(e))?[n[0],n[1],n[2],1]:null!==(r=P(e))?[r[0],r[1],r[2],1]:null!==(o=T(e))?o:null}function E(e){var t=I(e);if(null!==t)return t;throw new Error("Passed color string does not match any of the known color representations")}var L,A,O,M,k,D,R;Object.defineProperty(t,"__esModule",{value:!0}),L=i("ivNn"),t.normalizeRedComponent=o,t.normalizeGreenComponent=s,t.normalizeBlueComponent=a,t.normalizeAlphaComponent=l,t.rgb=function(e,t,i){return[o(e),s(t),a(i)]},t.areEqualRgb=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},t.rgba=function(e,t,i,n){var r,c;return Array.isArray(e)?(n=t,[(r=e)[0],r[1],r[2],l(n)]):(c=t,i=i||0,n=n||0,[o(e),s(c),a(i),l(n)])},t.areEqualRgba=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},t.normalizeHue=c,t.normalizeHslSaturation=u,t.normalizeHsvSaturation=h,t.normalizeLightness=d,t.normalizeValue=p,t.hsl=function(e,t,i){return[c(e),u(t),d(i)]},t.areEqualHsl=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},t.hsv=function(e,t,i){return[c(e),h(t),p(i)]},t.areEqualHsv=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},t.rgbToHsl=f,t.hslToRgb=m,t.rgbToHsv=function(e){var t=e[0],i=e[1],n=e[2],r=t/255,o=i/255,s=n/255,a=Math.min(r,o,s),l=Math.max(r,o,s),c=l-a,u=0,h=0===l?0:c/l,d=l;if(l===a)u=0;else switch(l){case t:u=((o-s)/c+(o<s?6:0))/6;break;case i:u=((s-r)/c+2)/6;break;case n:u=((r-o)/c+4)/6}return[u,h,d]},t.hsvToRgb=function(e){var t=e[0],i=e[1],n=e[2],r=Math.floor(6*t),l=6*t-r,c=n*(1-i),u=n*(1-l*i),h=n*(1-(1-l)*i),d=0,p=0,f=0;switch(r%6){case 0:d=n,p=h,f=c;break;case 1:d=u,p=n,f=c;break;case 2:d=c,p=n,f=h;break;case 3:d=c,p=u,f=n;break;case 4:d=h,p=c,f=n;break;case 5:d=n,p=c,f=u}return[o(255*d),s(255*p),a(255*f)]},A=[.199,.687,.114],t.rgbToGrayscale=g,t.distanceRgb=function(e,t){var i=e[0],n=e[1],r=e[2],o=t[0],s=t[1],a=t[2],l=o-i,c=s-n,u=a-r;return Math.sqrt(l*l+c*c+u*u)},t.invertRgb=function(e){return[255-e[0],255-e[1],255-e[2]]},t.darkenRgb=function(e,t){var i=f(e);return m([i[0],i[1],d(i[2]-t/100)])},
t.blendRgba=function(e,t){var i=e[0],n=e[1],r=e[2],c=e[3],u=t[0],h=t[1],d=t[2],p=t[3],f=l(1-(1-p)*(1-c)),_=o(u*p/f+i*c*(1-p)/f),m=s(h*p/f+n*c*(1-p)/f),g=a(d*p/f+r*c*(1-p)/f);return[_,m,g,f]},t.shiftRgb=y,t.shiftRgba=v,t.shiftColor=function(e,t,i){return void 0===i&&(i=.05),C(v(E(e),t,i))},O={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",feldspar:"#d19275",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslateblue:"#8470ff",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",violetred:"#d02090",wheat:"#f5deb3",
white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},function(e){e.re=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,e.parse=function(e){return[o(parseInt(e[1],10)),s(parseInt(e[2],10)),a(parseInt(e[3],10))]}}(M||(M={})),t.rgbToString=function(e){return"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},function(e){e.re=/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,e.parse=function(e){return[o(parseInt(e[1],16)),s(parseInt(e[2],16)),a(parseInt(e[3],16))]}}(k||(k={})),t.rgbToHexString=function(e){var t=e[0],i=e[1],n=e[2],r=t.toString(16),o=i.toString(16),s=n.toString(16);return"#"+(1===r.length?"0":"")+r+(1===o.length?"0":"")+o+(1===s.length?"0":"")+s},function(e){e.re=/^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/,e.parse=function(e){return[o(parseInt(e[1]+e[1],16)),s(parseInt(e[2]+e[2],16)),a(parseInt(e[3]+e[3],16))]}}(D||(D={})),function(e){e.re=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/,e.parse=function(e){return[o(parseInt(e[1],10)),s(parseInt(e[2],10)),a(parseInt(e[3],10)),l(parseFloat(e[4]))]}}(R||(R={})),t.rgbaToString=C,t.rgbToBlackWhiteString=function(e,t){if(t<0||t>255)throw new Error("invalid threshold value, valid values are [0, 255]");return g(e)>=t?"white":"black"},t.tryParseRgb=x,t.parseRgb=function(e){var t=x(e);if(null!==t)return t;throw new Error("Passed color string does not match any of the known color representations")},t.tryParseRgba=I,t.parseRgba=E},eKpm:function(e,t,i){"use strict";function n(){clearTimeout(u),$(".publish-chart-button").removeClass("process")}function r(e,t){window.runOrSignIn(function(){var r;0!==(r=$(".publish-chart-button")).length&&(r.addClass("process"),u=setTimeout(n,3e4)),Object(a.whenVerified)({showDialog:!0,source:"Publish chart"}).done(function(e,t){!0!==t&&l.getBool(c,!0)?Promise.all([i.e("dialogs-core"),i.e(0),i.e(1),i.e(7),i.e(6),i.e("publish-intro-dialog")]).then(function(t){(0,i("/q6v").createPublishIntroDialog)().then(function(t){l.setValue(c,!t),window.saver.publishChart(e)})}.bind(null,i)).catch(void 0):window.saver.publishChart(e)}.bind(null,e,t)).always(n)},{source:"Publish chart",sourceMeta:"Chart"})}function o(e){r(e,!0)}var s,a,l,c,u;i.r(t),i.d(t,"publishChart",function(){return r}),i.d(t,"publishChartWidget",function(){return o}),s=i("P5fv"),a=i("Z9Tc"),l=i("Vdly"),c="publish.showIntroText",u=0},ePL1:function(e,t,i){"use strict";i.r(t),i.d(t,"types",function(){return n});var n={ECONOMIC:"economic",QUANDL:"quandl"}},ei7k:function(e,t,i){"use strict";function n(e){return Object(o.clean)(JSON.stringify(e))}function r(e){return JSON.parse(Object(o.clean)(e,!0))}var o;i.d(t,"b",function(){return n}),i.d(t,"a",function(){return r}),o=i("CLNU")},f3xO:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h,d,p;i.r(t),i.d(t,"PaneRendererUnicodeChar",function(){return p}),n=i("mrSG"),r=i("/SnT"),o=i.n(r),s=i("Eyy1"),a=i("aO4+"),l=i("2WC2"),c=i("VdBB"),u=i("Zp/P"),h=i("zDbI"),d=i("gBDZ"),p=function(e){function t(t,i){var n,r=e.call(this,t,i)||this
;return r._heightEnsured=Object(s.ensureDefined)(r._height),n=t.char.slice(0,40),r._ch=o()(n)[0]||" ",r._fontFamily=t.fontFamily||h.CHART_FONT_FAMILY,r._charCache=new d.b(r._ch,!1,!1,r._fontFamily,r._heightEnsured),r}return Object(n.__extends)(t,e),t.prototype.hitTest=function(e){var t,i,n,r=Object(u.selectionTolerance)(this._heightEnsured);for(t=0,i=this._items;t<i.length;t++)if(n=i[t],new a.Point(n.x,n.y+n.vertOffset).subtract(e).length()<=r)return new c.HitTestResult(c.HitTestResult.REGULAR);return null},t.prototype._drawItemShape=function(e,t,i){var n,r=i.x,o=i.vertOffset>0?1:-1,s=i.y+i.vertOffset-o*Math.round(this._heightEnsured/2);n=i.style&&void 0!==i.style.color?i.style.color:this._color,this._charCache.paintTo(e,t,n,r,s,d.a.Center,i.vertOffset>0?d.c.Top:d.c.Bottom)},t.prototype._startPath=function(e,t,i,n){},t.prototype._endPath=function(e){},t}(l.b)},f6yo:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("hBTJ");t.pointInHalfplane=function(e,t){var i=t.edge,n=i.A*e.x+i.B*e.y+i.C>0;return n===t.isPositive},t.pointInTriangle=function(e,t,i,r){var o=t.add(i).scaled(.5),s=o.add(r).scaled(.5),a=n.intersectLineSegments(t,i,s,e);return null===a&&null===(a=n.intersectLineSegments(i,r,s,e))&&null===(a=n.intersectLineSegments(r,t,s,e))},t.pointInBox=function(e,t){return e.x>=t.min.x&&e.x<=t.max.x&&e.y>=t.min.y&&e.y<=t.max.y},t.pointInPolygon=function(e,t){var i,n,r,o=t.length-1,s=!1,a=e.x,l=e.y;for(i=0;i<t.length;i++)n=t[i],r=t[o],(n.y<l&&r.y>=l||r.y<l&&n.y>=l)&&n.x+(l-n.y)/(r.y-n.y)*(r.x-n.x)<a&&(s=!s),o=i;return s},t.pointInCircle=function(e,t,i){var n=(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y),r=i*i;return n<=r}},fFKx:function(e,t,i){"use strict";function n(e,t){var i,n;return e.startIndex>=t.length||e.endIndex>=t.length?null:(i=t[e.startIndex],n=t[e.endIndex],i===a.INVALID_TIME_POINT_INDEX||n===a.INVALID_TIME_POINT_INDEX?null:(Object(s.assert)(i<=n,"startIndex should not exceed endIndex"),{startIndex:i,endIndex:n,level:e.level,extendLeft:e.extendLeft,extendRight:e.extendRight}))}function r(e,t,i){var n=Object(l.ensureTimePointIndexIndex)(i.indexOf(e.startIndex)),r=Object(l.ensureTimePointIndexIndex)(i.indexOf(e.endIndex));return Object(o.__assign)(Object(o.__assign)({id:t},e),{startIndex:n,endIndex:r})}var o,s,a,l;i.d(t,"b",function(){return n}),i.d(t,"a",function(){return r}),o=i("mrSG"),s=i("Eyy1"),a=i("tqok"),l=i("hsV8")},fJhV:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"LineDataSourceTimeAxisView",function(){return o}),n=i("mrSG"),r=i("cgFQ"),o=function(e){function t(t,i){var n=e.call(this,t.model())||this;return n._active=!1,n._source=t,n._pointIndex=i,n}return Object(n.__extends)(t,e),t.prototype.setActive=function(e){this._active=e},t.prototype._getBgColor=function(){return this._active?"#1565C0":this._model.isDark()?"#1E88E5":"#2196F3"},t.prototype._getIndex=function(){if(!this._model.selection().isSelected(this._source))return null;var e=this._source.axisPoints();return e.length<=this._pointIndex?null:e[this._pointIndex].index},t}(r.a)},fPdn:function(e,t,i){
"use strict";window.TradingView=window.TradingView||{},window.requireAll=function(e){return e.keys().map(e)},i("6jKD"),i("bZMm"),i("P5fv"),i("YFKU"),i("sE80"),i("si6p"),i("bf9a"),i("6Q5q"),i("e+pU"),i("QfXN"),i("lPLC"),i("mKhQ"),i("32f0"),i("Myip"),i("2+4i"),i("9xFJ"),i("GWkh"),i("5Vnb"),i("PvO/"),i("QYoC"),i("oA7e"),i("qFKp"),i("1oAu"),i("ogJP"),i("jFln"),i("HbRj"),i("ruCT"),i("dJ3D"),i("RjiR"),i("k83o"),i("9goP"),i("VVxS"),i("CLNU"),i("mZrn"),i("Vdly"),i("+GxX")},fSwl:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"PaneRendererKagi",function(){return o}),n=i("VdBB"),r=i("Zp/P"),o=function(){function e(e){this._bars=e.bars,this._barSpacing=e.barSpacing,this._barLineWidth=Math.max(1,Object(r.optimalBarWidth)(e.barSpacing,1))}return e.prototype.hitTest=function(e){var t,i,o,s,a,l,c,u=this._bars,h=.5*this._barLineWidth;if(0===u.length)return null;if(e.x<u[0].time-h)return null;if(e.x>u[u.length-1].time+h)return null;for(t=null,i=0,o=u;i<o.length;i++)if(s=o[i],e.x<=s.time+h){t=s;break}return null===t?null:(a=Object(r.selectionTolerance)(.5*this._barLineWidth),l=Math.min(t.high,t.low),c=Math.max(t.high,t.low),l-a<=e.y&&e.y<=c+a?new n.HitTestResult(n.HitTestResult.REGULAR):null)},e.prototype.draw=function(e,t){var i,n,r,o,s,a,l,c,u,h,d,p,f,_,m,g;for(e.save(),e.lineCap="square",r=Math.floor(t.pixelRatio)%2?1:0,o=0,s=this._bars;o<s.length;o++)a=s[o],l=Math.round(t.pixelRatio*this._barLineWidth*.5),c=Math.round(t.pixelRatio*a.exactTime-l),u=void 0===n||a.isUp?Math.round(t.pixelRatio*a.high-l):n,h=2*l,d=void 0,a.isTwoColorBar?(f=u+(p=Math.round(t.pixelRatio*a.additionalPrice-t.pixelRatio*a.high+l)),_=Math.round(t.pixelRatio*a.low-t.pixelRatio*a.additionalPrice+l),m=void 0!==i&&a.isUp?i:f+_,e.fillStyle=a.upColor,e.fillRect(c,u,h+r,p),e.fillStyle=a.downColor,e.fillRect(c,f,h+r,m+l-f+1),d=m):(p=Math.round(t.pixelRatio*a.low-t.pixelRatio*a.high+l),f=void 0!==i&&a.isUp?i:u+p,e.fillStyle=a.color,e.fillRect(c,u,h+r,f+l-u+1),d=f),a.combinedWithProjection||(a.isTwoColorBar?e.fillStyle=a.isUp?a.downColor:a.upColor:e.fillStyle=a.color,a.isUp?e.fillRect(Math.round((a.exactTime-this._barSpacing)*t.pixelRatio+l),d-l+1-r,Math.round(this._barSpacing*t.pixelRatio-2*l+1),2*l+r):(g=void 0===n?Math.round(a.open*t.pixelRatio-l):n,e.fillRect(Math.round((a.exactTime-this._barSpacing)*t.pixelRatio+l),g,Math.round(this._barSpacing*t.pixelRatio-2*l+1),2*l+r))),i=d,n=u;e.restore()},e}()},fTGZ:function(e,t,i){"use strict";(function(e,n,r){function o(t,i){var o,a=t._undoModel._chartWidget,l=a.onWidget(),c=!1;c=l?a._options&&!a._options.hideIdeas:!!e.enabled("bars_marks")&&TVSettings.getBool("BarsMarksContainer.visibile",!1),i?i.merge({visible:c,frozen:!1}):i=new n({visible:c,frozen:!1}),o=this,i.visible.listeners().subscribe(null,function(t){l||a._containsData||!e.enabled("bars_marks")||TVSettings.setValue("BarsMarksContainer.visibile",!!t.value()),o._tooltip&&o._tooltip.removeAll()}),s._configureProperties(i),s.call(this,t,i),this.onNeedRepaint=new r,this._requests=[],this._marks={},this._loadedRange=null,this._getDataTimeout=null,
this._collectedRange=null,this._model.mainSeries().onSymbolIntervalChanged().subscribe(this,this.clearMarks),this._model.mainSeries().dataEvents().symbolResolved().subscribe(this,this.clearMarks),this._model.mainSeries().dataEvents().tickMarksRangeChanged().subscribe(this,this.getData),this._initialize(),this.pinnedTooltips={},this._tooltip=new u(this._createTooltip.bind(this),this)}var s=i("Ss5c").LineDataSource,a=i("ogJP").isNumber,l=i("BOPY").BarsMarksContainerPaneView,c=i("BOPY").BarsMarksContainerRenderer,u=i("Bt3k").TooltipRenderer,h=i("LxhU").Interval,d=i("n5al").isPriceSourceStyle,p=i("uOxu").getLogger("Chart.BarsMarksContainer");inherit(o,s),o.prototype._constructor="Child class must override this member",o.prototype._initialize=function(e){throw new Error("Child class must override this member")},o.prototype.onClicked=function(){throw new Error("Child class must override this member")},o.prototype._getData=function(e){throw new Error("Child class must override this member")},o.prototype._createTooltip=function(){throw new Error("Child class must override this member")},o.prototype.updateDotData=function(e,t){return t},o.prototype.updatePlateData=function(e,t){},o.prototype.isAvailableInFloatingWidget=function(){return!1},o.prototype._plateViewData=function(e){return{}},o.prototype.pinTooltip=function(e,t){this.pinnedTooltips[e]=t},o.prototype.timeScale=function(){return this._model.timeScale()},o.prototype.getIntervalInTicks=function(){var e=this._model.mainSeries().properties().interval.value(),t=h.parse(e);if(!t.isValid())throw new TypeError("Unexpected interval");return t.isRange()?60:t.inMilliseconds()/1e3},o.prototype._maxDate=Math.round(new Date(2037,0,1).getTime()/1e3),o.prototype.getVisibleTickMarksRange=function(){var e,t;return this.timeScale().isEmpty()?{start:0,end:0}:(e=this.timeScale().visibleBarsStrictRange()).lastBar()>this.timeScale().points().firstIndex()&&e.firstBar()<this.timeScale().points().lastIndex()?(t=e.lastBar()<this.timeScale().points().lastIndex()?this.timeScale().indexToTimePoint(e.lastBar()):this._maxDate,{start:(e={start:this.timeScale().indexToTimePoint(Math.max(e.firstBar(),this.timeScale().points().firstIndex())),end:t}).start?e.start:void 0,end:e.end?e.end:void 0}):{start:0,end:0}},o.prototype.getVisibleRangePlates=function(){var e=[],t=this.getVisibleTickMarksRange(),i=this.getIntervalInTicks();return Object.keys(this._marks).forEach(function(n){var r=this._marks[n],o=r.tickmark;o>=t.start&&o<=t.end+i&&e.push(r)},this),e},o.prototype.getPublishedPlates=function(){var e={},t=this;return is_authenticated?(this.getVisibleRangePlates().forEach(function(i){i.is_public&&(t.pinnedTooltips[i.id]||i.user__id===user.id)&&(e[i.id]=i)}),e):e},o.prototype._maxPlatesPerBar=10,o.prototype.filterDisplayedPlates=function(e){return e=e.reduce(function(e,t){var i=this._getIndex(t.tickmark);return e[i]=e[i]||[],e[i].push(t),e}.bind(this),{}),e=Object.keys(e).reduce(function(t,i){var n=e[i];return n=(n=n.sort(function(e,t){return t.views_count-e.views_count})).slice(0,this._maxPlatesPerBar),
t.concat(n)}.bind(this),[])},o.prototype._layout=function(e){switch(e){default:case 0:return"up";case 1:return"down";case 2:return"up";case 3:case 4:case 5:case 6:return"up"}},o.prototype._theme=function(e){switch(e){default:case 0:return"neutral";case 1:return"green";case 2:return"red";case 3:return"yellow";case 4:return"blue";case 5:return"green";case 6:return"red"}},o.prototype._offset=function(e,t,i){var n;switch(e){default:case"up":n=null===i?t[TradingView.HIGH_PLOT]:i(t);break;case"down":n=null===i?t[TradingView.LOW_PLOT]:i(t)}return this.priceScale().priceToCoordinate(n,this.ownerSource().firstValue())},o.prototype._getIndex=function(e){return this.timeScale().timePointToIndex(e)},o.prototype.getViewData=function(){return{barWidth:this.barWidth(),plates:this.getPlatesViewData(),tooltip:this._tooltip}},o.prototype.barWidth=function(){return this.timeScale().barSpacing()},o.prototype.getPlatesViewData=function(){var e,t,i,n,r,o,s,a=this._model.mainSeries();if(a.data().isEmpty())return[];for(e=d(a.style())?a.barFunction():null,t=this.filterDisplayedPlates(this.getVisibleRangePlates()),i=this,n={},r=this._model.lastHittestData(),o=(t=(t=t.map(function(t){var o,s,a,l,c,u,h,d=this._getIndex(t.tickmark),p=this._getBar(d);return null!==p&&(o=this._layout(t.direction),s=this._theme(t.direction),a=r&&r.id===t.id,l=this.timeScale().indexToCoordinate(d),c=this._offset(o,p,e),u=this.priceScale().isInverted(),h=0,d in n||(n[d]={up:0,down:0}),h=n[d][o]++,TradingView.merge({id:t.id,x:l,y:c,yInverted:u,order:h,direction:o,theme:s,hovered:a,pinned:!0===i.pinnedTooltips[t.id],user__id:t.user__id,label:t.label,labelFontColor:t.labelFontColor||"#444",minSize:t.minSize||5},this._plateViewData(t)))}.bind(this))).filter(function(e){return!!e})).filter(function(e){return!0===e.hovered}),s=0;s<t.length;s++)null!=o[0]&&t[s].user__id===o[0].user__id&&(t[s].highlightByAuthor=!0);return t.sort(function(e,t){return e.hovered&&!t.hovered?1:0}),t},o.prototype._getBar=function(e){return this._model.mainSeries().data().valueAt(e)},o.prototype.paneViews=function(){var e=this;return this._properties.visible.value()?[new l(this,function(t){return new c(t.getViewData(),e)})]:[]},o.prototype.dataWindowView=function(){return null},o.prototype.priceAxisViews=function(){return null},o.prototype.statusView=function(){return null},o.prototype.updateAllViews=function(){},o.prototype.pointsCount=function(){return 0},o.prototype.properties=function(){return this._properties},o.prototype._rangeDifference=function(e){return e=Object.assign({},e),this._loadedRange&&(e.start<this._loadedRange.start?e.end=this._loadedRange.start:e.end>this._loadedRange.end&&(e.start=this._loadedRange.end)),e},o.prototype._rangeUnion=function(e,t){return e=Object.assign({},e),t&&(e.start=Math.min(t.start,e.start),e.end=Math.max(t.end,e.end)),e},o.prototype._pushGetDataStack=function(e){a(e.start)&&a(e.end)?(this._getDataTimeout&&clearTimeout(this._getDataTimeout),this._collectedRange=this._rangeUnion(e,this._collectedRange),this._getDataTimeout=setTimeout(function(){
this._getData(this._collectedRange),this._getDataTimeout=this._collectedRange=null}.bind(this),300)):p.logError("Wrong tickmark range")},o.prototype.roundRange=function(e){return{start:Math.round(e.start),end:Math.round(e.end)}},o.prototype.refreshData=function(){this.getData(this._lastRange)},o.prototype.getData=function(e){a(e.start)&&a(e.end)?(this._lastRange=e,(e=Object.assign({},e)).end=this._maxDate,this._pushGetDataStack(e)):p.logError("Wrong range")},o.prototype._abortAllRequests=function(){this._requests.forEach(function(e){e.abort()}),this._requests=[],this._getDataTimeout&&clearTimeout(this._getDataTimeout),this._getDataTimeout=this._collectedRange=null},o.prototype.clearMarks=function(){this._abortAllRequests(),this._marks={},this._loadedRange=null},t.BarsMarksContainer=o}).call(this,i("Kxc7"),i("tc+8"),i("aIyQ"))},fgLi:function(e,t,i){"use strict";var n,r,o,s,a,l;i.r(t),i.d(t,"DataSource",function(){return l}),n=i("hY0g"),r=i.n(n),o=i("0waE"),s=i("aIyQ"),a=i.n(s),l=function(){function e(){this.hasAlert=new r.a(!1),this._zorder=0,this.m_priceScale=null,this._id=Object(o.randomHashN)(6),this._ownerSource=null,this._userEditEnabled=!0,this._onPriceScaleChanged=new a.a,this._ownerSourceChanged=new a.a}return e.prototype.id=function(){return this._id},e.prototype.preferNoScale=function(){return!1},e.prototype.idForAlert=function(){return this._id},e.prototype.setId=function(e){this._id=e},e.prototype.zorder=function(){return this._zorder},e.prototype.setZorder=function(e){"number"==typeof e&&this._zorder!==e&&(this._zorder=e)},e.prototype.title=function(){throw new Error("Implement this fun in a subclass")},e.prototype.priceScale=function(){return this.m_priceScale},e.prototype.setPriceScale=function(e){this.m_priceScale=e,this._onPriceScaleChanged.fire()},e.prototype.ownerSource=function(){return this._ownerSource},e.prototype.setOwnerSource=function(e){this._ownerSource=e,this._ownerSourceChanged.fire()},e.prototype.ownerSourceChanged=function(){return this._ownerSourceChanged},e.prototype.isSavedInChart=function(e){return!0},e.prototype.isSavedInStudyTemplates=function(){return!0},e.prototype.isRemovedByStudyTemplates=function(){return!0},e.prototype.hasContextMenu=function(){return!0},e.prototype.showInObjectTree=function(){return!0},e.prototype.setUserEditEnabled=function(e){this._userEditEnabled=e},e.prototype.userEditEnabled=function(){return this._userEditEnabled},e.prototype.canBeHidden=function(){return this.userEditEnabled()},e.prototype.isUserDeletable=function(){return this.userEditEnabled()},e.prototype.canHasAlert=function(){return!1},e.prototype.properties=function(){throw new Error("Implement this fun in a subclass")},e.prototype.isVisible=function(){return this.properties().visible.value()},e.prototype.statusView=function(){return null},e.prototype.dataWindowView=function(){return null},e.prototype.legendView=function(){return null},e.prototype.marketStatusModel=function(){return null},e.prototype.dataUpdatedModeModel=function(){return null},e.prototype.dataProblemModel=function(){
return null},e.prototype.priceAxisViews=function(e,t){return null},e.prototype.updateAllViews=function(){},e.prototype.paneViews=function(){return null},e.prototype.isFailed=function(){return!1},e.prototype.isLoading=function(){return!1},e.prototype.isChildStudy=function(){return!1},e.prototype.hasChildren=function(){return!1},e.prototype.canHaveChildren=function(){return!1},e.prototype.onClickOutside=function(){},e.prototype.getInputsPropertyPage=function(){return null},e.prototype.getStylesPropertyPage=function(){return null},e.prototype.getDisplayPropertyPage=function(){return null},e.prototype.getVisibilitiesPropertyPage=function(){return null},e.prototype.getStrategyPropertyPage=function(){return null},e.prototype.getSourceIcon=function(){return null},e.prototype.state=function(e){throw new Error("Implement this fun in a subclass")},e.prototype.onPriceScaleChanged=function(){return this._onPriceScaleChanged},e.prototype.doesMovingAffectsUndo=function(){return!0},e.prototype.copiable=function(){return!1},e.prototype.cloneable=function(){return!1},e.prototype.movable=function(){return!1},e}()},fs3R:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor" transform="translate(6 4)"><rect width="15" height="12" rx="2" x=".5" y="7.5"/><path stroke-linecap="round" stroke-width="2" d="M8 14v2"/><path d="M11.5 7.5V4a3.5 3.5 0 0 0-7 0v3.5"/></g></svg>'},fxzW:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"PaneRendererDiamond",function(){return o}),n=i("mrSG"),r=i("2WC2"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype._drawItemShapeUsingCSSPixels=function(e,t){var i=Math.round(t.height/2),n=t.x,r=t.vertOffset,o=t.y+r;e.moveTo(n,o-i),e.lineTo(n+i,o),e.lineTo(n,o+i),e.lineTo(n-i,o),e.lineTo(n,o-i)},t}(r.a)},gAom:function(e,t,i){"use strict";function n(e,t,i,n,r,o){e.fillRect(t+o,i,n-2*o,o),e.fillRect(t+o,i+r-o,n-2*o,o),e.fillRect(t,i,o,r),e.fillRect(t+n-o,i,o,r)}function r(e,t,i,n){e.beginPath();var r=e.lineWidth%2?.5:0;e.moveTo(i,t+r),e.lineTo(n,t+r),e.stroke()}function o(e,t,i,n){e.beginPath();var r=e.lineWidth%2?.5:0;e.moveTo(t+r,i),e.lineTo(t+r,n),e.stroke()}i.r(t),i.d(t,"fillRectInnerBorder",function(){return n}),i.d(t,"drawHorizontalLine",function(){return r}),i.d(t,"drawVerticalLine",function(){return o})},gBDZ:function(e,t,i){"use strict";var n,r,o,s=i("Eyy1"),a=i("XlJ7"),l=i("ikwP");i.d(t,"a",function(){return n}),i.d(t,"c",function(){return r}),i.d(t,"b",function(){return o}),function(e){e.Left="left",e.Right="right",e.Center="center"}(n||(n={})),function(e){e.Top="top",e.Bottom="bottom",e.Middle="middle"}(r||(r={})),o=function(){function e(e,t,i,n,r,o){var c,u,h,d,p,f,_;for(void 0===o&&(o="center"),this._cacheRenderParams=null,this._canvasesMap={},this._lines=e.split(/[^\S\r\n]*(?:\r\n|\r|\n)/),this._font=function(e,t,i,n){return Object(a.makeFont)(n,i,(e?"bold ":"")+(t?"italic ":""))}(t,i,n,r),this._fontSize=r,this._verticalPadding=~~(r/6),
this._textAlign=o,c=Object(l.createDisconnectedCanvas)(document,new l.Size(0,0),1),(u=Object(s.ensureNotNull)(c.getContext("2d"))).font=this._font,h=0,d=0,p=this._lines;d<p.length;d++)f=p[d],_=u.measureText(f).width,h=Math.max(h,_);this.textImageWidth=h+1,this.textImageHeight=this._lines.length*r+this._verticalPadding}return e.prototype.paintTo=function(e,t,i,n,r,o,s){var a,c,u=this,h=this._getTextImage(i,t);0!==h.width&&0!==h.height&&(a=function(e,t,i){var n=e;switch(t){case"left":break;case"right":n-=i;break;case"center":n-=i/2}return Math.round(n)}(n,o,this.textImageWidth),c=function(e,t,i){var n=e;switch(t){case"top":break;case"bottom":n-=i;break;case"middle":n-=i/2}return Math.round(n)}(r,s,this.textImageHeight),Object(l.drawScaled)(e,t.pixelRatio,function(){e.drawImage(h,a,c,u.textImageWidth,u.textImageHeight)}))},e.prototype._getTextImage=function(e,t){var i,n,r,o,a,c,u=this;if(null!==this._cacheRenderParams&&(a=this._cacheRenderParams,c=t,a.pixelRatio===c.pixelRatio)||(this._canvasesMap={},this._cacheRenderParams=t),this._canvasesMap[e])return this._canvasesMap[e];switch(i=Object(l.createDisconnectedCanvas)(document,new l.Size(this.textImageWidth,this.textImageHeight),this._cacheRenderParams.pixelRatio),(n=Object(s.ensureNotNull)(i.getContext("2d"))).textBaseline="top",n.font=this._font,n.fillStyle=e,this._textAlign){case"left":r=0,n.textAlign="left";break;case"right":r=this.textImageWidth-1,n.textAlign="right";break;default:r=this.textImageWidth/2,n.textAlign="center"}return o=this._verticalPadding,Object(l.drawScaled)(n,this._cacheRenderParams.pixelRatio,function(){var e,t,i;for(e=0,t=u._lines;e<t.length;e++)i=t[e],n.fillText(i,r,o),o+=u._fontSize}),this._canvasesMap[e]=i,i},e}()},"gK+X":function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"PaneRendererRenkoPB",function(){return s}),n=i("VdBB"),r=i("Zp/P"),o=1,s=function(){function e(e){this._bars=e.bars,this._barWidth=e.barSpacing}return e.prototype.hitTest=function(e){var t,i,s,a,l,c,u,h=this._bars,d=.5*this._barWidth;if(0===h.length)return null;if(e.x<h[0].time-d)return null;if(e.x>h[h.length-1].time+d)return null;for(t=null,i=0,s=h;i<s.length;i++)if(a=s[i],e.x<=a.time+d){t=a;break}return null===t?null:(l=Object(r.selectionTolerance)(o),c=Math.min(t.high,t.low),u=Math.max(t.high,t.low),c-l<=e.y&&e.y<=u+l?new n.HitTestResult(n.HitTestResult.REGULAR):null)},e.prototype.draw=function(e,t){var i,n,r,s,a,l,c,u,h,d,p,f,_,m;for(e.save(),i=Math.round(t.pixelRatio*this._barWidth/2),n=null,r=null,s=null,a=0,l=this._bars;a<l.length;a++)c=l[a],u=Math.round(c.exactTime*t.pixelRatio),h=null===s?Math.round(u-i):s+1,d=Math.round(u+i)-h,p=c.close>c.open,f=void 0,_=void 0,null===n||null===r?(f=Math.round(Math.min(c.close,c.open)*t.pixelRatio),_=Math.round(Math.max(c.close,c.open)*t.pixelRatio)):p?(f=r+1,_=Math.round(Math.max(c.close,c.open)*t.pixelRatio)):(f=Math.round(Math.min(c.close,c.open)*t.pixelRatio),_=n-1),m=_-f+1,e.fillStyle=c.borderColor,e.fillRect(h,f,d,m),e.fillRect(u,Math.round(c.high*t.pixelRatio),o,Math.round((c.low-c.high)*t.pixelRatio)),
e.fillStyle=c.color,e.fillRect(h+o,f+o,d-2*o,m-2*o),n=f,r=f+m-1,s=h+d-1;e.restore()},e}()},gLxC:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolNote";var r=t||n.createProperties();o.call(this,e,r),this.version=n.version,Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("Dz+H").NotePaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}function r(e,t){var i=t||r.createProperties();n.call(this,e,i)}var o=i("Ss5c").LineDataSource,s=i("tc+8"),a=i("Ocx9").DefaultProperty,l=i("hayr").propertyPages,c=window.t("Note");inherit(n,o),n.TOOLTIP_WIDTH=300,n.TOOLTIP_PADDING=10,n.TOOLTIP_LINESPACING=5,n.version=1,n.prototype.pointsCount=function(){return 1},n.prototype.translatedType=function(){return c},n.prototype.name=function(){return"Note"},n.prototype.getTooltipWidth=function(){return n.TOOLTIP_WIDTH},n.prototype.getTooltipPadding=function(){return n.TOOLTIP_PADDING},n.prototype.getTooltipLineSpacing=function(){return n.TOOLTIP_LINESPACING},n.prototype.template=function(){var e=o.prototype.template.call(this);return e.text=this.properties().childs().text.value(),e},n.prototype._applyTemplateImpl=function(e){o.prototype._applyTemplateImpl.call(this,e),this.properties().childs().text.setValue(e.text)},n.createProperties=function(e){void 0!==e&&void 0!==e.markerColor&&void 0===e.borderColor&&(e.borderColor=e.markerColor);var t=new a("linetoolnote",e);return n._configureProperties(t),t},n._configureProperties=function(e){o._configureProperties(e),e.hasChild("text")||e.addChild("text",new s(window.t("Text"))),e.addExclusion("text")},inherit(r,n),r.prototype.isSynchronizable=function(){return!1},r.prototype.title=function(){return window.t("Anchored Note")},r.prototype.name=function(){return"Anchored Note"},r.prototype.isFixed=function(){return!0},r.prototype.hasEditableCoordinates=function(){return!1},r.createProperties=function(e){var t=new a("linetoolnoteabsolute",e);return r._configureProperties(t),t},r._configureProperties=function(e){n._configureProperties(e)},n.prototype.state=function(e){var t=o.prototype.state.call(this,e);return e&&(t.state.fixedSize=!1),t},n.prototype.getStylesPropertyPage=function(){return l.LineToolNotePropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("74nv").NoteDefinitionsViewModel}.bind(null,i)).catch(i.oe)},t.LineToolNote=n,t.LineToolNoteAbsolute=r},gMtF:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"LineToolRiskRewardPriceAxisView",function(){return o}),n=i("mrSG"),r=i("KcY8"),o=function(e){function t(t,i){var n=e.call(this)||this;return n._source=t,n._data=i,n}return Object(n.__extends)(t,e),t.prototype._updateRendererData=function(e,t,i){var n,r,o,s,a;e.visible=!1,n=this._source.priceScale(),0===this._source.points().length||null===n||n.isEmpty()||null!==(o=null!==(r=this._source.ownerSource())?r.firstValue():null)&&(s=this._data.priceProperty.value(),
a=this._data.colorProperty.value(),i.background=a,i.color=this.generateTextColor(a),i.coordinate=n.priceToCoordinate(s,o),e.text=n.formatPrice(s,o),e.visible=!0)},t}(r.a)},gOE2:function(e,t,i){e.exports=function(){return new Worker(i.p+"a29197534c1d03e35f30.worker.js")}},gP14:function(e,t,i){"use strict";function n(e,t){return e.metaInfo().scriptIdPart===t}function r(e,t){var i=e.indexOf(t);return-1!==i&&(e.splice(i,1),!0)}var o,s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B;i.r(t),o=i("Eyy1"),s=i("vTIA"),a=i("8sOK"),l=i("LxhU"),c=i("3ClC"),u=i("aIyQ"),h=i.n(u),d=i("hY0g"),p=i.n(d),f=i("i1o5"),_=i("Kxc7"),m=i("iDOr"),g=i("MbIA"),y=i("gQ5K"),v=i("ZZnO"),b=i("4kQX"),S=i("mPvX"),w=i("mMWL"),P=i("uOxu"),T=i("XuOW"),C=Object(P.getLogger)("Chart.ESDWatcher"),x=new Map([["esdShowDividends","TV_DIVIDENDS"],["esdShowSplits","TV_SPLITS"],["esdShowEarnings","TV_EARNINGS"]]),I=function(){function e(e){this._cancellationTokens=new Map,this._model=e,this._subscribeOnProperties(),this.syncESDStudies()}return e.prototype.destroy=function(){var e=this;x.forEach(function(t,i){e._model.mainSeries().properties()[i].unsubscribeAll(e),e._cancelPendingInsertion(t),e._removeAllStudies(t)})},e.prototype.syncESDStudies=function(){var e=this;C.logNormal("Force syncing studies"),x.forEach(function(t,i){e._cancelPendingInsertion(t),e._removeAllStudies(t),e._model.mainSeries().properties()[i].value()&&e._insertStudy(t)})},e.prototype._subscribeOnProperties=function(){var e=this;x.forEach(function(t,i){e._model.mainSeries().properties()[i].subscribe(e,function(n){var r,o=n.value();C.logNormal(i+" has been changed to "+o),r=e._getStudy(t),o&&null===r?e._insertStudy(t):o||(e._cancelPendingInsertion(t),null!==r&&(e._model.removeSource(r),C.logNormal(t+" has been removed")))})})},e.prototype._getStudy=function(e){return this._model.allStudies().find(function(t){return n(t,e)})||null},e.prototype._insertStudy=function(e){var t,i,n=this;this._cancelPendingInsertion(e),(t=this._model.createStudyInserter({type:"pine",pineId:e})).setForceOverlay(!0),i=function(){var e={cancelled:!1,cancel:function(){e.cancelled=!0}};return e}(),this._cancellationTokens.set(e,i),C.logNormal("Inserting "+e),t.insert(void 0,i).then(function(){C.logNormal("Inserting "+e+" is succeeded")}).catch(function(e){e!==T.InsertionErrorCode.Cancelled&&C.logError("Error: "+e)}).then(function(){n._cancellationTokens.get(e)===i&&n._cancellationTokens.delete(e)})},e.prototype._removeAllStudies=function(e){var t=this;this._model.allStudies().filter(function(t){return n(t,e)}).forEach(function(e){return t._model.removeSource(e)})},e.prototype._cancelPendingInsertion=function(e){var t=this._cancellationTokens.get(e);void 0!==t&&(t.cancel(),this._cancellationTokens.delete(e),C.logNormal("Inserting "+e+" has been cancelled"))},e}(),E=i("1gmO"),L=i("2O5g"),A=i("7ktv"),O=function(){function e(e){this._alertLabelsBySource=new Map,this._alertsByAlertSeriesId=new Map,this._alertSeriesIdByAlert=new Map,this._alertLabelsOwnerSourcesByAlert=new Map,this._chartModel=e}
return e.prototype.destroy=function(){this.removeAllAlertLabels()},e.prototype.removeAllAlertLabels=function(){var e=this,t=this._alertLabelsBySource;this._alertLabelsBySource=new Map,this._alertsByAlertSeriesId.clear(),this._alertSeriesIdByAlert.clear(),this._alertLabelsOwnerSourcesByAlert.clear(),t.forEach(function(t){t.forEach(function(t){return e._chartModel.removeSource(t)})})},e.prototype.removeSourceAlertLabels=function(e){var t,i,n;for(t=0,i=this._getAlertLabelsBySource(e);t<i.length;t++)n=i[t],this.removeAlertLabel(n)},e.prototype.syncSourceAlertLabels=function(e){var t,i,n,r,s,a,l,c,u,h=this;if(e instanceof A.PriceDataSource){for(t=0,i=this._getAlertLabelsBySource(e);t<i.length;t++)(n=i[t]).alertOwnerSource().idForAlert()===n.alertSeriesId()||n.alert().isOHLC()||this.removeAlertLabel(n);for(r=this._alertsByAlertSeriesId.get(e.idForAlert()),s=this._getAlertLabelsBySource(e),void 0!==r&&r.forEach(function(e){s.some(function(t){return t.alert()===e})||h._updateAlertLabelsByAlert(e,Object(o.ensureDefined)(h._alertSeriesIdByAlert.get(e)))}),a=Object(o.ensureNotNull)(this._chartModel.paneForSource(e)),l=0,c=this._getAlertLabelsBySource(e);l<c.length;l++)n=c[l],(u=this._chartModel.paneForSource(n))!==a?(null!==u&&u.removeDataSource(n),a.addDataSource(n,Object(o.ensureNotNull)(e.priceScale()),!1)):e.priceScale()!==n.priceScale()&&a.move(n,Object(o.ensureNotNull)(e.priceScale()))}},e.prototype.detachSourceAlertLabels=function(e){var t,i,n;for(t=0,i=this._getAlertLabelsBySource(e);t<i.length;t++)n=i[t],this._chartModel.detachSource(n)},e.prototype.removeAlertLabel=function(e){var t,i,n=e.alertOwnerSource(),r=this._alertLabelsBySource.get(n);void 0!==r&&(r.delete(e),0===r.size&&this._alertLabelsBySource.delete(n)),t=e.alert(),void 0!==(i=this._alertLabelsOwnerSourcesByAlert.get(t))&&(i.delete(n),0===i.size&&this._alertLabelsOwnerSourcesByAlert.delete(t)),this._chartModel.removeSource(e)},e.prototype.addAlert=function(e,t){Object(o.assert)(!this._alertSeriesIdByAlert.has(e),"Alert is already added on the chart"),this._alertSeriesIdByAlert.set(e,t);var i=this._alertsByAlertSeriesId.get(t);void 0===i&&(i=new Set,this._alertsByAlertSeriesId.set(t,i)),i.add(e),this._updateAlertLabelsByAlert(e,t)},e.prototype.removeAlert=function(e){var t,i,n=this,r=this._alertLabelsOwnerSourcesByAlert.get(e);void 0!==r&&r.forEach(function(t){var i=n._alertLabelsBySource.get(t);void 0!==i&&i.forEach(function(t){t.alert()===e&&n.removeAlertLabel(t)})}),t=Object(o.ensureDefined)(this._alertSeriesIdByAlert.get(e)),this._alertSeriesIdByAlert.delete(e),void 0!==(i=this._alertsByAlertSeriesId.get(t))&&i.delete(e)},e.prototype._findPanes=function(e){var t,i,n,r,o,s,a,l,c=[];for(t=0,i=this._chartModel.panes();t<i.length;t++){for(r=(n=i[t]).dataSources(),o=new Set,s=0,a=r;s<a.length;s++)(l=a[s]).idForAlert()===e&&o.add(l);o.size>0&&c.push({pane:n,sources:o})}return c},e.prototype._addLabelToPane=function(e,t,i,n){var r,o,s=new E.AlertLabel(this._chartModel,e,n,L.invokeAlertEditor);i.addDataSource(s,n.priceScale(),!1),
void 0===(r=this._alertLabelsBySource.get(n))&&(r=new Set,this._alertLabelsBySource.set(n,r)),r.add(s),void 0===(o=this._alertLabelsOwnerSourcesByAlert.get(e))&&(o=new Set,this._alertLabelsOwnerSourcesByAlert.set(e,o)),o.add(n)},e.prototype._updateAlertLabelsByAlert=function(e,t){var i,n,r,s,a=this,l=this._findPanes(t);if(l.length)for(i=function(i){i.sources.forEach(function(n){return a._addLabelToPane(e,t,i.pane,n)})},n=0,r=l;n<r.length;n++)i(r[n]);else e.isOHLC()&&(s=this._chartModel.mainSeries(),this._addLabelToPane(e,t,Object(o.ensureNotNull)(this._chartModel.paneForSource(s)),s));this._chartModel.lightUpdate()},e.prototype._getAlertLabelsBySource=function(e){var t=this._alertLabelsBySource.get(e);return void 0===t?[]:Array.from(t)},e}(),M=i("tc+8"),k=i.n(M),D=function(){function e(e){this._appliedTimeFrame=new k.a(null),this._appliedTimeFrameInfo=null,this._model=e,e.mainSeries().dataEvents().messageReceived().subscribe(this,this._onSeriesMessageReceived)}return e.prototype.destroy=function(){this._model.timeScale().logicalRangeChanged().unsubscribeAll(this),this._model.mainSeries().dataEvents().messageReceived().unsubscribeAll(this)},e.prototype.appliedTimeFrame=function(){return this._appliedTimeFrame},e.prototype._onSeriesMessageReceived=function(e){if("series_timeframe"===e.method){var t=this._model.timeScale();t.logicalRangeChanged().unsubscribe(this,this._invalidateAppliedTimeFrame),t.logicalRangeChanged().subscribe(this,this._invalidateAppliedTimeFrame),this._appliedTimeFrameInfo={logicalRange:t.logicalRange(),baseIndex:t.baseIndex()}}},e.prototype._invalidateAppliedTimeFrame=function(){var e,t,i,n,r;null!==this._appliedTimeFrameInfo&&(t=(e=this._model.timeScale()).logicalRange(),i=e.baseIndex(),n=this._appliedTimeFrameInfo.logicalRange,r=this._appliedTimeFrameInfo.baseIndex,null!==t&&null!==n&&i-t.left()==r-n.left()&&i-t.right()==r-n.right()||(this._appliedTimeFrame.merge(null),e.logicalRangeChanged().unsubscribe(this,this._invalidateAppliedTimeFrame)))},e}(),R=i("CW80"),i.d(t,"ChartModelBase",function(){return B}),V=Object(P.getLogger)("Chart.ChartModel"),B=function(){function e(e){this._onRearrangePanes=new h.a,this._lineToolsGroupModel=new S.LineToolsGroupModel,this._sourcesBeingMoved=[],this._linePointBeingMoved=null,this._dataSourceCollectionChanged=new h.a,this._panes=[],this._tagsChanged=new h.a,this._strategySources=[],this._strategySourcesChange=new h.a,this._activeStrategySource=new p.a(null),this._panesCollectionChanged=new h.a,this._scrollEnabled=_.enabled("chart_scroll"),this._zoomEnabled=_.enabled("chart_zoom"),this._isScalesResetAvailableChanged=new h.a,this._isScalesResetAvailable=!1,this._esdWatcher=null,this._alertsWatcher=null,this._hoveredSource=null,this._hoveredSourceChanged=new h.a,this._lastHittestData=null,this._fgCustomSources=[],this._bgCustomSources=[],this._allCustomSources=[],this._customSourcesMap=new Map,this._undoModel=e,this._alertsWatcher=new O(this)}return e.prototype.destroy=function(){this._hoveredSourceChanged.destroy(),
null!==this._watermarkSource&&(this._watermarkSource.destroy(),this._watermarkSource=null),Array.from(this._customSourcesMap.keys()).forEach(this._removeCustomSource,this),Object(o.assert)(0===this._fgCustomSources.length),Object(o.assert)(0===this._bgCustomSources.length),Object(o.assert)(0===this._allCustomSources.length),Object(o.assert)(0===this._customSourcesMap.size),null!==this._esdWatcher&&(this._esdWatcher.destroy(),this._esdWatcher=null),null!==this._alertsWatcher&&(this._alertsWatcher.destroy(),this._alertsWatcher=null),this._appliedTimeFrame.destroy()},e.prototype.undoModel=function(){return this._undoModel},e.prototype.addStrategySource=function(e){-1===this._strategySources.indexOf(e)&&(this._strategySources.push(e),this._strategySourcesChange.fire(),this.setActiveStrategySource(e))},e.prototype.removeStrategySource=function(e){var t,i=this._strategySources.indexOf(e);-1!==i&&(this._strategySources.splice(i,1)[0]===this._activeStrategySource.value()&&this.unsetActiveStrategySource(),this._strategySources.length>0&&(t=this._strategySources[this._strategySources.length-1],this.setActiveStrategySource(t)),this._strategySourcesChange.fire())},e.prototype.setActiveStrategySource=function(e){-1!==this._strategySources.indexOf(e)&&this._activeStrategySource.setValue(e)},e.prototype.unsetActiveStrategySource=function(){this._activeStrategySource.setValue(null)},e.prototype.activeStrategySource=function(){return this._activeStrategySource},e.prototype.strategySources=function(){return this._strategySources},e.prototype.strategySourcesChange=function(){return this._strategySourcesChange},e.prototype.setScrollEnabled=function(e){this._scrollEnabled=e},e.prototype.scrollEnabled=function(){return this._scrollEnabled},e.prototype.setZoomEnabled=function(e){this._zoomEnabled=e},e.prototype.zoomEnabled=function(){return this._zoomEnabled},e.prototype.onTagsChanged=function(){return this._tagsChanged},e.prototype.canZoomIn=function(){return this._timeScale.canZoomIn()&&this._zoomEnabled},e.prototype.canZoomOut=function(){return this._timeScale.canZoomOut()&&this._zoomEnabled},e.prototype.onPaneTagsChanged=function(){this._tagsChanged.fire()},e.prototype.panesCollectionChanged=function(){return this._panesCollectionChanged},e.prototype.dataSourceCollectionChanged=function(){return this._dataSourceCollectionChanged},e.prototype.updateCrosshair=function(){var e,t,i=this.crossHairSource(),n=i.pane;null!==n&&(e=i.originCoordX(),t=i.originCoordY(),this.setAndSaveCurrentPosition(e,t,n))},e.prototype.zoomTime=function(e,t,i){var n,r;this._zoomEnabled&&((n=this.timeScale()).isEmpty()||0===t||(r=n.width(),e=Math.max(1,Math.min(e,r-2)),n.zoom(e,t,i),this.updateCrosshair(),this.recalculateAllPanes(),this.lightUpdate(),this.mainSeries().requestMoreData(),this.recalcVisibleRangeStudy(this.dataSources()),this._setScalesResetAvailable(!0)))},e.prototype.lineToolsGroupModel=function(){return this._lineToolsGroupModel},e.prototype.restoreLineToolsGroups=function(e){this._lineToolsGroupModel=S.LineToolsGroupModel.fromState(this,e)},
e.prototype.updateSource=function(e){var t=this._invalidationMaskForSource(e);null!==t&&this.invalidate(t)},e.prototype.replaceStudyStub=function(e,t){var i,n,r,o=this.paneForSource(e);return null!==o&&(i=e.priceScale(),n=e.zorder(),r=e.ownerSource(),this.paneForSource(e)===o?o.replaceSource(e,t,i):(o.insertDataSource(t,i,n),this.removeSource(e)),t.setOwnerSource(r),this.dataSources().forEach(function(i){i.ownerSource()===e&&i.setOwnerSource(t)}),t.start(),this.recalculatePane(o),this.fullUpdate(),!0)},e.prototype.insertStudyStub=function(e){var t=this.mainSeries(),i=Object(o.ensureNotNull)(this.paneForSource(t)),n=new a.StudyStub(this,null,e),r=i.createPriceScaleAtPosition("overlay");return i.addDataSource(n,r,!1),this.recalculatePane(i),this.fullUpdate(),n},e.prototype.removeStudyStub=function(e){var t=this.dataSourceForId(e);return null===t?(V.logNormal("StudyStub id="+e+" is not found in chart model"),!1):(this.removeSource(t),!0)},e.prototype.setHoveredSource=function(e,t){var i,n,r,o,s=this._hoveredSource!==e;(s||this._lastHittestData!==t)&&(this._lastHittestData=t,i=null,this._hoveredSource&&(this._hoveredSource.updateAllViews(),i=new f.InvalidateMask,null!==(n=this._invalidationMaskForSource(this._hoveredSource,f.InvalidationLevel.Light))&&i.merge(n),s&&Object(R.isLineTool)(this._hoveredSource)&&this._hoveredSource.hasAlert.value()&&null!==(r=this._hoveredSource.getAlertSync())&&r.set("hovered",!1)),this._hoveredSource=e,e&&(e.updateAllViews(),i||(i=new f.InvalidateMask),null!==(n=this._invalidationMaskForSource(e,f.InvalidationLevel.Light))&&i.merge(n),s&&Object(R.isLineTool)(e)&&e.hasAlert.value()&&null!==(o=e.getAlertSync())&&o.set("hovered",!0)),i&&this.invalidate(i),s&&this._hoveredSourceChanged.fire(e))},e.prototype.hoveredSource=function(){return this._hoveredSource},e.prototype.hoveredSourceChanged=function(){return this._hoveredSourceChanged},e.prototype.lastHittestData=function(){return this._lastHittestData},e.prototype.findNonOverlayStudyWithGroupingKey=function(e,t){var i,n,r,o=void 0!==t?[t]:this._panes,s=function(t){var i=t.dataSources().find(function(i){return Object(c.isStudy)(i)&&i.metaInfo().groupingKey===e&&!t.isOverlay(i)});if(void 0!==i)return{value:{pane:t,study:i}}};for(i=0,n=o;i<n.length;i++)if("object"==typeof(r=s(n[i])))return r.value;return null},e.prototype.movePaneUp=function(e){this.movePane(e,e-1)},e.prototype.movePaneDown=function(e){this.movePane(e,e+1)},e.prototype.movePane=function(e,t){var i=this._panes[e];this._panes.splice(e,1),this._panes.splice(t,0,i),this._panesCollectionChanged.fire(this._panes),this._onRearrangePanes.fire(),this.invalidate(f.InvalidateMask.panesOrder())},e.prototype.startMovingSources=function(e,t,i,n){var r,s,a=this;this._sourcesBeingMoved=e,this._linePointBeingMoved=i,this._sourcesBeingMoved.forEach(function(e){var r,s;e.startMoving(t,i,n),r=Object(o.ensureNotNull)(a.paneForSource(e)),s=a._paneInvalidationMask(r,f.InvalidationLevel.Light),a.invalidate(s)}),(r=e.filter(function(e){return e.linkKey&&e.isSynchronizable()}).map(function(e){
return e.linkKey})).length&&(s=this.externalTimeStamp(t.logical.index),Object(w.startMovingLineTool)({linkKeys:r,model:this,symbol:this.mainSeries().symbol(),point:{price:t.logical.price,timeStamp:s},envState:n}))},e.prototype.moveSources=function(e,t){var i,n,r=this;this._sourcesBeingMoved.filter(function(e){return!e.isLocked||!e.isLocked()}).forEach(function(i){i.move(e,r._linePointBeingMoved,t)}),this.lightUpdate(),i=this._sourcesBeingMoved.filter(function(e){return e.isSynchronizable()&&!!e.linkKey}).map(function(e){return e.linkKey}),n=this.externalTimeStamp(e.logical.index),Object(w.moveLineTool)({linkKeys:i,model:this,point:{price:e.logical.price,timeStamp:n},envState:t})},e.prototype.endMovingSources=function(e){var t,i,n=this;this._sourcesBeingMoved.forEach(function(t){var i,r=Object(o.ensureNotNull)(n.paneForSource(t));t.endMoving(e),(i=n._paneInvalidationMask(r,f.InvalidationLevel.Light)).invalidateAll(f.InvalidationLevel.Light),n.invalidate(i)}),t=this._sourcesBeingMoved.filter(function(e){return e.isSynchronizable()&&!!e.linkKey}).map(function(e){return e.linkKey}),i=this._sourcesBeingMoved.filter(function(e){return e.isSynchronizable()&&!!e.linkKey}).map(function(e){return{points:e.normalizedPoints(),interval:n.mainSeries().interval()}}),t.length&&Object(w.finishMovingLineTool)({linkKeys:t,model:this,finalStates:i}),this._sourcesBeingMoved=[],this._linePointBeingMoved=null},e.prototype.sourcesBeingMoved=function(){return this._sourcesBeingMoved},e.prototype.isScalesResetAvailableChanged=function(){return this._isScalesResetAvailableChanged},e.prototype.isScalesResetAvailable=function(){return this._isScalesResetAvailable},e.prototype.panes=function(){return this._panes},e.prototype.paneForId=function(e){return this._panes.find(function(t){return t.id()===e})||null},e.prototype.createPane=function(t,i){var n,r,o=this,s=this._undoModel.chartWidget();return s.isMaximizedPane()&&s.toggleMaximizePane(),n=this._properties.paneProperties,i&&n.merge(i),r=new m.Pane(this._timeScale,n,this),void 0!==t?this._panes.splice(t,0,r):this._panes.push(r),r.onTagsChanged().subscribe(this,e.prototype.onPaneTagsChanged),r.dataSourcesCollectionChanged().subscribe(this,function(){return o._dataSourceCollectionChanged.fire(r)}),this._panesCollectionChanged.fire(this._panes),this.invalidate(f.InvalidateMask.panesOrder()),r},e.prototype.removePane=function(e){var t,i,n=this._undoModel.chartWidget();n.isMaximizedPane()&&n.toggleMaximizePane(),(t=e).destroy(),-1!==(i=this._panes.indexOf(t))&&(this._panes.splice(i,1),e.dataSourcesCollectionChanged().unsubscribeAll(this),e.onTagsChanged().unsubscribeAll(this)),this.crossHairSource().pane===e&&this.clearCurrentPosition(),this._panesCollectionChanged.fire(this._panes),this.invalidate(f.InvalidateMask.panesOrder())},e.prototype.changePanesHeight=function(e,t){var i,n,r,s,a,l,c,u,h,d,p,f,_;if(!(this._panes.length<2)){for(Object(o.assert)(e>=0&&e<this._panes.length,"Invalid pane index"),i=this._panes[e],n=this._panes.reduce(function(e,t){return e+t.stretchFactor()},0),
s=(r=this._panes.reduce(function(e,t){return e+t.height()},0))-30*(this._panes.length-1),t=Math.min(s,Math.max(30,t)),a=n/r,l=i.height(),i.setStretchFactor(t*a),c=t-l,u=this._panes.length-1,h=0,d=this._panes;h<d.length;h++)(p=d[h])!==i&&(f=Math.min(s,Math.max(30,p.height()-c/u)),c-=p.height()-f,u-=1,_=f*a,p.setStretchFactor(_));this.fullUpdate()}},e.prototype.onRearrangePanes=function(){return this._onRearrangePanes},e.prototype.addCustomSource=function(e,t,i){var n;void 0===i&&(i=s.CustomSourceLayer.Foreground),this._customSourcesMap.has(e)&&V.logWarn('Attempt to add the same custom source multiple time "'+e+'"'),V.logNormal('Adding custom source "'+e+'"'),n=t(this),(i===s.CustomSourceLayer.Background?this._bgCustomSources:this._fgCustomSources).push(n),this._allCustomSources.push(n),this._customSourcesMap.set(e,n),this.lightUpdate()},e.prototype.removeCustomSource=function(e){this._removeCustomSource(e),this.lightUpdate()},e.prototype.customSources=function(e){switch(e){case s.CustomSourceLayer.Background:return this._bgCustomSources;case s.CustomSourceLayer.Foreground:return this._fgCustomSources;default:return this._allCustomSources}},e.prototype.dateTimeFormatter=function(){return this._dateTimeFormatter},e.prototype.dateFormatter=function(){return this._dateFormatter},e.prototype.timeFormatter=function(){return this._timeFormatter},e.prototype.externalTimeStamp=function(e){var t=this.mainSeries().syncModel();return this.timeScale().points().roughTime(e,t&&t.projectTime.bind(t))},e.prototype.appliedTimeFrame=function(){return this._appliedTimeFrame.appliedTimeFrame()},e.prototype.syncESD=function(){null!==this._esdWatcher&&this._esdWatcher.syncESDStudies()},e.prototype.alertsWatcher=function(){return this._alertsWatcher},e.prototype._createESDWatcher=function(){this._esdWatcher=new I(this)},e.prototype._updateDateTimeFormatter=function(){var e,t=v.dateFormatProperty.value(),i=new y.DateFormatter(t);this._dateFormatter=i,this.mainSeries().isDWM()?(this._dateTimeFormatter=i,this._timeFormatter=new b.TimeFormatter("%h:%m")):(e=l.Interval.parse(this.mainSeries().interval()).isSeconds()?"%h:%m:%s":"%h:%m",this._dateTimeFormatter=new g.DateTimeFormatter({dateFormat:t,timeFormat:e,dateTimeSeparator:"   "}),this._timeFormatter=new b.TimeFormatter(e))},e.prototype._setScalesResetAvailable=function(e){this._isScalesResetAvailable!==e&&(this._isScalesResetAvailable=e,this._isScalesResetAvailableChanged.fire())},e.prototype._invalidationMaskForSource=function(e,t){var i,n;return e===this.crossHairSource()?f.InvalidateMask.cursor():(void 0===t&&(t=f.InvalidationLevel.Light),this._watermarkSource===e?this._paneInvalidationMask(Object(o.ensureNotNull)(this.paneForSource(this.mainSeries())),t):-1!==this._allCustomSources.indexOf(e)?((i=new f.InvalidateMask).invalidateAll(t),i):null!==(n=this.paneForSource(e))?this._paneInvalidationMask(n,t):null)},e.prototype._paneInvalidationMask=function(e,t){var i=new f.InvalidateMask,n=this._panes.indexOf(e);return void 0===t&&(t=f.InvalidationLevel.Light),i.invalidatePane(n,t),i},
e.prototype._removeCustomSource=function(e){var t,i,n=this._customSourcesMap.get(e);void 0!==n?(V.logNormal('Removing custom source "'+e+'"'),t=r(this._fgCustomSources,n)!==r(this._bgCustomSources,n),i=r(this._allCustomSources,n),Object(o.assert)(t,"Source should be presented in one of the layers"),Object(o.assert)(i,"Source should be presented in the array"),this._customSourcesMap.delete(e),n.destroy()):V.logWarn('Attempt to remove custom source which does not exist in the model - "'+e+'"')},e.prototype._onInitialized=function(){this._appliedTimeFrame=new D(this)},e.prototype._updateShowLegendProperty=function(){var e,t,i,n,r,o,s=this._properties.paneProperties.legendProperties.showLegend;if(!s.value()){for(e=0,t=this._panes;e<t.length;e++)for(i=0,n=0,r=t[e].dataSources();n<r.length;n++)if((o=r[n])!==this.mainSeries()&&null!==o.statusView()&&++i>1)return;s.setValue(!0)}},e}()},gQ5K:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"DateFormatter",function(){return o}),n=i("kcTO"),r=i("e1ZQ"),o=function(){function e(e){void 0===e&&(e="yyyy-MM-dd"),this._dateFormatFunc=r.dateFormatFunctions[e]}return e.prototype.format=function(e){return n.customFormatters&&n.customFormatters.dateFormatter?n.customFormatters.dateFormatter.format(e):this._dateFormatFunc(e,!1)},e.prototype.formatLocal=function(e){return n.customFormatters.dateFormatter?n.customFormatters.dateFormatter.formatLocal?n.customFormatters.dateFormatter.formatLocal(e):n.customFormatters.dateFormatter.format(e):this._dateFormatFunc(e,!0)},e}()},gTEF:function(e,t,i){"use strict";var n,r,o,s,a;i.r(t),i.d(t,"SelectionRendererArrowsUpDown",function(){return a}),n=i("mrSG"),r=i("Eyy1"),o=i("vq8G"),s=i("6Fc/"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype._drawMarker=function(e,t,i,n,o){var a,l,c,u=Object(r.ensureNotNull)(this._data),h=t.isUp?1:-1,d=Object(s.calculateVerticalOffset)(u.barSpacing),p=Object(s.calculateMinHeight)(u.barSpacing),f=i+h*d+h*p,_=Math.round(3.5*o*2);_%2!=n%2&&(_+=1),a=n%2/2,l=Math.round(t.x*o)+a,c=Math.round((t.y+f)*o)+a,e.beginPath(),e.arc(l,c,_/2,0,2*Math.PI,!0),e.closePath(),e.fill(),e.stroke()},t}(o.SelectionRenderer)},gVWb:function(e,t,i){"use strict";i.r(t),i.d(t,"PaneRendererBackground",function(){return n});var n=function(){function e(e){this._data=e}return e.prototype.draw=function(e,t){},e.prototype.drawBackground=function(e,t){var i,n,r,o,s,a;for(e.save(),i=this._data,n=t.pixelRatio,r=0;r<i.items.length;++r)null!=(o=i.items[r]).color&&(e.fillStyle=o.color,s=Math.round(o.x*n),a=r===i.items.length-1?Math.round(i.w*n):Math.round(i.items[r+1].x*n)-s,e.fillRect(s,Math.round(i.y*n),a,Math.round(i.h*n)));e.restore()},e.prototype.hitTest=function(e){return null},e}()},gWck:function(e,t,i){"use strict";var n,r,o,s,a;i.r(t),i.d(t,"SeriesLegendView",function(){return a}),n=i("mrSG"),r=i("cXAR"),o=i("n5al"),s={open:window.t("O",{context:"in_legend"}),high:window.t("H",{context:"in_legend"}),low:window.t("L",{context:"in_legend"}),close:window.t("C",{context:"in_legend"}),
hl2:window.t("HL2",{context:"in_legend"}),hlc3:window.t("HLC3",{context:"in_legend"}),ohlc4:window.t("OHLC4",{context:"in_legend"})},a=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._showBarChange=i.properties().paneProperties.legendProperties.showBarChange,n._showSeriesOHLC=i.properties().paneProperties.legendProperties.showSeriesOHLC,n._seriesStyle=t.properties().childs().style,n._items[0].setTitle(s.open),n._items[1].setTitle(s.high),n._items[2].setTitle(s.low),n._items[3].setTitle(s.close),n._items[6].setTitle(""),n._showBarChange.subscribe(n,n.update),n._showSeriesOHLC.subscribe(n,n.update),n._items[4].setTitle(""),n}return Object(n.__extends)(t,e),t.prototype.isValuesVisible=function(){return this._showSeriesOHLC.value()||this._showBarChange.value()},t.prototype.additional=function(){var e=this._series.dataPoweredBy();return null!==e&&e.length>0?window.t("Data Provided by")+" "+e:null},t.prototype.destroy=function(){this._showBarChange.unsubscribeAll(this),this._showSeriesOHLC.unsubscribeAll(this)},t.prototype._updateImpl=function(){var t,i,n,r,s,a,l,c;e.prototype._updateImpl.call(this),t=this._showSeriesOHLC.value(),i=this._showBarChange.value(),n=12===this._series.style(),(r=this._items[6]).setVisible(r.visible()&&i&&!n),this._showLastPriceAndChangeOnly()?(s=this._items[5]).setVisible(s.visible()&&t):(a=Object(o.isPriceSourceStyle)(this._seriesStyle.value()),l=t&&!a,c=t&&a,this._items[0].setVisible(l&&!n),this._items[1].setVisible(l),this._items[2].setVisible(l),this._items[3].setVisible(l&&!n),this._items[4].setVisible(c))},t}(r.SeriesDataWindowView)},"ga+R":function(e,t,i){"use strict";e.exports=function(e,t){var i,n=10,r=e%n;for(r&&(e=e-r+n),i=[];e<=t;e+=n)i.push(e);return i}},gbZD:function(e,t,i){"use strict";function n(e,t,i){var n=i.authorId?i.authorId:"",o=i.symbol?i.symbol:"",s=i.symbolType?i.symbolType:"";Object(r.getTracker)().then(function(i){i&&i.trackFollow(e,t,n,o,s)})}i.r(t),i.d(t,"trackActionFollow",function(){return n});var r=i("0UyP")},gf4d:function(e,t,i){"use strict";function n(e,t,n){var r;n=n||e.studyMetaInfoRepository().findByIdSync({type:"java",studyId:c}),r=t||s._createPropertiesFromStudyMetaInfo(n,e.studyVersioning()),s.call(this,e,n,"linreg_",r),this._constructor="LineToolRegressionTrend",this._trendData=null,Promise.all([i.e(76),i.e(165),i.e("study-pane-views")]).then(function(e){var t=i("IMGS").RegressionTrendPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}function r(e){return void 0!==e.startPrice&&void 0!==e.endPrice}var o=i("Eyy1").assert,s=i("MSvv").StudyLineDataSource,a=i("hayr").propertyPages,l=i("tqok").INVALID_TIME_POINT_INDEX,c="RegressionTrend@tv-basicstudies",u=window.t("Regression Trend");inherit(n,s),n.prototype.version=2,n.prototype.translatedType=function(){return u},n.prototype.formatter=function(){o(!1,"This method should never be called")},n.prototype.pointsCount=function(){return 2},n.prototype.clearData=function(){this._trendData=null,s.prototype.clearData.call(this)},n.prototype.state=function(e){
var t=s.prototype.state.call(this,e);return Object.assign({},t,{nonseriesdata:this._trendData})},n.prototype.restoreData=function(e){s.prototype.restoreData.call(this,e),this._trendData=e.nonseriesdata?e.nonseriesdata:null},n.prototype.startIndex=function(){if(null===this._trendData||null===this._indexes)return null;var e=this._indexes[this._trendData.startIndex];return e!==l?e:null},n.prototype.endIndex=function(){if(null===this._trendData||null===this._indexes)return null;var e=this._indexes[this._trendData.endIndex];return e!==l?e:null},n.prototype.baseLine=function(){return null===this._trendData?null:this._trendData.baseLine},n.prototype.downLine=function(){return null===this._trendData?null:this._trendData.downLine},n.prototype.upLine=function(){return null===this._trendData?null:this._trendData.upLine},n.prototype.pearsons=function(){return null===this._trendData?null:this._trendData.pearsons},n.prototype.recalcStudyIfNeeded=function(){this._onStudyInputsMayChange()},n.prototype._studyInputs=function(e){var t,i,n,r,s,a,l,c;return o(2===e.length,"all the line tool points should be defined"),t=e[0],i=e[1],(n=Math.min(t.index,i.index))===(r=Math.max(t.index,i.index))?null:(s=this._model.mainSeries().bars().valueAt(n),a=this._model.mainSeries().bars().valueAt(r),null===s||null===a?null:(l=1e3*s[TradingView.TIME_PLOT],c=1e3*a[TradingView.TIME_PLOT],{"upper diviation":this.properties().inputs["upper diviation"].value(),"lower diviation":this.properties().inputs["lower diviation"].value(),"use upper diviation":this.properties().inputs["use upper diviation"].value(),"use lower diviation":this.properties().inputs["use lower diviation"].value(),"first bar time":l,"last bar time":c,source:this.properties().inputs.source.value()}))},n.prototype._onDataUpdated=function(e,t,i){null!==t&&(t.indexes_replace||(this._trendData=t.data,TradingView.isNaN(this._trendData.baseLine.startPrice)||TradingView.isNaN(this._trendData.baseLine.endPrice)||(this._points[0].price=this._trendData.baseLine.startPrice,this._points[1].price=this._trendData.baseLine.endPrice)),this._indexes=i,s.prototype._onDataUpdated.call(this,e,t,i))},n.prototype.getStylesPropertyPage=function(){return a.StudyLinearRegressionStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(154),i.e(164),i.e("study-property-pages-with-definitions")]).then(function(e){return i("4lou").RegressionTrendDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.prototype._isReady=function(){return this._trendData&&void 0!==this._trendData.startIndex&&void 0!==this._trendData.endIndex&&r(this._trendData.upLine)&&r(this._trendData.baseLine)&&r(this._trendData.downLine)},n.createProperties=function(e){return s._createPropertiesFromStudyIdAndState(c,e)},n.createPropertiesFromStudyMetaInfoAndState=function(e,t,i,n){return s.createPropertiesFromStudyMetaInfoAndState(e,t,i,n)},n.studyId=function(){return c},n.prototype.cloneable=function(){return!1},t.LineToolRegressionTrend=n},glKZ:function(e,t,i){"use strict";function n(){
clearTimeout(_),clearTimeout(m),clearTimeout(g)}function r(){var e=document.getElementById(y);e?v=e:((v=document.createElement("div")).id=y,document.body.appendChild(v))}function o(){v&&(v.innerHTML="")}function s(e){var t=e.getAttribute("title");return t&&(Object(P.setTooltipData)(e,"text",t),e.removeAttribute("title")),Object(P.getTooltipData)(e,"text")||""}function a(e){var t,i,n,r,o,s,a=k.cloneNode(!0),l=h(a),c=e.content;switch(c.type){case"element":l.innerHTML="",l.appendChild(c.data);break;case"html":l.innerHTML=c.data;break;case"text":e.hotkey?((i=R.cloneNode(!0)).innerText=c.data,l.appendChild(i)):l.innerText=c.data}return e.hotkey&&(n="none"!==c.type,r=D.cloneNode(!0),o=Object(T.a)(e.hotkey),s=o.keys.map(function(e){return'<span class="'+E["common-tooltip__hotkey-button"]+'">'+e+"</span>"}),r.innerHTML=(t=o.text).format.apply(t,s).replace(/\s\+\s/g,'<span class="'+E["common-tooltip__plus-sign"]+'">+</span>'),l.classList.add(E["common-tooltip__body--with-hotkey"]),n&&r.classList.add(E["common-tooltip__hotkey-block--divider"]),l.appendChild(r)),a.addEventListener("contextmenu",I.a),a}function l(e,t){var i,n,r,o,s,a,l,c,d,p,f,_,m,g,y=t.rect;y&&(!function(e,t){var i,n=w.includes(t)?S[t]:"";(i=e.classList).remove.apply(i,w.map(function(e){return S[e]}).filter(function(e){return!!e})),n&&!e.classList.contains(n)&&e.classList.add(n)}(e,t.colorTheme||"default"),t.addClass&&e.classList.add(t.addClass),(i=h(e)).classList.toggle(E["common-tooltip__body--width_wide"],Boolean(t.wide)),i.classList.toggle(E["common-tooltip__body--no-padding"],Boolean(t.noPadding)),i.classList.toggle(E["common-tooltip__body--width_narrow"],Boolean(t.narrow)),i.classList.toggle(E["common-tooltip__body--no-buttons"],!0),e.classList.toggle(E["common-tooltip--no-pointer-events"],!Modernizr.pointerevents),i.style.left=u(0),i.style.width=u(i.clientWidth+(Boolean(t.noPadding)?0:2)),n=document.body.clientWidth,r=window.innerHeight,s=(o=t.vertical)&&y.w<20||!o&&y.h<20,e.classList.toggle(E["common-tooltip--farther"],s),e.classList.toggle(E["common-tooltip--vertical"],o),e.classList.toggle(E["common-tooltip--horizontal"],!o),a=e.querySelector("."+E["common-tooltip__ear-holder"]),l="",o?(e.style.left=u(y.x+y.w),e.style.top=u(y.y-(e.offsetHeight-y.h)/2),c=(e.querySelector(":last-child")||i).getBoundingClientRect().right+L>n,e.classList.toggle(E["common-tooltip--direction_reversed"],c),e.classList.toggle(E["common-tooltip--direction_normal"],!c),l=c?"after":"before",Object(x.isRtl)()?(l=t.otr?"after":l,l=t.otl?"before":l):(l=t.otr?"before":l,l=t.otl?"after":l),a.classList.toggle(E["common-tooltip__ear-holder--before"],"before"===l),a.classList.toggle(E["common-tooltip__ear-holder--after"],"after"===l),"after"===l&&(e.style.left="auto",e.style.right=u(n-y.x))):(d=y.x-(i.offsetWidth-y.w)/2,p=n-L-e.offsetWidth,f=Math.max(L,Math.min(d,p)),e.style.bottom=u(r-y.y),e.style.left=u(f),c=p<d,e.classList.toggle(E["common-tooltip--direction_reversed"],c),e.classList.toggle(E["common-tooltip--direction_normal"],!c),l=i.getBoundingClientRect().top<L?"below":"above",
l=t.above?"above":l,l=t.below?"below":l,a.classList.toggle(E["common-tooltip__ear-holder--above"],"above"===l),a.classList.toggle(E["common-tooltip__ear-holder--below"],"below"===l),"below"===l&&(e.style.bottom="auto",e.style.top=u(y.y+y.h)),_=function(e){return e.querySelector("."+E["common-tooltip__button-container"])}(e),m=i.getBoundingClientRect().left,g=Math.trunc(y.x+y.w/2-(m+i.clientWidth/2)),e.style.left=u(f+g),e.style.width=u(i.clientWidth+_.clientWidth),g=c?Math.max(0,g):Math.min(0,g),_.style.left=u(-g),i.style.left=u(-g)))}function c(e){e.classList.toggle(E["common-tooltip--hidden"],!0)}function u(e){return Math.floor(e)+"px"}function h(e){return e.querySelector("."+E["common-tooltip__body"])}function d(e){var t,i=Object(b.ensureNotNull)(F).options;l(e,i),function(e){e.classList.toggle(E["common-tooltip--hidden"],!1)}(e),W.observe(document,{childList:!0,subtree:!0}),N=!0,i.forceHideOnMove&&(t=function(){document.removeEventListener("mousemove",t),G()},document.addEventListener("mousemove",t))}function p(e){var t,i,n,r,o;return function(e){return"content"in e}(e)?e:(t=e.inner,i=e.html,n=e.text,r=Object(f.__rest)(e,["inner","html","text"]),o={type:"none"},t&&(o={type:"element",data:t}),n&&(o={type:i?"html":"text",data:n}),Object(f.__assign)({content:o},r))}var f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B,N,F,j,W,U,H,z,G;i.r(t),f=i("mrSG"),i("bf9a"),_=0,m=0,g=0,y="tooltip-root-element","interactive"===document.readyState?r():document.addEventListener("DOMContentLoaded",r),b=i("Eyy1"),S={default:"",white:"theme-white","round-shadow":"theme-round-shadow"},w=Object.keys(S),P=i("ljE9"),T=i("ei7k"),C=i("TzTt"),x=i("Ialn"),i("HbRj"),I=i("XAms"),E=i("Wo0S"),L=10,A='\n\t<div id="'+"common-tooltip-wrapper"+'" class="'+E["common-tooltip"]+'">\n\t\t<div class="'+E["common-tooltip__ear-holder"]+'" >\n\t\t\t<div class="'+E["common-tooltip__body"]+' js-tooltip-body"></div>\n\t\t</div>\n\t\t<div class="'+E["common-tooltip__button-container"]+'"></div>\n\t</div>\n',O='\n\t<div class="'+E["common-tooltip__hotkey-block"]+'"></div>\n',M='\n\t<div class="'+E["common-tooltip__hotkey-text"]+'"></div>\n',k=Object(C.parseHtmlElement)(A),D=Object(C.parseHtmlElement)(O),R=Object(C.parseHtmlElement)(M),V=i("lxNp"),i.d(t,"showOnElement",function(){return U}),i.d(t,"show",function(){return H}),i.d(t,"updateTooltipText",function(){return z}),i.d(t,"hide",function(){return G}),B=500,N=!1,F=null,j=null,Modernizr.mobiletouch||document.addEventListener("mouseover",function(e){var t,i,n=e.target,r=e.currentTarget,o=function(e,t,i){for(var n,r=[];e&&e!==t;)e.classList&&e.classList.contains(i)&&r.push(e),e=e.parentElement||(n=e.parentNode)&&(n.nodeType===Node.ELEMENT_NODE?n:null);return r}(n,r,"apply-common-tooltip"),s=function(t){var i,n;if("buttons"in e){if(1&e.buttons)return"continue"}else if(1===e.which)return"continue";if((i=function(){return U(t)})())return n=function(){t.removeEventListener("common-tooltip-update",i),t.removeEventListener("mouseleave",n),t.removeEventListener("mousedown",n),document.removeEventListener("scroll",n),
j&&(j.destroy(),j=null),G()},t.addEventListener("common-tooltip-update",i),t.addEventListener("mouseleave",n),t.addEventListener("mousedown",n),document.addEventListener("scroll",n),null===j&&(j=Object(V.createGroup)({desc:"Tooltip"})).add({desc:"Hide",hotkey:27,handler:n}),"break"};for(t=0,i=o;t<i.length&&"break"!==s(i[t]);t++);},!0),W=new MutationObserver(function(){if(F&&F.options.target){("isConnected"in F.options.target?F.options.target.isConnected:document.body.contains(F.options.target))||G()}}),U=function(e,t){var i,n,r,o,a;return void 0===t&&(t={}),n=(i=p(t)).content,r=Object(f.__rest)(i,["content"]),o=function(e){var t=s(e),i=e.getBoundingClientRect(),n={h:i.height,w:i.width,x:i.left,y:i.top},r=e.getAttribute("data-color-theme")||"",o=e.classList.contains("common-tooltip-html"),a=parseInt(e.getAttribute("data-tooltip-delay")||""),l={type:"none"};return t&&(l={type:o?"html":"text",data:t}),{above:e.classList.contains("common-tooltip-above"),below:e.classList.contains("common-tooltip-below"),otl:e.classList.contains("common-tooltip-otl"),otr:e.classList.contains("common-tooltip-otr"),vertical:e.classList.contains("common-tooltip-vertical"),hotkey:e.getAttribute("data-tooltip-hotkey"),narrow:e.classList.contains("common-tooltip-narrow"),colorTheme:r,tooltipDelay:a,rect:n,content:l,target:e}}(e),a=Object.assign(o,r),"none"!==n.type&&(a.content=n),!("none"===a.content.type&&!a.hotkey)&&(a.target=e,H(a),!0)},H=function(e){var t,i,r,s=p(e),l=a(s);F={options:s,element:l},t=l,o(),v&&v.appendChild(t),n(),N?d(l):(c(l),i=function(){return d(l)},r=function(e){return"number"!=typeof e.tooltipDelay||isNaN(e.tooltipDelay)?B:e.tooltipDelay}(s),_=setTimeout(i,r))},z=function(e){return s(e)},G=function(){var e,t,i,r,s;(n(),W.disconnect(),N&&F)&&(e=F.element,t=F.options,i=function(){e.removeEventListener("mouseleave",i),c(e),g=setTimeout(function(){o(),N=!1,F=null},B/2)},t.tooltipHideDelay?(r=function(){e.querySelector(":hover")?e.addEventListener("mouseleave",i):i()},s=t.tooltipHideDelay,m=setTimeout(r,s)):i())}},gvrv:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h,d,p,f,_;i.d(t,"b",function(){return p}),i.d(t,"a",function(){return _}),n=i("Eyy1"),r=i("aIyQ"),o=i.n(r),s=i("k9/m"),a=i("hsV8"),l=i("jy4L"),c=i("w4Ji"),u=i("jenN"),h=i("uOxu"),d=Object(h.getLogger)("Chart.StudyDataSource"),function(e){e[e.Undefined=0]="Undefined",e[e.Loading=1]="Loading",e[e.Completed=2]="Completed",e[e.Error=3]="Error"}(p||(p={})),function(e){e[e.Idle=0]="Idle",e[e.AwaitingConnection=1]="AwaitingConnection",e[e.AwaitingParent=2]="AwaitingParent",e[e.AwaitingFirstDataUpdate=3]="AwaitingFirstDataUpdate",e[e.Active=4]="Active"}(f||(f={})),_=function(){function e(e,t,i,n){this._inputs=null,this._status=f.Idle,this._studyId=null,this._turnaroundCounter=1,this._studyStatus={type:p.Undefined},this._studyStatusChanged=new o.a,this._graphics=new u.LiveStudyGraphics,this._dataCleared=new o.a,this._dataUpdated=new o.a,this._boundOnGatewayIsConnectedChanged=this._onGatewayIsConnectedChanged.bind(this),this._ongoingDataUpdate=Promise.resolve(),
this._gateway=e,this._metaInfo=n,this._series=t,this._turnaroundPrefix=i,this._plots=new s.PlotList(Object(c.studyPlotFunctionMap)(n)),this._gateway.isConnected().subscribe(this._boundOnGatewayIsConnectedChanged)}return e.prototype.destroy=function(){this.stop(),this._gateway.isConnected().unsubscribe(this._boundOnGatewayIsConnectedChanged),this._dataUpdated.destroy(),this._dataCleared.destroy(),this._studyStatusChanged.destroy()},e.prototype.metaInfo=function(){return this._metaInfo},e.prototype.inputs=function(){return this._inputs},e.prototype.setInputs=function(e){this._inputs=e,null!==this._studyId&&(this._turnaroundCounter++,this._onStudyStatusChangedTo({type:p.Undefined}),this._gateway.modifyStudy(this._studyId,this._turnaround(),e,this._onMessage.bind(this)),this._status===f.Active&&this._changeStatusTo(f.AwaitingFirstDataUpdate))},e.prototype.isStarted=function(){return this._status!==f.Idle},e.prototype.isActive=function(){return this._status===f.Active},e.prototype.start=function(){this.isStarted()?d.logNormal("start: data source is already started, nothing to do"):(Object(n.assert)(null!==this._inputs,"Inputs should be defined when starting a study data source"),this._gateway.isConnected().value()?this._createStudy():this._changeStatusTo(f.AwaitingConnection))},e.prototype.stop=function(){this.isStarted()?(null!==this._studyId&&(this._gateway.removeStudy(this._studyId),this._studyId=null,this._onStudyStatusChangedTo({type:p.Undefined})),this._changeStatusTo(f.Idle)):d.logNormal("stop: data source is already stopped, nothing to do")},e.prototype.studyId=function(){return this._studyId},e.prototype.studyStatus=function(){return this._studyStatus},e.prototype.studyStatusChanged=function(){return this._studyStatusChanged},e.prototype.plots=function(){return this._plots},e.prototype.graphics=function(){return this._graphics},e.prototype.clearData=function(){this._plots.clear(),this._graphics.clear(),this._dataCleared.fire()},e.prototype.stopAndStealData=function(){var e,t;return Object(n.assert)(this._status===f.Active,"Couldn't steal data from non-active data source"),this.stop(),e=this._plots,t=this._graphics.extract(),this._plots=new s.PlotList(Object(c.studyPlotFunctionMap)(this._metaInfo)),{plots:e,graphics:t}},e.prototype.dataCleared=function(){return this._dataCleared},e.prototype.dataUpdated=function(){return this._dataUpdated},e.prototype._changeStatusTo=function(e){Object(n.assert)(this._status!==e,"Source and destination status should be distinct"),d.logNormal("Status changed from "+f[this._status]+" to "+f[e]),this._status=e},e.prototype._createStudy=function(){var e=this._series.seriesId();null!=e?this._createStudyUsingParentId(e):(this._changeStatusTo(f.AwaitingParent),this._series.dataEvents().completed().subscribe(this,this._onSeriesCompleted,!0))},e.prototype._createStudyUsingParentId=function(e){Object(n.assert)(this._status!==f.Active,'Status should not be "Active" when creating a study'),
Object(n.assert)(this._studyStatus.type===p.Undefined,'Study status should be "Undefined" when creating a study'),Object(n.assert)(null===this._studyId,"Study id should be empty when creating a study"),this._studyId=Object(l.makeNextStudyId)(),this._gateway.createStudy(this._studyId,this._turnaround(),e,this._metaInfo.fullId+"!",Object(n.ensureNotNull)(this._inputs),this._onMessage.bind(this)),this._changeStatusTo(f.AwaitingFirstDataUpdate)},e.prototype._onGatewayIsConnectedChanged=function(e){e?this._onGatewayConnected():this._onGatewayDisconnected()},e.prototype._onGatewayConnected=function(){this._status===f.AwaitingConnection&&this._createStudy()},e.prototype._onGatewayDisconnected=function(){this._status!==f.Idle&&this._status!==f.AwaitingConnection&&(this._studyId=null,this._changeStatusTo(f.AwaitingConnection),this._studyStatus.type!==p.Undefined&&this._onStudyStatusChangedTo({type:p.Undefined})),this._turnaroundCounter=1},e.prototype._onSeriesCompleted=function(){this._status===f.AwaitingParent&&this._createStudyUsingParentId(Object(n.ensure)(this._series.seriesId()))},e.prototype._onStudyStatusChangedTo=function(e){var t=this._studyStatus;this._studyStatus=e,d.logNormal("Study status type changed from "+p[t.type]+" to "+p[e.type]),this._studyStatusChanged.fire(t,e)},e.prototype._onMessage=function(e){var t,i,n,r,o,s,a,l,c,u,h;"data_update"===e.method?(i=(t=e.params).customId,n=t.turnaround,r=t.plots,o=t.nonseries,i===this._studyId&&this._checkTurnaround(n)&&this._onDataUpdate(r,o)):"study_loading"===e.method?(i=(s=e.params)[0],n=s[1],a=s[2],i===this._studyId&&this._checkTurnaround(n)&&this._onStudyLoading(a)):"study_completed"===e.method?(i=(l=e.params)[0],n=l[1],a=l[2],i===this._studyId&&this._checkTurnaround(n)&&this._onStudyCompleted(a)):"study_error"===e.method&&(i=(c=e.params)[0],n=c[1],u=c[2],h=c[3],a=c[4],i===this._studyId&&this._checkTurnaround(n)&&this._onStudyError(u,h,a))},e.prototype._onDataUpdate=function(e,t){var i=Object(a.unpackNonSeriesData)(t.d);return this._ongoingDataUpdate=this._ongoingDataUpdate.then(function(){return i},function(){return i}).then(this._onDataUnpacked.bind(this,e,t.indexes)),this._ongoingDataUpdate},e.prototype._onDataUnpacked=function(e,t,i){this._status!==f.Idle&&(this._status===f.AwaitingFirstDataUpdate&&(this._changeStatusTo(f.Active),this.clearData()),this._mergePlots(e),null!==i&&(i.indexes_replace?(Object(n.assert)("nochange"!==t),this._graphics.replaceIndexesTo(t)):("nochange"!==t&&this._graphics.replaceIndexesTo(t),void 0!==i.graphicsCmds&&this._graphics.processCommands(i.graphicsCmds,this._metaInfo.graphics))),this._dataUpdated.fire(e,i,t))},e.prototype._onStudyLoading=function(e){this._onStudyStatusChangedTo({type:p.Loading,startTime:Date.now()})},e.prototype._onStudyError=function(e,t,i){this.clearData(),this._onStudyStatusChangedTo({type:p.Error,reason:e})},e.prototype._onStudyCompleted=function(e){this._onStudyStatusChangedTo({type:p.Completed})},e.prototype._mergePlots=function(e){this._plots.merge(e)},e.prototype._turnaround=function(){
return""+this._turnaroundPrefix+this._turnaroundCounter},e.prototype._checkTurnaround=function(e){var t=this._turnaround();return e===t||e===this._series.turnaround()||e===this._series.turnaround()+"_"+t},e}()},gyZD:function(e,t,i){"use strict";function n(e){this.items=e.items,this._simpleMode=e.simpleMode,this.barSpacing=e.barSpacing,this.lineColor=e.lineColor,this.lineWidth=e.lineWidth,this.lineStyle=e.lineStyle,this.withMarkers=e.withMarkers,this.hittest=e.hittest,this.ignorePaletteLineWidth=e.ignorePaletteLineWidth,this.forceLineColor=!!e.forceLineColor}var r=i("aO4+").Point,o=i("GEp6").distanceToSegment,s=i("Zp/P"),a=i("VdBB").HitTestResult,l=i("cPgM").ScaledPaneRenderer;inherit(n,l),n.prototype._drawImpl=function(e){e.lineCap="square",e.lineJoin=this.withMarkers?"round":"miter",e.strokeStyle=this.lineColor,e.fillStyle=this.lineColor,e.lineWidth=this.lineWidth,e.lineStyle=this.lineStyle,s.setValidLineStyle(e,this.lineStyle),this._simpleMode?this._drawSimpleMode(e):this._drawLines(e)},n.prototype._drawSimpleMode=function(e){var t,i,n,r;if(e.beginPath(),this.walkLine(e,this.items),e.stroke(),this.withMarkers){for(t=this.lineWidth+2,i=2*Math.PI,e.beginPath(),r=this.items.length;r--;)(n=this.items[r])&&(e.moveTo(n.x,n.y),e.arc(n.x,n.y,t,0,i));e.fill()}},n.prototype.walkLine=function(e,t,i,n){var r,o,a,l,c,u,h,d,p,f;if(t){for(r=.25*this.barSpacing,h=s.coordinateIsValid,d=0,p=t.length;d<p;d++)if(h((f=t[d]).y)){a=f,o=d;break}if(void 0!==o&&a)for(d=o,p=t.length;d<p;d++){if(c=t[d],u=t[d+1]||{},h(c.y))if(l&&h(l.y))e.lineTo(c.x,c.y),i&&!h(u.y)&&e.lineTo(c.x,n);else if(u&&h(u.y))i?(d!==o&&e.lineTo(c.x,n),e.lineTo(c.x,c.y)):e.moveTo(c.x,c.y);else if(i){if(0===d)continue;d!==o&&e.lineTo(c.x-r,n),e.lineTo(c.x-r,c.y),e.lineTo(c.x+r,c.y),e.lineTo(c.x+r,n)}else e.moveTo(c.x-r,c.y),e.lineTo(c.x+r,c.y);l=c}}},n.prototype._drawLines=function(e){function t(t,i,n){a(i.y)&&(a(t.y)?e.lineTo(i.x,i.y):n&&a(n.y)?e.moveTo(i.x,i.y):(e.moveTo(i.x-o,i.y),e.lineTo(i.x+o,i.y)))}var i,n,r,o,a,l,c,u,h,d,p,f,_;if(this.items.length){for(o=.25*this.barSpacing,a=s.coordinateIsValid,e.beginPath(),(l=this.items[0])&&e.moveTo(l.x,l.y),c=e.strokeStyle,u=e.lineWidth,h=e.lineStyle,d=1;d<this.items.length;++d)i=this.items[d-1],n=this.items[d],r=this.items[d+1],n.style&&!this.forceLineColor?(p=n.style.color,f=n.style.width,_=n.style.style):(p=this.lineColor,f=this.lineWidth,_=this.lineStyle),this.ignorePaletteLineWidth&&(f=this.lineWidth),(p!==c||f!==u||_!==h)&&(c=p,u=f,h=_,e.stroke(),e.beginPath(),e.strokeStyle=p,e.lineWidth=f,s.setValidLineStyle(e,_),e.moveTo(i.x,i.y)),t(i,n,r);e.stroke()}},n.prototype.hitTest=function(e){for(var t,i,n,l,c,u,h=s.selectionTolerance(this.lineWidth),d=0,p=this.items.length-1;p-d>2;)c=Math.round((p+d)/2),this.items[c].x<=e.x?d=c:p=c;for(d=Math.max(1,d-1),p=Math.min(this.items.length-1,p+1),u=d;u<=p;++u)if(t=this.items[u-1],i=this.items[u],n=t.x,l=i.x,o(new r(n,t.y),new r(l,i.y),new r(e.x,e.y)).distance<=h)return this.hittest?this.hittest:new a(a.REGULAR);return null},t.PaneRendererLine=TradingView.PaneRendererLine=n},
h24c:function(e,t,i){"use strict";function n(e){var t,i,n,r;return i=~~(t=/^[,\s]*(\d*)\s*([hdwmsr]?)\s*$/i.exec(e)||[])[1],n=t[2]&&t[2].toUpperCase()||null,(r={qty:!i&&n?1:i,unit:n}).error=!i&&!n,r.intraday=!(r.error||r.unit&&"H"!==r.unit),r}function r(e){var t,i,r;return u.enabled("allow_supported_resolutions_set_only")?null!==(t=p.Interval.normalize(e))&&Object(h.isAvailable)(t):!(i=n(e)).error&&(i.intraday?d.linking.intraday.value():!(r=d.linking.supportedResolutions.value())||null!==i.unit&&!!~r.indexOf(i.unit))}function o(){return"cme"!==window.TradingView.widgetCustomer&&"bovespa"!==window.TradingView.widgetCustomer}function s(e){var t,n;return!e.ctrlKey&&(!e.metaKey&&(!!e.charCode&&(!(!e.which||e.which<=32)&&((null===e.target||!/^(input|textarea)$/i.test(e.target.tagName))&&((!(t=i.c.GAqT)||!t.exports.TVOldDialogs.modalDialog)&&(!(n=i.c["6aJD"])||!n.exports.isOpenedModals()))))))}function a(e,t){return!t&&(e===d.linking.symbol.value()||e===d.linking.seriesShortSymbol.value())}function l(e,t){var i=d.linking.symbol.value()||"";i=function(e,t){if(!t)return e;if(_.test(e)){var i=e.split(/\//);i.length&&(e=i[i.length-1])}else e=d.linking.seriesShortSymbol.value()||e;return e}(i,t),e.val(i)}function c(e){Object(h.setLastUsedResolution)(e),d.linking.interval.setValue(e)}var u,h,d,p,f,_;i.r(t),i.d(t,"parseIntervalValue",function(){return n}),i.d(t,"intervalIsSupported",function(){return r}),i.d(t,"canShowSpreadActions",function(){return o}),i.d(t,"globalKeypressMatches",function(){return s}),i.d(t,"skipAccept",function(){return a}),i.d(t,"syncSymbolSearch",function(){return l}),i.d(t,"setLinkingResolution",function(){return c}),u=i("Kxc7"),h=i("pPtI"),d=i("PT1i"),p=i("LxhU"),f=i("ePL1"),_=new RegExp("^"+f.types.QUANDL,"i")},h7NA:function(e,t,i){"use strict";function n(){var e,t,i,n;for(window.initData&&window.initData!==c&&(Object.assign(c,window.initData),window.initData=c),e=document.querySelectorAll('script[type="application/prs.init-data+json"]'),t=0;t<e.length;t++){i=e[t];try{n=JSON.parse(Object(s.ensureNotNull)(i.textContent)),Object.assign(c,n)}catch(e){l.logWarn("Failed to parse initData element. "+e)}finally{Object(s.ensureNotNull)(i.parentNode).removeChild(i)}}}function r(){return c}function o(){return n(),c}var s,a,l,c;i.r(t),i.d(t,"updateInitData",function(){return n}),i.d(t,"getInitData",function(){return r}),i.d(t,"getFreshInitData",function(){return o}),s=i("Eyy1"),a=i("uOxu"),l=Object(a.getLogger)("Common.InitData"),c=window.initData||{}},hBTJ:function(e,t,i){"use strict";function n(e,t){var i,n,r=e.A,o=t.A,s=e.B,a=t.B,l=e.C,u=t.C,h=r*a-o*s;return Math.abs(h)<1e-6?null:(i=(s*u-a*l)/h,n=(o*l-r*u)/h,new c.Point(i,n))}function r(e,t,i,n){var r,o,s=function(e,t,i,n){var r,o=t.subtract(e),s=n.subtract(i),a=o.x*s.y-o.y*s.x;return Math.abs(a)<1e-6?null:((r=e.subtract(i)).y*s.x-r.x*s.y)/a}(e,t,i,n);return null===s?null:(r=t.subtract(e).scaled(s).add(e),o=u.distanceToSegment(i,n,r),Math.abs(o.distance)<1e-6?s:null)}function o(e,t){var i,n,r;for(i=0,n=e;i<n.length;i++)if(r=n[i],c.equalPoints(r,t))return!1
;return e.push(t),!0}function s(e,t){return!(e.length>0&&c.equalPoints(e[e.length-1],t))&&(e.push(t),!0)}function a(e,t){var i,r,o,a,l,u=[];for(i=0;i<e.length;++i)r=e[i],o=e[(i+1)%e.length],a=c.lineThroughPoints(r,o),h.pointInHalfplane(r,t)?(s(u,r),h.pointInHalfplane(o,t)||null!==(l=n(a,t.edge))&&s(u,l)):h.pointInHalfplane(o,t)&&null!==(l=n(a,t.edge))&&s(u,l);return u.length>=3?u:null}var l,c,u,h;Object.defineProperty(t,"__esModule",{value:!0}),l=i("Eyy1"),c=i("aO4+"),u=i("GEp6"),h=i("f6yo"),t.intersectLineSegmentAndBox=function(e,t){function i(e,t,i,n,r,o){var s=0;return e<i?s|=1:e>r&&(s|=2),t<n?s|=4:t>o&&(s|=8),s}for(var n,r,o,s=e[0].x,a=e[0].y,l=e[1].x,u=e[1].y,h=t.min.x,d=t.min.y,p=t.max.x,f=t.max.y,_=i(s,a,h,d,p,f),m=i(l,u,h,d,p,f),g=!1,y=0;;){if(y>1e3)throw new Error("Cohen - Sutherland algorithm: infinity loop");if(y++,!(_|m)){g=!0;break}if(_&m)break;r=void 0,o=void 0,8&(n=_||m)?(r=s+(l-s)*(f-a)/(u-a),o=f):4&n?(r=s+(l-s)*(d-a)/(u-a),o=d):2&n?(o=a+(u-a)*(p-s)/(l-s),r=p):(o=a+(u-a)*(h-s)/(l-s),r=h),n===_?_=i(s=r,a=o,h,d,p,f):m=i(l=r,u=o,h,d,p,f)}return g?c.equalPoints(c.point(s,a),c.point(l,u))?c.point(s,a):c.lineSegment(c.point(s,a),c.point(l,u)):null},t.intersectLines=n,t.intersectLineSegments=r,t.intersectLineAndBox=function(e,t){var i,n,r,s,a,u=t.min.x,h=t.min.y,d=t.max.x,p=t.max.y;if(0===e.A)return i=-e.C/e.B,h<=i&&i<=p?c.lineSegment(c.point(u,i),c.point(d,i)):null;if(0===e.B)return n=-e.C/e.A,u<=n&&n<=d?c.lineSegment(c.point(n,h),c.point(n,p)):null;switch(r=[],a=function(t){var i=function(e,t){return-(e.C+e.B*t)/e.A}(e,t);u<=i&&i<=d&&o(r,new c.Point(i,t))},(s=function(t){var i=function(e,t){return-(e.C+e.A*t)/e.B}(e,t);h<=i&&i<=p&&o(r,new c.Point(t,i))})(u),a(h),s(d),a(p),r.length){case 0:return null;case 1:return r[0];case 2:return c.equalPoints(r[0],r[1])?r[0]:c.lineSegment(r[0],r[1])}return l.assert(!1,"We should have at most two intersection points"),null},t.intersectRayAndBox=function(e,t,i){var n,o=r(e,t,i.min,new c.Point(i.max.x,i.min.y)),s=r(e,t,new c.Point(i.max.x,i.min.y),i.max),a=r(e,t,i.max,new c.Point(i.min.x,i.max.y)),l=r(e,t,new c.Point(i.min.x,i.max.y),i.min),u=[];return null!==o&&o>=0&&u.push(o),null!==s&&s>=0&&u.push(s),null!==a&&a>=0&&u.push(a),null!==l&&l>=0&&u.push(l),0===u.length?null:(u.sort(function(e,t){return e-t}),n=h.pointInBox(e,i)?u[0]:u[u.length-1],e.addScaled(t.subtract(e),n))},t.intersectPolygonAndHalfplane=a,t.intersectPolygons=function(e,t){var i,n,r,o,s,l=e;for(i=0;i<t.length&&null!==l;++i)n=t[i],r=t[(i+1)%t.length],o=t[(i+2)%t.length],s=c.lineThroughPoints(n,r),l=a(l,c.halfplaneThroughPoint(s,o));return l}},hGf4:function(e,t,i){"use strict";(function(e,t){function n(t,i){this.options=Object.assign({throttleTimeout:125},i),this._connected=!1,this._symbol_data={},this._subscriptions={},this._delayed_subscriptions=[],this.onConnect=new e,this.onDisconnect=new e,this._quoteApi=new r(window.ChartApiInstance),this._type=t||"full",this._delayUpdateFastSymbols=s(this._updateFastSymbols,250),this._throttledSymbolData={},this._formatterValuesCache={},
this._waitingForFormatters={},this._snapshotValuesCache={},this._waitingForSnapshot={},this.connect()}var r,o=i("kcTO").PriceFormatter,s=i("JOqt").debounce,a=i("PoSe"),l=i("IVMC"),c=i("0waE"),u=i("i/Bj").parseUpdateMode,h=i("FIi8").deepExtend;r=i("wi9r"),n.prototype.destroy=function(){this._quoteApi.destroy(),this._quoteApi=null,this._connected=!1,this.onDisconnect.fire()},n.prototype.typeFields={},n.prototype.typeFields.simple=["ch","chp","current_session","description","local_description","language","exchange","fractional","is_tradable","lp","lp_time","minmov","minmove2","original_name","pricescale","pro_name","short_name","type","update_mode","volume","currency_code"],n.prototype.typeFields.simpleDetailed=[].concat(n.prototype.typeFields.simple,["ask","bid","fundamentals","high_price","is_tradable","low_price","open_price","prev_close_price","rch","rchp","rtc","rtc_time","status","basic_eps_net_income","beta_1_year","earnings_per_share_basic_ttm","industry","market_cap_basic","price_earnings_ttm","sector","volume","dividends_yield","timezone"]),n.prototype.typeFields.full=[],n.prototype.typeFields.watchlist=[].concat(n.prototype.typeFields.simple,["rchp","rtc"]),n.prototype.connect=function(e){this._quoteApi.connect(this.quoteHandler.bind(this))},n.prototype.quoteHandler=function(e){var t=e.method,i=e.params;switch(t){case"connected":this._connected||(this._connected=!0,this.onConnected());break;case"quote_list_fields":break;case"quote_symbol_data":this._connected&&this.onSymbolData(i[0]);break;case"disconnected":this._connected&&(this._connected=!1,this.onDisconnect.fire())}},n.prototype.onConnected=function(){this.setFields();var e=Object.keys(this._symbol_data);e.length&&this._quoteApi.quoteAddSymbols(e,{forcePermission:!0}),this._delayed_subscriptions.forEach(function(e){this.subscribe.apply(this,e)},this),this._delayed_subscriptions=[],this.onConnect.fire()},n.prototype.setFields=function(){var e=n.prototype.typeFields[this._type];e&&e.length&&this._quoteApi.quoteSetFields(e)},n.prototype.onSymbolData=function(e){var t=e.symbolname,i=this._throttledSymbolData[t];i||(i=this._throttledSymbolData[t]={fnDispatch:a(this.dipatchSymbolData.bind(this),this.options.throttleTimeout)}),i.cache?h(i.cache,e):i.cache=e,i.fnDispatch(t)},n.prototype._parseUpdateMode=function(e){var t=u(e.update_mode);null!==t&&(e.update_mode=t.mode,e.update_mode_seconds=t.interval)},n.prototype.dipatchSymbolData=function(e){var t,i,n=this._symbol_data[e],r=this._throttledSymbolData[e].cache;if(delete this._throttledSymbolData[e].cache,this._symbol_data[e])for(t in h(n,r),n.values&&this._parseUpdateMode(n.values),this._subscriptions)(i=this._subscriptions[t])[e]&&i[e].forEach(function(e){e(n,r)})},n.prototype.subscribe=function(e,t,i){var n,r;this._connected?(this._subscriptions[e]=this._subscriptions[e]||{},n=this._subscriptions[e],t=[].concat(t),r=[],t.forEach(function(e){this._symbol_data[e]?n&&n[e]||this._symbol_data[e].subscribers_count++:(this._symbol_data[e]={subscribers_count:1},r.push(e)),n[e]=n[e]||[],n[e].push(i),n[e].fast=!0,
this._symbol_data[e]&&this._symbol_data[e].values&&i(this._symbol_data[e],this._symbol_data[e])},this),r.length&&(this._quoteApi.quoteAddSymbols(r,{forcePermission:!0}),this._delayUpdateFastSymbols())):this._delayed_subscriptions.push(arguments)},n.prototype.unsubscribe=function(e,t,i){var n,r=this._subscriptions[e];r&&(r[t]&&i?(~(n=r[t].indexOf(i))&&r[t].splice(n,1),r[t].length||delete r[t]):delete r[t]),r&&0===Object.keys(r).length&&delete this._subscriptions[e],this._symbol_data.hasOwnProperty(t)&&(r&&!r[t]&&this._symbol_data[t].subscribers_count--,this._symbol_data[t].subscribers_count||(delete this._symbol_data[t],this._quoteApi.quoteRemoveSymbols([t]),this._delayUpdateFastSymbols()))},n.prototype.setFastSymbols=function(e,t){var i,n;if(this._subscriptions[e])for(n in i=this._subscriptions[e])i[n].fast=-1!==t.indexOf(n);this._delayUpdateFastSymbols()},n.prototype._updateFastSymbols=function(){if(this._connected){var e=this._fastSymbols();0===e.length?this._quoteApi.quoteHibernateAll():this._quoteApi.quoteFastSymbols(e)}},n.prototype._delayUpdateFastSymbols=n.prototype._updateFastSymbols,n.prototype._fastSymbols=function(){var e,t,i,n=[];for(e in this._subscriptions)for(i in t=this._subscriptions[e])t[i].fast&&n.push(i);return n=l(n)},n.prototype.formatter=function(e,t){function i(e){var i=t&&!e.fractional?1:e.minmov;return new o(e.pricescale,i,e.fractional,e.minmove2)}var n,r=this;return this._waitingForFormatters[e]?this._waitingForFormatters[e]:(n=new Promise(function(t,n){if(r._formatterValuesCache[e])t(i(r._formatterValuesCache[e]));else{var o=c.guid();r.subscribe(o,[e],function(s){"error"===s.status&&(r._waitingForFormatters[e]=null,n("Quotes snapshot is not received")),function(e){return e&&null!=e.pricescale&&null!=e.minmov}(s.values)&&(r._waitingForFormatters[e]=null,r._formatterValuesCache[e]=s.values,t(i(s.values)),r.unsubscribe(o,e))})}}),this._waitingForFormatters[e]=n,n)},n.prototype.snapshot=function(e){var t,i=this;return this._waitingForSnapshot[e]?this._waitingForSnapshot[e]:(t=new Promise(function(t,n){if(i._snapshotValuesCache[e])t(i._snapshotValuesCache[e]);else{var r=c.guid();i.subscribe(r,[e],function(o){"error"===o.status&&(i._waitingForSnapshot[e]=null,n("Quotes snapshot is not received"));var s=o.values;s&&s.minmov&&s.pricescale&&s.description&&(i._waitingForSnapshot[e]=null,i._snapshotValuesCache[e]=s,t(s),i.unsubscribe(r,e))})}}),this._waitingForSnapshot[e]=t,t)},TradingView.QuoteSessionMultiplexer=n,t&&t.exports&&(t.exports=n)}).call(this,i("aIyQ"),i("YuTi")(e))},hGxK:function(e,t,i){"use strict";(function(t){function n(e){this._pendingRequestDfdPromise=null,this.invalidated=new t,this._init()}var r=i("jofe").createDeferredPromise,o=i("uOxu"),s=o.getLogger("ChartApi.AuthToken",{color:"#173"});window.loginStateChange=new t,n.prototype.useToken=!1,n.prototype.token="",n.prototype._init=function(){this._getFromUserHash(),window.loginStateChange.subscribe(this,function(e){e||(this._getFromUserHash(),this.invalidated.fire())})},n.prototype._getFromUserHash=function(){
window.user&&user.auth_token?this.set(user.auth_token):this.remove()},n.prototype.get=function(e){var t,i,n=!1;return!this.useToken||this.token?(i=this.useToken?this.token:"",delete this.token,t=new Promise(function(t,n){var r,o;e?(s.logNormal("Requesting auth token"),(r=new XMLHttpRequest).open("POST","/grab_session/"),r.addEventListener("load",function(){s.logNormal("Requesting auth token is finished"),t(i)}),o=function(){s.logError("Requesting auth token is failed")},r.addEventListener("error",o),r.addEventListener("timeout",o),r.send()):t(i)})):(n=!0,t=this._request(e)),t.then(function(e){return this._syncExpiresTimeout(e,n),e}.bind(this))},n.prototype.set=function(e){this.useToken=!0,null!==this._pendingRequestDfdPromise?this._pendingRequestDfdPromise.resolve(e):this.token=e},n.prototype.remove=function(){this.token="",this.useToken=!1,null!==this._pendingRequestDfdPromise&&(this._pendingRequestDfdPromise.resolve(""),delete this._token)},n.prototype._request=function(e){var t,i,n,o,a;return null===this._pendingRequestDfdPromise&&(s.logNormal("Requesting quote auth token"),t=this,i=null,n=r(),this._pendingRequestDfdPromise=n,o=function(){null!==i&&(i.abort(),i=null),t._pendingRequestDfdPromise=null},n.promise.then(o),n.promise.catch(o),a=0,function r(){function o(){var e,o=i.status;if(i=null,null!==t._pendingRequestDfdPromise&&t._pendingRequestDfdPromise===n){if(s.logWarn("Quote auth token requesting error, status code: "+o),403===o)return s.logWarn("Quote auth token: session is not active"),void n.resolve("");e=Math.min(1e3*a,3e4),a++,setTimeout(r,e)}}(i=new XMLHttpRequest).open("POST","/quote_token/"),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.addEventListener("load",function(){s.logNormal("Quote auth token requesting is finished");var e=JSON.parse(i.responseText);i=null,n.resolve(e)}),i.addEventListener("error",o),i.addEventListener("timeout",o),i.send("grabSession="+Boolean(e))}()),this._pendingRequestDfdPromise.promise},n.prototype._expiration=function(e){return this._jwtExpiration(e)||this._legacyExpiration(e)},n.prototype._jwtExpiration=function(e){var t,i=null;try{3===(t=e.split(".")).length&&(i=JSON.parse(atob(t[1])))}catch(e){}return null!==i&&isFinite(i.iat)&&isFinite(i.exp)?{timestamp:1e3*i.iat,lifespan:1e3*(i.exp-i.iat)}:null},n.prototype._legacyExpiration=function(e){var t,i,n=e.split(":");return n[8]&&n[9]?(t=+n[8],i=+n[9],isFinite(t)&&isFinite(i)?{timestamp:1e3*t,lifespan:1e3*i}:null):null},n.prototype._expiresTimeoutId=void 0,n.prototype._syncExpiresTimeout=function(e,t){var i,n,r=3e5;this._expiresTimeoutId&&(clearTimeout(this._expiresTimeoutId),delete this._expiresTimeoutId),e&&(i=this._expiration(e))&&(n=t?i.lifespan:new Date-i.timestamp+i.lifespan,n-=r,n=Math.max(0,n),s.logNormal("Auth token expires in "+n/1e3+" seconds"),this._expiresTimeoutId=setTimeout(function(){s.logNormal("Auth token is expired"),this.invalidated.fire()}.bind(this),n))},e.exports=n}).call(this,i("aIyQ"))},hP9j:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolPolyline"
;var r=t||n.createProperties();o.call(this,e,r),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("C2CE").PolylinePaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("aO4+").Point,o=i("Ss5c").LineDataSource,s=i("Ocx9").DefaultProperty,a=i("hayr").propertyPages,l=window.t("Polyline");inherit(n,o),n.prototype.pointsCount=function(){return-1},n.prototype.translatedType=function(){return l},n.prototype.name=function(){return"Polyline"},n.prototype.hasEditableCoordinates=function(){return!1},n.prototype.addPoint=function(e){var t,i,n,s,a,l,c,u,h=this._model.timeScale().indexToCoordinate(e.index),d=e.price,p=this.ownerSource().firstValue(),f=this.priceScale().priceToCoordinate(d,p),_=5;if(this._points.length>0){if(t=this._points[this._points.length-1],i=this._model.timeScale().indexToCoordinate(t.index),n=t.price,s=this.priceScale().priceToCoordinate(n,p),new r(h,f).subtract(new r(i,s)).length()<_)return this._lastPoint=null,this.normalizePoints(),this.createServerPoints(),!0;if(a=this._points[0],l=this._model.timeScale().indexToCoordinate(a.index),c=a.price,u=this.priceScale().priceToCoordinate(c,p),new r(h,f).subtract(new r(l,u)).length()<_)return this._properties.filled.setValue(!0),this._lastPoint=null,this.normalizePoints(),this.createServerPoints(),!0}return o.prototype.addPoint.call(this,e)},n.prototype.setPoint=function(e,t){var i,n,s,a,l,c,u;o.prototype.setPoint.call(this,e,t),this._model.timeScale().isEmpty()||this.priceScale().isEmpty()||e!==this._points.length-1&&0!==e||(i=5,n=this.ownerSource().firstValue(),s=this._model.timeScale().indexToCoordinate(t.index),a=this.priceScale().priceToCoordinate(t.price,n),l=e===this._points.length-1?this._points[0]:this._points[this._points.length-1],c=this._model.timeScale().indexToCoordinate(l.index),u=this.priceScale().priceToCoordinate(l.price,n),new r(s,a).subtract(new r(c,u)).length()<i&&this._properties.filled.setValue(!0))},n.prototype.getInputsPropertyPage=function(){return null},n.prototype.getStylesPropertyPage=function(){return a.LineToolPolylineStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("91EF").PolylinesDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new s("linetoolpolyline",e);return n._configureProperties(t),t},n._configureProperties=function(e){o._configureProperties(e),e.addExclusion("filled")},t.LineToolPolyline=n},hPwr:function(e,t,i){"use strict";var n;i.r(t),i.d(t,"PublishedChartsFilter",function(){return n}),function(e){e.None="all",e.Following="following",e.Private="private"}(n||(n={}))},hY0g:function(e,t,i){"use strict";(function(e){function t(e){if(!(this instanceof t))return new t(e);arguments.length>0&&(this._value=e),this._listeners=[]}t.prototype.value=function(){return this._owner?this._owner._value:this._value},t.prototype.setValue=function(e,t){var i,n,r,o=this._owner?this._owner:this
;if("function"==typeof o.hook&&(e=o.hook(e)),o.writeLock)return o._value;if(!t&&o._value===e&&o.hasOwnProperty("_value"))return e;for(o._value=e,i=o._listeners.slice(),n=0,r=0;r<i.length;r++)i[r].once&&(o._listeners.splice(r-n,1),n++),i[r].cb(e);return e},t.prototype.deleteValue=function(){var e,t,i,n=this._owner?this._owner:this;if(n.hasOwnProperty("_value")){if(n.writeLock)return n._value;for(delete n._value,e=n._listeners.slice(),t=0,i=0;i<e.length;i++)e[i].once&&(n._listeners.splice(i-t,1),t++),e[i].cb()}},t.prototype.subscribe=function(e,t){var i,n,r;if("function"!=typeof e)throw new TypeError("callback must be a function");i=!!t&&!!t.once,n=!!t&&!!t.callWithLast,r=this._owner?this._owner:this,n&&r.hasOwnProperty("_value")&&(e(r._value),i)||r._listeners.push({cb:e,owner:this,once:!!t&&!!t.once})},t.prototype.unsubscribe=function(e){var t,i,n=this._owner?this._owner:this;for(void 0===e&&(e=null),i=(t=n._listeners).length;i--;)t[i].owner!==this&&n!==this||t[i].cb!==e&&null!==e||t.splice(i,1)},t.prototype.listeners=function(){return(this._owner?this._owner:this)._listeners},t.prototype.readonly=function(){if(this._readonlyInstance)return this._readonlyInstance;var e=this._readonlyInstance=new function(){};return e.subscribe=this.subscribe.bind(this),e.unsubscribe=this.unsubscribe.bind(this),e.value=this.value.bind(this),e.when=this.when.bind(this),e.spawn=function(){return this.spawn().readonly()}.bind(this),this.destroy&&(e.destroy=this.destroy.bind(this)),e},t.prototype.spawn=function(e){var i=new t;return delete i._listeners,i._owner=this._owner||this,i.destroy=function(){"function"==typeof e&&e(),this.unsubscribe(),delete this._owner},i},t.prototype.when=function(e){var t,i=this;this.value()?e():(t=function(n){n&&(i.unsubscribe(t),e())},i.subscribe(t))},t.prototype.opposite=function(){var e,i;return this._opposite||(e=this,i=new t(!this.value()),this.subscribe(function(e){i.setValue(!e)}),i.subscribe(function(t){e.setValue(!t)}),this._opposite=i),this._opposite},"undefined"!=typeof window&&(window.WatchedValue=t),e&&e.exports&&(e.exports=t)}).call(this,i("YuTi")(e))},hY3j:function(e,t,i){"use strict";function n(){this.visible=!0,this.horzLinesVisible=!0,this.horzLinesColor="white",this.horzLinesStyle="",this.vertLinesVisible=!0,this.vertLinesColor="white",this.vertLinesStyle=""}function r(e,t){this.source=e,this.pane=t,this._renderer=new o}var o=i("PAcw").GridRenderer;n.prototype.paneViews=function(e){return[new r(this,e)]},r.prototype.update=function(){},r.prototype.renderer=function(){var e={};return this.pane.defaultPriceScale().isEmpty()||this.pane.timeScale().isEmpty()?null:(e.horzLinesVisible=!0,e.vertLinesVisible=!0,e.horzLinesColor=this.pane._model.properties().paneProperties.horzGridProperties.color.value(),e.vertLinesColor=this.pane._model.properties().paneProperties.vertGridProperties.color.value(),e.horzLineStyle=this.pane._model.properties().paneProperties.horzGridProperties.style.value(),e.vertLineStyle=this.pane._model.properties().paneProperties.vertGridProperties.style.value(),
e.priceMarks=this.pane.defaultPriceScale().marks(),e.timeMarks=this.pane.timeScale().marks(),e.w=this.pane.width(),e.h=this.pane.height(),this._renderer.setData(e),this._renderer)},t.Grid=n},hayr:function(e,t,i){"use strict";function n(e,t){Promise.all([i.e("vendors_embed"),i.e(15),i.e(36),i.e(64),i.e(92),i.e(119),i.e(240),i.e(26),i.e(29),i.e(56),i.e(59),i.e(108),i.e(150),i.e(158),i.e("ds-property-pages")]).then(function(t){r.ChartStylesPropertyPage=i("11dv"),r.LineToolABCDPatternStylesPropertyPage=i("UDBZ"),r.LineToolArcStylesPropertyPage=i("g+Cd"),r.LineToolArrowMarkStylesPropertyPage=i("e3Xi"),r.LineToolBalloonStylesPropertyPage=i("wt/7"),r.LineToolBarsPatternStylesPropertyPage=i("JGUD").LineToolBarsPatternStylesPropertyPage,r.LineToolBezierStylesPropertyPage=i("GjuB"),r.LineToolBrushStylesPropertyPage=i("qrDX"),r.LineToolCalloutStylesPropertyPage=i("NHMx"),r.LineToolCircleLinesStylesPropertyPage=i("MKMD"),r.LineToolDateAndPriceRangeStylesPropertyPage=i("ytZH"),r.LineToolDateRangeStylesPropertyPage=i("IfF0"),r.LineToolDisjointChannelStylesPropertyPage=i("onHl"),r.LineToolElliottStylesPropertyPage=i("1WFa"),r.LineToolEllipseStylesPropertyPage=i("vDrZ"),r.LineToolFibChannelStylesPropertyPage=i("qf46"),r.LineToolFibCirclesStylesPropertyPage=i("o4FW"),r.LineToolFibRetracementStylesPropertyPage=i("k7QS"),r.LineToolFibSpeedResistanceArcsStylesPropertyPage=i("uHqD"),r.LineToolFibSpeedResistanceFanStylesPropertyPage=i("68yv"),r.LineToolFibSpiralStylesPropertyPage=i("a4eO"),r.LineToolFibTimeZoneStylesPropertyPage=i("SSqB"),r.LineToolFibWedgeStylesPropertyPage=i("ISmD"),r.LineToolFlatBottomStylesPropertyPage=i("5fTj"),r.LineToolGannComplexStylesPropertyPage=i("JM7/").LineToolGannComplexStylesPropertyPage,r.LineToolGannFixedStylesPropertyPage=i("QxMc").LineToolGannFixedStylesPropertyPage,r.LineToolGannFanStylesPropertyPage=i("6rcL"),r.LineToolGannSquareStylesPropertyPage=i("B0+Q"),r.LineToolGhostFeedInputsPropertyPage=i("/1PJ").LineToolGhostFeedInputsPropertyPage,r.LineToolGhostFeedStylesPropertyPage=i("/1PJ").LineToolGhostFeedStylesPropertyPage,r.LineToolHorzLineInputsPropertyPage=i("/0lf").LineToolHorzLineInputsPropertyPage,r.LineToolHorzLineStylesPropertyPage=i("/0lf").LineToolHorzLineStylesPropertyPage,r.LineToolIconStylesPropertyPage=i("u2Ui"),r.LineToolInputsPropertyPage=i("n3Kh"),r.LineToolLineTool5PointsPatternStylesPropertyPage=i("kr49"),r.LineToolNotePropertyPage=i("JyhW"),r.LineToolParallelChannelStylesPropertyPage=i("To5g"),r.LineToolPitchfanStylesPropertyPage=i("LkNV"),r.LineToolPitchforkStylesPropertyPage=i("2KYr"),r.LineToolPolylineStylesPropertyPage=i("Ej6X"),r.LineToolPredictionStylesPropertyPage=i("QPOT"),r.LineToolPriceLabelStylesPropertyPage=i("68pv"),r.LineToolProjectionStylesPropertyPage=i("JCAo"),r.LineToolRectangleStylesPropertyPage=i("SSGo"),r.LineToolRiskRewardInputsPropertyPage=i("XXYQ").LineToolRiskRewardInputsPropertyPage,r.LineToolRiskRewardStylesPropertyPage=i("XXYQ").LineToolRiskRewardStylesPropertyPage,r.LineToolTextStylesPropertyPage=i("cqAO"),r.LineToolTimeCyclesPropertyPage=i("8TiD"),
r.LineToolTrendAngleInputsPropertyPage=i("qpZX").LineToolTrendAngleInputsPropertyPage,r.LineToolTrendAngleStylesPropertyPage=i("qpZX").LineToolTrendAngleStylesPropertyPage,r.LineToolTrendBasedFibExtensionStylesPropertyPage=i("xj4C"),r.LineToolTrendBasedFibTimeStylesPropertyPage=i("bllF"),r.LineToolTrendLineStylesPropertyPage=i("lNYe"),r.LineToolInfoLineStylesPropertyPage=i("lNYe"),r.LineToolTrianglePatternStylesPropertyPage=i("kNI9"),r.LineToolTriangleStylesPropertyPage=i("5Y1l"),r.LineToolVertLineInputsPropertyPage=i("ePt6").LineToolVertLineInputsPropertyPage,r.LineToolVertLineStylesPropertyPage=i("ePt6").LineToolVertLineStylesPropertyPage,r.LineToolCrossLineInputsPropertyPage=i("nzyg").LineToolCrossLineInputsPropertyPage,r.LineToolCrossLineStylesPropertyPage=i("nzyg").LineToolCrossLineStylesPropertyPage,r.LineToolVisibilitiesPropertyPage=i("RTm2"),r.StudyCompareInputsPropertyPage=i("y4lV"),r.StudyDisplayPropertyPage=i("o6hY").StudyDisplayPropertyPage,r.StudyInputsPropertyPage=i("L9lC").StudyInputsPropertyPage,r.StudyLineDataSourcePropertyPage=i("ICcj"),r.StudyOverlayStylesPropertyPage=i("y9kM"),r.StudyPivotPointsStandardStylesPropertyPage=i("1aTc"),r.StudyStylesPropertyPage=i("o6hY").StudyStylesPropertyPage,r.StudyStrategyPropertyPage=i("0kz7"),r.LinetoolVolumeProfilePropertyPage=i("QM6D").LinetoolVolumeProfilePropertyPage,r.StudyElliottInputsPropertyPage=i("GBzp"),r.StudyLinearRegressionStylesPropertyPage=i("5rsd"),r.StudyPivotPointsHighLowStylesPropertyPage=i("QEbV"),r.StudyVolumeProfilePropertyPage=i("QM6D").StudyVolumeProfilePropertyPage,r.StudyZigZagStylesPropertyPage=i("gTeN"),s.logNormal("Property pages loaded"),e()}.bind(null,i)).catch(t)}var r,o,s=i("uOxu").getLogger("Chart.DataSourcePropertyPages"),a=i("mpWx").retries;t.propertyPages={},r=t.propertyPages,o=null,t.loadPropertyPages=function(){return null!==o?o:(s.logNormal("Start loading property pages"),o=a(function(){return new Promise(n)},2))}},hezA:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"StudyPriceAxisView",function(){return o}),n=i("mrSG"),r=i("KcY8"),o=function(e){function t(t,i){var n=e.call(this)||this;return n._model=t.model(),n._source=t,n._data=i,n}return Object(n.__extends)(t,e),t.prototype._updateRendererData=function(e,t,i){var n,r,o;e.visible=!1,t.visible=!1,n=this._source.model(),null!==(r=this._source.priceScale())&&n.isPriceScaleVisible(r)&&((o=this._source.lastValueData(this._data.plotIndex,!1)).noData||(i.background=o.color,i.color=this.generateTextColor(o.color),i.coordinate=o.coordinate,i.floatCoordinate=o.floatCoordinate,this._showAxisLabel()&&(e.text=o.text,e.visible=!0),this._updatePaneRendererData(t)))},t.prototype._showPaneLabel=function(){return this._model.properties().scalesProperties.showStudyPlotLabels.value()},t.prototype._showAxisLabel=function(){return this._model.properties().scalesProperties.showStudyLastValue.value()},t.prototype._updatePaneRendererData=function(e){e.text="",this._showPaneLabel()&&(e.text=this._source.priceLabelText(this._data.plotIndex),e.visible=!0)},t}(r.a)},hfHJ:function(e,t,i){
"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("aO4+");t.identityMatrix=function(){return[[1,0,0],[0,1,0],[0,0,1]]},t.multiplyMatrices=function(e,t){var i,n,r,o=[[0,0,0],[0,0,0],[0,0,0]];for(i=0;i<3;i++)for(n=0;n<3;n++)for(r=0;r<3;r++)o[i][n]+=e[i][r]*t[r][n];return o},t.rotationMatrix=function(e){var t=Math.cos(e),i=Math.sin(e);return[[t,-i,0],[i,t,0],[0,0,1]]},t.scalingMatrix=function(e,t){return[[e,0,0],[0,t,0],[0,0,1]]},t.translationMatrix=function(e,t){return[[1,0,e],[0,1,t],[0,0,1]]},t.transformPoint=function(e,t){var i,r,o=[t.x,t.y,1],s=[0,0,0];for(i=0;i<3;i++)for(r=0;r<3;r++)s[i]+=o[r]*e[i][r];return new n.Point(s[0],s[1])}},"hfc+":function(e,t,i){"use strict";function n(e){return r.hasOwnProperty(e)}i.r(t),i.d(t,"sfFlagMap",function(){return r}),i.d(t,"isSfFlag",function(){return n});var r={sf_dly:0,sf_rt:0}},hqNu:function(e,t,i){"use strict";function n(e){Promise.all([i.e("dialogs-core"),i.e(0),i.e(1),i.e(172),i.e("go-to-tv-referral-dialog")]).then(function(t){(0,i("8aV4").createGoToTradingViewReferralDialog)(e).open()}.bind(null,i)).catch(void 0)}i.r(t),i.d(t,"showGoToTradingViewReferralDialog",function(){return n})},hsV8:function(e,t,i){"use strict";function n(e){if(e<0)throw new Error("TimePointIndexIndex should be non-negative integer");return e}function r(e){var t,n,r=this;if(""===e)return Promise.resolve(null);if(t=JSON.parse(e),!Object(s.isObject)(t)||"function"==typeof t)return Promise.reject(new Error("Non-object content in the non-series envelope"));if(Object(s.hasProperty)(t,"indexes_replace"))return Promise.resolve({indexes_replace:!0});if(n={indexes_replace:!1},Object(s.hasProperty)(t,"offsets")&&(n.offsets=t.offsets),Object(s.hasProperty)(t,"isUpdate")){if("boolean"!=typeof t.isUpdate)return Promise.reject(new Error('Invalid type of "isUpdate" field'));n.isUpdate=t.isUpdate}return Object(s.hasProperty)(t,"data")&&(n.data=t.data),Object(s.hasProperty)(t,"graphicsCmds")&&(n.graphicsCmds=Object(a.b)(t.graphicsCmds)),Object(s.hasProperty)(t,"dataCompressed")||Object(s.hasProperty)(t,"graphicsCmdsCompressed")?new Promise(function(e){i.e("jszip").then(function(l){return Object(o.__awaiter)(r,void 0,void 0,function(){var r,l,c,u,h,d,p,f,_;return Object(o.__generator)(this,function(o){switch(o.label){case 0:return r=i("fDnD"),Object(s.hasProperty)(t,"dataCompressed")?[4,(new r).loadAsync(t.dataCompressed,{base64:!0})]:[3,3];case 1:return h=o.sent(),l=n,u=(c=JSON).parse,[4,h.file("").async("text")];case 2:l.data=u.apply(c,[o.sent()]),o.label=3;case 3:return Object(s.hasProperty)(t,"graphicsCmdsCompressed")?[4,(new r).loadAsync(t.graphicsCmdsCompressed,{base64:!0})]:[3,6];case 4:return h=o.sent(),d=n,p=a.b,_=(f=JSON).parse,[4,h.file("").async("text")];case 5:d.graphicsCmds=p.apply(void 0,[_.apply(f,[o.sent()])]),o.label=6;case 6:return e(n),[2]}})})}.bind(null,i)).catch(void 0)}):Promise.resolve(n)}var o,s,a;i.r(t),i.d(t,"ensureTimePointIndexIndex",function(){return n}),i.d(t,"unpackNonSeriesData",function(){return r}),o=i("mrSG"),s=i("JmuD"),a=i("qySK")},"i/Bj":function(e,t,i){
"use strict";function n(e){if(void 0===e)return null;var t=e.match(/(delayed_streaming)_([\d]{1,4})/);return null===t?null:{mode:t[1],interval:parseInt(t[2])}}i.r(t),i.d(t,"parseUpdateMode",function(){return n})},i126:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u;i.r(t),i.d(t,"StudyColorRotatorFactory",function(){return u}),n=i("eJTA"),r=i("Tmoa"),o=i("6Kf3"),s=i("3ClC"),a=["color-tan-orange-a700","color-sky-blue-400","color-banana-yellow-700","color-deep-blue-500","color-grapes-purple-a700","color-iguana-green-500","color-minty-green-a700","color-ripe-red-a200","color-berry-pink-200","color-tv-blue-a100","color-tan-orange-a200","color-sky-blue-a400","color-deep-blue-a100","color-grapes-purple-400","color-iguana-green-a700","color-minty-green-200","color-ripe-red-200","color-berry-pink-a200","color-ripe-red-500","color-grapes-purple-500","color-deep-blue-400","color-tv-blue-a200","color-sky-blue-500","color-iguana-green-400","color-minty-green-400","color-banana-yellow-600","color-tan-orange-500","color-berry-pink-400","color-ripe-red-300","color-grapes-purple-300","color-deep-blue-300","color-tv-blue-300","color-sky-blue-300","color-iguana-green-300","color-minty-green-300","color-banana-yellow-400","color-tan-orange-300","color-berry-pink-300"],l=function(){function e(e){this._offset=0,this._offset=e}return e.prototype.getColor=function(e){var t,i,s;return 0===this._offset?e:(t=a[(this._offset-1)%a.length],i=o.colorsPalette[t],s=Object(r.isHexColor)(e)?1:Object(n.parseRgba)(e)[3],Object(r.generateColor)(i,Object(r.alphaToTransparency)(s)))},e}(),c=function(){function e(e,t){this._offset=e,this._modelStartOffset=t}return e.prototype.getColor=function(e){var t,i;return Object(r.isHexColor)(e)?(t=Object(n.parseRgb)(e),Object(n.rgbToHexString)(Object(n.shiftRgb)(t,this._offset,this._modelStartOffset))):(i=Object(n.parseRgba)(e),Object(n.rgbaToString)(Object(n.shiftRgba)(i,this._offset,this._modelStartOffset)))},e}(),u=function(){function e(e){this._chartModel=e}return e.prototype.getColorRotator=function(e){var t,i=Object(s.studyColorRotationMode)(e),n=this._calcDefaultColorsOffset(e);switch(i){case"loop":return new l(n);case"shift":return t=this._chartModel.getStudyShiftColorStartOffset(),new c(n,t)}},e.prototype._calcDefaultColorsOffset=function(e){var t=0;return this._chartModel.dataSources().filter(s.isStudy).forEach(function(i){var n,r,o,s,a=i.metaInfo().id===e.id,l=(n=i.metaInfo(),r=e,o=n.pine?n.pine.version:void 0,s=r.pine?r.pine.version:void 0,o===s),c=a&&l;c&&t++}),t},e}()},i1o5:function(e,t,i){"use strict";var n,r;i.r(t),i.d(t,"InvalidationLevel",function(){return n}),i.d(t,"InvalidateMask",function(){return r}),function(e){e[e.Cursor=1]="Cursor",e[e.Light=2]="Light",e[e.Full=3]="Full"}(n||(n={})),r=function(){function e(e){this._panesOrderChanged=!1,this._invalidatedPanes=new Map,this._invalidationLevel=e||n.Cursor}return e.prototype.invalidatePane=function(e,t){var i=this._invalidatedPanes.get(e)||n.Cursor;this._invalidatedPanes.set(e,Math.max(i,t))},e.prototype.invalidatePanesOrder=function(){
this._panesOrderChanged=!0},e.prototype.invalidateAll=function(e){this._invalidationLevel=Math.max(this._invalidationLevel,e)},e.prototype.fullInvalidation=function(){return this._invalidationLevel},e.prototype.invalidateForPane=function(e){var t=this._invalidatedPanes.get(e)||n.Cursor;return Math.max(t,this._invalidationLevel)},e.prototype.merge=function(e){var t=this;this._invalidationLevel=Math.max(this._invalidationLevel,e._invalidationLevel),this._panesOrderChanged=this._panesOrderChanged||e._panesOrderChanged,e._invalidatedPanes.forEach(function(e,i){var r=t._invalidatedPanes.get(i)||n.Cursor;t._invalidatedPanes.set(i,Math.max(r,e))})},e.prototype.panesOrderInvalidated=function(){return this._panesOrderChanged},e.prototype.exclude=function(e){var t,i,n,r;for(this._invalidationLevel<=e&&(this._invalidationLevel=0),t=[],this._invalidatedPanes.forEach(function(i,n){i<=e&&t.push(i)}),i=0,n=t;i<n.length;i++)r=n[i],this._invalidatedPanes.delete(r)},e.cursor=function(){return new e(n.Cursor)},e.light=function(){return new e(n.Light)},e.full=function(){return new e(n.Full)},e.panesOrder=function(){var t=e.full();return t.invalidatePanesOrder(),t},e}()},i3nr:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"OverlayStatusView",function(){return o}),n=i("mrSG"),r=i("2kV1"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.getSplitTitle=function(){return this._source.isFailed()?[this._source.title(!0,void 0,!1,!1)+": "+this._source.status(),void 0]:this._source.titleInParts(!0,void 0,!1,!1)},t.prototype.update=function(){this._source.isFailed()?this._text=this._source.title(!0,void 0,!1,!1)+": "+this._source.status():this._text=this._source.title(!0,void 0,!1,!1)+" "+this._source.status()},t}(r.StudyStatusView)},i4z7:function(e,t,i){"use strict";e.exports=function(){this.set_data_quality=function(){return["low"]},this.quote_create_session=function(e){return[e]},this.quote_delete_session=function(e){return[e]},this.quote_set_fields=function(e,t){return[e].concat(t)},this.quote_add_symbols=function(e,t){return[e].concat(t)},this.quote_remove_symbols=function(e,t){return[e].concat(t)},this.quote_fast_symbols=function(e,t){return[e].concat(t)},this.quote_hibernate_all=function(e){return[e]},this.depth_create_session=function(e,t,i){return[e,t,i]},this.depth_delete_session=function(e){return[e]},this.depth_set_symbol=function(e,t){return[e,t]},this.depth_clear_symbol=function(e){return[e]},this.depth_set_scale=function(e,t){return[e,t]},this.chart_create_session=function(e,t){return[e,t?"disable_statistics":""]},this.chart_delete_session=function(e){return[e]},this.set_auth_token=function(e){return[e]},this.switch_timezone=function(e,t){return[e,t]},this.resolve_symbol=function(e,t,i){return[e,t,i]},this.create_series=function(e,t,i,n,r,o){return[e,t,i=i||"",n,r,o]},this.remove_series=function(e,t){return[e,t]},this.modify_series=function(e,t,i,n,r){return[e,t,i=i||"",n,r]},this.request_more_data=function(e,t,i){return[e,t,i]},
this.request_studies_metadata=function(e,t){return[e,t]},this.create_study=function(e,t,i,n,r,o){return[e,t,i=i||"",n,r].concat(o)},this.create_child_study=function(e,t,i,n,r,o){return this.create_study(e,t,i,n,r,o)},this.child_study_rebind=function(e,t,i,n,r,o){return[e,t,i=i||"",n,r].concat(o)},this.remove_study=function(e,t){return[e,t]},this.modify_study=function(e,t,i,n){return[e,t,i=i||""].concat(n)},this.create_pointset=function(e,t,i,n,r,o){return[e,t,i=i||"",n,r].concat(o)},this.modify_pointset=function(e,t,i,n){return[e,t,i=i||""].concat(n)},this.remove_pointset=function(e,t){return[e,t]},this.request_more_tickmarks=function(e,t,i){return[e,t,i]},this.get_first_bar_time=function(e,t,i){return[e,t,i]},this.replay_create_session=function(e){return[e]},this.replay_delete_session=function(e){return[e]},this.replay_reset=function(e,t,i){return[e,t,i]},this.replay_start=function(e,t,i){return[e,t,i]},this.replay_stop=function(e,t){return[e,t]},this.replay_step=function(e,t,i){return[e,t,i]},this.replay_add_series=function(e,t,i,n){return[e,t,i,n]},this.replay_remove_series=function(e,t,i,n){return[e,t,i,n]},this.replay_set_resolution=function(e,t,i){return[e,t,i]},this.convertTimescaleResponse=function(e){var t,i,n=e.marks;for(t=0;t<n.length;++t)n[t]={span:n[t][0],time:n[t][1],index:n[t][2]};if(void 0!==e.index_diff)for(i=e.index_diff,t=0;t<i.length;++t)i[t]={old:i[t][0],new:i[t][1]};else e.index_diff=[];return e};var e=this;this.getDataUpdateObjects=function(t){return e.getTimescaleObjects(t)},this.getTimescaleObjects=function(e){return e.params[0]},this.getTimescaleChangeset=function(e){return e.params[1]},this.prepareDataUpdateObjects=function(e,t,i){var n,r,o,s,a;for(n in t){for(s in r=t[n],(o={}).customId=n,o.turnaround=r.turnaround,o.plots=r.series?r.series:r.plots,r.ns&&(o.nonseries=r.ns),r.lbs&&(o.lastBar={closeTime:r.lbs.bar_close_time}),o.plots)for(a in o.plots[s].value)1e100===o.plots[s].value[a]&&(o.plots[s].value[a]=void 0);i(e,n,{method:"data_update",params:o})}},this.unpack=function(e){function t(e){return e.index=e.i,e.value=e.v,delete e.i,delete e.v,e}function i(e){for(r in e)e[r].t&&(e[r].turnaround=e[r].t),e[r].s&&!e[r].series&&(e[r].series=e[r].s.map(t)),e[r].st&&!e[r].series&&(e[r].series=e[r].st.map(t))}var n,r;switch((e=JSON.parse(e)).m&&e.p&&(e.method=e.m,e.params=e.p,e.time=e.t),n=e.params[1],e.method){case"qsd":e.method="quote_symbol_data",n.symbolname=n.n,n.status=n.s,n.values=n.v,n.values.change=n.v.ch,n.values.last_price=n.v.lp,n.values.change_percent=n.v.chp,delete n.n,delete n.s,delete n.v,delete n.values.ch,delete n.values.lp,delete n.values.chp;break;case"du":e.method="data_update",i(n);break;case"timescale_update":i(n)}return e},this.prepareEncodeMessage=function(e,t){return JSON.stringify({m:e,p:t})}}},i80N:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolFibSpiral";var o=t||n.createProperties();r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("8MBc").FibSpiralPaneView;this._setPaneViews([new t(this,this._model)])
}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=window.t("Fib Spiral");inherit(n,r),n.prototype.pointsCount=function(){return 2},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Fib Spiral"},n.prototype.getStylesPropertyPage=function(){return s.LineToolFibSpiralStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("nBUU").FibSpiralDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new o("linetoolfibspiral",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolFibSpiral=n},i8AX:function(e,t,i){},i8i4:function(e,t,i){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=i("yl30")},iDOr:function(e,t,i){"use strict";(function(e){function n(t,i,r){b.call(this),this.m_timeScale=t,this._rightPriceScales=[],this._leftPriceScales=[],this._priceScaleSelectionStrategy=v(r.properties().priceScaleSelectionStrategyName.value()),this.m_dataSources=[],this.m_height=0,this.m_width=0,this.m_mainDataSource=null,this._properties=i,this._model=r,this._destroyed=new e,this._priceScaleRatioChanged=new e,this._priceScaleRatioChanged.subscribe(this,this._mainSeriesPaneScaleRatioOnChange),r.properties().priceScaleSelectionStrategyName.listeners().subscribe(null,function(e){this._priceScaleSelectionStrategy=v(e.value()),this._priceScaleSelectionStrategy.apply(this)}.bind(this)),this.m_timeScale.barSpacingChanged().subscribe(this,function(){this.m_mainDataSource===this._model.mainSeries()&&this._recalculatePriceScaleByScaleRatio(this.m_mainDataSource.priceScale())}.bind(this)),this._lockedPriceScale=null,this._currentPriceScaleRatio=null,i.topMargin.listeners().subscribe(this,n.prototype._updateMargins),i.bottomMargin.listeners().subscribe(this,n.prototype._updateMargins),this._updateMargins(),this._isInInsertManyDataSourcesState=!1,this._lastLineDataSourceZOrder=null,this._maximized=!1,this._isMainPane=!1,this._onPriceScalesChanged=new e}var r=i("Eyy1"),o=r.assert,s=i("Y7w9").moveToHead,a=i("704P").ExecutionsPositionController,l=i("Ss5c").LineDataSource,c=i("Qb4w").PriceRange,u=i("7ktv").PriceDataSource,h=i("uOxu").getLogger("Chart.Pane"),d=i("CW80").isLineTool,p=i("s1Gx").isSpeciallyZOrderedSource,f=i("1gmO").AlertLabel,_=i("1Wlv").PriceScale,m=i("FaJS").scaleRatio,g=i("FaJS").priceRangeByScaleRatio,y=i("FaJS").barSpacingByScaleRatio,v=i("MWAT").createPriceScaleSelectionStrategy,b=i("yfAl").PaneBase,S=i("s1Gx").sortSources;inherit(n,b),n.DEFAULT_STRETCH_FACTOR=1e3,n.PANE_ANIMATION_DURATION=500,n.prototype.destroy=function(){var e,t;for(this._properties.topMargin.listeners().unsubscribe(this,n.prototype._updateMargins),
this._properties.bottomMargin.listeners().unsubscribe(this,n.prototype._updateMargins),this._model.properties().priceScaleSelectionStrategyName.listeners().unsubscribeAll(this),this.m_timeScale.barSpacingChanged().unsubscribeAll(this),this._leftPriceScales.concat(this._rightPriceScales).forEach(function(e){e.modeChanged().unsubscribeAll(this),e.priceRangeChanged().unsubscribeAll(this),e.internalHeightChanged().unsubscribeAll(this)},this),this._priceScaleRatioChanged.unsubscribeAll(this),e=0;e<this.m_dataSources.length;e++)(t=this.m_dataSources[e]).destroy&&t.destroy();this._destroyed.fire()},n.prototype._defaultBottomMargin=function(){return.01*this._properties.bottomMargin.value()},n.prototype._defaultTopMargin=function(){return.01*this._properties.topMargin.value()},n.prototype._updateMargins=function(){var e,t,i=this._defaultTopMargin(),n=this._defaultBottomMargin();for(this._leftPriceScales.forEach(function(e){e.setTopMargin(i),e.setBottomMargin(n)}),this._rightPriceScales.forEach(function(e){e.setTopMargin(i),e.setBottomMargin(n)}),e=0;e<this.m_dataSources.length;e++)(t=this.m_dataSources[e])instanceof TradingView.Study&&this.isOverlay(t)&&"Volume"!==t.metaInfo().shortId&&(!t.priceScale()||this._leftPriceScales.includes(t.priceScale())||this._rightPriceScales.includes(t.priceScale())||(t.priceScale().setTopMargin(i),t.priceScale().setBottomMargin(n),this.recalculatePriceScale(t.priceScale())));this._leftPriceScales.forEach(function(e){this.recalculatePriceScale(e)},this),this._rightPriceScales.forEach(function(e){this.recalculatePriceScale(e)},this),this.updateAllViews()},n.prototype.model=function(){return this._model},n.prototype.width=function(){return this.m_width},n.prototype.height=function(){return this.m_height},n.prototype.setWidth=function(e){this.m_width=e,this.updateAllViews()},n.prototype.setHeight=function(e){var t,i;for(this.m_height=e,this._leftPriceScales.forEach(function(t){t.setHeight(e)}),this._rightPriceScales.forEach(function(t){t.setHeight(e)}),t=0;t<this.m_dataSources.length;t++)i=this.m_dataSources[t],this.isOverlay(i)&&i.priceScale()&&i.priceScale().setHeight(e);this.updateAllViews()},n.prototype.leftPriceScales=function(){return this._leftPriceScales},n.prototype.rightPriceScales=function(){return this._rightPriceScales},n.prototype.visibleLeftPriceScales=function(){var e,t=this._model.priceScaleSlotsCount();return this._leftPriceScales.length>t.left?((e=s(this._leftPriceScales,this.mainDataSource().priceScale())).splice(t.left),e):this._leftPriceScales},n.prototype.visibleRightPriceScales=function(){var e,t=this._model.priceScaleSlotsCount();return this._rightPriceScales.length>t.right?((e=s(this._rightPriceScales,this.mainDataSource().priceScale())).splice(t.right),e):this._rightPriceScales},n.prototype.timeScale=function(){return this.m_timeScale},n.prototype.dataSources=function(){return this.m_dataSources},n.prototype.isOverlay=function(e){var t=e.priceScale();return"overlay"===this.priceScalePosition(t)},n.prototype._processMainSourceChange=function(){var e,t,i,n,r
;if(null===this.m_mainDataSource)for(t=0;t<this.m_dataSources.length;t++)if(!(!((i=this.m_dataSources[t])instanceof u)||this.isOverlay(i)||i.properties().linkedToSeries&&i.properties().linkedToSeries.value()||i instanceof f)){this.m_mainDataSource=i,e=!0;break}if(this.m_mainDataSource&&e){for(n=[],t=0;t<this.m_dataSources.length;t++)(i=this.m_dataSources[t])instanceof l&&n.push(i);for(n=S(n),t=0;t<n.length;t++)this.move(n[t],this.m_mainDataSource.priceScale(),!0)}else if(!this.m_mainDataSource||this.isOverlay(this.m_mainDataSource)&&0===this.nonOverlayPricesSourcesCount())for(t=0;t<this.m_dataSources.length;t++)if((i=this.m_dataSources[t])instanceof u&&this.isOverlay(i)&&i.showInObjectTree()){this.m_mainDataSource=i,r=this._priceScaleSelectionStrategy.createNewPriceScaleIfPossible(this),this.move(i,r,!0),this.recalculatePriceScale(i.priceScale());break}},n.prototype._newZOrderForLineTool=function(){var e,t,i,n=null;for(e=0;e<this.m_dataSources.length;++e)t=this.m_dataSources[e],d(t)&&!p(t)&&(i=t.zorder(),(null===n||i>n)&&(n=i));return null===n&&(n=this.getZOrderMinMax().minZOrder-1),this.m_dataSources.forEach(function(e){e.zorder()>n&&e.setZorder(e.zorder()+1)}),n+1},n.prototype.beginInsertManyLineDataSources=function(){this._isInInsertManyDataSourcesState=!0,this._lastLineDataSourceZOrder=null},n.prototype.endInsertManyLineDataSources=function(){var e,t,i;for(this._isInInsertManyDataSourcesState=!1,this._lastLineDataSourceZOrder=null,e=this.model().alertsWatcher(),t=this.dataSources(),i=0;i<t.length;++i)e.syncSourceAlertLabels(t[i])},n.prototype.addDataSource=function(e,t,i){var n;d(e)&&!i?(n=null!==this._lastLineDataSourceZOrder?this._lastLineDataSourceZOrder:this._newZOrderForLineTool(),this._isInInsertManyDataSourcesState&&(this._lastLineDataSourceZOrder=n)):n=this.getZOrderMinMax().minZOrder-1,this.insertDataSource(e,t,n)},n.prototype.insertDataSource=function(e,t,i){t||(t=this.findSuitableScale(e)),this._addSourceToCollections(e);var r=!1;e===this._model.mainSeries()?(this.m_mainDataSource=e,r=!0):null!==this.m_mainDataSource||e instanceof f||(this.m_mainDataSource=e,r=!0),t.addDataSource(e,this._isInInsertManyDataSourcesState),e.setPriceScale(t),e.onTagsChanged&&e.onTagsChanged().subscribe(this,n.prototype.onSourceTagsChanged),e.setZorder(i),r&&this._processMainSourceChange(),this._tagsChanged.fire(),TradingView.isInherited(e.constructor,u)&&this.recalculatePriceScale(t),this._invalidateSourcesCache(),this._isInInsertManyDataSourcesState||this.model().alertsWatcher().syncSourceAlertLabels(e)},n.prototype.priceScalePosition=function(e){return this._leftPriceScales.includes(e)?"left":this._rightPriceScales.includes(e)?"right":"overlay"},n.prototype.createPriceScaleAtPosition=function(e,t){var i,n=this._properties.axisProperties.state();return n.autoScale=!0,(i=new _(this._model.properties().scalesProperties,n)).setHeight(this.height()),i.setTopMargin(this._defaultTopMargin()),i.setBottomMargin(this._defaultBottomMargin()),this._placePriceScale(i,e,t),i},n.prototype._placePriceScale=function(e,t,i){var n,r
;"overlay"!==t&&(n="left"===t?this._leftPriceScales:this._rightPriceScales,r=void 0===i?n.length:i,n.splice(r,0,e),e.modeChanged().subscribe(this,this._onPriceScaleModeChanged.bind(this,e)),e.internalHeightChanged().subscribe(this,this._recalculatePriceScaleByScaleRatio.bind(this,e)),e.priceRangeChanged().subscribe(this,this._recalculateTimeScaleByScaleRatio.bind(this,e)),e.priceRangeChanged().subscribe(this,this._onPriceScaleSetMinMaxPriceRange.bind(this,e)),e.isLockScale()&&(o(null===this._lockedPriceScale),this._lockedPriceScale=e,this._currentPriceScaleRatio=null),this._onPriceScalesChanged.fire())},n.prototype.removePriceScale=function(e){var t,i;e.modeChanged().unsubscribeAll(this),e.priceRangeChanged().unsubscribeAll(this),e.internalHeightChanged().unsubscribeAll(this),e===this._lockedPriceScale&&(this._lockedPriceScale=null,this._currentPriceScaleRatio=null),-1!==(t=this._leftPriceScales.indexOf(e))&&this._leftPriceScales.splice(t,1),-1!==(i=this._rightPriceScales.indexOf(e))&&this._rightPriceScales.splice(i,1),this._onPriceScalesChanged.fire()},n.prototype.removeDataSource=function(e,t,i){var r,o,s=this.m_dataSources.indexOf(e);-1!==s?(this.model().alertsWatcher().detachSourceAlertLabels(e),this._removeSourceFromCollections(s,i),e!==this.m_mainDataSource||t||(this.m_mainDataSource=null),(r=e.priceScale())&&r.dataSources().indexOf(e)>=0&&r.removeDataSource(e),r&&null===r.mainSource()&&(0!==(o=r.dataSources().length)&&h.logError("Invalid priceScale state: empty mainSource but non-empty data sources="+o),this.removePriceScale(r)),e.onTagsChanged&&e.onTagsChanged().unsubscribe(this,n.prototype.onSourceTagsChanged),e instanceof u&&!t&&this._processMainSourceChange(),this._tagsChanged.fire(),r&&e instanceof u&&this.recalculatePriceScale(r),this._invalidateSourcesCache()):h.logDebug("removeDataSource: invalid data source")},n.prototype.startScalePrice=function(e,t){e.startScale(t)},n.prototype.scalePriceTo=function(e,t){e.scaleTo(t),this.updateAllViews()},n.prototype.endScalePrice=function(e){e.endScale()},n.prototype.startScrollPrice=function(e,t){e.startScroll(t)},n.prototype.scrollPriceTo=function(e,t){e.scrollTo(t),this.updateAllViews()},n.prototype.endScrollPrice=function(e){e.endScroll()},n.prototype.setPriceAutoScale=function(e,t){e.setMode({autoScale:t}),this.timeScale().isEmpty()?e.setPriceRange(null):this.recalculatePriceScale(e)},n.prototype.restorePriceScaleState=function(e,t){e.restoreState(t),this.updateAllViews()},n.prototype._updateCustomSourceAllViews=function(e){e.paneViews(this).length>0&&e.updateAllViews()},n.prototype.updateAllViews=function(){for(var e=0;e<this.m_dataSources.length;e++)this.m_dataSources[e].updateAllViews();this._model.customSources().forEach(this._updateCustomSourceAllViews,this)},n.prototype.defaultPriceScale=function(){var e=this.m_mainDataSource?this.m_mainDataSource.priceScale():null;return null===e&&(e=new _(this._model.properties().scalesProperties)),e},n.prototype._priceScaleIsPrice=function(e){var t=e.mainSource()
;return!!t&&(!!TradingView.isInherited(t.constructor,TradingView.Series)||!!TradingView.isInherited(t.constructor,TradingView.Study)&&t.metaInfo().is_price_study)},n.prototype.findSuitableScale=function(e,t,i){return this._priceScaleSelectionStrategy.findSuitableScale(this,e,t,i)},n.prototype.createNewPriceScaleIfPossible=function(){return this._priceScaleSelectionStrategy.createNewPriceScaleIfPossible(this)},n.prototype.canCreateNewPriceScale=function(){return this._priceScaleSelectionStrategy.canCreateNewPriceScale(this)},n.prototype.mainDataSource=function(){return this.m_mainDataSource},n.prototype.recalculatePriceScale=function(e){var t,i;e&&(t=e.sourcesForAutoscale(),e.isAutoScale()&&t&&t.length>0&&!this.timeScale().isEmpty()&&(i=this.timeScale().visibleBarsStrictRange(),e.recalculatePriceRange(i)),e.updatePaneViews())},n.prototype.resetPriceScale=function(e){var t=this.timeScale().visibleBarsStrictRange();e.isLockScale()||e.setMode({autoScale:!0}),e.recalculatePriceRange(t),this.updateAllViews()},n.prototype.recalculate=function(){var e,t;for(this.recalculatePriceScale(this.m_rightPriceScale),this.recalculatePriceScale(this.m_leftPriceScale),e=0;e<this.m_dataSources.length;e++)t=this.m_dataSources[e],this.isOverlay(t)&&!d(t)&&this.recalculatePriceScale(t.priceScale());this.updateAllViews(),this._model.updatePane(this)},n.prototype.isEmpty=function(){return null===this.m_mainDataSource},n.prototype.move=function(e,t,i){this.removeDataSource(e,!0),this.addDataSource(e,t,i),this._processMainSourceChange(),this._invalidateSourcesCache(),this._onPriceScalesChanged.fire()},n.prototype.hitTestSources=function(){var e,t,i,n,r;if(this._cachedHitTestSources)return this._cachedHitTestSources;for(e=this.orderedSources(),t=[],i=[],n=0;n<e.length;n++)r=e[n],TradingView.isInherited(r.constructor,l)?t.push(r):i.push(r);return this._cachedHitTestSources=i.concat(t),this._cachedHitTestSources},n.prototype.allOrderedSources=function(){return this._cachedAllOrderedSources||(this._cachedAllOrderedSources=S(this.m_dataSources)),this._cachedAllOrderedSources},n.prototype.orderedSources=function(e){var t,i,n,r,o=function(){return void 0===e?this._cachedOrderedSoruces.all:(this._cachedOrderedSoruces[e]||(this._cachedOrderedSoruces[e]=this._cachedOrderedSoruces.all.filter(function(t){return this.priceScalePosition(t.priceScale())===e},this)),this._cachedOrderedSoruces[e])}.bind(this);if(this._cachedOrderedSoruces)return o();for(t=[],i=0,n=this.m_dataSources.length;i<n;i++)r=this.m_dataSources[i],TradingView.isInherited(r.constructor,l)&&!r.isActualSymbol()||t.push(r);return t=S(t),this._cachedOrderedSoruces={all:t},o()},n.prototype.customSources=function(e){return this._model.customSources(e)},n.prototype.createDrawingsCaches=function(){a.recreateOrderedByBarsSourcesCache(this)},n.prototype.clearDrawingCaches=function(){a.clearOrderedByBarsSourcesCache()},n.prototype._invalidateSourcesCache=function(){this._cachedOrderedSoruces=null,this._cachedHitTestSources=null,this._cachedAllOrderedSources=null,
this._leftPriceScales.forEach(function(e){e.invalidateSourcesCache()}),this._rightPriceScales.forEach(function(e){e.invalidateSourcesCache()})},n.prototype.getZOrderMinMax=function(){var e,t,i,n,r=this.orderedSources();if(0===r.length)return{minZOrder:0,maxZOrder:0};for(e=r[0].zorder(),t=r[0].zorder(),i=1;i<r.length;i++)(n=r[i]).zorder()<e&&(e=n.zorder()),n.zorder()>t&&(t=n.zorder());return{minZOrder:e,maxZOrder:t}},n.prototype.isZOrderAvailable=function(e){var t;for(t=0;t<this.m_dataSources.length;t++)if(this.m_dataSources[t].zorder()===e)return!1;return!0},n.prototype.changeZOrder=function(e,t){var i,n,r,o,s,a=this.orderedSources().filter(function(e){return e.showInObjectTree()}),l=0;for(i=0,n=a.length;i<n;i++)if(a[i]===e){l=i;break}l>0&&t<0?(r=a[l-1].zorder(),o=e.zorder(),a[l-1].setZorder(o),e.setZorder(r)):l<a.length-1&&t>0&&(s=a[l+1].zorder(),o=e.zorder(),a[l+1].setZorder(o),e.setZorder(s)),this._invalidateSourcesCache(),this._dataSourcesCollectionChanged.fire()},n.prototype.onSourceTagsChanged=function(){this._tagsChanged.fire()},n.prototype.onDestroyed=function(){return this._destroyed},n.prototype.clearSeries=function(e){for(var t=this.m_dataSources.length-1;t>=0;t--)TradingView.isInherited(this.m_dataSources[t].constructor,TradingView.Series)&&this._removeSourceFromCollections(t,e)},n.prototype.nonOverlayPricesSourcesCount=function(){return this.m_dataSources.filter(function(e){return(!e.properties().linkedToSeries||!e.properties().linkedToSeries.value())&&(TradingView.isInherited(e.constructor,u)&&e.showInObjectTree()&&!this.isOverlay(e))},this).length},n.prototype.canHaveMoreNoScaleSources=function(){return this.nonOverlayPricesSourcesCount()>1},n.prototype.actionNoScaleIsEnabled=function(e){return!(!this.isOverlay(e)&&TradingView.isInherited(e.constructor,u))||this.canHaveMoreNoScaleSources()},n.prototype.executionsPositionController=function(){return this._executionsPositionController||(this._executionsPositionController=new a(this,this._model.timeScale())),this._executionsPositionController},n.prototype.isLast=function(){var e=this._model.panes(),t=e[e.length-1];return t===this},n.prototype.setMaximized=function(e){this._maximized=e},n.prototype.isMaximized=function(){return this._maximized},n.prototype.isMainPane=function(){var e=this._model.mainSeries(),t=!1;return this.m_dataSources.forEach(function(i){t||(t=i===e)}),this._isMainPane=t,t},n.prototype.properties=function(){return this._properties},n.prototype._mainSourceVisiblePriceRange=function(e){var t=this.m_timeScale.visibleBarsStrictRange();return null!==t?e.mainSource().priceRange(t.firstBar(),t.lastBar()):new c(-.5,.5)},n.prototype.priceScaleRatio=function(){return this._currentPriceScaleRatio},n.prototype.applyPriceScaleRatio=function(e,t){null!==this._lockedPriceScale&&this._lockedPriceScale!==e||this._currentPriceScaleRatio===t||!this.isMainPane()||null===this._lockedPriceScale&&e!==this.mainDataSource().priceScale()||(this._setNewPriceRangeByScaleRatio(e,t,this._mainSourceVisiblePriceRange(e),!0,!0),
null!==this._lockedPriceScale?this._tryToApplyNewPriceScaleRatio():e.isLog()||this._model.mainSeriesScaleRatioPropertyOnChanged())},n.prototype._mainSeriesPaneScaleRatioOnChange=function(){this.isMainPane()&&this._model.mainSeriesScaleRatioPropertyOnChanged()},n.prototype._applyOldScaleRatioToPriceScale=function(){if(this._isRecalculatingScales||null===this._currentPriceScaleRatio)return!1;this._isRecalculatingScales=!0,this._setNewPriceRangeByScaleRatio(this._lockedPriceScale,this._currentPriceScaleRatio,this._mainSourceVisiblePriceRange(this._lockedPriceScale)),this._isRecalculatingScales=!1},n.prototype._applyOldScaleRatioToTimeScale=function(){if(this._isRecalculatingScales||null===this._currentPriceScaleRatio)return!1;this._isRecalculatingScales=!0,this._setNewBarSpacingByScaleRatio(),this._isRecalculatingScales=!1},n.prototype._tryToApplyNewPriceScaleRatio=function(){var e=m(this.m_timeScale,this._lockedPriceScale);this._currentPriceScaleRatio===e||this._lockedPriceScale.isLog()||(this._priceScaleRatioChanged.fire(this._currentPriceScaleRatio,e),this._currentPriceScaleRatio=e)},n.prototype._recalculatePriceScaleByScaleRatio=function(e){this.isMainPane()&&e===this._lockedPriceScale&&(null!==this._currentPriceScaleRatio?this._applyOldScaleRatioToPriceScale():this._tryToApplyNewPriceScaleRatio())},n.prototype._recalculateTimeScaleByScaleRatio=function(e){e===this._lockedPriceScale&&(null!==this._currentPriceScaleRatio?this._applyOldScaleRatioToTimeScale():this._tryToApplyNewPriceScaleRatio())},n.prototype._setNewPriceRangeByScaleRatio=function(e,t,i,n,r){var o=g(e,this.m_timeScale.barSpacing(),t);e.setPriceRange(null!==o?o:i,n,r)},n.prototype._setMinMaxPriceRange=function(){var e=g(this._lockedPriceScale,this.m_timeScale.maxBarSpacing(),this._currentPriceScaleRatio),t=g(this._lockedPriceScale,this.m_timeScale.minBarSpacing(),this._currentPriceScaleRatio);null!==e&&this._lockedPriceScale.setMaxPriceRange(e),null!==t&&this._lockedPriceScale.setMinPriceRange(t)},n.prototype._onPriceScaleSetMinMaxPriceRange=function(e){e===this._lockedPriceScale&&this._setMinMaxPriceRange()},n.prototype._setNewBarSpacingByScaleRatio=function(){var e=this.m_timeScale.getValidBarSpacing(y(this._lockedPriceScale,this._currentPriceScaleRatio));this.m_timeScale.isValidBarSpacing(e)&&this.m_timeScale.setBarSpacing(e)},n.prototype._onPriceScaleModeChanged=function(e,t,i){if(i.lockScale&&(this._lockedPriceScale!==e&&null!==this._lockedPriceScale&&this._lockedPriceScale.setMode({lockScale:!1}),this._lockedPriceScale=e,this._currentPriceScaleRatio=m(this.m_timeScale,e)),t.lockScale&&!i.lockScale&&(this._lockedPriceScale=null,this._currentPriceScaleRatio=null),t.percentage!==i.percentage||t.indexedTo100!==i.indexedTo100){var n=this.timeScale().visibleBarsStrictRange();null!==n&&(e.recalculatePriceRange(n),e.updatePaneViews())}},n.prototype.lineToolsForArea=function(e){var t=this.m_height,i=this.m_width,n=this.logicalRectToPixels(e),r=function(e){return(e.paneViews()||[]).some(function(e){var r=e.renderer(t,i,!0)
;return r&&r.doesIntersectWithBox&&r.doesIntersectWithBox(n)})};return this.m_dataSources.filter(function(e){return d(e)}).filter(r)},n.prototype.getPriceScaleById=function(e){var t=this.m_dataSources.find(function(t){return null!==t.priceScale()&&t.priceScale().id()===e});return void 0===t?null:t.priceScale()},n.prototype.setPriceScaleSelectionStrategy=function(e){this._priceScaleSelectionStrategy=e,e.apply(this)},n.prototype.movePriceScale=function(e,t,i){var n,r,o=this.priceScalePosition(e);o!==t?(this.removePriceScale(e),this._placePriceScale(e,t,i),this._invalidateSourcesCache()):void 0!==i&&"overlay"!==o&&(r=(n="left"===o?this._leftPriceScales:this._rightPriceScales).indexOf(e),n.splice(r,1),n.splice(i,0,e))},n.prototype.onPriceScalesChanged=function(){return this._onPriceScalesChanged},n.prototype.priceScaleIndex=function(e,t){switch(t){case"left":return this.leftPriceScales().indexOf(e);case"right":return this.rightPriceScales().indexOf(e)}},n.prototype.findTargetPriceAxisViews=function(e,t,i,n){var r,o;return this._model.paneForSource(e)!==this?null:t===e.priceScale()?i:"overlay"===this.priceScalePosition(e.priceScale())?t===this.defaultPriceScale()?i:null:(r=this.priceScalePosition(t))!==this.priceScalePosition(e.priceScale())?null:(o="left"===r?this.leftPriceScales():this.rightPriceScales()).indexOf(t)<o.indexOf(e.priceScale())?n:null},n.prototype.realignLineTools=function(){var e,t;for(e=0;e<this.m_dataSources.length;e++)t=this.m_dataSources[e],d(t)&&t.calcIsActualSymbol();this._invalidateSourcesCache()},n.prototype._addSourceToCollections=function(e,t){this.m_dataSources.push(e),this._sourcesById.set(e.id(),e),this._invalidateSourcesCache(),t||this._dataSourcesCollectionChanged.fire()},n.prototype._removeSourceFromCollections=function(e,t){var i=this.m_dataSources[e];this.m_dataSources.splice(e,1),this._sourcesById.delete(i.id()),this._invalidateSourcesCache(),t||this._dataSourcesCollectionChanged.fire()},t.Pane=n}).call(this,i("aIyQ"))},iKPL:function(e,t,i){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),n=function(){function e(e,t){var i,n;for(i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=new(function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._test=t[i]={}}return n(e,[{key:"provide",value:function(e,t){this._test[e]=t}}]),e}())(window,"qaGlobals"),t.default=r,e.exports=t.default},iSkW:function(e,t,i){"use strict";(function(t){var n,r,o,s,a,l;i("P5fv"),n=i("uOxu").getLogger("Common.LocalForage"),r=i("VVxS").TVLocalStorageAsync,o=[t.INDEXEDDB,t.LOCALSTORAGE,t.WEBSQL],s=[t.LOCALSTORAGE,t.WEBSQL,t.INDEXEDDB],window.localForageReady=$.Deferred(),a=function(e){n.logNormal("localForage driver: "+JSON.stringify(e));var i={name:"tradingview",driver:e};t.config(i),window.TVLocalForage=t,window.localForageReady.resolve()};try{
(l=window.indexedDB.open("tradingviewCheckIndexedDB")).onerror=function(e){n.logError("IndexedDB is NOT available"),a(s)},l.onsuccess=function(e){n.logNormal("IndexedDB is available"),a(o)}}catch(e){n.logError("IndexedDB is NOT available, "+e);try{a(s)}catch(e){window.TVLocalForage=r,window.localForageReady.resolve()}}e.exports={TVLocalForage:window.TVLocalForage}}).call(this,i("oAJy"))},iWlB:function(e,t,i){"use strict";var n;i.r(t),i.d(t,"BackendSessionEventType",function(){return n}),function(e){e[e.Connect=0]="Connect",e[e.Reconnect=1]="Reconnect"}(n||(n={}))},icPo:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolIcon";var o=t||n.createProperties();r.call(this,e,o),this.version=n.version,Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("8GeE").IconPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=window.t("Icon");inherit(n,r),n.version=1,n.anchorLimit=80,n.prototype.getAnchorLimit=function(){return n.anchorLimit},n.prototype.pointsCount=function(){return 1},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Icon"},n.prototype.hasEditableCoordinates=function(){return!1},n.prototype.applyTemplate=function(e){delete e.icon,r.prototype.applyTemplate.call(this,e)},n.prototype.startChanging=function(e,t,i){var o,s;i||(r.prototype.startChanging.call(this,e,t),s=65536*(o=this.properties()).icon.value()+o.size.value(),this._startChangeWidth=this._paneViews[0]._cache[s],o.size.value()<n.anchorLimit?this._sizeScale=o.size.value()/n.anchorLimit:this._sizeScale=1,this._origScale=o.scale.value(),this._startChangeWidth*this._origScale<n.anchorLimit?this._resizeRatio=this._startChangeWidth/n.anchorLimit:this._resizeRatio=1)},n.prototype.endChanging=function(e,t,i){i||(r.prototype.endChanging.call(this),delete this._startChangeWidth,delete this._sizeScale,delete this._resizeRatio)},n.prototype.setPoint=function(e,t,i,r){var o,s,a,l,c,u,h,d,p,f;r||(o=Object.assign({},t),i&&i.shift()&&this._properties.snapTo45Degrees&&this._snapPoint45Degree(o,this.points()[0]),s=this.pointToScreenPoint(this.points()[0])[1],a=this.pointToScreenPoint(o)[1],0===e||1===e?(l=a.subtract(s).normalized(),c=2*a.subtract(s).length(),c*=this._sizeScale,this._properties.size.setValue(c),u=-l.x,h=Math.acos(u),Math.asin(l.y)>0&&(h=2*Math.PI-h),0===e&&(h+=Math.PI),this._properties.angle.setValue(h)):(d=this._startChangeWidth,p=a.subtract(s).length(),this._origScale*d<n.anchorLimit?(f=n.anchorLimit/2,this._properties.scale.setValue(this._origScale*p/f)):(f=d/2,this._properties.scale.setValue(p/f))))},n.prototype.getInputsPropertyPage=function(){return null},n.prototype.getStylesPropertyPage=function(){return s.LineToolIconStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("XCOO").IconsDefinitionsViewModel
}.bind(null,i)).catch(i.oe)},n.prototype.getSourceIcon=function(){return{type:"text",text:String.fromCharCode(this.properties().icon.value())}},n.createProperties=function(e){var t=new o("linetoolicon",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e),e.addExclusion("angle"),e.addExclusion("scale")},t.LineToolIcon=n},ifvX:function(e,t,i){"use strict";function n(e,t){this._model=e,this._source=t,this._pivots=[],this._textCache={},this._invalidated=!0}function r(e,t,i,n){s.call(this,e,t,i,n)}var o=i("aO4+").Point,s=i("Qq0B").NonSeriesStudy,a=i("pJOz").TrendLineRenderer,l=i("VdBB").HitTestResult,c=i("Zy3/").CompositeRenderer,u=i("hayr").propertyPages,h=i("a7Ha").LineEnd;n.prototype.update=function(){this._invalidated=!0},n.prototype.updateImpl=function(){var e,t,i,n,r,o,s,a,l,c,u,h,d;if(this._pivots=[],this._source.customData()&&this._source.customData().zigzag&&this._source.properties().visible.value()&&(e=this._source.customData().zigzag,t=this._source._indexes,i=this._model.timeScale(),n=this._source.priceScale(),o=(r=this._model.mainSeries()).firstValue(),n&&!n.isEmpty()&&!i.isEmpty()&&o))for(s=0;s<e.length;s++)e[s]&&(a=t[e[s].index],l=e[s].type,null!==(c=r.bars().valueAt(a))&&(u=1===l?c[TradingView.HIGH_PLOT]:c[TradingView.LOW_PLOT],h=Math.round(i.indexToCoordinate(a)),d=n.priceToCoordinate(u,o),this._pivots.push({x:h,y:d})))},n.prototype.renderer=function(){var e,t,i,n,r,s,u,d;for(this._invalidated&&(this.updateImpl(),this._invalidated=!1),e=new c,t=this._source.properties().color.value(),i=this._source.properties().linewidth.value(),n=1;n<this._pivots.length;n++)r=this._pivots[n],s=this._pivots[n-1],u={points:[new o(s.x,s.y),new o(r.x,r.y)],width:this._model.timeScale().width(),height:this._source.priceScale().height(),color:t,linewidth:i,linestyle:CanvasEx.LINESTYLE_SOLID,extendleft:!1,extendright:!1,leftend:h.Normal,rightend:h.Normal},(d=new a).setData(u),d.setHitTest(new l(l.REGULAR)),e.append(d);return e},inherit(r,s),r.prototype.isVisible=function(){return this.properties().visible.value()},r.prototype.getStylesPropertyPage=function(){return u.StudyZigZagStylesPropertyPage},r.prototype.createViews=function(){s.prototype.createViews.call(this),this._setPaneViews([new n(this.model(),this)])},t.study_ZigZag=r},ijBy:function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"SetChartLayoutCommand",function(){return s}),n=i("mrSG"),r=i("RDU5"),o=i("VNzU"),s=function(e){function t(t,i){var n=this,r="Change Chart Layout to "+o.layouts[i].title;return(n=e.call(this,r)||this)._chartWidgetCollection=t,n._newLayoutType=i,n._oldLayoutType=t.layout.value(),n}return Object(n.__extends)(t,e),t.prototype.redo=function(){this._chartWidgetCollection.layout.setValue(this._newLayoutType)},t.prototype.undo=function(){this._chartWidgetCollection.layout.setValue(this._oldLayoutType)},t}(r.UndoCommand)},ijIX:function(e,t,i){"use strict";function n(e){var t={palettes:{},inputs:[{defval:2,id:"upper diviation",max:500,min:-500,name:window.t("Upper Deviation"),type:"integer"},{defval:-2,
id:"lower diviation",max:500,min:-500,name:window.t("Lower Deviation"),type:"integer"},{defval:!0,id:"use upper diviation",name:window.t("Use Upper Deviation"),type:"bool"},{defval:!0,id:"use lower diviation",name:window.t("Use Lower Deviation"),type:"bool"},{defval:0,id:"first bar time",max:253370764800,min:0,name:window.t("First bar time"),type:"time"},{defval:0,id:"last bar time",max:253370764800,min:0,name:window.t("Last bar time"),type:"time"},{defval:"close",id:"source",name:window.t("Source"),options:["open","high","low","close","hl2","hlc3","ohlc4"],type:"text"}],plots:[],graphics:{},defaults:{inputs:{"first bar time":0,"last bar time":0,"lower diviation":-2,source:"close","upper diviation":2,"use lower diviation":!0,"use upper diviation":!0}},_metainfoVersion:6,description:"Regression Trend",id:"RegressionTrend@tv-basicstudies",is_price_study:!0,shortDescription:"Reg Trend",shortId:"RegressionTrend",version:"2",fullId:"RegressionTrend@tv-basicstudies-2",name:"RegressionTrend@tv-basicstudies"};return e.metaInfo||(e.metaInfo=t),e}i.r(t),i.d(t,"patchSourceState",function(){return n});i("YFKU")},ikwP:function(e,t,i){"use strict";function n(e,t){return void 0===t&&(t=y),new v(e,t)}function r(e){var t,i;return Math.max(1,(null===(i=null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView)||void 0===i?void 0:i.devicePixelRatio)||1)}function o(e){var t=Object(b.ensureNotNull)(e.getContext("2d"));return t.setTransform(1,0,0,1,0,0),t}function s(e){var t=Object(b.ensureNotNull)(e.getContext("2d")),i=r(e);return t.setTransform(i,0,0,i,0,0),t}function a(e){var t=Object(b.ensureNotNull)(e.canvas.getContext("2d"));return t.setTransform(e.pixelRatio,0,0,e.pixelRatio,0,0),t.translate(.5,.5),t}function l(e,t){e.resizeCanvas({width:0,height:0}),e.resizeCanvas({width:t.w,height:t.h})}function c(e,t){var i=f(document,t),n=s(i.canvas);return n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(e.canvas,0,0,e.canvasSize.width*e.pixelRatio,e.canvasSize.height*e.pixelRatio),n.restore(),i}function u(e,t,i,n,r,o){e.save(),e.translate(-.5,-.5),e.fillStyle=o,e.fillRect(t,i,n,r),e.restore()}function h(e,t,i,n,r,o){e.save(),e.translate(-.5,-.5),e.globalCompositeOperation="copy",e.fillStyle=o,e.fillRect(t,i,n,r),e.restore()}function d(e,t,i){e.save(),e.scale(t,t),i(),e.restore()}function p(e,t,i){var n=_(e);return void 0===i&&(i=r(n)),n.width=t.w*i,n.height=t.h*i,n}function f(e,t){var i=_(e),r=n(i,{allowDownsampling:!1});return r.resizeCanvas({width:t.w,height:t.h}),r}function _(e){var t=e.createElement("canvas");return function(e){e.style.userSelect="none",e.style.webkitUserSelect="none",e.style.msUserSelect="none",e.style.MozUserSelect="none",e.style.webkitTapHighlightColor="transparent"}(t),t}function m(e,t){var i,r=Object(b.ensureNotNull)(e.ownerDocument),o=_(r);return e.appendChild(o),(i=n(o,{allowDownsampling:!1})).resizeCanvas({width:t.w,height:t.h}),i}function g(e,t){return"center"===e.textAlign?0:Object(S.isRtl)()?"start"===e.textAlign||"right"===e.textAlign?t:0:"start"===e.textAlign||"left"===e.textAlign?0:t}var y,v,b,S,w;i.r(t),
y={allowDownsampling:!0},v=function(){function e(e,t){var i=this;this._resolutionMediaQueryList=null,this._resolutionListener=function(e){return i._onResolutionChanged()},this._canvasConfiguredListeners=[],this.canvas=e,this._canvasSize={width:this.canvas.clientWidth,height:this.canvas.clientHeight},this._options=t,this._configureCanvas(),this._installResolutionListener()}return e.prototype.destroy=function(){this._canvasConfiguredListeners.length=0,this._uninstallResolutionListener(),this.canvas=null},Object.defineProperty(e.prototype,"canvasSize",{get:function(){return{width:this._canvasSize.width,height:this._canvasSize.height}},enumerable:!0,configurable:!0}),e.prototype.resizeCanvas=function(e){this._canvasSize={width:e.width,height:e.height},this._configureCanvas()},Object.defineProperty(e.prototype,"pixelRatio",{get:function(){var e=this.canvas.ownerDocument.defaultView;if(null==e)throw new Error("No window is associated with the canvas");return e.devicePixelRatio>1||this._options.allowDownsampling?e.devicePixelRatio:1},enumerable:!0,configurable:!0}),e.prototype.subscribeCanvasConfigured=function(e){this._canvasConfiguredListeners.push(e)},e.prototype.unsubscribeCanvasConfigured=function(e){this._canvasConfiguredListeners=this._canvasConfiguredListeners.filter(function(t){return t!=e})},e.prototype._configureCanvas=function(){var e=this.pixelRatio;this.canvas.style.width=this._canvasSize.width+"px",this.canvas.style.height=this._canvasSize.height+"px",this.canvas.width=this._canvasSize.width*e,this.canvas.height=this._canvasSize.height*e,this._emitCanvasConfigured()},e.prototype._emitCanvasConfigured=function(){var e=this;this._canvasConfiguredListeners.forEach(function(t){return t.call(e)})},e.prototype._installResolutionListener=function(){var e,t;if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");if(null==(e=this.canvas.ownerDocument.defaultView))throw new Error("No window is associated with the canvas");t=e.devicePixelRatio,this._resolutionMediaQueryList=e.matchMedia("all and (resolution: "+t+"dppx)"),this._resolutionMediaQueryList.addListener(this._resolutionListener)},e.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},e.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},e.prototype._onResolutionChanged=function(){this._configureCanvas(),this._reinstallResolutionListener()},e}(),b=i("Eyy1"),S=i("Ialn"),i.d(t,"Size",function(){return w}),i.d(t,"getCanvasDevicePixelRatio",function(){return r}),i.d(t,"getContext2D",function(){return o}),i.d(t,"getPrescaledContext2D",function(){return s}),i.d(t,"getPretransformedContext2D",function(){return a}),i.d(t,"hardResizeCanvas",function(){return l}),i.d(t,"resizeCanvasPreservingContent",function(){return c}),i.d(t,"fillRect",function(){return u}),i.d(t,"clearRect",function(){return h}),
i.d(t,"drawScaled",function(){return d}),i.d(t,"createDisconnectedCanvas",function(){return p}),i.d(t,"createDisconnectedBoundCanvas",function(){return f}),i.d(t,"createBoundCanvas",function(){return m}),i.d(t,"calcTextHorizontalShift",function(){return g}),w=function(){function e(e,t){this.w=e,this.h=t}return e.prototype.equals=function(e){return this.w===e.w&&this.h===e.h},e}()},iq8w:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="23" height="14"><rect width="23" height="14" fill="currentColor" rx="7"/><path fill="#fff" d="M10.32 10L9.9 8.84H7.94L7.54 10H6.41L8.7 4.2h.44l2.3 5.8h-1.12zm-1.4-4.05l-.69 2.11h1.38l-.7-2.11zm4.4 4.05h-1.27V4.28a60.6 60.6 0 011.53-.04c.83 0 1.5.24 1.98.73.49.49.73 1.14.73 1.94 0 2.06-.99 3.09-2.97 3.09zm-.25-4.83v3.9c.16.02.34.03.53.03.51 0 .91-.19 1.2-.56.3-.37.44-.9.44-1.56 0-1.23-.57-1.84-1.7-1.84l-.47.03z"/></svg>'},isVH:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolTriangle";var o=t||n.createProperties();r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("D4q4").TrianglePaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=window.t("Triangle");inherit(n,r),n.prototype.pointsCount=function(){return 3},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Triangle"},n.prototype.getStylesPropertyPage=function(){return s.LineToolTriangleStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("Zd1D").GeneralFiguresDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new o("linetooltriangle",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolTriangle=n},it7y:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h,d,p,f,_,m;i.r(t),i.d(t,"StudyDataWindowView",function(){return m}),n=i("mrSG"),r=i("ivNn"),o=i("4miz"),s=i("Kxc7"),a=i("k9/m"),l=i("23IT"),c=i("qFKp"),u=i("e92V"),h=i("mMWL"),d=c.CheckMobile.any(),p=window.t("n/a"),f=s.enabled("hide_last_na_study_output"),_=function(e){function t(t,i,n,r){var o=e.call(this,t,i)||this;return o.plotId=n,o.plotIndex=r,o}return Object(n.__extends)(t,e),t}(o.DataWindowItem),m=function(e){function t(t,i){var n,r,o,s,a=e.call(this)||this;if(a._invalidated=!0,a._study=t,a._model=i,!(n=t.metaInfo().plots))return a;for(r=0;r<n.length;++r)a._study.isSelfColorerPlot(r)||a._study.isBarColorerPlot(r)||a._study.isBgColorerPlot(r)||a._study.isDataOffsetPlot(r)||a._study.isOHLCColorerPlot(r)||a._study.isAlertConditionPlot(r)||(o=n[r].id,s=new _(a._study.guiPlotName(o),"",o,r),a._items.push(s));return a.update(),a}return Object(n.__extends)(t,e),t.prototype.update=function(){this._invalidated=!0},t.prototype.items=function(){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._items},
t.prototype._hideValues=function(){return d&&(null===this._model.crossHairSource().pane||Object(u.a)(h.tool.value())||null!==this._model.lineBeingEdited())},t.prototype._updateImpl=function(){var e,t,i,n,o,s,c,u,h,d,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V;for(this._header=this._study.title(!0),this._title=this._study.title(),e=this._hideValues(),t=this._study.isVisible()&&!e?p:"",i=0,n=this._items;i<n.length;i++)(o=n[i]).setValue(t);if(!e&&(f&&this._items.length&&this._items[this._items.length-1].setValue(""),!this._model.timeScale().isEmpty())){if(s=this._study.metaInfo().plots,c={},u=this._study.metaInfo().palettes,s&&void 0!==u)for(h=0;h<s.length;h++)d=s[h],(Object(l.isColorerPlot)(d)||Object(l.isOhlcColorerPlot)(d))&&(c[d.target]={index:h,palette:u[d.palette],paletterProps:this._study.properties().palettes[d.palette]});if(null!==(_=this._currentIndex())&&Object(r.isNumber)(_))for(m=this._study.formatter(),g={},y=0,v=this._items;y<v.length;y++)b=(o=v[y]).plotId,S=this._study.properties().styles[b].visible.value(),o.setVisible(S),S&&(w=o.plotIndex,P=_-this._study.offset(b),C=null!==(T=this._study.data().lastIndex())&&P>T?a.PlotRowSearchMode.NearestLeft:a.PlotRowSearchMode.Exact,void 0!==(x=this._study.nearestIndex(P,C))&&(void 0===(I=g[b])&&(I=this._study.getMinFirstBarIndexForPlot(b),Number.isFinite(I)&&(g[b]=I)),I>x||(E=this._study.data().last(),null!==(L=this._study.data().valueAt(x)||(null!==E?E.value:null))&&(A=L[w+1],Object(r.isNumber)(A)&&(o.setValue(m.format(A)),O=this._study.properties().styles[b].color.value(),d=s[w],Object(l.isOhlcPlot)(d)&&(b=d.target||b,O=this._study.properties().ohlcPlots[b].color.value()),M=O,c[b]&&L.length>c[b].index+1&&(k=L[c[b].index+1],D=c[b].palette,void 0!==k&&null!==k&&void 0!==D&&(R=c[b].paletterProps,V=D.valToIndex?D.valToIndex[k]:k,M=R.colors[void 0!==V?V:k].color.value())),o.setColor(M))))))}},t.prototype._currentIndex=function(){var e=this._model.crossHairSource().lockedIndex;return void 0!==e?e:null!==this._model.crossHairSource().pane?this._model.crossHairSource().appliedIndex():this._study.data().lastIndex()},t}(o.DataWindowView)},ivNn:function(e,t,i){"use strict";function n(e){return Math.round(1e10*e)/1e10}Object.defineProperty(t,"__esModule",{value:!0}),t.isNumber=function(e){return"number"==typeof e&&isFinite(e)},t.isInteger=function(e){return"number"==typeof e&&e%1==0},t.isNaN=function(e){return!(e<=0||e>0)},t.fixComputationError=n,t.alignTo=function(e,t){var i=e/t,r=Math.floor(i),o=i-r;return o>2e-10?n(o>.5?(r+1)*t:r*t):e}},j1f4:function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"dur",function(){return n}),i.d(t,"easingFunc",function(){return r}),i.d(t,"CubicBezier",function(){return o}),i.d(t,"color",function(){return s}),n=350,r={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},
easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},o=function(){function e(e,t,i,n){this._mX1=e,this._mY1=t,this._mX2=i,this._mY2=n}return e.prototype.easingFunc=function(e){return this._mX1===this._mY1&&this._mX2===this._mY2?e:this._calcBezier(this._getTForX(e))},e.prototype._a=function(e,t){return 1-3*t+3*e},e.prototype._b=function(e,t){return 3*t-6*e},e.prototype._c=function(e){return 3*e},e.prototype._calcBezier=function(e){return((this._a(this._mY1,this._mY2)*e+this._b(this._mY1,this._mY2))*e+this._c(this._mY1))*e},e.prototype._getSlope=function(e){return 3*this._a(this._mX1,this._mX2)*e*e+2*this._b(this._mX1,this._mX2)*e+this._c(this._mX1)},e.prototype._getTForX=function(e){var t,i,n=e;for(t=0;t<4;++t){if(0===(i=this._getSlope(n)))return n;n-=(this._calcBezier(n)-e)/i}return n},e}(),s={black0:"#000",black20:"#2b2d36",black25:"#2b2e37",black27:"#2f3241",black30:"#212121",black70:"#4A4A4A",black80:"#535353",black100:"#646464",black110:"#757575",black140:"#8A8A8A",black170:"#ADAEB0",black180:"#b4b4b4",black200:"#C8C8C8",black220:"#DADDE0",black230:"#ECECEC",black240:"#F2F2F2",black248:"#F8F8F8",black255:"#FFF",brand:"#3BB3E4",brandHover:"#3BABD8",brandActive:"#3898C2",brandDown:"#049DDC",brand220:"#3BB3E0",brand255:"#3BB3FF",brandNew:"#37A6EF",brandNew2:"#2196F3",spinner:"#00A2E2",brandMedium80:"#3C4650",brandMedium90:"#465a6e",brandMedium100:"#627384",brandMedium120:"#758696",brandMedium150:"#94959C",brandMedium190:"#9DB2BD",brandMedium220:"#E9EFF2",brandMedium230:"#EAECEF",brandMedium240:"#F1F3F6",brandDark:"#2A2C39",brandDark50:"#252733",brandDark45:"#20222D",brandDarkText:"#6A6B74",danger:"#FF4A68",dangerHover:"#F24965",dangerDown:"#FF173E",success:"#3CBC98",success55:"#37BC9B",success250:"#00FFC0",successHover:"#38B395",successDown:"#00A97F",attention:"#FFC84A",attention50:"#F89E30",growing:"#37bc9b",falling:"#ff4a68"}},j6W2:function(e,t,i){"use strict";function n(){var e,t;u||(Object(a.updateInitData)(),(e=Object(a.getInitData)()).gaId&&(u=!0,Object(l.a)(c()),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),t={optimize_id:e.optimizeId},e.gaGdpr&&(t.anonymize_ip=!0),e.gaVars&&window.gtag("set",e.gaVars),window.gtag("config",e.gaId,t)))}function r(e){n();var t=Object(a.getInitData)();window.gtag("config",t.gaId,{page_path:e})}function o(e,t,i,r){n(),window.gtag("event","timing_complete",{name:t,value:i,event_category:e,event_label:r})}var s,a,l,c,u;i.r(t),i.d(t,"initGA",function(){return n}),i.d(t,"trackPageview",function(){return r}),i.d(t,"trackTiming",function(){return o}),s=i("bSeV"),a=i("h7NA"),l=i("rzpF"),c=function(){return"https://www.googletagmanager.com/gtag/js?id="+Object(a.getInitData)().gaId},u=!1},jCNj:function(e,t,i){"use strict";function n(e){var t,i,n,r,o,s
;if(this._name=e,(t=p[e])||(t={time:[],offset:[]},this._invalid=!0),t.time.length!==t.offset.length&&(t={time:[],offset:[]},this._invalid=!0),!t.time_utc){for(i=t.time,n=t.offset,r=i.length,o=new Array(r),s=0;s<r;s++)i[s]*=1e3,n[s]*=1e3,o[s]=i[s]-n[s];t.time_utc=o}this.tz=t}function r(e,t){var i,n,r,o=e.length;if(0===o)return-1;if(isNaN(t))throw Error("Key is NaN");for(r=s(((i=0)+(n=o-1))/2);;){if(e[r]>t){if((n=r-1)<i)return r}else if(n<(i=r+1))return r<o-1?r+1:-1;r=s((i+n)/2)}}function o(e){return e%4==0&&(e%100!=0||e%400==0)}var s,a,l,c,u,h,d,p=i("3UA0").tzData;n.prototype.offset_utc=function(e){return n._offset(this.tz.time_utc,this.tz.offset,e)},n.prototype.offset_loc=function(e){return n._offset(this.tz.time,this.tz.offset,e)},n.prototype.correction_loc=function(e){var t,i=this.tz.time,n=this.tz.offset,o=r(i,e);return o<1?0:(t=n[o]-n[o-1])>0&&e-i[o-1]<=t?t:0},n.prototype.is_valid=function(){return!this._invalid},n._offset=function(e,t,i){var n=r(e,i);return-1===n?0:t[n]},s=function(e){return 0|e},l=function(e){return 1e3*e},c=function(e,t){return s((s(e/1e3)-s(t/1e3))/60)},u=function(e,t){return s(s(e/1e3)-s(t/1e3))},h={0:0,1:31,2:59,3:90,4:120,5:151,6:181,7:212,8:243,9:273,10:304,11:334},d={SUNDAY:1,MONDAY:2,TUESDAY:3,WEDNESDAY:4,THURSDAY:5,FRIDAY:6,SATURDAY:7,JANUARY:0,FEBRUARY:1,MARCH:2,APRIL:3,MAY:4,JUNE:5,JULY:6,AUGUST:7,SEPTEMBER:8,OCTOBER:9,NOVEMBER:10,DECEMBER:11,YEAR:1,MONTH:2,WEEK_OF_YEAR:3,DAY_OF_MONTH:5,DAY_OF_YEAR:6,DAY_OF_WEEK:7,HOUR_OF_DAY:11,MINUTE:12,SECOND:13,minutesPerDay:1440,secondsPerDay:(a=function(e){return 60*e*1e3})(1440),get_minutes_from_hhmm:function(e){return-1!==e.indexOf(":")&&(e=e.split(":").join("")),e%100+60*s(e/100)},get_year:function(e){return e.getUTCFullYear()},get_month:function(e){return e.getUTCMonth()},get_hours:function(e){return e.getUTCHours()},get_minutes:function(e){return e.getUTCMinutes()},get_seconds:function(e){return e.getUTCSeconds()},get_day_of_month:function(e){return e.getUTCDate()},get_day_of_week:function(e){return e.getUTCDay()+1},get_day_of_year:function(e){var t=e.getUTCMonth(),i=h[t];return t>d.JANUARY+1&&o(e.getUTCFullYear())&&(i+=1),i+e.getUTCDate()},get_week_of_year:function(e){var t=new Date(Date.UTC(e.getUTCFullYear(),0,1)).getUTCDay(),i=0===t?1:8-t,n=d.get_day_of_year(e),r=n-i;return Math.ceil(r/7)+1},get_minutes_from_midnight:function(e){return 60*d.get_hours(e)+d.get_minutes(e)},set_hms:function(e,t,i,n,r,o){e.setUTCHours(t),e.setUTCMinutes(i),e.setUTCSeconds(n),e.setUTCMilliseconds(r),d.correct_time(e,o)},correct_time:function(e,t){var i=e.getTime(),n=t.correction_loc(i);e.setTime(i+n)},add_days_considering_dst:function(e,t,i){var n,r=e.offset_utc(t),o=this.clone(t);return this.add_date(o,i),n=e.offset_utc(o),o.setTime(o.getTime()+r-n),o},add_date:function(e,t){e.setTime(e.getTime()+t*d.secondsPerDay)},add_minutes:function(e,t){e.setTime(e.getTime()+a(t))},clone:function(e){return new Date(e.getTime())},get_days_per_year:function(e){var t=e.getUTCFullYear();return this.days_per_year(t)},days_per_year:function(e){return o(e)?366:365},
get_part:function(e,t){switch(t){case d.YEAR:return d.get_year(e);case d.MONTH:return d.get_month(e);case d.DAY_OF_MONTH:return d.get_day_of_month(e);case d.WEEK_OF_YEAR:return d.get_week_of_year(e);case d.DAY_OF_WEEK:return d.get_day_of_week(e);case d.HOUR_OF_DAY:return d.get_hours(e);case d.MINUTE:return d.get_minutes(e);case d.DAY_OF_YEAR:return d.get_day_of_year(e);case d.SECOND:return d.get_seconds(e);default:return e.getTime()}},time_minutes:a,time_seconds:l,time_minutes_diff:c,time_seconds_diff:u,utc_to_cal:function(e,t){var i=e.offset_utc(t);return new Date(t+i)},get_cal:function(e,t,i,n,r,o,s){var a=new Date(Date.UTC(t,i,n,r||0,o||0,s||0)),l=e.offset_utc(+a);return new Date(a.valueOf()-l)},get_cal_from_unix_timestamp_ms:function(e,t){return new Date(t+e.offset_utc(t))},get_cal_utc:function(e,t,i){return new Date(Date.UTC(e,t,i))},cal_to_utc:function(e,t){var i=t.getTime(),n=e.offset_loc(i);return i-n},get_timezone:function(e){return new n(e)},shift_day:function(e,t){var i=e-1;return(i+=t)>6?i%=7:i<0&&(i=(7+i%7)%7),i+1}},e.exports=d},jFln:function(e,t,i){"use strict";var n=i("Hr11"),r=n.greaterThan,o=n.lessThan,s=window.CanvasEx=i("8Uy/");s.computeDashPattern=function(e){return[[e.lineWidth,2*e.lineWidth],[5*e.lineWidth,6*e.lineWidth],[6*e.lineWidth,6*e.lineWidth],[e.lineWidth,4*e.lineWidth],[2*e.lineWidth,e.lineWidth]][e.lineStyle-1]},s.drawLine=function(e,t,i,n,r){isFinite(t)&&isFinite(n)&&isFinite(i)&&isFinite(r)&&(e.lineStyle!==s.LINESTYLE_SOLID?s.drawDashedLine(e,t,i,n,r):s.drawSolidLine(e,t,i,n,r))},s.drawArrow=function(e,t,i,n,r){isFinite(t)&&isFinite(n)&&isFinite(i)&&isFinite(r)&&(e.beginPath(),e.moveTo(n,r),e.lineTo(t,i),e.moveTo(t+2,i+2),e.lineTo(t-2,i+2),e.moveTo(t-1,i+1),e.lineTo(t+1,i+1),e.stroke())},s.drawSolidLine=function(e,t,i,n,r){e.beginPath(),e.moveTo(t,i),e.lineTo(n,r),e.stroke()},s.setLineStyle=function(e,t){e.lineStyle=t;var i=[];t!==s.LINESTYLE_SOLID&&(i=s.computeDashPattern(e)),s.setLineDash(e,i)},s.setLineDash=function(e,t){"function"==typeof e.setLineDash?e.setLineDash(t):void 0!==e.mozDash?e.mozDash=t:void 0!==e.webkitLineDash&&(e.webkitLineDash=t)},s.drawPoly=function(e,t,i){var n,r;for(e.beginPath(),e.moveTo(t[0].x,t[0].y),n=0;n<t.length;n++)r=t[n],e.lineTo(r.x,r.y);e.closePath(),e.stroke(),i&&e.fill()},s.drawRoundRect=function(e,t,i,n,r,o){e.beginPath(),e.moveTo(t+o,i),e.lineTo(t+n-o,i),e.arcTo(t+n,i,t+n,i+o,o),e.lineTo(t+n,i+r-o),e.arcTo(t+n,i+r,t+n-o,i+r,o),e.lineTo(t+o,i+r),e.arcTo(t,i+r,t,i+r-o,o),e.lineTo(t,i+o),e.arcTo(t,i,t+o,i,o)},s.drawDashedLine=function(e,t,i,n,r){e.save();var o=s.computeDashPattern(e);if(e.beginPath(),"function"==typeof e.setLineDash)e.setLineDash(o);else if(void 0!==e.mozDash)e.mozDash=o;else{if(void 0===e.webkitLineDash)return s.dashedLineTo(e,t,i,n,r,o),e.stroke(),void e.restore();e.webkitLineDash=o}e.moveTo(t,i),e.lineTo(n,r),e.stroke(),e.restore()},s.drawDashedLineHorizontal=function(e,t,i,n){var r,o,a,l,c,u,h;for(e.save(),r=s.computeDashPattern(e),o=0,l=(a=e.lineWidth)/2,e.translate(-l,-l),c=!0,u=t+n;t<u;)h=r[o],c&&e.fillRect(t,i,h,a),c=!c,
t+=h,o=o===r.length-1?0:o+1;e.restore()},s.drawDashedLineVertical=function(e,t,i,n){var r,o,a,l,c,u,h;for(e.save(),r=s.computeDashPattern(e),o=0,l=(a=e.lineWidth)/2,e.translate(-l,-l),c=!0,u=i+n;i<u;)h=r[o],c&&e.fillRect(t,i,a,h),c=!c,i+=h,o=o===r.length-1?0:o+1;e.restore()},s.dashedLineTo=function(e,t,i,n,s,a){var l,c,u,h,d,p,f={thereYet:r,cap:Math.min},_={thereYet:r,cap:Math.min};for(i-s>0&&(_.thereYet=o,_.cap=Math.max),t-n>0&&(f.thereYet=o,f.cap=Math.max),e.moveTo(t,i),l=t,c=i,u=0,h=!0;!f.thereYet(l,n)||!_.thereYet(c,s);)d=Math.atan2(s-i,n-t),p=a[u],l=f.cap(n,l+Math.cos(d)*p),c=_.cap(s,c+Math.sin(d)*p),h?e.lineTo(l,c):e.moveTo(l,c),u=(u+1)%a.length,h=!h},"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.setFont=function(e){if(this.font!==e)try{this.font=e}catch(e){}},CanvasRenderingContext2D.prototype.lineStyle=s.LINESTYLE_SOLID),e.exports=s},jJ9X:function(e,t,i){},jTis:function(e,t,i){"use strict";var n;i.r(t),i.d(t,"CalloutConsts",function(){return n}),function(e){e[e.RoundRadius=8]="RoundRadius",e[e.TextMargins=2]="TextMargins",e[e.MinWidth=100]="MinWidth"}(n||(n={}))},jXu8:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><circle fill="currentColor" cx="9" cy="9" r="5"/></svg>'},jenN:function(e,t,i){"use strict";function n(e,t,n){return new Promise(function(o){Promise.all([i.e(76),i.e(165),i.e("study-pane-views")]).then(function(s){var a=Object.keys(e.graphicsInfo());a.sort(function(e,t){return r(e)-r(t)}),o(a.map(function(r){var o,s=i("psYU").VertLinePaneView;return null===(o={backgrounds:i("IyRz").BackgroundPaneView,hhists:i("Gj0v").HHistPaneView,horizlines:i("1sos").HorizLinePaneView,hlines:i("3zbQ").LevelPaneView,lines:i("Kt0C").LinePaneView,polygons:i("BJvp").PolygonPaneView,shapemarks:i("qVqd").ShapeMarkPaneView,textmarks:i("292E").TextMarkPaneView,trendchannels:i("0HiO").TrendChannelPaneView,vertlines:s,dwglabels:i("K3ps").DwgLabelPaneView,dwglines:i("PztT").DwgLinePaneView}[r])?(p.logWarn(r+" is not supported by this build of graphics subsystem, skipping"),null):new o(e,t,n)}).filter(function(e){return null!==e}))}.bind(null,i)).catch(void 0)})}function r(e){switch(e){case"polygons":return-100;case"trendchannels":return-90;default:return 0}}function o(e){var t,i,n=Object.keys(e.graphicsInfo()),r=[],o=function(t){switch(t){case"hlines":e.graphics().hlines().forEach(function(i,n){i.forEach(function(i){void 0!==i.level&&r.push(new d(e,{line:{level:i.level},styleId:n,lineType:t}))})});break;case"horizlines":e.graphics().horizlines().forEach(function(i,n){i.forEach(function(i){void 0!==i.level&&r.push(new d(e,{line:{level:i.level},styleId:n,lineType:t}))})})}};for(t=0,i=n;t<i.length;t++)o(i[t]);return r}var s,a,l,c,u,h,d,p;i.r(t),s=i("uOxu"),a=i("7Fue"),l=i("xWfy"),c=i("qySK"),u=i("mrSG"),h=i("KcY8"),d=function(e){function t(t,i){var n=e.call(this)||this;return n._source=t,n._data=i,n}return Object(u.__extends)(t,e),t.prototype._updateRendererData=function(e,t,i){var n,r,o,s,a,l;e.visible=!1,
n=this._source.priceScale(),r=this._source.properties().visible.value(),n&&!n.isEmpty()&&r&&(o=this._source.properties().graphics[this._data.lineType][this._data.styleId]).visible&&o.visible.value()&&o.showPrice&&o.showPrice.value()&&null!==(s=this._source.firstValue())&&(a=this._data.line.level,l=o.color.value(),i.background=l,i.color=this.generateTextColor(l),i.coordinate=n.priceToCoordinate(a,s),e.text=n.formatPrice(a,s),e.visible=!0)},t}(h.a),i.d(t,"createGraphicsPaneViews",function(){return n}),i.d(t,"createGraphicsPriceAxisViews",function(){return o}),i.d(t,"isStudyGraphicsEmpty",function(){return a.a}),i.d(t,"StaticStudyGraphics",function(){return l.a}),i.d(t,"emptyStudyGraphics",function(){return l.b}),i.d(t,"loadStudyGraphics",function(){return l.c}),i.d(t,"saveStudyGraphics",function(){return l.d}),i.d(t,"LiveStudyGraphics",function(){return c.a}),p=Object(s.getLogger)("Chart.StudyGraphics")},jjrI:function(e,t,i){"use strict";function n(e){var t=e.className,i=e.icon,n=void 0===i?"":i,o=e.title,a=e.onClick,l=e.onMouseDown,c=e.onMouseUp,u=e.onMouseLeave,h=e.reference,d=Object(r.__rest)(e,["className","icon","title","onClick","onMouseDown","onMouseUp","onMouseLeave","reference"]);return s.a.createElement("span",Object(r.__assign)({},d,{title:o,className:t,dangerouslySetInnerHTML:{__html:n},onClick:a,onMouseDown:l,onMouseUp:c,onMouseLeave:u,ref:h}))}var r,o,s;i.d(t,"a",function(){return n}),r=i("mrSG"),o=i("q1tI"),s=i.n(o)},jkoZ:function(e,t,i){"use strict";var n=i("XlJ7").makeFont,r=i("XlJ7").parseFont,o=i("uOxu").getLogger,s=o("Model.ChartTradingUtils"),a={_fontHeightCache:{},_parsedColorCache:{},_parseColor:function(e){var t,i,n;return this._parsedColorCache[e]?this._parsedColorCache[e]:((t=document.createElement("div")).style.color=e,n={r:(i=t.style.color.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i)||t.style.color.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\,\s*(\d*\.?\d+)\s*\)$/i))[1],g:i[2],b:i[3],a:i[4]||"1"},this._parsedColorCache[e]=n,n)},getColorFromProperties:function(e,t){var i=1-t.value()/100,n=this._parseColor(e.value());return"rgba("+n.r+","+n.g+","+n.b+","+i+")"},setColorToProperties:function(e,t,i){var n,r=this._parseColor(e);t.setValue("rgb("+r.r+","+r.g+","+r.b+")"),n=100*(1-r.a),i.setValue(Math.max(0,Math.min(n,100)))},getFontFromProperties:function(e,t,i,r){return n(t.value(),e.value(),r.value()?"italic":"",i.value()?"bold":"")},setFontToProperties:function(e,t,i,n,o){var a=r(e);null!==a?(a.family.length>0&&t.setValue(a.family),i.setValue(a.size),n.setValue(a.bold),o.setValue(a.italic)):s.logError("Invalid font: "+e)},fontHeight:function(e){var t,i;return this._fontHeightCache[e]||((t=document.createElement("span")).appendChild(document.createTextNode("height")),document.body.appendChild(t),t.style.cssText="font: "+e+"; white-space: nowrap; display: inline;",i=t.offsetHeight,document.body.removeChild(t),this._fontHeightCache[e]=Math.ceil(i)),this._fontHeightCache[e]},drawPolyHoverOrPress:function(e,t,i,n){n?(e.save(),e.fillStyle="rgba(0, 0, 0, 0.15)",
CanvasEx.drawPoly(e,t,!0),e.restore()):i&&(e.save(),e.fillStyle="rgba(0, 0, 0, 0.1)",CanvasEx.drawPoly(e,t,!0),e.restore())},repaint:function(e){e.lightUpdate()},roundToMinTick:function(e,t){var i=e.mainSource().base(),n=1/i;return n*Math.round(t/n)}};e.exports=a},jlDR:function(e,t,i){"use strict";var n,r,o,s,a,l,c;i.d(t,"b",function(){return a}),i.d(t,"a",function(){return c}),n=i("mrSG"),r=i("Eyy1"),o=i("2WC2"),s=i("gBDZ"),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.setData=function(e,t){var i,n,r,o,s,a,l,c;for(this._setBaseData(e,t),i=0,n=this._items;i<n.length;i++)o=(r=n[i]).height,r.stepX=Math.round(o/2*.65)+.5,r.stepY=r.stepX,s=r.stepX/2,null!==(a=this._getTextCache(r))?(l=a.textImageWidth,c=a.textImageHeight,r.shapeWidth=l+2*r.stepX,r.shapeHeight=c+2*s+r.stepY,r.vertOffset=this._calcVertOffset(r),r.textHorizOffset=this._getHorizontalTextOffset(r),r.textVertOffset=this._getVerticalTextOffset(r)):(r.shapeWidth=2*r.stepX,r.shapeHeight=2.5*r.stepY,r.vertOffset=this._calcVertOffset(r))},t.prototype._calcVertOffset=function(e){return e.vertOffset},t.prototype._drawCorner=function(e,t,i,n,r){var o=Math.max(1,Math.floor(2*r));e.lineTo(t-o*n.prevPointSignX,i-o*n.prevPointSignY),e.arcTo(t,i,t+o*n.nextPointSignX,i+o*n.nextPointSignY,o)},t.prototype._getArrowSize=function(e){return e.stepX},t.prototype._getHorizontalTextOffset=function(e){return 0},t.prototype._getVerticalTextOffset=function(e){return 0},t.prototype._hasText=function(e){return Boolean(e.text)||Boolean(this._text)},t.prototype._drawItemText=function(e,t,i){var n,o,a,l,c,u,h=this._getTextCache(i);null!==h&&(o=i.textHorizOffset||0,a=i.x+o,l=i.vertOffset,c=i.y+l+i.textVertOffset,u=(null===(n=i.style)||void 0===n?void 0:n.textColor)||this._textColor,h.paintTo(e,t,Object(r.ensureDefined)(u),a,c,s.a.Center,s.c.Middle))},t}(o.a),l=function(){return function(e,t,i,n){this.prevPointSignX=e,this.prevPointSignY=t,this.nextPointSignX=i,this.nextPointSignY=n}}(),function(e){e.rightUp=new l(1,0,0,1),e.rightDown=new l(0,1,-1,0),e.leftDown=new l(-1,0,0,-1),e.leftUp=new l(0,-1,1,0)}(c||(c={}))},jofe:function(e,t,i){"use strict";function n(){var e,t,i=new Promise(function(i,n){e=i,t=n});return{promise:i,reject:t,resolve:e}}i.r(t),i.d(t,"createDeferredPromise",function(){return n})},jy4L:function(e,t,i){"use strict";function n(){return"ss_"+ ++o}function r(){return"st"+ ++s}var o,s;i.r(t),i.d(t,"makeNextSymbolId",function(){return n}),i.d(t,"makeNextStudyId",function(){return r}),o=0,s=0},k4w6:function(e,t,i){"use strict";var n,r,o;i.d(t,"a",function(){return o}),n=i("l4sv"),r=i("8Uy/"),o=function(){function e(e){this._lineRendererData={width:0,height:0,y:0,color:"rgba(0, 0, 0, 0)",linewidth:1,linestyle:r.LINESTYLE_SOLID,visible:!1},this._lineRenderer=new n.HorizontalLineRenderer,this._invalidated=!0,this._series=e,this._model=e.model(),this._lineRenderer.setData(this._lineRendererData)}return e.prototype.update=function(){this._invalidated=!0},e.prototype.renderer=function(){
return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._lineRenderer},e}()},k5SP:function(e,t,i){"use strict";(function(t){function n(e,i,n,o){r.call(this,e,i,n,o),this._barsIndexes=[],this._reportDataBuffer=null,this._reportData=null,this.watchedData=new t,this.model().addStrategySource(this)}var r=i("GVHu").Study,o=i("wURc"),s=i("hayr").propertyPages,a=["strategy_props"],l=i("+GxX").isFeatureEnabled;inherit(n,r),n.prototype.stop=function(){r.prototype.stop.call(this),this._avoidRemoveStrategySource?delete this._avoidRemoveStrategySource:this.model().removeStrategySource(this)},n.prototype.start=function(){this.model().addStrategySource(this),r.prototype.start.call(this)},n.prototype._isAlertFeatureEnabled=function(){return r.prototype._isAlertFeatureEnabled.call(this)&&l("alerts_on_strategies")},n.prototype.hasStateForAlert=function(){return this._isAlertFeatureEnabled()},n.prototype.inputsForAlertState=function(){var e=this.inputs();return this._metaInfo.inputs.forEach(function(t){var i=e[t.id];i&&t.internalID&&(i.internalID=t.internalID)}),e},n.prototype.processHibernate=function(){this._studyId&&!this.isVisible()&&(this._avoidRemoveStrategySource=!0),r.prototype.processHibernate.call(this)},n.prototype.onData=function(e){e.method&&"data_update"!==e.method&&this.watchedData.setValue({method:e.method}),r.prototype.onData.call(this,e)},n.prototype._onDataUpdated=function(e,t,i){var n,o=t&&t.data&&t.data.report;o?(t.isUpdate&&this._reportDataBuffer&&(o=$.extend(this._reportDataBuffer,o)),this._reportDataBuffer=this._reportData=$.extend(this._reportDataBuffer||{},o),this.watchedData.setValue({method:"data_update",nonSeriesData:t})):this.watchedData.setValue({method:"data_update",nonSeriesData:{data:{report:this._reportDataBuffer}}}),n=!(!t||!t.indexes_replace),"nochange"!==i&&i.length>0&&(o||n)&&this._collateBarsIndexes(i),r.prototype._onDataUpdated.call(this,e,t,i)},n.prototype._collateBarsIndexes=function(e){var t,i;if(Array.isArray(e)&&(t=this._reportData&&this._reportData.filledOrders)&&t.length)for(this._barsIndexes.length=0,i=0;i<t.length;i++)this._barsIndexes[i]=e[t[i].tm]},n.prototype.reportData=function(){return this._reportData},n.prototype.ordersData=function(){return this._reportData&&this._reportData.filledOrders},n.prototype.barsIndexes=function(){return this._barsIndexes},n.prototype.clearData=function(){r.prototype.clearData.call(this),this._strategyOrdersPaneView&&this._strategyOrdersPaneView.clearItems()},n.prototype.strategyOrdersPaneView=function(){return this._strategyOrdersPaneView},n.prototype.restoreData=function(e){r.prototype.restoreData.apply(this,arguments),this.model().addStrategySource(this),e.reportData&&e.barsIndexes&&(this._reportData=e.reportData,this._barsIndexes=e.barsIndexes,this.watchedData.setValue({method:"data_update",nonSeriesData:{data:{report:this._reportData}}})),e.activeState&&(this._activeState=!0)},n.prototype.activeState=function(){return this._activeState},n.prototype.updateAllViews=function(){r.prototype.updateAllViews.call(this),
this._strategyOrdersPaneView&&this._strategyOrdersPaneView.update()},n.prototype.createViews=function(){r.prototype.createViews.call(this),this._strategyOrdersPaneView=new o(this,this._series,this._model)},n.prototype.state=function(e){var t=r.prototype.state.apply(this,arguments);return e&&this._reportData&&this._barsIndexes&&(t.data||(t.data={}),t.data.reportData=this._reportData,t.data.barsIndexes=this._barsIndexes,t.data.activeState=this.model().activeStrategySource().value()===this),t},n.prototype.getStrategyPropertyPage=function(){return s.StudyStrategyPropertyPage},n.prototype._titleInputs=function(e){return this.inputs({symbolsForDisplay:!0,skipHiddenInputs:!0,skipFakeInputs:!1,fakeInputsForDisplay:!0,asObject:!1,skippedGroups:a,noExchanges:e})},n.prototype._getTelemetryObjectName=function(){return"strategy"},n.prototype._getTelemetryAdditionalData=function(){return{symbol:this.series().actualSymbol(),resolution:this.series().interval()}},e.exports=n}).call(this,i("hY0g"))},k83o:function(e,t,i){"use strict";(function(t){window.TradingView=window.TradingView||{};var i,n,r,o,s,a,l,c=TradingView.postMessageWrapper=(n={},r={},o={},s=0,a=0,l="TradingView",window.addEventListener&&window.addEventListener("message",function(e){var o;try{o=JSON.parse(e.data),t.enabled("charting_library_debug_mode")&&console.log("PostMessage: incoming message: "+JSON.stringify(o))}catch(e){return}if(o&&o.provider&&o.provider===l)if("get"===o.type){if(!r[o.name])return;r[o.name].forEach(function(e){"function"==typeof e&&e.call(o,o.data,function(e){var t={id:o.id,type:"on",name:o.name,client_id:o.client_id,data:e,provider:l};i.postMessage(JSON.stringify(t),"*")})})}else if("on"===o.type)n[o.client_id]&&n[o.client_id][o.id]&&(n[o.client_id][o.id].call(o,o.data),delete n[o.client_id][o.id]);else if("post"===o.type){if(!r[o.name])return;r[o.name].forEach(function(e){"function"==typeof e&&e.call(o,o.data,function(){})})}}),function(e,t){n[t]={},o[t]=e,i=e;var c="";return{on:function(e,t,i){r[e]&&i||(r[e]=[]),r[e].push(t)},get:function(e,i,r){var a={id:s++,type:"get",name:e,client_id:t,data:i,provider:l};n[t][a.id]=r,o[t].postMessage(JSON.stringify(a),"*")},post:function(e,t,i){var n={id:a++,type:"post",name:t,client_id:c,data:i,provider:l};e&&"function"==typeof e.postMessage&&e.postMessage(JSON.stringify(n),"*")},setClientId:function(e){c=e}}});e.exports=c}).call(this,i("Kxc7"))},"k9/m":function(e,t,i){"use strict";function n(e,t){return null===e?t:null===t?e:{min:Math.min(e.min,t.min),max:Math.max(e.max,t.max)}}function r(e,t){for(var i=function(e,t){var i=e.length,n=t.length,r=i+n,o=0,s=0;for(;o<i&&s<n;)e[o].index<t[s].index?o++:e[o].index>t[s].index?s++:(o++,s++,r--);return r}(e,t),n=new Array(i),r=0,o=0,s=e.length,a=t.length,l=0;r<s&&o<a;)e[r].index<t[o].index?(n[l]=e[r],r++):e[r].index>t[o].index?(n[l]=t[o],o++):(n[l]=t[o],r++,o++),l++;for(;r<s;)n[l]=e[r],r++,l++;for(;o<a;)n[l]=t[o],o++,l++;return n}var o,s,a,l,c,u,h,d;i.r(t),i.d(t,"PlotRowSearchMode",function(){return u}),i.d(t,"PlotList",function(){return d}),
i.d(t,"mergeMinMax",function(){return n}),i.d(t,"mergePlotRows",function(){return r}),o=i("Eyy1"),s=i("Y7w9"),a=i("tqok"),l=i("uOxu"),c=Object(l.getLogger)("Chart.PlotList"),function(e){e[e.NearestLeft=-1]="NearestLeft",e[e.Exact=0]="Exact",e[e.NearestRight=1]="NearestRight"}(u||(u={})),h=30,d=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this._items=[],this._start=0,this._end=0,this._shareRead=!1,this._minMaxCache=new Map,this._rowSearchCache=new Map,this._rowSearchCacheWithoutEmptyValues=new Map,this._plotFunctions=e||new Map,this._emptyValuePredicate=t}return e.prototype.clear=function(){this._items=[],this._start=0,this._end=0,this._shareRead=!1,this._minMaxCache.clear(),this._rowSearchCache.clear(),this._rowSearchCacheWithoutEmptyValues.clear()},e.prototype.first=function(){return this.size()>0?this._items[this._start]:null},e.prototype.last=function(){return this.size()>0?this._items[this._end-1]:null},e.prototype.firstIndex=function(){return this.size()>0?this._indexAt(this._start):null},e.prototype.lastIndex=function(){return this.size()>0?this._indexAt(this._end-1):null},e.prototype.size=function(){return this._end-this._start},e.prototype.isEmpty=function(){return 0===this.size()},e.prototype.contains=function(e){return null!==this._search(e,u.Exact)},e.prototype.valueAt=function(e){var t=this.search(e);return null!==t?t.value:null},e.prototype.add=function(e,t){var i,n;return this._shareRead?(c.logDebug("add: readonly collection modification attempt"),!1):(i={index:e,value:t},n=this._search(e,u.Exact),this._rowSearchCache.clear(),this._rowSearchCacheWithoutEmptyValues.clear(),null===n?(this._items.splice(this._lowerbound(e),0,i),this._start=0,this._end=this._items.length,!0):(this._items[n]=i,!1))},e.prototype.search=function(e,t,i){var n,r,o,s,a,l;return void 0===t&&(t=u.Exact),n=void 0!==i?this._rowSearchCacheWithoutEmptyValues:this._rowSearchCache,r=void 0!==i?1e4*(t+1)+i:t,void 0!==(o=n.get(e))&&void 0!==(s=o.get(r))?s:null===(a=this._search(e,t,i))?null:(l={index:this._indexAt(a),value:this._valueAt(a)},void 0===o&&(o=new Map,n.set(e,o)),o.set(r,l),l)},e.prototype.fold=function(e,t){var i,n=t;for(i=this._start;i<this._end;++i)n=e(this._indexAt(i),this._valueAt(i),n);return n},e.prototype.findFirst=function(e,t){var i,n,r,o=void 0!==t&&Math.min(this._start+t,this._end)||this._end;for(i=this._start;i<o;++i)if(e(n=this._indexAt(i),r=this._valueAt(i)))return{index:n,value:r};return null},e.prototype.findLast=function(e,t){var i,n,r,o=void 0!==t&&Math.max(this._end-t,this._start)||this._start;for(i=this._end-1;i>=o;--i)if(e(n=this._indexAt(i),r=this._valueAt(i)))return{index:n,value:r};return null},e.prototype.each=function(e){var t;for(t=this._start;t<this._end&&!e(this._indexAt(t),this._valueAt(t));++t);},e.prototype.reduce=function(e,t){var i,n=t;for(i=this._start;i<this._end;++i)n=e(n,this._indexAt(i),this._valueAt(i));return n},e.prototype.range=function(t,i){var n=new e(this._plotFunctions,this._emptyValuePredicate);return n._items=this._items,n._start=this._lowerbound(t),
n._end=this._upperbound(i),n._shareRead=!0,n},e.prototype.minMaxOnRangeCached=function(e,t,i){var r,o,s,a;if(this.isEmpty())return null;for(r=null,o=0,s=i;o<s.length;o++)a=s[o],r=n(r,this._minMaxOnRangeCachedImpl(e-a.offset,t-a.offset,a.name));return r},e.prototype.minMaxOnRange=function(e,t,i){var r,o,s,a;if(this.isEmpty())return null;for(r=null,o=0,s=i;o<s.length;o++)a=s[o],r=n(r,this._minMaxOnRange(e-a.offset,t-a.offset,a.name));return r},e.prototype.merge=function(e){return this._shareRead?(c.logDebug("merge: readonly collection modification attempt"),null):0===e.length?null:this.isEmpty()||e[e.length-1].index<this._items[0].index?this._prepend(e):e[0].index>this._items[this._items.length-1].index?this._append(e):1===e.length&&e[0].index===this._items[this._items.length-1].index?(this._updateLast(e[0]),e[0]):this._merge(e)},e.prototype.addTail=function(e,t){var i,n,r,o;for(void 0===t&&(t=!1),i=0,t&&this._end-this._start>0&&(i=1,this._items[this._end-this._start-1].value=e[0].value),n=i;n<e.length;++n){if(r=e[n],null===(o=this.lastIndex())){c.logError("Can't add tail to the empty plotlist");break}this.add(o+1,r.value)}this._rowSearchCache.clear(),this._rowSearchCacheWithoutEmptyValues.clear()},e.prototype.move=function(e){var t,i,n,r,o,s,l;if(this._shareRead)c.logDebug("move: readonly collection modification attempt");else if(0!==e.length){for(t=this._items.slice(),i=0,n=e;i<n.length;i++)r=n[i],null!==(o=this._bsearch(r.old))&&void 0!==t[o]&&(r.new===a.INVALID_TIME_POINT_INDEX?t[o]=void 0:(t[o]={index:r.new,value:t[o].value},null!==(s=this._bsearch(r.new))&&void 0!==(l=t[s])&&l.index===r.new&&(t[s]=void 0)));this._items=t.filter(function(e){return void 0!==e}).sort(function(e,t){return e.index-t.index}),this._rowSearchCache.clear(),this._rowSearchCacheWithoutEmptyValues.clear(),this._minMaxCache.clear(),this._start=0,this._end=this._items.length}},e.prototype.remove=function(e){var t,i;return this._shareRead?(c.logDebug("remove: readonly collection modification attempt"),null):null===(t=this._search(e,u.NearestRight))?null:(i=this._items.splice(t),this._end=this._items.length,this._minMaxCache.clear(),this._rowSearchCache.clear(),this._rowSearchCacheWithoutEmptyValues.clear(),i.length>0?i[0]:null)},e.prototype.state=function(){return{start:this._start,end:this._end,data:this._items,shareread:this._shareRead}},e.prototype.restoreState=function(e){e?(this._start=e.start,this._end=e.end,this._shareRead=e.shareread,this._items=e.data,this._minMaxCache.clear(),this._rowSearchCache.clear(),this._rowSearchCacheWithoutEmptyValues.clear()):this.clear()},e.prototype._indexAt=function(e){return this._items[e].index},e.prototype._valueAt=function(e){return this._items[e].value},e.prototype._length=function(){return this._items.length},e.prototype._search=function(e,t,i){var n=this._bsearch(e);if(null===n&&t!==u.Exact)switch(t){case u.NearestLeft:return this._searchNearestLeft(e,i);case u.NearestRight:return this._searchNearestRight(e,i);default:throw new TypeError("Unknown search mode")}
if(void 0===i||null===n||t===u.Exact)return n;switch(t){case u.NearestLeft:return this._nonEmptyNearestLeft(n,i);case u.NearestRight:return this._nonEmptyNearestRight(n,i);default:throw new TypeError("Unknown search mode")}},e.prototype._nonEmptyNearestRight=function(e,t){for(var i=Object(o.ensure)(this._emptyValuePredicate),n=Object(o.ensure)(t);e<this._end&&i(this._valueAt(e),n);)e+=1;return e===this._end?null:e},e.prototype._nonEmptyNearestLeft=function(e,t){for(var i=Object(o.ensureNotNull)(this._emptyValuePredicate),n=Object(o.ensure)(t);e>=this._start&&i(this._valueAt(e),n);)e-=1;return e<this._start?null:e},e.prototype._searchNearestLeft=function(e,t){var i,n=this._lowerbound(e);return n>this._start&&(n-=1),i=n!==this._end&&this._indexAt(n)<e?n:null,void 0!==t&&null!==i?this._nonEmptyNearestLeft(i,t):i},e.prototype._searchNearestRight=function(e,t){var i=this._upperbound(e),n=i!==this._end&&e<this._indexAt(i)?i:null;return void 0!==t&&null!==n?this._nonEmptyNearestRight(n,t):n},e.prototype._bsearch=function(e){var t=this._lowerbound(e);return t===this._end||e<this._items[t].index?null:t},e.prototype._lowerbound=function(e){return Object(s.lowerbound)(this._items,e,function(e,t){return e.index<t},this._start,this._end)},e.prototype._upperbound=function(e){return Object(s.upperbound)(this._items,e,function(e,t){return t.index>e},this._start,this._end)},e.prototype._plotMinMax=function(e,t,i){var n,r,o=null,s=this._plotFunctions.get(i);if(void 0===s)throw new Error('Plot "'+i+'" is not registered');for(n=e;n<t;n++)void 0===(r=s(this._items[n].value))||null===r||Number.isNaN(r)||(null===o?o={min:r,max:r}:(r<o.min&&(o.min=r),r>o.max&&(o.max=r)));return o},e.prototype._invalidateCacheForRow=function(e){var t=Math.floor(e.index/h);this._minMaxCache.forEach(function(e){return e.delete(t)})},e.prototype._prepend=function(e){return Object(o.assert)(!this._shareRead,"collection should not be readonly"),Object(o.assert)(0!==e.length,"plotRows should not be empty"),this._rowSearchCache.clear(),this._rowSearchCacheWithoutEmptyValues.clear(),this._minMaxCache.clear(),this._items=e.concat(this._items),this._start=0,this._end=this._items.length,e[0]},e.prototype._append=function(e){return Object(o.assert)(!this._shareRead,"collection should not be readonly"),Object(o.assert)(0!==e.length,"plotRows should not be empty"),this._rowSearchCache.clear(),this._rowSearchCacheWithoutEmptyValues.clear(),this._minMaxCache.clear(),this._items=this._items.concat(e),this._start=0,this._end=this._items.length,e[0]},e.prototype._updateLast=function(e){Object(o.assert)(!this.isEmpty(),"plot list should not be empty");var t=this._items[this._end-1];Object(o.assert)(t.index===e.index,"last row index should match new row index"),this._invalidateCacheForRow(e),this._rowSearchCache.delete(e.index),this._rowSearchCacheWithoutEmptyValues.delete(e.index),this._items[this._end-1]=e},e.prototype._merge=function(e){return Object(o.assert)(0!==e.length,"plot rows should not be empty"),this._rowSearchCache.clear(),
this._rowSearchCacheWithoutEmptyValues.clear(),this._minMaxCache.clear(),this._items=r(this._items,e),this._start=0,this._end=this._items.length,e[0]},e.prototype._minMaxOnRangeCachedImpl=function(e,t,i){var r,s,a,l,c,u,d,p,f,_,m,g,y;if(this.isEmpty())return null;for(r=null,s=Object(o.ensureNotNull)(this.firstIndex()),a=Object(o.ensureNotNull)(this.lastIndex()),l=Math.max(e,s),c=Math.min(t,a),u=Math.ceil(l/h)*h,d=Math.max(u,Math.floor(c/h)*h),r=n(r,this._minMaxOnRange(l,Math.min(u,t,c),i)),void 0===(p=this._minMaxCache.get(i))&&(p=new Map,this._minMaxCache.set(i,p)),f=Math.max(u+1,l);f<d;f+=h)_=Math.floor(f/h),void 0===(m=p.get(_))&&(g=_*h,y=(_+1)*h-1,m=this._minMaxOnRange(g,y,i),p.set(_,m)),r=n(r,m);return r=n(r,this._minMaxOnRange(d,c,i))},e.prototype._minMaxOnRange=function(e,t,i){return this._plotMinMax(this._lowerbound(e),this._upperbound(t),i)},e}()},kIXa:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolTimeCycles";var o=t||n.createProperties();r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("am+t").TimeCyclesPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=window.t("Time Cycles");inherit(n,r),n.prototype.pointsCount=function(){return 2},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Time Cycles"},n.prototype.setPoint=function(e,t,i){var n=Object.assign({},t),r=this._points[0],o=this._points[1];r.price=n.price,o.price=n.price,this._points[e]=n,this.normalizePoints()},n.prototype.addPoint=function(e,t,i){var n,o=r.prototype.addPoint.call(this,e,t,!0);return o&&(n=this._points[0],this._points[1].price=n.price,i||(this.normalizePoints(),this.createServerPoints())),o},n.prototype.getStylesPropertyPage=function(){return s.LineToolTimeCyclesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("BABJ").TimeCyclesPatternDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new o("linetooltimecycles",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolTimeCycles=n},kNhM:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"EmbedFooterWidget",function(){return o}),i("YFKU"),n=i("eKpm"),r=i("i8AX"),o=function(){function e(e){var t=e.resizerBridge,i=e.publishOptions;this._publishOptions=i,t.negotiateHeight(31),t.container.subscribe(this._render.bind(this),{callWithLast:!0})}return e.prototype._render=function(e){var t,i,r=this;$(e).empty().css("overflow","hidden"),t=$("<div>",e).attr("id","footer-chart-panel").addClass("publish-widget").appendTo(e),i=$("<div>",e).addClass("publish-buttons").appendTo(t),
"dailyfx"===this._publishOptions.publishSource&&$('<label class="usage-help">For a guide on using Trading View charts, please click <a target="_blank" href="https://media.dailyfx.com/docs/TradingView.pdf">here</a>.</label>').appendTo(t),$('<a class="publish-chart-button"></a>').html(window.t("Publish Idea")).on("click",function(e){e.preventDefault(),Object(n.publishChartWidget)(r._publishOptions)}).addClass("apply-common-tooltip").attr("title",$.t("Share your idea with the trade community")).appendTo(i)},e}()},kSsA:function(e,t,i){"use strict";t.createInputsPropertyPage=function(e,t){var i=e.getInputsPropertyPage();return null==i?null:new i(e.properties(),t,e)},t.createStudyStrategyPropertyPage=function(e,t){var i=e.getStrategyPropertyPage();return null==i?null:new i(e.properties(),t,e)},t.createStylesPropertyPage=function(e,t){var i=e.getStylesPropertyPage();return null==i?null:new i(e.properties(),t,e)},t.createDisplayPropertyPage=function(e,t){var i=e.getDisplayPropertyPage();return null==i?null:new i(e.properties(),t,e)},t.createVisibilitiesPropertyPage=function(e,t){var i=e.getVisibilitiesPropertyPage();return null==i?null:new i(e.properties(),t,e)},t.hasInputsPropertyPage=function(e){return null!==e.getInputsPropertyPage()},t.hasStylesPropertyPage=function(e){return null!==e.getStylesPropertyPage()}},kYV3:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"PrevCloseSeriesPriceAxisView",function(){return o}),n=i("mrSG"),r=i("KcY8"),o=function(e){function t(t,i){var n=e.call(this)||this;return n._source=t,n._model=i,n}return Object(n.__extends)(t,e),t.prototype._updateRendererData=function(e,t,i){var n,r,o;e.visible=!1,n=this._source,this._model.properties().scalesProperties.showSeriesPrevCloseValue.value()&&(n.isDWM()||null!==(r=n.prevClose())&&(o=this._source.properties().prevClosePriceLineColor.value(),i.background=o,i.color=this.generateTextColor(o),i.coordinate=r.coordinate,e.text=r.text,e.visible=!0))},t}(r.a)},kcTO:function(e,t,i){"use strict";function n(e,t){if(!Object(o.isNumber)(e))return"n/a";if(!Object(o.isInteger)(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");if(0===t)return e.toString();return("0000000000000000"+e.toString()).slice(-t)}var r,o,s,a,l,c,u,h,d;i.r(t),i.d(t,"customFormatters",function(){return c}),i.d(t,"formatterOptions",function(){return u}),i.d(t,"numberToStringWithLeadingZero",function(){return n}),i.d(t,"PriceFormatter",function(){return d}),r=i("YFKU"),o=i("ogJP"),s=i("Ialn"),a=i("uOxu"),l=Object(a.getLogger)("Chart.PriceFormatter"),c={dateFormatter:null,timeFormatter:null},u={decimalSign:".",decimalSignFractional:"'"},h={custom:r.t("Price format is invalid."),fraction:r.t("Fraction part is invalid."),secondFraction:r.t("Second fraction part is invalid.")},d=function(){function e(e,t,i,n){if(this.type="price",t||(t=1),Object(o.isNumber)(e)&&Object(o.isInteger)(e)||(e=100),e<0)throw new TypeError("invalid base");this._priceScale=e,this._minMove=t,this._minMove2=n,
i&&void 0!==n&&n>0&&2!==n&&4!==n&&8!==n?l.logDebug("invalid minmove2"):(this._fractional=i,this.calculateDecimal())}return e.prototype.isFractional=function(){return!!this._fractional},e.prototype.state=function(){return{fractional:this._fractional,fractionalLength:this._fractionalLength,minMove:this._minMove,minMove2:this._minMove2,priceScale:this._priceScale}},e.prototype.calculateDecimal=function(){if(this._fractionalLength=0,this._priceScale>0&&this._minMove>0){var e=this._priceScale;for(this._fractional&&this._minMove2&&(e/=this._minMove2);e>1;)e/=10,this._fractionalLength++}},e.prototype.format=function(e,t,i,n,r){var o,a;return void 0===n&&(n=!0),void 0===r&&(r=!0),o="",e<0?(o=!1===n?"":"−",e=-e):e&&!0===t&&(o="+"),a=this._fractional?o+this._formatAsFractional(e,i):o+this._formatAsDecimal(e,i),r?Object(s.forceLTRStr)(a):a},e.prototype.parse=function(e){return e=(e=Object(s.stripLTRMarks)(e)).replace("−","-"),this._fractional?this._minMove2?this._parseAsDoubleFractional(e):this._parseAsSingleFractional(e):this._parseAsDecimal(e)},e.prototype.hasForexAdditionalPrecision=function(){return!this._fractional&&10===this._minMove2},e.serialize=function(e){return e.state()},e.deserialize=function(t){return new e(t.priceScale,t.minMove,t.fractional,t.minMove2)},e.prototype._formatAsDecimal=function(e,t){var i,r,o,s,a,l,c;return t=t||0,r=1/(i=this._fractional?Math.pow(10,this._fractionalLength||0):Math.pow(10,t)*this._priceScale/this._minMove),i>1?o=Math.floor(e):(s=Math.floor(Math.round(e/r)*r),o=0===Math.round((e-s)/r)?s:s+r),a="",i>1&&((l=+(Math.round(e*i)-o*i).toFixed(this._fractionalLength))>=i&&(l-=i,o+=1),c=void 0!==this._fractionalLength?this._fractionalLength:NaN,a=u.decimalSign+n(+l.toFixed(this._fractionalLength)*this._minMove,c+t),a=this._removeEndingZeros(a,t)),o.toString()+a},e.prototype._getFractPart=function(e,t){var i=[0,5],n=[0,2,5,7];return 2===t?void 0===i[e]?-1:i[e]:4===t?void 0===n[e]?-1:n[e]:e},e.prototype._formatAsFractional=function(e,t){var i,r,o,s,a,l,c=this._priceScale/this._minMove,h=Math.floor(e),d=t?Math.floor(e*c)-h*c:Math.round(e*c)-h*c;if(d===c&&(d=0,h+=1),i="",t&&(r=(e-h-d/c)*c,i=n(r=Math.round(r*Math.pow(10,t)),t),i=this._removeEndingZeros(i,t)),!this._fractionalLength)throw new Error("_fractionalLength is not calculated");return o="",this._minMove2?(a=n(d=(d-(s=d%this._minMove2))/this._minMove2,this._fractionalLength),l=this._getFractPart(s,this._minMove2),o=a+u.decimalSignFractional+l):o=n((d=this._getFractPart(d,this._priceScale))*this._minMove,this._fractionalLength),h.toString()+u.decimalSignFractional+o+i},e.prototype._removeEndingZeros=function(e,t){for(var i=0;i<t&&"0"===e[e.length-1];i++)e=e.substr(0,e.length-1);return e},e.prototype._parseAsDecimal=function(e){var t,i=new RegExp(/^(\-?)[0-9]+$/),n=i.exec(e);return n?{value:t=parseFloat(e),res:!0,suggest:this.format(t)}:(n=new RegExp("^(-?)[0-9]+\\"+u.decimalSign+"[0-9]*$").exec(e))?{value:t=parseFloat(e.replace(u.decimalSign,".")),res:!0,suggest:this.format(t)}:{error:h.custom,res:!1}},
e.prototype._patchFractPart=function(e,t){var i={0:0,5:1},n={0:0,2:1,5:2,7:3};return 2===t?void 0===i[e]?-1:i[e]:4===t?void 0===n[e]?-1:n[e]:e},e.prototype._parseAsSingleFractional=function(e){var t,i,n,r,o,s=new RegExp(/^(\-?)[0-9]+$/),a=s.exec(e);return a?{value:t=parseFloat(e),res:!0,suggest:this.format(t)}:(a=new RegExp("^(-?)([0-9]+)\\"+u.decimalSignFractional+"([0-9]+)$").exec(e))?(i=!!a[1],n=parseInt(a[2]),r=this._priceScale,(o=this._patchFractPart(parseInt(a[3]),r))>=r||o<0?{error:h.fraction,res:!1}:(t=n+o/r,i&&(t=-t),{value:t,res:!0,suggest:this.format(t)})):{error:h.custom,res:!1}},e.prototype._parseAsDoubleFractional=function(e){var t,i,n,r,o,s,a,l,c=new RegExp(/^(\-?)[0-9]+$/),d=c.exec(e);return d?{value:t=parseFloat(e),res:!0,suggest:this.format(t)}:(d=new RegExp("^(-?)([0-9]+)\\"+u.decimalSignFractional+"([0-9]+)\\"+u.decimalSignFractional+"([0-9]+)$").exec(e))?(i=!!d[1],n=parseInt(d[2]),r=void 0!==this._minMove2?this._minMove2:NaN,o=this._priceScale/r,s=this._minMove2,a=this._patchFractPart(parseInt(d[3]),o),l=this._patchFractPart(parseInt(d[4]),s),a>=o||a<0?{error:h.fraction,res:!1}:void 0!==s&&l>=s||l<0?{error:h.secondFraction,res:!1}:(t=void 0!==s?n+a/o+l/(o*s):NaN,i&&(t=-t),{value:t,res:!0,suggest:this.format(t)})):{error:h.custom,res:!1}},e}()},koRH:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="#f7f8fa" d="M0 18h18V0H0z"/><path fill="#ed5565" d="M14 18h4V0h-4zM0 18h4V0H0zm11-8l2-1-1-.5v-1l-2 1 1-2h-1L9 5 8 6.5H7l1 2-2-1v1L5 9l2 1-.5 1h2v1.5h1V11h2z"/></svg>'},kpbz:function(e,t,i){"use strict";function n(e){return new Promise(function(t){Promise.all([i.e("vendors_embed"),i.e("dialogs-core"),i.e(0),i.e(1),i.e(3),i.e(5),i.e(9),i.e(10),i.e(14),i.e(25),i.e(32),i.e(35),i.e(45),i.e(50),i.e(122),i.e(206),i.e(8),i.e(18),i.e(23),i.e(28),i.e(31),i.e(30),i.e(41),i.e(101),i.e("react-popper"),i.e("phone-dialog")]).then(function(n){t(i("6ZhT").createPhoneDialog(e))}.bind(null,i)).catch(void 0)})}i.r(t),i.d(t,"createPhoneDialog",function(){return n})},kxJy:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L;i.d(t,"d",function(){return P}),i.d(t,"b",function(){return T}),i.d(t,"g",function(){return C}),i.d(t,"f",function(){return x}),i.d(t,"e",function(){return I}),i.d(t,"c",function(){return E}),i.d(t,"a",function(){return L}),n=i("6Kf3"),r=i("9lPX"),o=i("MyT/"),s=i("jXu8"),a=i("cbig"),l=i("G2LI"),c=i("QkND"),u=i("Gp/h"),h=i("S48P"),d=i("rh3U"),p=window.t("Market open"),f=window.t("Pre-market"),_=window.t("Post-market"),m=window.t("Market closed"),g=window.t("Holiday"),y=window.t("Market is currently open."),v=window.t("Market is currently open for pre-market trading only."),b=window.t("Market is currently open for post-market trading only."),S=window.t("Market is currently closed."),w=window.t("Market is currently closed."),
P=new Map([["market",new Map([["medium",o],["large",s]])],["pre_market",new Map([["medium",u],["large",h]])],["post_market",new Map([["medium",l],["large",c]])],["out_of_session",new Map([["medium",r],["large",r]])],["holiday",new Map([["medium",a],["large",a]])]]),T=new Map([["market",d.marketStatusOpen],["pre_market",d.marketStatusPre],["post_market",d.marketStatusPost],["out_of_session",d.marketStatusClose],["holiday",d.marketStatusHoliday]]),C=new Map([["market",p],["pre_market",f],["post_market",_],["out_of_session",m],["holiday",g]]),x=new Map([["market",p],["pre_market",f],["post_market",_],["out_of_session",m],["holiday",g]]),I=new Map([["market",n.colorsPalette["color-market-open"]],["pre_market",n.colorsPalette["color-pre-market"]],["post_market",n.colorsPalette["color-post-market"]],["out_of_session",n.colorsPalette["color-market-closed"]],["holiday",n.colorsPalette["color-market-holiday"]]]),E=new Map([["market",[y]],["pre_market",[v]],["post_market",[b]],["out_of_session",[S]],["holiday",[w]]]),L=new Map([["market",null],["pre_market",null],["post_market",null],["out_of_session",null],["holiday",null]])},kyOc:function(e,t,i){"use strict";function n(e){return e.charAt(0).toUpperCase()+e.substr(1)}i.r(t),i.d(t,"capitalizeFirstLetter",function(){return n})},l4sv:function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"HorizontalLineRenderer",function(){return s}),n=i("VdBB"),r=i("jFln"),o=i("gAom"),s=function(){function e(){this._data=null,this._hitTest=new n.HitTestResult(n.HitTestResult.REGULAR)}return e.prototype.setData=function(e){this._data=e},e.prototype.setHitTest=function(e){this._hitTest=e},e.prototype.hitTest=function(e){var t,i,n;return null===this._data||!1===this._data.visible?null:(t=Math.abs(e.y-this._data.y)<=3+this._data.linewidth/2,i=void 0===this._data.left||this._data.left-e.x<=3,n=void 0===this._data.right||e.x-this._data.right<=3,t&&i&&n?this._hitTest:null)},e.prototype.draw=function(e,t){var i,n,s,a,l,c;null!==this._data&&!1!==this._data.visible&&(this._data.y<-this._data.linewidth/2||this._data.y>this._data.height+this._data.linewidth/2||(i=t.pixelRatio,e.lineCap="butt",e.strokeStyle=this._data.color,e.lineWidth=Math.max(1,Math.floor(this._data.linewidth*i)),void 0!==this._data.linestyle&&Object(r.setLineStyle)(e,this._data.linestyle),n=void 0!==this._data.left?Math.max(this._data.left,0):0,s=void 0!==this._data.right?Math.min(this._data.right,this._data.width):this._data.width,a=Math.round(this._data.y*i),l=Math.floor(n*i),c=Math.ceil(s*i),Object(o.drawHorizontalLine)(e,a,l,c)))},e}()},l7mP:function(e,t,i){"use strict";function n(e,t,n){void 0===t&&(t={}),Promise.all([i.e(4),i.e(14),i.e(24),i.e(27),i.e(35),i.e(37),i.e(69),i.e(266),i.e(22),i.e("take-chart-image-dialog-impl")]).then(function(r){i("fMMV").getImageOfChart(e,t,n)}.bind(null,i)).catch(void 0)}function r(e,t,n){void 0===t&&(t={}),Promise.all([i.e(4),i.e(14),i.e(24),i.e(27),i.e(35),i.e(37),i.e(69),i.e(266),i.e(22),i.e("take-chart-image-dialog-impl")]).then(function(r){i("fMMV").getImageOfChartSilently(e,t,n)
}.bind(null,i)).catch(void 0)}i.r(t),i.d(t,"getImageOfChart",function(){return n}),i.d(t,"getImageOfChartSilently",function(){return r})},lCO3:function(e,t,i){"use strict";var n,r;i.r(t),i.d(t,"Version",function(){return r}),n=i("Eyy1"),r=function(){function e(e,t){this._major=e,this._minor=t}return e.prototype.major=function(){return this._major},e.prototype.minor=function(){return this._minor},e.prototype.isZero=function(){return 0===this._major&&0===this._minor},e.prototype.toString=function(){return this._major+"."+this._minor},e.prototype.compareTo=function(e){return this._major<e._major?-1:this._major>e._major?1:this._minor<e._minor?-1:this._minor>e._minor?1:0},e.prototype.isLess=function(e){return this.compareTo(e)<0},e.prototype.isLessOrEqual=function(e){return this.compareTo(e)<=0},e.prototype.isEqual=function(e){return 0===this.compareTo(e)},e.prototype.isGreater=function(e){return this.compareTo(e)>0},e.prototype.isGreaterOrEqual=function(e){return this.compareTo(e)>=0},e.parse=function(t){var i,r,o;if(t instanceof e)return new e(t.major(),t.minor());if("number"==typeof t)return Object(n.assert)(Math.floor(t)===t,"Version should not be a float number"),new e(t,0);if("string"==typeof t){if(1===(i=t.split(".")).length)return r=parseInt(i[0],10),Object(n.assert)(!isNaN(r),"Bad version string: "+t),new e(r,0);if(2===i.length)return r=parseInt(i[0],10),Object(n.assert)(!isNaN(r),"Bad version string: "+t),o=parseInt(i[1],10),Object(n.assert)(!isNaN(o),"Bad version string: "+t),new e(r,o);throw new Error("Bad version string (one dot expected): "+t)}throw new Error("Bad version: "+t)},e.ZERO=new e(0,0),e}()},lJvs:function(e,t,i){"use strict";function n(e){a.call(this,e);var t=this;l.hideMarksOnBars().subscribe(this,function(){t._properties.visible.setValue(!l.hideMarksOnBars().value())}),this._paneView=new r(e,this)}function r(e,t){s.call(this,e,t,void 0,void 0),this.source=t,this.stylesCache={},this.templatesCache={},this._lollipops={},this._createLollipops()}var o=i("aO4+").Point,s=i("vAx0").ESDPaneView,a=i("fTGZ").BarsMarksContainer,l=i("mMWL"),c=i("FQhm"),u=i("6xeX").Tooltip,h=i("zDbI").CHART_FONT_FAMILY;inherit(n,a),n.prototype._initialize=function(e){this._properties.visible.setValue(!0)},n.prototype.userEditEnabled=function(){return!1},n.prototype._constructor="UserDefinedTimescaleMarks",n.prototype._plateViewData=function(e){return{text:e.text}},n.prototype.onClicked=function(e){c.emit("onTimescaleMarkClick",e.id)},n.prototype.clearMarks=function(){a.prototype.clearMarks.call(this),this._paneView.clearCaches(),this.onNeedRepaint.fire()},n.prototype._getData=function(e){var t,i,n,r=this._model.mainSeries().symbolInfo();r&&(t=this.roundRange(this._rangeDifference(e)),i=this,n=this._model.mainSeries().properties().interval.value(),ChartApiInstance.getTimescaleMarks(r,t.start,t.end,function(t){t.forEach(function(e){i._marks[e.id]=e},i),i._loadedRange=i._rangeUnion(e,i._loadedRange),i.onNeedRepaint.fire()},n))},n.prototype.updatePlateData=function(e,t){return t.barWidth=this.barWidth(),t.text=e.text,
t.tooltipMargin=-1*Math.max(e.minSize/2,.4*this.barWidth()),t},n.prototype.hasContextMenu=function(){return!1},n.prototype.paneViews=function(){return this._properties.visible.value()?[this._paneView]:[]},n.prototype.onClickOutside=function(e){this._paneView.onClickOutside(e)},inherit(r,s),r.prototype._createLollipops=function(){var e=this.source._model.timeScale(),t=s.prototype._getY.call(this.source),i=this.source._model.lastHittestData(),n=this;Object.keys(this.source._marks).forEach(function(r){var s=this.source._marks[r],a=s.id;n._lollipops[a]={id:a,basePoint:new o(e.indexToCoordinate(e.timePointToIndex(s.tickmark))+1,t),hovered:i&&i.id===a||a===n.getLastClickedLollipopId(),barY:null,label:s.label,color:s.color,items:s.tooltip,tooltip:n._lollipops.hasOwnProperty(a)?n._lollipops[a].tooltip:new u,visible:!0}},this)},r.prototype.clearCaches=function(){this.closeTooltips(),this.clearLastClicked(),this._lollipops={}},r.prototype.update=function(){this._createLollipops(),this._invalidated=!1},r.prototype.renderer=function(){return this.update(),s.prototype.renderer.call(this)},r.prototype._generateTemplateStyle=function(e,t,i){var n,r,o=e+t+i;return o in this.stylesCache||(n="default"!==e,r={strokeStyle:t,lineWidth:1,fillStyle:"white",barLine:{lineStyle:CanvasEx.LINESTYLE_DASHED},lollipop:{width:32,height:96,circleHeight:16,radius:12,lineWidth:1.5,fillStyle:n?t:"white",fillCircle:n,strokeStyle:"#E2745B",text:{label:i,strokeStyle:n?"white":t,font:"normal 12px "+h}}},this.stylesCache[o]=r),this.stylesCache[o]},r.prototype.getTemplate=function(e,t){var i=e+t.color+t.label;return i in this.templatesCache||(this.templatesCache[i]=this.createTemplate(this._generateTemplateStyle(e,t.color,t.label))),this.templatesCache[i]},r.prototype.getStyle=function(e,t){return this._generateTemplateStyle(e,t.color,t.label)},r.prototype.createText=function(e,t){"string"==typeof e.items?t.addTextLine(e.items):Array.isArray(e.items)&&e.items.forEach(function(e){t.addTextLine(e)})},r.prototype.hasTooltip=function(e){return!!e.tooltip&&e.tooltip.length},e.exports=n},"lNN+":function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolTrianglePattern";var o=t||n.createProperties();r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("Jej9").LineToolTrianglePatternPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=window.t("Triangle Pattern");inherit(n,r),n.prototype.pointsCount=function(){return 4},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Triangle Pattern"},n.prototype.getStylesPropertyPage=function(){return s.LineToolTrianglePatternStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("EFc4").Points5PatternDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){
var t=new o("linetooltrianglepattern",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolTrianglePattern=n},lTLF:function(e,t,i){"use strict";var n,r,o,s,a;i.r(t),n=i("Hr11"),r=1e-9,o=function(){function e(e,t){if(this._base=e,this._integralDividers=t,Object(n.isBaseDecimal)(this._base))this._fractionalDividers=[2,2.5,2];else{this._fractionalDividers=[];for(var i=this._base;1!==i;){if(i%2==0)this._fractionalDividers.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this._fractionalDividers.push(2),this._fractionalDividers.push(2.5),i/=5}if(this._fractionalDividers.length>100)throw new Error("something wrong with base")}}}return e.prototype.tickSpan=function(e,t,i){for(var o,s,a,l=0===this._base?0:1/this._base,c=r,u=Math.pow(10,Math.max(0,Math.ceil(Object(n.log10)(e-t)))),h=0,d=this._integralDividers[0];o=Object(n.greaterOrEqual)(u,l,c)&&u>l+c,s=Object(n.greaterOrEqual)(u,i*d,c),a=Object(n.greaterOrEqual)(u,1,c),o&&s&&a;)u/=d,d=this._integralDividers[++h%this._integralDividers.length];if(u<=l+c&&(u=l),u=Math.max(1,u),this._fractionalDividers.length>0&&Object(n.equal)(u,1,c))for(h=0,d=this._fractionalDividers[0];Object(n.greaterOrEqual)(u,i*d,c)&&u>l+c;)u/=d,d=this._fractionalDividers[++h%this._fractionalDividers.length];return u},e}(),i.d(t,"PriceTickMarkBuilder",function(){return a}),s=2.5,a=function(){function e(e,t,i,n){this._marks=[],this._priceScale=e,this._base=t,this._coordinateToLogicalFunc=i,this._logicalToCoordinateFunc=n}return e.prototype.base=function(){return this._base},e.prototype.setBase=function(e){if(e<0)throw new Error("base < 0");this._base=e},e.prototype.tickSpan=function(e,t,i){var n,r,s,a,l,c,u,h,d;if(void 0===i&&(i=0),e<t)throw new Error("high < low");return n=this._priceScale.height(),r=(e-t)*this._tickMarkHeight()/n,s=new o(this._base,[2,2.5,2]),a=new o(this._base,[2,2,2.5]),l=new o(this._base,[2.5,2,2]),c=0,(u=s.tickSpan(e,t,r))>i&&(c=u),(h=a.tickSpan(e,t,r))>i&&(c=Math.min(c,h)),(d=l.tickSpan(e,t,r))>i&&(c=Math.min(c,d)),c>0?c:e-t},e.prototype.rebuildTickMarks=function(){var e,t,i,n,r,o,s,a,l,c,u,h,d,p,f,_=this._priceScale;if(this._marks=[],!_.isEmpty()&&null!==(e=_.mainSource())&&(null===(t=e.firstValue())&&(t=0),i=_.height(),n=this._coordinateToLogicalFunc(i-1,t),r=this._coordinateToLogicalFunc(0,t),(o=Math.max(n,r))!==(s=Math.min(n,r))))for(l=o%(a=this.tickSpan(o,s)),l+=l<0?a:0,c=o>=s?1:-1,u=null,h=_.formatter(),d=NaN,p=o-l;p>s;p-=a)p===d&&(a=this.tickSpan(o,s,a)),d=p,f=this._logicalToCoordinateFunc(p,t),null!==u&&Math.abs(f-u)<this._tickMarkHeight()||(this._marks.push({coord:f,label:h.format(p)}),u=f,_.isLog()&&(a=this.tickSpan(p*c,s)))},e.prototype.marks=function(){return this._marks},e.prototype._fontHeight=function(){return this._priceScale.fontSize()},e.prototype._tickMarkHeight=function(){return Math.ceil(this._fontHeight()*s)},e}()},lUQk:function(e,t,i){"use strict";var n,r,o,s,a;i.r(t),i.d(t,"SeriesBase",function(){return a}),n=i("mrSG"),r=i("7ktv"),o=i("n5al"),s=i("kcTO"),a=function(e){function t(t){
var i=e.call(this,t)||this;return i._paneView=null,i._priceStep=null,i._base=100,i._formatter=new s.PriceFormatter(i._base),i._ignoreMinMoveFormatter=new s.PriceFormatter(i._base),i._ignoreMinMovePriceStep=null,i._lastBarCloseTime=null,i}return Object(n.__extends)(t,e),t.prototype.formatter=function(e){return void 0===e&&(e=!0),e?this._formatter:this._ignoreMinMoveFormatter},t.prototype.priceStep=function(e){return void 0===e&&(e=!0),e?this._priceStep:this._ignoreMinMovePriceStep},t.prototype.hasClosePrice=function(){return 12!==this.properties().style.value()},t.prototype.autoScaleInfo=function(e,t){var i,n=this.priceRange(e,t);return null===this._paneView?{range:n}:{range:n,topPixelMargin:(i=this._paneView).topPixelMargin?i.topPixelMargin():void 0,bottomPixelMargin:i.bottomPixelMargin?i.bottomPixelMargin():void 0}},t.prototype.base=function(){return this._base},t.prototype.barCloseTime=function(){return this._lastBarCloseTime},t.prototype.currency=function(){return Object(o.seriesCurrency)(this.symbolInfo())},t.prototype._recreateFormatter=function(){this._formatter=Object(o.createSeriesFormatter)(this.symbolInfo(),this.properties().minTick.value()),this._ignoreMinMoveFormatter=Object(o.createSeriesFormatter)(this.symbolInfo(),this.properties().minTick.value(),!0),this.priceScale()&&this.priceScale().updateFormatter(),this._formatterChanged.fire()},t.prototype._recreatePriceStep=function(){var e=Object(o.getSeriesPriceFormattingState)(this.symbolInfo()),t=e.minMove,i=e.priceScale,n=t/i;this._ignoreMinMovePriceStep=1/i,this._priceStep!==n&&(this._priceStep=n,this._priceStepChanged.fire())},t.prototype._recreatePriceFormattingDependencies=function(){this._recreateFormatter(),this._recreatePriceStep()},t}(r.PriceDataSource)},"lW/c":function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h;i.r(t),i("YFKU"),n=i("hY0g"),r=i.n(n),o=i("HySD"),s=function(){function e(e){var t,i,n,o,s=this;for(this._document=e,this.isFullscreen=new r.a,(t=function(){var e,t,i=["fullscreenElement","webkitFullscreenElement","mozFullscreenElement","mozFullScreenElement","msFullscreenElement"];for(e=0;e<i.length;e++)if((t=i[e])in s._document){s.isFullscreen.setValue(!!s._document[t]);break}})(),i=0,n=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"];i<n.length;i++)o=n[i],e.addEventListener(o,t,!1)}return e.prototype.enter=function(){var e,t,i,n=this._document.documentElement;for(e=0,t=["requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen"];e<t.length;e++)if("function"==typeof n[i=t[e]]){n[i]();break}this.isFullscreen.setValue(!0)},e.prototype.exit=function(){var e,t,i,n=this._document;for(e=0,t=["exitFullscreen","mozCancelFullScreen","mozExitFullscreen","webkitExitFullscreen","msExitFullscreen"];e<t.length;e++)if("function"==typeof n[i=t[e]]){n[i]();break}this.isFullscreen.setValue(!1)},e}(),a=i("GLdp"),l=i("/3z9"),c=i("qFKp"),u=i("Eyy1"),i.d(t,"Root",function(){return h}),h=function(){function e(e){var t,i=this;this._updateDocumentHeight=function(e){
"visual"===i._viewportType&&i._window.document.documentElement.style.setProperty("height",e+"px","important")},this._window=e,this._fullscreenApi=new s(e.document),this._viewportType=!Object(c.isOnMobileAppPage)("any")&&this._window.visualViewport?"visual":"quirks","visual"===this._viewportType?this._viewport=Object(u.ensureDefined)(this._window.visualViewport):this._viewport=this._window,(t=this._layoutSizeSensor=this._window.document.createElement("div")).id="layout-size-sensor",t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.right="0",t.style.bottom="0",t.style.pointerEvents="none",t.style.visibility="hidden",this._initFullscreen()}return e.prototype.allocate=function(){var e,t,i,n=this;return this.free(),(t=(e=this._window.document).createElement("div")).classList.add("js-rootresizer__contents"),t.style.position="relative",t.style.width="100%",t.style.height="100%",e.body.insertAdjacentElement("afterbegin",t),e.body.insertAdjacentElement("afterbegin",this._layoutSizeSensor),this._visibilityApi=new a.a(this._window.document),(i={alive:new r.a(!0),fullscreenable:new r.a(!0),container:new r.a(t),width:new r.a,height:new r.a,availWidth:new r.a,availHeight:new r.a,visible:this._visibilityApi.isVisible,fullscreen:this._fullscreenApi.isFullscreen,remove:function(){i.alive.setValue(!1)},attach:function(){i.alive.setValue(!1),n._window.close()},requestFullscreen:function(){n._requestFullscreen()},exitFullscreen:function(){n._exitFullscreen()}}).alive.subscribe(function(e){e||i!==n._area||n.free()}),this._area=i,this._resizeHandler=function(){var e=n._width(i)||800,t=n._height(i)||600;i.availHeight.setValue(t),i.availWidth.setValue(e),i.height.setValue(t),i.width.setValue(e)},this._area.height.subscribe(this._updateDocumentHeight,{callWithLast:!0}),this._resizeHandler(),this._viewport.addEventListener("resize",this._resizeHandler),new o.ResizerDetacherState(i).bridge()},e.prototype.free=function(){var e,t,i;this._resizeHandler&&(this._viewport.removeEventListener("resize",this._resizeHandler),this._resizeHandler=void 0),this._visibilityApi&&(this._visibilityApi.destroy(),this._visibilityApi=void 0),this._area&&(e=this._area,this._area=void 0,e.height.unsubscribe(this._updateDocumentHeight),e.alive.setValue(!1),(i=null===(t=e.container.value())||void 0===t?void 0:t.parentElement)&&(i.removeChild(t),i.removeChild(this._layoutSizeSensor)))},e.prototype._height=function(e){return"visual"===this._viewportType?this._layoutSizeSensor.clientHeight:e.container.value().clientHeight},e.prototype._width=function(e){return e.container.value().clientWidth},e.prototype._requestFullscreen=function(){this._fullscreenApi.enter()},e.prototype._exitFullscreen=function(){this._fullscreenApi.exit()},e.prototype._initFullscreen=function(){var e=this,t=this._window.document;this._fullscreenApi.isFullscreen.subscribe(function(i){var n;i?((n=e._exitFullscreenButton=t.createElement("div")).classList.add("tv-exit-fullscreen-button"),n.textContent=window.t("Exit Full Screen (ESC)"),n.addEventListener("click",function(t){
t.preventDefault(),e._exitFullscreen()}),t.body.appendChild(n),e._onExitFullscreenEsc=function(t){27===Object(l.hashFromEvent)(t)&&(t.preventDefault(),e._exitFullscreen())},t.addEventListener("keyup",e._onExitFullscreenEsc)):((n=e._exitFullscreenButton)&&(n.parentElement&&n.parentElement.removeChild(n),e._exitFullscreenButton=void 0),e._onExitFullscreenEsc&&(t.removeEventListener("keyup",e._onExitFullscreenEsc),e._onExitFullscreenEsc=void 0)),e._resizeHandler&&e._resizeHandler()})},e}()},ljE9:function(e,t,i){"use strict";function n(e,t){var i=o.get(e);return i instanceof Function?i(t):i&&i[t]}function r(e,t,i){var n,r;i instanceof Function?o.set(e,i):((r=void 0===(n=o.get(e))||n instanceof Function?{}:n)[t]=i,o.set(e,r))}i.r(t),i.d(t,"getTooltipData",function(){return n}),i.d(t,"setTooltipData",function(){return r});var o=new WeakMap},ljrM:function(e,t,i){"use strict";var n;i.r(t),i.d(t,"timeFrames",function(){return n}),i("YFKU"),n={"1d":{text:window.t("1D"),value:"1d",targetResolution:"1",description:window.t("%d day",{plural:"%d days",count:1}).replace("%d","1")},"5d":{text:window.t("5D"),value:"5d",targetResolution:"5",description:window.t("%d day",{plural:"%d days",count:5}).replace("%d","5")},"1m":{text:window.t("1M"),value:"1m",targetResolution:"30",description:window.t("%d month",{plural:"%d months",count:1}).replace("%d","1")},"3m":{text:window.t("3M"),value:"3m",targetResolution:"60",description:window.t("%d month",{plural:"%d months",count:3}).replace("%d","3")},"6m":{text:window.t("6M"),value:"6m",targetResolution:"120",description:window.t("%d month",{plural:"%d months",count:6}).replace("%d","6")},ytd:{text:window.t("YTD"),value:"ytd",targetResolution:"1D"},"12m":{text:window.t("1Y"),value:"12m",targetResolution:"1D",description:window.t("%d year",{plural:"%d years",count:1}).replace("%d","1")},"60m":{text:window.t("5Y"),value:"60m",targetResolution:"1W",description:window.t("%d year",{plural:"%d years",count:5}).replace("%d","5")},all:{text:window.t("All"),value:"all",targetResolution:"1M"}}},loH8:function(e,t,i){"use strict";function n(e,t,i,n){this._cache=e,this._cacheRect=t,this._targetRect=i,this._devicePixelRatio=n}var r=i("aO4+"),o=r.Point,s=r.box,a=i("f6yo").pointInBox,l=i("VdBB").HitTestResult;n.prototype.draw=function(e){e.save(),e.setTransform(1,0,0,1,0,0);var t=this._devicePixelRatio;e.drawImage(this._cache,this._cacheRect.left*t,this._cacheRect.top*t,this._cacheRect.width*t,this._cacheRect.height*t,this._targetRect.left*t,this._targetRect.top*t,this._targetRect.width*t,this._targetRect.height*t),e.restore()},n.prototype.hitTest=function(e){var t=new o(this._targetRect.left,this._targetRect.top),i=t.add(new o(this._targetRect.width,this._targetRect.height));return a(e,s(t,i))?new l(l.REGULAR):null},e.exports=n},lxNp:function(e,t,i){"use strict";function n(e){return new p(f,e)}function r(e){f.listen(e)}function o(e){f.unlisten(e)}var s,a,l,c,u,h,d,p,f,_;i.r(t),s=i("/3z9"),a=i("d700"),l=i("hY0g"),c=i.n(l),u=function(){function e(){var e=this;this._groups=[],this._pressedKeys=new c.a(0),
this._keyDownListener=function(t){var i,n,r;if(!t.defaultPrevented&&(i=Object(s.hashFromEvent)(t),e._pressedKeys.setValue(i),!Object(a.a)(i,t.target)))for(n=e._groups.length;n-- >0;)if(!(r=e._groups[n]).isDisabled()){if(r.handleHotkey(i,t))return;if(r.modal)return}},this._keyUpListener=function(t){var i=Object(s.hashFromEvent)(t);e._pressedKeys.setValue(i)},this._blurEvent=function(){e._pressedKeys.setValue(0)},this._mouseEvent=function(t){var i=Object(s.modifiersFromEvent)(t),n=255&e._pressedKeys.value();e._pressedKeys.setValue(i|n)}}return e.prototype.listen=function(e){e.addEventListener("keydown",this._keyDownListener),e.addEventListener("keyup",this._keyUpListener),e.addEventListener("blur",this._blurEvent),e.addEventListener("mousemove",this._mouseEvent)},e.prototype.unlisten=function(e){e.removeEventListener("keydown",this._keyDownListener),e.removeEventListener("keyup",this._keyUpListener),e.removeEventListener("blur",this._blurEvent),e.removeEventListener("mousemove",this._mouseEvent)},e.prototype.registerGroup=function(e){this._groups.push(e)},e.prototype.unregisterGroup=function(e){for(var t=this._groups.length;t--;)this._groups[t]===e&&this._groups.splice(t,1)},e.prototype.promoteGroup=function(e){var t,i=this._groups.length-1;for(t=this._groups.length;t--;){if(this._groups[t]===e)return void(t!==i&&(this._groups.splice(t,1),this._groups.splice(i,0,e)));this._groups[t].modal&&(i=t-1)}},e.prototype.pressedKeys=function(){return this._pressedKeys},e}(),h=i("PC8g"),d=function(){function e(e,t){this._group=e,this.hotkey=t.hotkey,this.handler=t.handler,this.desc=t.desc,this.element=t.element||null,t.isDisabled?"function"==typeof t.isDisabled?this.isDisabled=t.isDisabled:this.isDisabled=function(){return!0}:this.isDisabled=function(){return!1}}return e.prototype.destroy=function(){this._group&&(this._group.remove(this),this._group=null)},e}(),p=function(){function e(e,t){this._actions=[],this._manager=e,this.modal=!(!t||!t.modal),t&&(this.desc=t.desc),t&&t.isDisabled?"function"==typeof t.isDisabled?this.isDisabled=t.isDisabled:this.isDisabled=function(){return!0}:this.isDisabled=function(){return!1},this._manager.registerGroup(this)}return e.prototype.add=function(e){var t=new d(this,e);return this._actions.push(t),t},e.prototype.remove=function(e){for(var t=this._actions.length;t-- >0;)this._actions[t]===e&&this._actions.splice(t,1)},e.prototype.handleHotkey=function(e,t){var i,n;for(i=this._actions.length;i-- >0;)if((n=this._actions[i]).hotkey===e&&(!n.element||t.target&&n.element.contains(t.target))&&!n.isDisabled())return n.handler(t),t.preventDefault(),Object(h.trackEvent)("Keyboard Shortcuts",Object(s.humanReadableHash)(e)),!0;return!1},e.prototype.promote=function(){this._manager.promoteGroup(this)},e.prototype.destroy=function(){this._actions.length=0,this._manager.unregisterGroup(this)},e}(),i.d(t,"pressedKeys",function(){return _}),i.d(t,"createGroup",function(){return n}),i.d(t,"registerWindow",function(){return r}),i.d(t,"unregisterWindow",function(){return o}),i.d(t,"Modifiers",function(){
return s.Modifiers}),f=new u,_=f.pressedKeys(),r(window)},"m/cY":function(e,t,i){"use strict";function n(e){return new o.a(e)}var r,o;i.d(t,"a",function(){return n}),r=i("tc+8"),o=i.n(r)},m6s1:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u;i.r(t),n=i("mrSG"),r=i("P5fv"),i("YFKU"),o=i("bSeV"),s=i("gbZD"),a=i("9tJu"),l=i("brCa"),c=i("+h+m"),u=i("Cu4q"),$("body").on("click",".js-follow-user",function(e){var t=this,r=$(e.currentTarget),o=r.data("id"),h=r.is(".js-follow-user--followed")?"Unfollow":"Follow",d={authorId:o};window.runOrSignIn(function(){return Object(n.__awaiter)(t,void 0,void 0,function(){var e;return Object(n.__generator)(this,function(t){return r.is(".self")||(e=r.is(".js-follow-user--followed")?0:1,Object(c.protectedFetch)("/social/follow-the-user/",{follow:e,targetId:o},"follow").then(function(e){"max_followings_exceed"!==e.error_code?e.error?Object(l.showNoticeDialog)({content:e.error,title:e.errorTitle||$.t("Error")}):($(".js-follow-user-"+o).toggleClass("js-follow-user--followed").toggleClass("i-checked"),Object(s.trackActionFollow)("User",h,d)):Promise.all([i.e("vendors_embed"),i.e("dialogs-core"),i.e(0),i.e(1),i.e(3),i.e(5),i.e(7),i.e(8),i.e(6),i.e(160),i.e("create-dialog")]).then(function(e){var t=i("YDhE").createDialog,n={type:"modal",closeOnEsc:!1,closeOnOutsideClick:!1,closeButton:!1,width:546,contentWrapTemplate:'\n\t\t\t\t\t\t\t\t\t\t<div class="tv-dialog__section tv-dialog__section--no-border">\n\t\t\t\t\t\t\t\t\t\t\t<div class="tv-text"></div>\n\t\t\t\t\t\t\t\t\t\t</div>',content:'\n\t\t\t\t\t\t\t\t\t\t<div class="tv-dialog__header">\n\t\t\t\t\t\t\t\t\t\t\t<div class="tv-dialog__header-logo">'+u+'</div>\n\t\t\t\t\t\t\t\t\t\t\t<h2 class="tv-dialog__header-title">'+$.t("Unfollow some authors")+'</h2>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<p class="tv-text__font tv-text__font--size_semilarge">\n\t\t\t\t\t\t\t\t\t\t\t\t'+$.t("Sorry, follow limit reached and you cannot follow more authors without removing some first.")+"\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>",actions:[{name:"goToProfile",type:"primary",text:$.t("Go to Profile"),key:13},{addClass:"tv-button--no-padding i-float_left",name:"cancel",type:"link",text:$.t("No thanks"),method:"close"}]},r=t(n);r.on("action:goToProfile",function(e){window.location.replace(Object(a.getUserProfilePath)(window.user,{page:a.ProfilePages.FollowingPeople})),e.destroy()}),r.open()}.bind(null,i)).catch(void 0)}).catch(function(e){Object(l.showNoticeDialog)({content:e.message,title:$.t("Oops!")})})),[2]})})},{source:"Follow user",verifiedPhoneRequired:!0})})},mE5r:function(e,t,i){"use strict";function n(e){return e/11}var r,o,s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C;i.r(t),r=i("mrSG"),o=i("Eyy1"),s=i("ikwP"),a=i("i1o5"),l=i("aO4+"),c=i("XlJ7"),u=i("EsvI"),h=i("OsWk"),d=i("rL76"),p=i("zDbI"),f=parseInt(d.labelheight),_=parseInt(d.bottommargin),m=function(){function e(){this._wrapper=document.createElement("div"),this._element=document.createElement("div"),this._labelElement=document.createElement("div"),
this._gearElement=document.createElement("div"),this._currentScale=1,this._info=null,this._mode="auto",this._wrapper.appendChild(this._element),this._wrapper.classList.add(d.wrapper),this._element.classList.add(d.label),this._labelElement.className=d.symbol,this._element.appendChild(this._labelElement),this._gearElement.className=d.gear,this._gearElement.innerHTML=h,this._element.appendChild(this._gearElement)}return e.prototype.getElement=function(){return this._wrapper},e.prototype.setMode=function(e){this._mode!==e&&(this._mode=e)},e.prototype.align=function(e,t){var i=n(t);Math.abs(i-this._currentScale)>.1&&(this._currentScale=i,Math.abs(this._currentScale-1)>.1?this._element.style.transform="scale("+this._currentScale+")":(this._currentScale=1,this._element.style.transform=""))},e.prototype.drawLabelForScreenshot=function(e,t){var i,r,o;null!==this._info&&"gear"!==this._mode&&(i=Object(c.makeFont)(t.fontSize,p.CHART_FONT_FAMILY),e.fillStyle=u.themes[t.theme].getThemedColor("color-price-axis-label-back"),e.globalAlpha=.5,e.beginPath(),r=n(t.fontSize)*f/2,o=Object(l.point)(t.offset+t.width/2,t.height/2),e.arc(o.x,o.y,r,0,2*Math.PI,!0),e.fill(),e.globalAlpha=1,e.fillStyle=u.themes[t.theme].getThemedColor("color-price-axis-label-text"),e.textAlign="center",e.font=i,e.textBaseline="middle",e.fillText(this._info.label,o.x,o.y))},e.prototype.setAxisNameInfo=function(e){this._info=e,null!==e&&(this._labelElement.textContent=e.label)},e.height=function(e){return(f+_)*e},e}(),g=i("aIyQ"),y=i.n(g),v=i("S8xo"),b=i("5VQP"),S=i("ljE9"),w={enableTooltip:!0,showLabels:!0,enableMenu:!0,enableHighlight:!0},P=function(){function e(e,t,i,n,o){var a,l=this;this._invalidated=!0,this._size=new s.Size(0,0),this._offset=0,this._axisInfo=null,this._onLabelHovered=new y.a,this._highlighted=!1,this._labelMode="auto",this._fixedLabelMode=null,this._canvasConfiguredHandler=function(){return l.update()},this._isLeft="left"===e,this._rendererOptionsProvider=n.rendererOptionsProvider,this._sourcesTitlesProvider=n.sourcesTitlesProvider,this._contextMenuItemsProvider=n.contextMenuItemsProvider,this._backgroundBasedTheme=n.backgroundBasedTheme,this._getBackgroundColor=n.getBackgroundColor,this._properties=t,this._axisInfo=i,this._labelOptions=Object(r.__assign)(Object(r.__assign)({},w),o),this._properties.lineColor.subscribe(this,this._onPropertyChanged),this._cell=document.createElement("div"),this._cell.classList.add(d["price-axis-stub"]),this._labelOptions.enableTooltip&&this._cell.classList.add("apply-common-tooltip","common-tooltip-html"),this._cell.style.width="25px",this._cell.style.height="100%",this._cell.style.position="absolute",this._cell.style.left="0",this._cell.style.overflow="hidden",this._labelOptions.showLabels?(this._label=new m,this._label.setAxisNameInfo(this._axisInfo),this._cell.appendChild(this._label.getElement()),this._labelOptions.enableTooltip&&Object(S.setTooltipData)(this._cell,"text",function(e){return l._tooltipContent()})):this._label=null,this._mouseEventHandler=new v.MouseEventHandler(this._cell,this,{
treatHorzTouchDragAsPageScroll:!0,treatVertTouchDragAsPageScroll:!0}),this._canvasBinding=Object(s.createBoundCanvas)(this._cell,new s.Size(16,16)),this._canvasBinding.subscribeCanvasConfigured(this._canvasConfiguredHandler),(a=this._canvasBinding.canvas).style.position="absolute",a.style.left="0",a.style.top="0"}return e.prototype.destroy=function(){this._canvasBinding.unsubscribeCanvasConfigured(this._canvasConfiguredHandler),this._canvasBinding.destroy(),this._properties.lineColor.unsubscribe(this,this._onPropertyChanged),this._mouseEventHandler.destroy(),$(this._cell).remove()},e.prototype.mouseEnterEvent=function(e){null!==this._label&&"symbol"!==this._labelMode&&this._labelOptions.enableHighlight&&this._setHighlighted(!0)},e.prototype.mouseLeaveEvent=function(e){"symbol"!==this._labelMode&&this._setHighlighted(!1)},e.prototype.mouseClickEvent=function(e){var t=this;e.preventDefault(),null===this._fixedLabelMode&&"symbol"!==this._labelMode&&this._labelOptions.enableMenu&&this._labelOptions.showLabels?(this._fixedLabelMode=this._labelMode,this.setLabelMode("gear"),b.ContextMenuManager.createMenu(this._contextMenuItemsProvider(),{statName:"PriceScaleLabelContextMenu"},function(){t.setLabelMode(Object(o.ensureNotNull)(t._fixedLabelMode)),t._fixedLabelMode=null}).then(function(e){return e.show(function(e,i){var n=t._cell.getBoundingClientRect();return{clientX:t._isLeft?n.left:n.right-e,clientY:n.top-Math.min(i,n.top),overrideHeight:n.top<i?n.top:void 0}},t.getElement(),!0)})):b.ContextMenuManager.hideAll()},e.prototype.update=function(){this._invalidated=!0},e.prototype.getElement=function(){return this._cell},e.prototype.onLabelHovered=function(){return this._onLabelHovered},e.prototype.setSizeAndOffset=function(e,t){if(e.w<0||e.h<0)throw new Error("Try to set invalid size to PriceAxisStub "+JSON.stringify(e));this._size.equals(e)||(this._size=e,this._canvasBinding.resizeCanvas({width:e.w,height:e.h}),this._cell.style.width=e.w+"px",this._cell.style.minWidth=e.w+"px",this._cell.style.height=e.h+"px",this._invalidated=!0),this._offset!==t&&(this._offset=t,this._cell.style.left=t+"px")},e.prototype.paint=function(e){if((!(e<a.InvalidationLevel.Full)||this._invalidated)&&0!==this._size.w&&0!==this._size.h){this._invalidated=!1;var t=Object(s.getContext2D)(this._canvasBinding.canvas);this._drawBackground(t,this._canvasBinding.pixelRatio),this._drawBorder(t,this._canvasBinding.pixelRatio)}},e.prototype.hardResetCanvas=function(){Object(s.hardResizeCanvas)(this._canvasBinding,this._size)},e.prototype.getWidth=function(){return this._size.w},e.prototype.getImage=function(){var e=Object(s.createDisconnectedCanvas)(document,this._size),t=Object(s.getPrescaledContext2D)(e);return Object(s.clearRect)(t,0,0,this._size.w,this._size.h,this._getBackgroundColor()),t.drawImage(this._canvasBinding.canvas,0,0,this._size.w,this._size.h),null!==this._label&&this._label.drawLabelForScreenshot(t,{offset:0,width:this._size.w,height:this._size.h,fontSize:this._properties.fontSize.value(),theme:this._backgroundBasedTheme.value()}),e},
e.prototype.setLabelMode=function(e){e!==this._labelMode&&(this._labelMode=e,null!==this._label&&this._label.setMode(e),this._cell.classList.toggle(d["fixed-gear"],"gear"===e),this._cell.classList.toggle(d["fixed-symbol"],"symbol"===e),this._cell.classList.toggle("apply-common-tooltip","symbol"!==e&&this._labelOptions.enableTooltip),this._cell.classList.toggle("common-tooltip-html","symbol"!==e&&this._labelOptions.enableTooltip))},e.prototype._setHighlighted=function(e){this._labelOptions.enableHighlight&&(this._onLabelHovered.fire(e),this._highlighted!==e&&(this._highlighted=e,this._invalidated=!0))},e.prototype._onPropertyChanged=function(){this._invalidated=!0},e.prototype._drawBorder=function(e,t){var i,n,r,o=this._size.w;e.save(),e.fillStyle=this._properties.lineColor.value(),i=Math.max(1,Math.floor(this._rendererOptionsProvider.options().borderSize*t)),n=this._isLeft?Math.floor(o*t)-i:0,r=Math.ceil(this._size.h*t),e.fillRect(n,0,i,r+1),e.restore()},e.prototype._drawBackground=function(e,t){if(Object(s.clearRect)(e,0,0,Math.ceil(this._size.w*t)+1,Math.ceil(this._size.h*t)+1,this._getBackgroundColor()),this._highlighted){var i=u.themes[this._backgroundBasedTheme.value()].getThemedColor("color-price-axis-highlight");Object(s.fillRect)(e,0,0,Math.ceil(this._size.w*t)+1,Math.ceil(this._size.h*t)+1,i),e.globalAlpha=1}},e.prototype._tooltipContent=function(){return this._sourcesTitlesProvider().join("<br>")},e}(),T=i("Daqx"),i.d(t,"PriceAxisesContainer",function(){return C}),C=function(){function e(e,t,i,n,o){this._axises=[],this._stubs=[],this._size=new s.Size(0,0),this._onLabelHovered=new y.a,this._scalesProperties=e,this._priceAxisWidgetFactory=i,this._rendererOptionsProvider=n.rendererOptionsProvider,this._titlesProvider=n.titlesProvider,this._stubContextMenuProvider=n.stubContextMenuProvider,this._backgroundBasedTheme=n.backgroundBasedTheme,this._getBackgroundColor=n.getBackgroundColor,this._labelsOptions=Object(r.__assign)(Object(r.__assign)({},w),o),this._stubProperties={lineColor:this._scalesProperties.lineColor,fontSize:e.fontSize},this._side=t,this._cell=document.createElement("td"),this._cell.classList.add("chart-markup-table","price-axis-container"),this._cell.style.width="25px",this._cell.style.position="relative"}return e.prototype.destroy=function(){this.setScales([],0,0,0)},e.prototype.onLabelHovered=function(){return this._onLabelHovered},e.prototype.setScales=function(e,t,i,n){for(var r,s,a,l,c,u,h,d,p=this;e.length>this._axises.length&&this._axises.length<t;)r=Object(T.a)(this._side,this._axises.length),s=this._priceAxisWidgetFactory(this._side,this._rendererOptionsProvider,this._scalesProperties,r,this._backgroundBasedTheme),this._axises.push(s),this._cell.appendChild(s.getElement());for(;e.length<this._axises.length;)s=Object(o.ensureDefined)(this._axises.pop()),this._cell.removeChild(s.getElement()),s.destroy();for(a=0;a<this._axises.length;++a)this._axises[a].setPriceScale(e[a]);for(l=t-e.length,
c=Math.max(0,l);this._stubs.length>c;)(u=Object(o.ensureDefined)(this._stubs.pop())).onLabelHovered().unsubscribeAll(this),this._cell.removeChild(u.getElement()),u.destroy();for(h=function(){var e=d._labelsOptions.showLabels?Object(T.a)(d._side,d._stubs.length):null,t=d._stubs.length,i=new P(d._side,d._stubProperties,e,d._stubParams(t),d._labelsOptions);i.onLabelHovered().subscribe(d,function(t){p._labelsOptions.showLabels&&p._labelsOptions.enableHighlight&&p._onLabelHovered.fire(Object(o.ensureNotNull)(e),t)}),d._stubs.push(i),d._cell.appendChild(i.getElement())},d=this;this._stubs.length<l;)h();1===n?this._stubs.forEach(function(e,t){return e.setLabelMode("gear")}):this._stubs.forEach(function(e,t){return e.setLabelMode(t<i&&p._labelsOptions.enableMenu?"auto":"symbol")})},e.prototype.getElement=function(){return this._cell},e.prototype.optimalWidths=function(){return this._axises.map(function(e){return e.optimalWidth()})},e.prototype.setSizes=function(e,t){this._size=new s.Size(t.reduce(function(e,t){return e+t},0),e),this._cell.style.width=this._size.w+"px",this._cell.style.minWidth=this._size.w+"px",this._cell.style.height=this._size.h+"px",t.length!==this._axises.length+this._stubs.length&&Object(o.assert)(t.length===this._axises.length+this._stubs.length,"Widgets count should be the same as widths one");var i=0;this._forEachWidgetFromLeft(function(n,r){var o=t[r];n.setSizeAndOffset(new s.Size(o,e),i),i+=o})},e.prototype.update=function(){this._axises.forEach(function(e){return e.update()}),this._stubs.forEach(function(e){return e.update()})},e.prototype.paint=function(e){this._axises.forEach(function(t){return t.paint(e)}),this._stubs.forEach(function(t){return t.paint(e)})},e.prototype.hardResetCanvas=function(){this._axises.forEach(function(e){return e.hardResetCanvas()}),this._stubs.forEach(function(e){return e.hardResetCanvas()})},e.prototype.restoreDefaultCursor=function(){this._axises.forEach(function(e){return e.restoreDefaultCursor()})},e.prototype.getWidth=function(){return this._size.w},e.prototype.findAxisWidgetForScale=function(e){var t=this._axises.find(function(t){return t.priceScale()===e});return void 0===t?null:t},e.prototype.getScreenshotData=function(){return{content:this._getImage().toDataURL(),contentHeight:this._size.h,contentWidth:this._size.w}},e.prototype.getImage=function(){return this._getImage()},e.prototype.slotsCount=function(){return this._axises.length+this._stubs.length},e.prototype.highlightPriceAxisByLabel=function(e){this._axises.forEach(function(t){var i=t.axisInfo();t.setHighlighted(null!==i&&i.equals(e))})},e.prototype._stubParams=function(e){var t=this,i=function(){return t._titlesProvider(t._side,e)},n=function(){return t._stubContextMenuProvider(t._side,e)};return{rendererOptionsProvider:this._rendererOptionsProvider,backgroundBasedTheme:this._backgroundBasedTheme,sourcesTitlesProvider:i,contextMenuItemsProvider:n,getBackgroundColor:this._getBackgroundColor}},e.prototype._getImage=function(){
var e=this,t=Object(s.createDisconnectedCanvas)(document,this._size),i=Object(s.getPrescaledContext2D)(t),n=0;return this._forEachWidgetFromLeft(function(t,r){var o=t.getWidth();0!==o&&(i.drawImage(t.getImage(),n,0,o,e._size.h),n+=o)}),t},e.prototype._forEachWidgetFromLeft=function(e){var t,i=Object(r.__spreadArrays)(this._axises,this._stubs),n="left"===this._side,o=n?i.length-1:0,s=n?-1:i.length,a=n?-1:1;for(t=o;t!==s;t+=a)e(i[t],t,i)},e}()},"mKT+":function(e,t,i){"use strict";function n(e,t,n,r,o){return Promise.all([i.e("vendors_embed"),i.e(2),i.e(4),i.e(9),i.e(10),i.e(12),i.e(15),i.e(16),i.e(20),i.e(21),i.e(25),i.e(33),i.e(38),i.e(49),i.e(68),i.e(74),i.e(75),i.e(82),i.e(95),i.e(99),i.e(105),i.e(155),i.e(156),i.e(232),i.e(11),i.e(13),i.e(17),i.e(18),i.e(26),i.e(29),i.e(44),i.e(40),i.e(39),i.e(66),i.e(59),i.e(53),i.e(77),i.e(87),i.e(104),i.e(135),i.e(141),i.e("new-edit-object-dialog")]).then(i.bind(null,"Y5hB")).then(function(i){var n=i.EditObjectDialogRenderer,s=new n(e,t,r,o);return s.show(),s})}function r(e,t,r,a,we){var Te,Ce;return void 0===r&&(r={}),Te=a.activeChartWidget.value(),(Ce=h.enabled("test_force_old_properties_dialog"))&&(r.doNotCloseOnBgClick=!0),Ce||Object(l.isStudy)(e)&&function(e){return e.metaInfo().inputs.filter(c.a).some(function(e){return"bar_time"===e.type})}(e)||Object(Se.isLineTool)(e)&&!function(e){return[d.LineToolTrendLine,p.LineToolInfoLine,f.LineToolTrendAngle,_.LineToolHorzLine,m.LineToolHorzRay,g.LineToolVertLine,y.LineToolCrossLine,v.LineToolParallelChannel,b.LineToolDisjointChannel,S.LineToolFlatBottom,w.LineToolArrowMark,P.LineToolBalloon,T.LineToolCallout,C.LineToolNote,x.LineToolPriceLabel,I.LineToolText,E.LineToolArc,L.LineToolBezierCubic,A.LineToolBezierQuadro,O.LineToolBrush,M.LineToolEllipse,k.LineToolPolyline,D.LineToolRectangle,R.LineToolRotatedRectangle,V.LineToolTriangle,B.LineTool5PointsPattern,N.LineToolABCD,F.LineToolCircleLines,j.LineToolElliott,W.LineToolHeadAndShoulders,U.LineToolSineLine,H.LineToolThreeDrivers,z.LineToolTimeCycles,G.LineToolTrianglePattern,Y.LineToolIcon,q.LineToolBarsPattern,X.LineToolDateAndPriceRange,K.LineToolDateRange,Q.LineToolGhostFeed,Z.LineToolPrediction,J.LineToolPriceRange,$.LineToolProjection,ee.LineToolRiskRewardLong,ee.LineToolRiskRewardShort,te.LineToolGannSquare,ie.LineToolGannComplex,ne.LineToolGannFan,re.LineToolGannFixed,oe.LineToolFibChannel,se.LineToolFibCircles,ae.LineToolFibRetracement,le.LineToolFibSpeedResistanceArcs,ce.LineToolFibSpeedResistanceFan,ue.LineToolFibSpiral,he.LineToolFibTimeZone,de.LineToolFibWedge,pe.LineToolTrendBasedFibExtension,fe.LineToolTrendBasedFibTime,_e.LineToolPitchfork,me.LineToolPitchfan,ve.LineToolFlagMark,ye.a,ge.LineToolRegressionTrend].some(function(t){return t&&e instanceof t})}(e)?function(e,t,n,r){var a=Object(o.loadPropertyPages)(),l=function(o,s){Promise.all([i.e("vendors_embed"),i.e(15),i.e(36),i.e(47),i.e(64),i.e(71),i.e(92),i.e(119),i.e(278),i.e(26),i.e(29),i.e(34),i.e(57),i.e(56),i.e(59),i.e(108),i.e(158),i.e("editobjectdialog")]).then(function(s){a.then(function(){
var s=i("Kqsj").EditObjectDialog,a=new s(e,t,r);a.show(n),o(a)})}.bind(null,i)).catch(s)};return Object(s.retries)(function(e){return new Promise(l)},2)}(e,t,r,we):Object(Se.isStudyLineTool)(e)&&function(e){return[ye.a].some(function(t){return e instanceof t})}(e)?Te.propertiesDefinitionsForSource(e).then(function(i){return n(e,t,0,we,i)}):Object(l.isStudy)(e)&&function(e){return"Overlay"===e.metaInfo().shortId}(e)||e!==t.mainSeries()&&!Object(l.isStudy)(e)&&Object(Se.isLineTool)(e)?Te.propertiesDefinitionsForSource(e).then(function(n){var o=r.tabName,s=o&&Pe[o];return function(e){return Promise.all([i.e("vendors_embed"),i.e(2),i.e(4),i.e(9),i.e(10),i.e(12),i.e(15),i.e(16),i.e(20),i.e(21),i.e(25),i.e(33),i.e(38),i.e(49),i.e(74),i.e(75),i.e(82),i.e(99),i.e(105),i.e(156),i.e(293),i.e(11),i.e(13),i.e(17),i.e(18),i.e(26),i.e(29),i.e(44),i.e(40),i.e(39),i.e(66),i.e(59),i.e(53),i.e(77),i.e(87),i.e(104),i.e(141),i.e("source-properties-editor")]).then(i.bind(null,"CbZh")).then(function(t){var i=t.SourcePropertiesEditorRenderer,n=new i(e);return null!==be&&be.hide(),n.show(),be=n,n})}({propertyPages:n,model:t,source:e,activePageId:s})}):Object(l.isStudy)(e)&&!Object(l.isESDStudy)(e)?n(e,t,0,we):Te.generalPropertiesDefinitions().then(function(t){var n=r.tabName,o=Object(l.isESDStudy)(e)?"events":n&&Pe[n];return function(e){return Promise.all([i.e("vendors_embed"),i.e(2),i.e(4),i.e(9),i.e(10),i.e(12),i.e(16),i.e(20),i.e(21),i.e(25),i.e(33),i.e(38),i.e(49),i.e(75),i.e(82),i.e(105),i.e(178),i.e(247),i.e(11),i.e(17),i.e(18),i.e(44),i.e(40),i.e(53),i.e(77),i.e(104),i.e("general-chart-properties-dialog")]).then(i.bind(null,"PI1I")).then(function(t){var i=t.GeneralChartPropertiesDialogRenderer,n=new i(e);return null!==u&&u.hide(),n.show(),u=n,n})}({chartWidgetCollection:a,propertyPages:t,activePageId:o,model:Te.model()})})}var o,s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B,N,F,j,W,U,H,z,G,Y,q,X,K,Q,Z,J,$,ee,te,ie,ne,re,oe,se,ae,le,ce,ue,he,de,pe,fe,_e,me,ge,ye,ve,be,Se,we,Pe;i.r(t),o=i("hayr"),s=i("mpWx"),a=i("QloM"),l=i("3ClC"),c=i("W5mg"),u=null,h=i("Kxc7"),d=i("WPQD"),p=i("yi8X"),f=i("nW7S"),_=i("/DxK"),m=i("CJIV"),g=i("n40Z"),y=i("MA5A"),v=i("qcGP"),b=i("oIoN"),S=i("InMJ"),w=i("TohL"),P=i("me8f"),T=i("odCa"),C=i("gLxC"),x=i("zqZp"),I=i("V3Oj"),E=i("0Pxc"),L=i("N+BX"),A=i("Xyly"),O=i("+hLl"),M=i("V086"),k=i("hP9j"),D=i("7qI1"),R=i("Az04"),V=i("isVH"),B=i("NJRZ"),N=i("pKDv"),F=i("tG6Q"),j=i("xz+e"),W=i("aILO"),U=i("bv/X"),H=i("PYn8"),z=i("kIXa"),G=i("lNN+"),Y=i("icPo"),q=i("2bPF"),X=i("UCMi"),K=i("WkYF"),Q=i("XUCF"),Z=i("Wh6B"),J=i("RDDl"),$=i("68at"),ee=i("tDUI"),te=i("Z0Sh"),ie=i("nd9+"),ne=i("4u8j"),re=i("TBaH"),oe=i("xnA2"),se=i("4bfY"),ae=i("t2ex"),le=i("Yjuu"),ce=i("zZ5f"),ue=i("i80N"),he=i("FsE7"),de=i("9QkW"),pe=i("ZtA1"),fe=i("yUly"),_e=i("aDyP"),me=i("NhkU"),ge=i("gf4d"),ye=i("USzt"),ve=i("aIha"),be=null,Se=i("CW80"),i.d(t,"resolveAndShowEditObjectDialog",function(){return r}),(we={})[a.TabNames.style]="symbol",we[a.TabNames.legend]="legend",we[a.TabNames.scales]="scales",
we[a.TabNames.trading]="trading",we[a.TabNames.events]="events",we[a.TabNames.text]="text",Pe=we},mMWL:function(e,t,i){"use strict";function n(e){return"cursor"===e||"arrow"===e||"dot"===e}function r(e){return"measure"===e}function o(e){if((void 0===e&&(e=!1),!e&&T)&&T.childs().stayInDrawingMode.value())return;A.setValue(O.value())}function s(e){var t=!1;return function(i){t||(t=!0,e.fire(i),t=!1)}}function a(){he||(A.setValue(w.getValue("chart.cursorPreference","cursor")),A.subscribe(function(e){return n(e)&&O.setValue(e)},{callWithLast:!0}),O.subscribe(function(e){e&&w.setValue("chart.cursorPreference",e)}),T=new g.DefaultProperty("drawings"),C=Object(m.a)(),x=Object(m.a)(),I=Object(m.a)(),E=Object(m.a)(),C.setValue(!1),x.setValue(!1),I.setValue(!1),E.setValue(!1),A.subscribe(function(){Object(P.emit)("onSelectedLineToolChanged")}),he=!0,de.forEach(function(e){return e()}),de=[])}function l(e){he?e():de.push(e)}function c(){return Object(_.ensureNotNull)(T)}function u(){return Object(_.ensureNotNull)(C)}function h(){return Object(_.ensureNotNull)(x)}function d(){return Object(_.ensureNotNull)(I)}function p(){return c().childs().drawOnAllCharts}function f(){return Object(_.ensureNotNull)(E)}var _,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B,N,F,j,W,U,H,z,G,Y,q,X,K,Q,Z,J,$,ee,te,ie,ne,re,oe,se,ae,le,ce,ue,he,de;i.r(t),i.d(t,"toolIsCursor",function(){return n}),i.d(t,"toolIsMeasure",function(){return r}),i.d(t,"resetToCursor",function(){return o}),i.d(t,"lockTimeAxisTime",function(){return L}),i.d(t,"tool",function(){return A}),i.d(t,"cursorTool",function(){return O}),i.d(t,"isToolEditingNow",function(){return M}),i.d(t,"createdLineTool",function(){return k}),i.d(t,"continuedLineTool",function(){return D}),i.d(t,"cancelledLineTool",function(){return R}),i.d(t,"beenSetLineToolLastPoint",function(){return V}),i.d(t,"startedMovingLineTool",function(){return B}),i.d(t,"movedLineTool",function(){return N}),i.d(t,"finishedMovingLineTool",function(){return F}),i.d(t,"startedChangingLineTool",function(){return j}),i.d(t,"changedLineTool",function(){return W}),i.d(t,"finishedChangingLineTool",function(){return U}),i.d(t,"removedLineTool",function(){return H}),i.d(t,"finishedLineTool",function(){return z}),i.d(t,"changedLineStyle",function(){return G}),i.d(t,"copiedLineTool",function(){return Y}),i.d(t,"restoredLineTool",function(){return q}),i.d(t,"restoredLineToolState",function(){return X}),i.d(t,"createLineTool",function(){return K}),i.d(t,"continueLineTool",function(){return Q}),i.d(t,"cancelLineTool",function(){return Z}),i.d(t,"setLineToolLastPoint",function(){return J}),i.d(t,"startMovingLineTool",function(){return $}),i.d(t,"moveLineTool",function(){return ee}),i.d(t,"finishMovingLineTool",function(){return te}),i.d(t,"startChangingLineTool",function(){return ie}),i.d(t,"changeLineTool",function(){return ne}),i.d(t,"finishChangingLineTool",function(){return re}),i.d(t,"removeLineTool",function(){return oe}),i.d(t,"finishLineTool",function(){return se}),i.d(t,"changeLineStyle",function(){return ae}),
i.d(t,"copyLineTool",function(){return le}),i.d(t,"restoreLineTool",function(){return ce}),i.d(t,"restoreLineToolState",function(){return ue}),i.d(t,"init",function(){return a}),i.d(t,"runOnDrawingStateReady",function(){return l}),i.d(t,"properties",function(){return c}),i.d(t,"hideAllDrawings",function(){return u}),i.d(t,"lockDrawings",function(){return h}),i.d(t,"hideMarksOnBars",function(){return d}),i.d(t,"drawOnAllCharts",function(){return p}),i.d(t,"lockTimeAxis",function(){return f}),_=i("Eyy1"),m=i("m/cY"),g=i("Ocx9"),y=i("hY0g"),v=i.n(y),b=i("aIyQ"),S=i.n(b),w=i("Vdly"),P=i("FQhm"),T=null,C=null,x=null,I=null,E=null,L=new v.a,A=new v.a,O=new v.a,M=new v.a(!1),k=new S.a,D=new S.a,R=new S.a,V=new S.a,B=new S.a,N=new S.a,F=new S.a,j=new S.a,W=new S.a,U=new S.a,H=new S.a,z=new S.a,G=new S.a,Y=new S.a,q=new S.a,X=new S.a,K=s(k),Q=s(D),Z=s(R),J=s(V),$=s(B),ee=s(N),te=s(F),ie=s(j),ne=s(W),re=s(U),oe=s(H),se=s(z),ae=s(G),le=s(Y),ce=s(q),ue=s(X),he=!1,de=[]},mNEU:function(e,t,i){"use strict";e.exports=function(e,t,n,r,o,s,a,l,c){var u=i("dDSx").ChartUndoModel,h=new u(e,t,n,r,o,s,a,l,c);return h.model().fullUpdate(),h}},mPvX:function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"LineToolsGroupModel",function(){return s}),n=i("aIyQ"),r=i.n(n),o=i("UqOQ"),s=function(){function e(e){this._onChanged=new r.a,this._groups=[],this._groups=e||[]}return e.prototype.groups=function(){return this._groups.filter(function(e){return e.isActualSymbol()})},e.prototype.createGroup=function(e,t,i){var n,r=this;return t=t||this._generateNextName(),n=new o.a(e,t,i),this._groups.push(n),n.onChanged().subscribe(null,function(){return r._onChanged.fire()}),this._onChanged.fire(),n},e.prototype.addGroup=function(e){var t=this;this._groups.push(e),e.onChanged().subscribe(null,function(){return t._onChanged.fire()}),this._onChanged.fire()},e.prototype.removeGroup=function(e){var t=this._groups.findIndex(function(t){return t.id===e.id});this._groups.splice(t,1),this._onChanged.fire()},e.prototype.groupForId=function(e){return this._groups.find(function(t){return t.id===e})||null},e.prototype.groupForLineTool=function(e){return this._groups.find(function(t){return t.containsLineTool(e)})||null},e.prototype.removeLineTools=function(e){var t=this;this._groups.forEach(function(t){return t.excludeLineTools(e)}),this._groups.filter(function(e){return 0===e.lineTools().length}).forEach(function(e){return t.removeGroup(e)})},e.prototype.state=function(e){return{groups:(e?this._groups.filter(function(e){return e.isActualSymbol()}):this._groups).map(function(e){return e.state()})}},e.prototype.onChanged=function(){return this._onChanged},e.fromState=function(t,i){var n,r,s,a,l=[];for(n=0,r=i.groups;n<r.length;n++)s=r[n],null!==(a=o.a.fromState(t,s))&&l.push(a);return new e(l)},e.prototype._generateNextName=function(){var e,t,i,n=new Set(this.groups().map(function(e){return e.name()}));for(e=1;;e++)if(t="Group "+e,i="Group_"+e,!n.has(t)&&!n.has(i))return t},e}()},mYjs:function(e,t,i){"use strict";function n(e,t){
Promise.all([i.e("vendors_embed"),i.e(36),i.e(71),i.e(34),i.e(57),i.e("change-interval-dialog")]).then(i.t.bind(null,"MuC6",7)).then(function(i){new i.ChangeIntervalDialog(e).show(t)})}i.r(t),i.d(t,"showChangeIntervalDialog",function(){return n})},mZrn:function(e,t,i){"use strict";(function(e,t,n){function r(){var e,t,i=[/^\/chart\//,/^\/share-your-love\//];window.initData.lfs&&(e=document.getElementsByClassName("js-admin-warning")[0],document.body.removeChild(e)),t=!0,i.forEach(function(e){e.test(window.location.pathname)&&(t=!1)}),t&&window.location.reload(!0)}function o(e,t){window.TVDialogs&&window.TVDialogs.signModal&&window.TVDialogs.signModal.close(),user=$.extend(!0,{},e),TradingView.changeLoginState(!0),"function"==typeof t&&window.TVDialogs&&window.TVDialogs.signModal?window.TVDialogs.signModal.on("signinSuccess",function(){t()}):"function"==typeof t&&t()}function s(e){window.iframeAuthWidget&&user.is_first_login&&(window.iframeAuthWidget.preventClose=!0);var t=user.available_offers||{};$("html").toggleClass("is-authenticated",is_authenticated).toggleClass("is-not-authenticated",!is_authenticated).toggleClass("is-pro",is_authenticated&&user&&!!user.is_pro).toggleClass("is-not-pro",!(is_authenticated&&user&&user.is_pro)).toggleClass("is-trial",is_authenticated&&user&&!!user.is_trial).toggleClass("is-not-trial",!(is_authenticated&&user&&user.is_trial)).toggleClass("is-not-trial-available",void 0===t[c.trial]).toggleClass("is-trial-available",void 0!==t[c.trial]),window.TVSettings&&window.TVSettings.sync(user.settings),is_authenticated?($(".saved_charts_count").html(user.saved_charts),$(".treated_charts_count").html(user.treated_charts_count),$(".js-trial-days-left").html(user.trial_days_left_text||""),user.gsfn_fastpass_url&&((new Image).src=user.gsfn_fastpass_url),e&&!user.is_first_login||void 0===_||_.check(),user.is_first_login&&($(function(){i("xlKU").showSignModal({mode:"create-account",noCloseButton:!!user.social_registration,dontCloseOnEsc:!!user.social_registration,nameFields:!user.social_registration,noUsernameField:!user.social_registration,newUserHandler:user.social_registration}).then(function(e){e.on("afterClose",function(){null!==TVLocalStorage.getItem("_referralProgramId")&&p().then(function(e){e.open()})}),window.iframeAuthWidget&&(window.iframeAuthWidget.preventClose=!1,e.on("destroy",function(){window.iframeAuthWidget.postClose()}))}),user.social_registration?(i.e(248).then(function(e){i("BUSo")("Social")}.bind(null,i)).catch(i.oe),delete user.social_registration):a.emit("loginStateChange",JSON.stringify({is_authenticated:is_authenticated,user:user}))}),l("Conversion","First login"),user.prort_trial_started&&(h(),delete user.prort_trial_started),delete user.is_first_login),TradingView.setTrialAvailiable(void 0!==user.available_offers[c.trial])):(Object.keys(t).forEach(function(e){t[e].available_for_anons||delete t[e]}),user={username:"Guest",following:"0",followers:"0",ignore_list:{},available_offers:t},$(".user-info-username").html(user.username),
TVLocalStorage.removeItem("trial_availiable"))}var a,l,c,u,h,d,p,f,_,m,g;i("P5fv"),a=i("FBuY").TVXWindowEvents,l=i("PC8g").trackEvent,c={},c=i("eI3D").OFFERS,u=i("+h5a").EvercookieChecker,i("m6s1"),h=i("V9Ec").trialMessageSuccessDialog,d=i("dm8g").syncUserData,p=i("G2cu").createReferralWelcome,i("PFI7"),i("ZUZx"),$(document).ajaxSend(function(e,t,i){i.crossDomain&&!i.forceLanguageHeader||(window.locale?t.setRequestHeader("X-Language",window.locale):console.warn("window.locale is not defined"))}),(f=window.loginStateChange?window.loginStateChange:window.loginStateChange=new e).subscribe(null,s),a.on("loginStateChange",function(e){var t=JSON.parse(e);window.user=t.user,window.is_authenticated=!!t.is_authenticated,f.fire()}),a.on("signOut",function(){r()}),m="user-obj-changed",g={},window.crossTabSyncUserAttr=function(e){var t={};e instanceof Array?e.forEach(function(e){t[e]=window.user[e]}):t[e]=window.user[e],a.emit(m,JSON.stringify(t))},window.onChangeUserAttrInAnotherTab=function(t){var i=new e;return g[t]||(g[t]=[]),g[t].push(i),i},a.on(m,function(e){var t,i;for(t in e=JSON.parse(e))if(window.user[t]=e[t],g[t])for(i=0;i<g[t].length;i++)g[t][i].fire(e[t])}),TradingView.changeLoginState=function(e){window.is_authenticated=!!e,a.emit("loginStateChange",JSON.stringify({is_authenticated:is_authenticated,user:user})),f.fire()},window.loginUser=o,window.addEventListener("storage",function(e){"login_user"===e.key&&null!==e.newValue&&o(JSON.parse(e.newValue))}),TradingView.signOut=function(){var e=t.clone(window.user);$.ajax({type:"POST",url:"/accounts/logout/",dataType:"html"}).done(function(){TradingView.changeLoginState(!1),a.emit("signOut"),r()}).fail(function(){window.user=e,TradingView.changeLoginState(!0)})},_=new u,window.loginRequiredDelegate=new e,window.runOrSignIn=function(e,t){var r,o;t||(t={}),!0===t.verifiedPhoneRequired&&(r=i("Z9Tc").whenVerified,o=e,e=function(){r({showDialog:!0,source:t.source,doNotCheckSuspicious:t.doNotCheckSuspicious,doNotCheckSocialActivity:t.doNotCheckSocialActivity,customPhoneCheck:t.customPhoneCheck,doNotShowConfirmation:t.doNotShowConfirmation}).done(o)}),is_authenticated||n.enabled("charting_library_base")?e():i("xlKU").showSignModal({source:t.source,sourceMeta:t.sourceMeta,feature:t.feature,mode:t.mode,signinSuccess:e}),d("signin")},window.onLoginStateChange=s,TradingView.isPro=function(){return is_authenticated&&user.is_pro},TradingView.setTrialAvailiable=function(e){TVLocalStorage.setItem("trial_availiable",e?1:0)},$.fn.reverse=[].reverse,$(window).load(function(){window.loaded=!0}),TradingView.notificationsChanged=new e}).call(this,i("aIyQ"),i("F/us"),i("Kxc7"))},me8f:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolBalloon";var o=t||n.createProperties();r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("Hyqq").BalloonPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}
var r=i("Ss5c").LineDataSource,o=i("tc+8"),s=i("Ocx9").DefaultProperty,a=i("hayr").propertyPages,l=window.t("Balloon");inherit(n,r),n.prototype.pointsCount=function(){return 1},n.prototype.translatedType=function(){return l},n.prototype.name=function(){return"Balloon"},n.prototype.getStylesPropertyPage=function(){return a.LineToolBalloonStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("RhWr").BalloonDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.prototype.template=function(){var e=r.prototype.template.call(this);return e.text=this.properties().childs().text.value(),e},n.prototype._applyTemplateImpl=function(e){r.prototype._applyTemplateImpl.call(this,e),this.properties().childs().text.setValue(e.text)},n.createProperties=function(e){var t=new s("linetoolballoon",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e),e.hasChild("text")||e.addChild("text",new o(window.t("Comment"))),e.addExclusion("text")},t.LineToolBalloon=n},mkn5:function(e,t,i){"use strict";(function(t,n){function r(e,i,n){u.call(this,e,i,n),this.setCursorForTool(),this._mouseEventHandler=new U(this._topCanvasBinding.canvas,this,{treatVertTouchDragAsPageScroll:!this._options.handleScroll.vertTouchDrag,treatHorzTouchDragAsPageScroll:!this._options.handleScroll.horzTouchDrag}),this.actions=[],this.readonlyActions=[],this._onKeyUpListener=this._onKeyUpListener.bind(this),$(window).on("keyup.panewidget",this._onKeyUpListener),this._overlays={},this._contextMenuX=0,this._contextMenuY=0,this._lockDrawingsProperty=R.lockDrawings(),this._prevHoveredHittest=null,this._startChangeLineToolParams=null,this._chart.withModel(this,function(){var e=this._chartUndoModel();e.onSimpleZoomIn().subscribe(this,this._updateCrosshairOnZoom),e.onSimpleZoomOut().subscribe(this,this._updateCrosshairOnZoom)}),this._highlightedPriceAxis=new t(null),this._highlightedPriceAxis.subscribe(function(e){this._highlightPriceAxisByLabel(e)}.bind(this)),this._prevPinchScale=0,this._firstZoomPoint=null,this._isDestroyed=!1}var o,s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B,N,F,j,W,U,H,z,G,Y,q,X,K;i("AE9l"),i("YFKU"),o=i("aO4+"),s=o.Point,a=i("GVHu").Study,l=i("UCjq"),c=l.customizationSelectionEnabled,u=l.PaneWidgetBase,h=i("1IXQ").PriceAxisWidget,d=i("1IXQ").scaleRatioForContextMenuTransformer(7),p=i("Ss5c").LineDataSource,f=i("OH2X").LineToolBrush,_=i("CW80"),m=_.isLineToolName,g=i("PC8g").trackEvent,y=i("QloM").TabNames,v=i("YmeR").ActionBinder,b=i("Eyy1").ensureNotNull,S=i("KnF9").EnvironmentState,w=i("HZKX"),P=w.createActionAddAlert,T=w.createActionTrade,C=w.createMTPredictorActions,x=i("1gmO").AlertLabel,I=i("JUY+").getPriceAlertsDispatcher,E=i("7ktv").PriceDataSource,L=i("fgLi").DataSource,A=i("7KDR"),O=A.Action,M=A.Separator,k=i("/3z9"),D=i("5VQP").ContextMenuManager,R=i("mMWL"),V=i("VdBB").HitTestResult,B=i("i1o5").InvalidateMask,N=i("i1o5").InvalidationLevel,F=i("FQhm"),
j=i("ikwP"),W=j.clearRect,U=i("S8xo").MouseEventHandler,H=i("GVQo"),z=i("glKZ"),G=i("//lt").PaneCursorType,Y=i("vTIA").CustomSourceLayer,q=i("Fixu").trackDrawingCreated,X=i("qFKp").CheckMobile.any(),K=["LineToolOrder","LineToolPosition","AlertLabel"],inherit(r,u),r.prototype.destroy=function(){for(var e in u.prototype.destroy.call(this),$(window).off("keyup.panewidget",this._onKeyUpListener),this._prevHoveredHittest=null,this._mouseEventHandler.destroy(),this._rowElement.parentElement.removeChild(this._rowElement),this)delete this[e];this._isDestroyed=!0},r.prototype._highlightPriceAxisByLabel=function(e){this._lhsPriceAxisesContainer.highlightPriceAxisByLabel(e),this._rhsPriceAxisesContainer.highlightPriceAxisByLabel(e)},r.prototype.cancelZoom=function(){this._chartModel().crossHairSource().clearSelection(),this._firstZoomPoint=null,this._preventCrossHairMove()&&this._clearCursorPosition()},r.prototype._onKeyUpListener=function(e){27===e.keyCode&&(this._chartUndoModel().lineBeingCreated()&&this._chartUndoModel().cancelCreatingLine(),null!==this._firstZoomPoint&&this.cancelZoom(),this._chartModel().crossHairSource().clearMeasure(),this.setCursorForTool())},r.prototype.chart=function(){return this._chart},r.prototype.stretchFactor=function(){return this._state?this._state._stretchFactor:0},r.prototype.setStretchFactor=function(e){this.hasState()&&(this._state._stretchFactor=e)},r.prototype.mouseEnterEvent=function(e){var t,i;this.hasState()&&("function"==typeof this.onMouseEnter&&this.onMouseEnter(this),t=e.localX,i=e.localY,TradingView.supportTouch()||this._setCursorPosition(t,i,new S(e)))},r.prototype._crossHairShouldBeVisible=function(){var e=this._chartModel().crossHairSource();return m(R.tool.value())||e.startMeasurePoint()&&!e.endMeasurePoint()||null!==this._firstZoomPoint||null!==this._chartModel().lineBeingEdited()||null!==this._chartModel().lineBeingCreated()},r.prototype._preventCrossHairMove=function(){return!!X&&(null===this._chart.trackingModePaneWidget()&&(!!this._contextMenuOpenedOnLastMouseDown||!this._crossHairShouldBeVisible()&&null===this._startTrackPoint))},r.prototype._trackingModeShouldBeActive=function(){return!(!X||this._contextMenuOpenedOnLastMouseDown||this._crossHairShouldBeVisible())&&this._longTap},r.prototype._setCursorPosition=function(e,t,i){this._chartUndoModel().setAndSaveCurrentPosition(this._correctXCoord(e),this._correctYCoord(t),this._state,i)},r.prototype._setCursorPositionOnExternalPane=function(e,t,i,n){t=this._externalPaneXCoord(e,t),i=this._externalPaneYCoord(e,i),this._chart.paneByState(e)._setCursorPosition(t,i,n)},r.prototype._preventScroll=function(){return X&&this._longTap||this._contextMenuOpenedOnLastMouseDown||m(R.tool.value())||this._chartUndoModel().lineBeingCreated()||null!==this._startTrackPoint},r.prototype.hideInplaceEditor=function(){return!!this._inplaceEditor&&(this._inplaceEditor.remove(),this._inplaceEditor=void 0,!0)},r.prototype._processMouseMoveWhileZoom=function(e,t){this._preventCrossHairMove()||this._setCursorPosition(e.localX,e.localY,t)},
r.prototype._finishZoom=function(e){var t=this.state(),i=t.defaultPriceScale(),n=t.mainDataSource().firstValue(),r=i.coordinateToPrice(e.localY,n),o=this._chartUndoModel(),s=Math.round(o.timeScale().coordinateToIndex(e.localX));s!==this._firstZoomPoint.index&&o.zoomToViewport(this._firstZoomPoint.index,s,this._firstZoomPoint.price,r,t),this._chartModel().crossHairSource().clearSelection(),this._firstZoomPoint=null,R.resetToCursor(),this._preventCrossHairMove()&&this._clearCursorPosition()},r.prototype.checkMovepoint=function(e){return e===V.MOVEPOINT||e===V.MOVEPOINT_BACKGROUND&&TradingView.isMobile.any()},r.prototype._handleSelectionMouseDownAndGetJustDeselectedSource=function(e,t){var i,n=this._chartUndoModel(),r=null;return e&&!e.isCustom&&c(e.source)&&(i=e.hittest&&e.hittest.result()>V.MOVEPOINT_BACKGROUND,TradingView.isMobile.any()&&e.hittest&&e.hittest.result()===V.MOVEPOINT_BACKGROUND&&(i=!0),this._preventSourceChange&&(i=!1),n.selectionMacro(function(n){i?(t.control()||n.selection().isSelected(e.source)||n.clearSelection(),t.control()&&n.selection().isSelected(e.source)?(r=e.source,n.removeSourceFromSelection(e.source)):e.source instanceof L&&n.addSourceToSelection(e.source,e.hittest&&e.hittest.data()),n.selection().sources().length>1&&g("GUI","Multiselect","Click Select")):t.control()||n.clearSelection()})),r},r.prototype._tryStartChangingLineTool=function(e,t,i,n){var r,o,s;return null===this._startTrackPoint&&(!this._preventSourceChange&&t.hittest&&t.source instanceof L&&t.hittest.result()===V.CHANGEPOINT?(r=this._chartUndoModel(),o=this._state.mainDataSource().firstValue(),s=t.source.priceScale().coordinateToPrice(e.localY,o),r.selectionMacro(function(e){e.clearSelection(),e.addSourceToSelection(t.source)}),s=r.model().magnet().align(s,n,this._state),this._startChangeLineToolParams={source:t.source,startPoint:{index:n,price:s},screenPoint:{x:e.localX,y:e.localY},data:t.hittest.data().pointIndex,envState:i},!0):(this._startChangeLineToolParams=null,!1))},r.prototype._tryHandleEraserMouseDown=function(e,t){var i,n,r;return!(!e.source||"eraser"!==R.tool.value()||(r=e.source,r&&r.customization&&r.customization.disableErasing)||(i=this._chartUndoModel(),!(e.source instanceof p||e.source instanceof a)))&&(n=e.hittest.eraseMarker(),t.control()&&void 0!==n&&e.source.processErase?e.source.processErase(i,n):i.removeSource(e.source),!0)},r.prototype._tryStartCloning=function(e,t,i,n){if(i.control()){var r=this._chartUndoModel().selection().sources().filter(function(e){return e.cloneable()});if(n&&n.cloneable()&&r.push(n),r.length>0)return this._clonningAtMoveLineTools=r,this._startCloningPoint=new s(e.localX,e.localY),!0}return!1},r.prototype.mouseDownEvent=function(e){var t,i,r,o,a,l,c,u,h,d,f,_,g,y,v;if(this._longTap=!1,this._contextMenuOpenedOnLastMouseDown=!1,this._exitTrackingModeOnNextTry=null!==this._startTrackPoint,this.hasState()&&(this._terminateActiveAnimations(),null!==(t=this._chart.trackingModePaneWidget())&&t!==this&&(i=this._chartModel().crossHairSource().currentPoint(),
this._chart.exitTrackingMode(),this.startTrackingMode(new s(e.localX,e.localY),new s(i.x,e.localY),new S(e))),document.activeElement!==document.body&&document.activeElement!==document.documentElement?document.activeElement&&document.activeElement.blur?document.activeElement.blur():document.body.focus():document.getSelection?document.getSelection().removeAllRanges():document.selection&&document.selection.clear(),F.emit("mouse_down",{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY}),this._updateCommonTooltip(null),r=this._chartUndoModel(),o=new S(e),r.mainSeries().clearGotoDateResult(),this.hideInplaceEditor(),!((a=this._state.defaultPriceScale()).isEmpty()||r.timeScale().isEmpty()||(l=r.crossHairSource(),TradingView.supportTouch()&&"LineToolBrush"!==R.tool.value()||(null!==(u=null!==(c=r.lineBeingCreated())?r.paneForSource(c):null)&&u!==this._state?this._setCursorPositionOnExternalPane(u,e.localX,e.localY,o):this._setCursorPosition(e.localX,e.localY,o)),h=this._state.mainDataSource().firstValue(),d=a.coordinateToPrice(e.localY,h),f=this._chartModel().timeScale().coordinateToIndex(e.localX),l.startMeasurePoint()&&l.endMeasurePoint()&&l.clearMeasure(),o.shift()&&R.toolIsCursor(R.tool.value())&&r.selection().isEmpty()&&R.tool.setValue("measure"),this._tryStartMeasure(e,l,o,d,f)||this._tryFinishMeasure(e,l)||this._tryFinishZoom(e)||this._tryStartZoom(e,d,f,o)))))if(null!==this._startTrackPoint&&(this._initCrossHairPosition=l.currentPoint(),this._startTrackPoint=new s(e.localX,e.localY)),_=this._dataSourceAtPoint(e.localX,e.localY),TradingView.supportTouch()&&(this._preventSourceChange=null===_.source||!r.selection().isSelected(_.source)),this._isSelectBarModeEnabled()||this._isScrolling||!m(R.tool.value())&&!r.lineBeingCreated()){if(_.hittest&&_.hittest.result()===V.CUSTOM&&(g=_.hittest.data().mouseDownHandler)&&g(e),!this._chart.readOnly()){if(_&&_.hittest&&_.hittest.result()===V.CUSTOM_MOVE&&(g=_.hittest.data().pressedMouseMoveHandler))return void(_.isCustom?g(e):r.startCustomMoving(_.source,new s(e.localX,e.localY),g));if(y=this._handleSelectionMouseDownAndGetJustDeselectedSource(_,o),this._tryHandleEraserMouseDown(_,o))return;if(v=_.source&&TradingView.isInherited(_.source.constructor,p)&&_.source.isLocked(),!(this._lockDrawingsProperty.value()||v)&&_&&!_.isCustom){if(_.source&&_.source.userEditEnabled&&!_.source.userEditEnabled())return;if(this._tryStartChangingLineTool(e,_,o,f))return;if(_.hittest&&this.checkMovepoint(_.hittest.result())){if(this._tryStartCloning(e,_,o,y))return;if(this._tryStartMovingLineTool(e,_,o,f))return}}if(_.source&&_.source instanceof E&&_.source.isDraggable())return void(this._chart.draggingSource=_.source)}_.hittest&&_.hittest.result()===V.REGULAR||(this._processing=!0)}else(!n.enabled("charting_library_base")||f>=0)&&(o.shift()||r.selectionMacro(function(e){e.clearSelection()}),this._mouseDownEventForLineTool(e,o,f,d))},r.prototype.drawRightThere=function(e){var t,i,n;m(e)&&(i=(t=this._chartUndoModel()).crossHairSource(),
n=t.model().magnet().align(i.price,i.index,this._state),t.createLineTool(this.state(),{index:i.index,price:n},e))},r.prototype._mouseDownEventForLineTool=function(e,t,i,n){var r,o,a,l,c,u,h,d,p,_,g,y,v,b;if(this.hasState()){if(r=this._chartUndoModel(),o=!1,a=null,l=e.localX,c=e.localY,u=r.model().crossHairSource(),h=R.tool.value(),R.hideAllDrawings().setValue(!1),R.lockDrawings().setValue(!1),TradingView.supportTouch()&&m(h)&&"LineToolBrush"!==h&&!r.lineBeingCreated()&&(this._startTouchPoint=new s(l,c),this._initCrossHairPosition=u.currentPoint()),!r.lineBeingCreated()||r.lineBeingCreated()instanceof f)TradingView.supportTouch()&&"LineToolBrush"!==h||(b={index:i,price:r.model().magnet().align(n,i,this._state)},a=r.createLineTool(this._state,b,h),r.lineBeingCreated()||(o=!0));else if(d=r.lineBeingCreated().ownerSource().firstValue(),TradingView.supportTouch()){if(!this._startTouchPoint)return this._startTouchPoint=new s(l,c),_=(p=r.lineBeingCreated().points())[p.length-1],g=r.timeScale().indexToCoordinate(_.index),n=_.price,y=r.lineBeingCreated().priceScale().priceToCoordinate(n,d),void(this._lastDrawingPoint=new s(g,y))}else a=r.lineBeingCreated(),(v=r.paneForSource(a))!==this._state?(l=this._externalPaneXCoord(v,e.localX),c=this._externalPaneYCoord(v,e.localY),n=a.priceScale().coordinateToPrice(c,d),i=Math.round(r.timeScale().coordinateToIndex(l)),o=r.coninueCreatingLine({index:i,price:n},t)):(n=r.model().magnet().align(n,i,this._state),o=r.coninueCreatingLine({index:i,price:n},t));a&&r.selectionMacro(function(e){e.addSourceToSelection(a)}),o&&(this._finishTool(a),e.preventDefault())}},r.prototype._equalsCursorCache=function(e,t){return R.toolIsCursor(e.tool)?e.tool===t.tool&&e.theme===t.theme&&e.crosshair===t.crosshair:e.tool===t.tool&&e.theme===t.theme},r.prototype._setCursorClassName=function(e){var t="";e&&(t="pane--cursor-"+e),this._currentCursorClassName!==t&&(this._currentCursorClassName&&this._paneCell.classList.remove(this._currentCursorClassName),t&&this._paneCell.classList.add(t),this._currentCursorClassName=t,this._paneCell.style.cursor)},r.prototype.setCursorForTool=function(e,t,i){var n,r=R.tool.value();if(t&&t.control()&&e)this._setCursorClassName("pointer");else if(void 0===i){if(R.toolIsCursor(r)){if(this._chart.draggingSource||this._isScrolling||this._chartUndoModel()&&this._chartUndoModel().sourcesBeingMoved().length)return void this._setCursorClassName("grabbing");if(e&&this._options.sourceSelectionEnabled)return void this._setCursorClassName("pointer")}"eraser"!==r?"zoom"!==r?"dot"!==(n=R.cursorTool.value())?"arrow"!==n?this._setCursorClassName(""):this._setCursorClassName("default"):this._setCursorClassName("dot"):this._setCursorClassName("zoom-in"):this._setCursorClassName("eraser")}else switch(i){case G.VerticalResize:this._setCursorClassName("ns-resize");break;case G.HorizontalResize:this._setCursorClassName("ew-resize");break;case G.Default:this._setCursorClassName("default");break;case G.Pointer:this._setCursorClassName("pointer")}},r.prototype.setDragToAnotherPaneCursor=function(){
this._setCursorClassName("grabbing")},r.prototype._updateCommonTooltip=function(e){var t,i,n,r=this._lastCommonTooltipData,o=null;if(e&&e.hittest&&(t=e.hittest.data())&&(o=t.tooltip||null),null!=r||null!=o)return null==o||""===o.text?(this._lastCommonTooltipData=null,void z.hide()):void(r&&o.text===r.text&&o.rect.x===r.rect.x&&o.rect.y===r.rect.y&&o.rect.w===r.rect.w&&o.rect.h===r.rect.h||(this._lastCommonTooltipData=o,i=TradingView.clone(o),n=this._paneCell.getBoundingClientRect(),i.rect.x+=n.left,i.rect.y+=n.top,z.show(i)))},r.prototype._processMouseMoveForCustomHandler=function(e,t){var i,n,r,o=e.hittest&&e.hittest.result()===V.CUSTOM;!o||null!==this._prevHoveredHittest&&this._prevHoveredHittest.renderer===e.renderer||((i=e.hittest.data().mouseEnterHandler)&&i(t),this._prevHoveredHittest=e),o&&(n=e.hittest.data().mouseMoveHandler)&&n(t),null!==this._prevHoveredHittest&&this._prevHoveredHittest.renderer!==e.renderer&&((r=this._prevHoveredHittest.hittest.data().mouseLeaveHandler)&&r(t),this._prevHoveredHittest=null)},r.prototype.mouseMoveEvent=function(e){var t,i,n,r,o,s,a,l,u,h,d,p;if(this.hasState()&&(t=this._dataSourceAtPoint(e.localX,e.localY),this._processMouseMoveForCustomHandler(t,e),i=this._chartUndoModel()))if(n=e.localX,r=e.localY,o=new S(e),null===this._firstZoomPoint){if(s=!1,!(this._chart.readOnly()||this._editDialog&&this._editDialog.isVisible())&&(a=R.tool.value(),l=null,this._processing||!R.toolIsCursor(a)&&"eraser"!==a&&!o.control()&&i.lineBeingCreated()||(s=!!(u=t&&t.source)&&-1!==K.indexOf(u.toolname),t.hittest&&t.hittest.result()>V.MOVEPOINT_BACKGROUND?(l=t.source,t.source&&c(t.source)&&("eraser"!==a||t.source.constructor!==TradingView.Series)?i.setHoveredSource(t.source,t.hittest.data()):i.setHoveredSource(null)):i.setHoveredSource(null)),this._options.sourceSelectionEnabled&&(this._isSelectBarModeEnabled()?this._setCursorClassName("pointer"):(h=t.hittest&&t.hittest.data()&&t.hittest.data().cursorType,this.setCursorForTool(l,o,null===h?void 0:h))),this._updateCommonTooltip(t),null!==t&&null!==t.hittest&&t.hittest.result()===V.CUSTOM_MOVE))switch(h=(t.hittest.data()||{}).cursorType){case G.VerticalResize:this._setCursorClassName("ns-resize")}this._preventCrossHairMove()&&this._clearCursorPosition(),i.crossHairSource().setLinesShouldBeHidden(s),this._chart.readOnly()&&this._options.sourceSelectionEnabled&&(null!==t.source&&c(t.source)?i.setHoveredSource(t.source,t.hittest.data()):i.setHoveredSource(null,null)),i.lineBeingCreated()&&(d=i.lineBeingCreated(),(p=i.paneForSource(d))!==this._state)?this._setCursorPositionOnExternalPane(p,n,r,o):(a=R.tool.value(),TradingView.supportTouch()||this._setCursorPosition(n,r,o))}else this._processMouseMoveWhileZoom(e,o)},r.prototype._startChangeOrMoveLineToolIfNeeded=function(){var e;null!==this._startChangeLineToolParams&&(e=this._startChangeLineToolParams,this._chartUndoModel().startChangingLinetool(e.source,e.startPoint,e.data,e.envState)),null!==this._startMoveLineToolParams&&(e=this._startMoveLineToolParams,
this._chartUndoModel().startMovingSources(e.source,e.startPoint,e.data,e.envState)),this._startMoveLineToolParams=null,this._startChangeLineToolParams=null},r.prototype.pressedMouseMoveEvent=function(e){var t,i,r,o,a,l,c,u,h,d,p,_,g,y,v,b,w,P,T,C,x,I,E,L,A,O,M,k,D,V,B,N,F,j;if(this.hasState()&&!this._pinching){if(this._startChangeOrMoveLineToolIfNeeded(),this._touchMove=!0,this._preventSourceChange=!1,t=new S(e),r=(i=this._chartUndoModel()).crossHairSource(),o=e.localX,a=e.localY,null!==this._firstZoomPoint)return this._processMouseMoveWhileZoom(e),void(this._firstZoomPoint.draggingMode=!0);if(!TradingView.supportTouch()&&"touchmove"!==e.type||!r.startMeasurePoint()){if(l=R.tool.value(),TradingView.supportTouch()&&this._startTouchPoint&&m(l)&&"LineToolBrush"!==l&&!i.lineBeingCreated()&&!this._isSelectBarModeEnabled())return this._chart.justActivated()&&(this._initCrossHairPosition=r.currentPoint()),c=this._initCrossHairPosition,u=new s(o,a).subtract(this._startTouchPoint),h=c.add(u),void this._setCursorPosition(h.x,h.y,t);if(!TradingView.supportTouch()||!i.lineBeingCreated()||i.lineBeingCreated()instanceof f){if(null!==this._startTrackPoint?(this._exitTrackingModeOnNextTry=!1,c=this._initCrossHairPosition,u=new s(o,a).subtract(this._startTrackPoint),h=c.add(u),this._setCursorPosition(h.x,h.y,t)):this._preventCrossHairMove()||this._setCursorPosition(o,a,t),b=R.tool.value(),w=this._isSelectBarModeEnabled(),!m(b)||"LineToolBrush"===l||w||t.control()){if("LineToolBrush"===b&&!w){if((P=this._state.defaultPriceScale()).isEmpty())return;if(!(T=i.lineBeingCreated()))return;return C=new s(e.localX,e.localY),x=T.ownerSource().firstValue(),C.price=P.coordinateToPrice(e.localY,x),C.index=Math.round(i.timeScale().coordinateToIndex(e.localX)),void((!n.enabled("charting_library_base")||C.index>=0)&&i.coninueCreatingLine(C))}if(this._chart.draggingSource&&(I=e.target,(E=this._chart.paneByCanvas(I))&&(E!==this?E.setDragToAnotherPaneCursor():E.setCursorForTool()),(L=this._chart.timeAxisByCanvas(I))&&L.setCursor("grabbing")),!i.timeScale().isEmpty()&&((A=this._options.handleScroll).pressedMouseMove&&"touch"!==e.type||(A.horzTouchDrag||A.vertTouchDrag)&&"mouse"!==e.type))if(i.customMoveBeingProcessed())i.processCustomMove(new s(o,a));else{if(i.lineBeingEdited())return O=Math.round(i.timeScale().coordinateToIndex(o)),(!n.enabled("charting_library_base")||O>=0)&&i.changeLinePoint({x:o,y:a},t),void this.setCursorForTool();if(M=this,i.sourcesBeingMoved().length)i.sourcesBeingMoved().forEach(function(r){var l,c,u,h,d,p,f=r.priceScale();f.isEmpty()||(l=(r.ownerSource()||M._state.mainDataSource()).firstValue(),c=i.timeScale().coordinateToIndex(e.localX),u=f.coordinateToPrice(e.localY,l),M.setCursorForTool(),n.enabled("charting_library_base")&&i.sourcesBeingMoved().some(function(e){return!e.onlyYMoving()})&&0!==(h=r.points()).length&&h.reduce(function(e,t){return t.index<e.index?t:e}).index-((r.startMovingPoint()||r.currentMovingPoint()).index-c)<0||(d=new s(o,a),p={index:c,price:u},i.moveSources({screen:d,logical:p},t)))});else{
if(t.control()&&this._clonningAtMoveLineTools)return k=new s(e.localX,e.localY),void(this._startCloningPoint.subtract(k).length()>8&&(D=this._clonningAtMoveLineTools,V=this.cloneLineTools(D,!0),B=V.map(function(e){return i.model().dataSourceForId(e)}),i.selectionMacro(function(e){e.clearSelection(),B.forEach(function(t){e.addSourceToSelection(t)})}),N=new s(e.localX,e.localY),P=B[0].priceScale(),x=this._state.mainDataSource().firstValue(),F={index:i.timeScale().coordinateToIndex(e.localX),price:P.coordinateToPrice(e.localY,x)},i.startMovingSources(B,{logical:F,screen:N},t),this._clonningAtMoveLineTools=null,this._startCloningPoint=null));j=R.toolIsMeasure(b)||r.startMeasurePoint()&&r.endMeasurePoint(),this._chart.readOnly()||!t.control()||m(b)||j?(this._processScroll(e),this._preventScroll()&&!this._preventCrossHairMove()&&null===this._startTrackPoint&&this._setCursorPosition(e.localX,e.localY,new S(e))):this._isSelecting||(r.startSelection(this._state),this._isSelecting=!0)}}}}else if(this._startTouchPoint){if(d=i.lineBeingCreated(),(p=i.paneForSource(d))!==this._state)return void this._setCursorPositionOnExternalPane(p,e.localX,e.localY,t);_=e.localX-this._startTouchPoint.x,g=e.localY-this._startTouchPoint.y,y=this._lastDrawingPoint.x+_,v=this._lastDrawingPoint.y+g,this._setCursorPosition(y,v,t)}}else this._setCursorPosition(o,a,t)}},r.prototype._processMouseUpForCustomHandler=function(e){var t,i=this._dataSourceAtPoint(e.localX,e.localY);i.hittest&&i.hittest.result()===V.CUSTOM&&(t=i.hittest.data().mouseUpHandler)&&t(e)},r.prototype.mouseUpEvent=function(e){var t,i,n,r,o,s,a,l,c,u,h,d,p,_,y,v,b,w,P,T,C,x,I,E,A,O,M,k,D,N;if(this.hasState()){if(t=null!==this._startTrackPoint,i=this._wasPinched,this._wasPinched=!1,this._longTap=!1,this._startMoveLineToolParams=null,this._startChangeLineToolParams=null,this._processMouseUpForCustomHandler(e),this._clonningAtMoveLineTools=null,n=this,delete this._isSelecting,(o=(r=this._chartUndoModel()).model().crossHairSource()).selection()&&null===this._firstZoomPoint&&(s=this._state.lineToolsForArea(o.selection()),r.selectionMacro(function(e){s.forEach(function(t){e.addSourceToSelection(t)})}),o.clearSelection(),g("GUI","Multiselect","Area Select")),F.emit("mouse_up",{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY}),a=this._touchMove,delete this._touchMove,l=new S(e),c=R.tool.value(),TradingView.supportTouch()&&!a&&"LineToolBrush"!==c&&m(c)&&!r.lineBeingCreated()){if(this._chart.justActivated())return;return o.pane!==this._state?void this._setCursorPosition(e.localX,e.localY,l):(u=o.currentPoint(),h=this._state.defaultPriceScale(),d=this._state.mainDataSource().firstValue(),p=h.coordinateToPrice(u.y,d),y={index:_=Math.round(r.timeScale().coordinateToIndex(u.x)),price:p},v=r.createLineTool(this._state,y,c),r.selectionMacro(function(e){e.addSourceToSelection(v)}),r.lineBeingCreated()||(this._finishTool(v),e.preventDefault()),void delete this._startTouchPoint)}
if(r.lineBeingCreated()&&!(r.lineBeingCreated()instanceof f)&&this._startTouchPoint)return b=!1,delete this._startTouchPoint,a||(p=(w=(v=r.lineBeingCreated()).points()[v.points().length-1]).price,b=r.coninueCreatingLine({index:w.index,price:p},new S(e)),delete this._lastDrawingPoint),void(b&&(this._finishTool(v),e.preventDefault()));if(null!==this._firstZoomPoint&&this._firstZoomPoint.draggingMode)this._finishZoom(e);else if(!TradingView.supportTouch()&&"touchend"!==e.type||!this._tryFinishMeasure(e,o)){if(this._processing=!1,r.customMoveBeingProcessed()&&r.endCustomMoving(),r.lineBeingEdited())return r.endChangingLinetool(),void(this._preventCrossHairMove()&&this._clearCursorPosition());if("LineToolBrush"===c&&!this._isSelectBarModeEnabled()){if(null!==(P=r.lineBeingCreated())&&q(P),r.finishLineTool(),(h=this._state.defaultPriceScale()).isEmpty())return;if(!P)return;return d=P.ownerSource().firstValue(),p=h.coordinateToPrice(e.localY,d),_=Math.round(r.timeScale().coordinateToIndex(e.localX)),void r.coninueCreatingLine({index:_,price:p})}if(r.sourcesBeingMoved().length)return r.endMovingSource(),r.sourcesBeingMoved().forEach(function(e){n.setCursorForTool(e)}),void r.invalidate(B.cursor());if(this._chart.readOnly()||(T=this._dataSourceAtPoint(e.localX,e.localY),C=e.localX>=0&&e.localX<this._size.w,T&&T.source===o||!C||(x=r.timeScale().coordinateToIndex(e.localX),r.model().onSyncScrollNeeded(x))),I=this._isScrolling,E=this._endScroll(e),this._chart.draggingSource)for(A=e.target,(O=this._chart.paneByCanvas(A))&&O!==this&&(E&&r.undoHistory().undo(),r.mergeToPane(this._chart.draggingSource,O._state)),this._chart.timeAxisByCanvas(A)&&(E&&r.undoHistory().undo(),r.unmergeToNewBottomPane(this._chart.draggingSource)),this._chart.draggingSource=null,(M=this._chart.getTimeScale())&&M.restoreDefaultCursor(),T=this._dataSourceAtPoint(e.localX,e.localY),k=this._chart.paneWidgets(),D=0;D<k.length;D++)(N=k[D])===this&&T?N.setCursorForTool(T.source):N.setCursorForTool(),N._lhsPriceAxisesContainer.restoreDefaultCursor(),N._rhsPriceAxisesContainer.restoreDefaultCursor();t||l.control()||I||i||(T=this._dataSourceAtPoint(e.localX,e.localY)).source&&T.source instanceof L&&(T.hittest&&T.hittest.result()>V.MOVEPOINT_BACKGROUND||TradingView.isMobile.any())&&r.selectionMacro(function(e){e.clearSelection(),e.addSourceToSelection(T.source)}),delete this._touchMove}}},r.prototype.mouseLeaveEvent=function(e){var t,i;this.hasState()&&(t=this._chartUndoModel())&&(TradingView.isMobile.any()||this._clearCursorPosition(),t.setHoveredSource(null),null!==this._prevHoveredHittest&&((i=this._prevHoveredHittest.hittest.data().mouseLeaveHandler)&&i(e),this._prevHoveredHittest=null),this._updateCommonTooltip(null),"function"==typeof this.onMouseLeave&&this.onMouseLeave(this))},r.prototype.showEditDialogForSource=function(e){if(this._options.propertyPagesEnabled&&(!e.userEditEnabled||e.userEditEnabled()))if(e===this._chartUndoModel().mainSeries())this._chart.showGeneralChartProperties(y.style);else{var t=this
;this._chart.showChartPropertiesForSource(e).then(function(e){t._editDialog=e})}},r.prototype.processDoubleClickOnSource=function(e){e instanceof x?I().then(function(t){t.openEditDialog(e.alert(),{actionSource:"alert_label_double_click"})}):this.showEditDialogForSource(e)},r.prototype.mouseDoubleClickEvent=function(e){var t,i,n;this.hasState()&&((i=(t=!this._chart.readOnly()&&!m(R.tool.value())&&this._dataSourceAtPoint(e.localX,e.localY))&&t.hittest&&t.source)&&t.hittest.result()<=V.MOVEPOINT_BACKGROUND&&!TradingView.isMobile.any()&&(i=null),i&&!c(i)&&(i=null),t.isCustom?t.hittest.result()===V.CUSTOM&&void 0!==(n=t.hittest.data().mouseDoubleClickHandler)&&n(e):i?this.processDoubleClickOnSource(i):this._chart.readOnly()||m(R.tool.value())||this._chartUndoModel().lineBeingCreated()||!this._chartUndoModel().selection().isEmpty()||this._chart.toggleMaximizePane(this))},r.prototype.longTapEvent=function(e){this._longTap=!0,null===this._startTrackPoint&&this._trackingModeShouldBeActive()&&this.startTrackingMode(new s(e.localX,e.localY),new s(e.localX,e.localY),new S(e))},r.prototype.startTrackingMode=function(e,t,i){this._startChangeLineToolParams=null,this._startMoveLineToolParams=null,this._chartUndoModel().selectionMacro(function(e){e.clearSelection()}),this._startTrackPoint=e,this._exitTrackingModeOnNextTry=!1,this._setCursorPosition(t.x,t.y,i),this._initCrossHairPosition=this._chartModel().crossHairSource().currentPoint()},r.prototype.contextMenuEvent=function(e){var t,i,n,r,o,s,a,l=this._chartUndoModel();if(!l.crossHairSource().startMeasurePoint()||X){if(!this._pinching&&(null===this._firstZoomPoint||X||this.cancelZoom(),!this.hideInplaceEditor())){if(!R.toolIsCursor(R.tool.value())&&!this._isSelectBarModeEnabled()){if(TradingView.isMobile.any())return;return R.resetToCursor(!0),this.setCursorForTool(),void(l.lineBeingCreated()&&l.cancelCreatingLine())}if(this._options.contextMenuEnabled){if(t=this._dataSourceAtPoint(e.localX,e.localY),i=t?t.source:null,null!==this._startTrackPoint){if(this._preventSourceChange)return;this._clearCursorPosition()}this._contextMenuOpenedOnLastMouseDown=!0,this._contextMenuX=e.localX,this._contextMenuY=e.localY,n=t&&t.hittest?t.hittest.result():0,r=n>=V.REGULAR||n>=V.MOVEPOINT_BACKGROUND&&TradingView.isMobile.any(),t.isCustom?r&&t.hittest.result()===V.CUSTOM&&void 0!==(o=t.hittest.data().contextMenuHandler)&&o(e):(this._chart.updateActions(),s=!1,a=this,l.selectionMacro(function(t){null!==i&&r?(!t.selection().isSelected(i)&&i instanceof L&&(t.clearSelection(),t.addSourceToSelection(i)),s=i.hasContextMenu()):(a._options.contextMenu.general&&a._contextMenu(e).then(function(t){t.show(e)}),t.clearSelection())}),s&&(c(i)?a.showContextMenuForSelection(e):a.showContextMenuForSources([i],e)),this.paint())}}}else l.crossHairSource().clearMeasure()},r.prototype._contextMenu=function(e){function t(e){return e instanceof M}var i,n,r=this,o=this._initActions(e),s=r._customActions();for(o=o.filter(function(e){return null!==e}),s.remove.forEach(function(e){
for(var t=0;t<o.length;t++)if(o[t]instanceof O&&o[t].getLabel()===e){o.splice(t,1);break}}),n=(i=s.top.concat(o).concat(s.bottom)).length-1;n>0;n--)t(i[n])&&t(i[n-1])&&i.splice(n,1);return i.length&&t(i[0])&&i.splice(0,1),i.length&&t(i[i.length-1])&&i.splice(i.length-1,1),D.createMenu(i,{statName:"ChartContextMenu"})},r.prototype.createRemoveMenu=function(){var e=this._chart.actions();return new O({label:window.t("Remove"),statName:"Remove",subItems:[e.paneRemoveAllStudies,e.paneRemoveAllDrawingTools,e.paneRemoveAllStudiesDrawingTools]})},r.prototype._initActions=function(e){var t,i,r,o,s=this,a=this._chart.actions(),l=[];return n.enabled("datasource_copypaste")&&(i=(((t=H.get())||{}).sources||[]).filter(function(e){return"study"===e.type||"drawing"===e.type}),t&&i.length&&(r=new O({label:window.t("Paste %s").replace("%s",window.t(t.title||t.type)),shortcutHint:k.humanReadableHash(k.Modifiers.Mod+86),statName:"Paste",onExecute:function(){s._chart.onAppClipboardPaste(s.state())}}),l.push(r))),l.length&&l.push(new M),l.push(a.chartReset),l.push(new M),n.enabled("alerts")&&(l.length&&l.push(new M),b(this._state).mainDataSource().hasStateForAlert()&&null!==(o=P(this._chart,{e:e,pane:this._state}))&&l.push(o)),this._options.contextMenu.mainSeriesTrade&&this.containsMainSeries()&&l.push(T(this._chart,this._state,e)),l[l.length-1]instanceof M||l.push(new M),window.widgetbar&&(!window.widgetbar._customization||window.widgetbar._customization.watchlist)&&a.addToWatchlist&&l.push(a.addToWatchlist),n.enabled("text_notes")&&l.push(a.addToTextNotes),l[l.length-1]instanceof M||l.push(new M),a.moveChartAction&&!a.moveChartAction.isDisabled()&&l.push(a.moveChartAction,new M),l.push(this._createLockTimeAxisAction(e)),l.push(new M),l.push(a.paneObjectTree),n.enabled("charting_library_base")||l.push(a.applyColorTheme),l[l.length-1]instanceof M||l.push(new M),l.push(a.paneRemoveAllDrawingTools),l.push(a.paneRemoveAllStudies),l.push(new M),pro.hasPackage("mtp-mtpredictor")&&this.state().containsMainSeries()&&l.push(C(this._chart,this._state,this._contextMenuX,this._contextMenuY),new M),n.enabled("show_chart_property_page")&&l.push(a.chartProperties),l[l.length-1]instanceof M&&l.pop(),l},r.prototype._customActions=function(){var e,t,i,r={top:[],bottom:[],remove:[]},o=this._chartUndoModel(),s=o.timeScale(),a=this._state&&this._state.defaultPriceScale();return n.enabled("custom_items_in_context_menu")?(e=s.isEmpty()?void 0:s.indexToUserTime(s.coordinateToIndex(this._contextMenuX)),a&&!a.isEmpty()&&(i=this._state.mainDataSource().firstValue(),t=a.coordinateToPrice(this._contextMenuY,i)),F.emit("onContextMenu",{unixtime:e?e/1e3:void 0,price:t,callback:function(e){[].concat(e).forEach(function(e){var t;e.text&&(e.text.length>1&&"-"===e.text[0]?r.remove.push(e.text.slice(1)):(t="-"===e.text?new M:new O({label:e.text,onExecute:e.click}),e.position&&"top"===e.position?r.top.push(t):r.bottom.push(t)))})}}),r):r},r.prototype._timeAxisMenu=function(){if(this._chartUndoModel().timeScale().isEmpty())return null;var e=this._chart.getTimeScale()
;return new O({label:window.t("Time Scale"),subItems:e.getContextMenuActions(),statName:"TimeScale"})},r.prototype.toggleLockTimeAxis=function(e,t){var i,n,r;"boolean"!=typeof t&&(t=!R.lockTimeAxis().value()),t&&(n=(i=this._chartUndoModel().timeScale()).coordinateToIndex(e),r=i.points().roughTime(n),R.lockTimeAxisTime.setValue(r)),R.lockTimeAxis().setValue(t)},r.prototype._createLockTimeAxisAction=function(e){var t=R.lockTimeAxis().value();return new O({label:window.t("Lock Vertical Line On Time Axis"),statName:"ToggleLockCursorInTime",checkable:!0,checked:t,onExecute:this.toggleLockTimeAxis.bind(this,e.localX,!t)})},r.prototype._createHVLineAction=function(e,t){var i=this;return new O({label:"vertical"===(t="vertical"===t?"vertical":"horizontal")?window.t("Create Vertical Line"):window.t("Create Horizontal Line"),statName:"vertical"===t?"CreateVerticalLine":"CreateHorizontalLine",onExecute:function(){var n=b(i._state),r=n.mainDataSource().firstValue(),o=i._chartUndoModel().timeScale().coordinateToIndex(e.localX),s=n.defaultPriceScale().coordinateToPrice(e.localY,r),a=i._chartUndoModel().createLineTool(n,{index:o,price:s},"vertical"===t?"LineToolVertLine":"LineToolHorzLine");i._finishTool(a)}})},r.prototype.cloneLineTools=function(e,t){return this._chartUndoModel().cloneLineTools(e,t)},r.prototype.setPriceAxisSizes=function(e,t,i){this._priceAxisesContainer(e).setSizes(t,i)},r.prototype.update=function(){this._lhsPriceAxisesContainer.update(),this._rhsPriceAxisesContainer.update(),null!==this._legendWidget&&this._legendWidget.update(),this.updateControls()},r.prototype.updateControls=function(){null!==this._paneControls&&this._paneControls.update()},r.prototype.drawBackground=function(e,t,i){W(e,0,0,Math.ceil(i.pixelRatio*this._size.w)+1,Math.ceil(i.pixelRatio*this._size.h)+1,t)},r.prototype.drawGrid=function(e,t){var i,n,r=b(this._state),o=this._chartUndoModel().gridSource(),s=o.paneViews(r),a=r.height(),l=r.width();for(i=0;i<s.length;i++)e.save(),(n=s[i].renderer(a,l))&&n.draw(e,t),e.restore()},r.prototype.drawWatermark=function(e,t){var i,n,r,o,s,a,l=this._chartUndoModel().watermarkSource();if(null!==l&&(i=this.state()).containsMainSeries())for(n=l.paneViews(),r=i.height(),o=i.width(),s=0;s<n.length;s++)e.save(),(a=n[s].renderer(r,o))&&a.draw(e,t),e.restore()},r.prototype.drawCrossHair=function(e,t){var i,n,r,o,s,a,l=this._chartUndoModel().crossHairSource();if(!l.linesShouldBeHidden()&&(!l.visible&&R.lockTimeAxis().value()&&(l.setLockedPosition(b(this._state)),l.updateAllViews()),i=this.state(),n=l.paneViews(i)))for(r=i.height(),o=i.width(),s=0;s<n.length;s++)(a=n[s].renderer(r,o))&&(e.save(),a.draw(e,t),e.restore())},r.prototype._drawSource=function(e,t,i){var n,r,o,s,a,l=e.paneViews();if(l)for(r=(n=this.state()).height(),o=n.width(),s=0;s<l.length;s++)(a=l[s].renderer(r,o))&&(t.save(),a.draw(t,i),t.restore())},r.prototype._drawSourceStrategyOrders=function(e,t,i){var n,r,o,s,a=e._strategyOrdersPaneView;a&&(r=(n=this.state()).height(),o=n.width(),(s=a.renderer(r,o))&&(t.save(),s.draw(t,i),t.restore()))},
r.prototype._drawSourceBackground=function(e,t,i){var n,r,o,s,a,l=e.paneViews();if(l)for(r=(n=this.state()).height(),o=n.width(),s=0;s<l.length;s++)(a=l[s].renderer(r,o))&&a.drawBackground&&(t.save(),a.drawBackground(t,i),t.restore())},r.prototype.drawActiveLineTool=function(e,t){var i=this,n=this._chartUndoModel();[n.lineBeingCreated(),n.lineBeingEdited()].concat(n.sourcesBeingMoved()).filter(function(e){return!!e}).forEach(function(r){n.paneForSource(r)===b(i._state)&&i._drawSource(r,e,t)})},r.prototype.disableDrawOnTop=function(e){return e&&e._metaInfo&&"Volume@tv-basicstudies"===e._metaInfo.id},r.prototype.drawSources=function(e,t){var i,n,r,o,s,a,l,c=this.state(),u=c.orderedSources(),h=c.model(),d=this,p=this._chartUndoModel(),f=p.selection().sources().filter(function(e){return!d.disableDrawOnTop(e)}),_=p.hoveredSource(),m=h.crossHairSource(),g=[p.lineBeingCreated(),p.lineBeingEdited()].concat(p.sourcesBeingMoved());for(this.disableDrawOnTop(_)&&(_=void 0),n=(i=p.model().panes()).length-1;n>=0;n--)i[n].createDrawingsCaches();for(r=this._state.customSources(Y.Foreground),o=this._state.customSources(Y.Background),n=0;n<o.length;++n)this._drawCustomSourceBackground(o[n],e,t);for(n=0;n<u.length;n++)this._drawSourceBackground(u[n],e,t);for(n=0;n<r.length;++n)this._drawCustomSourceBackground(r[n],e,t);for(n=0;n<o.length;++n)this._drawCustomSource(o[n],e,t);for(n=0;n<u.length;n++)(s=u[n])===m||f.includes(s)||s===_||g.includes(s)||this._drawSource(s,e,t);for(n=0;n<r.length;++n)(s=r[n])!==_&&this._drawCustomSource(s,e,t);for((a=f.filter(function(e){return!g.includes(e)&&u.includes(e)})).forEach(function(i){d._drawSource(i,e,t)}),_&&(a.includes(_)||-1!==g.indexOf(_)||-1===u.indexOf(_)?-1!==r.indexOf(_)&&this._drawCustomSource(_,e,t):this._drawSource(_,e,t)),(l=p.activeStrategySource().value())&&this.containsMainSeries()&&this._drawSourceStrategyOrders(l,e,t),n=i.length-1;n>=0;n--)i[n].clearDrawingCaches()},r.prototype._drawCustomSource=function(e,t,i){var n,r,o=this.state(),s=o.height(),a=o.width(),l=e.paneViews(o);for(n=0;n<l.length;++n)null!==(r=l[n].renderer(s,a))&&(t.save(),r.draw(t,i),t.restore())},r.prototype._drawCustomSourceBackground=function(e,t,i){var n,r,o=this.state(),s=o.height(),a=o.width(),l=e.paneViews(o);for(n=0;n<l.length;++n)null!==(r=l[n].renderer(s,a))&&void 0!==r.drawBackground&&(t.save(),r.drawBackground(t,i),t.restore())},r.prototype.recalculatePriceScale=function(){var e,t,i,n=this.state();for(n.leftPriceScales().forEach(function(e){n.recalculatePriceScale(e)}),n.rightPriceScales().forEach(function(e){n.recalculatePriceScale(e)}),e=n.dataSources(),t=0;t<e.length;++t)i=e[t],n.isOverlay(i)&&(i instanceof p||n.recalculatePriceScale(i.priceScale()),i.updateAllViews())},r.prototype.containsMainSeries=function(){return!!this.hasState()&&this.state().containsMainSeries()},r.prototype.drawBarsMarks=function(e,t,i){var n,r;this.containsMainSeries()&&!i&&(n=this._chartUndoModel().barsMarksSources(),r=this,n.forEach(function(i){r._drawSource(i,e,t)}))},r.prototype.paint=function(e,t){var i,n,r
;e&&this._chartUndoModel()&&this.hasState()&&(e>N.Cursor&&this._state&&this.recalculatePriceScale(),this._lhsPriceAxisesContainer.paint(e),this._rhsPriceAxisesContainer.paint(e),e!==N.Cursor&&((i=this._canvasBinding.canvas.getContext("2d")).setTransform(1,0,0,1,0,0),n={pixelRatio:this._canvasBinding.pixelRatio},this.drawBackground(i,this.backgroundColor(),n),this._state&&(this.drawGrid(i,n),this.drawWatermark(i,n),this.drawSources(i,n),this.drawBarsMarks(i,n,t))),this._state&&((r=this._topCanvasBinding.canvas.getContext("2d")).setTransform(1,0,0,1,0,0),n={pixelRatio:this._topCanvasBinding.pixelRatio},r.clearRect(0,0,Math.ceil(this._size.w*n.pixelRatio),Math.ceil(this._size.h*n.pixelRatio)),this.drawCrossHair(r,n),this.drawActiveLineTool(r,n)))},r.prototype._priceAxisesContainer=function(e){return h.isLeft(e)?this._lhsPriceAxisesContainer:this._rhsPriceAxisesContainer},r.prototype.createActionLockScale=function(e){var t,i;return e instanceof TradingView.Series?(t=d(e.priceScale(),this._chartUndoModel().model().mainSeriesScaleRatio()),(i=new O({checkable:e.priceScale().isLockScale(),label:window.t("Lock Scale")+" "+t,statName:"LockScale"}))._binding=new v(i,e.priceScale().properties().lockScale,this._chartUndoModel(),"Lock Scale",function(){var t={lockScale:this.value()};this._undoModel.setPriceScaleMode(t,e.priceScale(),this._undoText)}),i):null},r.prototype._updateCrosshairOnZoom=function(){if(R.lockTimeAxis().value()){var e=this._chartUndoModel().crossHairSource();e.setPosition(e.index,e.price,this.state())}},r.prototype.leftPriceAxisesContainer=function(){return this._lhsPriceAxisesContainer},r.prototype.rightPriceAxisesContainer=function(){return this._rhsPriceAxisesContainer},r.prototype._tryStartMeasure=function(e,t,i,n,r){return!(!R.toolIsMeasure(R.tool.value())||t.startMeasurePoint())&&(this._preventCrossHairMove()||this._setCursorPosition(e.localX,e.localY,i),n=this._chartModel().magnet().align(n,r,this._state),t.startMeasuring({price:n,index:r},this._state),!0)},r.prototype._tryFinishMeasure=function(e,t){var i,n;return!(!t.startMeasurePoint()||t.endMeasurePoint())&&(i=t.price,n=t.index,i=this._chartModel().magnet().align(i,n,this._state),t.finishMeasure({price:i,index:n}),R.resetToCursor(),this._preventCrossHairMove()&&this._clearCursorPosition(),!0)},r.prototype._tryFinishZoom=function(e){return null!==this._firstZoomPoint&&(this._finishZoom(e),!0)},r.prototype._tryStartZoom=function(e,t,i,n){var r,o,s=this._chart.model().model().zoomEnabled();return!("zoom"!==R.tool.value()||!s)&&(o=(r=this._chartUndoModel()).timeScale().indexToCoordinate(i)-.5*r.timeScale().barSpacing(),this._firstZoomPoint={price:t,index:i,x:o,y:e.localY},this._preventCrossHairMove()||this._setCursorPosition(e.localX,e.localY,n),this._chartModel().crossHairSource().startSelection(this._state),!0)},r.prototype.highlightedPriceAxis=function(){return this._highlightedPriceAxis},e.exports.PaneWidget=r}).call(this,i("hY0g"),i("Kxc7"))},mpWx:function(e,t,i){"use strict";function n(e,t){var i,n=Promise.reject();for(i=0;i<t;++i)n=n.catch(e)
;return n}i.r(t),i.d(t,"retries",function(){return n})},mrSG:function(e,t,i){"use strict";function n(e,t){function i(){this.constructor=e}T(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function r(e,t){var i,n,r={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}function o(e,t,i,n){var r,o,s=arguments.length,a=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(o=e.length-1;o>=0;o--)(r=e[o])&&(a=(s<3?r(a):s>3?r(t,i,a):r(t,i))||a);return s>3&&a&&Object.defineProperty(t,i,a),a}function s(e,t){return function(i,n){t(i,n,e)}}function a(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})}function c(e,t){function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}var n,r,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function u(e,t){for(var i in e)t.hasOwnProperty(i)||(t[i]=e[i])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(e,t){var i,n,r,o,s="function"==typeof Symbol&&e[Symbol.iterator];if(!s)return e;i=s.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)r.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(s=i.return)&&s.call(i)}finally{if(o)throw o.error}}return r}function p(){
for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function f(){var e,t,i,n,r,o,s,a;for(e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;for(n=Array(e),r=0,t=0;t<i;t++)for(s=0,a=(o=arguments[t]).length;s<a;s++,r++)n[r]=o[s];return n}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function m(e,t,i){function n(e){c[e]&&(l[e]=function(t){return new Promise(function(i,n){u.push([e,t,i,n])>1||r(e,t)})})}function r(e,t){try{(i=c[e](t)).value instanceof _?Promise.resolve(i.value.v).then(o,s):a(u[0][2],i)}catch(e){a(u[0][3],e)}var i}function o(e){r("next",e)}function s(e){r("throw",e)}function a(e,t){e(t),u.shift(),u.length&&r(u[0][0],u[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,c=i.apply(e,t||[]),u=[];return l={},n("next"),n("throw"),n("return"),l[Symbol.asyncIterator]=function(){return this},l}function g(e){function t(t,r){i[t]=e[t]?function(i){return(n=!n)?{value:_(e[t](i)),done:"return"===t}:r?r(i):i}:r}var i,n;return i={},t("next"),t("throw",function(e){throw e}),t("return"),i[Symbol.iterator]=function(){return this},i}function y(e){function t(t){i[t]=e[t]&&function(i){return new Promise(function(n,r){(function(e,t,i,n){Promise.resolve(n).then(function(t){e({value:t,done:i})},t)})(n,r,(i=e[t](i)).done,i.value)})}}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),i={},t("next"),t("throw"),t("return"),i[Symbol.asyncIterator]=function(){return this},i)}function v(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function b(e){var t,i;if(e&&e.__esModule)return e;if(t={},null!=e)for(i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function P(e,t,i){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,i),i}var T,C;i.r(t),i.d(t,"__extends",function(){return n}),i.d(t,"__assign",function(){return C}),i.d(t,"__rest",function(){return r}),i.d(t,"__decorate",function(){return o}),i.d(t,"__param",function(){return s}),i.d(t,"__metadata",function(){return a}),i.d(t,"__awaiter",function(){return l}),i.d(t,"__generator",function(){return c}),i.d(t,"__exportStar",function(){return u}),i.d(t,"__values",function(){return h}),i.d(t,"__read",function(){return d}),i.d(t,"__spread",function(){return p}),i.d(t,"__spreadArrays",function(){return f}),i.d(t,"__await",function(){return _}),i.d(t,"__asyncGenerator",function(){return m}),i.d(t,"__asyncDelegator",function(){return g}),i.d(t,"__asyncValues",function(){return y}),i.d(t,"__makeTemplateObject",function(){return v}),i.d(t,"__importStar",function(){return b}),i.d(t,"__importDefault",function(){return S}),i.d(t,"__classPrivateFieldGet",function(){return w}),i.d(t,"__classPrivateFieldSet",function(){return P}),T=function(e,t){
return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},C=function(){return(C=Object.assign||function(e){var t,i,n,r;for(i=1,n=arguments.length;i<n;i++)for(r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}},n40Z:function(e,t,i){"use strict";(function(e){function n(e,t){this._constructor="LineToolVertLine";var o=t||n.createProperties();r.call(this,e,o),this._timeAxisView=new a(this),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("BSCN").VertLinePaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=i("GmZZ").LineToolVertLineTimeAxisView,l=window.t("Vertical Line");inherit(n,r),n.prototype.pointsCount=function(){return 1},n.prototype.translatedType=function(){return l},n.prototype.name=function(){return"Vertical Line"},n.prototype.timeAxisViews=function(){return this.isSourceHidden()?null:this.properties().showTime.value()?[this._timeAxisView]:null},n.prototype.updateAllViews=function(){r.prototype.updateAllViews.call(this),this._timeAxisView.update()},n.prototype.canHasAlert=function(){return!0},n.prototype._getAlertPlots=function(){var e=this._points[0],t={index:e.index,price:e.price+1};return[this._linePointsToAlertPlot([e,t],null,!0,!0)]},n.prototype.getInputsPropertyPage=function(){return s.LineToolVertLineInputsPropertyPage},n.prototype.getStylesPropertyPage=function(){return s.LineToolVertLineStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("FkpW").VerticalLineDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.prototype.template=function(){var e=r.prototype.template.call(this);return e.text=this.properties().childs().text.value(),e},n.prototype._applyTemplateImpl=function(e){r.prototype._applyTemplateImpl.call(this,e),this.properties().childs().text.setValue(e.text||"")},n.createProperties=function(e){void 0!==e&&void 0===e.textOrientation&&(e.textOrientation="horizontal");var t=new o("linetoolvertline",e);return n._configureProperties(t),t},n._configureProperties=function(t){r._configureProperties(t),t.hasChild("text")||t.addChild("text",new e("")),t.addExclusion("text")},t.LineToolVertLine=n}).call(this,i("tc+8"))},n5al:function(e,t,i){"use strict";function n(e){return-1!==x.indexOf(e)}function r(e){return-1!==I.indexOf(e)}function o(e){return 11===e}function s(e){return-1!==E.indexOf(e)}function a(e){return r(e)||s(e)}function l(e){a(e)&&11!==e&&b.setValue("chart.lastUsedStyle",e)}function c(){var e=b.getInt("chart.lastUsedStyle");return void 0===e?1:e}function u(e){return e?11:1}function h(e,t){var i=o(t),n=w.Interval.isRange(e);return!i&&n?u(!0):i&&!n?u(!1):t}function d(e,t){var i=S.SYMBOL_STRING_DATA[e]
;return void 0===i?null:t?i.type+"-"+i.basicStudyVersion:i.type}function p(e){var t=e.priceAxisProperties,i=t.lockScale.value(),n=6===e.style.value();(n||i)&&(t.log.setValue(!1),t.percentage.setValue(!1)),t.logDisabled.setValue(!(!n&&!i)),t.percentageDisabled.setValue(!(!n&&!i))}function f(e){return-1!==A.indexOf(e)}function _(e){return L.includes(e)}function m(e,t,i){var n,r,o,s,a;return void 0===t&&(t="default"),void 0===i&&(i=!1),n=100,r=1,"default"===t?null!=e&&(n=e.pricescale,r=e.minmov,o=e.fractional,s=e.minmove2):(3!==(a=t.split(",")).length&&(a=["100","1","false"]),n=parseInt(a[0]),r=parseInt(a[1]),o="true"===a[2]),i&&(r=1),{priceScale:n,minMove:r,fractional:o,minMove2:s}}function g(e,t,i){if(void 0===i&&(i=!1),"default"===t&&null!=e&&("volume"===e.formatter||"volume"===e.format))return new C.VolumeFormatter(2);var n=m(e,t,i),r=n.priceScale,o=n.minMove,s=n.fractional,a=n.minMove2;return new P.PriceFormatter(r,o,s,a)}function y(e){return null===e?null:void 0===e.currency_code||""===e.currency_code?null:"spread"===e.type?null:e.currency_code}function v(e,t){var i=e&&(e.pro_name||e.full_name||e.name);return T.enabled("charting_library_single_symbol_request")&&t?i=t:T.enabled("use_ticker_on_symbol_info_update")&&e&&e.ticker&&(i=e.ticker),i}var b,S,w,P,T,C,x,I,E,L,A;i.r(t),i.d(t,"isRequiringRestartSeriesStyles",function(){return n}),i.d(t,"isRangeBasedStyle",function(){return r}),i.d(t,"isRangeStyle",function(){return o}),i.d(t,"isTimeBasedStyle",function(){return s}),i.d(t,"isValidStyle",function(){return a}),i.d(t,"setLastUsedStyle",function(){return l}),i.d(t,"getLastUsedStyle",function(){return c}),i.d(t,"getDefaultStyle",function(){return u}),i.d(t,"getChartStyleByResolution",function(){return h}),i.d(t,"chartStyleStudyId",function(){return d}),i.d(t,"preparePriceAxisProperties",function(){return p}),i.d(t,"hasProjection",function(){return f}),i.d(t,"isPriceSourceStyle",function(){return _}),i.d(t,"getSeriesPriceFormattingState",function(){return m}),i.d(t,"createSeriesFormatter",function(){return g}),i.d(t,"seriesCurrency",function(){return y}),i.d(t,"extractSymbolNameFromSymbolInfo",function(){return v}),b=i("Vdly"),S=i("dfhE"),w=i("LxhU"),P=i("kcTO"),T=i("Kxc7"),C=i("nEwK"),x=[4,5,6,7,8],I=[4,5,6,7,8,11],E=[0,1,9,2,3,10],L=[2,10,3],A=[4,7,5,6]},nBJD:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){function e(e){this._text="",this._size="13px",this._bold=!1,this._colorProperty=e}return e.prototype.text=function(){return this._text},e.prototype.setText=function(e){this._text=e},e.prototype.getSplitTitle=function(){return[this._text]},e.prototype.color=function(){return this._colorProperty.value()},e.prototype.bold=function(){return this._bold},e.prototype.size=function(){return this._size},e}()},nEwK:function(e,t,i){"use strict";var n,r,o,s,a;i.r(t),i.d(t,"PLACE_HOLDER",function(){return s}),i.d(t,"VolumeFormatter",function(){return a}),n=i("zXvd"),r=i("ogJP"),o=i("ivNn"),i("YFKU"),s="---",a=function(){function e(e){this.type="volume",
this._numericFormatter=new n.NumericFormatter,this._fractionalValues=void 0!==e&&e>0,this._precision=e}return e.prototype.state=function(){return{precision:this._precision}},e.prototype.format=function(e){if(!Object(r.isNumber)(e))return s;var t="";return e<0&&(t="-",e=-e),e>=1e100?window.t("N/A"):(!this._fractionalValues||e>=995?e=Math.round(e):this._fractionalValues&&(e=+e.toFixed(this._precision)),e<995?t+this._formatNumber(e):e<999995?t+this._formatNumber(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),t+this._formatNumber(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),t+this._formatNumber(e/1e9)+"B"))},e.prototype.parse=function(e){var t,i,n;return"---"===e?{error:"not a number",res:!1,value:NaN}:(t={K:1e3,M:1e6,B:1e9},i=e.slice(-1),t.hasOwnProperty(i)?(n=this._numericFormatter.parse(e.slice(0,-1)),Object(r.isNumber)(n)?{res:!0,value:n*t[i]}:{error:"not a number",res:!1,value:NaN}):(n=this._numericFormatter.parse(e),Object(r.isNumber)(n)?{res:!0,value:n}:{error:"not a number",res:!1,value:NaN}))},e.serialize=function(e){return e.state()},e.deserialize=function(t){return new e(t.precision)},e.prototype._formatNumber=function(e){return this._fractionalValues&&(e=Object(o.fixComputationError)(e)),this._numericFormatter.format(e).replace(/(\.[1-9]*)0+$/,function(e,t){return t})},e}()},nInm:function(e,t,i){"use strict";function n(e,t){if(e.time>=t.length)return null;var i=t[e.time];return i===s.INVALID_TIME_POINT_INDEX?null:{time:i,offset:e.offset,text:e.text,price:e.price}}function r(e,t,i){var n=Object(a.ensureTimePointIndexIndex)(i.indexOf(e.time));return Object(o.__assign)(Object(o.__assign)({id:t},e),{time:n})}var o,s,a,l,c;i.d(t,"a",function(){return l}),i.d(t,"c",function(){return n}),i.d(t,"b",function(){return r}),o=i("mrSG"),s=i("tqok"),a=i("hsV8"),function(e){e.Triangle="triangle",e.Rectangle="rectangle"}(l||(l={})),function(e){e.Verdana="Verdana",e.CourierNew="Courier New",e.TimesNewRoman="Times New Roman",e.Arial="Arial"}(c||(c={}))},nW7S:function(e,t,i){"use strict";(function(e){function n(e,t){var r=t||n.createProperties();o.call(this,e,r),this._constructor="LineToolTrendAngle",this._properties.addChild("angle",new n.AngleProperty(this)),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("XHET").TrendAnglePaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("aO4+").Point,o=i("Ss5c").LineDataSource,s=i("Ocx9").DefaultProperty,a=i("hayr").propertyPages,l=window.t("Trend Angle");inherit(n,o),n.prototype.isSynchronizable=function(){return!1},n.AngleProperty=function(t){e.call(this),this._lineSource=t},inherit(n.AngleProperty,e),n.AngleProperty.prototype.value=function(){var e=this._lineSource._angle,t=180*e/Math.PI;return Math.round(t)},n.AngleProperty.prototype.setValue=function(e){var t,i,n,o,s,a,l=e*Math.PI/180;this._lineSource._angle=l,t=this._lineSource.pointToScreenPoint(this._lineSource.points()[0])[0],i=Math.cos(this._lineSource._angle),n=-Math.sin(this._lineSource._angle),o=new r(i,n),s=t.addScaled(o,this._lineSource._distance),
a=this._lineSource.screenPointToPoint(s),this._lineSource._points[1]=a,this._lineSource._model.updateSource(this._lineSource),this._lineSource.updateAllViews(),this._lineSource._model.updateSource(this._lineSource)},n.prototype.pointsCount=function(){return 2},n.prototype.translatedType=function(){return l},n.prototype.name=function(){return"Trend Angle"},n.prototype._calculateAngle=function(){var e=this.pointToScreenPoint(this.points()[0])[0],t=this.pointToScreenPoint(this.points()[1])[0],i=t.subtract(e);i.length()>0?(i=i.normalized(),this._angle=Math.acos(i.x),i.y>0&&(this._angle=-this._angle),this._distance=t.subtract(e).length()):delete this._angle,this.properties().hasOwnProperty("angle")&&this.properties().angle.listeners().fire(this.properties().angle)},n.prototype.addPoint=function(e,t){var i=o.prototype.addPoint.call(this,e,t);return i&&this._calculateAngle(),i},n.prototype.setLastPoint=function(e,t){o.prototype.setLastPoint.call(this,e,t),this.points().length>1&&this._calculateAngle()},n.prototype.axisPoints=function(){var e,t,i,n,o,s,a=this.points();return a.length<2?[]:(e=[this.points()[0]],t=this.pointToScreenPoint(this.points()[0])[1],i=Math.cos(this._angle)*this._distance,n=-Math.sin(this._angle)*this._distance,o=t.add(new r(i,n)),s=this.screenPointToPoint(o),e.push(s),e)},n.prototype.setPoint=function(e,t,i){o.prototype.setPoint.call(this,e,t,i),this.points().length>1&&1===e&&this._calculateAngle()},n.prototype.restoreData=function(e){this._angle=e.angle,this._distance=e.distance},n.prototype.state=function(e){var t=o.prototype.state.call(this,e);return t.angle=this._angle,t.distance=this._distance,t},n.prototype.cloneData=function(e){this._angle=e._angle,this._distance=e._distance},n.prototype.canHasAlert=function(){return!0},n.prototype._getAlertPlots=function(){return[this._linePointsToAlertPlot(this._points,null,this.properties().extendLeft.value(),this.properties().extendRight.value())]},n.prototype.getInputsPropertyPage=function(){return a.LineToolTrendAngleInputsPropertyPage},n.prototype.getStylesPropertyPage=function(){return a.LineToolTrendAngleStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("o1gc").TrendAngleDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new s("linetooltrendangle",e);return n._configureProperties(t),t},n._configureProperties=function(e){o._configureProperties(e)},t.LineToolTrendAngle=n}).call(this,i("tc+8"))},nXyu:function(e,t,i){"use strict";function n(e,t,i){void 0!==t&&void 0!==i&&i.forEach(function(i){var n,r=e[i];"string"==typeof r?(n=r.split("$")[1],e[i]=t+(void 0===n?"":"$"+n)):"source"===r.t?(n=r.v.split("$")[1],r.v=t+(void 0===n?"":"$"+n)):c.logError("Cannot patch source input, its type is not source: "+JSON.stringify(r))})}function r(e,t){return a()(e+Object(l.sortedStringify)(t)).toString()}var o,s,a,l,c;i.r(t),i.d(t,"patchChildIdInInputs",function(){return n}),
i.d(t,"idForAlert",function(){return r}),o=i("uOxu"),s=i("YJLw"),a=i.n(s),l=i("XMe/"),c=Object(o.getLogger)("Chart.Study")},"nd9+":function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h,d,p;i.r(t),i.d(t,"LineToolGannComplex",function(){return p}),n=i("mrSG"),r=i("aO4+"),o=i("Eyy1"),s=i("T6Of"),a=i("Ss5c"),l=i("FaJS"),c=i("hayr"),u=i("LAp3"),h=i("ytGH"),d=window.t("Gann Square"),p=function(e){function t(n,r){var o,a,l,c,u,d,p=e.call(this,n,r||t.createProperties())||this;for(p.version=2,p._constructor="LineToolGannComplex",p._scaleRatioFormatter=new s.LimitedPrecisionNumericFormatter(7),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("X4Cb").GannComplexPaneView;p._setPaneViews([new t(p,p.model())])}.bind(null,i)).catch(void 0),o=p.properties(),p._adjustScaleRatio(o),o.subscribe(p,p._adjustScaleRatio),o.childs().scaleRatio.subscribe(p,p._correctFirstPoint),p._syncStateExclusions=["scaleRatio"],o.addExclusion("scaleRatio"),p.properties().onRestoreFactoryDefaults().subscribe(p,p._handleRestoringFactoryDefaults),p._onTemplateApplying.subscribe(p,p._handleTemplateApplying),p._onTemplateApplied.subscribe(p,p._correctFirstPoint),a=[],c=(l=p.properties().childs()).levels.childCount(),u=0;u<c;u++)d=l.levels.childs()[u].childs(),a.push(d.width);for(c=l.fanlines.childCount(),u=0;u<c;u++)d=l.fanlines.childs()[u].childs(),a.push(d.width);for(c=l.arcs.childCount(),u=0;u<c;u++)d=l.arcs.childs()[u].childs(),a.push(d.width);return p._widthsProperty=new h.LineToolWidthsProperty(a),p}return Object(n.__extends)(t,e),t.prototype.properties=function(){return e.prototype.properties.call(this)},t.prototype.migrateVersion=function(e,t,i){var n=this;1===e&&(this._points.length>=this.pointsCount()?setTimeout(function(){return n._migratePoint()}):this._timePoint.length>=this.pointsCount()&&this._pointAdded.subscribe(this,this._migratePoint))},t.prototype.destroy=function(){var e=this.properties();e.unsubscribe(this,this._adjustScaleRatio),e.childs().scaleRatio.unsubscribe(this,this._correctFirstPoint),this.properties().onRestoreFactoryDefaults().unsubscribe(this,this._handleRestoringFactoryDefaults),this._onTemplateApplying.unsubscribe(this,this._handleTemplateApplying),this._onTemplateApplied.unsubscribe(this,this._correctFirstPoint)},t.prototype.pointsCount=function(){return 2},t.prototype.translatedType=function(){return d},t.prototype.name=function(){return"Gann Square"},t.prototype.addPoint=function(t,i,n){var r,s;return this._points.length>1&&this._points.pop(),r=e.prototype.addPoint.call(this,t,i,n),s=this.priceScale(),!Object(o.ensureNotNull)(s).isLog()&&r&&this._correctFirstPoint(),r},t.prototype.setPoint=function(t,i,n){e.prototype.setPoint.call(this,t,i,n),void 0!==n&&n.shift()?this._correctPoint(t):this._correctScaleRatio()},t.prototype.setLastPoint=function(t,i){var n=this.priceScale(),r=Object(o.ensureNotNull)(n).isLog();r||(this._points[1]=t,this._correctPoint(1)),e.prototype.setLastPoint.call(this,t,i)},t.prototype.getStylesPropertyPage=function(){return c.propertyPages.LineToolGannComplexStylesPropertyPage},
t.prototype.isReversed=function(){return this.properties().childs().reverse.value()},t.prototype.levelsCount=function(){return this.properties().childs().levels.childCount()},t.prototype.levels=function(){var e,t,i=[],n=this.properties().childs(),r=n.levels.childCount();for(e=0;e<r;e++)t=n.levels.childs()[e].childs(),i.push({index:e,visible:t.visible.value(),color:t.color.value(),width:t.width.value()});return i},t.prototype.fanLinesCount=function(){return this.properties().childs().fanlines.childCount()},t.prototype.fanLines=function(){var e,t,i=[],n=this.properties().childs(),r=n.fanlines.childCount();for(e=0;e<r;e++)t=n.fanlines.childs()[e].childs(),i.push({index:e,visible:t.visible.value(),x:t.x.value(),y:t.y.value(),color:t.color.value(),width:t.width.value()});return i},t.prototype.arcsCount=function(){return this.properties().childs().arcs.childCount()},t.prototype.arcs=function(){var e,t,i=[],n=this.properties().childs(),r=n.arcs.childCount();for(e=0;e<r;e++)t=n.arcs.childs()[e].childs(),i.push({index:e,visible:t.visible.value(),x:t.x.value(),y:t.y.value(),color:t.color.value(),width:t.width.value()});return i},t.prototype.arcsBackgroundTransparency=function(){return this.properties().childs().arcsBackground.childs().transparency.value()},t.prototype.isArcsBackgroundFilled=function(){return this.properties().childs().arcsBackground.childs().fillBackground.value()},t.prototype.isLabelsVisible=function(){return this.properties().childs().showLabels.value()},t.prototype.getLabelsStyle=function(){var e=this.properties().childs(),t=e.labelsStyle.childs(),i=t.font,n=t.fontSize,r=t.bold,o=t.italic,s=e.levels.childCount(),a=e.levels.childs()[s-1].childs();return{textColor:a.color.value(),font:i.value(),fontSize:n.value(),bold:r.value(),italic:o.value()}},t.prototype.getScaleRatioStep=function(){return 1e-7},t.prototype.getScaleRatioFormatter=function(){return this._scaleRatioFormatter},t.prototype.getPriceDiff=function(){var e,t=this.points();return t.length<2?null:(e=t[0],t[1].price-e.price)},t.prototype.getIndexDiff=function(){var e,t=this.points();return t.length<2?null:(e=t[0],t[1].index-e.index)},t.prototype.getScaleRatio=function(){var e=this.getPriceDiff(),t=this.getIndexDiff();return null!==e&&null!==t&&0!==t?Math.abs(e/t):null},t.createProperties=function(e){var i=Object(u.a)("linetoolganncomplex",e);return t._configureProperties(i),i},t.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(i.bind(null,"WfUZ")).then(function(e){return e.GannComplexAndFixedDefinitionsViewModel})},t._configureProperties=function(e){a.LineDataSource._configureProperties(e)},t.prototype._correctScaleRatio=function(){var e=this.properties().childs(),t=this.getScaleRatio();e.scaleRatio.setValue(t)},t.prototype._getAdjustedScaleRatio=function(){var e=this.model().mainSeries().priceScale(),t=this.model().timeScale();return Object(l.scaleRatio)(t,e)},t.prototype._adjustScaleRatio=function(e){var t=e.scaleRatio.value()
;""!==t&&null!==t||e.scaleRatio.setValue(this._getAdjustedScaleRatio())},t.prototype._correctPoint=function(e){var t,i,n,r,o,s,a;this._points.length<2||null!==(t=this.getIndexDiff())&&(null!==(i=this.properties().childs().scaleRatio.value())&&(n=this._points[e],r=0===e?this._points[1]:this._points[0],o=n.price-r.price>0,s=n.index-r.index>0,a=o&&!s||!o&&s?-1:1,0===e&&(a=-a),n.price=r.price+a*t*i,this._pointChanged.fire(e)),this.normalizePoints())},t.prototype._correctFirstPoint=function(){this._correctPoint(this.isReversed()?0:1)},t.prototype._handleRestoringFactoryDefaults=function(){this.properties().childs().scaleRatio.setValue(this._getAdjustedScaleRatio())},t.prototype._handleTemplateApplying=function(e){""===e.scaleRatio&&(e.scaleRatio=this._getAdjustedScaleRatio())},t.prototype._migratePoint=function(){var e,t;this.points().length<this.pointsCount()||null!==(e=this._getScreenPoints())&&(t=this.screenPointToPoint(e[1]),this.setPoint(1,t),this._pointAdded.unsubscribe(this,this._migratePoint))},t.prototype._getScreenPoints=function(){var e,t,i,n,o,s,a,l,c,u,h,d=this._calcAngle();return null===d?null:(i=(t=this.points())[0],n=t[1],this.isReversed()&&(i=(e=[n,i])[0],n=e[1]),o=this.pointToScreenPoint(i)[0],s=this.pointToScreenPoint(n)[0],a=Math.sqrt(Math.pow(o.x-s.x,2)+Math.pow(o.y-s.y,2)),u=(c=(l=new r.Point(Math.cos(d),-Math.sin(d))).normalized()).x<0?-1:1,h=c.y<0?-1:1,[o.addScaled(l,a),o.add(new r.Point(5*a*u,5*a*h))])},t.prototype._calcAngle=function(){var e,t=this.points(),i=t[0],n=t[1],r=this.pointToScreenPoint(i)[0],o=this.pointToScreenPoint(n)[0],s=o.subtract(r),a=s.length();return a>0?(s=s.normalized(),e=Math.acos(s.x),s.y>0&&(e=-e),e):null},t}(a.LineDataSource)},nda6:function(e,t,i){"use strict";var n;i.r(t),i.d(t,"TimeSpanFormatter",function(){return n}),i("YFKU"),n=function(){function e(){}return e.prototype.format=function(e){var t,i,n,r,o=e<0;return e=Math.abs(e),e-=86400*(t=Math.floor(e/86400)),e-=3600*(i=Math.floor(e/3600)),e-=60*(n=Math.floor(e/60)),r="",t&&(r+=t+window.t("d",{context:"dates"})+" "),i&&(r+=i+window.t("h",{context:"dates"})+" "),n&&(r+=n+window.t("m",{context:"dates"})+" "),e&&(r+=e+window.t("s",{context:"dates"})+" "),o&&(r="-"+r),r.trim()},e}()},nmnj:function(e,t,i){"use strict";(function(t){function n(){d._cache={}}var r,o,s=i("Eyy1").assert,a=i("PC8g").trackEvent,l=i("FBuY").TVXWindowEvents,c=i("uOxu").getLogger("Pine.ScriptLib"),u=i("xlbu").telemetry,h={fast:["delete","get","is_auth_to_get","is_auth_to_write","parse_title","rename"],medium:["list","eval_pine_ex"],slow:["process_legacy","publish","save","translate","translate_source","gen_alert"]},d={};d._isAuthCache=new n,d._pineDeleted=new t,l.on("TVScriptModified",function(e){d.clearSavedScriptsCache(),d.scriptUpdater()&&d.scriptUpdater().onTVScriptModified(JSON.parse(e))}),l.on("TVScriptDeleted",function(e){d.clearAllCaches(),d.scriptUpdater()&&d.scriptUpdater().onTVScriptDeleted(JSON.parse(e))}),l.on("TVScriptRenamed",function(e){d.clearSavedScriptsCache(),d.scriptUpdater()&&d.scriptUpdater().onTVScriptRenamed(JSON.parse(e))
}),l.on("TVScriptLegacyPineProcessed",function(e){d.clearSavedScriptsCache(),d.scriptUpdater()&&d.scriptUpdater().onTVScriptLegacyPineProcessed(JSON.parse(e))}),d.PINE_FACADE_URL=function(){return window.PINE_URL},d.onPineDeleted=function(){return d._pineDeleted},d._pineFacadeAjax=function(e,t,i,n){var r,o,s;return c.logNormal("Requesting pine facade scripts, url: "+t),r=function(e,t){var i,n,r=Object.keys(h);for(i=0;i<r.length;i++)if(n=h[r[i]].filter(function(t){return-1!==e.indexOf(t)}),Boolean(n.length))return r[i];return!1}(t),o=Date.now(),s=n?void 0:{withCredentials:!0},$.ajax({url:d.PINE_FACADE_URL()+t,type:e,data:i||{},dataType:"json",xhrFields:s}).done(function(){var e=Date.now()-o;u.sendReport("pine",r+"_group_time_frame",{value:e}),u.sendReport("pine",r+"_group_ok"),c.logNormal("Requesting pine facade scripts finished, url: "+t)}).fail(function(){var e=Date.now()-o;u.sendReport("pine",r+"_group_time_frame",{value:e}),u.sendReport("pine",r+"_group_error"),c.logError("Requesting pine facade scripts failed, url: "+t)})},d.convertScript=function(e){var t=$.Deferred(),i="/convert/",n={source:e,version_to:4};return d._pineFacadeAjax("POST",i,n).done(function(e,i,n){e.error?t.reject(d._readableError(e.error)):t.resolve(e)}).fail(function(e,i,n){d._anyRequestAsyncFail(t,e)}),t.promise()},d.translateScriptAsync=function(e,t,i,n){var r,o,s;return a("Pine","ScriptLib.translateScript"),n=!!n,r=$.Deferred(),o="/translate_source/"+encodeURIComponent(t)+"/?is_pine_ex="+n,s={user_name:window.user&&window.user.username,source:e,inputs:JSON.stringify(i||{})},d._pineFacadeAjax("POST",o,s).done(function(e,t,i){d._translateScriptAsyncDone(r,e)}).fail(function(e,t,i){d._anyRequestAsyncFail(r,e)}),r.promise()},d.translateScriptAsync2=function(e,t){var i,n,r,o,s;return c.logNormal("translateScriptAsync2, pineId="+e+" pineVersion="+t),a("Pine","ScriptLib.translateScript"),i=$.Deferred(),n=0!==e.indexOf("USER"),r=window.user&&window.user.username,o="?user_name="+encodeURIComponent(r),s="/translate/"+encodeURIComponent(e)+"/"+t+"/",n||null==r||(s+=o),d._pineFacadeAjax("GET",s,void 0,n).done(function(e,n,r){var o;d._translateScriptAsyncDone(i,e),t<0&&(d.clearSavedScriptsCache(),o={scriptMetaInfo:e.result.metaInfo},l.emit("TVScriptLegacyPineProcessed",JSON.stringify(o)),setTimeout(function(){o.isSelfCall=!0,null!=d.scriptUpdater()&&d.scriptUpdater().onTVScriptLegacyPineProcessed(o)},0))}).fail(function(e,t,n){d._anyRequestAsyncFail(i,e)}),i.promise()},d._translateScriptAsyncDone=function(e,t){if(t.error)e.reject(d._readableError(t.error));else if(t.success)e.resolve(t.result.metaInfo,t.result.IL);else{var i=t.result?t.result.metaInfo:null;e.reject(t.reason,i)}},d._saveScriptAsyncDone=function(e,t){if(t.error)e.reject(d._readableError(t.error));else if(t.success)e.resolve(t.result.metaInfo);else{var i=t.result?t.result.metaInfo:null;e.resolve(i,t.reason)}},d._readableError=function(e,t){return t},d._anyRequestAsyncFail=function(e,t){0===d.PINE_FACADE_URL().indexOf("http")&&c.logError(t.responseText),
e.reject(d._readableError(t.status,t.statusText))},d.isAuthToWritePineScript=function(e){var t,i,n="write_"+e,r=d._isAuthCache.getPromise(n);return null!==r?r:(a("Pine","ScriptLib.isAuthToWritePineScript"),t=$.Deferred(),i="/is_auth_to_write/"+encodeURIComponent(e),d._pineFacadeAjax("GET",i).done(function(e,i,n){t.resolve(e)}).fail(function(e,i,n){d._anyRequestAsyncFail(t,e)}),d._isAuthCache.setPromise(n,t.promise()))},d.isAuthToGetPineSourceCode=function(e,t){var i,n,r="get_"+e+"_"+t,o=d._isAuthCache.getPromise(r);return null!==o?o:(a("Pine","ScriptLib.isAuthToGetPineSourceCode"),i=$.Deferred(),n="/is_auth_to_get/"+encodeURIComponent(e)+"/"+t,d._pineFacadeAjax("GET",n).done(function(e,t,n){i.resolve(e)}).fail(function(e,t,n){d._anyRequestAsyncFail(i,e)}),d._isAuthCache.setPromise(r,i.promise()))},n.prototype.getPromise=function(e){var t=d._cache[e];return void 0===t?null:void 0!==t.value?$.Deferred().resolve(t.value):void 0!==t.promise?t.promise:null},n.prototype.setPromise=function(e,t){return d._cache[e]={promise:t},t.done(function(t){d._cache[e]={value:t}}).fail(function(t){delete d._cache[e]}),t},d.getPineSourceCode=function(e,t,i){var n,r,o;return a("Pine","ScriptLib.getPineSourceCode"),n=$.Deferred(),r="?no_4xx="+!!i,o="/get/"+encodeURIComponent(e)+"/"+t+r,d._pineFacadeAjax("GET",o).done(function(e,t,i){!1===e.success?n.reject(e.reason):n.resolve(e)}).fail(function(e,t,i){d._anyRequestAsyncFail(n,e)}),n.promise()},d.saveNewDraft=function(e){var t,i,n,r;return a("Pine","ScriptLib.saveNewDraft"),t=$.Deferred(),null==e||""===e?t.reject($.t("Cannot save empty source code")):(i=window.user&&window.user.username,n="/save/new_draft/?user_name="+encodeURIComponent(i)+"&allow_use_existing_draft=true",r={source:e},d._pineFacadeAjax("POST",n,r).done(function(e,i,n){d._translateScriptAsyncDone(t,e)}).fail(function(e,i,n){d._anyRequestAsyncFail(t,e)}),t.promise())},d.saveNextDraft=function(e,t,i){var n,r,o,s;return a("Pine","ScriptLib.saveNextDraft"),n=$.Deferred(),null==t||""===t?n.reject($.t("Cannot save empty source code")):(r=window.user&&window.user.username,i=!!i,o="/save/next_draft/"+encodeURIComponent(e)+"/?user_name="+encodeURIComponent(r)+"&allow_create_new="+i,s={source:t},d._pineFacadeAjax("POST",o,s).done(function(e,t,i){d._translateScriptAsyncDone(n,e)}).fail(function(e,t,i){d._anyRequestAsyncFail(n,e)}),n.promise())},d.processLegacy=function(e,t){var i,n,r,o;return a("Pine","ScriptLib.processLegacy"),i=$.Deferred(),n=window.user&&window.user.username,r="/process_legacy/"+encodeURIComponent(e)+"/?user_name="+encodeURIComponent(n),o={},null!=t&&""!==t&&(o.source=t),d._pineFacadeAjax("POST",r,o).done(function(e,t,n){d._translateScriptAsyncDone(i,e)}).fail(function(e,t,n){d._anyRequestAsyncFail(i,e)}),i.promise()},d.generateAlert=function(e){var t,i,n,r,o;return a("Pine","ScriptLib.generateAlert"),t=$.Deferred(),i=window.user&&window.user.username,n="/gen_alert/?user_name="+encodeURIComponent(i),r={alert_info:e},o=Date.now(),d._pineFacadeAjax("POST",n,r).done(function(e,i,n){
u.sendReport("alerts","compilation_ok"),d._translateScriptAsyncDone(t,e)}).fail(function(e,i,n){u.sendReport("alerts","compilation_error"),d._anyRequestAsyncFail(t,e)}).always(function(){var e=Date.now()-o;u.sendReport("alerts","compilation_time_frame",{value:e})}),t.promise()},d.parseScriptTitleAsync=function(e){var t,i;return a("Pine","ScriptLib.parseScriptTitle"),t=$.Deferred(),null==e||""===e?t.reject($.t("Cannot save empty source code")):(i={user_name:window.user&&window.user.username,source:e},d._pineFacadeAjax("POST","/parse_title/",i).done(function(e,i,n){e.error?t.reject(d._readableError(e.error)):e.success?t.resolve(e.result):t.reject(e.reason)}).fail(function(e){d._anyRequestAsyncFail(t,e)}),t.promise())},d.evalMetaInfoExprsAsync=function(e,t){var i,n;return a("Pine","ScriptLib.evalMetaInfoExprs"),i=$.Deferred(),n={username:window.user&&window.user.username,source:e,inputs:JSON.stringify(t||{})},d._pineFacadeAjax("POST","/eval_pine_ex/",n).done(function(e,t,n){e.error?i.reject(d._readableError(e.error)):e.success?i.resolve(e.result):i.reject(e.reason)}).fail(function(e){d._anyRequestAsyncFail(i,e)}),i.promise()},d.patchPropertiesAsync=function(e,t,i){return c.logNormal("patchPropertiesAsync"),new Promise(function(n,r){var o,a;t.TVScriptMetaInfoExprs?(o=t.TVScriptMetaInfoExprs.tree,a=t.TVScriptMetaInfoExprs.patchMap,d.evalMetaInfoExprsAsync(o,i).done(function(t){var i,r,o,l,c,u,h=t.rootValues,d=Object.keys(a);for(i=0;i<d.length;i++){for(r=d[i],o=h[a[r]],"defaults"===(l=r.split("."))[0]&&l.splice(0,1),s(l.length>1,"Unexpectedly short json path"),c=e,u=0;u<l.length-1;++u)c=c[l[u]];c[l[l.length-1]].setValue(o)}n(e)}).fail(function(e){r(e)})):n(e)})},d.scriptUpdater=function(){return window.scriptUpdater},d.clearAllCaches=function(){d.clearIsAuthToCaches(),d.clearSavedScriptsCache()},d.clearIsAuthToCaches=function(e){e?Object.keys(d._cache).filter(function(t){return t.indexOf(e)>=0}).forEach(function(e){delete d._cache[e]}):d._isAuthCache=new n},d.clearSavedScriptsCache=function(e){delete d._userScriptsDfd},d.requestUserScripts=function(e){var t;return a("Pine","ScriptLib.requestUserScripts"),window.is_authenticated?(d._userScriptsDfd||(d._userScriptsDfd=$.Deferred(),t=d._userScriptsDfd,d._pineFacadeAjax("GET","/list?filter=saved").done(function(e,i,n){t.resolve(e)}).fail(function(e){d._anyRequestAsyncFail(t,e)})),t=d._userScriptsDfd):t=$.Deferred().resolve([]),"function"==typeof e&&t.done(e),t.promise()},d.setUserScripts=function(e){d._userScriptsDfd||(d._userScriptsDfd=$.Deferred().resolve(e))},d.requestUserPublishedScripts=function(e,t){var i;return a("Pine","ScriptLib.requestUserPublishedScripts"),window.is_authenticated?(!t&&d._userPublishedScriptsDfd||(d._userPublishedScriptsDfd=$.Deferred(),i=d._userPublishedScriptsDfd,d._pineFacadeAjax("GET","/list?filter=published").done(function(e,t,n){i.resolve(e)}).fail(function(e){d._anyRequestAsyncFail(i,e)})),i=d._userPublishedScriptsDfd):i=$.Deferred().resolve([]),"function"==typeof e&&i.done(e),i.promise()},d.requestPineEditorNewTemplateScripts=function(e){
var t,i;return a("Pine","ScriptLib.requestPineEditorNewTemplateScripts"),t=!0,i=$.Deferred(),d._pineFacadeAjax("GET","/list/?filter=template",void 0,t).done(function(e,t,n){i.resolve(e)}).fail(function(e){d._anyRequestAsyncFail(i,e)}),"function"==typeof e&&i.done(e),i.promise()},d.requestInfoForScripts=function(e){return Promise.all([d._pineFacadeAjax("GET","/list?filter=saved"),d._pineFacadeAjax("GET","/list?filter=addon",void 0,!0)]).then(function(t){var i=t[0],n=t[1];return i.concat(n).filter(function(t){return e.includes(t.scriptIdPart)})})},d.requestBuiltinAndUserScripts=function(){var e,t,i,n;return a("Pine","ScriptLib.requestBuiltinAndUserScripts"),c.logNormal("Request built-in and user scripts"),e=window.user&&window.user.username,i={},n=new Promise(function(e,n){t=e,i.reject=n}),Promise.all([d._pineFacadeAjax("GET","/list?filter=saved&user_name="+encodeURIComponent(e),void 0,!1),d._pineFacadeAjax("GET","/list?filter=standard",void 0,!0)]).then(function(e){var i,n;c.logNormal("Request built-in and user scripts finished"),i=e[0],n=e[1],t(i.concat(n))}).catch(function(e){c.logWarn("Request built-in and user scripts finished with fail"),d._anyRequestAsyncFail(i,e)}),n},r={time:-1/0,request:null},o=6e5,d.requestFundamentalScripts=function(){if(r.time+o>Date.now()&&null!==r.request)return c.logNormal("Return fundamentals from cache"),r.request;c.logNormal("Request fundamental scripts");var e=d._pineFacadeAjax("GET","/list?filter=fundamental",void 0,!1);return e.then(function(e){c.logNormal("Request fundamental scripts finished")}),e.fail(function(e){c.logWarn("Request fundamental scripts finished with fail, resetting cache"),r.request=null}),r.time=Date.now(),r.request=Promise.resolve(e.promise()),r.request},d.requestPineAddons=function(e){a("Pine","ScriptLib.requestPineAddons");var t=$.Deferred();return d._pineFacadeAjax("GET","/list?filter=addon&pine_id_prefix="+e).done(function(e){t.resolve(e)}).fail(function(e){d._anyRequestAsyncFail(t,e)}),t},d._updateAliveScriptInstances=function(e,t){var i={};i.scriptMetaInfo=e.result.metaInfo,i.scriptVersionToUpdate=t,l.emit("TVScriptModified",JSON.stringify(i)),setTimeout(function(){i.isSelfCall=!0,null!=d.scriptUpdater()&&d.scriptUpdater().onTVScriptModified(i)},0)},d.saveNew=function(e,t,i,n){var r,o,s,l,c;return a("Pine","ScriptLib.saveNew"),r=$.Deferred(),null==e||""===e?r.reject($.t("Cannot save empty source code")):(o=window.user&&window.user.username,s=i?"&allow_overwrite=true":"",l="/save/new/?name="+encodeURIComponent(t)+"&user_name="+encodeURIComponent(o)+s,c={source:e},d._pineFacadeAjax("POST",l,c).done(function(e,t,i){d.clearSavedScriptsCache(),d._updateAliveScriptInstances(e,n),d._saveScriptAsyncDone(r,e)}).fail(function(e,t,i){d._anyRequestAsyncFail(r,e)}),r.promise())},d.saveNext=function(e,t,i,n,r){var o,s,l,c,u;return a("Pine","ScriptLib.saveNext"),o=null!=i?"&name="+encodeURIComponent(i):"",s=$.Deferred(),null==t||""===t?s.reject($.t("Cannot save empty source code")):(l=window.user&&window.user.username,
c="/save/next/"+encodeURIComponent(e)+"/?user_name="+encodeURIComponent(l)+"&allow_create_new="+!!r+o,u={source:t},d._pineFacadeAjax("POST",c,u).done(function(e,t,i){d.clearSavedScriptsCache(),d._updateAliveScriptInstances(e,n),d._saveScriptAsyncDone(s,e)}).fail(function(e,t,i){d._anyRequestAsyncFail(s,e)}),s.promise())},d.deletePine=function(e){var t,i,n;return a("Pine","ScriptLib.deletePine"),t=$.Deferred(),i=window.user&&window.user.username,n="/delete/"+encodeURIComponent(e)+"/?user_name="+encodeURIComponent(i),d._pineFacadeAjax("POST",n).done(function(i,n,r){d.clearIsAuthToCaches(e),d.clearSavedScriptsCache(),t.resolve(i);var o={scriptIdPart:e};l.emit("TVScriptDeleted",JSON.stringify(o)),setTimeout(function(){o.isSelfCall=!0,null!=d.scriptUpdater()&&d.scriptUpdater().onTVScriptDeleted(o),d._pineDeleted.fire(e)},0)}).fail(function(e,i,n){d._anyRequestAsyncFail(t,e)}),t.promise()},d.renamePine=function(e,t,i){var n,r,o;return a("Pine","ScriptLib.renamePine"),n=$.Deferred(),r=window.user&&window.user.username,o="/rename/"+encodeURIComponent(e)+"/?name="+encodeURIComponent(t)+"&user_name="+encodeURIComponent(r)+"&force="+encodeURIComponent(!!i),d._pineFacadeAjax("POST",o).done(function(i,r,o){d.clearSavedScriptsCache();var s={scriptIdPart:e,scriptName:t};l.emit("TVScriptRenamed",JSON.stringify(s)),setTimeout(function(){s.isSelfCall=!0,null!=d.scriptUpdater()&&d.scriptUpdater().onTVScriptRenamed(s)},0),n.resolve(i)}).fail(function(e,t,i){d._anyRequestAsyncFail(n,e)}),n.promise()},d.publishNew=function(e,t){var i,n,r,o;return a("Pine","ScriptLib.publishNew"),i=$.Deferred(),n=window.user&&window.user.username,r="/publish/new/?access="+encodeURIComponent(t)+"&user_name="+encodeURIComponent(n),o={source:e},d._pineFacadeAjax("POST",r,o).done(function(e,t,n){d.clearSavedScriptsCache(),i.resolve(e)}).fail(function(e,t,n){d._anyRequestAsyncFail(i,e)}),i.promise()},d.publishNext=function(e,t){var i,n,r,o;return c.logNormal("ScriptLib.publishNext","pine"),a("Pine","ScriptLib.publishNext"),i=$.Deferred(),n=window.user&&window.user.username,r="/publish/next/"+encodeURIComponent(t)+"?user_name="+encodeURIComponent(n),o={source:e},d._pineFacadeAjax("POST",r,o).done(function(e,t,n){d.clearSavedScriptsCache(),e.success||i.reject(e.reason),i.resolve(e)}).fail(function(e,t,n){d._anyRequestAsyncFail(i,e)}),i.promise()},loginStateChange.subscribe(d,d.clearAllCaches),e.exports=d}).call(this,i("aIyQ"))},nqXy:function(e,t,i){"use strict";i.r(t),i.d(t,"MouseWheelHelper",function(){return n});var n=function(){function e(){this._totalDeltaX=0,this._totalDeltaY=0,this._prevWheelTime=0}return e.prototype.processWheel=function(e){e.timeStamp-this._prevWheelTime>100&&this._reset(),this._totalDeltaX+=e.deltaX,this._totalDeltaY+=e.deltaY,this._prevWheelTime=e.timeStamp;var t={deltaX:e.deltaX,deltaY:e.deltaY};return 0===this._totalDeltaX||0===this._totalDeltaY?t:(Math.abs(this._totalDeltaX)>=Math.abs(3*this._totalDeltaY)&&(t.deltaY=0),Math.abs(this._totalDeltaY)>=Math.abs(3*this._totalDeltaX)&&(t.deltaX=0),t)},e.prototype._reset=function(){
this._totalDeltaX=0,this._totalDeltaY=0},e}()},nvBB:function(e,t,i){"use strict";function n(e){var t=e.size,i=e.className,n=e.withIndent;return o.createElement("span",{className:a("tv-badge","tv-badge--ad","tv-badge--"+t,i,n&&"tv-badge--with-indent")},o.createElement(c.a,{className:"tv-badge__icon",icon:f[e.size]}))}function r(e,t){var i=o.createElement(n,t);s.render(i,e)}var o,s,a,l,c,u,h,d,p,f;i.r(t),i.d(t,"AdBadge",function(){return n}),i.d(t,"renderAdBadgeElement",function(){return r}),o=i("q1tI"),s=i("i8i4"),a=i("TSYQ"),l=i("Wj6+"),c=i("jjrI"),u=i("5u5W"),h=i("iq8w"),d=i("zgLM"),(p={})[l.Size.Medium]=h,p[l.Size.Large]=d,f=p},oA7e:function(e,t,i){"use strict";var n;(n=jQuery).fn.selectable=function(e){return this.each(function(){var t=n(this);t.css("user-select",e?"text":"none"),t.css("-moz-user-select",e?"text":"-moz-none"),t.css("-webkit-user-select",e?"auto":"none"),(n.browser.msie||n.browser.opera)&&t.attr("unselectable",e?"off":"on")})}},oAJy:function(e,t,i){(function(t){var i;e.exports=function e(t,n,r){function o(s,l){var c,u;if(!n[s]){if(!t[s]){if(!l&&"function"==typeof i&&i)return i(s,!0);if(a)return a(s,!0);throw(c=new Error("Cannot find module '"+s+"'")).code="MODULE_NOT_FOUND",c}u=n[s]={exports:{}},t[s][0].call(u.exports,function(e){var i=t[s][1][e];return o(i||e)},u,u.exports,e,t,n,r)}return n[s].exports}var s,a="function"==typeof i&&i;for(s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,i){"use strict";function n(){}function r(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,e!==n&&l(this,e)}function o(e,t,i){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function s(e,t,i){u(function(){var n;try{n=t(i)}catch(t){return h.reject(e,t)}n===e?h.reject(e,new TypeError("Cannot resolve promise with itself")):h.resolve(e,n)})}function a(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function l(e,t){function i(t){r||(r=!0,h.reject(e,t))}function n(t){r||(r=!0,h.resolve(e,t))}var r=!1,o=c(function(){t(n,i)});"error"===o.status&&i(o.value)}function c(e,t){var i={};try{i.value=e(t),i.status="success"}catch(e){i.status="error",i.value=e}return i}var u=e(2),h={},d=["REJECTED"],p=["FULFILLED"],f=["PENDING"];t.exports=i=r,r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var i,r;return"function"!=typeof e&&this.state===p||"function"!=typeof t&&this.state===d?this:(i=new this.constructor(n),this.state!==f?(r=this.state===p?e:t,s(i,r,this.outcome)):this.queue.push(new o(i,e,t)),i)},o.prototype.callFulfilled=function(e){h.resolve(this.promise,e)},o.prototype.otherCallFulfilled=function(e){s(this.promise,this.onFulfilled,e)},o.prototype.callRejected=function(e){h.reject(this.promise,e)},o.prototype.otherCallRejected=function(e){s(this.promise,this.onRejected,e)},h.resolve=function(e,t){var i,n,r,o=c(a,t)
;if("error"===o.status)return h.reject(e,o.value);if(i=o.value)l(e,i);else for(e.state=p,e.outcome=t,n=-1,r=e.queue.length;++n<r;)e.queue[n].callFulfilled(t);return e},h.reject=function(e,t){var i,n;for(e.state=d,e.outcome=t,i=-1,n=e.queue.length;++i<n;)e.queue[i].callRejected(t);return e},i.resolve=function(e){return e instanceof this?e:h.resolve(new this(n),e)},i.reject=function(e){var t=new this(n);return h.reject(t,e)},i.all=function(e){function t(e,t){c.resolve(e).then(function(e){o[t]=e,++s!==i||r||(r=!0,h.resolve(l,o))},function(e){r||(r=!0,h.reject(l,e))})}var i,r,o,s,a,l,c=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));if(i=e.length,r=!1,!i)return this.resolve([]);for(o=new Array(i),s=0,a=-1,l=new this(n);++a<i;)t(e[a],a);return l},i.race=function(e){var t,i,r,o,s,a=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));if(t=e.length,i=!1,!t)return this.resolve([]);for(r=-1,o=new this(n);++r<t;)s=e[r],a.resolve(s).then(function(e){i||(i=!0,h.resolve(o,e))},function(e){i||(i=!0,h.reject(o,e))});return o}},{2:2}],2:[function(e,i,n){(function(e){"use strict";function t(){var e,t,i;for(l=!0,i=c.length;i;){for(t=c,c=[],e=-1;++e<i;)t[e]();i=c.length}l=!1}var n,r,o,s,a,l,c,u=e.MutationObserver||e.WebKitMutationObserver;u?(r=0,o=new u(t),s=e.document.createTextNode(""),o.observe(s,{characterData:!0}),n=function(){s.data=r=++r%2}):e.setImmediate||void 0===e.MessageChannel?n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var i=e.document.createElement("script");i.onreadystatechange=function(){t(),i.onreadystatechange=null,i.parentNode.removeChild(i),i=null},e.document.documentElement.appendChild(i)}:function(){setTimeout(t,0)}:((a=new e.MessageChannel).port1.onmessage=t,n=function(){a.port2.postMessage(0)}),c=[],i.exports=function(e){1!==c.push(e)||l||n()}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,i,n){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(1))}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1}],4:[function(e,t,i){"use strict";function n(e,t){var i,n,r;e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(i="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,n=new i,r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}function r(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function o(e,t,i){"function"==typeof t&&e.then(t),"function"==typeof i&&e.catch(i)}function s(e){return"boolean"==typeof y?m.resolve(y):(t=e,new m(function(e){var i=n([""]);t.objectStore(g).put(i,"key"),t.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},t.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),i=navigator.userAgent.match(/Edge\//)
;e(i||!t||parseInt(t[1],10)>=43)}}).catch(function(){return!1})).then(function(e){return y=e});var t}function a(e,t){return new m(function(i,n){var r,o;if(e.db){if(!t)return i(e.db);!function(e){var t=v[e.name],i={};i.promise=new m(function(e){i.resolve=e}),t.deferredOperations.push(i),t.dbReady?t.dbReady=t.dbReady.then(function(){return i.promise}):t.dbReady=i.promise}(e),e.db.close()}r=[e.name],t&&r.push(e.version),o=$.open.apply($,r),t&&(o.onupgradeneeded=function(t){var i=o.result;try{i.createObjectStore(e.storeName),t.oldVersion<=1&&i.createObjectStore(g)}catch(i){if("ConstraintError"!==i.name)throw i;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),o.onerror=function(){n(o.error)},o.onsuccess=function(){i(o.result),function(e){var t=v[e.name],i=t.deferredOperations.pop();i&&i.resolve()}(e)}})}function l(e){var t=function(e){for(var t=e.length,i=new ArrayBuffer(t),n=new Uint8Array(i),r=0;r<t;r++)n[r]=e.charCodeAt(r);return i}(atob(e.data));return n([t],{type:e.type})}function c(e){return e&&e.__local_forage_encoded_blob}function u(e){var t=this,i=t._initReady().then(function(){var e=v[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return o(i,e,e),i}function h(e){var t,i,n,r,o,s,a,l=.75*e.length,c=e.length,u=0;for("="===e[e.length-1]&&(l--,"="===e[e.length-2]&&l--),s=new ArrayBuffer(l),a=new Uint8Array(s),t=0;t<c;t+=4)i=w.indexOf(e[t]),n=w.indexOf(e[t+1]),r=w.indexOf(e[t+2]),o=w.indexOf(e[t+3]),a[u++]=i<<2|n>>4,a[u++]=(15&n)<<4|r>>2,a[u++]=(3&r)<<6|63&o;return s}function d(e){var t,i=new Uint8Array(e),n="";for(t=0;t<i.length;t+=3)n+=w[i[t]>>2],n+=w[(3&i[t])<<4|i[t+1]>>4],n+=w[(15&i[t+1])<<2|i[t+2]>>6],n+=w[63&i[t+2]];return i.length%3==2?n=n.substring(0,n.length-1)+"=":i.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}function p(e,t){e[t]=function(){var i=arguments;return e.ready().then(function(){return e[t].apply(e,i)})}}function f(){var e,t,i;for(e=1;e<arguments.length;e++)if(t=arguments[e])for(i in t)t.hasOwnProperty(i)&&(K(t[i])?arguments[0][i]=t[i].slice():arguments[0][i]=t[i]);return arguments[0]}function _(e){for(var t in z)if(z.hasOwnProperty(t)&&z[t]===e)return!0;return!1}var m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B,N,F,j,W,U,H,z,G,Y,q,X,K,Q,Z,J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){}}();"undefined"==typeof Promise&&void 0!==e&&e(3),m=Promise,g="local-forage-detect-blob-support",b=Object.prototype.toString,S={_driver:"asyncStorage",_initStorage:function(e){function t(){return m.resolve()}var i,n,r,o,s,l,c=this,h={
db:null};if(e)for(i in e)h[i]=e[i];for(v||(v={}),(n=v[h.name])||(n={forages:[],db:null,dbReady:null,deferredOperations:[]},v[h.name]=n),n.forages.push(c),c._initReady||(c._initReady=c.ready,c.ready=u),r=[],o=0;o<n.forages.length;o++)(s=n.forages[o])!==c&&r.push(s._initReady().catch(t));return l=n.forages.slice(0),m.all(r).then(function(){return h.db=n.db,function(e){return a(e,!1)}(h)}).then(function(e){return h.db=e,function(e,t){var i,n,r,o;return!(e.db&&(i=!e.db.objectStoreNames.contains(e.storeName),n=e.version<e.db.version,r=e.version>e.db.version,n&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),!r&&!i||(i&&(o=e.db.version+1)>e.version&&(e.version=o),0)))}(h,c._defaultConfig.version)?function(e){return a(e,!0)}(h):e}).then(function(e){var t,i;for(h.db=n.db=e,c._dbInfo=h,t=0;t<l.length;t++)(i=l[t])!==c&&(i._dbInfo.db=h.db,i._dbInfo.version=h.version)})},iterate:function(e,t){var i=this,n=new m(function(t,n){i.ready().then(function(){var r=i._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),s=o.openCursor(),a=1;s.onsuccess=function(){var i,n,r=s.result;r?(c(i=r.value)&&(i=l(i)),void 0!==(n=e(i,r.key,a++))?t(n):r.continue()):t()},s.onerror=function(){n(s.error)}}).catch(n)});return r(n,t),n},getItem:function(e,t){var i,n=this;return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),r(i=new m(function(t,i){n.ready().then(function(){var r=n._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),s=o.get(e);s.onsuccess=function(){var e=s.result;void 0===e&&(e=null),c(e)&&(e=l(e)),t(e)},s.onerror=function(){i(s.error)}}).catch(i)}),t),i},setItem:function(e,t,i){var n,o=this;return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),r(n=new m(function(i,n){var r;o.ready().then(function(){return r=o._dbInfo,"[object Blob]"===b.call(t)?s(r.db).then(function(e){return e?t:(i=t,new m(function(e,t){var n=new FileReader;n.onerror=t,n.onloadend=function(t){var n=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:n,type:i.type})},n.readAsBinaryString(i)}));var i}):t}).then(function(t){var o,s=r.db.transaction(r.storeName,"readwrite"),a=s.objectStore(r.storeName);null===t&&(t=void 0),s.oncomplete=function(){void 0===t&&(t=null),i(t)},s.onabort=s.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)},o=a.put(t,e)}).catch(n)}),i),n},removeItem:function(e,t){var i,n=this;return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),r(i=new m(function(t,i){n.ready().then(function(){var r=n._dbInfo,o=r.db.transaction(r.storeName,"readwrite"),s=o.objectStore(r.storeName),a=s.delete(e);o.oncomplete=function(){t()},o.onerror=function(){i(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;i(e)}}).catch(i)}),t),i},clear:function(e){var t=this,i=new m(function(e,i){t.ready().then(function(){
var n=t._dbInfo,r=n.db.transaction(n.storeName,"readwrite"),o=r.objectStore(n.storeName),s=o.clear();r.oncomplete=function(){e()},r.onabort=r.onerror=function(){var e=s.error?s.error:s.transaction.error;i(e)}}).catch(i)});return r(i,e),i},length:function(e){var t=this,i=new m(function(e,i){t.ready().then(function(){var n=t._dbInfo,r=n.db.transaction(n.storeName,"readonly").objectStore(n.storeName),o=r.count();o.onsuccess=function(){e(o.result)},o.onerror=function(){i(o.error)}}).catch(i)});return r(i,e),i},key:function(e,t){var i=this,n=new m(function(t,n){e<0?t(null):i.ready().then(function(){var r=i._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),s=!1,a=o.openCursor();a.onsuccess=function(){var i=a.result;i?0===e?t(i.key):s?t(i.key):(s=!0,i.advance(e)):t(null)},a.onerror=function(){n(a.error)}}).catch(n)});return r(n,t),n},keys:function(e){var t=this,i=new m(function(e,i){t.ready().then(function(){var n=t._dbInfo,r=n.db.transaction(n.storeName,"readonly").objectStore(n.storeName),o=r.openCursor(),s=[];o.onsuccess=function(){var t=o.result;t?(s.push(t.key),t.continue()):e(s)},o.onerror=function(){i(o.error)}}).catch(i)});return r(i,e),i}},w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P="~~local_forage_type~",T=/^~~local_forage_type~([^~]+)~/,x=(C="__lfsc__:").length,E="blob",L="si08",A="ui08",O="uic8",M="si16",k="si32",D="ur16",R="ui32",V="fl32",B="fl64",N=x+(I="arbf").length,F=Object.prototype.toString,j={serialize:function(e,t){var i,n,r,o="";if(e&&(o=F.call(e)),e&&("[object ArrayBuffer]"===o||e.buffer&&"[object ArrayBuffer]"===F.call(e.buffer)))n=C,e instanceof ArrayBuffer?(i=e,n+=I):(i=e.buffer,"[object Int8Array]"===o?n+=L:"[object Uint8Array]"===o?n+=A:"[object Uint8ClampedArray]"===o?n+=O:"[object Int16Array]"===o?n+=M:"[object Uint16Array]"===o?n+=D:"[object Int32Array]"===o?n+=k:"[object Uint32Array]"===o?n+=R:"[object Float32Array]"===o?n+=V:"[object Float64Array]"===o?n+=B:t(new Error("Failed to get type for BinaryArray"))),t(n+d(i));else if("[object Blob]"===o)(r=new FileReader).onload=function(){var i=P+e.type+"~"+d(this.result);t(C+E+i)},r.readAsArrayBuffer(e);else try{t(JSON.stringify(e))}catch(i){console.error("Couldn't convert value into a JSON string: ",e),t(null,i)}},deserialize:function(e){var t,i,r,o,s;if(e.substring(0,x)!==C)return JSON.parse(e);switch(t=e.substring(N),(i=e.substring(x,N))===E&&T.test(t)&&(o=t.match(T),r=o[1],t=t.substring(o[0].length)),s=h(t),i){case I:return s;case E:return n([s],{type:r});case L:return new Int8Array(s);case A:return new Uint8Array(s);case O:return new Uint8ClampedArray(s);case M:return new Int16Array(s);case D:return new Uint16Array(s);case k:return new Int32Array(s);case R:return new Uint32Array(s);case V:return new Float32Array(s);case B:return new Float64Array(s);default:throw new Error("Unkown type: "+i)}},stringToBuffer:h,bufferToString:d},W={_driver:"webSQLStorage",_initStorage:function(e){var t,i,n=this,r={db:null};if(e)for(t in e)r[t]="string"!=typeof e[t]?e[t].toString():e[t]
;return i=new m(function(e,t){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(e){return t(e)}r.db.transaction(function(i){i.executeSql("CREATE TABLE IF NOT EXISTS "+r.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){n._dbInfo=r,e()},function(e,i){t(i)})})}),r.serializer=j,i},iterate:function(e,t){var i=this,n=new m(function(t,n){i.ready().then(function(){var r=i._dbInfo;r.db.transaction(function(i){i.executeSql("SELECT * FROM "+r.storeName,[],function(i,n){var o,s,a,l=n.rows,c=l.length;for(o=0;o<c;o++)if(s=l.item(o),(a=s.value)&&(a=r.serializer.deserialize(a)),void 0!==(a=e(a,s.key,o+1)))return void t(a);t()},function(e,t){n(t)})})}).catch(n)});return r(n,t),n},getItem:function(e,t){var i,n=this;return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),r(i=new m(function(t,i){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){n.executeSql("SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[e],function(e,i){var n=i.rows.length?i.rows.item(0).value:null;n&&(n=r.serializer.deserialize(n)),t(n)},function(e,t){i(t)})})}).catch(i)}),t),i},setItem:function(e,t,i){var n,o=this;return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),r(n=new m(function(i,n){o.ready().then(function(){var r,s;void 0===t&&(t=null),r=t,(s=o._dbInfo).serializer.serialize(t,function(t,o){o?n(o):s.db.transaction(function(o){o.executeSql("INSERT OR REPLACE INTO "+s.storeName+" (key, value) VALUES (?, ?)",[e,t],function(){i(r)},function(e,t){n(t)})},function(e){e.code===e.QUOTA_ERR&&n(e)})})}).catch(n)}),i),n},removeItem:function(e,t){var i,n=this;return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),r(i=new m(function(t,i){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){n.executeSql("DELETE FROM "+r.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){i(t)})})}).catch(i)}),t),i},clear:function(e){var t=this,i=new m(function(e,i){t.ready().then(function(){var n=t._dbInfo;n.db.transaction(function(t){t.executeSql("DELETE FROM "+n.storeName,[],function(){e()},function(e,t){i(t)})})}).catch(i)});return r(i,e),i},length:function(e){var t=this,i=new m(function(e,i){t.ready().then(function(){var n=t._dbInfo;n.db.transaction(function(t){t.executeSql("SELECT COUNT(key) as c FROM "+n.storeName,[],function(t,i){var n=i.rows.item(0).c;e(n)},function(e,t){i(t)})})}).catch(i)});return r(i,e),i},key:function(e,t){var i=this,n=new m(function(t,n){i.ready().then(function(){var r=i._dbInfo;r.db.transaction(function(i){i.executeSql("SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,i){var n=i.rows.length?i.rows.item(0).key:null;t(n)},function(e,t){n(t)})})}).catch(n)});return r(n,t),n},keys:function(e){var t=this,i=new m(function(e,i){t.ready().then(function(){var n=t._dbInfo;n.db.transaction(function(t){t.executeSql("SELECT key FROM "+n.storeName,[],function(t,i){var n,r=[]
;for(n=0;n<i.rows.length;n++)r.push(i.rows.item(n).key);e(r)},function(e,t){i(t)})})}).catch(i)});return r(i,e),i}},U={_driver:"localStorageWrapper",_initStorage:function(e){var t,i=this,n={};if(e)for(t in e)n[t]=e[t];return n.keyPrefix=n.name+"/",n.storeName!==i._defaultConfig.storeName&&(n.keyPrefix+=n.storeName+"/"),i._dbInfo=n,n.serializer=j,m.resolve()},iterate:function(e,t){var i=this,n=i.ready().then(function(){var t,n,r,o=i._dbInfo,s=o.keyPrefix,a=s.length,l=localStorage.length,c=1;for(t=0;t<l;t++)if(0===(n=localStorage.key(t)).indexOf(s)&&((r=localStorage.getItem(n))&&(r=o.serializer.deserialize(r)),void 0!==(r=e(r,n.substring(a),c++))))return r});return r(n,t),n},getItem:function(e,t){var i,n=this;return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),r(i=n.ready().then(function(){var t=n._dbInfo,i=localStorage.getItem(t.keyPrefix+e);return i&&(i=t.serializer.deserialize(i)),i}),t),i},setItem:function(e,t,i){var n,o=this;return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),r(n=o.ready().then(function(){void 0===t&&(t=null);var i=t;return new m(function(n,r){var s=o._dbInfo;s.serializer.serialize(t,function(t,o){if(o)r(o);else try{localStorage.setItem(s.keyPrefix+e,t),n(i)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||r(e),r(e)}})})}),i),n},removeItem:function(e,t){var i,n=this;return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),r(i=n.ready().then(function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}),t),i},clear:function(e){var t=this,i=t.ready().then(function(){var e,i,n=t._dbInfo.keyPrefix;for(e=localStorage.length-1;e>=0;e--)0===(i=localStorage.key(e)).indexOf(n)&&localStorage.removeItem(i)});return r(i,e),i},length:function(e){var t=this,i=t.keys().then(function(e){return e.length});return r(i,e),i},key:function(e,t){var i=this,n=i.ready().then(function(){var t,n=i._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(n.keyPrefix.length)),t});return r(n,t),n},keys:function(e){var t=this,i=t.ready().then(function(){var e,i=t._dbInfo,n=localStorage.length,r=[];for(e=0;e<n;e++)0===localStorage.key(e).indexOf(i.keyPrefix)&&r.push(localStorage.key(e).substring(i.keyPrefix.length));return r});return r(i,e),i}},H={},G=[(z={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"}).INDEXEDDB,z.WEBSQL,z.LOCALSTORAGE],Y=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],q={description:"",driver:G.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},(X={})[z.INDEXEDDB]=function(){try{return!!$&&!("undefined"!=typeof openDatabase&&"undefined"!=typeof navigator&&navigator.userAgent&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent))&&$&&"function"==typeof $.open&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),X[z.WEBSQL]="function"==typeof openDatabase,X[z.LOCALSTORAGE]=function(){try{
return"undefined"!=typeof localStorage&&"setItem"in localStorage&&localStorage.setItem}catch(e){return!1}}(),K=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Q=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.INDEXEDDB=z.INDEXEDDB,this.LOCALSTORAGE=z.LOCALSTORAGE,this.WEBSQL=z.WEBSQL,this._defaultConfig=f({},q),this._config=f({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":J(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e)"storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),this._config[t]=e[t];return"driver"in e&&e.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,i){var n=new m(function(t,i){var n,r,o,s,a,l,c;try{if(n=e._driver,r=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),o=new Error("Custom driver name already in use: "+e._driver),!e._driver)return void i(r);if(_(e._driver))return void i(o);for(s=Y.concat("_initStorage"),a=0;a<s.length;a++)if(!(l=s[a])||!e[l]||"function"!=typeof e[l])return void i(r);c=m.resolve(!0),"_support"in e&&(c=e._support&&"function"==typeof e._support?e._support():m.resolve(!!e._support)),c.then(function(i){X[n]=i,H[n]=e,t()},i)}catch(e){i(e)}});return o(n,t,i),n},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,i){var n=this,r=m.resolve().then(function(){if(!_(e)){if(H[e])return H[e];throw new Error("Driver not found.")}switch(e){case n.INDEXEDDB:return S;case n.LOCALSTORAGE:return U;case n.WEBSQL:return W}});return o(r,t,i),r},e.prototype.getSerializer=function(e){var t=m.resolve(j);return o(t,e),t},e.prototype.ready=function(e){var t=this,i=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return o(i,e,e),i},e.prototype.setDriver=function(e,t,i){function n(){a._config.driver=a.driver()}var r,s,a=this;return K(e)||(e=[e]),r=this._getSupportedDrivers(e),s=null!==this._driverSet?this._driverSet.catch(function(){return m.resolve()}):m.resolve(),this._driverSet=s.then(function(){var e=r[0];return a._dbInfo=null,a._ready=null,a.getDriver(e).then(function(e){a._driver=e._driver,n(),a._wrapLibraryMethodsWithReady(),a._initDriver=function(e){return function(){var t=0;return function i(){for(var r,o;t<e.length;)return r=e[t],t++,a._dbInfo=null,a._ready=null,a.getDriver(r).then(function(e){return a._extend(e),n(),a._ready=a._initStorage(a._config),a._ready}).catch(i);return n(),o=new Error("No available storage method found."),a._driverSet=m.reject(o),a._driverSet}()}}(r)})}).catch(function(){n();var e=new Error("No available storage method found.");return a._driverSet=m.reject(e),a._driverSet}),
o(this._driverSet,t,i),this._driverSet},e.prototype.supports=function(e){return!!X[e]},e.prototype._extend=function(e){f(this,e)},e.prototype._getSupportedDrivers=function(e){var t,i,n,r=[];for(t=0,i=e.length;t<i;t++)n=e[t],this.supports(n)&&r.push(n);return r},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0;e<Y.length;e++)p(this,Y[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),Z=new Q,t.exports=Z},{3:3}]},{},[4])(4)}).call(this,i("yLpj"))},oIoN:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolDisjointAngle";var o=t||n.createProperties();r.call(this,e,o),this.version=n.version,Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("pBAL").DisjointChannelPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=window.t("Disjoint Channel");inherit(n,r),n.version=1,n.prototype.pointsCount=function(){return 3},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Disjoint Channel"},n.prototype.hasEditableCoordinates=function(){return!1},n.prototype.addPoint=function(e,t){return t&&t.shift()&&2===this.points().length&&this._snapPoint45Degree(e,this.points()[this.points().length-2]),r.prototype.addPoint.call(this,e)},n.prototype.setLastPoint=function(e,t){return t&&t.shift()&&2===this.points().length&&this._snapPoint45Degree(e,this.points()[this.points().length-2]),r.prototype.setLastPoint.call(this,e)},n.prototype.setPoint=function(e,t,i){var n,o,s=.5*(this._points[1].price+this._points[2].price);i&&i.shift()&&1===e&&(n=0,this._snapPoint45Degree(t,this.points()[n])),e<3&&r.prototype.setPoint.call(this,e,t),0!==e&&2!==e&&(1===e?(o=this._points[1].price-s,this._points[2].price=this._points[1].price-2*o):3===e&&(o=t.price-this._points[2].price,this._points[0].price=this._points[1].price-o,this._points[0].index=t.index))},n.prototype.canHasAlert=function(){return!0},n.prototype._getAlertPlots=function(){var e,t,i,n,r,o,s,a,l,c=this._points[0],u=this._points[1],h=[];return c.index<=u.index?(h.push(c),h.push(u)):(h.push(u),h.push(c)),(e=this._points[2]).time=u.time,e.index=u.index,t={price:e.price+(u.price-c.price),time:c.time,index:c.index},i=[],e.index<=t.index?(i.push(e),i.push(t)):(i.push(t),i.push(e)),h[0].price>i[0].price?(n=h,r=i):i[0].price>h[0].price?(n=i,r=h):i[1].price>h[1].price?(n=i,r=h):(n=h,r=i),a=this.properties().extendLeft.value(),l=this.properties().extendRight.value(),c.index<=u.index?(o=a,s=l):(o=l,s=a),[this._linePointsToAlertPlot(n,"Upper",o,s),this._linePointsToAlertPlot(r,"Lower",o,s)]},n.prototype.getInputsPropertyPage=function(){return null},n.prototype.getStylesPropertyPage=function(){return s.LineToolDisjointChannelStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("vm8R").GeneralTrendFiguresDefinitionsViewModel}.bind(null,i)).catch(i.oe)},
n.createProperties=function(e){var t=new o("linetooldisjointangle",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolDisjointChannel=n},oNDq:function(e,t,i){"use strict";function n(e){return new Promise(function(t){Promise.all([i.e("vendors_embed"),i.e("dialogs-core"),i.e(0),i.e(1),i.e(3),i.e(5),i.e(7),i.e(8),i.e(6),i.e(160),i.e("create-dialog")]).then(function(n){var o=i("YDhE").createDialog;t(o(Object(r.__assign)(Object(r.__assign)({},a),e)))}.bind(null,i)).catch(void 0)})}var r,o,s,a;i.r(t),i.d(t,"createConfirmDialog",function(){return n}),r=i("mrSG"),i("YFKU"),o={key:13,name:"yes",text:window.t("Yes"),type:"success"},s={method:"close",name:"no",text:window.t("No"),type:"default"},a={actions:[o,s],actionsWrapTemplate:'<div class="tv-dialog__section tv-dialog__section--actions tv-dialog__section--no-border">',content:window.t("Are you sure?"),contentWrapTemplate:'<div class="tv-dialog__section tv-dialog__section--no-border"><div class="tv-text"><p></p></div></div>',destroyOnClose:!0,title:window.t("Confirmation"),width:400,dataset:{"dialog-type":"confirm-dialog"}}},oNU6:function(e,t,i){"use strict";var n,r,o,s,a,l,c;i.r(t),i.d(t,"MarketStatusIndicator",function(){return c}),n=i("mrSG"),i("YFKU"),r=i("0wn8"),o=i("r8Gw"),s={invalid:"tv-market-status--invalid",market:"tv-market-status--market",out_of_session:"tv-market-status--out-of-session",post_market:"tv-market-status--post-market",pre_market:"tv-market-status--pre-market",loading:"tv-market-status--loading",holiday:"tv-market-status--holiday",replay:"tv-market-status--replay"},a={invalid:window.t("Invalid Symbol"),market:window.t("Market Open"),out_of_session:window.t("Market Closed"),post_market:window.t("Post Market"),pre_market:window.t("Pre Market"),loading:window.t("Loading"),holiday:window.t("Holiday"),replay:""},l={classMap:s,classSuffix:"",data:{},extraTitle:"",labelMap:a,short:!1,showTooltip:!0,tooltipType:"custom"},c=function(e){function t(t){var i=e.call(this,t)||this;return i._quoteSessionPrefix="market-status-indicator",i._componentClass="tv-market-status",i._extraTitle="",i._init(t),i}return Object(n.__extends)(t,e),t.prototype.setStatus=function(e,t){var i={values:{current_session:e}};this.update(i,t)},t.prototype.getTooltipText=function(){var t=e.prototype.getTooltipText.call(this);return""===t?t:(""!==this._extraTitle&&(t=t+", "+this._extraTitle),t)},t.prototype.setExtraTitle=function(e){this._extraTitle=e},t.prototype.reset=function(){this._clearClasses(),this._labelEl.textContent="",this._extraTitle="",this._el.setAttribute("title",""),this._value=""},t.prototype.enableShortMode=function(t){void 0===t&&(t=!0),void 0!==this._labelEl&&this._labelEl.classList.add("i-hidden"),e.prototype.enableShortMode.call(this)},t.prototype.disableShortMode=function(){void 0!==this._labelEl&&this._labelEl.classList.remove("i-hidden"),e.prototype.disableShortMode.call(this)},t.prototype._renderLabel=function(){this._labelEl.textContent=this.getLabel()},t.prototype._getValueFromData=function(e){
return void 0!==e.values&&void 0!==e.values.current_session?e.values.current_session:this.getValue()},t.prototype._render=function(){this._renderLabelElement(),this._renderDotElement(),e.prototype._render.call(this)},t.prototype._init=function(t){var i=Object.assign({},l,t);e.prototype._init.call(this,i),this.setExtraTitle(i.extraTitle),this._render()},t.prototype._renderLabelElement=function(){void 0===this._labelEl&&(this._labelEl=document.createElement("span"),this._labelEl.classList.add(this._componentClass+"__label"),this._labelEl.classList.add(this._componentClass+"__label"+this._classSuffix),this._el.appendChild(this._labelEl))},t.prototype._renderDotElement=function(){void 0===this._dotEl&&(this._dotEl=document.createElement("span"),this._dotEl.classList.add(this._componentClass+"__dot"),this._dotEl.classList.add(this._componentClass+"__dot"+this._classSuffix),this._el.appendChild(this._dotEl))},t}(o.a)},"oR7+":function(e,t,i){"use strict";function n(){var e,t=Object(s.getJSON)(d,null);return null===t&&(e=Object(c.defaults)("chartproperties"))&&e.alertsProperties&&e.alertsProperties.labels&&(t=e.alertsProperties.labels),null===t&&(t=Object(a.clone)(f)),t}function r(){p&&Object(s.setJSON)(d,p.state())}function o(){return p||((p=new h.a(n())).listeners().subscribe(null,r),s.onSync.subscribe(null,function(){p.merge(n())}),p)}var s,a,l,c,u,h,d,p,f;i.r(t),i.d(t,"defaultSettings",function(){return f}),i.d(t,"saveState",function(){return r}),i.d(t,"getSettingsProperty",function(){return o}),s=i("Vdly"),a=i("ogJP"),l=i("8Uy/"),c=i("wZIs"),u=i("tc+8"),h=i.n(u),d="alertLabels",f={visible:!0,color:"rgba( 245, 124, 0, 1)",highlightColor:"rgba( 245, 124, 0, 1)",hoverColor:"rgba( 245, 124, 0, 1)",line:{visible:!0,style:l.LINESTYLE_DASHED,width:1}}},oWyD:function(e,t,i){},oXaB:function(e,t,i){"use strict";var n;i.r(t),i.d(t,"PriceAxisLastValueMode",function(){return n}),function(e){e[e.LastPriceAndPercentageValue=0]="LastPriceAndPercentageValue",e[e.LastValueAccordingToScale=1]="LastValueAccordingToScale"}(n||(n={}))},oYVD:function(e,t,i){"use strict";function n(){if(o)return o;if(!r||!window.document.body)return"indeterminate";var e=window.document.createElement("div");return e.appendChild(document.createTextNode("ABCD")),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),o="reverse",e.scrollLeft>0?o="default":(e.scrollLeft=1,0===e.scrollLeft&&(o="negative")),document.body.removeChild(e),o}var r,o;Object.defineProperty(t,"__esModule",{value:!0}),r=!("undefined"==typeof window||!window.document||!window.document.createElement),t._setScrollType=function(e){o=e},t.detectScrollType=n,t.getNormalizedScrollLeft=function(e,t){var i,r=e.scrollLeft;if("rtl"!==t)return r;if("indeterminate"===(i=n()))return Number.NaN;switch(i){case"negative":return e.scrollWidth-e.clientWidth+r;case"reverse":return e.scrollWidth-e.clientWidth-r}return r},t.setNormalizedScrollLeft=function(e,t,i){if("rtl"===i){var r=n()
;if("indeterminate"!==r)switch(r){case"negative":e.scrollLeft=e.clientWidth-e.scrollWidth+t;break;case"reverse":e.scrollLeft=e.scrollWidth-e.clientWidth-t;break;default:e.scrollLeft=t}}else e.scrollLeft=t}},odCa:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolCallout";var o=t||n.createProperties();r.call(this,e,o),this._barOffset=0,this._timeScale=e.timeScale(),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("B4Hi").CalloutPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("fgLi").DataSource,s=i("tc+8"),a=i("Ocx9").DefaultProperty,l=i("hayr").propertyPages,c=i("jTis").CalloutConsts,u=window.t("Callout");inherit(n,r),n.prototype.pointsCount=function(){return 2},n.prototype.translatedType=function(){return u},n.prototype.name=function(){return"Callout"},n.prototype.correctPoints=function(e){var t=this._currentMovingPoint.index-this._startMovingPoint.index,i=this._currentMovingPoint.price-this._startMovingPoint.price,n=e[1];n.index+=t,n.price+=i,e[1]=n},n.prototype.addPoint=function(e){var t=r.prototype.addPoint.call(this,e);return t&&this._calculateBarOffset(),t},n.prototype._calculateBarOffset=function(){this.points().length>1&&(this._barOffset=this.points()[1].index-this.points()[0].index)},n.prototype.setLastPoint=function(e){r.prototype.setLastPoint.call(this,e),2===this.points().length&&this._calculateBarOffset()},n.prototype.setPoint=function(e,t){var i,n,o,s,a;switch(e){case 0:r.prototype.setPoint.call(this,e,t),this._calculateBarOffset();break;case 1:if(!(i=this.properties()).wordWrapWidth)return;if(n=this._points,o=this._dragStartLeftEdgeIndex,s=Math.round((t.index-o)/2),isFinite(o)&&isFinite(s)){if(n[1]={index:o+s,price:n[1].price},this._calculateBarOffset(),this.normalizePoints(),a=this._timeScale.indexToCoordinate(o+2*s)-this._timeScale.indexToCoordinate(o)-c.RoundRadius-c.TextMargins,!isFinite(a))return;i.wordWrapWidth.setValue(Math.max(c.MinWidth,a));break}n[1]=t,this._calculateBarOffset(),this.normalizePoints()}},n.prototype.startDragPoint=function(e,t){var i=this.properties();1===e&&i.wordWrap&&i.wordWrap.value()&&(this._dragStartLeftEdgeIndex=2*this.points()[1].index-t.index)},n.prototype.move=function(e,t,i){r.prototype.move.call(this,e,t,i),this._calculateBarOffset()},n.prototype.state=function(e){var t=r.prototype.state.call(this,e);return t.barOffset=this._barOffset,t},n.prototype.restoreData=function(e){e.barOffset?this._barOffset=e.barOffset:this._calculateBarOffset(),this._calculatePoint2()},n.prototype.setPriceScale=function(e){o.prototype.setPriceScale.call(this,e),e&&e.priceRange()&&this._calculatePoint2()},n.prototype.template=function(){var e=r.prototype.template.call(this);return e.text=this.properties().childs().text.value(),e},n.prototype._applyTemplateImpl=function(e){r.prototype._applyTemplateImpl.call(this,e),this.properties().childs().text.setValue(e.text)},n.prototype._calculatePoint2=function(){var e,t
;this._model.lineBeingEdited()===this||this._model.sourcesBeingMoved().includes(this)||this._points.length<2||(e=this.points()[0],t=this.points()[1],this._points[1]={price:t.price,index:e.index+this._barOffset})},n.prototype.getStylesPropertyPage=function(){return l.LineToolCalloutStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("xhf0").CalloutDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new a("linetoolcallout",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e),e.hasChild("text")||e.addChild("text",new s(window.t("Text"))),e.addExclusion("text")},t.LineToolCallout=n},ogJP:function(e,t,i){(function(e){function t(e){return"number"==typeof e&&isFinite(e)}function i(e){return null!==e&&void 0!==e&&e.constructor===Function}function n(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}var r,o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=function(e){return"object"==typeof e&&null!==e},a=function(e){return s(e)&&-1!==e.constructor.toString().indexOf("function Object")};"undefined"!=typeof window?(r=window.TradingView=window.TradingView||{},window.isNumber=t,window.isFunction=i,window.inherit=n,window.isArray=o):r=this.TradingView=this.TradingView||{},r.isNaN=function(e){return!(e<=0||e>0)},r.isAbsent=function(e){return null===e||void 0===e},r.isExistent=function(e){return null!==e&&void 0!==e},Number.isNaN=Number.isNaN||function(e){return e!=e},r.isSameType=function(e,t){return Number.isNaN(e)||Number.isNaN(t)?Number.isNaN(e)===Number.isNaN(t):{}.toString.call(e)==={}.toString.call(t)},r.isInteger=function(e){return"number"==typeof e&&e%1==0},r.parseBool=function(e){return!0===e||"true"===e},r.isBoolean=function(e){return!0===e||!1===e},r.isString=function(e){return null!==e&&void 0!==e&&e.constructor===String},r.isInherited=function(e,t){if(null==e||null==e.prototype)throw new TypeError("isInherited: child should be a constructor function");if(null==t||null==t.prototype)throw new TypeError("isInherited: parent should be a constructor function");return e.prototype instanceof t||e.prototype===t.prototype},r.TypeValidator=function(e){this.m_type=e},r.TypeValidator.prototype.check=function(e){return e.constructor===this.m_type||r.isInherited(e.constructor,this.m_type)},r.PredicateValidator=function(e){this.m_predicate=e},r.PredicateValidator.prototype.check=function(e){return this.m_predicate(e)},r.clone=function(e){var t,i,n;if(!e||"object"!=typeof e)return e;for(i in t="function"==typeof e.pop?[]:{},e)e.hasOwnProperty(i)&&(n=e[i],t[i]=n&&"object"==typeof n?r.clone(n):n);return t},r.deepEquals=function(e,t,n){var s,a,l,c;if(n||(n=""),e===t)return[!0,n];if(i(e)&&(e=void 0),i(t)&&(t=void 0),void 0===e&&void 0!==t)return[!1,n];if(void 0===t&&void 0!==e)return[!1,n];if(null===e&&null!==t)return[!1,n]
;if(null===t&&null!==e)return[!1,n];if("object"!=typeof e&&"object"!=typeof t)return[e===t,n];if(Array.isArray(e)&&Array.isArray(t)){if((s=e.length)!==t.length)return[!1,n];for(a=0;a<s;a++)if(!(l=r.deepEquals(e[a],t[a],n+"["+a+"]"))[0])return l;return[!0,n]}if(o(e)||o(t))return[!1,n];if(Object.keys(e).length!==Object.keys(t).length)return[!1,n];for(c in e)if(!(l=r.deepEquals(e[c],t[c],n+"["+c+"]"))[0])return l;return[!0,n]},r.merge=function(e,t){for(var i in t)"object"==typeof t[i]&&e.hasOwnProperty(i)?r.merge(e[i],t[i]):e[i]=t[i];return e},r.mergeObj=function(e,t){for(var i in t)t[i].constructor===Object&&e.hasOwnProperty(i)?r.mergeObj(e[i],t[i]):e[i]=t[i];return e},r.mergeWithRules=function(e,t,i,n){var o,s;for(o in t)s=n?n+"."+o:o,i&&s in i?e[o]=i[s](e[o],t[o]):"object"==typeof t[o]&&e.hasOwnProperty(o)?r.merge(e[o],t[o],i,s):e[o]=t[o]},r.sortMultipleFunction=function(){var e=[].slice.call(arguments),t=e.length;return function(i,n){var r,o,s,a,l,c,u;for(u=0;u<t&&(c=0,r=i[a="string"==typeof(s=e[u])?s:s.name],o=n[a],"function"==typeof s.fn&&(r=s.fn(r),o=s.fn(o)),l=s.reverse?-1:1,r<o&&(c=-1*l),r>o&&(c=1*l),0===c);u++);return c}},e&&e.exports&&(e.exports={inherit:n,clone:r.clone,merge:r.merge,isNumber:t,isInteger:r.isInteger,isBoolean:r.isBoolean,isString:r.isString,isObject:s,isHashObject:a,isPromise:function(e){return s(e)&&e.then},isNaN:r.isNaN,isAbsent:r.isAbsent,isExistent:r.isExistent,isSameType:r.isSameType,isArray:o,parseBool:r.parseBool,parseJSONorNot:function(e){return"string"==typeof e?JSON.parse(e):e},deepEquals:r.deepEquals,notNull:function(e){return null!==e},declareClassAsPureInterface:function(e,t){for(var i in e.prototype)"function"==typeof e.prototype[i]&&e.prototype.hasOwnProperty(i)&&(e.prototype[i]=function(){throw new Error(t+"::"+i+" is an interface member declaration and must be overloaded in order to be called")})},requireFullInterfaceImplementation:function(e,t,i,n){for(var r in i.prototype)if("function"==typeof i.prototype[r]&&!e.prototype[r])throw new Error("Interface implementation assertion failed: "+t+" does not implement "+n+"::"+r+" function")}})}).call(this,i("YuTi")(e))},oiVR:function(e,t,i){e.exports={warningLink:"warningLink-30mxIKSl"}},oiZD:function(e,t,i){"use strict";function n(e){a.setValue(e)}var r,o,s,a;i.r(t),i.d(t,"watchedTheme",function(){return a}),i.d(t,"setTheme",function(){return n}),r=i("hY0g"),o=i.n(r),s=i("bMzf"),(a=new o.a).subscribe(function(e){Object(s.applyTheme)(e,window)})},okVO:function(e,t,i){"use strict";function n(e,t,i,n,r){var s,a,l,c,u,h,d,p,f=0,_=t;for(e.moveTo(_),s=0,a=Number.MAX_VALUE,l=!1,c=t,u=[];!n(f,_);){if(s>15)throw new Error("Internal error 0x10 while extrapolating.");if((h=e.indexOfBar(_))===o.a.PRE_SESSION&&1===i)_=e.startOfBar(0),e.moveTo(_);else if(h===o.a.PRE_SESSION&&-1===i)_=e.startOfBar(o.a.PRE_SESSION)-1,e.moveTo(_);else if(h===o.a.POST_SESSION&&1===i)_=e.startOfBar(o.a.POST_SESSION),e.moveTo(_);else{if(h===o.a.POST_SESSION&&-1===i)throw new Error("Internal error 0x12 while extrapolating.");if((d=e.startOfBar(h))>t&&i>0||t>d&&i<0){
if(l&&a===d)throw new Error("Internal error 0x11 while extrapolating.");l=!0,a=d,s=0,f++,c=d,r&&u.push(c)}0===h&&-1===i?_=d-1:(_=e.startOfBar(h+i))>(p=e.startOfBar(o.a.POST_SESSION))&&(e.moveTo(p),_=e.startOfBar(0))}s++}return{time:c,times:u,count:f}}var r,o,s,a;i.r(t),r=i("IiTo"),o=i("E6p6"),i.d(t,"SyncModel",function(){return a}),s=0,a=function(){function e(e,t){this._extrapolatedData=[],this._modelId=s++,this._builderCache=null,this._resolution=t,this._symbolInfo=e,this._valid=Boolean(e.timezone)&&Boolean(e.session),this._session=new r.a(e.timezone,e.session,e.holidays,e.corrections)}return e.prototype.getSymbolInfo=function(){return this._symbolInfo},e.prototype.getSession=function(){return this._session},e.prototype.getResolution=function(){return this._resolution},e.prototype.uniqueId=function(){return this._modelId},e.prototype.distance=function(e,t){var i,r,o,s,a;return this.isValid()?(o=null!==(r=0!==(i=this._extrapolatedData.length)?this._extrapolatedData[0]:null)?this._extrapolatedData[i-1]:null,1e3*e!==r&&(this._extrapolatedData=[1e3*e],r=null,o=null),(null===r||null!==o&&1e3*t>o)&&(s=function e(t,i,r,o,s){var a;return void 0===s&&(s=!1),i>r?((a=e(t,r,i,o,s)).count=-a.count,a):n(t,i,1,function(e,t){return t>r||0!==o&&e>o},s)}(this._barBuilder(),o||1e3*e,1e3*t,2e3,!0),this._extrapolatedData=this._extrapolatedData.concat(s.times),i=this._extrapolatedData.length),(o=this._extrapolatedData[i-1])<1e3*t?{success:!1}:-1===(a=this._extrapolatedData.indexOf(1e3*t))?{success:!1}:{success:!0,result:a}):{success:!1}},e.prototype.projectTime=function(e,t){var i,r,o,s,a,l,c,u;return this.isValid()?(o=null!==(r=(i=this._extrapolatedData.length)>0?this._extrapolatedData[0]:null)?this._extrapolatedData[i-1]:null,1e3*e!==r&&(this._extrapolatedData=[1e3*e],r=null,o=null),(null===r||t>=i)&&(a=this._barBuilder(),l=t-i+1,void 0===(c=!0)&&(c=!1),s=n(a,o||1e3*e,u=l<0?-1:1,function(e,t){return e>=l*u},c),this._extrapolatedData=this._extrapolatedData.concat(s.times),i=this._extrapolatedData.length),i<t?e:this._extrapolatedData[t]/1e3):e},e.prototype.isValid=function(){return this._valid},e.prototype._barBuilder=function(){return null===this._builderCache&&(this._builderCache=Object(r.b)(this._resolution,this._session,this._session)),this._builderCache},e}()},onDC:function(e,t,i){"use strict";function n(e,t){var i=new Set,n=function(t){e.children(t,!1).forEach(function(e){i.has(e)||(i.add(e),n(e))})};return t.forEach(n),t.filter(function(e){return!i.has(e)}).map(function(t){return function e(t,i){var n,r=[],o=t.children(i,!1);for(n=0;n<o.length;n++)r=r.concat(e(t,o[n]));return r.push(i),r}(e,t)}).reduce(function(e,t){return e.concat(t)},[])}function r(e,t){var i,n,r=t[0],o=e.orderedSources().filter(function(e){return e.zorder()<r.zorder()});if(0===o.length)throw new Error("Cannot move backward source that alreadt on back");return i=o[o.length-1],Object(b.isLineTool)(i)&&null!==(n=e.model().lineToolsGroupModel().groupForLineTool(i))&&(i=n.lineTools()[0]),i}function o(e,t){
var i,n,r,o=t[t.length-1],s=e.allOrderedSourcesWithoutSpecial().filter(function(e){return e.zorder()>o.zorder()});if(0===s.length)throw new Error("Cannot bring forward source that alreadt on back");return i=s[0],Object(b.isLineTool)(i)&&null!==(n=e.model().lineToolsGroupModel().groupForLineTool(i))&&(i=(r=n.lineTools())[r.length-1]),i}function s(e,t){return Object(c.ensureNotNull)(e.paneForSource(t.lineTools()[0]))}function a(e,t){return{bringForwardEnabled:e.bringForwardEnabled||t.bringForwardEnabled,bringToFrontEnabled:e.bringToFrontEnabled||t.bringToFrontEnabled,sendBackwardEnabled:e.sendBackwardEnabled||t.sendBackwardEnabled,sendToBackEnabled:e.sendToBackEnabled||t.sendToBackEnabled}}var l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B,N,F,j,W,U,H,z,G,Y,q,X,K,Q,Z,J,$,ee,te,ie,ne,re,oe,se,ae,le,ce,ue,he,de,pe,fe,_e,me,ge,ye,ve,be,Se,we,Pe,Te,Ce,xe,Ie,Ee,Le,Ae,Oe,Me,ke,De;i.r(t),l=i("mrSG"),c=i("Eyy1"),u=i("7MZv"),h=i("4O8T"),d=i.n(h),p=i("uOxu"),f=window.t("Move All Scales To Left"),_=window.t("Move All Scales To Right"),m=Object(p.getLogger)("Chart.MergeAllScales"),g=i("RDU5"),y=function(e){function t(t,i,n,r,o,s){var a=e.call(this,s)||this;return a._model=t,a._paneIndex=t.panes().indexOf(i),a._targetPosition=r,a._targetIndex=o,a._scaleId=n.id(),a._sourcePosition=i.priceScalePosition(n),"overlay"!==a._sourcePosition&&(a._sourceIndex=i.priceScaleIndex(n,a._sourcePosition)),a}return Object(l.__extends)(t,e),t.prototype.redo=function(){var e=this._model.panes()[this._paneIndex],t=Object(c.ensureNotNull)(e.getPriceScaleById(this._scaleId));e.movePriceScale(t,this._targetPosition,this._targetIndex),this._model.fullUpdate()},t.prototype.undo=function(){var e=this._model.panes()[this._paneIndex],t=Object(c.ensureNotNull)(e.getPriceScaleById(this._scaleId));e.movePriceScale(t,this._sourcePosition,this._sourceIndex),this._model.fullUpdate()},t}(g.UndoCommand),v=i("mMWL"),b=i("CW80"),S=function(e){function t(t,i,n,r){var o=e.call(this,r)||this;return o._createdIds=[],o._model=t,o._withoutShift=n,o._origStates=i.map(function(e){return e.state(!0)}),o}return Object(l.__extends)(t,e),t.prototype.redo=function(){var e=this,t=this._origStates.map(function(t,i){var n=Object(c.ensureNotNull)(e._model.dataSourceForId(t.id)),r=0===e._createdIds.length?void 0:Object(c.ensureDefined)(e._createdIds[i]),o=Object(b.cloneLineTool)(e._model,n,!e._withoutShift,r),s=Object(c.ensureNotNull)(n.priceScale()),a=Object(c.ensureNotNull)(e._model.paneForSource(n));return a.addDataSource(o,s,!1),e._model.updateSource(o),o});Object(v.drawOnAllCharts)().value()&&this._model.copyToOtherCharts(t),0===this._createdIds.length&&(this._createdIds=t.map(function(e){return e.id()}))},t.prototype.undo=function(){var e=this;this._createdIds.forEach(function(t){var i=Object(c.ensureNotNull)(e._model.dataSourceForId(t));e._model.removeSource(i)})},t.prototype.newIds=function(){return this._createdIds},t}(g.UndoCommand),w=i("wFwD"),P=i("GVHu"),i("YFKU"),i("HbRj"),T=window.t("Exclude line tools from group {group}"),C=function(e){function t(t,i,n){
var r=e.call(this,T.format({group:i.name()}))||this;return r._model=t,r._groupId=i.id,r._groupName=i.name(),r._lineToolsIds=n.map(function(e){return e.id()}),r}return Object(l.__extends)(t,e),t.prototype.redo=function(){var e=this,t=Object(c.ensureNotNull)(this._model.lineToolsGroupModel().groupForId(this._groupId)),i=this._lineToolsIds.map(function(t){return e._model.dataSourceForId(t)});t.excludeLineTools(i),0===t.lineTools().length&&this._model.lineToolsGroupModel().removeGroup(t)},t.prototype.undo=function(){var e=this,t=this._lineToolsIds.map(function(t){return e._model.dataSourceForId(t)}),i=this._model.lineToolsGroupModel().groupForId(this._groupId);null!==i?i.addLineTools(t):this._model.lineToolsGroupModel().createGroup(t,this._groupName,this._groupId)},t}(g.UndoCommand),x=Object(p.getLogger)("Chart.RemoveSourcesCommand"),I=function(e){function t(t,i,r){var o=e.call(this,r)||this;return o._excludeLineToolsUndoCommands=[],o._chartModel=t,o._sourceIds=n(t,i).map(function(e){return e.id()}),o._sourceStates=[],o._paneIndexes=[],o._priceScalePositionIds=[],o._paneStates=[],o._restorePanes=[],o}return Object(l.__extends)(t,e),t.prototype.removedIds=function(){return this._sourceIds},t.prototype.redo=function(){var e,t,i,n,r=this,o=this._sourceIds.map(function(e){return Object(c.ensureNotNull)(r._chartModel.dataSourceForId(e))});this._sourceStates=o.map(function(e){return Object(c.ensureNotNull)(e.state(!1))}),e=o.map(function(e){return Object(c.ensureNotNull)(r._chartModel.paneForSource(e))}),this._paneIndexes=e.map(function(e){return r._chartModel.panes().indexOf(e)}),t=this._chartModel.lineToolsGroupModel(),i=new Map,o.forEach(function(e){var n,r;Object(b.isLineTool)(e)&&null!==(n=t.groupForLineTool(e))&&((r=i.get(n)||[]).push(e),i.set(n,r))}),i.forEach(function(e,t){var i=new C(r._chartModel,t,e);i.redo(),r._excludeLineToolsUndoCommands.push(i)}),this._priceScalePositionIds=o.map(function(t,i){var n,r;return Object(b.isLineTool)(t)?null:(n=Object(c.ensureNotNull)(t.priceScale()),r=e[i].priceScalePosition(n),{id:n.id(),position:r,priceScaleIndex:e[i].priceScaleIndex(n,r)})}),n=new Set,o.forEach(function(e,t){Object(b.isLineTool)(e)||n.add(r._paneIndexes[t])}),this._paneStates=o.map(function(t,i){var o=r._paneIndexes[i];return n.has(o)?e[i].state():null}),this._restorePanes=o.map(function(e){return r._chartModel.removeSource(e)}),o.forEach(function(e){e instanceof P.Study&&Object(w.trackStudies)(e,"remove")})},t.prototype.undo=function(){var e,t,i=this,n=[];for(e=this._sourceStates.length-1;e>=0;e--)t=this._chartModel.restoreSource(this._restorePanes[e],this._paneIndexes[e],this._paneStates[e],this._sourceStates[e],this._priceScalePositionIds[e]),n.push(t);n.some(function(e,t){return e.id()!==i._sourceIds[n.length-t-1]})&&x.logError("Source was restored improperly - source ids does not match"),this._excludeLineToolsUndoCommands.forEach(function(e){return e.undo()})},t}(g.UndoCommand),E=i("Ltzl"),A=function(e){function t(t,i,n){return e.call(this,t,i,n)||this}return Object(l.__extends)(t,e),
t.prototype.redo=function(){var e,t,i=this,n=Object(c.ensureNotNull)(this._chartModel.dataSourceForId(this._sourceId)),r=this._chartModel.children(n,!0);r.forEach(function(e){return i._chartModel.detachSource(e)}),this._chartModel.detachSource(n),e=this._chartModel.createPane(this.targetPaneIndex()),t=e.findSuitableScale(n),e.addDataSource(n,t,!1),r.forEach(function(i){return e.addDataSource(i,t,!1)}),this._chartModel.fullUpdate()},t.prototype.undo=function(){var e,t,i,n=this,r=Object(c.ensureNotNull)(this._chartModel.dataSourceForId(this._sourceId)),o=this._chartModel.children(r,!0);o.forEach(function(e){return n._chartModel.detachSource(e)}),e=this._chartModel.detachSource(r),Object(c.assert)(e,"Undo of detaching must remove pane"),t=this._chartModel.panes()[this._initialPaneIndex],null===(i=t.getPriceScaleById(this._initialPriceScaleId))&&(i=t.createPriceScaleAtPosition(this._initialPriceScalePosition,this._initialPriceScaleIndex)),t.addDataSource(r,i,!0),o.forEach(function(e){return t.addDataSource(e,i,!1)}),this._chartModel.fullUpdate()},t}((L=i("3u3j")).a),O=function(e){function t(t,i,n){return e.call(this,t,i,n)||this}return Object(l.__extends)(t,e),t.prototype.targetPaneIndex=function(){return this._initialPaneIndex+1},t}(A),M=function(e){function t(t,i,n){return e.call(this,t,i,n)||this}return Object(l.__extends)(t,e),t.prototype.targetPaneIndex=function(){return this._initialPaneIndex},t}(A),k=function(e){function t(t,i,n){return e.call(this,t,i,n)||this}return Object(l.__extends)(t,e),t.prototype.targetPaneIndex=function(){return this._chartModel.panes().length},t}(A),D=function(e){function t(t,i,n){var r=e.call(this,t,i,n)||this;return r._restorePane=!1,r}return Object(l.__extends)(t,e),t.prototype.redo=function(){var e,t,i=this,n=this._chartModel.panes()[this._targetPaneIndex()],r=Object(c.ensureNotNull)(this._chartModel.dataSourceForId(this._sourceId)),o=this._chartModel.children(r,!0);o.forEach(function(e){return i._chartModel.detachSource(e)}),this._restorePane=this._chartModel.detachSource(r),e=n.findSuitableScale(r),n.addDataSource(r,e,!1),o.forEach(function(t){return n.addDataSource(t,e,!1)}),r===this._chartModel.mainSeries()&&(t=n.priceScalePosition(e),n.movePriceScale(e,t,0)),this._chartModel.fullUpdate()},t.prototype.undo=function(){var e,t,i,n,r=this;e=this._restorePane?this._chartModel.createPane(this._initialPaneIndex):this._chartModel.panes()[this._initialPaneIndex],t=Object(c.ensureNotNull)(this._chartModel.dataSourceForId(this._sourceId)),(i=this._chartModel.children(t,!0)).forEach(function(e){return r._chartModel.detachSource(e)}),this._chartModel.detachSource(t),null===(n=e.getPriceScaleById(this._initialPriceScaleId))&&(n=e.createPriceScaleAtPosition(this._initialPriceScalePosition,this._initialPriceScaleIndex)),e.addDataSource(t,n,!0),i.forEach(function(t){return e.addDataSource(t,n,!1)}),this._chartModel.fullUpdate()},t}(L.a),R=function(e){function t(t,i,n){return e.call(this,t,i,n)||this}return Object(l.__extends)(t,e),t.prototype._targetPaneIndex=function(){
return this._initialPaneIndex-1},t}(D),V=function(e){function t(t,i,n){return e.call(this,t,i,n)||this}return Object(l.__extends)(t,e),t.prototype._targetPaneIndex=function(){return this._initialPaneIndex+1},t}(D),B=function(e){function t(t,i,n,r){var o=e.call(this,t,i,r)||this;return o._targetPane=n,o}return Object(l.__extends)(t,e),t.prototype._targetPaneIndex=function(){return this._targetPane},t}(D),N=i("s1Gx"),F=function(e){function t(t,i,n,r){var o=e.call(this,"Create line "+n,!1)||this;return o._lineId=null,o._lineState=null,o._model=t,o._paneIndex=t.panes().indexOf(i),o._lineTool=n,o._ownerSourceId=r.id(),o}return Object(l.__extends)(t,e),t.prototype.startCreatingLine=function(e,t,i){var n=this._model.panes()[this._paneIndex],r=this._model.dataSourceForId(this._ownerSourceId),o=this._model.createLineTool(n,e,this._lineTool,t,i,r);return this._lineId=o.id(),!this._model.lineBeingCreated()},t.prototype.continueCreatingLine=function(e,t,i){return this._model.coninueCreatingLine(e,t,i)},t.prototype.line=function(){return null===this._lineId?null:this._model.dataSourceForId(this._lineId)},t.prototype.undo=function(){var e=Object(c.ensureNotNull)(this.line());this._lineState=e.state(!1),this._model.removeSource(e),this._lineId=null},t.prototype.redo=function(){var e=this._model.restoreSource(!1,this._paneIndex,null,Object(c.ensureNotNull)(this._lineState),null);this._lineId=e.id(),this._lineState=null},t}(g.UndoCommand),j=function(e){function t(t,i,n){var r=e.call(this,n)||this;return r._sourcesByPanes=new Map,r._originalState=new Map,r._model=t,i.forEach(function(e){var i=Object(c.ensureNotNull)(t.paneForSource(e)),n=t.panes().indexOf(i),o=r._sourcesByPanes.get(n)||[];o.push(e.id()),r._sourcesByPanes.set(n,o)}),Array.from(r._sourcesByPanes.keys()).forEach(function(e){var i=t.panes()[e],n=new Map;i.allOrderedSources().forEach(function(e){n.set(e.id(),e.zorder())}),r._originalState.set(e,n)}),r}return Object(l.__extends)(t,e),t.prototype.undo=function(){var e=this;this._originalState.forEach(function(t,i){var n=e._model.panes()[i],r=new Map;t.forEach(function(e,t){var i=Object(c.ensureNotNull)(n.dataSourceForId(t));r.set(i,e)}),n.setZOrders(r)})},t.prototype.redo=function(){var e=this;this._sourcesByPanes.forEach(function(t,i){var n=e._model.panes()[i],r=t.map(function(e){return Object(c.ensureNotNull)(n.dataSourceForId(e))});e._paneOperation(n,r)})},t}(g.UndoCommand),W=function(e){function t(t,i){return e.call(this,t,i,"Bring "+i[0].title()+" to front")||this}return Object(l.__extends)(t,e),t.prototype._paneOperation=function(e,t){e.bringToFront(t)},t}(j),U=function(e){function t(t,i){return e.call(this,t,i,"Send "+i[0].title()+" to back")||this}return Object(l.__extends)(t,e),t.prototype._paneOperation=function(e,t){e.sendToBack(t)},t}(j),H=function(e){function t(t,i,n,r){var o=e.call(this,t,i,r)||this;return o._targetSource=n,o}return Object(l.__extends)(t,e),t.prototype._paneOperation=function(e,t){e.insertAfter(t,this._targetSource)},t}(j),z=function(e){function t(t,i,n){
return e.call(this,t,i,n,"Insert "+i[0].title()+" after "+n.title())||this}return Object(l.__extends)(t,e),t}(H),G=function(e){function t(t,i,n,r){var o=e.call(this,t,i,r)||this;return o._targetSource=n,o}return Object(l.__extends)(t,e),t.prototype._paneOperation=function(e,t){e.insertBefore(t,this._targetSource)},t}(j),Y=function(e){function t(t,i,n){return e.call(this,t,i,n,"Insert "+i[0].title()+" before "+n.title())||this}return Object(l.__extends)(t,e),t}(G),q=function(e){function t(t,i,n){return e.call(this,t,n,r(i,n),"Send "+n[0].title()+" backward")||this}return Object(l.__extends)(t,e),t}(G),X=function(e){function t(t,i,n){return e.call(this,t,n,o(i,n),"Send "+n[0].title()+" backward")||this}return Object(l.__extends)(t,e),t}(H),K=function(e){function t(t,i){return e.call(this,t,i.lineTools(),r(s(t,i),i.lineTools()),"Send Group "+i.name()+" backward")||this}return Object(l.__extends)(t,e),t}(G),Q=function(e){function t(t,i){return e.call(this,t,i.lineTools(),o(s(t,i),i.lineTools()),"Bring Group "+i.name()+" backward")||this}return Object(l.__extends)(t,e),t}(H),Z=i("ogJP"),J=function(e){function t(t,i,n){var r=e.call(this,"Rearrange panes")||this;return r._chartModel=t,r._index=i,Object(Z.isNumber)(n)?r._dstIndex=n:r._dstIndex="up"===n?i-1:i+1,r}return Object(l.__extends)(t,e),t.prototype.redo=function(){this._checkIndices()&&this._chartModel.movePane(this._index,this._dstIndex)},t.prototype.undo=function(){this._checkIndices()&&this._chartModel.movePane(this._dstIndex,this._index)},t.prototype._checkIndices=function(){var e=this._chartModel.panes().length;return this._index>=0&&this._index<e&&this._dstIndex>=0&&this._dstIndex<e},t}(g.UndoCommand),$=i("XcdR"),ee=i("Fixu"),te=i("Ocx9"),ie=i("n5al"),ne=i("PT1i"),re=i("pPtI"),oe=function(e){function t(t,i,n,r,o,s){var a=e.call(this,r)||this;return a._prevPriceAxisProps={},a._property=t,a._mainSeries=n,a._value=i,a._model=o,a._chartWidget=s,a}return Object(l.__extends)(t,e),t.prototype.redo=function(){var e,t,i,n=this._mainSeries,r=n.properties();r.style===this._property&&n.isNeedRestart(this._value)&&this._chartWidget.screen.show(),this._prevResolution=r.interval.value(),this._prevValue=this._property.value(),this._storePriceAxisProps(),Object(te.saveDefaultProperties)(!0),e=r.interval.value(),t=this._model.defaultResolutions(),i=Object(re.getResolutionByChartStyle)(this._value,e,t),ne.linking.interval.setValue(i),n.setChartStyleWithIntervalIfNeeded(this._value,i),Object(ie.setLastUsedStyle)(this._value),Object(ie.preparePriceAxisProperties)(r),Object(te.saveDefaultProperties)(!1),this._invalidateModel()},t.prototype.undo=function(){var e=this._mainSeries,t=e.properties();t.style===this._property&&e.isNeedRestart(this._value)&&this._chartWidget.screen.show(),Object(te.saveDefaultProperties)(!0),e.setChartStyleWithIntervalIfNeeded(this._prevValue,this._prevResolution),this._restorePriceAxisProps(),ne.linking.interval.setValue(this._prevResolution),Object(te.saveDefaultProperties)(!1),this._invalidateModel()},t.prototype._storePriceAxisProps=function(){
var e=this._mainSeries.priceScale();this._prevPriceAxisProps=e.mode()},t.prototype._restorePriceAxisProps=function(){this._mainSeries.priceScale().setMode(this._prevPriceAxisProps)},t.prototype._invalidateModel=function(){this._model&&(this._model.recalculateAllPanes(),this._model.lightUpdate())},t}(g.UndoCommand),se=function(e){function t(t,i){var n=e.call(this,"Change date range")||this;return n._modelsData=[],n._rangeOptions=i,n._modelsData.push({model:t,prevResolution:t.mainSeries().properties().interval.value(),barSpacing:t.timeScale().barSpacing(),rightOffset:t.timeScale().rightOffset(),rangeOptions:t.appliedTimeFrame().state()}),n}return Object(l.__extends)(t,e),t.prototype.redo=function(){var e,t,i,n,r,o,s,a,l,c,u=[];for(e=0,t=this._modelsData;e<t.length;e++)r=(n=(i=t[e]).model.mainSeries()).properties().interval,this._rangeOptions.res!==r.value()?(u.push(r),n.setDefaultTimeframe(this._rangeOptions.val),r.setValueSilently(this._rangeOptions.res)):n.loadDataTo(this._rangeOptions.val),(o=i.model.appliedTimeFrame()).merge(this._rangeOptions);for(s=0,a=u;s<a.length;s++)(r=a[s]).listeners().fire(r);for(l=0,c=this._modelsData;l<c.length;l++)(o=(i=c[l]).model.appliedTimeFrame()).listeners().fire(o)},t.prototype.undo=function(){var e,t,i,n,r,o,s,a,l=[];for(e=0,t=this._modelsData;e<t.length;e++)n=(i=t[e]).model.mainSeries().properties().interval,(r=i.prevResolution!==n.value())&&(l.push(n),n.setValueSilently(i.prevResolution)),i.model.appliedTimeFrame().merge(i.rangeOptions),(o=i.model.timeScale()).setBarSpacing(i.barSpacing),o.setRightOffset(i.rightOffset),r||(i.model.recalculateAllPanes(),i.model.lightUpdate());for(s=0,a=l;s<a.length;s++)(n=a[s]).listeners().fire(n)},t.prototype.canMerge=function(e){return e instanceof t&&(e._rangeOptions.res===this._rangeOptions.res&&e._rangeOptions.val===this._rangeOptions.val)},t.prototype.merge=function(e){if(!(e instanceof t))throw new Error("Invalid command to merge");this._modelsData=this._modelsData.concat(e._modelsData)},t}(g.UndoCommand),ae=i("beCu"),le=i("UqOQ"),ce=function(e){function t(t,i,n){var r=e.call(this,n)||this;return r._model=t,r._groupId=i.id,r._groupName=i.name(),r._lineToolsIds=i.lineTools().map(function(e){return e.id()}),r}return Object(l.__extends)(t,e),t.prototype.redo=function(){var e=Object(c.ensureNotNull)(this._model.lineToolsGroupModel().groupForId(this._groupId));this._model.lineToolsGroupModel().removeGroup(e)},t.prototype.undo=function(){var e=this,t=this._lineToolsIds.map(function(t){return e._model.dataSourceForId(t)}),i=new le.a(t,this._groupName,this._groupId);this._model.lineToolsGroupModel().addGroup(i)},t}(g.UndoCommand),ue=window.t("Create line tools group"),he=function(e){function t(t,i){var n=e.call(this,ue)||this;return n._groupId=null,n._model=t,n._sourcesIds=i.map(function(e){return e.id()}),n}return Object(l.__extends)(t,e),t.prototype.redo=function(){var e=this,t=this._sourcesIds.map(function(t){return e._model.dataSourceForId(t)}),i=null===this._groupId?void 0:this._groupId
;this._groupId=this._model.lineToolsGroupModel().createGroup(t,this._title,i).id},t.prototype.undo=function(){var e=Object(c.ensureNotNull)(this._model.lineToolsGroupModel().groupForId(Object(c.ensureNotNull)(this._groupId)));this._model.lineToolsGroupModel().removeGroup(e)},t.prototype.createdGroupId=function(){return this._groupId},t}(g.UndoCommand),de=window.t("Add line tool(s) {lineTool} to group {group}"),pe=function(e){function t(t,i,n){var r=e.call(this,de.format({group:i.name()}))||this;return r._model=t,r._groupId=i.id,r._lineToolsIds=n.map(function(e){return e.id()}),r}return Object(l.__extends)(t,e),t.prototype.redo=function(){var e=this,t=Object(c.ensureNotNull)(this._model.lineToolsGroupModel().groupForId(this._groupId)),i=this._lineToolsIds.map(function(t){return e._model.dataSourceForId(t)});t.addLineTools(i)},t.prototype.undo=function(){var e=this,t=this._lineToolsIds.map(function(t){return e._model.dataSourceForId(t)}),i=Object(c.ensureNotNull)(this._model.lineToolsGroupModel().groupForId(this._groupId));i.excludeLineTools(t)},t}(g.UndoCommand),fe=i("bJYc"),_e=function(e){function t(t,i,n,r){var o=e.call(this,r)||this;return o._chartModel=t,o._groupId=i.id,o._oldName=i.name(),o._newName=n,o}return Object(l.__extends)(t,e),t.prototype.redo=function(){Object(c.ensureNotNull)(this._chartModel.lineToolsGroupModel().groupForId(this._groupId)).setName(this._newName)},t.prototype.undo=function(){Object(c.ensureNotNull)(this._chartModel.lineToolsGroupModel().groupForId(this._groupId)).setName(this._oldName)},t}(g.UndoCommand),me=window.t("Create line tools group from selection"),ge=window.t("Removing line tools group {name}"),ye=window.t("Add line tool {lineTool} to group {name}"),ve=window.t("Make group {group} visible"),be=window.t("Make group {group} invisible"),Se=window.t("Lock group {group}"),we=window.t("Unlock group {group}"),Pe=window.t("Rename group {group} to {newName}"),Te=function(){function e(e){this._environment=e}return e.prototype.createGroupFromSelection=function(){var e,t,i,n,r,o,s,a,l,u,h=this,d=this._environment.model();return Object(c.assert)(!d.selection().isEmpty(),"Cannot create group from empty selection"),e=Object(N.sortSources)(d.selection().sources()),Object(c.assert)(e.every(function(e){return Object(b.isLineTool)(e)}),"A group could contain line tools only"),i=t=e.reduce(function(e,t){return e.zorder()>t.zorder()?e:t},e[0]),null!==(n=d.lineToolsGroupModel().groupForLineTool(t))&&(i=(r=n.lineTools())[r.length-1]),this._environment.beginUndoMacro(me),o=new Map,s=new Set,e.forEach(function(e){var t,i,n=h._groupForLineTool(e);null!==n&&((t=o.get(n)||[]).push(e),o.set(n,t),i=Object(c.ensureNotNull)(d.paneForSource(e)),s.add(i))}),Object(c.assert)(s.size<=1,"All selected sources should be on the same pane"),o.forEach(function(e,t){var i=new C(d,t,e);h._environment.pushUndoCommand(i)}),a=new he(d,Object(N.sortSources)(e)),this._environment.pushUndoCommand(a),l=new z(d,e,i),this._environment.pushUndoCommand(l),this._environment.endUndoMacro(),
u=Object(c.ensureNotNull)(a.createdGroupId()),Object(c.ensureNotNull)(d.lineToolsGroupModel().groupForId(u))},e.prototype.removeGroup=function(e){var t,i,n=this._environment.model(),r=e.lineTools();this._environment.beginUndoMacro(ge.format({name:e.name()})),t=new ce(n,e,""),this._environment.pushUndoCommand(t),i=new I(n,r,""),this._environment.pushUndoCommand(i),r.forEach(function(e){null!==e.getLinkKey()&&Object(v.removeLineTool)({model:n,linkKey:Object(c.ensureNotNull)(e.getLinkKey())})}),this._environment.endUndoMacro()},e.prototype.groups=function(){return this._environment.model().lineToolsGroupModel().groups()},e.prototype.excludeLineToolFromGroup=function(e,t){var i=this._environment.model(),n=new C(i,e,[t]);this._environment.pushUndoCommand(n)},e.prototype.addLineToolToGroup=function(e,t){var i,n=this._environment.model(),r=n.lineToolsGroupModel().groupForLineTool(t);r!==e&&(i=ye.format({lineTool:t.title(),name:e.name()}),this._environment.beginUndoMacro(i),null!==r&&this._environment.pushUndoCommand(new C(n,r,[t])),this._environment.pushUndoCommand(new pe(n,e,[t])),this._environment.endUndoMacro())},e.prototype.bringToFront=function(e){var t=this._environment.model(),i=new W(t,e.lineTools());this._environment.pushUndoCommand(i),this._environment.emitEvent("changeZOrder",[e.lineTools()])},e.prototype.sendToBack=function(e){var t=this._environment.model(),i=new U(t,e.lineTools());this._environment.pushUndoCommand(i),this._environment.emitEvent("changeZOrder",[e.lineTools()])},e.prototype.bringForward=function(e){var t=this._environment.model(),i=new Q(t,e);this._environment.pushUndoCommand(i),this._environment.emitEvent("changeZOrder",[e.lineTools()])},e.prototype.sendBackward=function(e){var t=this._environment.model(),i=new K(t,e);this._environment.pushUndoCommand(i),this._environment.emitEvent("changeZOrder",[e.lineTools()])},e.prototype.insertAfter=function(e,t){var i,n,r,o=this._environment.model();i=t instanceof le.a?(n=t.lineTools())[n.length-1]:t,r=new z(o,e.lineTools(),i),this._environment.pushUndoCommand(r),this._environment.emitEvent("changeZOrder",[e.lineTools()])},e.prototype.insertBefore=function(e,t){var i,n,r=this._environment.model();i=t instanceof le.a?t.lineTools()[0]:t,n=new Y(r,e.lineTools(),i),this._environment.pushUndoCommand(n),this._environment.emitEvent("changeZOrder",[e.lineTools()])},e.prototype.availableZOrderOperations=function(e){var t=this._environment.model(),i=e.lineTools(),n=i[0],r=i[i.length-1],o=Object(c.ensureNotNull)(t.paneForSource(i[0])),s=o.allOrderedSourcesWithoutSpecial(),a=s[0],l=s[s.length-1];return{bringForwardEnabled:r!==l,bringToFrontEnabled:r!==l,sendBackwardEnabled:n!==a,sendToBackEnabled:n!==a}},e.prototype.setGroupVisibility=function(e,t){var i=this,n=(t?ve:be).format({group:e.name()}),r=this._environment.model();this._environment.beginUndoMacro(n),e.lineTools().forEach(function(e){var n=e.properties().visible,o=new fe.SetPropertyUndoCommand(n,t,"",r);i._environment.pushUndoCommand(o)}),this._environment.endUndoMacro()},
e.prototype.setGroupLock=function(e,t){var i=this,n=(t?Se:we).format({group:e.name()}),r=this._environment.model();this._environment.beginUndoMacro(n),e.lineTools().forEach(function(e){var n=e.properties().frozen,o=new fe.SetPropertyUndoCommand(n,t,"",r);i._environment.pushUndoCommand(o)}),this._environment.endUndoMacro()},e.prototype.setGroupName=function(e,t){var i=this._environment.model(),n=Pe.format({group:e.name(),newName:t}),r=new _e(i,e,t,n);this._environment.pushUndoCommand(r)},e.prototype.canBeGroupped=function(e){var t=this._environment.model(),i=new Set(e.map(function(e){return t.paneForSource(e)}));return i.size<=1},e.prototype._groupForLineTool=function(e){return this._environment.model().lineToolsGroupModel().groups().find(function(t){return t.containsLineTool(e)})||null},e}(),Ce=i("3ClC"),xe=!1,Ie=window.t("Apply study template {template}"),Ee=function(e){function t(t,i,n){var r=e.call(this,Ie.format({template:n}))||this;return r._model=t,r._templateContent=i,r._initialState=t.studyTemplate(),r._initialGroupsState=t.lineToolsGroupModel().state(),r}return Object(l.__extends)(t,e),t.prototype.redo=function(){var e,t=this._merge(this._templateContent),i=t.filter(b.isLineTool),n=this._model.lineToolsGroupModel();n.removeLineTools(i),this._model.mainSeries().onChartStyleChanged(),e=this._model.mainSeries().properties(),Object(ie.preparePriceAxisProperties)(e),this._model.recalcVisibleRangeStudy(this._model.dataSources(),!0)},t.prototype.undo=function(){this._merge(this._initialState),xe&&this._model.restoreLineToolsGroups(this._initialGroupsState),this._model.mainSeries().onChartStyleChanged()},t.prototype._merge=function(e){var t,i,r,o,s,a,l,u,h,d,p,f,_,m,g,y,v,S,w,P=this._model,T=P.mainSeries();for(T.priceScale().properties().lockScale.setValue(!1),e.interval&&(t=Object(ie.getChartStyleByResolution)(e.interval,T.properties().style.value()),T.setChartStyleWithIntervalIfNeeded(t,e.interval)),r=[],o=(i=P.panes()).length;o--;)for(a=(s=i[o]).containsMainSeries(),u=(l=s.dataSources()).length;u--;)h=l[u],(!a||Object(Ce.isStudy)(h)&&h.isRemovedByStudyTemplates())&&r.push(h);for(P.resetDeferredStudies(),d=n(P,r),p=0;p<d.length;++p)P.removeSource(d[p]);for(f=e.panes,o=0;o<f.length;o++){for(_=!1,m=f[o],u=0;u<m.sources.length;u++)"MainSeries"===(h=m.sources[u]).type&&(delete h.state,_=!0);if((s=_?i[o]:P.createPane(o)).restoreState(f[o],!1,e.version),_)for(y=(g=P.mainSeries()).priceScale(),l=s.orderedSources(),p=0;p<l.length;p++)h=l[p],Object(b.isLineTool)(h)&&h.ownerSource()===g&&(h.setPriceScale(y),y.addDataSource(h));for(v=Object(c.ensureNotNull)(this._model.alertsWatcher()),S=0,w=s.dataSources();S<w.length;S++)h=w[S],v.syncSourceAlertLabels(h)}return P.syncESD(),T.priceScale().setMode({autoScale:!0}),P.setVersion(e.version),P.startNotStartedStudies(),P.recalculateAllPanes(),P.fullUpdate(),d},t}(g.UndoCommand),i.d(t,"ChartUndoModelBase",function(){return De}),Le=window.t("Send {title} backward"),Ae=window.t("Bring {title} forward"),Oe=window.t("Insert {title} after {target}"),
Me=window.t("Insert {title} before {target}"),ke=window.t("Create {name} line tool"),De=function(e){function t(t){var i=e.call(this)||this;return i._createLineCommand=null,i._initialTimeScrollState=null,i._initialTimeScrollPos=null,i._currentLineMoveCommand=null,i._currentLineChangeCommand=null,i._undoHistory=t,i._lineToolsGroupController=new Te({model:i._model.bind(i),pushUndoCommand:i._pushUndoCommand.bind(i),beginUndoMacro:i._undoHistory.beginUndoMacro.bind(i._undoHistory),endUndoMacro:i._undoHistory.endUndoMacro.bind(i._undoHistory),emitEvent:i.emitEvent.bind(i)}),i}return Object(l.__extends)(t,e),t.prototype.undoHistory=function(){return this._undoHistory},t.prototype.lineToolsGroupController=function(){return this._lineToolsGroupController},t.prototype.mergeAllScales=function(e){!function(e,t){e.beginUndoMacro("left"===t?f:_),e.model().panes().forEach(function(i){var n="left"===t?i.rightPriceScales():i.leftPriceScales(),r="left"===t?i.leftPriceScales():i.rightPriceScales(),o=r.concat(n),s=i.priceScalePosition(i.defaultPriceScale()),a="overlay"===s?o[0]:i.defaultPriceScale();e.movePriceScale(i,a,t,0),o.forEach(function(t){var n,r;if(t!==a)for(n=t.mainSource();null!==n;){if(e.moveToScale(n,i,a,""),(r=t.mainSource())===n){m.logError("Loop detected while trying to merge scales");break}n=r}})}),e.endUndoMacro(),e.model().fullUpdate()}(this,e)},t.prototype.movePriceScale=function(e,t,i,n){var r=new y(this._model(),e,t,i,n,window.t("Move scale"));this._pushUndoCommand(r)},t.prototype.createLineTool=function(e,t,i,n,r,o){var s,a,l,h,d=ke.format({name:i});return"LineToolRegressionTrend"!==i||this.canCreateStudy()?(this.beginUndoMacro(d),this._createLineCommand=new F(this._model(),e,i,o||Object(c.ensureNotNull)(e.mainDataSource())),s=this._createLineCommand.startCreatingLine(t,n,r||null),a=Object(c.ensureNotNull)(this._createLineCommand.line()),l=null,s&&(this._pushUndoCommand(this._createLineCommand),this._createLineCommand=null,l={points:a.normalizedPoints(),interval:this.mainSeries().interval()}),void 0===r&&Object(v.drawOnAllCharts)().value()&&a.isSynchronizable()&&(h=Object(c.ensureNotNull)(this.model().externalTimeStamp(t.index)),Object(v.createLineTool)({point:{price:t.price,timeStamp:h},linetool:i,properties:a.properties(),symbol:this.mainSeries().symbol(),model:this.model(),linkKey:Object(c.ensureNotNull)(a.getLinkKey()),finalState:l})),this.endUndoMacro(),a):(Object(u.showTooManyStudiesNotice)(),null)},t.prototype.coninueCreatingLine=function(e,t,i){var n,r,o,s,a=Object(c.ensureNotNull)(this._createLineCommand);return this.beginUndoMacro(a.text()),n=Object(c.ensureNotNull)(this._model().lineBeingCreated()),o=null,(r=a.continueCreatingLine(e,t,i))&&(this._pushUndoCommand(a),this._createLineCommand=null,o={points:n.normalizedPoints(),interval:this.mainSeries().interval()}),Object(v.drawOnAllCharts)().value()&&n.isSynchronizable()&&(s=Object(c.ensureNotNull)(this._model().externalTimeStamp(e.index)),Object(v.continueLineTool)({point:{price:e.price,timeStamp:s},envState:t,finalState:o,model:this._model()})),
this.endUndoMacro(),r},t.prototype.continueExternalLine=function(e,t,i){var n=Object(c.ensureNotNull)(this._createLineCommand),r=n.continueCreatingLine(e,t,i);return r&&(this._pushUndoCommand(n),this._createLineCommand=null),r},t.prototype.finishLineTool=function(e){this._model().finishLineTool(e)},t.prototype.loadRange=function(e){this._pushUndoCommand(new se(this._model(),e))},t.prototype.withMacro=function(e,t){var i=this.beginUndoMacro(e);try{t()}finally{this.endUndoMacro()}return i},t.prototype.canZoomIn=function(){return this.model().canZoomIn()},t.prototype.canZoomOut=function(){return this.model().canZoomOut()},t.prototype.zoomOut=function(){var e=this,t=this.timeScale().width();if(this.canZoomOut()){try{this.beginUndoMacro("Zoom Out")}catch(e){return}Object(ae.doAnimate)({to:t/5,onStep:function(t){e.startScaleTime(0),e.scaleTimeTo(t),e.endScaleTime()},onComplete:function(){return e.endUndoMacro()}})}},t.prototype.zoomIn=function(){var e=this,t=this.timeScale().width();if(this.canZoomIn()){try{this.beginUndoMacro("Zoom In")}catch(e){return}Object(ae.doAnimate)({to:t/5,onStep:function(t){e.startScaleTime(t),e.scaleTimeTo(0),e.endScaleTime()},onComplete:function(){return e.endUndoMacro()}})}},t.prototype.startMovingSources=function(e,t,i,n){e.filter(function(e){return e.doesMovingAffectsUndo()}).length&&(this._currentLineMoveCommand=new E.SaveLineToolStateUndoCommand(this.model(),e,"Move Drawing(s)",!1)),this.model().startMovingSources(e,t,i,n)},t.prototype.moveSources=function(e,t){this.model().moveSources(e,t)},t.prototype.endMovingSource=function(e){this.model().endMovingSources(e),null!==this._currentLineMoveCommand&&(this._currentLineMoveCommand.saveNewState(),this._pushUndoCommand(this._currentLineMoveCommand)),this._currentLineMoveCommand=null},t.prototype.startChangingLinetool=function(e,t,i,n){this._currentLineChangeCommand=new E.SaveLineToolStateUndoCommand(this.model(),[e],"Change "+i+"point",!1),this.model().startChangingLinetool(e,t,i,n)},t.prototype.changeLinePoint=function(e,t){this.model().changeLinePoint(e,t)},t.prototype.endChangingLinetool=function(e){this.model().endChangingLinetool(e),null!==this._currentLineChangeCommand&&(this._currentLineChangeCommand.saveNewState(),this._pushUndoCommand(this._currentLineChangeCommand)),this._currentLineChangeCommand=null},t.prototype.setChartStyleProperty=function(e,t,i){if(e.value()!==t){var n=new oe(e,t,this.mainSeries(),i,this.model(),this.chartWidget());this._pushUndoCommand(n),this.emitEvent("setChartStyleProperty"),Object(ee.trackChartStyleChanged)(e.value())}},t.prototype.applyStudyTemplate=function(e,t){var i=new Ee(this._model(),e,t);this._pushUndoCommand(i)},t.prototype.cloneLineTools=function(e,t){var i,n;for(i=0;i<Math.min(5,e.length);++i)Object(ee.trackDrawingCloned)(e[i]);return n=new S(this._model(),e,t,window.t("Clone line tools")),this._pushUndoCommand(n),this.emitEvent("cloneLineTools"),n.newIds()},t.prototype.removeSource=function(e,t){if(this.lineBeingCreated()!==e){var i="Remove "+e.title();this.removeSources([e],t,i)
}else this.cancelCreatingLine()},t.prototype.removeSelectedSources=function(){var e,t=this._model().selection().sources();t.length&&(e=t.length>1?"Remove drawings group":"Remove "+t[0].title(),this.removeSources(t,!1,e))},t.prototype.removeSources=function(e,t,i){var n,r,o=this;e=e.filter(function(e){return e.isUserDeletable()}),n=this._model(),r=n.lineToolsGroupModel(),this.beginUndoMacro(i),n.selectionMacro(function(s){var a,l,u=new Map;e.forEach(function(e){var t,i;Object(b.isLineTool)(e)&&(null!==(t=r.groupForLineTool(e))&&((i=u.get(t)||[]).push(e),u.set(t,i)),null!==e.getLinkKey()&&Object(v.removeLineTool)({model:o.model(),linkKey:Object(c.ensureNotNull)(e.getLinkKey())}))}),u.forEach(function(e,t){var i=new C(n,t,e);o._pushUndoCommand(i)}),l=(a=new I(n,e,i)).removedIds(),o._pushUndoCommand(a),!t&&l.length>0&&(1===l.length?o.emitEvent("removeSource",[l[0]]):o.emitEvent("removeSources",[l]))}),this.endUndoMacro()},t.prototype.mergeSourceUp=function(e){var t=new R(this._model(),e,"Merge up");this._mergeUnmergeSource(e,t)},t.prototype.mergeSourceDown=function(e){var t=new V(this._model(),e,"Merge down");this._mergeUnmergeSource(e,t)},t.prototype.mergeToPane=function(e,t){var i=this._model().panes().indexOf(t),n=new B(this._model(),e,i,"Merge to pane");this._mergeUnmergeSource(e,n)},t.prototype.unmergeSourceUp=function(e){var t=new M(this._model(),e,"Unmerge up");this._mergeUnmergeSource(e,t)},t.prototype.unmergeSourceDown=function(e){var t=new O(this._model(),e,"Unmerge down");this._mergeUnmergeSource(e,t)},t.prototype.unmergeToNewBottomPane=function(e){var t=new k(this._model(),e,"Unmerge to new bottom pane");this._mergeUnmergeSource(e,t)},t.prototype.availableZOrderOperations=function(e){var t,i,n,r,o,s,l,u=this._model().lineToolsGroupModel(),h=e.filter(b.isLineTool),d=h.map(function(e){return u.groupForLineTool(e)});for(Object(c.assert)(new Set(d).size<=1,"Cannot move line tools from different group"),t=0===d.length?null:d[0],i={bringForwardEnabled:!1,bringToFrontEnabled:!1,sendBackwardEnabled:!1,sendToBackEnabled:!1},n=new Set(h),r=function(e){var r,s,l,u,h;return Object(b.isLineTool)(e)&&null!==t?(r=Object(N.sortSources)(t.lineTools().filter(function(t){return!n.has(t)||t===e})),i=a(i,{bringForwardEnabled:e!==r[r.length-1],bringToFrontEnabled:e!==r[r.length-1],sendBackwardEnabled:e!==r[0],sendToBackEnabled:e!==r[0]}),"continue"):0===(s=Object(c.ensureNotNull)(o._model().paneForSource(e)).allOrderedSourcesWithoutSpecial()).length?"continue":(l=e.zorder(),u=s[0].zorder(),h=s[s.length-1].zorder(),void(i=a(i,{bringForwardEnabled:l!==h,bringToFrontEnabled:l!==h,sendBackwardEnabled:l!==u,sendToBackEnabled:l!==u})))},o=this,s=0,l=Object(N.sortSources)(e);s<l.length;s++)r(l[s]);return i},t.prototype.sendToBack=function(e){var t,i,n,r;if(!this.availableZOrderOperations(e).sendToBackEnabled)throw new Error("Send to back operation is unavailable");t=null,i=e[0],Object(b.isLineTool)(i)&&null!==(n=this._model().lineToolsGroupModel().groupForLineTool(i))&&(r=n.lineTools(),
t=new Y(this.model(),Object(N.sortSources)(e),r[0])),null===t&&(t=new U(this.model(),Object(N.sortSources)(e))),this._pushUndoCommand(t),this.emitEvent("changeZOrder",[e])},t.prototype.bringToFront=function(e){var t,i,n,r;if(!this.availableZOrderOperations(e).bringToFrontEnabled)throw new Error("Bring to front operation is unavailable");t=null,i=e[0],Object(b.isLineTool)(i)&&null!==(n=this._model().lineToolsGroupModel().groupForLineTool(i))&&(r=n.lineTools(),t=new z(this.model(),Object(N.sortSources)(e),r[r.length-1])),null===t&&(t=new W(this.model(),Object(N.sortSources)(e))),this._pushUndoCommand(t),this.emitEvent("changeZOrder",[e])},t.prototype.sendBackward=function(e){var t,i,n=this;if(!this.availableZOrderOperations(e).sendBackwardEnabled)throw new Error("Send backward operation is unavailable");t=Le.format({title:e[0].title()}),i=function(e,t){return new q(n.model(),e,t)},this._sendBackOrBringForward(t,Object(N.sortSources)(e),i)},t.prototype.bringForward=function(e){var t,i,n=this;if(!this.availableZOrderOperations(e).bringForwardEnabled)throw new Error("Bring forward operation is unavailable");t=Ae.format({title:e[0].title()}),i=function(e,t){return new X(n.model(),e,t)},this._sendBackOrBringForward(t,Object(N.sortSources)(e),i)},t.prototype.insertAfter=function(e,t){var i,n=this;e=Object(N.sortSources)(e),i=Oe.format({title:e[0].title(),target:t.title()}),this._insertAfterOrBefore(i,e,t,function(){return new z(n.model(),e,t)})},t.prototype.insertBefore=function(e,t){var i,n=this;e=Object(N.sortSources)(e),i=Me.format({title:e[0].title(),target:t.title()}),this._insertAfterOrBefore(i,e,t,function(){return new Y(n.model(),e,t)})},t.prototype.startScrollTime=function(e){var t=this.timeScale();this._initialTimeScrollState={rightOffset:t.rightOffset(),barSpacing:t.barSpacing()},this._initialTimeScrollPos=e,this.model().startScrollTime(e)},t.prototype.scrollTimeTo=function(e){var t=!1;return null!==this._initialTimeScrollPos&&null!==this._initialTimeScrollState&&Math.abs(e-this._initialTimeScrollPos)>20&&(this._pushUndoCommand(new $.a(this.model(),this._initialTimeScrollState,"Scroll Time")),this._initialTimeScrollPos=null,this._initialTimeScrollState=null,t=!0),this.model().scrollTimeTo(e),t},t.prototype.endScrollTime=function(){this.model().endScrollTime(),this._initialTimeScrollPos=null,this._initialTimeScrollState=null},t.prototype.startScaleTime=function(e){var t=this.timeScale(),i={rightOffset:t.rightOffset(),barSpacing:t.barSpacing()};this._pushUndoCommand(new $.a(this.model(),i,"Scale Time")),this.model().startScaleTime(e)},t.prototype.scaleTimeTo=function(e){this.model().scaleTimeTo(e)},t.prototype.endScaleTime=function(){this.model().endScaleTime()},t.prototype.resetTimeScale=function(){var e=this.timeScale(),t={rightOffset:e.rightOffset(),barSpacing:e.barSpacing()};this._pushUndoCommand(new $.a(this.model(),t,"Reset Time Scale")),this.model().resetTimeScale()},t.prototype.rearrangePanes=function(e,t){var i=new J(this._model(),e,t);this._pushUndoCommand(i)},t.prototype.movePane=function(e,t){
var i=new J(this._model(),e,t);this._pushUndoCommand(i)},t.prototype._mergeUnmergeSource=function(e,t){var i,n,r=this;this.beginUndoMacro(t.text()),i=Object(c.ensureNotNull)(this._model().paneForSource(e)),n=new Set(i.orderedSources().filter(function(t){return Object(b.isLineTool)(t)&&t.ownerSource()===e})),this._model().lineToolsGroupModel().groups().filter(function(e){var t=e.lineTools().some(function(e){return n.has(e)}),i=e.lineTools().some(function(e){return!n.has(e)});return t&&i}).forEach(function(e){r._pushUndoCommand(new C(r._model(),e,e.lineTools()))}),this._pushUndoCommand(t),this.endUndoMacro()},t.prototype._insertAfterOrBefore=function(e,t,i,n){var r,o=this,s=Object(c.ensureNotNull)(this._model().paneForSource(i));if(t.some(function(e){return Object(b.isLineTool)(e)&&o._model().paneForSource(e)!==s}))throw new Error("Cannot insert line tool after target on another pane");this.beginUndoMacro(e),t.forEach(function(e){Object(c.ensureNotNull)(o.model().paneForSource(e))!==s&&o.mergeToPane(e,s)}),r=n(),this._pushUndoCommand(r),this.emitEvent("changeZOrder",[t]),this.endUndoMacro()},t.prototype._sendBackOrBringForward=function(e,t,i){var n=this,r=new Map;t.forEach(function(e){var t=Object(c.ensureNotNull)(n._model().paneForSource(e)),i=r.get(t)||[];i.push(e),r.set(t,i)}),this.beginUndoMacro(e),r.forEach(function(e,t){n._pushUndoCommand(i(t,e))}),this.endUndoMacro(),this.emitEvent("changeZOrder",[t])},t}(d.a)},opke:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path fill="currentcolor" d="m13.5 5a1 1 0 0 0 0 19 1 1 0 0 0 0-19m0 1a1 1 0 0 1 0 17 1 1 0 0 1 0-17zm2.31-.6A9.5 9.5 0 0 0 9 14.5a9.5 9.5 0 0 0 6.81 9.1l.99-.78A8.5 8.5 0 0 1 10 14.5a8.5 8.5 0 0 1 6.8-8.32"/></svg>'},oxKA:function(e,t,i){"use strict";function n(e){return void 0===e||null===e||r.enabled("bovespa_widget")?null:"QUANDL"===e.exchange?"Quandl.com":["BMFBOVESPA","BME","NAG","TSE","TFX","NZX","BCBA","TWSE","TASE","EURONEXT","TOCOM","BMV","SIX","SGX","GPW","SWB","BCS","WB","SZSE","BELEX","BAHRAIN","EGX","TADAWUL","BVL","LUXSE","DFM","BVC","NSENG","IDX","HSI","QSE","OSE"].includes(e.exchange)?"ICE Data Services":null}var r;i.r(t),i.d(t,"getDataVendorString",function(){return n}),r=i("Kxc7")},p1SQ:function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"LineToolHorzLinePriceAxisView",function(){return o}),n=i("mrSG"),r=i("KcY8"),o=function(e){function t(t){var i=e.call(this)||this;return i._source=t,i}return Object(n.__extends)(t,e),t.prototype._updateRendererData=function(e,t,i){var n,r,o,s,a,l;e.visible=!1,n=this._source.points(),r=this._source.priceScale(),0===n.length||null===r||r.isEmpty()||(o=n[0],isFinite(o.price)&&null!==(a=null!==(s=this._source.ownerSource())?s.firstValue():null)&&(l=this._source.properties().linecolor.value(),i.background=l,i.color=this.generateTextColor(l),i.coordinate=r.priceToCoordinate(o.price,a),e.text=r.formatPrice(o.price,a),e.visible=!0))},t}(r.a)},pA52:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n={id:"SymbolListRepositoryBackend"}},
pJOz:function(e,t,i){function n(){this._data=null,this._hittest=new r(r.MOVEPOINT)}var r,o,s,a,l,c,u,h,d;i("qFKp"),r=i("VdBB").HitTestResult,o=i("a7Ha").LineEnd,s=i("GEp6").distanceToSegment,a=i("Zp/P"),l=a.extendAndClipLineSegment,c=a.getArrowPoints,u=i("gAom").drawHorizontalLine,h=i("gAom").drawVerticalLine,d=i("jFln").setLineStyle,n.prototype.setData=function(e){this._data=e},n.prototype.setHitTest=function(e){this._hittest=e},n.prototype.drawArrow=function(e,t,i,n,r){var o,s;if(r=r||1,!(t.subtract(e).length()<1))for(o=c(e,t,n,!1),s=0;s<o.length;++s)e=o[s][0],t=o[s][1],CanvasEx.drawLine(i,e.x*r,e.y*r,t.x*r,t.y*r)},n.prototype.extendAndClipLineSegment=function(e,t){return l(e,t,this._data.width,this._data.height,this._data.extendleft,this._data.extendright)},n.prototype.drawCircle=function(e,t,i,n,r){n=Object.assign({fillStyle:"#000000"},n),t.save(),t.fillStyle=n.fillStyle,t.beginPath(),t.arc(e.x*r,e.y*r,i*r,0,2*Math.PI,!1),t.fill(),n.strokeWidth&&(t.lineWidth=n.strokeWidth,t.stroke()),t.restore()},n.prototype.draw=function(e,t){var i,n,r,o,s,a;null===this._data||this._data.points&&this._data.points.length<2||this._data.floatPoints&&this._data.floatPoints.length<2||(i=t.pixelRatio,e.lineCap="butt",e.strokeStyle=this._data.color,e.lineWidth=Math.max(1,Math.floor(this._data.linewidth*i)),d(e,this._data.linestyle),r=(n=this._data.floatPoints||this._data.points)[0],o=n[1],this._data.overlayLineEndings?s=[r.clone(),o.clone()]:this.drawEnds(e,[r,o],this._data.linewidth,i),null!==(a=this.extendAndClipLineSegment(r,o))&&this._data.linewidth>0&&(a[0].x===a[1].x?h(e,Math.round(a[0].x*i),a[0].y*i,a[1].y*i):a[0].y===a[1].y?u(e,Math.round(a[0].y*i),a[0].x*i,a[1].x*i):CanvasEx.drawLine(e,a[0].x*i,a[0].y*i,a[1].x*i,a[1].y*i)),this._data.overlayLineEndings&&this.drawEnds(e,s,i))},n.prototype.drawEnds=function(e,t,i,n){var r=t[0],s=t[1];switch(this._data.leftend){case o.Arrow:this.drawArrow(s,r,e,i,n);break;case o.Circle:this.drawCircle(r,e,i,this._data.endstyle,n)}switch(this._data.rightend){case o.Arrow:this.drawArrow(r,s,e,i,n);break;case o.Circle:this.drawCircle(s,e,i,this._data.endstyle,n)}},n.prototype.hitTest=function(e){var t,i,n,r,o;return null===this._data||this._data.points&&this._data.points.length<2?null:this._data.floatPoints&&this._data.floatPoints.length<2?null:(t=TradingView.isMobile.any()?24:3,n=(i=this._data.floatPoints||this._data.points)[0],r=i[1],null!==(o=this.extendAndClipLineSegment(n,r))&&s(o[0],o[1],e).distance<=t?this._hittest:null)},t.TrendLineRenderer=n},pKDv:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolABCD";var o=t||n.createProperties();r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("bFMU").ABCDPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=window.t("ABCD Pattern");inherit(n,r),n.prototype.pointsCount=function(){return 4},n.prototype.translatedType=function(){return a},n.prototype.name=function(){
return"ABCD Pattern"},n.prototype.getStylesPropertyPage=function(){return s.LineToolABCDPatternStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("y4pE").AbcdPatternDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new o("linetoolabcd",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolABCD=n},pOdx:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveByCustomer=function(e){return"seekingalpha"===e||"smartlab-custom"===e?Promise.all([i.e("vendors_embed"),i.e(2),i.e(12),i.e(14),i.e(16),i.e(24),i.e(48),i.e(49),i.e(50),i.e(65),i.e(68),i.e(72),i.e(74),i.e(85),i.e(94),i.e(95),i.e(96),i.e(107),i.e(161),i.e(11),i.e(13),i.e(22),i.e(52),i.e(51),i.e(78),i.e(103),i.e(143),i.e(209)]).then(i.bind(null,"fAc5")):"cme"===e?Promise.all([i.e("vendors_embed"),i.e(2),i.e(12),i.e(14),i.e(16),i.e(24),i.e(48),i.e(49),i.e(50),i.e(65),i.e(68),i.e(72),i.e(85),i.e(94),i.e(95),i.e(96),i.e(107),i.e(11),i.e(13),i.e(22),i.e(52),i.e(51),i.e(78),i.e(103),i.e(251)]).then(i.bind(null,"t27O")):Promise.all([i.e("vendors_embed"),i.e(2),i.e(12),i.e(14),i.e(16),i.e(24),i.e(48),i.e(49),i.e(50),i.e(65),i.e(68),i.e(72),i.e(85),i.e(94),i.e(95),i.e(96),i.e(107),i.e(11),i.e(13),i.e(22),i.e(52),i.e(51),i.e(78),i.e(103),i.e(237)]).then(i.bind(null,"UGus"))}},pP4S:function(e,t,i){"use strict";var n,r;i.r(t),i.d(t,"ResponseMethods",function(){return n}),i.d(t,"ErrorReasons",function(){return r}),function(e){e.error="replay_error",e.point="replay_point",e.ok="replay_ok",e.resolutions="replay_resolutions",e.endOfData="replay_data_end",e.instanceId="replay_instance_id"}(n||(n={})),function(e){e.tooSmallDelay="too_small_delay",e.alreadyInAutoplay="already_in_autoplay",e.nothingToStop="nothing_to_stop",e.pointTooDeep="point_too_deep",e.alreadyInSession="already_in_session",e.thereIsNoSuchSeries="no_series",e.notAllowedInAutoplay="not_allow_in_autoplay",e.invalidResolution="invalid_resolution"}(r||(r={}))},pPtI:function(e,t,i){"use strict";function n(e){return C.Interval.parse(e).value()}function r(e){var t,i,r;return!!C.Interval.isRange(e)||(t=n(e),r=!1,r=void 0===(i=E.linking.supportedResolutions.value())||-1!==i.map(n).indexOf(t),E.linking.intraday.value()?r:C.Interval.isDWM(e)&&r)}function o(e){C.Interval.isValid(e)&&(C.Interval.isRange(e)?I.setValue("chart.lastUsedRangeResolution",e):I.setValue("chart.lastUsedTimeBasedResolution",e))}function s(e){var t,i,n,r,o,s,a=I.getValue("chart.lastUsedRangeResolution");if(void 0!==a&&C.Interval.isRange(a))return a;for(t="100R",i=0,n=e;i<n.length;i++)if(r=n[i],(o=C.Interval.parse(r)).isRange()){if("100R"===(s=o.value()))return s;t=s}return t}function a(e){var t,i,n,r,o,s,a=I.getValue("chart.lastUsedTimeBasedResolution");if(void 0!==a&&C.Interval.isTimeBased(a))return a;for(t="1D",i=0,n=e;i<n.length;i++)if(r=n[i],(o=C.Interval.parse(r)).isTimeBased()){
if("1D"===(s=o.value()))return s;t=s}return t}function l(e){return e?"100R":"1D"}function c(e,t,i){var n=x.isRangeStyle(e),r=C.Interval.isRange(t);return!n&&r?a(i):n&&!r?s(i):t}function u(e){return C.Interval.isRange(e)?"1":e}function h(e){var t=C.Interval.parse(e),i=d(t.kind()),n=t.multiplier();return t.isValid()&&n<=i}function d(e){var t=R[e];return Number.isNaN(t)?1:t}function p(e){return d(C.Interval.kind(e))}function f(e){var t=_(I.getJSON(e,[]));return A()(t.filter(h).map(n))}function _(e){return Array.isArray(e)?e:Object.keys(e).map(C.Interval.normalize).filter(O.notNull)}function m(){var e,t,i,r=[];for(t=0;t<arguments.length;t++)r[t]=arguments[t];return i=(e=[]).concat.apply(e,r),g(i=A()(i.filter(h).map(n)))}function g(e){return e.sort(v)}function y(e){var t=C.Interval.parse(e),i=t.multiplier()||1;return t.isMinuteHours()?[C.SpecialResolutionKind.Hours,i/60]:[t.kind(),i]}function v(e,t){var i=y(e),n=i[0],r=i[1],o=y(t),s=o[0],a=o[1];return n!==s?V[n]-V[s]:r-a}function b(){var e=[];return window.user.is_pro&&(e=f("IntervalWidget.intervals")),e}function S(e){var t=w(e);return""+t.multiplier+t.shortKind}function w(e,t){var i=C.Interval.parse(e),n=i.multiplier(),r=i.kind();if(!i.isValid()){if(t)return null;throw new TypeError("Can't translate invalid interval")}return i.isMinuteHours()&&(n=Math.floor(n/60),r=C.SpecialResolutionKind.Hours),{multiplier:n.toString(),shortKind:P(r),hint:n+" "+P(r,n),mayOmitMultiplier:i.isDWM()&&1===n,mayOmitShortKind:i.isMinutes()&&!i.isMinuteHours()}}function P(e,t){if(!t)return B[e];switch(e){case C.ResolutionKind.Days:return window.t("day",{plural:"days",count:t});case C.ResolutionKind.Weeks:return window.t("week",{plural:"weeks",count:t});case C.ResolutionKind.Months:return window.t("month",{plural:"months",count:t});case C.ResolutionKind.Seconds:return window.t("second",{plural:"seconds",count:t});case C.ResolutionKind.Minutes:return window.t("minute",{plural:"minutes",count:t});case C.SpecialResolutionKind.Hours:return window.t("hour",{plural:"hours",count:t});case C.ResolutionKind.Range:return window.t("range",{plural:"ranges",count:t});default:return e}}var T,C,x,I,E,L,A,O,M,k,D,R,V,B;i.r(t),i.d(t,"normalizeIntervalString",function(){return n}),i.d(t,"isAvailable",function(){return r}),i.d(t,"setLastUsedResolution",function(){return o}),i.d(t,"getRangeResolution",function(){return s}),i.d(t,"getTimeBasedResolution",function(){return a}),i.d(t,"getDefaultResolution",function(){return l}),i.d(t,"getResolutionByChartStyle",function(){return c}),i.d(t,"getServerInterval",function(){return u}),i.d(t,"isResolutionMultiplierValid",function(){return h}),i.d(t,"getMaxResolutionValue",function(){return p}),i.d(t,"getResolutionsFromSettings",function(){return f}),i.d(t,"convertResolutionsFromSettings",function(){return _}),i.d(t,"mergeResolutions",function(){return m}),i.d(t,"sortResolutions",function(){return g}),i.d(t,"getCustomResolutions",function(){return b}),i.d(t,"getTranslatedResolution",function(){return S}),i.d(t,"getTranslatedResolutionModel",function(){return w}),T=i("bSeV"),
i("YFKU"),C=i("LxhU"),x=i("n5al"),I=i("Vdly"),E=i("PT1i"),L=i("IVMC"),A=i.n(L),O=i("ogJP"),(M={})[C.ResolutionKind.Seconds]=60,M[C.ResolutionKind.Minutes]=1440,M[C.SpecialResolutionKind.Hours]=24,M[C.ResolutionKind.Days]=365,M[C.ResolutionKind.Weeks]=52,M[C.ResolutionKind.Months]=12,M[C.ResolutionKind.Range]=1e3,M[C.ResolutionKind.Invalid]=NaN,R=M,(k={})[C.ResolutionKind.Seconds]=1,k[C.ResolutionKind.Minutes]=2,k[C.SpecialResolutionKind.Hours]=3,k[C.ResolutionKind.Days]=4,k[C.ResolutionKind.Weeks]=5,k[C.ResolutionKind.Months]=6,k[C.ResolutionKind.Range]=7,k[C.ResolutionKind.Invalid]=8,V=k,(D={})[C.ResolutionKind.Invalid]="",D[C.ResolutionKind.Seconds]=window.t("s",{context:"interval_short"}),D[C.ResolutionKind.Minutes]=window.t("m",{context:"interval_short"}),D[C.SpecialResolutionKind.Hours]=window.t("h",{context:"interval_short"}),D[C.ResolutionKind.Days]=window.t("D",{context:"interval_short"}),D[C.ResolutionKind.Weeks]=window.t("W",{context:"interval_short"}),D[C.ResolutionKind.Months]=window.t("M",{context:"interval_short"}),D[C.ResolutionKind.Range]=window.t("R",{context:"interval_short"}),B=D},pfXf:function(e,t,i){"use strict";i("UgcK"),function(e){function t(e){e.stop(!0),e.css("background-color",""),e.removeData(a),e.removeData(l)}function i(i){var r=i.data(a);r&&(!0!==r?--r?(n(i),i.data(a,r)):function(i){var n=i.data(l).complete;t(i),n&&e.isFunction(n)&&n()}(i):n(i))}function n(e){var t=e.css("background-color"),n=e.data(l),r=n.highlightColor||c,o=n.duration||u,s=n.easing||h;e.animate({"background-color":r},o,s).animate({"background-color":t},o,s,i.bind(e,e))}var r,o,s,a,l,c,u,h,d=!1,p=document.body||document.documentElement,f="animation",_="Webkit Moz O ms Khtml".split(" "),m="";if(void 0!==p.style.animationName&&(d=!0),!1===d)for(r=0;r<_.length;r++)if(void 0!==p.style[_[r]+"AnimationName"]){m=_[r],f=m+"Animation","-"+m.toLowerCase()+"-",d=!0;break}o=["webkit","moz","MS","o",""],a=(s="flicker-")+"enable",l=s+"options",c="#fbf8e9",u=400,h="swing",e.fn.highlight=function(i,r){switch(i){default:return i=void 0===i||i,this.each(function(){var t;d?(i=!0===i?"infinite":i,function(e,t,i){for(var n=0;n<o.length;n++)o[n]||(t=t.toLowerCase()),e.addEventListener(o[n]+t,i,!1)}(this,"AnimationEnd",function(){this.style[f]=""}),document.getElementsByTagName("html")[0].classList.contains("theme-dark")?this.style[f]="highlight-animation-theme-dark 0.4s ease-in-out "+i+" alternate":this.style[f]="highlight-animation 0.4s ease-in-out "+i+" alternate"):((t=e(this)).data(a,i),t.data(l,e.extend({},r||{})),t.is(":animated")||n(t))});case!1:return this.each(function(){d?this.style[f]="":t(e(this))})}}}(jQuery)},poeh:function(e,t,i){"use strict";e.exports.pushChartPage=function(e){Promise.all([i.e("dialogs-core"),i.e(0),i.e(1),i.e(7),i.e(6),i.e("history-manager")]).then(function(t){var n=i("L5wN"),r=new n.ChartPage(e);TradingView.historyManager.push(r)}.bind(null,i)).catch(i.oe)}},pvsv:function(e,t,i){"use strict";function n(e,t){
Promise.all([i.e(4),i.e(21),i.e(27),i.e(265),i.e(17),i.e("symbol-info-dialog-impl")]).then(function(n){i("1Z/g").showSymbolInfoDialog(e,t)}.bind(null,i)).catch(void 0)}i.r(t),i.d(t,"showSymbolInfoDialog",function(){return n})},q1tI:function(e,t,i){"use strict";e.exports=i("viRO")},qE4g:function(e,t,i){"use strict";function n(e){e.addCustomSource("branding",function(t){return new r.Branding(t,function(t){var i,n=e.getAll();return 1===n.length||(i=n[0].model())&&i.model()===t}.bind(null,t))})}var r;i.r(t),i.d(t,"addBrandingSource",function(){return n}),r=i("GK7n")},qJq3:function(e,t,i){"use strict";(function(e,n,r,o){function s(t,r,o){var a,_,m,g=i("OK+B");l.call(this,t),this._dataEvents=new be,this._quotesProvider=new we,this._quotesProvider.quotesUpdate().subscribe(this,this._onQuotesUpdate),this._boxSizeChanged=new e,this._tagsChanged=new e,this._symbolIntervalChanged=new e,this._intervalChanged=new e,this._extendedHoursChanged=new e,this.chartWidgetInitialized=new e,this._onStyleChanged=new e,this._onStatusChanged=new e,this._onRestarted=new e,this.requestingIntradayWhenNotSupported=new e,this.requestingResolutionWhenNotSupported=new e,this._priceScaleChanged=new e,this._onInReplayStateChanged=new e,this._replayExitedDueUnsupportedInterval=new e,this._replayExitedDueUnavailableForUserInterval=new e,this._requestOptions=o||{count:TradingView.DEFAULT_BAR_COUNT},this.m_model=t,this._chartApi=t._chartApi,this.m_data=new X,this.setProperties(r),this._prevChartStyle=r.style.value(),this.createPaneView(),this._dataWindowView=new p(this,t),this._legendView=new f(this,t),this._statusView=new c(this,this._model.properties().scalesProperties.textColor,this.properties().statusViewStyle),a=new d(this,{model:t}),this._priceLinePriceAxisView=new fe(this),_=new h(this,{model:t}),this._priceAxisViews=[new u(this,t),a,_],this._panePriceAxisView=new q(a,this,t),this._projectionPriceAxisView=new q(_,this,t),this._symbolInfo=null,this._status=s.STATUS_OFFLINE,this._syncModel=null,this._replaySubscriber=null,this._isReplayResolutionAvailableForUser=null,m=this,this._turnaroundCounter=1,this._turnaround="s"+this._turnaroundCounter,this._handler=function(e){m.onData(e)},this._haStyle={studyId:ce.chartStyleStudyId(s.STYLE_HEIKEN_ASHI,!0)},this._renkoStyle={studyId:ce.chartStyleStudyId(s.STYLE_RENKO,!0)},this._pbStyle={studyId:ce.chartStyleStudyId(s.STYLE_PB,!0)},this._kagiStyle={studyId:ce.chartStyleStudyId(s.STYLE_KAGI,!0)},this._pnfStyle={studyId:ce.chartStyleStudyId(s.STYLE_PNF,!0)},this._rangeStyle={studyId:ce.chartStyleStudyId(s.STYLE_RANGE,!0)},this._properties.addExclusion&&this._properties.addExclusion("visible"),this._predictBars=0,this._futureBarsPaneView=null,this._properties.showInDataWindow.listeners().subscribe(t,g.prototype.fullUpdate),this.marketStatus=new n,this._loading=!0,this._seriesLoaded=!1,this.properties().minTick.listeners().subscribe(this,s.prototype._recreateFormatter),m=this,this.properties().minTick.listeners().subscribe(null,function(){m.m_model.fullUpdate()}),this._prevClosePriceLineView=new ve(this),
this._priceLineView=null,this._baseHorizontalLineView=new ge(this),this._gotoDateResultCleared=!1,this._gotoDateView=null,this.bindStyleChange(),this.bindJapChartsInputs(),this._createIsDWMProperty(),this.createExtendedHoursProperty(),this.extendedHours.listeners().subscribe(this,function(e){this._extendedHoursChanged.fire(e),this.restart()}),this._dataEvents.extendedHoursNotPermitted().subscribe(this,function(){this._properties.extendedHours.setValue(!1)}),this.createDividendsAdjustmentProperty(),this.dividendsAdjustment.listeners().subscribe(this,function(){this.restart()}),this._dataPoweredBy=null,this._symbolIntervalChanged.subscribe(this,this.checkInterval),this.properties().showCountdown.listeners().subscribe(this,s.prototype._onChangeShowCountdown),this._onChangeShowCountdown(this.properties().showCountdown),this._recreatePriceFormattingDependencies(),this._isDWMCached=null,this.properties().lineStyle.priceSource.listeners().subscribe(this,this._updateBarFunction),this.properties().areaStyle.priceSource.listeners().subscribe(this,this._updateBarFunction),this.properties().baselineStyle.priceSource.listeners().subscribe(this,this._updateBarFunction),this._updateBarFunction(),this._marketStatusModel=new Ee(this._quotesProvider,this._properties.symbol.listeners()),this._dataUpdatedModeModel=Oe?new Le({getter:this.symbolInfo.bind(this),onChange:this._dataEvents.symbolResolved()},{getter:this.status.bind(this),onChange:this._onStatusChanged},this._properties.symbol.listeners()):null,this._dataProblemModel=new Ae(this._quotesProvider,this._properties.symbol.listeners())}var a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B,N,F,j,W,U,H,z,G,Y,q,X,K,Q,Z,J,$,ee,te,ie,ne,re,oe,se,ae,le,ce,ue,he,de,pe,fe,_e,me,ge,ye,ve,be,Se,we,Pe,Te,Ce,xe,Ie,Ee,Le,Ae,Oe;TradingView.DEFAULT_BAR_COUNT=300,TradingView.TIME_PLOT=0,TradingView.OPEN_PLOT=1,TradingView.HIGH_PLOT=2,TradingView.LOW_PLOT=3,TradingView.CLOSE_PLOT=4,TradingView.ADT_PLOT=6,TradingView.STYLE_PLOT=7,a=i("Eyy1").ensureNotNull,l=i("lUQk").SeriesBase,c=i("tBG4").SeriesStatusView,u=i("kYV3").PrevCloseSeriesPriceAxisView,h=i("Ke3L").ProjectionSeriesPriceAxisView,d=i("TQMj").SeriesPriceAxisView,p=i("cXAR").SeriesDataWindowView,f=i("gWck").SeriesLegendView,_=i("x0JF"),m=_.SeriesAreaPaneView,g=_.SeriesLinePaneView,y=_.SeriesHollowCandlesPaneView,v=_.SeriesCandlesPaneView,b=_.SeriesBarsPaneView,S=_.SeriesHeikenAshiPaneView,w=_.SeriesBaselinePaneView,P=i("9Jkk").SeriesHiLoPaneView,T=i("biIa").SeriesWaterlinePaneView,C=i("Kxc7"),x=i("hayr").propertyPages,I=i("22O2"),E=I.SeriesRenkoPaneView,L=I.SeriesProjectionRenkoPaneView,A=I.SeriesPriceBreakPaneView,O=I.SeriesProjectionPriceBreakPaneView,M=I.SeriesKagiPaneView,k=I.SeriesProjectionKagiPaneView,D=I.SeriesPnFPaneView,R=I.SeriesProjectionPnFPaneView,V=I.SeriesProjectionRangePaneView,B=i("xlbu").telemetry,N=!1,F=i("YJLw"),j=i("oxKA").getDataVendorString,W=i("OKab").FormattersSerializer,U=i("wHzE").FutureBarsPaneView,H=i("e2wt").getSeriesDangerReason,z=i("+GxX").isFeatureEnabled,G=i("ZJKN").BarsRange,
Y=i("38az").SeriesBarColorer,q=i("KtbP").PanePriceAxisView,X=i("XPit").SeriesData,K=i("XPit").barFunction,Q=i("XPit").seriesPlotFunctionMap,Z=i("k9/m"),J=Z.PlotList,$=Z.PlotRowSearchMode,ee=Z.mergeMinMax,te=i("hsV8").unpackNonSeriesData,ie=i("okVO").SyncModel,ne=i("PC8g").trackEvent,re=i("IzGk").translatedIntervalString,oe=i("uOxu"),se=oe.getLogger("Chart.Series"),ae=oe.getLogger("Chart.Series.Updates",{highRate:!0}),le=i("dfhE"),ce=i("n5al"),ue=i("pPtI"),he=ue.getServerInterval,de=ue.getResolutionByChartStyle,pe=i("LxhU").Interval,fe=i("TmNs").SeriesPriceLineAxisView,_e=i("WkOR").areEqualSymbols,me=i("WkOR").includesEqualSymbol,ge=i("z+Sa").SeriesHorizontalBaseLinePaneView,ye=i("Z8aO").SeriesPriceLinePaneView,ve=i("/Kki").SeriesPrevClosePriceLinePaneView,be=i("ZAbA").SeriesDataEvents,Se=i("FIi8").deepExtend,we=i("wOSo").QuotesProvider,Pe=i("5fI3").encodeExtendedSymbol,Te=i("FQhm"),Ce=i("qFKp").CheckMobile.any()&&!0,xe=!C.enabled("hide_series_legend_item"),Ie=Number(window.TELEMETRY_SERVER_TIME_DIFF_THRESHOLD)||3e3,Ee=i("aKms").MarketStatusModel,Le=i("2S76").DataUpdatedModeModel,Ae=i("DsEq").DataProblemModel,Oe=C.enabled("display_data_mode"),inherit(s,l),s.prototype.isLoading=function(){return this._loading},s.prototype.isSymbolInvalid=function(){return this._status===s.STATUS_INVALID_SYMBOL},s.prototype.styleStudyInfos=function(){return{haStyle:this._haStyle,renkoStyle:this._renkoStyle,pbStyle:this._pbStyle,kagiStyle:this._kagiStyle,pnfStyle:this._pnfStyle,rangeStyle:this._rangeStyle}},s.prototype.styleStudyInfo=function(e){return this.styleStudyInfos()[e]},s.prototype.priceLineColor=function(e){return this.properties().priceLineColor.value()||e},s.prototype.endOfData=function(){return this._endOfData},s.prototype.serverTimeOffset=function(){return this._chartApi.serverTimeOffset()},s.prototype._onChangeShowCountdown=function(e){var t=this;e.value()?this._countdownUpdateTimer=this.m_model.setInterval(function(){t._priceAxisViews[0].update(),t.m_model.updateSource(t)},500):(this.m_model.clearInterval(this._countdownUpdateTimer),delete this._countdownUpdateTimer)},s.prototype.lastValueData=function(e,t,i){var n,r,o,s,a,l,c,u,h,d={noData:!0};if(this.m_model.timeScale().isEmpty()||this.priceScale().isEmpty()||this.data().isEmpty())return d;if(null===(n=this.m_model.timeScale().visibleBarsStrictRange()))return d;if(t){if(null===(s=this.data().bars().last()))return d;r=s.value,o=s.index}else{if(null===(a=this.data().bars().search(n.lastBar(),$.NearestLeft)))return d;r=this.data().bars().valueAt(a.index),o=a.index}return l={noData:!1},c=void 0!==e?r[e]:this._barFunction(r),i&&(l.price=c),u=this.firstValue(),l.text=this.priceScale().formatPrice(c,u),l.formattedPriceAbsolute=this.priceScale().formatPriceAbsolute(c),l.formattedPricePercentage=this.priceScale().formatPricePercentage(c,u),h=this.barColorer().barStyle(o,!1),l.color=h.barColor,l.floatCoordinate=this.priceScale().priceToCoordinate(c,u),l.coordinate=l.floatCoordinate,l.index=o,l},s.prototype.prevClose=function(){var e,t
;return this.priceScale().isEmpty()||this.data().isEmpty()||!this.quotes()?null:null==(e=this.quotes().prev_close_price)?null:(t=this.firstValue(),{coordinate:this.priceScale().priceToCoordinate(e,t),floatCoordinate:this.priceScale().priceToCoordinate(e,t),text:this.priceScale().formatPrice(e,t)})},s.prototype.quotes=function(){return this.data().isEmpty()?null:this._quotesProvider.quotes()},s.prototype._createIsDWMProperty=function(){this._isDWMProperty=new r(this.isDWM()),this._onRestarted.subscribe(this,function(){this._isDWMProperty.setValue(this.isDWM())})},s.prototype.isDWMProperty=function(){return this._isDWMProperty},s.prototype._prepareChartApiParams=function(){return this._requestOptions.startDate?!this._requestOptions.startDate||this._requestOptions.endDate||this._requestOptions.count?this._requestOptions.startDate&&this._requestOptions.endDate?["from_to",this._requestOptions.startDate,this._requestOptions.endDate]:["from_to",this._requestOptions.startDate,this._requestOptions.count]:["from_to",this._requestOptions.startDate]:this._requestOptions.count||TradingView.DEFAULT_BAR_COUNT},s.prototype._nextSymbolId=1,s.prototype._nextSeriesId=1,Object.assign(s,le),s.PERMISSION_DENIED="permission denied",s.PD_REASON_SYMBOL="symbol",s.PD_REASON_EXTENDED_HOURS="extended_hours",s.PD_REASON_GROUP_PERMISSION="group",s.STUDY_NOT_AUTH="study_not_auth",s.prototype.model=function(){return this.m_model},s.prototype.fixLastBar=function(e){this._futureBarsPaneView||(this._futureBarsPaneView=new U(this,this.data().bars().lastIndex(),e))},s.prototype.clearData=function(){this.data().clear()},s.prototype.data=function(){return this.m_data},s.prototype.symbolId=function(){return this._symbolId},s.prototype.seriesId=function(){return this._seriesId},s.prototype.isPulse=function(){return this._symbolInfo&&this._symbolInfo.resolutions.length>0},s.prototype.onTagsChanged=function(){return this._tagsChanged},s.prototype.onSymbolIntervalChanged=function(){return this._symbolIntervalChanged},s.prototype.onIntervalChanged=function(){return this._intervalChanged},s.prototype.onStatusChanged=function(){return this._onStatusChanged},s.prototype.onStyleChanged=function(){return this._onStyleChanged},s.prototype.onRestarted=function(){return this._onRestarted},s.prototype.onBoxSizeChanged=function(){return this._boxSizeChanged},s.prototype.status=function(){return this._status},s.prototype.isDWM=function(){var e,t;return null!==this._isDWMCached?this._isDWMCached:((e=pe.parse(this._properties.interval.value())).isDWM()?this._isDWMCached=!0:(t=e.isSeconds()?e.multiplier():60*e.multiplier(),this._isDWMCached=!(t<216e3)),this._isDWMCached)},s.prototype.lastPriceLabelFixedCoordinate=function(){return this._priceAxisViews[0]._fixedCoordinate},s.prototype.createPaneView=function(){this._paneView=null,this._projectionBarsPaneView=null,this._waterlineView=null,this._priceLineView=this.hasClosePrice()?new ye(this):null;var e=this._properties.style.value();switch(e){case s.STYLE_BARS:this._paneView=new b(this,this.m_model);break;case s.STYLE_CANDLES:
this._paneView=new v(this,this.m_model);break;case s.STYLE_LINE:this._paneView=new g(this,this.m_model);break;case s.STYLE_AREA:this._paneView=new m(this,this.m_model);break;case s.STYLE_RENKO:this._paneView=new E(this,this.m_model),this._projectionBarsPaneView=new L(this,this.m_model);break;case s.STYLE_PB:this._paneView=new A(this,this.m_model),this._projectionBarsPaneView=new O(this,this.m_model);break;case s.STYLE_KAGI:this._paneView=new M(this,this.m_model),this._projectionBarsPaneView=new k(this,this.m_model);break;case s.STYLE_PNF:this._paneView=new D(this,this.m_model),this._projectionBarsPaneView=new R(this,this.m_model);break;case s.STYLE_RANGE:this._paneView=new b(this,this.m_model),this._projectionBarsPaneView=new V(this,this.m_model);break;case s.STYLE_HEIKEN_ASHI:this._paneView=new S(this,this.m_model);break;case s.STYLE_HOLLOW_CANDLES:this._paneView=new y(this,this.m_model);break;case s.STYLE_BASELINE:this._paneView=new w(this,this.m_model),this._waterlineView=new T(this);break;case s.STYLE_HILO:this._paneView=new P(this,this.m_model);break;default:throw Error("Unknown chart style assigned: "+e)}},s.prototype._clearStylePlot=function(e,t){var i,n;0!==e.size()&&(i=t||a(e.firstIndex()),n=a(e.lastIndex())+1,e.range(i,n).each(function(e,t){t[TradingView.STYLE_PLOT]=null}))},s.prototype.invalidateBarStylesCache=function(e){se.logDebug("Invalidate style cache starting from "+e),this._clearStylePlot(this.m_data.m_bars,e),this._clearStylePlot(this.m_data.m_nsBars)},s.prototype.invalidateBarColorerCache=function(){delete this._barColorerCache,this.invalidateBarStylesCache()},s.prototype.barColorer=function(){var e,t,i,n;if(this._barColorerCache)return this._barColorerCache;for(e=null,t=this.m_model.dataSources().length-1;t>=0;t--)(i=this.m_model.dataSources()[t]).metaInfo&&TradingView.isInherited(i.constructor,TradingView.Study)&&i.hasBarColorer()&&i.properties().visible.value()&&(n=i.barColorer(),null===e?e=n:e.pushBackBarColorer(n));return null===e?e=new Y(this):e.pushBackBarColorer(new Y(this)),this._barColorerCache=e,this._barColorerCache},s.prototype.properties=function(){return this._properties},s.prototype._barsState=function(e){var t=e.state();return t.data.forEach(function(e){e.value.splice(7,1)}),t},s.prototype.state=function(e){var t=this===this.m_model.mainSeries()?"MainSeries":TradingView.className(this.constructor),i={type:t,id:this.id(),state:this.properties().state(),zorder:this.zorder(),haStyle:this._haStyle,renkoStyle:this._renkoStyle,pbStyle:this._pbStyle,kagiStyle:this._kagiStyle,pnfStyle:this._pnfStyle,rangeStyle:this._rangeStyle};return this._symbolInfo&&this._symbolInfo.ticker&&(i.state.symbol=this._symbolInfo.ticker),e&&(i.bars=this._barsState(this.m_data.m_bars),i.nsBars=this._barsState(this.m_data.m_nsBars),i.symbolInfo=this._symbolInfo,i.rtPrice=this.data().lastProjectionPrice),i.boxSize=this.data().boxSize,i.reversalAmount=this.data().reversalAmount,i},s.prototype.restoreState=function(e,t){t&&this._setStatus(s.STATUS_SNAPSHOT),this._properties.mergeAndFire(e.state),
this._prevChartStyle=this.properties().style.value(),this.createPaneView(),t&&this.restoreData(e.bars,e.nsBars,e.symbolInfo,e.rtPrice,e.boxSize,e.reversalAmount)},s.prototype.hasStateForAlert=function(){return!!C.enabled("alerts")},s.prototype.stateForAlert=function(){var e,t,i,n,r;return e=this===this.m_model.mainSeries()?"MainSeries":TradingView.className(this.constructor),t=this.idForAlert(),i=(i=this.formatter())?W.serialize(i):null,n={id:t,uniqueId:t,type:e,proSymbol:this.proSymbol(),actualSymbol:this.actualSymbol(),symbolString:this.getSymbolString(),interval:this.interval(),style:this.properties().style.value(),styleInputs:this.getInputsProperties().state(),extendedHours:this._isExtendedHoursAllowed()&&this.extendedHours.value(),dividendsAdjustment:this.properties().dividendsAdjustment.value(),boxSize:this.data().boxSize,reversalAmount:this.data().reversalAmount,isSpread:this.isSpread(),formatter:i},(r=H(this))&&(n.dangerReason=r),n},s.prototype.idForAlert=function(){return F(this.getSymbolString()+pe.normalize(this.interval())).toString()},s.prototype.restoreData=function(e,t,i,n,r,o){this._status=s.STATUS_SNAPSHOT,this.m_data.m_bars.restoreState(e),this.m_data.m_nsBars.restoreState(t),this.updateSymbolInfo(i),this.m_data.lastProjectionPrice=n,this.m_data.boxSize=r,r||(this.properties().style.value()===s.STYLE_PNF?this.m_data.boxSize=this.properties().pnfStyle.inputs.boxSize.value():this.properties().style.value()===s.STYLE_RENKO&&(this.m_data.boxSize=this.properties().renkoStyle.inputs.boxSize.value())),this.m_data.reversalAmount=o,o||this.properties().style.value()===s.STYLE_KAGI&&(this.m_data.reversalAmount=this.properties().kagiStyle.inputs.reversalAmount.value()),this._loading=!1},s.prototype.setProperties=function(e){e.timeframe||e.merge({timeframe:""}),e.shortName||e.merge({shortName:""}),this._properties=e,this._properties.symbol.listeners().subscribe(this,s.prototype.changeSymbol),this._properties.interval.listeners().subscribe(this,s.prototype.changeInterval),this._properties.timeframe.listeners().subscribe(this,s.prototype.changeTimeFrame),this._properties.listeners().subscribe(this,s.prototype.changeProperties)},s.prototype.changeSymbol=function(){this.setSymbolIntervalDelayed(),this.m_model.checkLineToolSelection()},s.prototype.changeInterval=function(){this.setSymbolIntervalDelayed()},s.prototype.changeTimeFrame=function(){ne("GUI","Change timeframe")},s.prototype.title=function(){return this.properties().symbol.value()+", "+re(this.properties().interval.value())},s.prototype.changeProperties=function(e){e!==this._properties.symbol&&e!==this._properties.interval&&e!==this._properties.timeframe&&(this._tagsChanged.fire(),this.createPaneView(),this.updateAllViews(),this.m_model.updateSource(this),Te.emit("series_properties_changed",this._id))},s.prototype._makeNextSymbolId=function(){return"symbol_"+this._nextSymbolId++},s.prototype._makeNextSeriesId=function(){return"s"+this._nextSeriesId++},s.prototype.onData=function(e){var t,n,r,o,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,x,I=this;switch(e.method){
case"symbol_resolved":if(e.params[0]!==this._symbolId){se.logNormal("command for old symbol. Expected:"+this._symbolId+", actual"+e.params[0]);break}this.updateSymbolInfo(e.params[1]),this.m_model.updateSource(this),this._dataEvents.fireSymbolResolved(this._symbolInfo),this.m_model.realignLineTools(),TradingView.onWidget()||(ne("Symbol",e.params[1].listed_exchange,e.params[1].name),ne("Symbol Type",e.params[1].type,e.params[1].listed_exchange)),t=this.symbolInfo().minmov/this.symbolInfo().pricescale,(n=this.properties()).style.value()===s.STYLE_RENKO&&n.renkoStyle.inputs.boxSize.value()<t?n.renkoStyle.inputs.merge({boxSize:t}):n.style.value()===s.STYLE_PNF&&n.pnfStyle.inputs.boxSize.value()<t?n.pnfStyle.inputs.merge({boxSize:t}):n.style.value()===s.STYLE_KAGI&&n.kagiStyle.inputs.reversalAmount.value()<t&&n.kagiStyle.inputs.merge({reversalAmount:t});break;case"symbol_error":if(e.params[0]!==this._symbolId){se.logNormal("command for old symbol. Expected:"+this._symbolId+", actual"+e.params[0]);break}if(this._setStatus(s.STATUS_INVALID_SYMBOL),this._loading=!1,this._properties.shortName.setValue(this._properties.symbol.value()),this.m_model.clearAllStudies(),this.updateAllViews(),this.m_model.updateSource(this),(r=e.params[1])===s.PERMISSION_DENIED)switch(e.params[2]){case s.PD_REASON_EXTENDED_HOURS:this._dataEvents.fireExtendedHoursNotPermitted();break;case s.PD_REASON_SYMBOL:this._dataEvents.fireSymbolNotPermitted(e.params[3]);break;case s.PD_REASON_GROUP_PERMISSION:this._dataEvents.fireSymbolGroupNotPermitted(e.params[3]);break;default:this._dataEvents.fireSymbolNotPermitted(e.params[2])}else this.m_model.resetTimeScale(),this._dataEvents.fireSymbolError(e);this.m_model.realignLineTools(),this._sendTelemetryCounter("symbol_error",this._getTelemetryAdditionalData(r,!1));break;case"series_timeframe":if(e.params[1]!==this._turnaround)break;o=e.params[2],l=e.params[3],c=e.params[4],u=this.m_model.timeScale(),h=l,void 0===c?h+=u.defaultRightOffsetProperty().value():c.applyDefaultRightMargin?h+=u.defaultRightOffsetProperty().value():c.percentRightMargin&&(d=l-o+1,h+=(p=Math.max(0,Math.min(.99,c.percentRightMargin/100)))*d/(1-p)),this.m_model.setTimeViewport(o,h);break;case"series_error":r=e.params[2],this._loading=!1,delete this._loadingStartTime,C.enabled("charting_library_debug_mode")&&se.logNormal("Error reason: "+r),this._setStatus(C.enabled("no_bars_status")&&this._symbolInfo?s.STATUS_NO_BARS:s.STATUS_INVALID_SYMBOL),"string"==typeof r&&(r.startsWith("study_not_auth:")?(f=r.split(":",2)[1].split("@",2)[0])in{BarSetRenko:!0,BarSetPriceBreak:!0,BarSetKagi:!0,BarSetPnF:!0}?this._dataEvents.fireChartTypeNotPermitted(f):"BarSetSpread"===f?this._dataEvents.fireIntradaySpreadNotPermitted():"BarSetRange"===f&&this._dataEvents.fireCustomIntervalNotPermitted():"resolution_not_entitled"===r?this._dataEvents.fireIntradayExchangeNotPermitted():"custom_resolution"===r?this._dataEvents.fireCustomIntervalNotPermitted():"seconds_not_entitled"===r&&z("seconds_bars")&&this._dataEvents.fireSecondsIntervalNotPermitted()),
this._seriesLoaded=!0,this._sendTelemetryCounter("series_error",this._getTelemetryAdditionalData(r)),this._dataEvents.fireSeriesError(e);break;case"series_loading":if(e.params[1]!==this._turnaround)break;if(e.params[0]!==this._seriesId){se.logNormal("command for old series. Expected:"+this._seriesId+", actual"+e.params.customId);break}this._loading=!0,this._setStatus(s.STATUS_LOADING),I._loadingStartTime=(new Date).getTime();break;case"series_completed":if(e.params[2]!==this._turnaround)break;if(e.params[0]!==this._seriesId){se.logNormal("command for old series. Expected:"+this._seriesId+", actual"+e.params.customId);break}if(this._setSymbolIntervalDelay){if(this._willSymbolIntervalChanged())return void se.logNormal("command comes during symbol/interval changing");se.logNormal("series_completed comes when symbol interval delay present but symbol/interval should not be changed")}switch(_="chartSession:"+I._chartApi._sessionid,m=(new Date).getTime()-this._loadingStartTime,se.logDebug(_+", Series loading took "+m+" ms, eod:"+this._endOfData),(g=e.params[e.params.length-1])&&(v=(y=Math.round(1e3*(g-this.serverTimeOffset()))-this._loadingStartTime)>0&&m-y>=Ie,this._sendTelemetryTiming("series_server_time_frame",v?y:m,this._getTelemetryAdditionalData())),this._sendTelemetryCounter("series_loaded",this._getTelemetryAdditionalData()),this._sendTelemetryTiming("series_time_frame",m,this._getTelemetryAdditionalData()),this._loading=!1,delete this._loadingStartTime,"pulsed"===(b=e.params[1])&&(b="delayed"),b){case"streaming":this._setStatus(s.STATUS_READY);break;case"endofday":this._setStatus(s.STATUS_EOD);break;case"delayed":this._setStatus(s.STATUS_DELAYED);break;case"pulsed":this._setStatus(s.STATUS_PULSE);break;case"replay":this._setStatus(s.STATUS_REPLAY)}b.match(/delayed_streaming/)&&this._setStatus(s.STATUS_DELAYED_STREAMING),(S=this.m_model.paneForSource(this)).recalculatePriceScale(this.priceScale()),this.m_model.fullUpdate(),this.m_data.size()&&this._dataEvents.fireTickMarksRangeChanged({start:a(this.data().first()).value[TradingView.TIME_PLOT],end:a(this.data().last()).value[TradingView.TIME_PLOT]}),this.model().recalcVisibleRangeStudy(this.model().dataSources(),!0),this.model().recalcStudyBasedLineTools(),!this.m_priceScale.isLockScale()||this.model().timeScale().isEmpty()||this._seriesLoaded||(this.model().timeScale()._correctOffset(),this.model().timeScale().correctBarSpacing(),this.model().resetPriceScale(S,this.priceScale())),this._seriesLoaded=!0,this._dataEvents.fireCompleted(),N||(N=!0,window.performance&&window.performance.timing&&(0,i("j6W2").trackTiming)("Chart","Time to series",Date.now()-window.performance.timing.requestStart)),this.requestMoreData();break;case"series_deleted":break;case"data_update":if(e.params.customId!==this._seriesId){se.logNormal("command for old series. Expected:"+this._seriesId+", actual"+e.params.customId);break}if(e.params.turnaround!==this._turnaround){se.logNormal("command for old series turnaround. Expected:"+this._turnaround+", actual"+e.params.turnaround);break}
if(this._setSymbolIntervalDelay){if(this._willSymbolIntervalChanged())return void se.logNormal("command comes during symbol/interval changing");se.logNormal("data_update comes when symbol interval delay present but symbol/interval should not be changed")}if(this.status()===s.STATUS_INVALID_SYMBOL)break;e.params.plots.length?(w=this.m_data.bars().size(),P=this.m_data.bars().firstIndex(),T=this.m_data.bars().merge(e.params.plots),(null===P||T.index<P)&&(this._endOfData=!1),x="Merge bars. earliestRow:"+T.index+"} ",x+="bars state:{firstBar:"+a(this.m_data.bars().firstIndex())+",lastBar:"+a(this.m_data.bars().lastIndex())+",size:"+this.m_data.bars().size()+"}",ae.logDebug(x),w!==this.bars().size()&&(this._dataEvents.fireBarReceived(T),this.model().recalcVisibleRangeStudy(this.model().dataSources(),!0))):this.m_data.clear(),e.params.lastBar?this._lastBarCloseTime=e.params.lastBar.closeTime||null:this._lastBarCloseTime=null,new Promise(function(t){var i=I.properties().style.value();e.params.nonseries&&"nochange"!==e.params.nonseries.indexes&&ce.isRangeBasedStyle(i)?I.parseJapProjBars(e.params.nonseries).then(function(e){I.m_data.m_nsBars=e.nsBars,I.m_data.lastProjectionPrice=e.lastPrice;var i=I.m_data.boxSize!==e.boxSize;I.m_data.boxSize=e.boxSize,I.m_data.reversalAmount=e.reversalAmount,i&&I._boxSizeChanged.fire(I.m_data.boxSize),t()}):(e.params.nonseries||(I.m_data.m_nsBars.clear(),I.m_data.lastProjectionPrice=void 0),t(),t())}).then(function(){I._statusView.invalidate();var e=I.m_model.paneForSource(I);I.m_model.updateAllVolumeStudies(),I.m_model.recalculatePane(e),I.m_model.updateSource(I),I.m_model.updateLineTools(),I.m_model.updateCrossHair()})}this._dataEvents.fireMessageReceived(e)},s.prototype.parseJapProjBars=function(e){var t,i,n,r=new J(Q()),o=this.model().timeScale(),a=this.properties().style.value();return new Promise(function(l){e.d&&""!==e.d?te(e.d).then(function(c){var u,h,d,p,f=c.data;for(t=f.price,i=f.boxSize,n=f.reversalAmount,u=f.bars,h=0;u&&h<u.length;h++)d=[],p=e.indexes[u[h].time],d.push(o.points().valueAt(p)),d.push(u[h].open),d.push(u[h].high),d.push(u[h].low),d.push(u[h].close),d.push(u[h].volume),a===s.STYLE_KAGI?d.push(u[h].additionalPrice):a===s.STYLE_PNF&&d.push(u[h].factor),r.add(p,d);l({nsBars:r,lastPrice:t,boxSize:i,reversalAmount:n})}):l({nsBars:r,lastPrice:t,boxSize:i,reversalAmount:n})})},s.prototype.disconnect=function(){this._seriesId&&this._chartApi.removeSeries(this._seriesId),this._symbolId=null,this._seriesId=null,this._predictBars=0,this._status=s.STATUS_OFFLINE},s.prototype.isStarted=function(){return!!this._symbolId},s.prototype.restart=function(){var e,t;this._status!==s.STATUS_SNAPSHOT&&(e=i("OK+B"),this._loading=!0,this._onRestarted.fire(),this._setStatus(s.STATUS_RESOLVING),this.m_data=new X,this.updateSymbolInfo(null),this._prevSymbolId=this._symbolId,this._symbolId=this._makeNextSymbolId(),t=this._properties.interval.value(),this._pendingTimeRange&&(t=this._generateTimeframe(t,this._pendingTimeRange),delete this._pendingTimeRange),this._removeReplaySubscriber(),
this._onBeforeModifySeries(this.getSymbolString(),t),t=he(t),this._chartApi.resolveSymbol(this._symbolId,this._getResolvingSymbolString(),this._handler),this._seriesId?(this._turnaround="s"+ ++this._turnaroundCounter,this._chartApi.modifySeries(this._seriesId,this._turnaround,this._symbolId,t,this._handler,this._prevSymbolId)):(this._seriesId=this._makeNextSeriesId(),!1===this._chartApi.createSeries(this._seriesId,this._turnaround,this._symbolId,t,this._prepareChartApiParams(),this._handler)&&(this._seriesId=void 0)),this._properties.showInDataWindow.listeners().subscribe(this.m_model,e.prototype.fullUpdate),this.m_symbol=this._properties.symbol.value(),this.m_interval=this._properties.interval.value())},s.prototype._generateTimeframe=function(e,t){var i=t.slice(-1),n=e;return"ytd"===t?n+=",YTD":"d"===i?(n+=","+t.slice(0,-1),C.enabled("daily_timeframe_suffix")&&(n+="D")):"m"===i?n+=","+t.slice(0,-1)+"M":"all"===t&&(n+=",ALL"),n},s.prototype.hasDelayedSymbolIntervalChange=function(){return!!this._setSymbolIntervalDelay},s.prototype.setSymbolIntervalDelayed=function(){this._isDWMCached=null,this._willSymbolIntervalChanged()&&(this._setSymbolIntervalDelay&&(se.logNormal("Clear timeout to change symbol/interval #"+this._setSymbolIntervalDelay),clearTimeout(this._setSymbolIntervalDelay)),this._setSymbolIntervalDelay=setTimeout(function(){se.logNormal("Timeout #"+this._setSymbolIntervalDelay+' fired, new symbol will be "'+this._properties.symbol.value()+'"'),delete this._setSymbolIntervalDelay,this._setSymbolInterval(this._properties.symbol.value(),this._properties.interval.value())}.bind(this),30),se.logNormal("Started timeout #"+this._setSymbolIntervalDelay+' to change symbol/interval from "'+this.m_symbol+'" to "'+this._properties.symbol.value()+'"'))},s.prototype._willSymbolIntervalChanged=function(){var e=this._checkIntervalWillChanged(this._parseInterval(this._properties.interval.value()).interval),t=this._checkSymbolWillChanged(this._properties.symbol.value());return t||e},s.prototype._checkSymbolWillChanged=function(e){return!this.symbolSameAsCurrent(e)||C.enabled("same_data_requery")},s.prototype._checkIntervalWillChanged=function(e){return this.m_interval!==e||C.enabled("same_data_requery")},s.prototype._parseInterval=function(e){var t=(e+"").split(",");return{interval:2===t.length?t[0]:e,timeframe:2===t.length?t[1]:0}},s.prototype.rerequestData=function(){this._setSymbolInterval(this.m_symbol,this.m_interval,!0)},s.prototype._setSymbolInterval=function(e,t,i){var n,r,o,a,l,c,u,h;this._loading=!0,this.clearGotoDateResult(),(n=pe.isRange(t))&&this._properties.rangeStyle.inputs.range.setValue(pe.parse(t).multiplier()),o=(r=this._parseInterval(t)).interval,a=r.timeframe,l=this._checkSymbolWillChanged(e),c=this._checkIntervalWillChanged(o),(l||c||i)&&((n||pe.isRange(this.m_interval))&&(this._symbolId=null),this._syncModel=null,this.m_symbol=e,this.m_interval=o,this.m_timeframe=a,this._symbolId&&!l||this.updateSymbolInfo(null),this.isInReplay()&&(u=function(){this._removeReplaySubscriber(),this._symbolId=null
}.bind(this),l?u():c&&(this._isReplayResolutionAvailableForUser(o)?this.isIntervalSupported(o)||(u(),this._replayExitedDueUnsupportedInterval.fire()):(u(),this._replayExitedDueUnavailableForUserInterval.fire()))),this.m_model.realignLineTools(),this._status!==s.STATUS_SNAPSHOT&&(this._setStatus(s.STATUS_RESOLVING),this._symbolIntervalChanged.fire(),c&&(h={timeframe:this._pendingTimeRange},this._intervalChanged.fire(this.m_interval,h),this._pendingTimeRange=h.timeframe&&h.timeframe.toLowerCase()),this._onRestarted.fire(),this._seriesLoaded=!1,this._chartApi&&this._chartApi.connected()&&(this._symbolId&&!l||(this._prevSymbolId=this._symbolId,this._symbolId=this._makeNextSymbolId(),this._chartApi.resolveSymbol(this._symbolId,this._getResolvingSymbolString(),this._handler)),this._seriesId?(this._onBeforeModifySeries(this.getSymbolString(),t),this._pendingTimeRange&&(t=this._generateTimeframe(t,this._pendingTimeRange),delete this._pendingTimeRange),this._turnaround="s"+ ++this._turnaroundCounter,this._predictBars=0,t=he(t),this._chartApi.modifySeries(this._seriesId,this._turnaround,this._symbolId,t,this._handler,this._prevSymbolId)):(this._onBeforeModifySeries(this.getSymbolString(),t),this._seriesId=this._makeNextSeriesId(),t=he(t),this._chartApi.createSeries(this._seriesId,this._turnaround,this._symbolId,t,this._prepareChartApiParams(),this._handler)))))},s.prototype.setDefaultTimeframe=function(e){this._pendingTimeRange=e},s.prototype.actualSymbol=function(){return this.symbolInfo()?this.symbolInfo().full_name:this.symbol()},s.prototype.proSymbol=function(){return this.symbolInfo()?this.symbolInfo().pro_name:this.symbol()},s.prototype.symbol=function(){return this.properties().symbol.value()},s.prototype.interval=function(){return this.properties().interval.value()},s.prototype.bars=function(){return this.m_data.m_bars},s.prototype.nsBars=function(){return this.m_data.m_nsBars},s.prototype.open=function(e){return this.m_data.valueAt(e)[TradingView.OPEN_PLOT]},s.prototype.high=function(e){return this.m_data.valueAt(e)[TradingView.HIGH_PLOT]},s.prototype.low=function(e){return this.m_data.valueAt(e)[TradingView.LOW_PLOT]},s.prototype.close=function(e){return this.m_data.valueAt(e)[TradingView.CLOSE_PLOT]},s.prototype.hl2=function(e){return(this.high(e)+this.low(e))/2},s.prototype.hlc3=function(e){return(this.high(e)+this.low(e)+this.close(e))/3},s.prototype.ohlc4=function(e){return(this.open(e)+this.high(e)+this.low(e)+this.close(e))/4},s.prototype.priceRange=function(e,t){var i,n,r,s,a,l,c,u;return TradingView.isInteger(e)?TradingView.isInteger(t)?this.data().isEmpty()?null:this.m_priceScale.isLockScale()&&null!==(i=this._model.mainSeriesScaleRatio())?(n=this.priceScale().internalHeight()/(this.model().timeScale().barSpacing()/i),s=((r=this.data().search(t,$.NearestLeft)).value[TradingView.HIGH_PLOT]+r.value[TradingView.LOW_PLOT])/2,new o(s-.5*n,s+.5*n)):(null!==(a=this.priceSource())?(l=this.data().bars().minMaxOnRangeCached(e,t,[{name:a,offset:0}]),c=this.data().nsBars().minMaxOnRangeCached(e,t,[{name:a,offset:0
}])):(l=this.data().bars().minMaxOnRangeCached(e,t,[{name:"low",offset:0},{name:"high",offset:0}]),c=this.data().nsBars().minMaxOnRange(e,t,[{name:"low",offset:0},{name:"high",offset:0}])),u=null!==(l=ee(l,c))?l.min===l.max?new o(l.min-.5,l.max+.5):new o(l.min,l.max):new o(-.5,.5),this.priceScale().isLog()?new o(this.priceScale().priceToLogical(u.minValue()),this.priceScale().priceToLogical(u.maxValue())):u):(se.logDebug("Series.priceRange: incorrect endBar"),null):(se.logDebug("Series.priceRange: incorrect startBar"),null)},s.prototype.nearestData=function(e,t){if(TradingView.isInteger(e)){var i=this.data().search(e,t);return null!==i?i:void 0}se.logDebug("Series.nearestData: incorrect logicalPoint")},s.prototype.nearestIndex=function(e,t){var i=this.nearestData(e,t);return i?i.index:void 0},s.prototype.paneViews=function(){if(!this.properties().visible.value())return null;var e=[this._baseHorizontalLineView,this._paneView];return this._futureBarsPaneView&&e.push(this._futureBarsPaneView),this._projectionBarsPaneView&&e.push(this._projectionBarsPaneView),null!==this._waterlineView&&e.push(this._waterlineView),e.push(this._prevClosePriceLineView),null!==this._priceLineView&&e.push(this._priceLineView),null!==this._gotoDateView&&e.push(this._gotoDateView),e.push(this._panePriceAxisView),e.push(this._projectionPriceAxisView),e},s.prototype.dataWindowView=function(){return this._dataWindowView},s.prototype.legendView=function(){return this._legendView},s.prototype.statusView=function(){return xe?this._statusView:null},s.prototype.marketStatusModel=function(){return this._marketStatusModel},s.prototype.dataUpdatedModeModel=function(){return this._dataUpdatedModeModel},s.prototype.dataProblemModel=function(){return this._dataProblemModel},s.prototype.priceAxisViews=function(e,t){return e.findTargetPriceAxisViews(this,t,this._priceAxisViews,[this._priceLinePriceAxisView])},s.prototype.purgeSymbolInfo=function(){this._symbolInfo=null,this._isDWMCached=null},s.prototype.symbolInfo=function(){return this._symbolInfo},s.prototype.updateSymbolInfo=function(e){var t,i,n=ce.extractSymbolNameFromSymbolInfo(e,this.m_symbol);this._symbolInfo=e,e&&(this._properties.shortName.setValue(e.name),t=this._properties.symbol.value(),i=n,C.enabled("uppercase_instrument_names")&&(t=t.toUpperCase(),i=i.toUpperCase()),n&&t!==i&&this._properties.symbol.setValue(n)),this._base=e?e.pricescale/e.minmov:100,this._recreatePriceFormattingDependencies(),this._statusView.update(),this.priceScale().updateFormatter(),this._quotesProvider.setQuotesSessionSymbol(n),this.checkInterval(),this._dataPoweredBy=j(e)},s.prototype._onQuotesUpdate=function(e,t){this.marketStatus.setValue(t.values.current_session),Ce&&void 0!==t.values.prev_close_price&&(this._legendView.update(),this.m_model.updateSource(this))},s.prototype.dataPoweredBy=function(){return this._dataPoweredBy},s.prototype.symbolSameAsCurrent=function(e){if(_e(this.m_symbol,e))return!0;var t=this._symbolInfo;if(t){if(_e(t.full_name,e)||_e(t.pro_name,e))return!0;if(_e(t.ticker,e))return!0
;if(t.aliases&&me(t.aliases,e))return!0;if(t.alternatives&&me(t.alternatives,e))return!0;if(0===e.indexOf("FRA:")&&_e(t.pro_name,e.replace("FRA:","FWB:")))return!0}return!1},s.prototype.updateAllViews=function(){var e,t;for(this._paneView.update(),this._dataWindowView.update(),this._legendView.update(),this._statusView.update(),e=this._priceAxisViews.length,t=0;t<e;t++)this._priceAxisViews[t].update();this._priceLinePriceAxisView.update(),this._futureBarsPaneView&&this._futureBarsPaneView.update(),this._projectionBarsPaneView&&this._projectionBarsPaneView.update(),null!==this._waterlineView&&this._waterlineView.update(),this._prevClosePriceLineView.update(),null!==this._priceLineView&&this._priceLineView.update(),null!==this._gotoDateView&&this._gotoDateView.update(),this._baseHorizontalLineView.update()},s.prototype._setStatus=function(e){this._status=e,this._statusView.update(),this.m_model.updateSource(this),this._onStatusChanged.fire()},s.prototype.requestMoreData=function(e){var t,i,n,r;this._status!==s.STATUS_READY&&this._status!==s.STATUS_PULSE&&this._status!==s.STATUS_DELAYED&&this._status!==s.STATUS_DELAYED_STREAMING&&this._status!==s.STATUS_EOD&&this._status!==s.STATUS_REPLAY||this.m_model.timeScale().isEmpty()||null!==(t=this.m_model.timeScale().visibleBarsStrictRange())&&0!==this.bars().size()&&(i=t.lastBar()-a(this.data().last()).index,this._predictBars<i&&(this._predictBars=i,this._chartApi&&this._chartApi.connected()&&this._chartApi.requestMoreTickmarks(this._seriesId,i,this._handler)),this._endOfData||(n=a(this.bars().firstIndex()),(r=e||n-t.firstBar())<=0||(Number.isFinite(r)?(this._endOfData=!0,this._loading=!0,this._chartApi&&this._chartApi.connected()&&(this._chartApi.requestMoreData(this._seriesId,r,this._handler),C.enabled("charting_library_base")&&(this._predictBars=0)),this._setStatus(s.STATUS_LOADING)):se.logWarn("requestMoreData: invalid bar count: "+r+", visible bars: ["+t.firstBar()+", "+t.lastBar()+"], last index: "+a(this.data().last()).index+", predicted bars: "+this._predictBars+", required bars:"+e))))},s.prototype.bindStyleChange=function(){var e=this;Object.keys(s.STYLE_SHORT_NAMES).map(function(e){return s.STYLE_SHORT_NAMES[e]+"Style"}).forEach(function(t){e._properties[t].listeners().subscribe(e,s.prototype.invalidateBarStylesCache)})},s.prototype.bindJapChartsInputs=function(){this._properties.style.listeners().subscribe(this,this.onChartStyleChanged),this._properties.renkoStyle.inputs.boxSize.listeners().subscribe(this,this.onInputChanged),this._properties.renkoStyle.inputs.style.listeners().subscribe(this,this.onInputChanged),this._properties.renkoStyle.inputs.atrLength.listeners().subscribe(this,this.onInputChanged),this._properties.renkoStyle.inputs.wicks.listeners().subscribe(this,this.onInputChanged),this._properties.renkoStyle.inputs.sources.listeners().subscribe(this,this.onInputChanged),this._properties.pbStyle.inputs.lb.listeners().subscribe(this,this.onInputChanged),this._properties.kagiStyle.inputs.reversalAmount.listeners().subscribe(this,this.onInputChanged),
this._properties.kagiStyle.inputs.style.listeners().subscribe(this,this.onInputChanged),this._properties.kagiStyle.inputs.atrLength.listeners().subscribe(this,this.onInputChanged),this._properties.pnfStyle.inputs.boxSize.listeners().subscribe(this,this.onInputChanged),this._properties.pnfStyle.inputs.reversalAmount.listeners().subscribe(this,this.onInputChanged),this._properties.pnfStyle.inputs.sources.listeners().subscribe(this,this.onInputChanged),this._properties.pnfStyle.inputs.style.listeners().subscribe(this,this.onInputChanged),this._properties.pnfStyle.inputs.atrLength.listeners().subscribe(this,this.onInputChanged),this._properties.pnfStyle.inputs.oneStepBackBuilding.listeners().subscribe(this,this.onInputChanged),this._properties.rangeStyle.inputs.phantomBars.listeners().subscribe(this,this.onInputChanged)},s.prototype.createExtendedHoursProperty=function(){function e(){var e=!0,i=t.model().readOnly(),n=t._properties.extendedHours.value(),r=C.enabled("widget");!n||r||i||e||(t._dataEvents.fireExtendedHoursNotPermitted(),n=!1),n&&t.isDWM()&&(n=!1),t.extendedHours.setValue(n)}var t=this;t.extendedHours=new r,t._properties.extendedHours.listeners().subscribe(null,e),t._properties.interval.listeners().subscribe(null,e),t.chartWidgetInitialized.subscribe(null,e),e()},s.prototype.createDividendsAdjustmentProperty=function(){function e(){var e=t._properties.dividendsAdjustment.value();t.dividendsAdjustment.setValue(e),ne("Dividends adjust",!0===e?"On":"Off")}var t=this;t.dividendsAdjustment=new r,t._properties.dividendsAdjustment.listeners().subscribe(null,e),e()},s.prototype.dividendsAdjustmentProperty=function(){return this._properties.dividendsAdjustment},s.prototype.setChartStyleWithIntervalIfNeeded=function(e,t){var i=t;void 0===t&&(i=de(e,this._properties.interval.value(),this._model.defaultResolutions())),pe.isEqual(i,this._properties.interval.value())||this._properties.interval.setValue(i),this._properties.style.setValue(e)},s.prototype.isNeedRestart=function(e){return this._status!==s.STATUS_SNAPSHOT&&(void 0===e&&(e=this.properties().style.value()),!ce.isRangeStyle(this._prevChartStyle)&&!ce.isRangeStyle(e)&&!(this._prevChartStyle===e||!ce.isRequiringRestartSeriesStyles(this._prevChartStyle)&&!ce.isRequiringRestartSeriesStyles(e)))},s.prototype.onChartStyleChanged=function(){this._updateBarFunction(),this.isNeedRestart()&&(this.data().clear(),this.model().timeScale().scrollToRealtime(!1),this.isInReplay()&&!this.isStyleSupportedForReplay(this.style())&&this._removeReplaySubscriber(),this.restart()),this._prevChartStyle=this.properties().style.value(),this._onStyleChanged.fire(this.properties().style.value()),this.invalidateBarStylesCache()},s.prototype.applyPreferences=function(e){var t=Se({},e);this.m_priceScale.setMode({autoScale:t.priceAxisProperties.autoScale,percentage:t.priceAxisProperties.percentage,log:t.priceAxisProperties.log,lockScale:t.priceAxisProperties.lockScale}),this.setChartStyleWithIntervalIfNeeded(t.style),delete t.style,delete t.interval,this._properties.mergePreferences(t),
this._properties.saveDefaults(),this.createPaneView(),this.invalidateBarStylesCache()},s.prototype.barFunction=function(){return this._barFunction},s.prototype.priceSource=function(){var e=null;switch(this._properties.style.value()){case s.STYLE_LINE:e=this._properties.lineStyle.priceSource.value();break;case s.STYLE_AREA:e=this._properties.areaStyle.priceSource.value();break;case s.STYLE_BASELINE:e=this._properties.baselineStyle.priceSource.value()}return e},s.prototype._updateBarFunction=function(){if(this._properties.style.value()===s.STYLE_HILO)this._barFunction=K("low");else{var e=this.priceSource()||"close";this._barFunction=K(e)}},s.prototype.style=function(){return this.properties().style.value()},s.prototype.isRangeBasedStyle=function(){return ce.isRangeBasedStyle(this.style())},s.prototype.onInputChanged=function(){this.restart()},s.prototype.onExtendedHoursChanged=function(){return this._extendedHoursChanged},s.prototype._getSymbolObject=function(){var e,t;return e={symbol:e=C.enabled("pay_attention_to_ticker_not_symbol")&&this._symbolInfo?this._symbolInfo.ticker:this.actualSymbol()},t=this.properties().dividendsAdjustment.value()?"dividends":"splits",e.adjustment=t,this.extendedHours.value()&&(e.session="extended"),s.SYMBOL_STRING_DATA.hasOwnProperty(this._properties.style.value())&&(e={symbol:e,type:this.styleStudyInfo(this.getStyleShortName()+"Style").studyId+"!",inputs:this.getInputsProperties().state()}),e},s.prototype.getSymbolString=function(){return Pe(this._getSymbolObject())},s.prototype._getResolvingSymbolString=function(){var e=this._getSymbolObject();return this._replaySubscriber&&(e=this._replaySubscriber.generateReplaySymbol(e)),Pe(e)},s.prototype.getStyleShortName=function(){var e=this._properties.style.value();if(s.STYLE_SHORT_NAMES.hasOwnProperty(e))return s.STYLE_SHORT_NAMES[e];throw new Error("Missed short name for style "+e)},s.prototype.getStyleProperties=function(){return this._properties[this.getStyleShortName()+"Style"]},s.prototype.getInputsProperties=function(){return this.getStyleProperties().inputs||new r},s.prototype.getInputsInfoProperties=function(){return this.getStyleProperties().inputInfo||new r},s.prototype.getRealVisibleRange=function(){var e,t,i=this.model().timeScale().visibleBarsStrictRange();return null===i?null:(e=this.data().search(i.firstBar(),$.NearestRight),t=this.data().search(i.lastBar(),$.NearestLeft),null===e||null===t?null:new G(e.index,t.index))},s.prototype.firstValue=function(){var e=this.firstBar();return null===e?null:this._barFunction(e)},s.prototype.firstBar=function(){var e,t,i=this.model().timeScale().visibleBarsStrictRange();return null===i?null:(e=i.firstBar(),null!==(t=this.data().search(e,$.NearestRight))?t.value:null)},s.prototype.isSpread=function(){return null!==this._symbolInfo&&"spread"===this._symbolInfo.type},s.prototype.getSymbolName=function(){return this._symbolInfo?this._symbolInfo.name:""},s.prototype.loadDataTo=function(e){this._turnaround="s"+ ++this._turnaroundCounter;var t=this._properties.interval.value()
;t=this._generateTimeframe(t,e),this._chartApi.modifySeries(this._seriesId,this._turnaround,this._symbolId,t,this._handler)},s.prototype.checkInterval=function(){if(this._symbolInfo&&(pe.isIntraday(this.interval())&&!this._symbolInfo.has_intraday&&this.requestingIntradayWhenNotSupported.fire(),this._symbolInfo.hasOwnProperty("supported_resolutions"))){var e=pe.normalize(this._properties.interval.value());-1===this._symbolInfo.supported_resolutions.indexOf(e)&&this.requestingResolutionWhenNotSupported.fire(this._symbolInfo.supported_resolutions[0])}},s.prototype.priceScale=function(){return this.m_priceScale},s.prototype.setPriceScale=function(e){this.m_priceScale!==e&&(this.m_priceScale=e,this._priceScaleChanged.fire(e),this._properties.removeProperty("priceAxisProperties"),this._properties.addChild("priceAxisProperties",e.properties()),this._properties.priceAxisProperties.childChanged(),Te.emit("series_event","price_scale_changed"))},s.prototype.priceScaleChanged=function(){return this._priceScaleChanged},s.prototype.setGotoDateResult=function(e){this._gotoDateResultCleared=!1,i.e("series-pane-views").then(function(t){if(!this._gotoDateResultCleared){var n=i("+weX").GotoDateView;this._gotoDateView=new n(this,e),this.m_model.updateSource(this)}}.bind(this).bind(null,i)).catch(i.oe)},s.prototype.clearGotoDateResult=function(e){this._gotoDateView=null,this._gotoDateResultCleared=!0},s.prototype.syncModel=function(){var e,t;if(!this._syncModel){if(e=this.symbolInfo(),t=this.interval(),!e||!t)return null;this._syncModel=new ie(e,t)}return this._syncModel},s.prototype.turnaround=function(){return this._turnaround},s.prototype.getStylesPropertyPage=function(){return C.enabled("show_chart_property_page")?x.ChartStylesPropertyPage:null},s.prototype.getSourceIcon=function(){return{type:"loadSvg",svgId:"series."+this.properties().style.value()}},s.prototype.isStyleSupported=function(e){return!this.isInReplay()||this.isStyleSupportedForReplay(e)},s.prototype.isIntervalSupported=function(e){return!this.isInReplay()||this._replaySubscriber.canChangeResolution(e)},s.prototype.isStyleSupportedForReplay=function(e){return ce.isTimeBasedStyle(e)},s.prototype.isInReplay=function(){return null!==this._replaySubscriber},s.prototype.replayExitedDueUnsupportedInterval=function(){return this._replayExitedDueUnsupportedInterval},s.prototype.replayExitedDueUnavailableForUserInterval=function(){return this._replayExitedDueUnavailableForUserInterval},s.prototype.onInReplayStateChanged=function(){return this._onInReplayStateChanged},s.prototype.switchToReplay=function(e,t){this._replaySubscriber=e,this._isReplayResolutionAvailableForUser=t,this._onInReplayStateChanged.fire(),this._replaySubscriber.modifySeries(this.getSymbolString(),this._properties.interval.value()),this._symbolId=null,this.rerequestData()},s.prototype.switchToRealtime=function(){this.isInReplay()&&(this._removeReplaySubscriber(),this._symbolId=null,this.rerequestData())},s.prototype._removeReplaySubscriber=function(){if(this.isInReplay()){var e=this._replaySubscriber
;this._replaySubscriber=null,this._isReplayResolutionAvailableForUser=null,this._onInReplayStateChanged.fire(),e.destroy()}},s.prototype._onBeforeModifySeries=function(e,t){this._replaySubscriber&&this._replaySubscriber.modifySeries(e,t)},s.prototype._isExtendedHoursAllowed=function(){return this._symbolInfo&&-1!==["stock","index","futures"].indexOf(this._symbolInfo.type)},s.prototype._getTelemetryAdditionalData=function(e,t){t=void 0===t||t;var i={symbol:this.actualSymbol()};return t&&(i.resolution=this.interval()),void 0!==e&&(i.reason=e),i},s.prototype._sendTelemetryReport=function(e,t,i){void 0===i&&(i=this._getTelemetryAdditionalData());var n=Object.assign(t,{additional:i});B.sendChartReport(e,n)},s.prototype._sendTelemetryCounter=function(e,t){this._sendTelemetryReport(e,{count:1},t)},s.prototype._sendTelemetryTiming=function(e,t,i){this._sendTelemetryReport(e,{value:t},i)},s.prototype.destroy=function(){this._replayExitedDueUnsupportedInterval.destroy(),this._replayExitedDueUnavailableForUserInterval.destroy(),this._quotesProvider.quotesUpdate().unsubscribeAll(this),this._quotesProvider.destroy(),this.clearGotoDateResult(),this._legendView.destroy(),this._marketStatusModel.destroy(),null!==this._dataUpdatedModeModel&&this._dataUpdatedModeModel.destroy(),this._dataProblemModel.destroy(),this._paneView&&this._paneView.destroy&&this._paneView.destroy()},s.prototype.dataEvents=function(){return this._dataEvents},TradingView.Series=s,t.Series=s}).call(this,i("aIyQ"),i("hY0g"),i("tc+8"),i("Qb4w").PriceRange)},qcGP:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolParallelChannel";var o=t||n.createProperties();r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("9FRF").ParallelChannelPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=window.t("Parallel Channel");inherit(n,r),n.prototype.addPoint=function(e){var t,i=r.prototype.addPoint.call(this,e);return i&&(t=this.points()[0],this._points[2].index=t.index,this._points[2].price=t.price+this._priceOffset),i},n.prototype.calculatePriceDiff=function(){var e,t,i,n,r,o,s,a,l,c,u,h,d,p,f,_,m,g;if(3===this.points().length){if(e=this.points()[0],t=this.points()[1],i=this.points()[2],e.index===t.index)return;if(null===(n=this.priceScale()))return;if(n.isLog()){if((r=this._model.timeScale()).isEmpty())return;o=this.ownerSource().firstValue(),s=r.indexToCoordinate(e.index),a=r.indexToCoordinate(t.index),h=(l=n.priceToCoordinate(e.price,o))+(u=((c=n.priceToCoordinate(t.price,o))-l)/(a-s))*(r.indexToCoordinate(i.index)-s),d=n.priceToCoordinate(i.price,o)-h,o=this.ownerSource().firstValue(),p=.5*(l+c),f=n.coordinateToPrice(p,o),_=p+d,m=n.coordinateToPrice(_,o),this._priceOffset=m-f}else u=(t.price-e.price)/(t.index-e.index),g=e.price+u*(i.index-e.index),this._priceOffset=i.price-g}},n.prototype.setLastPoint=function(e,t){
t&&t.shift()&&2===this.points().length&&this._snapPoint45Degree(e,this.points()[0]),r.prototype.setLastPoint.call(this,e),this.calculatePriceDiff()},n.prototype.restorePoints=function(e,t,i){r.prototype.restorePoints.call(this,e,t,i),e&&e.length>=3&&(this._priceOffset=e[2].price-e[0].price)},n.prototype.setPoint=function(e,t,i){i&&i.shift()&&e<2&&this._snapPoint45Degree(t,this.points()[1-e]),r.prototype.setPoint.call(this,e,t,i),2===e&&this.calculatePriceDiff();var n=this.points()[0];this._points[2].index=n.index,this._points[2].price=n.price+this._priceOffset},n.prototype.pointsCount=function(){return 3},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Parallel Channel"},n.prototype.hasEditableCoordinates=function(){return!1},n.prototype.addPoint=function(e,t){return t&&t.shift()&&2===this.points().length&&this._snapPoint45Degree(e,this.points()[0]),r.prototype.addPoint.call(this,e,t)},n.prototype.fixAfterRestorePriceAxis=function(){this.priceScale().isLog()||delete this._priceOffset},n.prototype.cloneData=function(e){this._priceOffset=e._priceOffset},n.prototype.restoreData=function(e){e.priceOffset&&(this._priceOffset=e.priceOffset)},n.prototype.state=function(e){var t=r.prototype.state.call(this,e);return t.priceOffset=this._priceOffset,t},n.prototype.canHasAlert=function(){return!0},n.prototype._getAlertPlots=function(){function e(e,t){return e.index<=t.index?[e,t]:[t,e]}var t,i,n,r,o,s,a,l,c=[].concat(this._points).splice(0,2);return t=e((c=c.concat([{price:c[0].price+this._priceOffset,time:c[0].time,index:c[0].index},{price:c[1].price+this._priceOffset,time:c[1].time,index:c[1].index}]))[0],c[1]),i=e(c[2],c[3]),this._priceOffset<0?(r=i,n=t):(r=t,n=i),a=this.properties().extendLeft.value(),l=this.properties().extendRight.value(),c[0].index<=c[1].index?(o=a,s=l):(o=l,s=a),[this._linePointsToAlertPlot(n,"Upper",o,s),this._linePointsToAlertPlot(r,"Lower",o,s)]},n.prototype.getInputsPropertyPage=function(){return null},n.prototype.getStylesPropertyPage=function(){return s.LineToolParallelChannelStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("VkdP").ParallelChannelDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new o("linetoolparallelchannel",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolParallelChannel=n},qckB:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor" transform="translate(6 3)"><rect width="15" height="12" rx="2" x=".5" y="8.5"/><path stroke-linecap="round" stroke-width="2" d="M8 15v2"/><path d="M11.5 4a3.5 3.5 0 0 0-7 0v4.5"/></g></svg>'},qgcf:function(e,t,i){"use strict";function n(e,t,i,n,r){var o=.5*(t.x+i.x),s=i.y;return t.y>i.y?(s-=e.height/2+n.y,s=Math.max(e.height/2,s)):(s+=e.height/2+n.y,s=Math.min(r-e.height/2,s)),new m.Point(o,s)}
function r(){var e=document.createElement("canvas");e.width=0,e.height=0,x=Object(y.ensureNotNull)(e.getContext("2d"))}function o(e,t,i){var n,o,s,a,l,c,u,h,d;if(x||r(),i=Object(P.isString)(i)?parseInt(i):i,(n=(e+="").split(/[^\S\r\n]*(?:\r\n|\r|\n|$)/))[n.length-1]||n.pop(),!Object(P.isNumber)(i)||!isFinite(i)||i<=0)return n;for(x.font=t,o=[],s=0;s<n.length;s++)if(a=n[s],(l=x.measureText(a).width)<=i)o.push(a);else for(c=a.split(/([-\)\]\},.!?:;])|(\s+)/),u=0;c.length;){if((h=~~(i/l*(c.length+2)/3))<=0||x.measureText(c.slice(0,3*h-1).join("")).width<=i)for(;x.measureText(c.slice(0,3*(h+1)-1).join("")).width<=i;)h++;else for(;h>0&&x.measureText(c.slice(0,3*--h-1).join("")).width>i;);if(h>0)o.push(c.slice(0,3*h-1).join("")),c.splice(0,3*h);else{if(d=c[0]+(c[1]||""),u=1===u?1:~~(i/x.measureText(d).width*d.length),x.measureText(d.substr(0,u)).width<=i)for(;x.measureText(d.substr(0,u+1)).width<=i;)u++;else for(;u>1&&x.measureText(d.substr(0,--u)).width>i;);u<1&&(u=1),o.push(d.substr(0,u)),c[0]=d.substr(u),c[1]=""}if(x.measureText(c.join("")).width<=i){o.push(c.join(""));break}}return o}function s(e,t,i){var n,r;return 0===i?e.clone():(n=(e.x-t.x)*Math.cos(i)-(e.y-t.y)*Math.sin(i)+t.x,r=(e.x-t.x)*Math.sin(i)+(e.y-t.y)*Math.cos(i)+t.y,new m.Point(n,r))}function a(e,t){return t+2*u(e)+2*l(e)}function l(e){return void 0!==e.boxPadding?Math.ceil(e.boxPadding*f(e)):~~(d(e)/3)}function c(e){return Math.ceil((e.backgroundVertInflate||0)*f(e))}function u(e){return Math.ceil((e.backgroundHorzInflate||0)*f(e))}function h(e){return(e.padding||0)*f(e)}function d(e){return Math.ceil(p(e)*f(e))}function p(e){return e.fontsize||e.fontSize||30}function f(e){var t,i=Math.min(1,Math.max(.2,Math.min(e.scaleX||1,e.scaleY||1)));return 1===i?i:(t=p(e),Math.ceil(i*t)/t)}function _(e,t,i){var n=t%2?.5:0;return{left:Math.round(e.boxLeft*i)+n,right:Math.round((e.boxLeft+e.boxWidth)*i)+n,top:Math.round(e.boxTop*i)+n,bottom:Math.round((e.boxTop+e.boxHeight)*i)+n}}var m,g,y,v,b,S,w,P,T,C,x,I;i.r(t),i.d(t,"calculateLabelPosition",function(){return n}),i.d(t,"wordWrap",function(){return o}),i.d(t,"TextRenderer",function(){return I}),m=i("aO4+"),g=i("GEp6"),y=i("Eyy1"),v=i("f6yo"),b=i("Ialn"),S=i("VdBB"),w=i("jFln"),P=i("ogJP"),T=i("ikwP"),C=i("8Uy/"),I=function(){function e(e,t){this._data=null,this._internalData=null,this._boxSize=null,this._linesInfo=null,this._fontInfo=null,this._hittest=t||new S.HitTestResult(S.HitTestResult.MOVEPOINT),void 0!==e&&this.setData(e)}return e.prototype.setData=function(e){!function(e,t){var i,n,r;if(null===e||null===t)return null===e==(null===t);if(void 0===e.points!=(void 0===t.points))return!1;if(void 0!==e.points&&void 0!==t.points){if(e.points.length!==t.points.length)return!1;for(i=0;i<e.points.length;++i)if(n=e.points[i],r=t.points[i],n.x!==r.x||n.y!==r.y)return!1}
return e.text===t.text&&e.vertAlign===t.vertAlign&&e.horzAlign===t.horzAlign&&e.font===t.font&&e.offsetX===t.offsetX&&e.offsetY===t.offsetY&&e.bold===t.bold&&e.italic===t.italic&&e.fontsize===t.fontsize&&e.fontSize===t.fontSize&&e.backgroundRoundRect===t.backgroundRoundRect&&e.forceTextAlign===t.forceTextAlign&&e.wordWrapWidth===t.wordWrapWidth&&e.padding===t.padding&&e.scaleY===t.scaleY&&e.scaleX===t.scaleX&&e.highlightBorder===t.highlightBorder&&e.backgroundHorzInflate===t.backgroundHorzInflate&&e.backgroundVertInflate===t.backgroundVertInflate&&e.boxPadding===t.boxPadding&&e.angle===t.angle}(this._data,e)?(this._data=e,this._internalData=null,this._boxSize=null,this._linesInfo=null,this._fontInfo=null):this._data=e},e.prototype.hitTest=function(e){var t,i,n,r,o,a,l,c,u,h,d;return null===this._data||void 0===this._data.points||0===this._data.points.length?null:(t=this._data.angle||0,n=(i=this._getInternalData()).boxLeft,r=i.boxTop,o=i.boxWidth,a=i.boxHeight,l=this._getRotationPoint(),c=new m.Point(n+a/2,r+a/2),u=new m.Point(n+o-a/2,r+a/2),h=s(c,l,t),d=s(u,l,t),Object(g.distanceToSegment)(h,d,e).distance<=a/2?this._hittest:null)},e.prototype.doesIntersectWithBox=function(e){return null!==this._data&&void 0!==this._data.points&&0!==this._data.points.length&&Object(v.pointInBox)(this._data.points[0],e)},e.prototype.measure=function(){if(null===this._data)return{width:0,height:0};var e=this._getBoxSize();return{width:e.boxWidth,height:e.boxHeight}},e.prototype.setPoints=function(e,t){Object(y.ensureNotNull)(this._data).points=e,this._hittest=t||new S.HitTestResult(S.HitTestResult.MOVEPOINT)},e.prototype.fontStyle=function(e){return null===this._data?"":this._getFontInfo().fontStyle},e.prototype.wordWrap=function(e,t,i){return o(e,i||this.fontStyle(),t)},e.prototype.draw=function(e,t){var i,n,r,o,s,a,l,c,u,d,p,f,m,g,y,v,b,S,P,x;if(null!==this._data&&void 0!==this._data.points&&0!==this._data.points.length){for(i=t.pixelRatio,n=this._getInternalData(),r=this._getRotationPoint().scaled(i),e.save(),e.translate(r.x,r.y),e.rotate(this._data.angle||0),e.translate(-r.x,-r.y),o=this._getFontInfo().fontSize,e.textBaseline=n.textBaseLine,e.textAlign=n.textAlign,e.font=this.fontStyle(),(this._data.backgroundColor||this._data.borderColor||this._data.highlightBorder&&this._data.wordWrapWidth)&&(s=Math.round(~~Math.max(o/12,1)*i),this._data.backgroundRoundRect?(l=(a=_(n,s,i)).left,c=a.right,u=a.top,d=a.bottom,Object(w.drawRoundRect)(e,l,u,c-l,d-u,this._data.backgroundRoundRect*i),this._data.backgroundColor&&(e.fillStyle=this._data.backgroundColor,e.fill()),this._data.borderColor&&(e.strokeStyle=this._data.borderColor,e.lineWidth=s,e.stroke())):(this._data.backgroundColor&&(e.fillStyle=this._data.backgroundColor,l=(p=_(n,s,i)).left,c=p.right,f=p.top,d=p.bottom,e.fillRect(l,f,c-l,d-f)),(this._data.borderColor||this._data.highlightBorder)&&(m=void 0,this._data.borderColor?(e.strokeStyle=this._data.borderColor,e.lineWidth=s,m=_(n,s,i)):(e.strokeStyle=this._data.color,Object(w.setLineStyle)(e,C.LINESTYLE_DASHED),
e.lineWidth=Math.max(1,Math.floor(i)),m=_(n,e.lineWidth,i)),e.beginPath(),e.moveTo(m.left,m.top),e.lineTo(m.left,m.bottom),e.lineTo(m.right,m.bottom),e.lineTo(m.right,m.top),e.lineTo(m.left,m.top),e.stroke()))),e.fillStyle=this._data.color,g=n.textStart,y=n.textTop,v=h(this._data),b=Math.floor(.05*o),S=function(t){Object(T.drawScaled)(e,i,function(){return e.fillText(t,g,y+b)}),y+=o+v},P=0,x=this._getLinesInfo().lines;P<x.length;P++)S(x[P]);e.restore()}},e.prototype._getLinesMaxWidth=function(e){var t,i,n,o;if(x||r(),x.textBaseline="alphabetic",x.font=this.fontStyle(),null!==this._data&&this._data.wordWrapWidth)return this._data.wordWrapWidth*f(this._data);for(t=0,i=0,n=e;i<n.length;i++)o=n[i],t=Math.max(t,x.measureText(o).width);return t},e.prototype._getInternalData=function(){var e,t,i,n,r,o,s,a,h,p,f,_,m,g;if(null!==this._internalData)return this._internalData;switch(t=d(e=Object(y.ensureNotNull)(this._data)),n=(i=this._getBoxSize()).boxWidth,r=i.boxHeight,s=(o=Object(y.ensureDefined)(e.points)[0]).y,e.vertAlign){case"bottom":s-=r+e.offsetY;break;case"middle":s-=r/2;break;case"top":s+=e.offsetY}switch(a=o.x,h=l(e),p=u(e)+h,_=s+(c(e)+h)+t/2,g="middle",e.horzAlign){case"left":m="start",f=(a+=e.offsetX)+p,Object(b.isRtl)()&&(e.forceTextAlign?m="left":f=a+n-p);break;case"center":m="center",f=a,a-=n/2;break;case"right":m="end",f=(a-=n+e.offsetX)+n-p,Object(b.isRtl)()&&e.forceTextAlign&&(m="right")}return{boxLeft:a,boxTop:s,boxWidth:n,boxHeight:r,textStart:f,textTop:_,textAlign:m,textBaseLine:g}},e.prototype._getLinesInfo=function(){var e,t;return null===this._linesInfo&&(e=Object(y.ensureNotNull)(this._data),t=this.wordWrap(e.text,e.wordWrapWidth),this._linesInfo={linesMaxWidth:a(e,this._getLinesMaxWidth(t)),lines:t}),this._linesInfo},e.prototype._getFontInfo=function(){var e,t,i;return null===this._fontInfo&&(t=d(e=Object(y.ensureNotNull)(this._data)),i=(e.bold?"bold ":"")+(e.italic?"italic ":"")+t+"px "+e.font,this._fontInfo={fontStyle:i,fontSize:t}),this._fontInfo},e.prototype._getBoxSize=function(){var e,t;return null===this._boxSize&&(e=this._getLinesInfo(),t=Object(y.ensureNotNull)(this._data),this._boxSize={boxWidth:a(t,e.linesMaxWidth),boxHeight:function(e,t){return d(e)*t+h(e)*(t-1)+2*c(e)+2*l(e)}(t,e.lines.length)}),this._boxSize},e.prototype._getRotationPoint=function(){var e,t,i=this._getInternalData(),n=i.boxLeft,r=i.boxTop,o=i.boxWidth,s=i.boxHeight,a=Object(y.ensureNotNull)(this._data),l=a.horzAlign,c=a.vertAlign;switch(l){case"center":e=n+o/2;break;case"left":e=n;break;case"right":e=n+o}switch(c){case"middle":t=r+s/2;break;case"top":t=r;break;case"bottom":t=r+s}return new m.Point(e,t)},e}()},qlfx:function(e){
e.exports=JSON.parse('{"14851":{},"custom_items_in_context_menu":{},"websocket_connection":{},"countdown":{},"symbol_search_parser_mixin":{},"show_pro_features":{},"daily_timeframe_suffix":{},"symbollist_context_menu":{},"pay_attention_to_ticker_not_symbol":{},"graying_disabled_tools_enabled":{},"update_study_formatter_on_symbol_resolve":{},"constraint_dialogs_movement":{},"same_data_requery":{},"phone_verification":{},"show_trading_notifications_history":{},"show_interval_dialog_on_key_press":{},"header_interval_dialog_button":{"subsets":["show_interval_dialog_on_key_press"]},"header_fullscreen_button":{},"header_symbol_search":{},"symbol_search_hot_key":{},"header_resolutions":{"subsets":["header_interval_dialog_button"]},"header_chart_type":{},"header_settings":{},"header_indicators":{},"header_compare":{},"header_undo_redo":{},"header_screenshot":{},"header_saveload":{},"study_on_study":{},"header_widget":{"subsets":["header_widget_dom_node","header_symbol_search","header_resolutions","header_chart_type","header_settings","header_indicators","header_compare","header_undo_redo","header_fullscreen_button","compare_symbol","header_screenshot"]},"legend_widget":{},"compare_symbol":{"subsets":["header_compare"]},"property_pages":{"subsets":["show_chart_property_page","chart_property_page"]},"show_chart_property_page":{},"chart_property_page":{"subsets":["chart_property_page_style","chart_property_page_scales","chart_property_page_background","chart_property_page_timezone_sessions","chart_property_page_events_alerts","chart_property_page_trading","chart_property_page_template_button","chart_property_page_right_margin_editor"]},"disable_userlink_popup":{},"left_toolbar":{},"hide_left_toolbar_by_default":{},"control_bar":{},"widget_logo":{},"timeframes_toolbar":{},"edit_buttons_in_legend":{"subsets":["show_hide_button_in_legend","format_button_in_legend","study_buttons_in_legend","delete_button_in_legend"]},"hide_legend_by_default":{},"show_hide_button_in_legend":{},"format_button_in_legend":{},"study_buttons_in_legend":{},"delete_button_in_legend":{},"pane_context_menu":{},"scales_context_menu":{},"legend_context_menu":{},"context_menus":{"subsets":["pane_context_menu","scales_context_menu","legend_context_menu","objects_tree_context_menu"]},"items_favoriting":{},"save_chart_properties_to_local_storage":{},"use_localstorage_for_settings":{"subsets":["items_favoriting","save_chart_properties_to_local_storage"]},"handle_scale":{"subsets":["mouse_wheel_scale","pinch_scale","axis_pressed_mouse_move_scale"]},"handle_scroll":{"subsets":["mouse_wheel_scroll","pressed_mouse_move_scroll","horz_touch_drag_scroll","vert_touch_drag_scroll"]},"plain_studymarket":{},"trading_watch_positions":{},"disable_resolution_rebuild":{},"border_around_the_chart":{},"charting_library_debug_mode":{},"log_data_request_time":{},"saveload_requires_authentication":{},"saveload_storage_customization":{},"new_chart_creation_available":{},"volume_force_overlay":{},"create_volume_indicator_by_default":{},"create_volume_indicator_by_default_once":{},"saved_charts_count_restriction":{},"lean_chart_load":{},"stop_study_on_restart":{},"star_some_intervals_by_default":{},"predefined_items_only_may_be_starred":{},"move_logo_to_main_pane":{},"show_animated_logo":{},"link_to_tradingview":{},"logo_without_link":{},"right_bar_stays_on_scroll":{},"chart_content_overrides_by_defaults":{},"show_dialog_on_snapshot_ready":{},"snapshot_trading_drawings":{},"allow_supported_resolutions_set_only":{},"study_market_minimized":{},"widgetbar_tabs":{},"collapsible_header":{},"show_extension_popup":{},"study_templates":{},"side_toolbar_in_fullscreen_mode":{},"header_in_fullscreen_mode":{},"remove_library_container_border":{},"whotrades_auth_only":{},"support_multicharts":{},"display_market_status":{},"display_data_mode":{},"show_chart_warn_message":{},"datasource_copypaste":{},"line_tool_templates":{},"expand_symbolsearch_items":{},"symbol_search_three_columns_exchanges":{},"symbol_search_flags":{},"symbol_search_limited_exchanges":{},"bugreport_button":{},"footer_publish_idea_button":{},"showdom_button":{},"text_notes":{},"show_source_code":{},"symbol_info":{},"no_bars_status":{},"clear_bars_on_series_error":{},"hide_loading_screen_on_series_error":{},"seconds_resolution":{},"dont_show_boolean_study_arguments":{},"hide_last_na_study_output":{},"price_scale_always_last_bar_value":{},"study_dialog_search_control":{},"study_dialog_fundamentals_economy_addons":{},"uppercase_instrument_names":{},"cqg_trading_confirm_risks":{},"trading_notifications":{},"chart_crosshair_menu":{},"japanese_chart_styles":{},"hide_series_legend_item":{},"hide_study_overlay_legend_item":{},"hide_study_compare_legend_item":{},"linetoolpropertieswidget_template_button":{},"use_overrides_for_overlay":{},"timezone_menu":{},"main_series_scale_menu":{},"show_login_dialog":{},"remove_img_from_rss":{},"bars_marks":{},"chart_scroll":{},"chart_zoom":{},"source_selection_markers":{},"high_density_bars":{},"low_density_bars":{},"end_of_period_timescale_marks":{},"open_account_manager":{},"order_panel":{},"multiple_watchlists":{},"study_overlay_compare_legend_option":{},"onchart_messages":{},"custom_resolutions":{},"referral_program_for_widget_owners":{},"mobile_app_force_chart_maximize":{},"no_min_chart_width":{},"lock_visible_time_range_on_resize":{},"pricescale_currency":{},"referral_program_policy_aggressive":{"subsets":["referral_program_policy_passive","referral_program_policy_normal"]},"referral_program_policy_normal":{"subsets":["referral_program_policy_passive","header_fake_features_buttons","custom_resolutions"]},"cropped_tick_marks":{},"tv_production":{"subsets":["show_pro_features","countdown","symbol_search_parser_mixin","symbollist_context_menu","websocket_connection","header_fullscreen_button","header_widget","dont_show_boolean_study_arguments","left_toolbar","control_bar","symbol_search_hot_key","context_menus","edit_buttons_in_legend","uppercase_instrument_names","use_localstorage_for_settings","saveload_requires_authentication","volume_force_overlay","new_chart_creation_available","saved_charts_count_restriction","create_volume_indicator_by_default","create_volume_indicator_by_default_once","charts_auto_save","save_old_chart_before_save_as","chart_content_overrides_by_defaults","alerts","show_dialog_on_snapshot_ready","show_extension_popup","header_saveload","header_layouttoggle","datasource_copypaste","show_saved_watchlists","watchlists_from_to_file","add_to_watchlist","property_pages","support_multicharts","display_market_status","display_data_mode","show_chart_warn_message","support_manage_drawings","widgetbar_tabs","study_templates","collapsible_header","line_tool_templates","caption_buttons_text_if_possible","footer_publish_idea_button","text_notes","show_source_code","trading_watch_positions","symbol_info","linetoolpropertieswidget_template_button","cqg_trading_confirm_risks","trading_notifications","symbol_search_three_columns_exchanges","symbol_search_flags","symbol_search_limited_exchanges","phone_verification","chart_events","onchart_messages","custom_resolutions","compare_symbol","study_on_study","japanese_chart_styles","show_login_dialog","dome_widget","bars_marks","chart_scroll","chart_zoom","show_trading_notifications_history","source_selection_markers","study_dialog_fundamentals_economy_addons","multiple_watchlists","marked_symbols","order_panel","pricescale_currency"]},"browser_extension":{"subsets":["disable_userlink_popup","show_pro_features","show_saved_watchlists","display_market_status","display_data_mode","show_chart_warn_message","widgetbar_tabs","show_login_dialog"]},"widget":{"subsets":["show_pro_features","countdown","symbol_search_parser_mixin","symbollist_context_menu","websocket_connection","uppercase_instrument_names","left_toolbar","control_bar","symbol_search_hot_key","context_menus","edit_buttons_in_legend","use_localstorage_for_settings","saveload_requires_authentication","volume_force_overlay","create_volume_indicator_by_default","create_volume_indicator_by_default_once","show_dialog_on_snapshot_ready","dont_show_boolean_study_arguments","header_widget_dom_node","header_symbol_search","header_resolutions","header_chart_type","header_compare","header_indicators","star_some_intervals_by_default","display_market_status","display_data_mode","show_chart_warn_message","symbol_info","linetoolpropertieswidget_template_button","symbol_search_three_columns_exchanges","symbol_search_flags","symbol_search_limited_exchanges","widgetbar_tabs","compare_symbol","show_login_dialog","plain_studymarket","japanese_chart_styles","bars_marks","chart_scroll","chart_zoom","source_selection_markers","property_pages"]},"bovespa_widget":{"subsets":["widget","header_settings","chart_property_page_timezone_sessions","linetoolpropertieswidget_template_button"]},"charting_library_base":{"subsets":["14851","allow_supported_resolutions_set_only","border_around_the_chart","collapsible_header","constraint_dialogs_movement","context_menus","control_bar","create_volume_indicator_by_default","custom_items_in_context_menu","datasource_copypaste","daily_timeframe_suffix","uppercase_instrument_names","display_market_status","edit_buttons_in_legend","graying_disabled_tools_enabled","header_widget","legend_widget","header_saveload","dont_show_boolean_study_arguments","lean_chart_load","left_toolbar","trading_watch_positions","link_to_tradingview","pay_attention_to_ticker_not_symbol","plain_studymarket","predefined_items_only_may_be_starred","refresh_saved_charts_list_on_dialog_show","right_bar_stays_on_scroll","saveload_storage_customization","show_dialog_on_snapshot_ready","stop_study_on_restart","study_market_minimized","timeframes_toolbar","symbol_search_hot_key","update_study_formatter_on_symbol_resolve","update_timeframes_set_on_symbol_resolve","use_localstorage_for_settings","volume_force_overlay","widget_logo","countdown","use_overrides_for_overlay","trading_notifications","compare_symbol","symbol_info","timezone_menu","main_series_scale_menu","study_dialog_search_control","chart_crosshair_menu","create_volume_indicator_by_default_once","bars_marks","chart_scroll","chart_zoom","source_selection_markers","property_pages","go_to_date","adaptive_logo","caption_buttons_text_if_possible","show_animated_logo","handle_scale","handle_scroll","shift_visible_range_on_new_bar","chart_content_overrides_by_defaults","cropped_tick_marks"]},"charting_library":{"subsets":["charting_library_base"]},"static_charts_service":{"subsets":["charting_library","disable_resolution_rebuild","log_data_request_time","same_data_requery"]},"trading_terminal":{"subsets":["charting_library_base","showdom_button","support_multicharts","header_layouttoggle","japanese_chart_styles","chart_property_page_trading","add_to_watchlist","open_account_manager","show_dom_first_time","order_panel","multiple_watchlists","show_trading_notifications_history","always_pass_called_order_to_modify"]},"cqg_terminal":{"subsets":["charting_library_base","chart_property_page_trading","expand_symbolsearch_items","clear_bars_on_series_error","no_bars_status","hide_loading_screen_on_series_error","support_multicharts","header_layouttoggle","same_data_requery","bugreport_button","showdom_button","dome_widget","show_dom_first_time","japanese_chart_styles","remove_img_from_rss","add_to_watchlist","order_panel","show_trading_notifications_history"]},"amp_terminal":{"subsets":["cqg_terminal"]}}')
},qocr:function(e,t,i){"use strict";function n(e){var t="attachEvent"in document,i=t?"complete"===document.readyState:"loading"!==document.readyState;i?e():document.addEventListener("DOMContentLoaded",function(){return e()})}i.r(t),i.d(t,"whenDocumentReady",function(){return n}),i.d(t,"whenDocumentReadyPromise",function(){return r});var r=new Promise(n)},quTg:function(e,t,i){},qx3g:function(e,t,i){"use strict";function n(e,t){u.call(this),this._data=e,this._textCache=t}function r(e,t){this._model=e,this._source=t,this._pivots=[],this._textCache={},this._invalidated=!0}function o(e,t,i,n){s.call(this,e,t,i,n)}var s=i("Qq0B").NonSeriesStudy,a=i("VdBB").HitTestResult,l=i("Zy3/").CompositeRenderer,c=i("hayr").propertyPages,u=i("cPgM").ScaledPaneRenderer,h=5;inherit(n,u),n.prototype._drawImpl=function(e){e.textBaseline="bottom",e.font=(this._data.bold?"bold ":"normal ")+this._data.fontsize+"px "+this._data.font;var t=Math.round(e.measureText(this._data.text).width+4);this._textCache.width=t,e.translate(this._data.x+.5,this._data.y),e.strokeStyle=this._data.borderColor,e.fillStyle=this._data.backColor,e.beginPath(),e.moveTo(0,0),1===this._data.type?(e.lineTo(h,-h),e.lineTo(t/2,-h),e.lineTo(t/2,-h-this._data.fontsize),e.lineTo(-t/2,-h-this._data.fontsize),e.lineTo(-t/2,-h),e.lineTo(-h,-h),e.lineTo(0,0)):(e.lineTo(h,h),e.lineTo(t/2,h),e.lineTo(t/2,h+this._data.fontsize),e.lineTo(-t/2,h+this._data.fontsize),e.lineTo(-t/2,h),e.lineTo(-h,h),e.lineTo(0,0)),e.fill(),e.stroke(),e.fillStyle=this._data.textColor,e.textAlign="center",e.textBaseline="middle",1===this._data.type?e.fillText(this._data.text,0,-h-this._data.fontsize/2):e.fillText(this._data.text,0,h+this._data.fontsize/2)},n.prototype.hitTest=function(e){var t=this._textCache.width,i=this._data.fontsize+3*h,n=this._data.x-t/2,r=this._data.y;return 1===this._data.type&&(r-=i),e.x>=n&&e.x<=n+t&&e.y>=r&&e.y<=r+i?new a(a.REGULAR):null},r.prototype.update=function(){this._invalidated=!0},r.prototype.updateImpl=function(){var e,t,i,n,r,o,s,a,l,c,u,h,d,p,f,_;if(this._pivots=[],this._source.customData()&&this._source.customData().pivots&&this._source.properties().visible.value()&&(e=this._source.customData().pivots,t=this._source._indexes,i=this._model.timeScale(),n=this._source.priceScale(),o=(r=this._model.mainSeries()).firstValue(),n&&!n.isEmpty()&&!i.isEmpty()&&o))for(a=(s=i.visibleBarsStrictRange()).firstBar(),l=s.lastBar(),c=0;c<e.length;c++)e[c]&&((u=t[e[c].index])<a||u>l||(h=e[c].type,null!==(d=r.bars().valueAt(u))&&(p=1===h?d[TradingView.HIGH_PLOT]:d[TradingView.LOW_PLOT],f=Math.round(i.indexToCoordinate(u)),_=n.priceToCoordinate(p,o),1===h?_-=i.barSpacing()/6:_+=i.barSpacing()/6+1,_=Math.round(_),this._pivots.push({x:f,y:_,price:n.formatPrice(p,o),type:h}))))},r.prototype._pixelMargins=function(){return this._source.properties().fontsize.value()+3*h},r.prototype.topPixelMargin=function(){return this._pixelMargins()},r.prototype.bottomPixelMargin=function(){return this._pixelMargins()},r.prototype.renderer=function(){var e,t,i,r,o,s,a,c,u,h
;if(this._invalidated&&(this.updateImpl(),this._invalidated=!1),0!==this._pivots.length){for(e=this._source.properties().font.value(),t=this._source.properties().fontsize.value(),i=this._source.properties().borderColor.value(),r=this._source.properties().backColor.value(),o=this._source.properties().textColor.value(),s=new l,a=0;a<this._pivots.length;a++)u={x:(c=this._pivots[a]).x,y:c.y,type:c.type,text:c.price,font:e,fontsize:t,borderColor:i,backColor:r,textColor:o},h=a,this._textCache[h]||(this._textCache[h]={}),s.append(new n(u,this._textCache[h]));return s}},inherit(o,s),o.prototype.isVisible=function(){return this.properties().visible.value()},o.prototype.getStylesPropertyPage=function(){return c.StudyPivotPointsHighLowStylesPropertyPage},o.prototype.createViews=function(){s.prototype.createViews.call(this),this._setPaneViews([new r(this.model(),this)])},o.prototype.autoScaleInfo=function(e,t){var i=this._series.priceRange(e,t),n=this._paneViews.length>0?this._paneViews[0].topPixelMargin():0,r=this._paneViews.length>0?this._paneViews[0].bottomPixelMargin():0;return{range:i,topPixelMargin:n,bottomPixelMargin:r}},t.study_PivotPointsHighLow=o},qySK:function(e,t,i){"use strict";function n(e){var t,i,n,r;if(!Object(a.isObject)(e))throw new Error("Graphics commands should be wrapped in an object");if(Object(a.hasProperty)(e,"create"),Object(a.hasProperty)(e,"erase"))for(t=e.erase,Object(s.assert)(Array.isArray(t),"Collection of erase commands should be array"),i=0,n=t;i<n.length;i++){if(r=n[i],!Object(a.isObject)(r)||!Object(a.hasProperty)(r,"action"))throw new Error("Command should be an object with 'action' property");Object(s.assert)("all"===r.action||"one"===r.action,"Erase command action should be 'all' or 'one'")}return e}function r(e,t){var i=new Map;return e.forEach(function(e,n){return i.set(n,t(e))}),i}function o(e,t,i,n,r){var o,a,l,c,u;if(void 0!==t)for(o=0,a=t;o<a.length;o++)c=(l=a[o]).styleId,void 0!==i&&Object(s.assert)(c in i,"Every style used by graphics primitive should be declared in study metainfo"),void 0===(u=e.get(c))&&(u=new P(r,n),e.set(c,u)),l.data.forEach(u.addData.bind(u))}var s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P;i.d(t,"b",function(){return n}),i.d(t,"a",function(){return w}),s=i("Eyy1"),a=i("JmuD"),l=i("SqfW"),c=i("+a6K"),u=i("vaiT"),h=i("2tp3"),d=i("KG+6"),p=i("fFKx"),f=i("VSsv"),_=i("t1rv"),m=i("5vwb"),g=i("6Y0w"),y=i("nInm"),v=i("sqlk"),b=i("7Fue"),S=i("xWfy"),w=function(){function e(){this._indexes=[],this._horizlines=new Map,this._vertlines=new Map,this._lines=new Map,this._hlines=new Map,this._textmarks=new Map,this._shapemarks=new Map,this._backgrounds=new Map,this._polygons=new Map,this._trendchannels=new Map,this._hhists=new Map,this._dwglabels=new Map,this._dwglines=new Map,this._hhistsByTimePointIndex=new Map}return e.prototype.horizlines=function(){return this._horizlines},e.prototype.vertlines=function(){return this._vertlines},e.prototype.lines=function(){return this._lines},e.prototype.hlines=function(){return this._hlines},e.prototype.textmarks=function(){
return this._textmarks},e.prototype.shapemarks=function(){return this._shapemarks},e.prototype.backgrounds=function(){return this._backgrounds},e.prototype.polygons=function(){return this._polygons},e.prototype.trendchannels=function(){return this._trendchannels},e.prototype.hhists=function(){return this._hhists},e.prototype.dwglabels=function(){return this._dwglabels},e.prototype.dwglines=function(){return this._dwglines},e.prototype.hhistsByTimePointIndex=function(){return this._hhistsByTimePointIndex},e.prototype.clear=function(){this._indexes=[],this._clearPrimitives()},e.prototype.extract=function(){var e=function(e){return e.extract()},t={indexes:this._indexes,horizlines:r(this._horizlines,e),vertlines:r(this._vertlines,e),lines:r(this._lines,e),hlines:r(this._hlines,e),textmarks:r(this._textmarks,e),shapemarks:r(this._shapemarks,e),backgrounds:r(this._backgrounds,e),polygons:r(this._polygons,e),trendchannels:r(this._trendchannels,e),hhists:r(this._hhists,e),dwglabels:r(this._dwglabels,e),dwglines:r(this._dwglines,e)};return this._hhistsByTimePointIndex=new Map,new S.a("data",t)},e.prototype.replaceIndexesTo=function(e){var t,i=this;this._indexes=e,t=function(e){return e.replaceIndexesTo(i._indexes)},this._horizlines.forEach(t),this._vertlines.forEach(t),this._lines.forEach(t),this._hlines.forEach(t),this._textmarks.forEach(t),this._shapemarks.forEach(t),this._backgrounds.forEach(t),this._polygons.forEach(t),this._trendchannels.forEach(t),this._hhists.forEach(t),this._dwglabels.forEach(t),this._dwglines.forEach(t),this._hhistsByTimePointIndex=Object(b.b)(this._hhists)},e.prototype.processCommands=function(e,t){void 0!==e.erase&&this._processEraseCommands(e.erase),void 0!==e.create&&this._processCreateCommands(e.create,t)},e.prototype._processCreateCommands=function(e,t){var i,n;for(i in e)if(e.hasOwnProperty(i))switch(n=i,Object(s.assert)(n in t,"There is a '"+n+"' in study response, but it doesn't present in graphics info!"),n){case"horizlines":o(this._horizlines,e[n],t[n],this._indexes,p.b);break;case"vertlines":o(this._vertlines,e[n],t[n],this._indexes,l.b);break;case"lines":o(this._lines,e[n],t[n],this._indexes,_.b);break;case"hlines":o(this._hlines,e[n],t[n],this._indexes,f.c);break;case"textmarks":o(this._textmarks,e[n],t[n],this._indexes,y.c);break;case"shapemarks":o(this._shapemarks,e[n],t[n],this._indexes,g.b);break;case"backgrounds":o(this._backgrounds,e[n],t[n],this._indexes,c.b);break;case"polygons":o(this._polygons,e[n],t[n],this._indexes,m.b);break;case"trendchannels":o(this._trendchannels,e[n],t[n],this._indexes,v.b);break;case"hhists":o(this._hhists,e[n],t[n],this._indexes,d.d);break;case"dwglabels":o(this._dwglabels,e[n],t[n],this._indexes,u.e);break;case"dwglines":o(this._dwglines,e[n],t[n],this._indexes,h.d)}this._hhistsByTimePointIndex=Object(b.b)(this._hhists)},e.prototype._processEraseCommands=function(e){var t,i,n=function(e){if("all"===e.action)r._clearPrimitives();else{var t=function(t){return t.deleteById(e.id)};switch(e.type){case"horizlines":r._horizlines.forEach(t);break
;case"vertlines":r._vertlines.forEach(t);break;case"lines":r._lines.forEach(t);break;case"hlines":r._hlines.forEach(t);break;case"textmarks":r._textmarks.forEach(t);break;case"shapemarks":r._shapemarks.forEach(t);break;case"backgrounds":r._backgrounds.forEach(t);break;case"polygons":r._polygons.forEach(t);break;case"trendchannels":r._trendchannels.forEach(t);break;case"hhists":r._hhists.forEach(t);break;case"dwglabels":r._dwglabels.forEach(t);break;case"dwglines":r._dwglines.forEach(t)}}},r=this;for(t=0,i=e;t<i.length;t++)n(i[t]);this._hhistsByTimePointIndex=Object(b.b)(this._hhists)},e.prototype._clearPrimitives=function(){this._horizlines.clear(),this._vertlines.clear(),this._lines.clear(),this._hlines.clear(),this._textmarks.clear(),this._shapemarks.clear(),this._backgrounds.clear(),this._polygons.clear(),this._trendchannels.clear(),this._hhists.clear(),this._dwglabels.clear(),this._dwglines.clear(),this._hhistsByTimePointIndex=new Map},e}(),P=function(){function e(e,t){this._primitivesData=new Set,this._primitiveById=new Map,this._materializePrimitive=e,this._indexes=t}return e.prototype.forEach=function(e,t){var i=this;this._primitiveById.forEach(function(n){e.call(t,n,n,i)})},e.prototype.has=function(e){var t=!1;return this._primitiveById.forEach(function(i){t=t||i===e}),t},Object.defineProperty(e.prototype,"size",{get:function(){return this._primitiveById.size},enumerable:!0,configurable:!0}),e.prototype[Symbol.iterator]=function(){throw new Error("Not implemented")},e.prototype.entries=function(){throw new Error("Not implemented")},e.prototype.keys=function(){throw new Error("Not implemented")},e.prototype.values=function(){throw new Error("Not implemented")},e.prototype.hasId=function(e){return this._primitiveById.has(e)},e.prototype.addData=function(e){this._primitivesData.add(e),this._tryMaterialize(e)},e.prototype.deleteById=function(e){this._primitiveById.delete(e)},e.prototype.clear=function(){this._primitivesData.clear(),this._primitiveById.clear()},e.prototype.replaceIndexesTo=function(e){this._indexes=e,this._primitiveById.clear(),this._primitivesData.forEach(this._tryMaterialize,this)},e.prototype.extract=function(){var e=this._primitivesData;return this._primitivesData=new Set,this._primitiveById.clear(),e},e.prototype._tryMaterialize=function(e){var t=this._materializePrimitive(e,this._indexes);null!==t&&(Object(s.assert)(!this._primitiveById.has(e.id),"primitive with specified id should not exist"),this._primitiveById.set(e.id,t))},e}()},r4gg:function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="#4758a9" d="M0 18h18V0H0z"/><path fill="#fff" d="M9 4.5V0H0v9h4.5V6l3 3H9V7L6.5 4.5H9z"/><path fill="#ed5565" d="M11 8.1l.3.6.5-.2-.2.5.4.4-.6.1v.6l-.4-.4-.4.4v-.6l-.6-.1.5-.4-.3-.5.6.2zm2 4l.3.6.5-.2-.2.5.4.4-.6.1v.6l-.4-.4-.4.4v-.6l-.6-.1.5-.4-.3-.5.6.2zm.3-7.1l.3.5.5-.1-.2.5.4.4h-.6V7l-.4-.4-.5.4v-.6l-.5-.1.5-.4-.3-.5.6.1zm2 3.4l.3.5.5-.2-.2.6.4.3-.6.1v.6l-.4-.4-.4.4v-.6h-.6l.4-.4-.2-.6.6.2zM3 1V0H1v1H0v2h1v6h2V3h6V1H3zm6 6.9L5 4H4l5 5V7.9z"/></svg>'},r8Gw:function(e,t,i){"use strict";var n,r,o,s,a;i.d(t,"a",function(){return a}),n=i("uOxu"),r=i("0waE"),o=i("IWXC"),i("glKZ"),s=Object(n.getLogger)("GUI.Blocks.AbstractIndicator"),a=function(){function e(e){this._classSuffix="",this._quoteSessionPrefix="abstract-indicator",this._shortMode=!1,this._showTooltip=!0,this._subscribed=!1,this._tooltipType="custom",this._lastTooltipText="",this._quoteSession=e.quoteSession}return e.prototype.getValue=function(){return this._value},e.prototype.getTooltipText=function(){return this._labelMap[this._value]||""},e.prototype.getLabel=function(){return this._labelMap[this._value]||""},e.prototype.getElement=function(){return this._el},e.prototype.update=function(e,t){this._updateValue(e,t),this._render()},e.prototype.setTooltipEnabled=function(e){void 0===e&&(e=!1),this._showTooltip!==e&&(this._showTooltip=e,this._renderTooltip())},e.prototype.enableShortMode=function(){!0!==this._shortMode&&(this._shortMode=!0,this._render())},e.prototype.disableShortMode=function(){!1!==this._shortMode&&(this._shortMode=!1,this._render())},e.prototype.isShortModeEnabled=function(){return this._shortMode},e.prototype.start=function(){!this._subscribed&&this._symbolName&&(this._quoteSession||(this._quoteSession=Object(o.getQuoteSessionInstance)("simple")),this._quoteSession.subscribe(this._getQuoteSessionId(),this._symbolName,this.update.bind(this)),this._subscribed=!0)},e.prototype.stop=function(){this._subscribed&&this._quoteSession&&this._symbolName&&(this._quoteSession.unsubscribe(this._getQuoteSessionId(),this._symbolName),this._subscribed=!1)},e.prototype._init=function(e){this._el=e.el?e.el:document.createElement("span"),this._el.innerHTML="",this._classMap=e.classMap,this._labelMap=e.labelMap,this._showTooltip=e.showTooltip,this._classSuffix=e.classSuffix,this._symbolName=e.symbol,e.tooltipType&&(this._tooltipType=e.tooltipType),this._quoteSessionGUID=Object(r.guid)(),!0===e.short&&this.enableShortMode(),e.data&&this._updateValue(e.data)},e.prototype._clearClasses=function(){var e=this;Object.values(this._classMap).map(function(t){e._el.classList.remove(""+t),e._el.classList.remove(""+t+e._classSuffix)})},e.prototype._render=function(){this._renderClasses(),this._renderTooltip(),this._renderLabel()},e.prototype._renderLabel=function(){this._el.textContent=this.getLabel()},e.prototype._updateValue=function(e,t){var i=this._getValueFromData(e);(t||i!==this._value)&&(this._value=i)},e.prototype._renderClasses=function(){
var e,t,i,n=this._el.classList;for(t in n.add(this._componentClass,this._componentClass+this._classSuffix),e=this._classMap[this._value],this._classMap)(i=this._classMap[t])&&(i===e?n.add(i,i+this._classSuffix):n.remove(i,i+this._classSuffix));!e&&this._value&&s.logWarn("no className for status "+this._value)},e.prototype._renderTooltip=function(){var e=this._showTooltip?this.getTooltipText():"";e!==this._lastTooltipText&&(this._lastTooltipText=e,this._el.setAttribute("title",e),"custom"===this._tooltipType&&this._el.classList.toggle("apply-common-tooltip",this._showTooltip))},e.prototype._getQuoteSessionId=function(){return this._quoteSessionPrefix+"."+this._quoteSessionGUID},e}(),window.AbstractIndicator=a},rCHB:function(e,t,i){"use strict";var n;i.r(t),i.d(t,"LineToolPitchforkStyle",function(){return n}),function(e){e[e.Original=0]="Original",e[e.Schiff=1]="Schiff",e[e.Inside=2]="Inside",e[e.Schiff2=3]="Schiff2"}(n||(n={}))},rL76:function(e,t,i){e.exports={labelwidth:"19px",labelheight:"19px",bordersize:"2px",bottommargin:"5px",gearheight:"15px",gearwidth:"15px","price-axis-stub":"price-axis-stub-3MoqVLRB",wrapper:"wrapper-1tN_aWXZ",label:"label-NpaJWak6",symbol:"symbol-2JyFiLZ_",gear:"gear-3B_8TAjc","fixed-gear":"fixed-gear-IiZPkpoQ","fixed-symbol":"fixed-symbol-2A_FZK26"}},rOif:function(e){
e.exports=JSON.parse('{"au":["ASX:XAT","ASX:XAF","INDEX:NZD","SP:SPX","TVC:US30","BITSTAMP:BTCUSD","BITSTAMP:XRPUSD","BITSTAMP:ETHUSD","COINBASE:EOSUSD","COINBASE:LTCUSD","FX:AUDUSD","FX:EURUSD","FX:USDJPY","FX:GBPUSD","FX_IDC:XAUUSD","NYMEX:CL1!","COMEX:HG1!"],"br":["BMFBOVESPA:IBOV","BMFBOVESPA:IBXL","BITSTAMP:BTCUSD","BITSTAMP:XRPUSD","BITSTAMP:ETHUSD","COINBASE:EOSUSD","COINBASE:LTCUSD","FX_IDC:USDBRL","FX_IDC:EURBRL","FX_IDC:BRLJPY","BMFBOVESPA:PETR3","BMFBOVESPA:GGBR3","BMFBOVESPA:VALE3"],"ca":["TSX:TXSX","TSX:VIXC","SP:SPX","TVC:DJI","BITSTAMP:BTCUSD","BITSTAMP:XRPUSD","BITSTAMP:ETHUSD","COINBASE:EOSUSD","COINBASE:LTCUSD","FX:USDCAD","FX:EURUSD","FX:USDJPY","FX:GBPUSD","FX_IDC:XAUUSD","NYMEX:CL1!"],"default":["SP:SPX","TVC:DXY","BITSTAMP:BTCUSD","BINANCE:BTCUSDT","FX:EURUSD","FX:GBPUSD","FX:USDJPY","NASDAQ:AAPL","NASDAQ:TSLA","TVC:USOIL","TVC:UKOIL","COMEX:GC1!","TVC:VIX","TVC:GOLD"],"es":["TVC:IBEX35","EURONEXT:SABE","BME:SAN","BME:TEF","BME:IBE","BME:REP","SP:SPX","TVC:NDX","TVC:SX5E","XETR:DAX","BME:BKIA","BITSTAMP:BTCUSD","BITSTAMP:XRPUSD","BITSTAMP:ETHUSD","COINBASE:EOSUSD","COINBASE:LTCUSD","FX:EURUSD","FX:USDJPY","BME:ELE","BME:AMS","BME:BKT","BME:TL5"],"fr":["TVC:CAC40","XETR:DAX","TVC:US30","SP:SPX","BITSTAMP:BTCUSD","BITSTAMP:XRPUSD","BITSTAMP:ETHUSD","COINBASE:EOSUSD","COINBASE:LTCUSD","FX:EURUSD","FX:EURGBP","FX:USDJPY","FX:GBPUSD","TVC:DXY","NYMEX:CL1!","LSE:ACA","LSE:GLE","LSE:ENGI","NASDAQ:UG"],"id":["FX_IDC:USDIDR","FX:EURUSD","FX:USDJPY","FX:AUDUSD","TVC:DXY","SP:SPX","TVC:NI225","BITSTAMP:BTCUSD","BITSTAMP:XRPUSD","BITSTAMP:ETHUSD","COINBASE:EOSUSD","COINBASE:LTCUSD","FX_IDC:XAUUSD","FX_IDC:XAGUSD","TVC:UKOIL","NYMEX:CL1!"],"in":["NSE:NIFTY","NSE:BANKNIFTY","BSE:SENSEX","FX_IDC:USDINR","FX_IDC:EURINR","SP:SPX","AMEX:SPY","TVC:NDX","TVC:DJI","TVC:DXY","TVC:UKX","XETR:DAX","TVC:NI225","BITSTAMP:BTCUSD","BITSTAMP:XRPUSD","BITSTAMP:ETHUSD","COINBASE:EOSUSD","COINBASE:LTCUSD","FX:EURUSD"],"it":["MIL:IMIB","FX:EURUSD","FX:EURGBP","FX:USDJPY","FX:GBPUSD","TVC:DXY","TVC:UKX","XETR:DAX","SP:SPX","BITSTAMP:BTCUSD","BITSTAMP:XRPUSD","BITSTAMP:ETHUSD","COINBASE:EOSUSD","COINBASE:LTCUSD","NYMEX:CL1!"],"ja":["SP:SPX","TVC:NI225","ASX:XJO","BITSTAMP:BTCUSD","BITSTAMP:XRPUSD","BITSTAMP:ETHUSD","COINBASE:EOSUSD","COINBASE:LTCUSD","FX:USDJPY","FX:EURJPY","OTC:IHRMF","CME:NY1!"],"kr":["FX_IDC:USDKRW","FX_IDC:JPYKRW","FX:USDJPY","SP:SPX","TVC:NI225","INDEX:HSCE","TVC:DXY","BITSTAMP:BTCUSD","BITSTAMP:XRPUSD","BITSTAMP:ETHUSD","COINBASE:EOSUSD","COINBASE:LTCUSD","KORBIT:BTCKRW","NYMEX:CL1!","FX_IDC:XAUUSD"],"ms_MY":["FX_IDC:USDMYR","FX_IDC:SGDMYR","FX:EURUSD","FX:GBPUSD","NYMEX:CL1!","TVC:UKOIL","INDEX:KLSE","BITSTAMP:BTCUSD","BITSTAMP:XRPUSD","BITSTAMP:ETHUSD","COINBASE:EOSUSD","COINBASE:LTCUSD","FX_IDC:XAUUSD"],"pl":["FX_IDC:USDPLN","FX_IDC:EURPLN","FX:EURUSD","FX:USDJPY","FX:GBPUSD","XETR:DAX","TVC:UKX","SP:SPX","NYMEX:CL1!","BITSTAMP:BTCUSD","BITSTAMP:XRPUSD","BITSTAMP:ETHUSD","COINBASE:EOSUSD","COINBASE:LTCUSD"],"ru":["MOEX:IMOEX","MOEX:RTSI","BITSTAMP:BTCUSD","BITSTAMP:XRPUSD","BITSTAMP:ETHUSD","COINBASE:EOSUSD","COINBASE:LTCUSD","MOEX:USDRUB_TOM","MOEX:EURRUB_TOM","MOEX:SBER","MOEX:GAZP","MOEX:VTBR","MOEX:LKOH","MOEX:MGNT","ICEEUR:BRN1!","NYMEX:CL1!","NYMEX:NG1!","TVC:NDX","TVC:SX5E","XETR:DAX","TVC:FTMIB"],"tr":["FX:USDTRY","FX:EURTRY","XETR:DAX","SP:SPX","BITSTAMP:BTCUSD","BITSTAMP:XRPUSD","BITSTAMP:ETHUSD","COINBASE:EOSUSD","COINBASE:LTCUSD","NYMEX:CL1!","FX_IDC:XAUUSD"],"uk":["TVC:UKX","XETR:DAX","TVC:SX5E","BITSTAMP:BTCUSD","BITSTAMP:XRPUSD","BITSTAMP:ETHUSD","COINBASE:EOSUSD","COINBASE:LTCUSD","FX:GBPUSD","FX_IDC:GBPEUR","LSE:LLOY","LSE:BARC","SP:SPX","AMEX:SPY","TVC:NDX","TVC:DJI","TVC:DXY","TVC:NI225","FX:EURUSD"]}')
},rY0k:function(e,t,i){"use strict";var n=i("IzGk").translatedIntervalString,r=i("RqCd").getTranslatedSymbolDescription,o=i("zDbI").CHART_FONT_FAMILY,s=i("di4O"),a=s.watermarkProperty,l=s.restoreWatermarkPropertyDefaults,c=i("ikwP").drawScaled;t.Watermark=function(e,t){function i(e,t){var i=e.font;return u.hasOwnProperty(i)||(u[i]={}),u[i].hasOwnProperty(t)||(u[i][t]=e.measureText(t).width),u[i][t]}var s,u={},h=a();h.listeners().subscribe(this,function(){e.updateSource(this)}),this.destroy=function(){h.listeners().unsubscribeAll(this)},this.properties=function(){return h},this.restorePropertiesDefaults=function(){l()},s={renderer:function(e,s){return{draw:function(a,l){c(a,l.pixelRatio,function(){var l,c,u,d,p,f,_,m,g,y=t.symbolInfo();for(a.fillStyle=h.color.value(),l=y.name,/QUANDL/.test(y.exchange)&&(c=l.split(/\//)).length&&(l=c[c.length-1]),u={description:y.description,short_description:y.short_description,pro_name:y.pro_name,short_name:y.name,local_description:y.local_description,language:y.language},d=[{text:l?l+", "+n(t.interval()):"",font:"96px "+o,lineHeight:117,vertOffset:0},{text:r(u)||"",font:"48px "+o,lineHeight:58,vertOffset:5}],p=0,f=0;f<d.length;f++)(_=d[f]).text&&(a.font=_.font,m=i(a,_.text),_.zoom=m>s?s/m:1,p+=_.lineHeight*_.zoom);for(g=Math.max((e-p)/2,0),f=0;f<d.length;f++)(_=d[f]).text&&(a.save(),a.translate(s/2,g),a.textBaseline="top",a.textAlign="center",a.font=_.font,a.scale(_.zoom,_.zoom),a.fillText(_.text,0,_.vertOffset),a.restore(),g+=_.lineHeight*_.zoom)})}}},update:function(){}},this.paneViews=function(){return t.symbolInfo()&&h.visibility.value()?[s]:[]}}},rh3U:function(e,t,i){e.exports={"css-value-medium-size":"18px","css-value-border-radius-medium-size":"9px","css-value-large-size":"22px","css-value-border-radius-large-size":"11px",statuses:"statuses-29yrFaoA",statusItem:"statusItem-1gsKvHgg",medium:"medium-zcMrbLxb",large:"large-2E_Sb0cV",oneWidgetsVisible:"oneWidgetsVisible-17p3P_dQ",twoWidgetsVisible:"twoWidgetsVisible-3kEfsgAz",threeWidgetsVisible:"threeWidgetsVisible-sIjrbNL1",marketStatusOpen:"marketStatusOpen-2d8WAYHQ",marketStatusClose:"marketStatusClose-2LgI3IBx",marketStatusPre:"marketStatusPre-3tiNWinG",marketStatusPost:"marketStatusPost-1wCjJrHi",marketStatusHoliday:"marketStatusHoliday-HyAcvqXa",invalidSymbol:"invalidSymbol-2tnvnmzm",replayMode:"replayMode-2O_B03jx",delay:"delay-NXuSKUfA",notAccurate:"notAccurate-2qEIEgim",eod:"eod-TNCDZArR",dataProblemHigh:"dataProblemHigh-2SJE6Anp",dataProblemLow:"dataProblemLow-iRGvvWWe",popupIcon:"popupIcon-2AthDhrt"}},ruCT:function(e,t,i){"use strict";var n=i("uOxu").getLogger("Chart.FollowSymbolsButton"),r=i("gbZD").trackActionFollow;!function(){function e(e){var t,i;return e.symbol?null==e.follow&&Object.prototype.hasOwnProperty.call(l,e.symbol)?l[e.symbol].promise:(i=(t=$.Deferred()).promise(),l[e.symbol]||(l[e.symbol]={}),l[e.symbol].promise=i,$.post("/social/follow-the-symbol/",e,"json").done(function(i){i.error?t.reject(i):(t.resolve(i),i.symbol!==e.symbol&&(l[i.symbol]=l[e.symbol]))}).fail(function(){t.reject.apply(t,arguments)
}),i):$.Deferred().reject().promise()}function t(t,n){return e({symbol:t,follow:+!!n}).done(function(e){var n=e.followTheSymbol;i(t,n)}).promise()}function i(e,t){$(a).each(function(){var i=$(this);i.data("symbol")===e&&s(i,t)})}function o(){for(var e in l)delete l[e];s($(a),!1)}function s(e,t){t=!!t,e.each(function(){var e=$(this);e.toggleClass("js-follow-symbol--followed",t).toggleClass(e.data("follow-symbol-button-followed-style-class")?e.data("follow-symbol-button-followed-style-class"):"i-checked",t)})}var a=".js-follow-symbol",l={};$(document).on("click",a,function(e){var i=$(this),n=i.data("symbol"),o=i.data("type");n&&runOrSignIn(function(){var e=function(e){return e.hasClass("js-follow-symbol--followed")}(i),a=t(n,!e),l=e?"Unfollow":"Follow",c={symbol:n,symbolType:o};s(i,!e),r("Symbol",l,c),a.fail(function(){s(i,e)})},{source:"Follow symbol button"})}),TradingView.FollowSymbols={changeState:t,makeButton:function(t){var i,r;return i=(t=t||{}).$button,r=t.symbol,i?(i.addClass("js-follow-symbol tv-button tv-button--success"),r||(r=i.data("symbol"))):i=$('<span class="js-follow-symbol tv-button tv-button--success">'),i.data({"follow-symbol-button-followed-style-class":"i-checked","follow-symbol-button-change-text":void 0===t.changeText||!!t.changeText}),r?(e({symbol:r}).pipe(function(e){i.attr("data-symbol",e.symbol),s(i,e.followTheSymbol)}),i):(n.logError("symbol is required"),i)},request:e},$(function(){loginStateChange.subscribe(TradingView.FollowSymbols,function(t){t||(window.is_authenticated?(o(),$(a).each(function(){var t=$(this).data("symbol");t&&(Object.prototype.hasOwnProperty.call(l,t)||e({symbol:t}).done(function(e){i(e.symbol,e.followTheSymbol)}))})):o())})})}()},rwPJ:function(e,t,i){"use strict";function n(e){return Object(a.studyIdString)(e,"mtp-mtpredictor")}var r,o,s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B,N,F,j,W,U,H,z,G,Y,q,X,K;i.r(t),r=i("mrSG"),o=i("Eyy1"),s=i("qJq3"),a=i("cBZt"),l=i("jenN"),c=i("MSvv"),u=i("nEwK"),h=function(e){function t(i,r,o,s){var a=this,c=n(s),h=o||i.studyMetaInfoRepository().findByIdSync({type:"java",studyId:c}),d=r||t._createPropertiesFromStudyMetaInfo(h,i.studyVersioning());return(a=e.call(this,i,h,s,d)||this)._formatter=new u.VolumeFormatter,Object(l.createGraphicsPaneViews)(a,i).then(a._setPaneViews.bind(a)),a}return Object(r.__extends)(t,e),t.prototype.formatter=function(){return this._formatter},t.prototype.series=function(){return this._ownerSource instanceof s.Series?this._ownerSource:this._model.mainSeries()},t._createPropertiesFromMtpStudyShortIdAndState=function(t,i){return e._createPropertiesFromStudyIdAndState.call(this,n(t),i)},t}(c.StudyLineDataSource),d="mtp_tsanalysis",p=function(e){function t(t,i,n){var r=e.call(this,t,i,n,d)||this;return r._constructor="LineStudyMtpAnalysis",r}return Object(r.__extends)(t,e),t.prototype.pointsCount=function(){return 1},t.createProperties=function(t){return e._createPropertiesFromMtpStudyShortIdAndState.call(this,d,t)},t.studyId=function(){return n(d)},t.prototype._studyInputs=function(e){var t,i
;return Object(o.assert)(1===e.length,"all the line tool points should be defined"),t=e[0].index,null===(i=this._model.mainSeries().bars().valueAt(t))?null:{displayZoneLabels:this.properties().inputs.displayZoneLabels.value(),bar:1e3*Object(o.ensureNotNull)(Object(o.ensureDefined)(i[0])),account_size:this.properties().inputs.account_size.value(),percent_risk:this.properties().inputs.percent_risk.value(),tickEntryOffset:this.properties().inputs.tickEntryOffset.value(),tickStopOffset:this.properties().inputs.tickStopOffset.value(),minRRRatio:this.properties().inputs.minRRRatio.value(),shouldFilterWPTZones:this.properties().inputs.shouldFilterWPTZones.value(),shouldFilterSTFTrends:this.properties().inputs.shouldFilterSTFTrends.value()}},t}(h),f="mtp_decisionpoint",_=function(e){function t(t,i,n){var r=e.call(this,t,i,n,f)||this;return r._constructor="LineStudyMtpDecisionPoint",r._symbolIntervalChanged=!1,r._model.mainSeries().onSymbolIntervalChanged().subscribe(r,r._onSymbolIntervalChanged),r}return Object(r.__extends)(t,e),t.prototype.destroy=function(){this._model.mainSeries().onSymbolIntervalChanged().unsubscribeAll(this),e.prototype.destroy.call(this)},t.prototype.pointsCount=function(){return 1},t.prototype.onData=function(t){e.prototype.onData.call(this,t),this._symbolIntervalChanged=!1},t.createProperties=function(t){return e._createPropertiesFromMtpStudyShortIdAndState.call(this,f,t)},t.studyId=function(){return n(f)},t.prototype._studyInputs=function(e){var t,i;return Object(o.assert)(1===e.length,"all the line tool points should be defined"),t=e[0].index,null===(i=this._model.mainSeries().bars().valueAt(t))?null:{displayZoneLabels:this.properties().inputs.displayZoneLabels.value(),symbolIntervalChanged:this._symbolIntervalChanged,bar:1e3*Object(o.ensureNotNull)(Object(o.ensureDefined)(i[0]))}},t.prototype._onSymbolIntervalChanged=function(){this._symbolIntervalChanged=!0},t}(h),m="mtp_riskreward",g=function(e){function t(t,i,n){var r=e.call(this,t,i,n,m)||this;return r._constructor="LineStudyMtpRiskReward",r}return Object(r.__extends)(t,e),t.prototype.pointsCount=function(){return 3},t.createProperties=function(t){return e._createPropertiesFromMtpStudyShortIdAndState.call(this,m,t)},t.getTooltipText=function(e){return e&&0!==e._points.length?1===e._points.length?"Select Stop Bar":2===e._points.length?"Select Target Point":null:"Select Entry Setup Bar"},t.studyId=function(){return n(m)},t.prototype._studyInputs=function(e){var t,i,n,r,s,a;return Object(o.assert)(3===e.length,"all the line tool points should be defined"),t=e[0].index,i=e[1].index,n=e[2].index,r=this._model.mainSeries().bars().valueAt(t),s=this._model.mainSeries().bars().valueAt(i),a=this._model.mainSeries().bars().valueAt(n),null===r||null===s||null===a?null:{entry_bar:1e3*Object(o.ensureNotNull)(Object(o.ensureDefined)(r[0])),stop_bar:1e3*Object(o.ensureNotNull)(Object(o.ensureDefined)(s[0])),target_bar:1e3*Object(o.ensureNotNull)(Object(o.ensureDefined)(a[0])),target_price:e[2].price,account_size:this.properties().inputs.account_size.value(),
percent_risk:this.properties().inputs.percent_risk.value(),tickEntryOffset:this.properties().inputs.tickEntryOffset.value(),tickStopOffset:this.properties().inputs.tickStopOffset.value()}},t}(h),v="mtp_ew_main",b=function(e){function t(t,i,n){var r=e.call(this,t,i,n,v)||this;return r._constructor="LineStudyMtpElliotWaveMain",r}return Object(r.__extends)(t,e),t.createProperties=function(t){return e._createPropertiesFromMtpStudyShortIdAndState.call(this,v,t)},t.studyId=function(){return n(v)},t}(y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.pointsCount=function(){return 1},t.prototype._studyInputs=function(e){var t,i;return Object(o.assert)(1===e.length,"all the line tool points should be defined"),t=e[0].index,null===(i=this._model.mainSeries().bars().valueAt(t))?null:{displayZoneLabels:this.properties().inputs.displayZoneLabels.value(),bar:1e3*Object(o.ensureNotNull)(Object(o.ensureDefined)(i[0]))}},t}(h)),S="mtp_ew_major",w=function(e){function t(t,i,n){var r=e.call(this,t,i,n,S)||this;return r._constructor="LineStudyMtpElliotWaveMajor",r}return Object(r.__extends)(t,e),t.createProperties=function(t){return e._createPropertiesFromMtpStudyShortIdAndState.call(this,S,t)},t.studyId=function(){return n(S)},t}(y),P="mtp_ew_minor",T=function(e){function t(t,i,n){var r=e.call(this,t,i,n,P)||this;return r._constructor="LineStudyMtpElliotWaveMinor",r}return Object(r.__extends)(t,e),t.createProperties=function(t){return e._createPropertiesFromMtpStudyShortIdAndState.call(this,P,t)},t.studyId=function(){return n(P)},t}(y),x="mtp_wpt_down1ora",I=function(e){function t(t,i,n){var r=e.call(this,t,i,n,x)||this;return r._constructor="LineStudyMtpDownWave1OrA",r}return Object(r.__extends)(t,e),t.prototype.pointsCount=function(){return 2},t.createProperties=function(t){return e._createPropertiesFromMtpStudyShortIdAndState.call(this,x,t)},t.getTooltipText=function(e){return"Down Wave 1 or A: Select Point "+((e?e._points.length:0)+1)},t.studyId=function(){return n(x)},t}(C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype._studyInputs=function(e){var t,i,n,r;for(Object(o.assert)(e.length===this.pointsCount(),"all the line tool points should be defined"),t={displayZoneLabels:this.properties().inputs.displayZoneLabels.value()},i=0;i<this.pointsCount();++i){if(n=e[i].index,null===(r=this._model.mainSeries().bars().valueAt(n)))return null;t["bar"+i]=1e3*Object(o.ensureNotNull)(Object(o.ensureDefined)(r[0]))}return t},t}(h)),E="mtp_wpt_down2orb",L=function(e){function t(t,i,n){var r=e.call(this,t,i,n,E)||this;return r._constructor="LineStudyMtpDownWave2OrB",r}return Object(r.__extends)(t,e),t.prototype.pointsCount=function(){return 2},t.createProperties=function(t){return e._createPropertiesFromMtpStudyShortIdAndState.call(this,E,t)},t.getTooltipText=function(e){return"Down Wave 2 or B: Select Point "+((e?e._points.length:0)+1)},t.studyId=function(){return n(E)},t}(C),A="mtp_wpt_down3",O=function(e){
function t(t,i,n){var r=e.call(this,t,i,n,A)||this;return r._constructor="LineStudyMtpDownWave3",r}return Object(r.__extends)(t,e),t.prototype.pointsCount=function(){return 3},t.createProperties=function(t){return e._createPropertiesFromMtpStudyShortIdAndState.call(this,A,t)},t.getTooltipText=function(e){return"Down Wave 3: Select Point "+((e?e._points.length:0)+1)},t.studyId=function(){return n(A)},t}(C),M="mtp_wpt_down4",k=function(e){function t(t,i,n){var r=e.call(this,t,i,n,M)||this;return r._constructor="LineStudyMtpDownWave4",r}return Object(r.__extends)(t,e),t.prototype.pointsCount=function(){return 2},t.createProperties=function(t){return e._createPropertiesFromMtpStudyShortIdAndState.call(this,M,t)},t.getTooltipText=function(e){return"Down Wave 4: Select Point "+((e?e._points.length:0)+1)},t.studyId=function(){return n(M)},t}(C),D="mtp_wpt_down5",R=function(e){function t(t,i,n){var r=e.call(this,t,i,n,D)||this;return r._constructor="LineStudyMtpDownWave5",r}return Object(r.__extends)(t,e),t.prototype.pointsCount=function(){return 5},t.createProperties=function(t){return e._createPropertiesFromMtpStudyShortIdAndState.call(this,D,t)},t.getTooltipText=function(e){return"Down Wave 5: Select Point "+((e?e._points.length:0)+1)},t.studyId=function(){return n(D)},t}(C),V="mtp_wpt_downc",B=function(e){function t(t,i,n){var r=e.call(this,t,i,n,V)||this;return r._constructor="LineStudyMtpDownWaveC",r}return Object(r.__extends)(t,e),t.prototype.pointsCount=function(){return 3},t.createProperties=function(t){return e._createPropertiesFromMtpStudyShortIdAndState.call(this,V,t)},t.getTooltipText=function(e){return"Down Wave C: Select Point "+((e?e._points.length:0)+1)},t.studyId=function(){return n(V)},t}(C),N="mtp_wpt_up1ora",F=function(e){function t(t,i,n){var r=e.call(this,t,i,n,N)||this;return r._constructor="LineStudyMtpUpWave1OrA",r}return Object(r.__extends)(t,e),t.prototype.pointsCount=function(){return 2},t.createProperties=function(t){return e._createPropertiesFromMtpStudyShortIdAndState.call(this,N,t)},t.getTooltipText=function(e){return"Up Wave 1 or A: Select Point "+((e?e._points.length:0)+1)},t.studyId=function(){return n(N)},t}(C),j="mtp_wpt_up2orb",W=function(e){function t(t,i,n){var r=e.call(this,t,i,n,j)||this;return r._constructor="LineStudyMtpUpWave2OrB",r}return Object(r.__extends)(t,e),t.prototype.pointsCount=function(){return 2},t.createProperties=function(t){return e._createPropertiesFromMtpStudyShortIdAndState.call(this,j,t)},t.getTooltipText=function(e){return"Up Wave 2 or B: Select Point "+((e?e._points.length:0)+1)},t.studyId=function(){return n(j)},t}(C),U="mtp_wpt_up3",H=function(e){function t(t,i,n){var r=e.call(this,t,i,n,U)||this;return r._constructor="LineStudyMtpUpWave3",r}return Object(r.__extends)(t,e),t.prototype.pointsCount=function(){return 3},t.createProperties=function(t){return e._createPropertiesFromMtpStudyShortIdAndState.call(this,U,t)},t.getTooltipText=function(e){return"Up Wave 3: Select Point "+((e?e._points.length:0)+1)},t.studyId=function(){return n(U)},t}(C),
z="mtp_wpt_up4",G=function(e){function t(t,i,n){var r=e.call(this,t,i,n,z)||this;return r._constructor="LineStudyMtpUpWave4",r}return Object(r.__extends)(t,e),t.prototype.pointsCount=function(){return 2},t.createProperties=function(t){return e._createPropertiesFromMtpStudyShortIdAndState.call(this,z,t)},t.getTooltipText=function(e){return"Up Wave 4: Select Point "+((e?e._points.length:0)+1)},t.studyId=function(){return n(z)},t}(C),Y="mtp_wpt_up5",q=function(e){function t(t,i,n){var r=e.call(this,t,i,n,Y)||this;return r._constructor="LineStudyMtpUpWave5",r}return Object(r.__extends)(t,e),t.prototype.pointsCount=function(){return 5},t.createProperties=function(t){return e._createPropertiesFromMtpStudyShortIdAndState.call(this,Y,t)},t.getTooltipText=function(e){return"Up Wave 5: Select Point "+((e?e._points.length:0)+1)},t.studyId=function(){return n(Y)},t}(C),X="mtp_wpt_upc",K=function(e){function t(t,i,n){var r=e.call(this,t,i,n,X)||this;return r._constructor="LineStudyMtpUpWaveC",r}return Object(r.__extends)(t,e),t.prototype.pointsCount=function(){return 3},t.createProperties=function(t){return e._createPropertiesFromMtpStudyShortIdAndState.call(this,X,t)},t.getTooltipText=function(e){return"Up Wave C: Select Point "+((e?e._points.length:0)+1)},t.studyId=function(){return n(X)},t}(C),i.d(t,"LineStudyMtpAnalysis",function(){return p}),i.d(t,"LineStudyMtpDecisionPoint",function(){return _}),i.d(t,"LineStudyMtpRiskReward",function(){return g}),i.d(t,"LineStudyMtpElliotWaveMain",function(){return b}),i.d(t,"LineStudyMtpElliotWaveMajor",function(){return w}),i.d(t,"LineStudyMtpElliotWaveMinor",function(){return T}),i.d(t,"LineStudyMtpDownWave1OrA",function(){return I}),i.d(t,"LineStudyMtpDownWave2OrB",function(){return L}),i.d(t,"LineStudyMtpDownWave3",function(){return O}),i.d(t,"LineStudyMtpDownWave4",function(){return k}),i.d(t,"LineStudyMtpDownWave5",function(){return R}),i.d(t,"LineStudyMtpDownWaveC",function(){return B}),i.d(t,"LineStudyMtpUpWave1OrA",function(){return F}),i.d(t,"LineStudyMtpUpWave2OrB",function(){return W}),i.d(t,"LineStudyMtpUpWave3",function(){return H}),i.d(t,"LineStudyMtpUpWave4",function(){return G}),i.d(t,"LineStudyMtpUpWave5",function(){return q}),i.d(t,"LineStudyMtpUpWaveC",function(){return K})},rzpF:function(e,t,i){"use strict";function n(e,t){void 0===t&&(t=!0);var i=document.createElement("script");return i.async=t,i.src=e,document.head.appendChild(i),i}function r(e){var t=document.createElement("img");return t.src=e,t}function o(){return Object(s.isFeatureEnabled)("marketing-analytics")}var s;i.d(t,"a",function(){return n}),i.d(t,"b",function(){return r}),i.d(t,"c",function(){return o}),s=i("+GxX")},rzvv:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor"><path stroke-linecap="square" d="M21.5 14.5a8 8 0 1 0-8 8m6-6v8m-4-4h8"/><path d="M10 14.5h3.5V9m-3.277-1.76a3 3 0 1 0-3.993 3.979m14.565-.012a3 3 0 1 0-4.019-3.966"/></g></svg>'},s1Gx:function(e,t,i){"use strict";function n(e){
return Object(o.__spreadArrays)(e).sort(function(e,t){return e.zorder()-t.zorder()})}function r(e){return e.zorder()>=s}var o,s,a;i.r(t),i.d(t,"specialZOrderBase",function(){return s}),i.d(t,"sortSourcesPreOrdered",function(){return a}),i.d(t,"sortSources",function(){return n}),i.d(t,"isSpeciallyZOrderedSource",function(){return r}),o=i("mrSG"),a={ChartEventsSource:(s=1e7)+1,Dividends:s+2,Splits:s+3,Earnings:s+4,LineToolOrder:s+5,LineToolPosition:s+6,LineToolExecution:s+7,AlertLabel:s+8}},"s4+V":function(e,t,i){"use strict";function n(){return new Promise(function(e){Promise.all([i.e("vendors_embed"),i.e("dialogs-core"),i.e(0),i.e(1),i.e(3),i.e(5),i.e(172),i.e(279),i.e(8),i.e("conversion"),i.e("go-to-tv-referral-dialog"),i.e("go-pro-dialog")]).then(function(t){e(i("EFj7").isOpened())}.bind(null,i)).catch(void 0)})}function r(e){return new Promise(function(t){Promise.all([i.e("vendors_embed"),i.e("dialogs-core"),i.e(0),i.e(1),i.e(3),i.e(5),i.e(172),i.e(279),i.e(8),i.e("conversion"),i.e("go-to-tv-referral-dialog"),i.e("go-pro-dialog")]).then(function(n){t(i("EFj7").goProDialog(e))}.bind(null,i)).catch(void 0)})}var o;i.r(t),i.d(t,"isOpened",function(){return n}),i.d(t,"createGoProDialog",function(){return r}),o=i("iKPL")},s9sR:function(e,t,i){"use strict";var n,r,o,s,a;i.r(t),i.d(t,"SetResolutionUndoCommand",function(){return a}),n=i("mrSG"),r=i("RDU5"),o=i("LxhU"),s=i("n5al"),a=function(e){function t(t,i,n,r){var o=e.call(this,r)||this;return o._property=t,o._value=i,o._prevValue=t.value(),o._chartWidget=n,o}return Object(n.__extends)(t,e),t.prototype.redo=function(){this._chartWidget.screen.show(),this._property.setValue(this._value),this._handleResolution(this._value)},t.prototype.undo=function(){this._chartWidget.screen.show(),this._property.setValue(this._prevValue),this._handleResolution(this._prevValue)},t.prototype._handleResolution=function(e){var t=this._chartWidget.model().mainSeries().properties(),i=t.style.value(),n=Object(s.isRangeStyle)(i),r=o.Interval.isRange(e);!n&&r?t.style.setValue(11):n&&!r&&t.style.setValue(Object(s.getLastUsedStyle)())},t}(r.UndoCommand)},sE80:function(e,t){"undefined"!=typeof window&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t&&1===t.nodeType;t=t.parentNode)if(t.matches(e))return t;return null}))},sEk5:function(e,t,i){"use strict";function n(e){o.call(this,e);var t=this;a.hideMarksOnBars().subscribe(this,function(){t._properties.visible.setValue(!a.hideMarksOnBars().value())})}function r(e){s.call(this)}var o=i("fTGZ").BarsMarksContainer,s=i("BOPY").BarMarkTooltip,a=i("mMWL");inherit(n,o),n.prototype._initialize=function(e){this._properties.visible.setValue(!0)},n.prototype.userEditEnabled=function(){return!1},n.prototype._constructor="UserDefinedBarsMarks",n.prototype._plateViewData=function(e){var t={text:e.text}
;return"object"==typeof e.color&&(t.theme="user_defined_theme",t.overridedTheme={},t.overridedTheme.border=e.color.border,t.overridedTheme.background=e.color.background),t},n.prototype.onClicked=function(e){var t=e.id;this._marks[t].onClicked()},n.prototype.clearMarks=function(){o.prototype.clearMarks.call(this),this.onNeedRepaint.fire()},n.prototype._getData=function(e){var t,i,n,r=this._model.mainSeries().symbolInfo();r&&(t=this.roundRange(this._rangeDifference(e)),i=this,n=this._model.mainSeries().properties().interval.value(),ChartApiInstance.getMarks(r,t.start,t.end,function(t){t.forEach(function(e){i._marks[e.id]=e},i),i._loadedRange=i._rangeUnion(e,i._loadedRange),i.onNeedRepaint.fire()},n))},n.prototype._createTooltip=function(){return new r},n.prototype.updatePlateData=function(e,t){return t.barWidth=this.barWidth(),t.text=e.text,t.tooltipMargin=-1*Math.max(e.minSize/2,.4*this.barWidth()),t},n.prototype.hasContextMenu=function(){return!1},inherit(r,s),r.prototype._createLayout=function(){this._layout=$('<div class="bar-mark-tooltip"></div>'),this._layout_text=$('<div class="text"></div>').appendTo(this._layout)},r.prototype._updatePlate=function(e){this._currentId=e.id,this._layout.css("border-color",e.theme.border),this._layout.css("margin-top",e.tooltipMargin+"px"),this._layout_text.html(e.text),this._layout.append(this._layout_text)},e.exports=n},si6p:function(e,t,i){var n,r,o;r=[i("P5fv")],void 0===(o="function"==typeof(n=function(e){function t(t){var s,l,c,h=t||window.event,d=u.call(arguments,1),p=0,f=0,_=0,m=0,g=0,y=0;if((t=e.event.fix(h)).type="mousewheel","detail"in h&&(_=-1*h.detail),"wheelDelta"in h&&(_=h.wheelDelta),"wheelDeltaY"in h&&(_=h.wheelDeltaY),"wheelDeltaX"in h&&(f=-1*h.wheelDeltaX),"axis"in h&&h.axis===h.HORIZONTAL_AXIS&&(f=-1*_,_=0),p=0===_?f:_,"deltaY"in h&&(_=-1*h.deltaY,p=_),"deltaX"in h&&(f=h.deltaX,0===_&&(p=-1*f)),0!==_||0!==f)return 1===h.deltaMode?(s=e.data(this,"mousewheel-line-height"),p*=s,_*=s,f*=s):2===h.deltaMode&&(l=e.data(this,"mousewheel-page-height"),p*=l,_*=l,f*=l),m=Math.max(Math.abs(_),Math.abs(f)),(!o||m<o)&&(o=m,n(h,m)&&(o/=40)),n(h,m)&&(p/=40,f/=40,_/=40),p=Math[p>=1?"floor":"ceil"](p/o),f=Math[f>=1?"floor":"ceil"](f/o),_=Math[_>=1?"floor":"ceil"](_/o),a.settings.normalizeOffset&&this.getBoundingClientRect&&(c=this.getBoundingClientRect(),g=t.clientX-c.left,y=t.clientY-c.top),t.deltaX=f,t.deltaY=_,t.deltaFactor=o,t.offsetX=g,t.offsetY=y,t.deltaMode=0,d.unshift(t,p,f,_),r&&clearTimeout(r),r=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,d)}function i(){o=null}function n(e,t){return a.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var r,o,s,a,l=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],c="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],u=Array.prototype.slice;if(e.event.fixHooks)for(s=l.length;s;)e.event.fixHooks[l[--s]]=e.event.mouseHooks;a=e.event.special.mousewheel={version:"3.1.12",setup:function(){
if(this.addEventListener)for(var i=c.length;i;)this.addEventListener(c[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",a.getLineHeight(this)),e.data(this,"mousewheel-page-height",a.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=c.length;i;)this.removeEventListener(c[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})?n.apply(t,r):n)||(e.exports=o)},sqlk:function(e,t,i){"use strict";function n(e,t){var i,n;return e.startIndex>=t.length||e.endIndex>=t.length?null:(i=t[e.startIndex],n=t[e.endIndex],i===a.INVALID_TIME_POINT_INDEX||n===a.INVALID_TIME_POINT_INDEX?null:(Object(s.assert)(i<=n,"startIndex should not exceed endIndex"),{startIndex:i,endIndex:n,extendLeft:e.extendLeft,extendRight:e.extendRight,startHighPrice:e.startHighPrice,startLowPrice:e.startLowPrice,endHighPrice:e.endHighPrice,transparency:e.transparency}))}function r(e,t,i){var n=Object(l.ensureTimePointIndexIndex)(i.indexOf(e.startIndex)),r=Object(l.ensureTimePointIndexIndex)(i.indexOf(e.endIndex));return Object(o.__assign)(Object(o.__assign)({id:t},e),{startIndex:n,endIndex:r})}var o,s,a,l;i.d(t,"b",function(){return n}),i.d(t,"a",function(){return r}),o=i("mrSG"),s=i("Eyy1"),a=i("tqok"),l=i("hsV8")},sugt:function(e,t,i){"use strict";function n(e){var t=e.graphics();return[new u(t.dwglabels(),e,"dwglabels",function(e,t){var i,n,r,o=e.yloc!==l.c.Price;return o?(n=e.yloc===l.c.AboveBar?2:3,null!==(r=t.valueAt(e.x))&&(i=r[n])):i=e.y,null===i||void 0===i?null:[new c(e.x,i,o)]}),new u(t.dwglines(),e,"dwglines",function(e,t){return[new c(e.x1,e.y1,!1),new c(e.x2,e.y2,!1)]})]}function r(e,t,i){var r,o,s,a=n(e),l=null;for(r=0,o=a;r<o.length;r++)null!==(s=o[r].groupPriceRange(t,i))&&(l=null===l?s:l.merge(s));return l}function o(e,t,i){return null===t?e:null===e?t:e.index<t.index?i?t:e:i?e:t}function s(e){var t,i,r,o,s,a,l,c,u=e.model().timeScale();if(u.isEmpty())return null;if(null===(t=u.visibleBarsStrictRange()))return null;for(i=t.firstBar(),r=t.lastBar(),o=n(e),s=new h,a=0,l=o;a<l.length;a++)c=l[a].firstValue(i,r),s.improve(c);return s.bestPrice()}var a,l,c,u,h;i.r(t),i.d(t,"studyGraphicsPriceRange",function(){return r}),i.d(t,"studyGraphicsFirstValue",function(){return s}),a=i("Qb4w"),l=i("vaiT"),c=function(){return function(e,t,i){void 0===i&&(i=!1),this.price=t,this.index=e,this.useMainSeriesForPriceRange=i}}(),u=function(){function e(e,t,i,n){this._map=e,this._bars=t.series().bars(),this._props=t.properties().graphics[i],this._getPoints=n}
return e.prototype.groupPriceRange=function(e,t){var i=this,n=null;return this._map.forEach(function(r,o){i._props[o].visible.value()&&r.forEach(function(r){var o,s,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w=i._getPoints(r,i._bars);if(null!==w){for(o=1/0,s=-1/0,l=!1,c=!1,u=!1,h=0,d=w;h<d.length;h++){if(f=(p=d[h]).index<=t,_=p.index>=e,l=l||f,c=c||_,u=u||f&&_,m=p.price,g=p.price,p.useMainSeriesForPriceRange){if(null===(y=i._bars.valueAt(p.index)))return;if(void 0===(v=y[2])||null===v)return;if(void 0===(b=y[3])||null===b)return;m=b,g=v}m<o&&(o=m),g>s&&(s=g)}(u||l&&c)&&(S=new a.PriceRange(o,s),n=null===n?S:n.merge(S))}})}),n},e.prototype.firstValue=function(e,t){var i=this,n=1/0,r=1/0,o=-1/0,s=1/0,a=1/0,l=1/0;return this._map.forEach(function(c,u){i._props[u].visible.value()&&c.forEach(function(c){var u,h,d,p,f=i._getPoints(c,i._bars);if(null!==f)for(u=0,h=f;u<h.length;u++)(p=(d=h[u]).index)<e&&p>o?(o=p,s=d.price):p>t&&p<a?(a=p,l=d.price):p<n&&(n=p,r=d.price)})}),{firstVisible:n===1/0?null:new c(n,r),leftClosest:o===-1/0?null:new c(o,s),rightClosest:a===1/0?null:new c(a,l)}},e}(),h=function(){function e(){this.firstVisible=null,this.leftClosest=null,this.rightClosest=null}return e.prototype.improve=function(e){this.firstVisible=o(this.firstVisible,e.firstVisible,!0),this.leftClosest=o(this.leftClosest,e.leftClosest,!0),this.rightClosest=o(this.rightClosest,e.rightClosest,!1)},e.prototype.bestPrice=function(){return null!==this.firstVisible?this.firstVisible.price:null!==this.leftClosest?this.leftClosest.price:null!==this.rightClosest?this.rightClosest.price:null},e}()},sw9I:function(e,t,i){"use strict";function n(e,t,i,r){if(this.chart=e,this.paneA=e.paneWidgets()[t],this.paneB=e.paneWidgets()[i],this.row=document.createElement("tr"),this.row.style.height=n.HEIGHT+"px",this.cell=document.createElement("td"),this.row.appendChild(this.cell),this.cell.classList.add("pane-separator"),this.cell.setAttribute("colspan","3"),this.cell.style.background=(this.chart.properties().scalesProperties.lineColor.value()||"").toString(),this.cell.addEventListener("click",function(){}),r)this._mouseEventHandler=null;else{var s=document.createElement("div");s.classList.add("handle"),this.cell.appendChild(s),this._mouseEventHandler=new o(s,this,{treatVertTouchDragAsPageScroll:!1,treatHorzTouchDragAsPageScroll:!0}),this._handleEl=s}}var r,o,s,a,l,c;i("bc0y"),r=i("Hr11").clamp,o=i("S8xo").MouseEventHandler,s=i("ikwP"),a=s.Size,l=s.createDisconnectedCanvas,c=s.getPrescaledContext2D,n.prototype.destroy=function(){null!==this._mouseEventHandler&&this._mouseEventHandler.destroy(),this.row.parentElement&&this.row.parentElement.removeChild(this.row)},n.HEIGHT=1,n.prototype.hide=function(){this.row.classList.add("js-hidden")},n.prototype.show=function(){this.row.classList.remove("js-hidden")},n.prototype.mouseDownEvent=function(e){this.startY=e.pageY,this.deltaY=0,this.totalHeight=this.paneA.size().h+this.paneB.size().h,this.totalStretch=this.paneA.stretchFactor()+this.paneB.stretchFactor(),this.prevStretchA=this.paneA.stretchFactor(),this.minPaneHeight=30,
this.maxPaneHeight=this.totalHeight-this.minPaneHeight,this.pixelStretchFactor=this.totalStretch/this.totalHeight,this._handleEl.classList.add("i-active")},n.prototype.pressedMouseMoveEvent=function(e){var t,i,n;this.deltaY=e.pageY-this.startY,t=this.paneA.size().h,i=r(t+this.deltaY,this.minPaneHeight,this.maxPaneHeight)*this.pixelStretchFactor,n=this.totalStretch-i,this.paneA.setStretchFactor(i),this.paneB.setStretchFactor(n),this.chart._adjustSize(),this.paneA.size().h!==t&&(this.startY=e.pageY),this.chart.paint()},n.prototype.mouseUpEvent=function(e){this.chart._model.addPaneStretchFactorUndoCommand(this.paneA._state,this.paneB._state,this.prevStretchA,this.paneA.stretchFactor()),this.startY=0,this.deltaY=0,this.totalHeight=0,this.totalStretch=0,this.minPaneHeight=0,this.maxPaneHeight=0,this.pixelStretchFactor=0,this._handleEl.classList.remove("i-active")},n.prototype.update=function(){this.cell.style.background=(this.chart.properties().scalesProperties.lineColor.value()||"").toString()},n.prototype.paint=function(){},n.prototype.image=function(){var e={},t=n.HEIGHT,i=this.paneA.leftPriceAxisesContainer().getWidth(),r=this.paneA.size().w,o=this.paneA.rightPriceAxisesContainer().getWidth(),s=l(document,new a(i,t)),u=c(s);return u.fillStyle=this.chart.properties().scalesProperties.lineColor.value(),u.fillRect(0,0,i,t),e.leftAxis={content:s.toDataURL(),contentWidth:i,contentHeight:t},s=l(document,new a(r,t)),(u=c(s)).fillStyle=this.chart.properties().scalesProperties.lineColor.value(),u.fillRect(0,0,r,t),e.content=s.toDataURL(),e.contentWidth=r,e.contentHeight=t,s=l(document,new a(o,t)),(u=c(s)).fillStyle=this.chart.properties().scalesProperties.lineColor.value(),u.fillRect(0,0,o,t),e.rightAxis={content:s.toDataURL(),contentWidth:o,contentHeight:t},e},e.exports=n},t1rv:function(e,t,i){"use strict";function n(e,t){var i,n;return e.startIndex>=t.length||e.endIndex>=t.length?null:(i=t[e.startIndex],n=t[e.endIndex],i===a.INVALID_TIME_POINT_INDEX||n===a.INVALID_TIME_POINT_INDEX?null:(Object(s.assert)(i<=n,"startIndex should not exceed endIndex"),{startIndex:i,endIndex:n,startOffset:e.startOffset,endOffset:e.endOffset,startPrice:e.startPrice,endPrice:e.endPrice}))}function r(e,t,i){var n=Object(l.ensureTimePointIndexIndex)(i.indexOf(e.startIndex)),r=Object(l.ensureTimePointIndexIndex)(i.indexOf(e.endIndex));return Object(o.__assign)(Object(o.__assign)({id:t},e),{startIndex:n,endIndex:r})}var o,s,a,l;i.d(t,"b",function(){return n}),i.d(t,"a",function(){return r}),o=i("mrSG"),s=i("Eyy1"),a=i("tqok"),l=i("hsV8")},t2ex:function(e,t,i){"use strict";function n(e){s.call(this,e)}function r(e,t){var o,s;this._constructor="LineToolFibRetracement",o=t||r.createProperties(),a.call(this,e,o),this.version=r.version,this._properties._stateVersion=1,e._fibRetracementLabelsCache||(e._fibRetracementLabelsCache=new n(o.fibLevelsBasedOnLogScale)),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("R7Bt").FibRetracementPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe),
s=[this._properties.child("trendline").child("linewidth"),this._properties.child("levelsStyle").child("linewidth")],this._widthsProperty=new c(s)}var o=i("5rJj"),s=i("xUGI"),a=i("Ss5c").LineDataSource,l=i("hayr").propertyPages,c=i("ytGH").LineToolWidthsProperty,u=window.t("Fib Retracement");inherit(n,s),n.prototype.levelsCount=function(){return r.LevelsCount},inherit(r,a),r.version=2,r.LevelsCount=24,r.prototype.levelsCount=function(){return r.LevelsCount},r.prototype.stop=function(){a.prototype.stop.call(this),this._model._fibRetracementLabelsCache.removeSource(this.id())},r.prototype.pointsCount=function(){return 2},r.prototype.translatedType=function(){return u},r.prototype.name=function(){return"Fib Retracement"},r.prototype.migrateVersion=function(e,t,i){1===e&&this.properties().extendLines.setValue(!0)},r.prototype.processErase=function(e,t){var i="level"+t,n=this.properties()[i].visible;e.setProperty(n,!1,"Erase level line")},r.prototype.getStylesPropertyPage=function(){return l.LineToolFibRetracementStylesPropertyPage},r.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("17v9").FibDrawingsWith24LevelsDefinitionsViewModel}.bind(null,i)).catch(i.oe)},r.createProperties=function(e){var t=new o("linetoolfibretracement",e,!1,{range:[1,24],names:["coeff","color","visible"]});return r._configureProperties(t),t},r._configureProperties=function(e){a._configureProperties(e)},r.prototype.fibLevelsBasedOnLogScale=function(){return this.properties().fibLevelsBasedOnLogScale.value()&&this.priceScale().isLog()},t.LineToolFibRetracement=r},t7cu:function(e,t,i){"use strict";function n(e,t){var i,n,r,o,s,a,l=0;for(i=0,n=t;i<n.length&&(o=(r=n[i]).min,s=r.max,e<o||s<o||(a=Math.min(e,s),e!==(l=Math.max(l,a))));i++);return l}function r(e){var t,i,n,r,o,s=[];if(void 0===e)return[];for(Array.isArray(e)||(e=[e]),t=0,i=e;t<i.length;t++)n=i[t],r=void 0,o=void 0,isFinite(n)?r=o=Number(n):(r=+n.min,o=+n.max),(r<0||isNaN(r))&&(r=0),isNaN(o)&&(o=1/0),r<=o&&o>0&&s.push({min:r,max:o});return s.sort(function(e,t){return e.min-t.min||e.max-t.max}),s}function o(e,t){if(e.length!==t.length)return!1;for(var i=e.length;i--;){if(e[i].min!==t[i].min)return!1;if(e[i].max!==t[i].max)return!1}return!0}i.d(t,"a",function(){return n}),i.d(t,"c",function(){return r}),i.d(t,"b",function(){return o})},tBG4:function(e,t,i){"use strict";var n,r,o,s,a;i.r(t),i.d(t,"SeriesStatusView",function(){return a}),n=i("mrSG"),r=i("nBJD"),o=i("tF8J"),s=i("RqCd"),a=function(e){function t(i,n,r){var o=e.call(this,n)||this;return o._invalidated=!0,o._series=i,o._statusViewProperties=r,o._series.onRestarted().subscribe(o,t.prototype.invalidate),o._series.dataEvents().symbolResolved().subscribe(o,t.prototype.invalidate),o._series.dataEvents().completed().subscribe(o,t.prototype.invalidate),o._series.onBoxSizeChanged().subscribe(o,t.prototype.invalidate),o._statusViewProperties.childs().symbolTextSource.listeners().subscribe(o,t.prototype.invalidate),o}
return Object(n.__extends)(t,e),t.prototype.invalidate=function(){this._invalidated=!0,this.update()},t.prototype.getSeriesPrecision=function(){var e=4,t=this._series.symbolInfo();return t&&t.pricescale&&(e=Math.round(Math.log(t.pricescale)/Math.log(10))),e},t.prototype.round=function(e){var t=this.getSeriesPrecision(),i=Math.round(e*Math.pow(10,t))/Math.pow(10,t);return i?i.toString():""},t.prototype.update=function(){this._invalidated&&(this._bold=!1,this._size=this._statusViewProperties.childs().fontSize.value()+"px",this._text=Object(o.generateTitleForGui)(this._getTitleGenerationOptions()),this._invalidated=!1)},t.prototype.getSplitTitle=function(){return Object(o.generateSplitTitleForGui)(this._getTitleGenerationOptions())},t.prototype._getTitleGenerationOptions=function(){var e=this._series.symbolInfo();return{description:"ticker"===this._statusViewProperties.childs().symbolTextSource.value()?e&&e.name||void 0:Object(s.getTranslatedSymbolDescription)({pro_name:e&&e.pro_name||void 0,short_name:e&&e.name||void 0,description:e&&e.description||void 0,short_description:e&&e.short_description||void 0,local_description:e&&e.local_description||void 0,language:e&&e.language||void 0}),exchange:this._statusViewProperties.childs().showExchange.value()&&e&&e.exchange||void 0,symbol:this._series.symbol(),interval:this._statusViewProperties.childs().showInterval.value()?this._series.interval():void 0,style:this._series.properties().childs().style.value(),inputs:this._series.getInputsProperties().state(),boxSize:this._series.data().boxSize,reversalAmount:this._series.data().reversalAmount}},t}(r.a)},tDUI:function(e,t,i){"use strict";(function(e){function n(t,r){var o,s,c,u,d,p,f,_,m,g=r;a.call(this,t,g),r.stopLevel||r.profitLevel||(s=(o=t.timeScale().visibleBarsStrictRange()).firstBar(),c=o.lastBar(),u=t.mainSeries().priceRange(s,c),(d=t.mainSeries().priceScale()).isLog()&&(p=d.logicalToPrice(u.minValue()),f=d.logicalToPrice(u.maxValue()),u=new e(p,f)),u&&!u.isEmpty()&&(_=Math.round(.2*u.length()*t.mainSeries().base()),g.merge({stopLevel:_,profitLevel:_}))),m=this,g.stopLevel.listeners().subscribe(this,this.recalculate),g.stopLevel.listeners().subscribe(null,function(){m.properties().stopPrice._listeners.fire(m.properties().stopPrice)}),g.profitLevel.listeners().subscribe(this,this.recalculate),g.profitLevel.listeners().subscribe(null,function(){m.properties().targetPrice._listeners.fire(m.properties().targetPrice)}),g.addChild("entryPrice",new n.PriceProperty(this,0)),g.addChild("stopPrice",new n.StopPriceProperty(this)),g.addChild("targetPrice",new n.TargetPriceProperty(this)),g.addProperty("riskSize",250),g.addProperty("qty",0),g.addProperty("amountTarget",g.accountSize.value()),g.addProperty("amountStop",g.accountSize.value()),this._riskInPercentsFormatter=new h(2),this._riskInMoneyFormatter=new h,g.risk.subscribe(this,this._recalculateRiskSize),g.accountSize.subscribe(this,this._recalculateRiskSize),g.riskDisplayMode.subscribe(this,this._recalculateRisk),g.riskDisplayMode.subscribe(this,this._recalculateRiskSize),
g.entryPrice.subscribe(this,this._recalculateRiskSize),g.stopPrice.subscribe(this,this._recalculateRiskSize),g.profitLevel.subscribe(this,this._recalculateRiskSize),g.stopLevel.subscribe(this,this._recalculateRiskSize),g.qty.subscribe(this,this._recalculateRiskSize),"percents"===g.riskDisplayMode.value()&&g.risk.value()>100&&g.riskDisplayMode.setValueSilently("money"),this._syncStateExclusions=["entryPrice","stopPrice","targetPrice","riskSize","qty","amountTarget","amountStop","risk","accountSize"],this.version=n.version,this._entryPriceAxisView=new l(this,{colorProperty:g.linecolor,priceProperty:g.entryPrice}),this._stopPriceAxisView=new l(this,{colorProperty:g.stopBackground,priceProperty:g.stopPrice}),this._profitPriceAxisView=new l(this,{colorProperty:g.profitBackground,priceProperty:g.targetPrice}),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("u+oH").RiskRewardPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}function r(e,t){var i,o;this._constructor="LineToolRiskRewardShort",i=t||r.createProperties(),n.call(this,e,i),(o=this.properties()).entryPrice.subscribe(this,this._recalculateQty),o.stopPrice.subscribe(this,this._recalculateQty),o.riskSize.subscribe(this,this._recalculateQty),o.entryPrice.subscribe(this,this._recalculateAmount),o.profitLevel.subscribe(this,this._recalculateAmount),o.stopLevel.subscribe(this,this._recalculateAmount),o.accountSize.subscribe(this,this._recalculateAmount),o.riskSize.subscribe(this,this._recalculateAmount),o.qty.subscribe(this,this._recalculateAmount)}function o(e,t){var i,r;this._constructor="LineToolRiskRewardLong",i=t||o.createProperties(),n.call(this,e,i),(r=this.properties()).entryPrice.subscribe(this,this._recalculateQty),r.stopPrice.subscribe(this,this._recalculateQty),r.riskSize.subscribe(this,this._recalculateQty),r.entryPrice.subscribe(this,this._recalculateAmount),r.profitLevel.subscribe(this,this._recalculateAmount),r.stopLevel.subscribe(this,this._recalculateAmount),r.accountSize.subscribe(this,this._recalculateAmount),r.riskSize.subscribe(this,this._recalculateAmount),r.qty.subscribe(this,this._recalculateAmount)}var s=i("Eyy1").ensureNotNull,a=i("Ss5c").LineDataSource,l=i("gMtF").LineToolRiskRewardPriceAxisView,c=i("mMWL"),u=i("Ocx9").DefaultProperty,h=i("zXvd").NumericFormatter,d=i("hayr").propertyPages,p=i("wGNx").RiskRewardPointIndex,f=i("OekH"),_=f.SIDE,m=f.ORDERTYPE,g=window.t("Risk/Reward"),y=window.t("Risk/Reward short");inherit(n,a),n.prototype.riskFormatter=function(e){return"percents"===e?this._riskInPercentsFormatter:this._riskInMoneyFormatter},n.prototype.getRiskStep=function(e){return"percents"===e?.01:1},n.prototype._roundValue=function(e){return parseFloat(e.toFixed(2))},n.prototype.hasEditableCoordinates=function(){return!1},n.prototype._recalculateRisk=function(){var e=this.properties(),t=e.riskDisplayMode.value(),i=e.riskSize.value(),n=e.accountSize.value(),r=e.risk.value();r="percents"===t?this._roundValue(i/n*100):this._roundValue(n/100*r),this._riskInChange=!0,
e.risk.setValue(this.riskFormatter(t).format(r)),this._riskInChange=!1},n.prototype._recalculateRiskSize=function(){var e,t,i,n;this._riskInChange||(t=(e=this.properties()).risk.value(),i=e.riskDisplayMode.value(),n=e.accountSize.value(),"percents"===i?e.riskSize.setValue(t/100*n):t>n?(e.risk.setValue(n),e.riskSize.setValue(n)):e.riskSize.setValue(t))},n.version=2,n.prototype.lastBarData=function(){var e,t,i,n,r=this._model.mainSeries().bars().firstIndex(),o=this._model.mainSeries().bars().lastIndex();return null===r||null===o||isNaN(r)||isNaN(o)?null:4===(e=this.points()).length?(t=e[p.ActualClose]).index<r?null:{closePrice:t.price,index:Math.min(o,t.index)}:(i=e[p.Close]).index<r?null:(n=Math.min(o,i.index),{closePrice:s(this._model.mainSeries().bars().valueAt(n))[TradingView.CLOSE_PLOT],index:n})},n.prototype.migrateVersion=function(e,t,i){var n,r,o,s;1===e&&this._points.length>=1&&((n=[]).push(this._points[0]),r={price:(r=this._points[0]).price,index:r.index+50},n.push(r),this._points[1]&&n.push(this._points[1]),this._points[2]&&n.push(this._points[2]),this._points=n,this._timePoint.length>=1&&(o=[],r=this._timePoint[0],o.push(r),s={price:r.price,time_t:r.time_t,offset:r.offset+50},o.push(s),this._timePoint[1]&&n.push(this._points[1]),this._timePoint[2]&&n.push(this._points[2]),this._timePoint=o))},n.prototype.checkAlert=function(){this.recalculate()},n.prototype.priceAxisViews=function(e,t){return this.isSourceHidden()?null:t!==this.priceScale()||this._model.paneForSource(this)!==e?null:[this._entryPriceAxisView,this._stopPriceAxisView,this._profitPriceAxisView]},n.prototype.updateAllViews=function(){this.isActualSymbol()&&this._properties.visible.value()&&(c.hideAllDrawings().value()&&this.userEditEnabled()||(a.prototype.updateAllViews.call(this),this._entryPriceAxisView.update(),this._stopPriceAxisView.update(),this._profitPriceAxisView.update()))},n.prototype._changeEntryPoint=function(e){var t=this.properties().stopPrice.value(),i=this.properties().targetPrice.value(),n=1/this._model.mainSeries().base(),r=Math.min(t,i)+n,o=Math.max(t,i)-n;e.price=Math.max(r,Math.min(o,this._roundPrice(e.price))),a.prototype.setPoint.call(this,0,e),this.properties().stopPrice.setValue(t),this.properties().targetPrice.setValue(i)},n.prototype.setPoint=function(e,t){switch(e){case 0:this.isActualSymbol()&&this._changeEntryPoint(t);break;case 2:this.isActualSymbol()&&this.properties().stopPrice.setValue(this.preparseStopPrice(t.price));break;case 3:this.isActualSymbol()&&this.properties().targetPrice.setValue(this.preparseProfitPrice(t.price));break;case 1:this.isActualSymbol()&&(t.price=this._roundPrice(t.price),a.prototype.setPoint.call(this,1,t),this.recalculate())}},n.PriceProperty=function(e,t){a.PointPriceProperty.call(this,e,t)},inherit(n.PriceProperty,a.PointPriceProperty),n.PriceProperty.prototype.setValue=function(e){var t=this._lineSource.points()[this._pointIndex];t.price=parseFloat(e),this._lineSource.setPoint(this._pointIndex,t),this._lineSource.recalculate(),this._lineSource._model.updateSource(this._lineSource),
this._listeners.fire(this),this._lineSource.endChanging(),this._lineSource._syncMultichartState()},n.StopPriceProperty=function(e){n.PriceProperty.call(this,e,1)},inherit(n.StopPriceProperty,n.PriceProperty),n.StopPriceProperty.prototype.value=function(){var e=this._lineSource.stopPrice(),t=this._lineSource.ownerSource().formatter(),i=t.parse(t.format(e));return i.value},n.StopPriceProperty.prototype.setValue=function(e){var t=Math.round(Math.abs(e-this._lineSource.entryPrice())*this._lineSource._model.mainSeries().base());this._lineSource.properties().stopLevel.setValue(t)},n.TargetPriceProperty=function(e){n.PriceProperty.call(this,e,2)},inherit(n.TargetPriceProperty,n.PriceProperty),n.TargetPriceProperty.prototype.value=function(){var e=this._lineSource.profitPrice(),t=this._lineSource.ownerSource().formatter(),i=t.parse(t.format(e));return i.value},n.TargetPriceProperty.prototype.setValue=function(e){var t=Math.round(Math.abs(e-this._lineSource.entryPrice())*this._lineSource._model.mainSeries().base());this._lineSource.properties().profitLevel.setValue(t)},n.prototype.pointsCount=function(){return 1},n.prototype.translatedType=function(){return""},n.prototype.name=function(){return"Risk/Reward"},n.prototype.addPoint=function(e){var t,i;return e.price=this._roundPrice(e.price),a.prototype.addPoint.call(this,e,null,!0),t={price:e.price,index:e.index+50},a.prototype._addPointIntenal.call(this,t,null,!0),(i=this.calculateActualEntry(e,t))&&(a.prototype._addPointIntenal.call(this,i,null,!0),(t=this.findClosePoint(i,t))&&a.prototype._addPointIntenal.call(this,t,null,!0)),this._lastPoint=null,this.normalizePoints(),this.createServerPoints(),!0},n.prototype._roundPrice=function(e){var t=this._model.mainSeries().base(),i=Math.round(e*t);return i/t},n.prototype.recalculate=function(){var e,t,i,n,r;this.properties().interval.value()===this._model.mainSeries().interval()&&0!==this.points().length&&(e=this.properties().targetPrice.value(),t=this.properties().stopPrice.value(),i=[this._points[0],this._points[1]],(n=this.calculateActualEntry(this.points()[0],this.points()[1]))&&(i.push(n),(r=this.findClosePoint(n,this.points()[1]))&&i.push(r)),this._points=i,e!==this.properties().targetPrice.value()&&this.properties().targetPrice._listeners.fire(this.properties().targetPrice),t!==this.properties().stopPrice.value()&&this.properties().stopPrice._listeners.fire(this.properties().stopPrice))},n.prototype.start=function(){a.prototype.start.call(this),this.recalculate()},n.prototype.startMoving=function(e,t,i){e.logical.price=this._roundPrice(e.logical.price),a.prototype.startMoving.call(this,e,t,i)},n.prototype.move=function(e,t,i){e.logical.price=this._roundPrice(e.logical.price),a.prototype.move.call(this,e,t,i),this.recalculate(),this._entryPriceAxisView.update()},n.prototype.correctPoints=function(e){return!!this.isActualSymbol()&&a.prototype.correctPoints.call(this,[e[0],e[1]])},n.prototype.entryPrice=function(){return this.points()[0].price},n.prototype.findClosePoint=function(e,t){
var i,n,r,o=this._model.mainSeries().bars(),a=s(o.firstIndex()),l=Math.max(e.index,a),c=s(o.lastIndex());for(i=l;i<=Math.min(c,t.index);i++)if(n=s(o.valueAt(i)),null!=(r=this.checkStopPrice(n)))return{index:i,price:r};return null},n.prototype.calculateActualEntry=function(e,t){var i,n,r=this._model.mainSeries().bars(),o=s(r.firstIndex()),a=Math.max(e.index,o),l=e.price,c=s(r.lastIndex());for(i=a;i<=Math.min(c,t.index);i++)if((n=s(r.valueAt(i)))[TradingView.HIGH_PLOT]>=l&&n[TradingView.LOW_PLOT]<=l)return{index:i,price:l};return null},n.prototype.axisPoints=function(){var e,t,i;if(!this._points[p.ActualEntry])return[];if(e=this._points[p.ActualEntry],t=null,4===this._points.length)t=this._points[p.ActualClose];else{if(!(i=this.lastBarData()))return[];t={index:i.index,price:i.closePrice}}return[e,t]},n.prototype.getInputsPropertyPage=function(){return d.LineToolRiskRewardInputsPropertyPage},n.prototype.getStylesPropertyPage=function(){return d.LineToolRiskRewardStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("RYNR").RiskRewardDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.prototype.template=function(){var e=this.properties(),t=a.prototype.template.call(this);return t.stopLevel=e.stopLevel.value(),t.profitLevel=e.profitLevel.value(),t},n.prototype._applyTemplateImpl=function(e){a.prototype._applyTemplateImpl.call(this,e);var t=this.properties();void 0!==e.stopLevel&&t.stopLevel.setValue(e.stopLevel),void 0!==e.profitLevel&&t.profitLevel.setValue(e.profitLevel)},n.prototype.getOrderTemplate=function(){var e=this.properties();return{qty:e.qty.value(),limitPrice:e.entryPrice.value(),stopLoss:e.stopPrice.value(),takeProfit:e.targetPrice.value(),side:this._orderSide(),type:m.LIMIT}},n._configureProperties=function(e){a._configureProperties(e),e.addExclusion("stopLevel"),e.addExclusion("profitLevel")},inherit(r,n),r.prototype._recalculateQty=function(){var e,t,i,n,r;0!==this.points().length&&(t=(e=this.properties()).entryPrice.value(),i=e.stopPrice.value(),n=e.riskSize.value(),r=Math.floor(n/Math.abs(i-t)),e.qty.setValue(r))},r.prototype._recalculateAmount=function(){var e,t,i,n,r,o,s,a;0!==this.points().length&&(t=(e=this.properties()).accountSize.value(),i=e.entryPrice.value(),n=e.qty.value(),r=e.stopPrice.value(),o=e.targetPrice.value(),s=this._roundValue(t+(i-o)*n),a=this._roundValue(t-(r-i)*n),e.amountTarget.setValue(s),e.amountStop.setValue(a))},r.prototype.translatedType=function(){return y},r.prototype.name=function(){return"Risk/Reward short"},r.prototype.stopPrice=function(){return this.entryPrice()+this.properties().stopLevel.value()/this._model.mainSeries().base()},r.prototype.profitPrice=function(){return this.entryPrice()-this.properties().profitLevel.value()/this._model.mainSeries().base()},r.prototype.calculatePL=function(e){return this.entryPrice()-e},r.prototype.preparseStopPrice=function(e){e=this._roundPrice(e)
;var t=this.entryPrice()+1/this._model.mainSeries().base();return Math.max(e,t)},r.prototype.preparseProfitPrice=function(e){e=this._roundPrice(e);var t=this.entryPrice()-1/this._model.mainSeries().base();return Math.min(e,t)},r.prototype.checkStopPrice=function(e){var t=this.stopPrice(),i=this.profitPrice();return e[TradingView.HIGH_PLOT]>=t?this.stopPrice():e[TradingView.LOW_PLOT]<=i?this.profitPrice():null},r.prototype._orderSide=function(){return _.SELL},r.createProperties=function(e){var t=new u("linetoolriskrewardshort",e);return r._configureProperties(t),t},r._configureProperties=function(e){n._configureProperties(e)},inherit(o,n),o.prototype._recalculateQty=function(){var e,t,i,n,r;0!==this.points().length&&(t=(e=this.properties()).entryPrice.value(),i=e.stopPrice.value(),n=e.riskSize.value(),r=Math.floor(n/Math.abs(t-i)),e.qty.setValue(r))},o.prototype._recalculateAmount=function(){var e,t,i,n,r,o,s,a;0!==this.points().length&&(t=(e=this.properties()).accountSize.value(),i=e.entryPrice.value(),n=e.qty.value(),r=e.stopPrice.value(),o=e.targetPrice.value(),s=this._roundValue(t+(o-i)*n),a=this._roundValue(t-(i-r)*n),e.amountTarget.setValue(s),e.amountStop.setValue(a))},o.prototype.stopPrice=function(){return this.entryPrice()-this.properties().stopLevel.value()/this._model.mainSeries().base()},o.prototype.profitPrice=function(){return this.entryPrice()+this.properties().profitLevel.value()/this._model.mainSeries().base()},o.prototype.calculatePL=function(e){return e-this.entryPrice()},o.prototype.preparseStopPrice=function(e){e=this._roundPrice(e);var t=this.entryPrice()-1/this._model.mainSeries().base();return Math.min(e,t)},o.prototype.preparseProfitPrice=function(e){e=this._roundPrice(e);var t=this.entryPrice()+1/this._model.mainSeries().base();return Math.max(e,t)},o.prototype.checkStopPrice=function(e){var t=this.stopPrice(),i=this.profitPrice();return e[TradingView.LOW_PLOT]<=t?this.stopPrice():e[TradingView.HIGH_PLOT]>=i?this.profitPrice():null},o.prototype.translatedType=function(){return g},o.prototype.name=function(){return"Risk/Reward long"},o.prototype._orderSide=function(){return _.BUY},o.createProperties=function(e){var t=new u("linetoolriskrewardlong",e);return o._configureProperties(t),t},o._configureProperties=function(e){n._configureProperties(e)},t.LineToolRiskRewardLong=o,t.LineToolRiskRewardShort=r}).call(this,i("Qb4w").PriceRange)},tF8J:function(e,t,i){"use strict";function n(e,t){return(Math.round(e*Math.pow(10,t))/Math.pow(10,t)).toString()||""}function r(e){var t,i,r;return t="QUANDL"===(e=e||{}).exchange,i={symbolDescription:"",interval:"",exchange:"",chartStyle:"",extended:"",provider:""},e.description&&t?2===e.description.split("/").length?i.symbolDescription=e.description.split("/")[1]:e.description.split("'").filter(function(e){return e.length}).forEach(function(e){var t=[];t=e&&("/"===e[0]||/\d+\/\(?/.test(e))?[e]:e.split("/").filter(function(e){return e.length}),i.symbolDescription+=t[2===t.length?1:0]
}):e.description?i.symbolDescription=e.description:i.symbolDescription=e.symbol,e.interval&&(i.interval=Object(c.translatedIntervalString)(e.interval)),t&&e.description&&((r=/[\w_]+\/[\w_]+/.exec(e.description))&&r[0]?i.provider=r[0].split("/")[0]:i.provider=e.description.split("/")[0]),e.exchange&&(i.exchange=e.exchange),i.chartStyle=function(e){var t,i,r,o,s,a,c,u=e.inputs;switch(e.style){case 4:return t=u.style+("ATR"===u.style?"("+u.atrLength+")":""),i=Object(l.ensureDefined)(e.boxSize||u.boxSize),window.t("Renko")+" ["+t+", "+n(i,4)+"]";case 7:return window.t("Line Break")+" ["+u.lb+"]";case 5:return r=u.style+("ATR"===u.style?"("+u.atrLength+")":""),s=void 0!==(o=e.reversalAmount||u.reversalAmount)?", "+n(o,8):"",window.t("Kagi")+" ["+r+s+"]";case 6:return a=u.style+("ATR"===u.style?"("+u.atrLength+")":""),c=e.boxSize||u.boxSize,window.t("PnF")+" ["+a+", "+n(Object(l.ensureDefined)(c),8)+", "+u.reversalAmount+"]"}return 11===e.style?window.t("Range"):8===e.style?window.t("Heikin Ashi"):""}(e),e.extended&&(i.extended=window.t("ext",{context:"shorthand_for_extended_session"})),i}function o(e){var t=r(e),i=t.symbolDescription+(t.interval?", "+t.interval:"")+function(e,t){void 0===t&&(t=", ");return(e.provider?""+t+e.provider:"")+(e.exchange?""+t+e.exchange:"")+(e.chartStyle?""+t+e.chartStyle:"")+(e.extended?""+t+e.extended:"")}(t);return i.replace(/\'/g,"")}function s(e){var t=r(e),i=t.symbolDescription.replace(/\'/g,""),n=function(e){var t=[];e.provider&&t.push(e.provider);e.exchange&&t.push(e.exchange);e.chartStyle&&t.push(e.chartStyle);e.extended&&t.push(e.extended);return t}(t).map(function(e){return e.replace(/\'/g,"")});return Object(a.__spreadArrays)([i,t.interval||""],n)}var a,l,c;i.r(t),i.d(t,"generateTitleForGui",function(){return o}),i.d(t,"generateSplitTitleForGui",function(){return s}),a=i("mrSG"),l=i("Eyy1"),c=i("IzGk")},tG6Q:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolCircleLines";var o=t||n.createProperties();r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("GS+0").LineToolCircleLinesPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=window.t("Cyclic Lines");inherit(n,r),n.prototype.pointsCount=function(){return 2},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Cyclic Lines"},n.prototype.getStylesPropertyPage=function(){return s.LineToolCircleLinesStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("LX4V").CyclicAndSineLinesPatternDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new o("linetoolcirclelines",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolCircleLines=n},tHq3:function(e,t){
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="#4758a9" d="M0 0h18v18H0z"/><path fill="#fff" d="M9 4.5V0H0v9h4.5V6l3 3H9V7L6.5 4.5H9zM7 13l-1 .5v.5h-.5L5 15l-.5-1H4v-.6L3 13l1-.4V12h.5l.5-1 .5 1H6v.6zm6-.4l.3.5h.6l-.3.4.5.4-.6.1v.6l-.4-.4-.5.4V14l-.5-.1.4-.4-.2-.5.5.1zm-2.2-5.5l.2.6.6-.2-.3.5.5.4-.6.1v.6l-.4-.4-.5.4v-.6l-.5-.1.4-.4-.2-.5.5.2zm2.3-3l.2.4.6-.1-.3.5.5.4h-.6V6l-.4-.4-.5.4v-.6l-.5-.1.4-.4-.2-.5.5.1zm2 2.3l.2.5.6-.1-.3.5.5.3-.6.1v.6l-.4-.3-.5.3v-.6h-.5l.4-.4-.2-.6.5.2zM13.6 9l.2.6h.7l-.5.4.1.6-.5-.4-.5.4.2-.6-.5-.4h.6z"/><path fill="#ed5565" d="M3 1V0H1v1H0v2h1v6h2V3h6V1H3zm6 7L5 4H4l5 5V8z"/></svg>'},tS10:function(e,t,i){"use strict";function n(e,t,i){var n=e.get(t);return void 0!==n?n:(e.set(t,i),i)}function r(e,t,i,r){return n(n(e,t,new Map),i,r)}function o(e,t,i,r,o){var s=n(e,t,new Map),a=n(s,i,new Map);return n(a,r,o)}var s,a=i("mrSG"),l=function(){function e(){this._map=new Map,this._size=0}return e.prototype.size=function(){return this._size},e.prototype.clear=function(){this._map.clear(),this._size=0},e}(),c=(function(e){function t(){return e.call(this)||this}Object(a.__extends)(t,e),t.prototype._add=function(e,t){n(this._map,e,[]).push(t),++this._size},t.prototype._get=function(e){return n(this._map,e,[])},t.prototype._forEach=function(e){this._map.forEach(function(t,i){e(i,t)})}}(l),function(e){function t(){return e.call(this)||this}Object(a.__extends)(t,e),t.prototype._add=function(e,t,i){r(this._map,e,t,[]).push(i),++this._size},t.prototype._get=function(e,t){return r(this._map,e,t,[])},t.prototype._forEach=function(e){this._map.forEach(function(t,i){t.forEach(function(t,n){e(i,n,t)})})}}(l),function(e){function t(){return e.call(this)||this}Object(a.__extends)(t,e),t.prototype._add=function(e,t,i,n){o(this._map,e,t,i,[]).push(n),++this._size},t.prototype._get=function(e,t,i){return o(this._map,e,t,i,[])},t.prototype._forEach=function(e){this._map.forEach(function(t,i){t.forEach(function(t,n){t.forEach(function(t,r){e(i,n,r,t)})})})}}(l),i("gBDZ"));i.d(t,"a",function(){return s}),s=function(e){function t(t){var i=e.call(this)||this;return i._maxSize=t,i._keysQueue=[],i}return Object(a.__extends)(t,e),t.prototype.get=function(e){var t,i,n,o,s;return e.text&&e.fontSize&&e.align?(t=e.fontSize,i=e.text,n=e.align,void 0!==(s=(o=r(this._map,t,n,new Map)).get(i))?s:(this._size>=this._maxSize?this._deleteFirstKey():++this._size,this._keysQueue.push([t,i,n]),s=new c.b(e.text,e.bold,e.italic,e.font,e.fontSize,e.align),o.set(i,s),s)):null},t.prototype._deleteFirstKey=function(){var e=this._keysQueue.shift(),t=e[0],i=e[1],n=this._map.get(t);n.delete(i),0===n.size&&this._map.delete(t)},t}(l)},tWVy:function(e,t,i){"use strict";function n(){o.fire()}var r,o;i.d(t,"a",function(){return o}),i.d(t,"b",function(){return n}),r=i("aIyQ"),o=new(i.n(r).a)},"tc+8":function(e,t,i){"use strict";(function(t){function i(e){if(this._listeners=new t,this._childs=[],this._muteChildChanges=!1,
void 0!==e&&null!==e)if(this.isPrimitiveType(e))this._value=e;else for(var i in e)this.addProperty(i,e[i])}i.prototype.merge=function(e,t){var i,n,r,o,s=null;if(t&&(i=(s=[]).length),null==e)return s;if(this.isPrimitiveType(e))return t&&this._value!==e&&s.push(this),this._value=e,s;if(Array.isArray(e))for(n=0;n<e.length;n++)this[n]?(r=this[n].merge(e[n],t),t&&(s=s.concat(r))):(this.addProperty(n,e[n]),t&&s.push(this[n]));else for(o in e)this[o]?(r=this[o].merge(e[o],t),t&&(s=s.concat(r))):(this.addProperty(o,e[o]),t&&s.push(this[o]));return t&&s.length>i&&s.push(this),s},i.prototype.mergeAndFire=function(e){var t=this.merge(e,!0);this._muteChildChanges=!0,t.forEach(function(e){e._muteChildChanges=!0}),t.forEach(function(e){e._muteChildChanges=!1,e.listeners().fire(e)}),this._muteChildChanges=!1,t.length>0&&this.listeners().fire(this)},i.prototype.state=function(e){var t,i,n,r,o,s=this._value;for(void 0===s&&(s={}),t=0;t<this._childs.length;t++)if(i=this._childs[t],!e||-1===e.indexOf(i))if(e){for(n=[],r=0;r<e.length;r++)(o=e[r]).startsWith(i+".")&&n.push(o.substr(i.length+1));s[i]=this[i].state(n)}else s[i]=this[i].state();return s},i.prototype.clone=function(e){return new i(this.state())},i.prototype.isPrimitiveType=function(e){return!!isNumber(e)||(!!new TradingView.TypeValidator(String).check(e)||TradingView.isBoolean(e))},i.prototype.value=function(){return this._value},i.prototype.listeners=function(){return this._listeners},i.prototype.childCount=function(){return this._childs.length},i.prototype.childNames=function(){return this._childs},i.prototype.child=function(e){return this[e]},i.prototype.setValue=function(e,t){(this._value!==e||t)&&(this._value=e,this._listeners.fire(this))},i.prototype.setValueSilently=function(e){this._value=e},i.prototype.addProperty=function(e,t){var n=new i(t);this[e]=n,this._childs.push(e),n.listeners().subscribe(this,i.prototype.childChanged)},i.prototype.removeProperty=function(e){this[e].listeners().unsubscribe(this,i.prototype.childChanged),delete this[e],this._childs=this._childs.filter(function(t){return t!==e})},i.prototype.hasChild=function(e){return this._childs.indexOf(e)>=0},i.prototype.addChild=function(e,t){this[e]=t,-1===this._childs.indexOf(e)&&this._childs.push(e),t.listeners().subscribe(this,i.prototype.childChanged)},i.prototype.childChanged=function(e,t){this._muteChildChanges||this.listeners().fire(this)},i.prototype.subscribe=function(e,t){this.listeners().subscribe(e,t,!1)},i.prototype.unsubscribe=function(e,t){this.listeners().unsubscribe(e,t)},i.prototype.unsubscribeAll=function(e){this.listeners().unsubscribeAll(e)},i.prototype.childs=function(){return this},e.exports=i}).call(this,i("aIyQ"))},tqok:function(e,t,i){"use strict";i.r(t),i.d(t,"INVALID_TIME_POINT_INDEX",function(){return n});var n=-2e6},"u+0B":function(e,t,i){"use strict";var n,r;i.r(t),i.d(t,"TextWidthCache",function(){return r}),n=/[2-9]/g,r=function(){function e(e){void 0===e&&(e=50),this._actualSize=0,this._usageTick=1,this._oldestTick=1,this._tick2Labels={},this._cache={},this._maxSize=e}
return e.prototype.reset=function(){this._actualSize=0,this._cache={},this._usageTick=1,this._oldestTick=1,this._tick2Labels={}},e.prototype.measureText=function(e,t,i){var r,o,s=i||n,a=String(t).replace(s,"0");return this._cache[a]?this._cache[a].width:(this._actualSize===this._maxSize&&(r=this._tick2Labels[this._oldestTick],delete this._tick2Labels[this._oldestTick],delete this._cache[r],this._oldestTick++,this._actualSize--),0===(o=e.measureText(a).width)&&t.length?0:(this._cache[a]={width:o,tick:this._usageTick},this._tick2Labels[this._usageTick]=a,this._actualSize++,this._usageTick++,o))},e}()},u0yd:function(e,t,i){"use strict";function n(e){e.forceLineColor=!1,o.call(this,e),this.color1=e.color1,this.color2=e.color2,this.bottom=e.bottom,this.isSeries=!!e.isSeries,this._simpleMode=e.simpleMode}var r=i("Zp/P").coordinateIsValid,o=i("gyZD").PaneRendererLine;inherit(n,o),n.prototype._drawImpl=function(e){var t,i,n,s,a,l,c,u,h,d,p,f;if(0!==this.items.length){for(e.lineCap="square",e.strokeStyle=this.lineColor,e.lineWidth=this.lineWidth,e.lineStyle=this.lineStyle,e.lineWidth=1,t=0;t<this.items.length&&!r(this.items[t].y);)t++;for(i=this.items.length-1;i>=0&&!r(this.items[i].y);)i--;if(!(t>=i)){for(e.translate(.5,.5),n={},s=this.items,a=t;a<=i;a++)c=(l=s[a]).style?l.style.color:this.lineColor,a<i&&s[a+1].style&&c!==(u=s[a+1].style.color)&&((h=n[u]||[]).push(l),n[u]=h),(d=n[c]||[]).push(l),n[c]=d;for(c in n){for(d=n[c],e.beginPath(),p=0,a=0;a<d.length;a++)d[a].style&&d[a].style.color!==c&&(e.moveTo(d[p].x,this.bottom),this.walkLine(e,d.slice(p,a),!0,this.bottom),p=a);e.moveTo(d[p].x,this.bottom),this.walkLine(e,d.slice(p,d.length),!0,this.bottom),e.closePath(),this.isSeries?((f=e.createLinearGradient(0,0,0,this.bottom)).addColorStop(0,this.color1),f.addColorStop(1,this.color2),e.fillStyle=f,this._simpleMode=!0):e.fillStyle=c,e.fill()}e.lineWidth=this.lineWidth,o.prototype._drawImpl.call(this,e)}}},t.PaneRendererArea=TradingView.PaneRendererArea=n},u5Q5:function(e,t,i){"use strict";function n(){return new Promise(function(e){Promise.all([i.e("vendors_embed"),i.e(5),i.e(36),i.e(71),i.e(92),i.e(273),i.e(19),i.e(34),i.e(57),i.e("symbolsearch")]).then(function(t){e(i("m5UM"))}.bind(null,i)).catch(void 0)})}function r(e,t){return n().then(function(i){return i.bindToInput(e,t)})}function o(e){Object(f.setLastUsedResolution)(e),_.linking.interval.setValue(e)}function s(e){if(!Object(h.globalKeypressMatches)(e))return!1;e.preventDefault();var t=String.fromCharCode(e.charCode);return function(e){return/[\d,]/.test(e)}(t)&&d.enabled("show_interval_dialog_on_key_press")?Object(p.showChangeIntervalDialog)({callback:o,ownerDocument:e.target&&e.target.ownerDocument},t):d.enabled("symbol_search_hot_key")&&n().then(function(i){Object(m.trackEvent)("GUI","SS","hotkey"),i.showDialog({initialValue:t,callback:function(e,t){_.linking.symbol.setValue(e),t&&o(t)},ownerDocument:e.target&&e.target.ownerDocument})}),!0}function a(){u.pushBackListener("symbolEdit",s)}function l(e){return n().then(function(t){return t.showDialog(e)})}
function c(e){return n().then(function(t){return t.setSearchRequestDelay(e)})}var u,h,d,p,f,_,m;i.r(t),i.d(t,"bindToInput",function(){return r}),i.d(t,"activateKeyPressHandler",function(){return a}),i.d(t,"showDialog",function(){return l}),i.d(t,"setSearchRequestDelay",function(){return c}),u=i("6et/"),h=i("h24c"),d=i("Kxc7"),p=i("mYjs"),f=i("pPtI"),_=i("PT1i"),m=i("PC8g")},uOxu:function(e,t,i){"use strict";function n(){return T}function r(){return C}function o(e){e=Math.max(f.ERROR,Math.min(f.DEBUG,e)),T=e,h()}function s(e,t){var i=v.reduce(function(e,t){return e.concat(t)},[]);return i.sort(function(e,t){return e.id-t.id}),void 0!==t&&(i=i.filter(function(e){return e.subSystemId===t})),"number"==typeof e&&(i=i.slice(-e)),i}function a(e){return new Date(e.timestamp).toISOString()+":"+e.subSystemId+":"+e.message.replace(/"/g,"'")}function l(e,t){return function(e,t){var i,n=0;for(i=e.length-1;i>=1&&(n+=8*(1+encodeURIComponent(e[i]).length),!(i-1>0&&n+8*(1+encodeURIComponent(e[i-1]).length)>t));i--);return e.slice(i)}(s(e,t).map(a),m)}function c(e,t,i,n){var o,s;if((t!==S||n.id!==w)&&(o=new Date,e<=f.NORMAL&&function(e,t,i,n,r){var o={id:_,message:String(t),subSystemId:n,timestamp:Number(e)};_+=1,i.push(o),void 0!==r&&i.length>r&&i.splice(0,1)}(o,t,i,n.id,n.maxCount),e<=T&&(!n.highRate||r())&&(!b||n.id.match(b)))){switch(s=o.toISOString()+":"+n.id+":"+t,e){case f.DEBUG:console.debug(s);break;case f.INFO:case f.NORMAL:n.color?console.log("%c"+s,"color: "+n.color):console.log(s);break;case f.WARNING:console.warn(s);break;case f.ERROR:console.error(s)}S=t,w=n.id,P&&clearTimeout(P),P=setTimeout(function(){S=null,w=null,P=NaN},1e3)}}function u(e,t){function i(e){return function(t){return c(e,t,n,r)}}var n,r;return void 0===t&&(t={}),n=[],v.push(n),r=Object.assign(t,{id:e}),{logDebug:i(f.DEBUG),logError:i(f.ERROR),logInfo:i(f.INFO),logNormal:i(f.NORMAL),logWarn:i(f.WARNING)}}function h(){try{p&&(localStorage.setItem(y,String(C)),localStorage.setItem(g,String(T)))}catch(e){x.logWarn("Cannot save logger state (level: "+T+", high-rate: "+C+") to localStorage: "+e.message)}}var d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E;i.r(t),i.d(t,"LOGLEVEL",function(){return f}),i.d(t,"getLogLevel",function(){return n}),i.d(t,"isHighRateEnabled",function(){return r}),i.d(t,"setLogLevel",function(){return o}),i.d(t,"getRawLogHistory",function(){return s}),i.d(t,"serializeLogHistoryEntry",function(){return a}),i.d(t,"getLogHistory",function(){return l}),i.d(t,"getLogger",function(){return u}),i.d(t,"loggingOn",function(){return I}),i.d(t,"loggingOff",function(){return E}),d="undefined"!=typeof window?window:{},p=!1;try{localStorage.getItem(""),p=!0}catch(e){}!function(e){e[e.ERROR=1]="ERROR",e[e.WARNING=2]="WARNING",e[e.INFO=3]="INFO",e[e.NORMAL=4]="NORMAL",e[e.DEBUG=5]="DEBUG"}(f||(f={})),_=0,m=75497472,g="tv.logger.loglevel",y="tv.logger.logHighRate",v=[],b=null,S=null,w=null,P=NaN,T=f.WARNING,C=!1,x=u("logger"),I=d.lon=function(e,t){o(f.DEBUG),x.logNormal("Debug logging enabled"),C=Boolean(e),b=t||null,h()},E=d.loff=function(){o(f.INFO),
x.logInfo("Debug logging disabled")},function(){C=!!p&&"true"===localStorage.getItem(y);var e=parseInt(p&&localStorage.getItem(g)||"");Number.isNaN(e)&&(e=f.WARNING),o(e),x.logNormal("Init with settings - level: "+T+", high-rate: "+C)}(),d.performance&&d.performance.now?x.logNormal("Sync logger and perf times, now is "+d.performance.now()):x.logWarn("Perf time is not available")},uPb3:function(e,t,i){"use strict";(function(e,n){function r(t,i,n,r,o){function s(){throw new Error("Time axis does not support real price scales")}var l,c,u,d,p,f;this._options=Object.assign({},I,i),this.chart=t,this._properties=t.properties().scalesProperties,this.contextMenu=null,this._element=document.createElement("tr"),this._backgroundBasedTheme=o,l=t.model().model().rendererOptionsProvider(),c=this.backgroundColor.bind(this),u=this,d={titlesProvider:n,stubContextMenuProvider:function(e,t){var i=u.getContextMenuActions(!0),n=r(e,t);return n[n.length-1]===u.chart.actions().scalesProperties?Array.prototype.splice.apply(n,[n.length-2,0,new a].concat(i)):(n.push(new a),n=n.concat(i)),n},backgroundBasedTheme:o,rendererOptionsProvider:l,getBackgroundColor:c},this._onLabelHovered=new e,this._lhsStubContainer=new P(this._properties,T.LHS,s,d,this._options.priceAxisLabelsOptions),this._lhsStubContainer.onLabelHovered().subscribe(this,function(e,t){this._onLabelHovered.fire(e,t)}.bind(this)),this._rhsStubContainer=new P(this._properties,T.RHS,s,d,this._options.priceAxisLabelsOptions),this._rhsStubContainer.onLabelHovered().subscribe(this,function(e,t){this._onLabelHovered.fire(e,t)}.bind(this)),this._element.appendChild(this._lhsStubContainer.getElement()),this._cell=document.createElement("td"),this._element.appendChild(this._cell),this._cell.classList.add("chart-markup-table","time-axis"),this._cell.style.height="25px",this._dv=document.createElement("div"),this._dv.style.width="100%",this._dv.style.height="100%",this._dv.style.position="relative",this._dv.style.overflow="hidden",this._cell.appendChild(this._dv),this._canvasConfiguredHandler=function(){this.chart.model().model().lightUpdate()}.bind(this),this._canvasBinding=h(this._dv,new g(16,16)),this._canvasBinding.subscribeCanvasConfigured(this._canvasConfiguredHandler),(p=this._canvasBinding.canvas).style.position="absolute",p.style.zIndex="1",p.style.left="0",p.style.top="0",this._topCanvasConfiguredHandler=function(){this.chart.model().model().lightUpdate()}.bind(this),this._topCanvasBinding=h(this._dv,new g(16,16)),this._topCanvasBinding.subscribeCanvasConfigured(this._topCanvasConfiguredHandler),(f=this._topCanvasBinding.canvas).style.position="absolute",f.style.zIndex="2",f.style.left="0",f.style.top="0",this._element.appendChild(this._rhsStubContainer.getElement()),this.restoreDefaultCursor(),this.update(),this._minVisibleSpan=S.MINUTE_SPAN,this._mouseEventHandler=new y(this._topCanvasBinding.canvas,this,{treatVertTouchDragAsPageScroll:!0,treatHorzTouchDragAsPageScroll:!1}),this.size=new g(0,0)}var o,s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I;i("xrEm"),o=i("u+0B").TextWidthCache,
s=i("7KDR"),a=s.Separator,l=i("5VQP").ContextMenuManager,c=i("i1o5").InvalidationLevel,u=i("ikwP"),h=u.createBoundCanvas,d=u.getContext2D,p=u.drawScaled,f=u.hardResizeCanvas,_=u.clearRect,m=u.fillRect,g=u.Size,y=i("S8xo").MouseEventHandler,v=i("PC8g").trackEvent,b=i("XlJ7").makeFont,S=i("8OdW"),w=i("CW80").isLineTool,P=i("mE5r").PriceAxisesContainer,T=i("1IXQ").PriceAxisWidget,C=i("3/8U").axesHighlightColor,x=i("zDbI").CHART_FONT_FAMILY,I={contextMenuEnabled:!0,timezoneMenuEnabled:!0,pressedMouseMoveScale:!0},r.prototype.destroy=function(){this._mouseEventHandler.destroy(),this._topCanvasBinding.unsubscribeCanvasConfigured(this._topCanvasConfiguredHandler),this._topCanvasBinding.destroy(),this._canvasBinding.unsubscribeCanvasConfigured(this._canvasConfiguredHandler),this._canvasBinding.destroy(),this._rhsStubContainer.onLabelHovered().unsubscribeAll(this),this._lhsStubContainer.onLabelHovered().unsubscribeAll(this),this._lhsStubContainer.destroy(),this._rhsStubContainer.destroy(),this.chart.properties().paneProperties.background.unsubscribeAll(this)},r.prototype.getElement=function(){return this._element},r.prototype.hasCanvas=function(e){return this._canvasBinding.canvas===e||this._topCanvasBinding.canvas===e},r.prototype._BORDER_SIZE=1,r.prototype._OFFSET_SIZE=1,r.prototype._TICK_LENGTH=3,r.prototype.onLabelHovered=function(){return this._onLabelHovered},r.prototype.backgroundColor=function(){return this.chart.model().model().backgroundColor().value()},r.prototype.lineColor=function(){return this._properties.lineColor.value()},r.prototype.textColor=function(){return this._properties.textColor.value()},r.prototype.fontSize=function(){return this._properties.fontSize.value()},r.prototype.baseFont=function(){return b(this.fontSize(),x,"")},r.prototype.baseBoldFont=function(){return b(this.fontSize(),x,"bold")},r.prototype.rendererOptions=function(){var e,t;return this._rendererOptions||(this._rendererOptions={borderSize:this._BORDER_SIZE,offsetSize:this._OFFSET_SIZE,tickLength:this._TICK_LENGTH,fontSize:NaN,font:"",widthCache:new o}),(e=this._rendererOptions).fontSize!==this.fontSize()&&(t=this.fontSize(),e.fontSize=t,e.font=this.baseFont(),e.font=b(this.fontSize(),x,""),e.paddingTop=Math.ceil(t/2.5),e.paddingBottom=e.paddingTop,e.paddingHorizontal=Math.ceil(t/2),e.baselineOffset=Math.round(this.fontSize()/5),e.widthCache.reset()),this._rendererOptions},r.prototype._zoomAvailable=function(){return!this.chart.model().timeScale().isEmpty()&&this.chart.model().model().zoomEnabled()&&this._options.pressedMouseMoveScale},r.prototype.mouseDownEvent=function(e){if(this._mousedown||!this._zoomAvailable())return!0;this._mousedown=!0;var t=this.chart.model();t.timeScale().isEmpty()||t.startScaleTime(e.localX)},r.prototype.mouseDownOutsideEvent=function(e){this._zoomAvailable()&&this._mousedown&&(this._mousedown=!1,this.chart.model().endScaleTime(),this.restoreDefaultCursor())},r.prototype.pressedMouseMoveEvent=function(e){var t,i,n;this._zoomAvailable()&&(t=this.chart.model(),i=!1,n=(new Date).valueOf(),
this._lastScrollScaleTime&&n-this._lastScrollScaleTime<100&&(i=!0),i||(t.scaleTimeTo(e.localX),this._lastScrollScaleTime=n))},r.prototype.mouseUpEvent=function(e){this._zoomAvailable()&&(this._mousedown=!1,this.chart.model().endScaleTime(),this.restoreDefaultCursor())},r.prototype.contextMenuEvent=function(e){this._options.contextMenuEnabled&&this._createContextMenu().then(function(t){t.show(e)})},r.prototype.mouseEnterEvent=function(e){this.chart.model().model().zoomEnabled()&&this.setCursor("ew-resize")},r.prototype.mouseLeaveEvent=function(e){this.restoreDefaultCursor()},r.prototype._createContextMenu=function(){return l.createMenu(this.getContextMenuActions(),{statName:"TimeScaleContextMenu"})},r.prototype.getContextMenuActions=function(e){var t,i,r=this.chart;return r.updateActions(),t=r.actions(),i=[],e||i.push(t.timeScaleReset,new a),this._options.timezoneMenuEnabled&&i.push(t.applyTimeZone),i.push(t.sessionBreaks),n.enabled("charting_library_base")||i.push(t.extendedHours),i},r.prototype.mouseClickEvent=function(e){},r.prototype.mouseDoubleClickEvent=function(e){v("GUI","Double click time scale"),this.chart.model().resetTimeScale()},r.prototype.optimalHeight=function(){var e=this.rendererOptions();return Math.ceil(e.offsetSize+e.borderSize+e.tickLength+e.fontSize+e.paddingTop+e.paddingBottom)},r.prototype.setSizes=function(e,t,i){this.size&&this.size.equals(e)||(this.size=e,this._canvasBinding.resizeCanvas({width:e.w,height:e.h}),this._topCanvasBinding.resizeCanvas({width:e.w,height:e.h}),this._cell.style.width=e.w+"px",this._cell.style.height=e.h+"px"),this._lhsStubContainer.setSizes(e.h,t),this._rhsStubContainer.setSizes(e.h,i)},r.prototype._spanIndex=function(e){for(var t=[S.MINUTE_SPAN,S.HOUR_SPAN,S.DAY_SPAN,S.MONTH_SPAN,S.YEAR_SPAN],i=t.length-1;i>0;){if(t[i]<=e)return i;i--}return i},r.prototype._spanOffset=function(e,t){if(t<e)throw new Error("actual span cuold not be less then base");return this._spanIndex(t)-this._spanIndex(e)},r.prototype.update=function(){var e,t;this.chart.model()&&(e=this.chart.model().timeScale().marks())&&(t=this,this._minVisibleSpan=S.YEAR_SPAN,e.forEach(function(e){t._minVisibleSpan=Math.min(e.span,t._minVisibleSpan)}))},r.prototype._hightlightBackground=function(e,t,i){var n,r,o,s,a,l=this.chart.model(),c=l.timeScale(),u=t[0].index,h=t[0].index;for(n=1;n<t.length;n++)u=Math.min(u,t[n].index),h=Math.max(h,t[n].index);r=Math.floor(c.indexToCoordinate(u)*i),o=Math.ceil(c.indexToCoordinate(h)*i),s=this._backgroundBasedTheme.value(),a=C(s),m(e,r,0,o-r,Math.ceil(this.size.h*i)+1,a)},r.prototype.drawBackground=function(e,t){var i,n,r;_(e,0,0,Math.ceil(this.size.w*t)+1,Math.ceil(this.size.h*t)+1,this.backgroundColor()),(i=this.chart.model())&&(i.timeScale().isEmpty()||(n=i.model().selection().sources().filter(function(e){return w(e)}).reduce(function(e,t){var i=t.axisPoints();return 0===i.length?e:e.concat(i)},[])).length>0&&this._hightlightBackground(e,n,t),(r=i.model().crossHairSource()).startMeasurePoint()&&this._hightlightBackground(e,r.measurePoints(),t))},
r.prototype.drawTickMarks=function(e,t){var i,n,r,o,s,a,l,c,u,h=this.chart.model().timeScale().marks();if(h&&0!==h.length){for((i=h.reduce(function(e,t){return e.span>t.span?e:t},h[0]).span)>30&&i<40&&(i=30),e.save(),e.strokeStyle=this.lineColor(),n=this.rendererOptions(),r=n.borderSize+n.tickLength+n.paddingTop+n.fontSize-n.baselineOffset,e.textAlign="center",e.fillStyle=this.lineColor(),o=Math.max(1,Math.floor(t)),s=Math.floor(.5*t),a=Math.round(n.tickLength*t),e.beginPath(),l=h.length;l--;)c=Math.round(h[l].coord*t),e.rect(c-s,0,o,a);e.fill(),e.fillStyle=this.textColor(),u=this,p(e,t,function(){var t,n;for(e.font=u.baseFont(),t=0;t<h.length;t++)(n=h[t]).span<i&&e.fillText(n.label,n.coord,r);for(e.font=u.baseBoldFont(),t=0;t<h.length;t++)(n=h[t]).span>=i&&e.fillText(n.label,n.coord,r)}),e.restore()}},r.prototype.drawBackLabels=function(e,t){var i,n,r,o,s,a,l,c,u;for(e.save(),i=new Set,r=(n=this.chart.model()).dataSources(),n.selection().sources().forEach(function(e){i.add(e)}),n.hoveredSource()&&i.add(n.hoveredSource()),n.sourcesBeingMoved().forEach(function(e){i.add(e)}),(o=n.lineBeingEdited()||n.lineBeingCreated())&&i.add(o),i.add(this.chart.model().crossHairSource()),r=r.concat(n.model().customSources()),s=this.rendererOptions(),a=0;a<r.length;a++)if(l=r[a],!i.has(l)&&l.timeAxisViews&&(c=l.timeAxisViews()))for(u=0;u<c.length;u++)c[u].renderer().draw(e,s,t);e.restore()},r.prototype._minMaxViews=function(e){var t=[],i={value:null,view:null},n={value:null,view:null};return e.forEach(function(e){var t,r,o,s;if(e.timeAxisViews&&(t=e.timeAxisViews())&&t.length)for(r=0;r<t.length;r++)s=(o=t[r]).coordinate(),(null===i.value||i.value<=s)&&(i={value:s,view:o}),(null===n.value||n.value>=s)&&(n={value:s,view:o})}),i.view&&t.push(i.view),n.view&&t.push(n.view),t},r.prototype._addViewsOrMaxMin=function(e,t){e.length<=1?e.forEach(function(e){if(e.timeAxisViews){var i=e.timeAxisViews();i&&i.length&&t.push(i)}}):t.push(this._minMaxViews(e))},r.prototype.drawCrossHairLabel=function(e,t){var i,n,r,o,s;e.save(),e.clearRect(0,0,Math.ceil(this.size.w*t)+1,Math.ceil(this.size.h*t)+1),n=[],(r=(i=this.chart.model()).lineBeingEdited()||i.lineBeingCreated())&&r.timeAxisViews&&(o=r.timeAxisViews())&&o.length&&n.push(o),this._addViewsOrMaxMin(i.sourcesBeingMoved(),n),this._addViewsOrMaxMin(i.selection().sources(),n),i.hoveredSource()&&!i.selection().isSelected(i.hoveredSource())&&i.hoveredSource().timeAxisViews&&(o=i.hoveredSource().timeAxisViews())&&o.length&&n.push(o),(o=i.crossHairSource().timeAxisViews())&&o.length&&n.push(o),s=this.rendererOptions(),n.forEach(function(i){i.forEach(function(i){e.save(),i.renderer().draw(e,s,t),e.restore()})}),e.restore()},r.prototype.hardResetCanvas=function(){this.size&&(f(this._canvasBinding,this.size),f(this._topCanvasBinding,this.size))},r.prototype.paint=function(e){var t,i,n;if(0!==e){if(e===c.Cursor)return t=d(this._topCanvasBinding.canvas),void this.drawCrossHairLabel(t,this._topCanvasBinding.pixelRatio);i=d(this._canvasBinding.canvas),n=this._canvasBinding.pixelRatio,this.drawBackground(i,n),
this.chart.model()&&(this.drawTickMarks(i,n),this.drawBackLabels(i,n),this.chart.model().crossHairSource().updateAllViews(),t=d(this._topCanvasBinding.canvas),this.drawCrossHairLabel(t,n)),this._lhsStubContainer.paint(e),this._rhsStubContainer.paint(e)}},r.prototype.restoreDefaultCursor=function(){this.setCursor("")},r.prototype.setCursor=function(e){var t="";"grabbing"!==e&&"ew-resize"!==e||(t="time-axis--cursor-"+e),this._currentCursorClassName!==t&&(this._currentCursorClassName&&this._cell.classList.remove(this._currentCursorClassName),t&&this._cell.classList.add(t),this._currentCursorClassName=t,this._cell.style.cursor)},r.prototype.updatePriceAxisStubs=function(){var e,t=this.chart.model().model(),i=this.chart.isMaximizedPane()?this.chart.maximizedPaneWidget().state():t.paneForSource(t.mainSeries());i&&(e=t.priceScaleSlotsCount(),this._lhsStubContainer.setScales([],e.left,i.leftPriceScales().length,e.left+e.right),this._rhsStubContainer.setScales([],e.right,i.rightPriceScales().length,e.left+e.right))},r.prototype.getScreenshotData=function(){var e={};return e.content=this._canvasBinding.canvas.toDataURL(),e.contentWidth=this.size.w,e.contentHeight=this.size.h,e.lhsStub=this._lhsStubContainer.getScreenshotData(),e.rhsStub=this._rhsStubContainer.getScreenshotData(),e},t.TimeAxisWidget=r}).call(this,i("aIyQ"),i("Kxc7"))},upNJ:function(e,t,i){"use strict";function n(e,t,i){var n,r,s;void 0===t&&(t="y"),void 0===i&&(i={}),n="/order/",s="bitcoin"===(r=i.paymentMethod||"paypal")?"Bitcoin payment":"Paypal payment",window.runOrSignIn(function(){if("function"!=typeof i.canVisit||i.canVisit()){var s=Object(o.parseHtmlElement)('<form action="'+n+'" method="post" '+(i.newWindow?'target="_blank"':"")+'>\n\t\t\t\t\t<input type="hidden" name="product" value="'+e+'"/>\n\t\t\t\t\t<input type="hidden" name="billing_cycle" value="'+t+'"/>\n\t\t\t\t\t<input type="hidden" name="fixed_billing_cycle" value="'+(i.fixedCycle?"1":"")+'"/>\n\t\t\t\t\t<input type="hidden" name="exchanges_only" value="'+(i.exchangesOnly?"1":"")+'"/>\n\t\t\t\t\t<input type="hidden" name="exchanges_expanded" value="'+(i.exchangesExpanded?"1":"")+'"/>\n\t\t\t\t\t<input type="hidden" name="is_upsell" value="'+(i.upsell?"1":"")+'"/>\n\t\t\t\t\t<input type="hidden" name="selected_packages" value="'+(i.selectedPackages||[]).join(",")+'"/>\n\t\t\t\t\t<input type="hidden" name="payment_method" value="'+r+'"/>\n\t\t\t\t</form>');s&&(document.body.appendChild(s),s.submit())}else location.href="/"},{source:s})}var r,o;i.r(t),i.d(t,"visitPaymentPage",function(){return n}),r=i("bSeV"),o=i("TzTt")},v5F8:function(e,t,i){"use strict";function n(e,t){var i=t||n.createProperties();o.call(this,e,i),this._constructor="LineToolSchiffPitchfork"}var r=i("5rJj"),o=i("aDyP").LineToolPitchfork,s=window.t("Modified Schiff Pitchfork");inherit(n,o),n.prototype.translatedType=function(){return s},n.prototype.name=function(){return"Modified Schiff Pitchfork"},n.createProperties=function(e){var t=new r("linetoolschiffpitchfork",e,!1,{range:[0,8]});return n._configureProperties(t),t},
n._configureProperties=function(e){o._configureProperties(e)},t.LineToolSchiffPitchfork=n},vADo:function(e,t,i){"use strict";(function(t){function i(e){t.call(this,""),this.subscribe(this,i.prototype.checkSelfColor),this.reloadProperties(e)}inherit(i,t),i.prototype.reloadProperties=function(e){for(;this._childs.length>0;)this.removeProperty(this._childs[0]);this._initValues=[];for(var t=0;t<e.length;++t)this._initValues.push(e[t].defaultValue),this.addChild(t,e[t].property);this.checkSelfColor()},i.prototype.setValue=function(e,i){if(this._value!==e||i){var n=this;this._childs.forEach(function(t){n[t].setValueSilently(e||n._initValues[t])}),t.prototype.setValue.call(this,e,i)}},i.prototype.checkSelfColor=function(){var e,i=!0;for(e=0;e<this._initValues.length;++e)if(this[e].value()!==this[0].value()){i=!1;break}t.prototype.setValue.call(this,i?this[0].value():"")},e.exports=i}).call(this,i("tc+8"))},vAx0:function(e,t,i){"use strict";(function(e){function n(e,t,i,n){this._lastClickedId=null,this._model=e,this._study=t,this._lollipops={},this._textCache={},this.templatesCache={},this._invalidated=!0,this._hideLollipops=!1,this.defaultStyle=i,this.hoveredStyle=n,this._templatesSize=new P(300,150),this.templatesCache.hovered=void 0!==this.hoveredStyle?this.createTemplate(this.hoveredStyle):null,this.templatesCache.default=void 0!==this.defaultStyle?this.createTemplate(this.defaultStyle):null,e.properties().paneProperties.background.subscribe(this,this.onPaneBgChange),e.mainSeries().onSymbolIntervalChanged().subscribe(this,this._onSymbolOrIntervalChanged)}function r(e){x.call(this),this.data=e}function o(e){x.call(this),this.data=e,this._hittest=new d(d.CUSTOM,e)}function s(e,t){x.call(this),this._data=e,this._paneView=t,this.textRenderer=new s.TextRenderer(e.style.lollipop.importance)}function a(e,t){var i={strokeStyle:"#eb4d5c",lineWidth:1,fillStyle:"white",barLine:{lineStyle:CanvasEx.LINESTYLE_DASHED},lollipop:{width:32,height:96,circleHeight:16,radius:12,lineWidth:2,importance:"earnings",strokeStyle:"#eb4d5c",fillStyle:e.properties().paneProperties.background.value(),fillCircle:!0,text:{label:"E",strokeStyle:"#eb4d5c",font:"normal 12px "+L}}},r={strokeStyle:"#e8304f",lollipop:{fillCircle:!0,fillStyle:"#eb4d5c",text:{strokeStyle:"white"}}},o=$.extend(!0,{},i,r);this._percentageFormatter=new _,n.call(this,e,t,i,o)}function l(e,t){var i={strokeStyle:"#53b987",lineWidth:1,fillStyle:"white",barLine:{lineStyle:CanvasEx.LINESTYLE_DASHED},lollipop:{width:32,height:96,circleHeight:16,radius:12,lineWidth:2,importance:"splits",strokeStyle:"#53b987",fillStyle:e.properties().paneProperties.background.value(),fillCircle:!0,text:{label:"S",strokeStyle:"#53b987",font:"normal 12px "+L}}},r={strokeStyle:"#53b987",lollipop:{fillCircle:!0,fillStyle:"#53b987",text:{strokeStyle:"white"}}},o=$.extend(!0,{},i,r);n.call(this,e,t,i,o)}function c(e,t){var i={strokeStyle:"#0496ff",lineWidth:1,fillStyle:"white",barLine:{lineStyle:CanvasEx.LINESTYLE_DASHED},lollipop:{width:32,height:96,circleHeight:16,radius:12,lineWidth:2,importance:"dividends",
strokeStyle:"#0496ff",fillStyle:e.properties().paneProperties.background.value(),fillCircle:!0,text:{label:"D",strokeStyle:"#0496ff",font:"normal 12px "+L}}},r={strokeStyle:"#0496ff",lollipop:{fillCircle:!0,fillStyle:"#0496ff",text:{strokeStyle:"white"}}},o=$.extend(!0,{},i,r);n.call(this,e,t,i,o)}var u=i("aO4+").Point,h=i("f6yo").pointInCircle,d=i("VdBB").HitTestResult,p=i("Zy3/").CompositeRenderer,f=i("6xeX").Tooltip,_=i("GH0z").PercentageFormatter,m=i("55Xp").roundToFirstValuable,g=i("LxhU").Interval,y=i("jCNj").utc_to_cal,v=i("jCNj").get_timezone,b=i("ZZnO").dateFormatProperty,S=i("gQ5K").DateFormatter,w=i("ikwP"),P=w.Size,T=w.createDisconnectedCanvas,C=w.getPrescaledContext2D,x=i("cPgM").ScaledPaneRenderer,I=i("Ai40"),E=i("+GxX").isFeatureEnabled,L=i("zDbI").CHART_FONT_FAMILY,A=10,O=432e6,M=E("hide_esd_on_some_intervals");n.prototype.onPaneBgChange=function(){void 0!==this.defaultStyle&&(this.defaultStyle.lollipop.fillStyle=this._model.properties().paneProperties.background.value(),this._stylesCache=null,Object.keys(this.templatesCache).forEach(function(e){0===e.indexOf("default")&&(this.templatesCache[e]=null)},this))},n.prototype.onClickOutside=function(){this.clearLastClicked()},n.prototype.clearLastClicked=function(){this._lastClickedId=null},n.prototype.closeTooltips=function(){var e,t;for(e in this._lollipops)this._lollipops.hasOwnProperty(e)&&(t=this._lollipops[e]).visible&&(t.tooltip.isOpened()&&t.tooltip.hide(),t.visible=!1)},n.prototype.getLastClickedLollipopId=function(){return this._lastClickedId},n.prototype._setStackStudies=function(){var e,t,i;if(this._stackStudies=[],!(this._study instanceof I.study_ESD$TV_EARNINGS))for(e=this._model.dataSources(),t=0;t<e.length;++t)((i=e[t])instanceof I.study_ESD$TV_EARNINGS||i instanceof I.study_ESD$TV_SPLITS&&this._study instanceof I.study_ESD$TV_DIVIDENDS)&&this._stackStudies.push(i)},n.prototype._getY=function(){var e,t,i=0,n=this._model.panes();for(e=n.length;e--;)(t=n[e]).containsMainSeries()&&(i+=t.height());return i},n.prototype.update=function(){this._invalidated=!0},n.prototype.updateImpl=function(){var e,t,i,n,r,o,s,a,l,c;if(this._setStackStudies(),e=this,t=this._study.data(),n=(i=this._model.timeScale()).visibleBarsStrictRange(),r=this._model.mainSeries().bars(),o=this._study.priceScale(),s=this._model.mainSeries().firstBar(),o&&!o.isEmpty()&&!i.isEmpty()&&s&&t){if(M&&i.barSpacing()/this.defaultStyle.lollipop.circleHeight<2/3&&g.parse(this._model.mainSeries().interval()).inMilliseconds()>=O)return this._hideLollipops=!0,this.clearLastClicked(),void this.closeTooltips();this._hideLollipops=!1,this.closeTooltips(),a=this._getY(),l=n.firstBar(),c=n.lastBar(),t.range(l,c).each(function(t,n){var s,u=0;for(s=0;s<e._stackStudies.length;++s)e._stackStudies[s].data().contains(t)&&++u;t>l&&t<c&&e.addLollipop(a,r,i,o,t,n,u)}),this.afterUpdate(a,r,i,o)}},n.prototype.addLollipop=function(e,t,i,n,r,o,s){var a,l,c,h,d,p,_,m,g=o[0],y=this._model.mainSeries().symbolInfo();y&&(a=y.name,l=null,c=this._study.metaInfo().id+"_"+g+"_"+a,
(d=(h=this._model.lastHittestData())&&h.id===c)&&null!==(p=t.valueAt(r))&&(_=p[TradingView.LOW_PLOT],m=this._model.mainSeries().firstValue(),l=n.priceToCoordinate(_,m)),this._lollipops[c]=Object.assign({id:c,visible:!0,basePoint:new u(i.indexToCoordinate(r)+1,e),hovered:d||c===this.getLastClickedLollipopId(),barY:l,stack:s,tooltip:this._lollipops.hasOwnProperty(c)?this._lollipops[c].tooltip:new f({width:240})},this.extraData(o)))},n.prototype.afterUpdate=function(e,t,i){},n.prototype.extraData=function(e){throw new Error("Not Implemented")},n.prototype.createText=function(e,t){throw new Error("Not Implemented")},n.prototype.showBarLine=function(){return!0},n.prototype.getStyle=function(e,t){var i,n=e;return t.stack&&(n+="_stack:"+t.stack),"hovered"===n?this.hoveredStyle:"default"===n?this.defaultStyle:(this._stylesCache||(this._stylesCache={}),this._stylesCache[n]||(i=TradingView.clone("hovered"===e?this.hoveredStyle:this.defaultStyle),t.stack&&(i.lollipop.incHeight=24*t.stack),this._stylesCache[n]=i),this._stylesCache[n])},n.prototype.hasTooltip=function(e){return!0},n.prototype.renderer=function(){var e,t,i,n,a,l,c,h,d;if(this._invalidated&&(this.updateImpl(),this._invalidated=!1),this._hideLollipops)return null;for(t in e=new p,this._lollipops)this._lollipops.hasOwnProperty(t)&&(i=this._lollipops[t],n=15,a=this.getStyle(i.hovered?"hovered":"default",i),i.visible&&(l=Object.assign({tooltipPoint:new u(i.basePoint.x,i.basePoint.y-a.lollipop.circleHeight-n-(a.lollipop.incHeight||0)),style:a,createText:this.createText.bind(this)},i),c=this.getTemplate(i.hovered?"hovered":"default",i),h={circlePoint:new u(i.basePoint.x,i.basePoint.y-a.lollipop.circleHeight-(a.lollipop.incHeight||0)),style:a,template:c,templateSize:this._templatesSize,basePoint:i.basePoint,id:i.id,mouseClickHandler:this._lollipopMouseClickHandler.bind(this,i.id)},e.append(new o(h)),i.hovered&&this.hasTooltip(i)&&i.barY&&this.showBarLine()&&(d={style:{lineStyle:a.barLine.lineStyle,strokeStyle:a.strokeStyle,lineWidth:a.lineWidth},startPoint:new u(i.basePoint.x,i.basePoint.y-a.lollipop.circleHeight),endPoint:new u(i.basePoint.x,i.barY)},e.append(new r(d))),e.append(new s(l,this))));return e},n.prototype.getTemplate=function(e,t){var i=e;return t.stack&&(i+="_stack:"+t.stack),this.templatesCache[i]||(this.templatesCache[i]=this.createTemplate(this.getStyle(e,t))),this.templatesCache[i]},n.prototype.createTemplate=function(e){var t=T(document,this._templatesSize),i=C(t),n=new u(e.lollipop.width/2,e.lollipop.height-e.lollipop.circleHeight-(e.lollipop.incHeight||0));return this.drawCircle(i,e,n),this.drawLabel(i,e,n),t},n.prototype.drawCircle=function(e,t,i){e.strokeStyle=t.strokeStyle,e.fillStyle=t.lollipop.fillStyle,e.lineWidth=t.lollipop.lineWidth,CanvasEx.setLineStyle(e,CanvasEx.LINESTYLE_SOLID),e.beginPath(),e.arc(i.x,i.y,t.lollipop.radius,0,2*Math.PI,!1),e.closePath(),e.stroke(),t.lollipop.fillCircle&&e.fill()},n.prototype.drawLabel=function(e,t,i){e.textAlign="center",e.textBaseline="middle",e.fillStyle=t.lollipop.text.strokeStyle,
e.font=t.lollipop.text.font,e.fillText(t.lollipop.text.label,i.x,i.y)},n.prototype._lollipopMouseClickHandler=function(e){this._lastClickedId=this._lastClickedId===e?null:e},n.prototype._formatDate=function(e){var t=v(this._model.properties().timezone.value()),i=y(t,e),n=new S(b.value());return n.format(i)},n.prototype._onSymbolOrIntervalChanged=function(){this.clearLastClicked(),this.closeTooltips()},inherit(r,x),r.prototype._drawImpl=function(e){e.strokeStyle=this.data.style.strokeStyle,e.lineWidth=this.data.style.lineWidth,CanvasEx.setLineStyle(e,this.data.style.lineStyle),CanvasEx.drawLine(e,this.data.startPoint.x,this.data.startPoint.y,this.data.endPoint.x,this.data.endPoint.y)},r.prototype.hitTest=function(e){return null},inherit(o,x),o.prototype.hitTest=function(e){return h(e,this.data.circlePoint,this.data.style.lollipop.radius)?this._hittest:null},o.prototype._drawImpl=function(e){var t=this.data.template;e.drawImage(t,this.data.basePoint.x-(.5+this.data.style.lollipop.width/2<<0)+.5,this.data.basePoint.y-this.data.style.lollipop.height+.5,this.data.templateSize.w,this.data.templateSize.h)},inherit(s,x),s.prototype._drawImpl=function(e){this._data.createText(this._data,this.textRenderer),this._paneView.getLastClickedLollipopId()===this._data.id?this._data.tooltip.show({items:[this.textRenderer],x:this._data.basePoint.x,y:this._data.basePoint.y-this._data.style.lollipop.circleHeight-A-2*this._data.style.lollipop.radius*(this._data.stack?this._data.stack:0),wrapElement:e.canvas.parentNode,leftBorderColor:this._data.color}):this._data.tooltip.hide()},s.prototype.hitTest=function(e){return null},s.TextRenderer=function(e){this.lines=[],this.fontHeight=12,this.font=this.fontHeight+"px "+L,this.lineSpacing=8,this.fillStyle="black",e&&(this.importance=e)},s.TextRenderer.prototype.draw=function(e,t){var i,n,r=t.y;for(i=0;i<this.lines.length;i++)n=this.lines[i],e.font=this.font,n.options.fontWeight&&(e.font=n.options.fontWeight+" "+this.font),e.fillStyle=this.fillStyle,n.renderer(e,n.line,{x:t.x,y:r}),r+=this.lineSpacing+this.fontHeight},s.TextRenderer.prototype.measure=function(){return this.lines.length*(this.fontHeight+this.lineSpacing)-this.lineSpacing},s.TextRenderer.prototype.basicRenderer=function(e,t,i){e.fillText(t,i.x,i.y)},s.TextRenderer.prototype.addMulticolorTextLine=function(e,t){this.addTextLine(e,t,this.multicolorRenderer)},s.TextRenderer.prototype.addTextLine=function(e,t,i){i||(i=this.basicRenderer),t||(t={}),this.lines.push({line:e,renderer:i,options:t})},s.TextRenderer.prototype.multicolorRenderer=function(e,t,i){var n,r,o=i.x;for(n=0;n<t.length;++n)r=t[n],e.fillStyle=r.color,e.fillText(r.text,o,i.y),o+=e.measureText(r.text).width},inherit(a,n),a.prototype.extraData=function(e){var t=e[1],i=e[2],n=e[3],r=e[4],o=e[5];return{standardized:t,reported:o,estimate:i,period:n,date:r}},a.prototype.afterUpdate=function(e,t,i,n){var r,o=this._study.getEstimate();o&&((r=o.value.slice())[4]*=1e3,this.addLollipop(e,t,i,n,o.index,r))},a.prototype.createText=function(t,i){
var n,r,o,s,a=t.standardized,l=t.reported,c=t.estimate,u=null!==a&&void 0!==a,h=null!==l&&void 0!==l,d=null!==c&&void 0!==c;i.addTextLine(window.t("Earnings")),u&&i.addTextLine(window.t("Standardized")+": "+m(a)),h&&i.addTextLine(window.t("As reported")+": "+m(l)),d&&(u?i.addTextLine($.t("Estimate")+": "+m(c)):i.addTextLine($.t("Estimate")+": "+m(c),{fontWeight:"bold"})),u&&d&&null!==(n=a-c)&&void 0!==n&&(r=n>0?"#238853":"#DD5538",o=100*Math.abs(n/c),s=m(n),isFinite(o)&&(s+=" ("+this._percentageFormatter.format(o)+")"),i.addMulticolorTextLine([{text:$.t("Surprise")+": ",color:"black"},{text:s,color:r}])),i.addTextLine($.t("Date")+": "+this._formatDate(t.date)),t.period&&i.addTextLine($.t("Period Ending")+": "+e.unix(t.period).format("MMM YYYY"))},a.prototype.showBarLine=function(){return!this._model.mainSeries().properties().esdShowBreaks.value()},a.prototype.renderer=function(){var e,t,i,o,s,a,l,c,h=n.prototype.renderer.call(this);if(null===h)return null;if((e=this._model.mainSeries().properties()).esdShowBreaks.value())for(s in t=e.esdBreaksStyle.color.value(),i=e.esdBreaksStyle.style.value(),o=e.esdBreaksStyle.width.value(),this._lollipops)this._lollipops.hasOwnProperty(s)&&(a=this._lollipops[s]).visible&&(l=this.defaultStyle,a.hovered&&(l=this.hoveredStyle),c=$.extend({startPoint:new u(a.basePoint.x,a.basePoint.y-l.lollipop.circleHeight-l.lollipop.radius),endPoint:new u(a.basePoint.x,0),style:{strokeStyle:t,lineWidth:o,lineStyle:i}},a),h.insert(new r(c),0));return h},inherit(l,n),l.prototype.extraData=function(e){var t=e[1],i=e[2],n=e[3];return{numerator:i,denominator:t,date:n}},l.prototype.createText=function(e,t){$.isNumeric(e.numerator)&&$.isNumeric(e.denominator)&&t.addTextLine($.t("Split")+": "+e.numerator+"/"+e.denominator,{fontWeight:"bold"}),t.addTextLine($.t("Date")+": "+this._formatDate(e.date))},inherit(c,n),c.prototype.extraData=function(e){return{grossDividends:e[1],netDividends:e[3],date:e[2]}},c.prototype.createText=function(e,t){var i=+e.grossDividends,n=+e.netDividends;t.addTextLine(window.t("Dividends")),isFinite(n)&&0!==n&&t.addTextLine(window.t("Net")+": "+m(n)),isFinite(i)&&t.addTextLine(window.t("Gross")+": "+m(i)),t.addTextLine($.t("Date")+": "+this._formatDate(e.date))},t.ESDPaneView=n,t.EarningsPaneView=a,t.DividendsPaneView=c,t.SplitsPaneView=l}).call(this,i("ldgD"))},vKju:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" stroke="currentColor" transform="translate(3 4)"><circle cx="10.5" cy="10.5" r="8"/><path d="M7 10.5h3.5V5M7.223 3.24A3 3 0 1 0 3.23 7.218m14.565-.011a3 3 0 1 0-4.019-3.966"/></g></svg>'},vPbs:function(e,t,i){"use strict";function n(){return Object(r.a)(o)?Object(r.c)(o):null}var r,o,s;i.r(t),i.d(t,"CHART_WIDGET_COLLECTION_SERVICE",function(){return o}),i.d(t,"chartWidgetCollectionService",function(){return n}),i.d(t,"CollectionViewMode",function(){return s}),r=i("ObRt"),o={id:"ChartWidgetCollectionService"},function(e){e.Multichart="multichart",e.ForceFullscreen="force-fullscreen"}(s||(s={}))},
vTIA:function(e,t,i){"use strict";var n,r;i.r(t),i.d(t,"tradingPreferencesDefault",function(){return n}),i.d(t,"CustomSourceLayer",function(){return r}),n={showPositions:!1,showOrders:!1,showExecutions:!1,extendLeft:!1,lineLength:0,lineWidth:0,lineStyle:0},function(e){e[e.Background=0]="Background",e[e.Foreground=1]="Foreground"}(r||(r={}))},vaiT:function(e,t,i){"use strict";function n(e,t){if(e.x>=t.length)return null;var i=t[e.x];return i===o.INVALID_TIME_POINT_INDEX?null:{x:i,y:e.y,yloc:e.yl,text:e.t,style:e.st,size:e.sz,colorIndex:e.ci,textColorIndex:e.tci,textAlign:e.ta||a.Center}}function r(e,t,i){return{id:t,x:Object(s.ensureTimePointIndexIndex)(i.indexOf(e.x)),y:e.y,yl:e.yloc,t:e.text,st:e.style,sz:e.size,ci:e.colorIndex,tci:e.textColorIndex,ta:e.textAlign}}var o,s,a,l,c;i.d(t,"b",function(){return a}),i.d(t,"c",function(){return l}),i.d(t,"a",function(){return c}),i.d(t,"e",function(){return n}),i.d(t,"d",function(){return r}),o=i("tqok"),s=i("hsV8"),function(e){e.Left="left",e.Center="center",e.Right="right"}(a||(a={})),function(e){e.AboveBar="ab",e.BelowBar="bl",e.Price="pr"}(l||(l={})),function(e){e.Xcross="xcr",e.Cross="cr",e.Triangleup="tup",e.Triangledown="tdn",e.Flag="flg",e.Circle="cir",e.Arrowup="aup",e.Arrowdown="adn",e.LabelUp="lup",e.LabelDown="ldn",e.LabelLeft="llf",e.LabelRight="lrg",e.LabelCenter="lcn",e.LabelLeftUp="luplf",e.LabelLeftDown="llwlf",e.LabelRightUp="luprg",e.LabelRightDown="llwrg",e.Square="sq",e.Diamond="dia",e.None="n"}(c||(c={}))},vdSZ:function(e,t,i){"use strict";var n,r,o,s,a;i.r(t),i.d(t,"CrosshairDataWindowView",function(){return a}),n=i("mrSG"),r=i("ivNn"),o=i("4miz"),s=window.t("n/a"),a=function(e){function t(t){var i=e.call(this)||this;return i._invalidated=!0,i._dateItem=new o.DataWindowItem(window.t("Date"),""),i._timeItem=new o.DataWindowItem(window.t("Time"),""),i._model=t,i._items.push(i._dateItem),i._items.push(i._timeItem),i}return Object(n.__extends)(t,e),t.prototype.update=function(){this._invalidated=!0},t.prototype.items=function(){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._items},t.prototype._updateImpl=function(){var e,t,i,n=this._model.mainSeries().isDWM();if(this._timeItem.setVisible(!n),this._timeItem.setValue(s),this._dateItem.setValue(s),!this._model.timeScale().isEmpty()){if(e=this._model.crossHairSource().appliedIndex(),!Object(r.isNumber)(e)){if(null===(t=this._model.mainSeries().data().last()))return;e=t.index}null!==(i=this._model.timeScale().indexToUserTime(e))&&(this._dateItem.setValue(this._model.dateFormatter().format(i)),n||this._timeItem.setValue(this._model.timeFormatter().format(i)))}},t}(o.DataWindowView)},vhe3:function(e,t,i){"use strict";function n(e,t,i){c=i||c,l=e,t=t||"aggressive",a.enable("referral_program_for_widget_owners"),a.enable("referral_program_policy_"+t),Object(o.trackEvent)("Referral program enabled",t)}function r(){
return l?"http://tradingview.go2cloud.org/aff_c?offer_id=2&url_id="+c+"&aff_id="+l+"&"+Object(s.buildUtmQueryStringFromUrlParams)(!1):"https://tradingview.com"+Object(s.buildUtmQueryStringFromUrlParams)(!0)}var o,s,a,l,c;i.r(t),i.d(t,"enable",function(){return n}),i.d(t,"referenceToTradingView",function(){return r}),o=i("PC8g"),s=i("JgDS"),a=i("Kxc7"),c="11"},viRO:function(e,t,i){"use strict";function n(e){for(var t=arguments.length-1,i="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)i+="&args[]="+encodeURIComponent(arguments[n+1]);!function(e,t,i,n,r,o,s,a){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[i,n,r,o,s,a],c=0;(e=Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",i)}function r(e,t,i){this.props=e,this.context=t,this.refs=H,this.updater=i||U}function o(){}function s(e,t,i){this.props=e,this.context=t,this.refs=H,this.updater=i||U}function a(e,t,i){var n,r,o,s=void 0,a={},l=null,c=null;if(null!=t)for(s in void 0!==t.ref&&(c=t.ref),void 0!==t.key&&(l=""+t.key),t)b.call(t,s)&&!S.hasOwnProperty(s)&&(a[s]=t[s]);if(1===(n=arguments.length-2))a.children=i;else if(1<n){for(r=Array(n),o=0;o<n;o++)r[o]=arguments[o+2];a.children=r}if(e&&e.defaultProps)for(s in n=e.defaultProps)void 0===a[s]&&(a[s]=n[s]);return{$$typeof:L,type:e,key:l,ref:c,props:a,_owner:v.current}}function l(e){return"object"==typeof e&&null!==e&&e.$$typeof===L}function c(e,t,i,n){if(P.length){var r=P.pop();return r.result=e,r.keyPrefix=t,r.func=i,r.context=n,r.count=0,r}return{result:e,keyPrefix:t,func:i,context:n,count:0}}function u(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function h(e,t,i){return null==e?0:function e(t,i,r,o){var s,a,l,c=typeof t;if("undefined"!==c&&"boolean"!==c||(t=null),s=!1,null===t)s=!0;else switch(c){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case L:case A:s=!0}}if(s)return r(o,t,""===i?"."+d(t,0):i),1;if(s=0,i=""===i?".":i+":",Array.isArray(t))for(a=0;a<t.length;a++)s+=e(c=t[a],l=i+d(c,a),r,o);else if(l=null===t||"object"!=typeof t?null:"function"==typeof(l=W&&t[W]||t["@@iterator"])?l:null,"function"==typeof l)for(t=l.call(t),a=0;!(c=t.next()).done;)s+=e(c=c.value,l=i+d(c,a++),r,o);else"object"===c&&n("31","[object Object]"==(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return s}(e,"",t,i)}function d(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function p(e,t){e.func.call(e.context,t,e.count++)}function f(e,t,i){var n=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?_(e,n,i,function(e){return e
}):null!=e&&(l(e)&&(e=function(e,t){return{$$typeof:L,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(w,"$&/")+"/")+i)),n.push(e))}function _(e,t,i,n,r){var o="";null!=i&&(o=(""+i).replace(w,"$&/")+"/"),h(e,f,t=c(t,o,n,r)),u(t)}function m(){var e=y.current;return null===e&&n("307"),e}var g,y,v,b,S,w,P,T,C,x,I=i("MgzW"),E="function"==typeof Symbol&&Symbol.for,L=E?Symbol.for("react.element"):60103,A=E?Symbol.for("react.portal"):60106,O=E?Symbol.for("react.fragment"):60107,M=E?Symbol.for("react.strict_mode"):60108,k=E?Symbol.for("react.profiler"):60114,D=E?Symbol.for("react.provider"):60109,R=E?Symbol.for("react.context"):60110,V=E?Symbol.for("react.concurrent_mode"):60111,B=E?Symbol.for("react.forward_ref"):60112,N=E?Symbol.for("react.suspense"):60113,F=E?Symbol.for("react.memo"):60115,j=E?Symbol.for("react.lazy"):60116,W="function"==typeof Symbol&&Symbol.iterator,U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H={};r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&n("85"),this.updater.enqueueSetState(this,e,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},o.prototype=r.prototype,(g=s.prototype=new o).constructor=s,I(g,r.prototype),g.isPureReactComponent=!0,y={current:null},v={current:null},b=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0},w=/\/+/g,P=[],x=(C={default:T={Children:{map:function(e,t,i){if(null==e)return e;var n=[];return _(e,n,null,t,i),n},forEach:function(e,t,i){if(null==e)return e;h(e,p,t=c(null,null,t,i)),u(t)},count:function(e){return h(e,function(){return null},null)},toArray:function(e){var t=[];return _(e,t,null,function(e){return e}),t},only:function(e){return l(e)||n("143"),e}},createRef:function(){return{current:null}},Component:r,PureComponent:s,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:R,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:D,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:B,render:e}},lazy:function(e){return{$$typeof:j,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:F,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return m().useCallback(e,t)},useContext:function(e,t){return m().useContext(e,t)},useEffect:function(e,t){return m().useEffect(e,t)},useImperativeHandle:function(e,t,i){return m().useImperativeHandle(e,t,i)},useDebugValue:function(){},useLayoutEffect:function(e,t){return m().useLayoutEffect(e,t)},useMemo:function(e,t){return m().useMemo(e,t)},useReducer:function(e,t,i){return m().useReducer(e,t,i)},useRef:function(e){return m().useRef(e)},useState:function(e){return m().useState(e)},Fragment:O,StrictMode:M,Suspense:N,createElement:a,cloneElement:function(e,t,i){var r,o,s,a,l,c,u;if((null===e||void 0===e)&&n("267",e),r=void 0,
o=I({},e.props),s=e.key,a=e.ref,l=e._owner,null!=t)for(r in void 0!==t.ref&&(a=t.ref,l=v.current),void 0!==t.key&&(s=""+t.key),c=void 0,e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)b.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=void 0===t[r]&&void 0!==c?c[r]:t[r]);if(1===(r=arguments.length-2))o.children=i;else if(1<r){for(c=Array(r),u=0;u<r;u++)c[u]=arguments[u+2];o.children=c}return{$$typeof:L,type:e.type,key:s,ref:a,props:o,_owner:l}},createFactory:function(e){var t=a.bind(null,e);return t.type=e,t},isValidElement:l,version:"16.8.2",unstable_ConcurrentMode:V,unstable_Profiler:k,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:y,ReactCurrentOwner:v,assign:I}}})&&T||C,e.exports=x.default||x},vopJ:function(e,t,i){"use strict";function n(){this.cache={}}function r(e){this.cache=e}function o(e){this.currentSymbol=null,this.cache=e,this.onDataHandler=this.onData.bind(this),this.onExpiredHandler=this.onExpired.bind(this),this.cache.on("data",this.onDataHandler),this.cache.on("expired",this.onExpiredHandler)}var s,a=i("4O8T"),l=i("0waE"),c=i("IWXC").getQuoteSessionInstance,u=i("uOxu").getLogger("Chart.EarningsEstimates");n.prototype.now=function(){return(new Date).getTime()},n.prototype.put=function(e,t,i,n){var r,o,s,a=this.cache[e];a&&clearTimeout(a.timeout),o={value:t,expire:r=i+this.now()},isNaN(r)||(s=setTimeout(function(){var t=this.cache[e];this.del(e),"function"==typeof n&&t&&n(e,t.value)}.bind(this),i),o.timeout=s),this.cache[e]=o},n.prototype.del=function(e){delete this.cache[e]},n.prototype.get=function(e){var t=this.cache[e];if(void 0!==t){if(isNaN(t.expire)||t.expire>=this.now())return t.value;this.del(e)}return null},inherit(r,a),r.prototype.maxRetryCount=1,r.prototype.retryDelay=5e3,r.prototype.itemExpired=function(e,t){this.emit("expired",t)},r.prototype.getKey=function(e,t){return e+"_"+t},r.prototype.requestSymbol=function(e,t,i){function n(){s.unsubscribe(r,o)}var r,o,s,a=36e5,h=this.getKey(e,t),d=this.cache.get(h);d?d.pending||this.emit("data",d,i):(this.cache.put(h,{exchange:e,symbol:t,pending:!0},a),r="est-"+l.guid(),o=e.toUpperCase()+":"+t.toUpperCase(),s=c("full"),u.logNormal("Requesting estimates for "+o),s.subscribe(r,o,function(i,r){var s,l=i&&i.values;if(l)return!1===l.fundamental_data?(u.logNormal('Unsubscribe from quotes due symbol "'+o+'" has no fundamental data'),void n()):void 0!==l.type&&"stock"!==l.type?(u.logNormal('Unsubscribe from quotes due symbol "'+o+'" is not stock'),void n()):void(void 0!==l.earnings_release_next_date&&void 0!==l.earnings_per_share_forecast_next_fq&&(s={date:1e3*l.earnings_release_next_date,alignedDate:l.earnings_release_next_aligned_date,estimate:l.earnings_per_share_forecast_next_symbol_currency_fq,period:1e3*l.earnings_release_next_calendar_date,symbol:t,exchange:e},u.logNormal('Next earnings release date for "'+o+'" is '+l.earnings_release_next_date),this.cache.put(h,s,a,this.itemExpired.bind(this)),this.emit("data",s),n()))}.bind(this)))},s=new r(new n),inherit(o,a),o.prototype.onData=function(e,t){
t&&t!==this||this.isCurrentSymbol(e)&&this.emit("data",e)},o.prototype.onExpired=function(e){this.isCurrentSymbol(e)&&this.setSymbol(e.exchange,e.symbol)},o.prototype.isCurrentSymbol=function(e){return!(!this.currentSymbol||!e)&&(this.currentSymbol.exchange===e.exchange&&this.currentSymbol.symbol===e.symbol)},o.prototype.resetSymbol=function(){this.currentSymbol=null},o.prototype.setSymbol=function(e,t){e=e.toLowerCase(),t=t.toLowerCase(),this.currentSymbol={exchange:e,symbol:t},this.cache.requestSymbol(this.currentSymbol.exchange,this.currentSymbol.symbol,this)},o.prototype.destroy=function(){this.cache.off("data",this.onDataHandler),this.cache.off("expired",this.onExpiredHandler)},e.exports.createEstimatesProvider=function(){return new o(s)}},vq8G:function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"SelectionRenderer",function(){return s}),n=i("VdBB"),r=i("//lt"),o=i("f6yo"),s=function(){function e(e){this._data=e||null}return e.prototype.setData=function(e){this._data=e},e.prototype.draw=function(e,t){var i,n,r,o,s,a,l;if(null!==this._data&&this._data.visible)for(i=t.pixelRatio,e.strokeStyle=void 0!==this._data.color?this._data.color:"#1E88E5",e.fillStyle=this._data.bgColor,e.lineCap="butt",n=Math.max(1,Math.floor(i)),e.lineWidth=n,r=this._data.vertOffset||0,o=0,s=this._data.points;o<s.length;o++)a=s[o],l=a,Number.isFinite(l.x)&&Number.isFinite(l.y)&&this._drawMarker(e,a,r,n,i)},e.prototype.hitTest=function(e){var t,i,o;if(!this._data||!this._data.visible)return null;for(t=0;t<this._data.points.length;t++)if((i=this._data.points[t]).subtract(e).length()<=5.5)return o=void 0!==this._data.pointsCursorType?this._data.pointsCursorType[t]:r.PaneCursorType.Default,new n.HitTestResult(this._data.hittestResult,{pointIndex:i.data,cursorType:o});return null},e.prototype.doesIntersectWithBox=function(e){return!!this._data&&this._data.points.some(function(t){return Object(o.pointInBox)(t,e)})},e.prototype._drawMarker=function(e,t,i,n,r){var o,s,a,l,c=Math.round(3.5*r*2);c%2!=n%2&&(c+=1),(o=Math.round(c+2*(.5*n+.75*r)))%2!=n%2&&(o+=1),s=Math.round(t.x*r),a=Math.round((t.y+i)*r),l=n%2/2,e.beginPath(),e.arc(s+l,a+l,o/2,0,2*Math.PI,!0),e.closePath(),e.fill(),e.beginPath(),e.arc(s+l,a+l,c/2,0,2*Math.PI,!0),e.closePath(),e.stroke()},e}()},w4Ji:function(e,t,i){"use strict";function n(e){var t=new Map;return e.plots.forEach(function(e,i){t.set(e.id,function(e){return e[i+1]})}),t}i.r(t),i.d(t,"studyPlotFunctionMap",function(){return n})},w6b9:function(e,t,i){"use strict";function n(e,t){var i=[];return function(e,t){return!(Object(l.enabled)(c.ProductFeatures.TICK_BY_TICK_PUSH_DATA)||o(e.delay)||r(e,t)||function(e){return"bitcoin"===e.type||"crypto"===e.type}(e))}(e,t)&&i.push("TickByTick"),function(e){return o(e.delay)&&!s(e)}(e)&&(!function(e){return"MOEX"===e.listed_exchange&&!window.is_authenticated}(e)?!function(e){return"TFEX"===e.listed_exchange&&!window.is_authenticated}(e)?i.push("DelayToRealtime"):i.push("TFEXDelayForGuest"):i.push("MOEXDelayForGuest")),function(e){return o(e.delay)&&s(e)}(e)&&i.push("DelayNoRealtime"),
r(e,t)&&i.push("EOD"),function(e){return h.a.hasBatsSymbols(e.full_name)}(e)&&i.push("BATSToRealtime"),i}function r(e,t){return h.a.hasEodSymbols(e.full_name)||t===d.STATUS_EOD}function o(e){return void 0!==e&&e>0}function s(e){return"index"===e.type&&p.includes(e.listed_exchange)}var a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E;i.r(t),a=i("mrSG"),i("bSeV"),l=i("NP3r"),c=i("bKsZ"),u=i("8woN"),h=i.n(u),d=i("dfhE"),p=["DJ","CBOE"],f=i("VVxS"),_=i("XHTO"),m=i("YFKU"),i("HbRj"),g=i("oiVR"),v=m.t("Learn more"),b=m.t("Sign up"),S=g.warningLink,(y={}).TickByTick=function(){return{lines:[{line:m.t("Data provided with the free plan is updated no more than once per second")},{line:m.t("Please be advised that data provided with the free plan is updated once per second while any paid plan features faster data updates if trades occur.")},{link:{href:"#",class:S,text:v,attr:{name:"data-warning",value:"TickByTick"}}}],importance:"list"}},y.EOD=function(){return{lines:[{line:m.t("End Of Day data")},{line:m.t("It is updated once a day.")}],importance:"list"}},y.DelayToRealtime=function(e){return{title:m.t("Title"),lines:[{line:m.t("{symbolName} data is delayed by {time} minutes").format({symbolName:e.symbolName,time:e.time.toString()})},{line:m.t("To get real-time data for {description} please purchase the real-time data package.").format({description:"<b>"+e.description+"</b>"})},{link:{href:"#",class:S,text:v,attr:{name:"data-warning",value:"DelayToRealtime"}}}],importance:"list"}},y.DelayNoRealtime=function(e){return{lines:[{line:m.t("{symbolName} data is delayed by {time} minutes").format({symbolName:e.symbolName,time:e.time.toString()})},{line:m.t("Real-time data for {description} is not supported at this time. It may become supported in the future.").format({description:"<b>"+e.description+"</b>"})}],importance:"list"}},y.BATSToRealtime=function(e){return{lines:[{line:m.t("Real-time data for {symbolName} is provided by {exchange} exchange").format({symbolName:e.symbolName,exchange:e.exchange})},{line:m.t("The data from {exchange} exchange is real-time but it is slightly different from its official counterpart from a primary exchange. If you need the most accurate data, please purchase the {description} real-time feed.").format({description:"<b>"+e.description+"</b>",exchange:e.exchange})},{link:{href:"#",class:S,text:v,attr:{name:"data-warning",value:"BATSToRealtime"}}}],importance:"list"}},y.MOEXDelayForGuest=function(e){return{lines:[{line:m.t("{symbolName} data is delayed by {time} minutes").format({symbolName:e.symbolName,time:e.time.toString()})},{line:m.t("{listedExchange} real-time data is available for free to registered users. Grab a free account!").format({listedExchange:e.listedExchange})},{link:{href:"#",class:S,text:b,attr:{name:"data-warning",value:"MOEXDelayForGuest"}}}],importance:"list"}},y.TFEXDelayForGuest=function(e){return{lines:[{line:m.t("{symbolName} data is delayed by {time} minutes").format({symbolName:e.symbolName,time:e.time.toString()})},{
line:m.t("{listedExchange} real-time data is available for free to registered users. Grab a free account!").format({listedExchange:e.listedExchange})},{link:{href:"#",class:S,text:b,attr:{name:"data-warning",value:"TFEXDelayForGuest"}}}],importance:"list"}},w=y,P=i("s4+V"),T=i("xlKU"),C=i("PC8g"),x=function(){function e(e){var t=this;this._tooltip=null,this._onLinkClick=null,this._openDialog=function(e){Object(P.createGoProDialog)(e).then(function(t){t.open(),Object(C.trackEvent)("Data Warning","Full description visible",e.feature)})},this._createClickHandler=function(e){return function(i){var n,r;if(i.target.classList.contains(S)&&(i.preventDefault(),n=i.target.dataset.warning))switch(n){case"MOEXDelayForGuest":case"TFEXDelayForGuest":Object(T.showSignModal)({source:"Data warning indicator"});break;default:r={forceUpgradeBtn:!0,goOnMarkets:!0,customParams:e,feature:n},t._openDialog(r)}}},this._opts=e}return e.prototype.show=function(e,t){var n=this;window.pro&&window.pro.runOrUpdate(function(){return Object(a.__awaiter)(n,void 0,void 0,function(){var n,r,o;return Object(a.__generator)(this,function(s){switch(s.label){case 0:return this._tooltip?[3,2]:[4,Promise.resolve().then(i.t.bind(null,"6xeX",7))];case 1:n=s.sent(),this._tooltip=new n.Tooltip({direction:"bottom",clickable:!0,width:250}),s.label=2;case 2:return r=this._opts.indicatorElem.getBoundingClientRect(),o=this._getTooltipContent(e,t),this._tooltip.show({items:o,x:r.left+r.width/2,y:40,wrapElement:this._opts.wrapElem}),this._onLinkClick=this._createClickHandler(t),this._tooltip.getElem().addEventListener("click",this._onLinkClick),Object(C.trackEvent)("Data Warning","Short description visible"),[2]}})})})},e.prototype.getElem=function(){return null!==this._tooltip?this._tooltip.getElem():null},e.prototype.hide=function(){this._tooltip&&(this._tooltip.hide(),this._onLinkClick&&this._tooltip.getElem().removeEventListener("click",this._onLinkClick))},e.prototype.isWarningsVisible=function(){return!!this._tooltip&&this._tooltip.isOpened()},e.prototype._getTooltipContent=function(e,t){return e.map(function(e){return function(e,t){return w[e](t)}(e,t)})},e}(),i.d(t,"DataWarningIndicator",function(){return E}),I="tv.dataWarningsShown",E=function(){function e(e){var t=this;this._warnings=[],this._wait=null,this._onClick=function(e){var i=t._viewer.isWarningsVisible();e.target!==t._elem||i?i&&(t._onOutsideClick(e),e.preventDefault()):(t.showWarnings(),e.preventDefault())},this._onOutsideClick=function(e){var i=t._viewer.getElem();null===i||i.contains(e.target)||t.hideWarnings()},this._opts=e,this._elem=this._createElem(),this._viewer=new x({indicatorElem:this._elem,wrapElem:this._opts.wrapElem}),this._opts.container.insertAdjacentElement("afterbegin",this._elem),window.addEventListener("storage",function(e){e.key===I&&t._toggleBlinking()}),document.body.addEventListener("click",this._onClick),document.body.addEventListener("touchend",this._onClick,{passive:!1})}return e.prototype.toggleIndicator=function(){var e=this;window.pro&&window.pro.runOrUpdate(function(){
e.hideWarnings(),e._warnings=n(e._opts.getSymbolInfo(),e._opts.getStatus()),e._warnings.length>0?e._enable():e._disable()})},e.prototype.showWarnings=function(){var e=this;this._wait=this._getRenderCtx().then(function(t){e._viewer.show(e._warnings,t),e._elem.classList.add(_.active),e._wait=null}),this._invalidateWarnings()},e.prototype.hideWarnings=function(){var e=this,t=function(){e._viewer.hide(),e._elem.classList.remove(_.active)};this._wait?this._wait.then(t):t()},e.prototype._enable=function(){this._elem.classList.add(_.visible),this._toggleBlinking()},e.prototype._disable=function(){this._elem.classList.remove(_.visible)},e.prototype._toggleBlinking=function(){var e=JSON.parse(f.TVLocalStorage.getItem(I)||"[]"),t=!1;this._warnings.forEach(function(i){e.includes(i)||(t=!0)}),this._elem.classList.toggle(_.attention,t)},e.prototype._invalidateWarnings=function(){var e=JSON.parse(f.TVLocalStorage.getItem(I)||"[]"),t=!1;this._warnings.forEach(function(i){e.includes(i)||(e.push(i),t=!0)}),t&&(f.TVLocalStorage.setItem(I,JSON.stringify(e)),window.dispatchEvent(new StorageEvent("storage",{key:I}))),this._elem.classList.remove(_.attention)},e.prototype._createElem=function(){var e=document.createElement("div");return e.classList.add(_.indicator),e},e.prototype._getRenderCtx=function(){return Object(a.__awaiter)(this,void 0,void 0,function(){var e=this;return Object(a.__generator)(this,function(t){return[2,new Promise(function(t,i){var n=window.pro;n?n.runOrUpdate(function(){var i=e._opts.getSymbolInfo(),n=i.delay&&i.delay>0?i.delay:900,r=e._getExchange(i);t({time:Math.round(n/60),exchange:i.exchange,listedExchange:i.listed_exchange,description:r.description||i.listed_exchange,symbolName:i.name,username:window.user?window.user.username:""})}):i("Pro module not defined")})]})})},e.prototype._getExchange=function(e){var t,i;if(!window.pro)throw new Error("Pro module not defined");return t=window.pro.getProduct(this._getProductId(e)),(i=this._getParent(t.exchange||""))&&"cme-full"===i.exchange?t:i||t},e.prototype._getParent=function(e){if(!window.pro)throw new Error("Pro module not defined");return window.pro.getProductsByType(window.pro.PRODUCT_TYPES.exchange).find(function(t){return Boolean(t.included_exchanges&&t.included_exchanges.includes(e))})||null},e.prototype._getProductId=function(e){return"exchange-"+e.pro_perm},e}()},wFwD:function(e,t,i){"use strict";function n(e,t){var i=e.metaInfo(),n=!e.isPine()||e.isStandardPine()?i.description:i.scriptIdPart,o=i.productId,a=s.a.isScriptStrategy(i),l=window.user&&window.user.pro_plan||"";Object(r.getTracker)().then(function(e){e&&e.trackStudiesAnalytics(n,o,t,a,l)})}var r,o,s;i.r(t),i.d(t,"trackStudies",function(){return n}),r=i("0UyP"),o=i("0YCj"),s=i.n(o)},wGNx:function(e,t,i){"use strict";var n;i.r(t),i.d(t,"RiskRewardPointIndex",function(){return n}),function(e){e[e.Entry=0]="Entry",e[e.Close=1]="Close",e[e.ActualEntry=2]="ActualEntry",e[e.ActualClose=3]="ActualClose"}(n||(n={}))},wHoz:function(e,t,i){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),
n=i("PC8g"),r={filterNamesMap:{script_type:"Indicators and Strategies","script_type-indicators":"Indicators","script_type-strategies":"Strategies",stream:"All Markets","stream-stocks":"Stocks","stream-indices":"Indices","stream-commodities":"Commodities","stream-currencies":"Currencies","stream-bitcoin":"Bitcoin","interval-all":"All Intervals","interval-m":"Short Term","interval-h":"Medium Term","interval-dwm":"Long Term","sort-unmoderated":"Unmoderated","sort-trending":"Trending","sort-discussed":"Most Discussed","sort-viewed":"Most Viewed","sort-agreed":"Most Agreed","sort-suggested":"Suggested","sort-recent":"All Ideas","time-day":"Today","time-week":"This Week","time-month":"This Month","time-all":"All Time","by-everyone":"Everyone","by-following":"Following","by-me":"My Ideas"},goProFeaturesMap:{customIntervals:"Add Custom Interval",intradaySpread:"Inraday Spread",kagiRenko:"Japanese Intraday Chart",extendedHours:"Timezones Extended Hours",alerts:{prefix:"New Alerts Limit",widget:"Widget",chart:"Chart Header"},multipleCharts:"Multiple Charts Layout",savedChartsLimit:"Save Chart Limit",studyLimit:"Studies Limit",multipleWatchLists:{prefix:"Watchlists",new:"Create New List",rename:"Rename List",saveAs:"Save List As"},importWatchlist:"Watchlists Import Watchlist",exportWatchlist:"Watchlists Export Watchlist",BATSExchangePopup:"BATS Exchange Popup",DataQualityPopup:"Data Quality Popup",FreeDelayPopup:"Free Delay Popup",proRTProduct:"Volume Profile",studyOnStudy:"Unlimited Study on Study"},trackFeature:{savedChartsLimit:!0,BATSExchangePopup:!0,FreeDelayPopup:!0,DataQualityPopup:!0,intradaySpread:!0,studyOnStudy:!0},trackGoPro:function(e,t,i){i&&!t&&(t=i,i=null);var o=r.goProFeaturesMap[t];if(o){if(i){if("string"==typeof o)return;o="{0} {1}".format(o.prefix,o[i])}(0,n.trackEvent)(e,o)}}},t.default=r,e.exports=t.default},wHzE:function(e,t,i){"use strict";function n(){c.call(this),this._data=null,this._colors=null}function r(e,t,i){this._series=e,this._lastBar=t,this._direction=i,this._renderer=new n}var o=i("Eyy1").ensureNotNull,s=i("dJ3D"),a=i("0F0w").ChartSession,l=i("uOxu").getLogger("Chart.Snapshot"),c=i("cPgM").ScaledPaneRenderer;inherit(n,c),n.prototype.setData=function(e){this._data=e},n.prototype.setPredictCode=function(e){this._colors=this.getBackgroundColor(e)},n.prototype.hitTest=function(){return null},n.prototype.getBackgroundColor=function(e){return[{background:"rgba(255, 158, 171, 0.3)",line:"#7E202F"},{background:"rgba(244, 255, 158, 0.3)",line:"#EBFF3F"},{background:"rgba(195, 255, 160, 0.3)",line:"#308020"}][e+1]},n.prototype._drawImpl=function(e){if(null!==this._data&&null!==this._colors){e.fillStyle=this._colors.background,e.fillRect(Math.max(0,this._data.x),0,this._data.width,this._data.height),e.strokeStyle=this._colors.line,e.beginPath(),e.lineWidth=1;var t=Math.round(this._data.x);e.moveTo(t,0),e.lineTo(t,this._data.height),e.stroke()}},r.prototype.update=function(){this._x=this._series.m_model.timeScale().indexToCoordinate(this._lastBar)+.5*this._series.m_model.timeScale().barSpacing()+1},
r.prototype.renderer=function(){var e={x:this._x,height:this._series.priceScale().height(),width:this._series.m_model.timeScale().width()},t=this._series.data().bars(),i=o(t.last()).value[TradingView.CLOSE_PLOT]>o(t.valueAt(this._lastBar))[TradingView.CLOSE_PLOT]?1:-1,n=0;return 1===this._direction?n=i:2===this._direction&&(n=-1*i),this._renderer.setData(e),this._renderer.setPredictCode(n),this._renderer},t.FutureBarsPaneView=r,t.requestChartSnapshotBars=function(e,t){function i(i){e._currentRequest.requestFirstBarTime(i,_,function(r){if(r.p[1]>g)return e._currentRequest.isConnected().unsubscribe(n),e._currentRequest.destroy(),delete e._currentRequest,p.disconnect(),e._haveNoMoreData=!0,void t(!0);!function(i){var r,s,a,l,u,m,y,v,b,S,w="series_id",P=1;for(e._haveNoMoreData=!0,r=!1,e._currentRequest.createSeries(w,"turnaround",i,_,["bar_count",g-1,-h],function(i){var o,s;switch(i.method){case"data_update":if(!i.params.plots.length)return;o=i.params.plots[0].value[TradingView.TIME_PLOT],s=i.params.plots,e._haveNoMoreData=s.length<h,r=0===s.length,d=o===g,f.mainSeries().fixLastBar(e._chartDirection),f.mainSeries().bars().addTail(s,d),f.mainSeries().parseJapProjBars(i.params.nonseries).then(function(e){f.mainSeries().m_data.m_nsBars=e.nsBars,f.mainSeries().m_data.lastProjectionPrice=e.lastPrice,f.model().recalculateAllPanes(),f.model().updateSource(f.mainSeries()),f.model().updateLineTools(),f.model().updateTimeScaleBaseIndex(),f.timeScale().scrollToOffsetAnimated(c)});break;case"series_completed":0==--P&&(e._currentRequest.isConnected().unsubscribe(n),e._currentRequest.destroy(),delete e._currentRequest,p.disconnect(),t())}}),s=f.dataSources(),a={},l=o(f.mainSeries().bars().lastIndex()),u=function(i){var o,s=i.method;"study_completed"===s||"study_error"===s?0==--P&&(e._currentRequest.isConnected().unsubscribe(n),e._currentRequest.destroy(),delete e._currentRequest,p.disconnect(),t()):"data_update"!==s||r||(o=i.params.customId,a[o].replaceData(l,d,i.params.plots),f.model().recalculateAllPanes(),f.model().updateSource(f.mainSeries()))},m=0;m<s.length;m++)y=s[m],TradingView.isInherited(y.constructor,TradingView.Study)&&-1!==["Volume","Compare","Overlay"].indexOf(y.metaInfo().shortId)&&(v="study_"+m,b=y.metaInfo().fullId+"!",a[v]=y,P++,S=y.inputs(),e._currentRequest.createStudy(v,"turnaround",w,b,S,u))}(i)})}function n(){var t,n,r=f.model().timezone();r||(r=defaults("chartproperties").mainSeriesProperties.timezone),e._currentRequest.switchTimezone(r),t="symbol_id",n=function(r){switch(r.method){case"symbol_error":if(r.params[1]===TradingView.Series.PERMISSION_DENIED){var o;switch(r.params[2]){case TradingView.Series.PD_REASON_EXTENDED_HOURS:f.mainSeries().properties().extendedHours.setValue(!1),o=f.mainSeries().getSymbolString();break;case TradingView.Series.PD_REASON_SYMBOL:o=r.params[3];break;default:o=r.params[2]}o&&(t+="_re",e._currentRequest.resolveSymbol(t,o,n))}break;default:i(t)}},e._currentRequest.resolveSymbol(t,u,n)}
var r,c,u,h,d,p,f=e.model(),_=f.mainSeries().interval(),m=o(f.mainSeries().bars().last()),g=m.value[TradingView.TIME_PLOT];"function"!=typeof t&&(t=function(){}),r=100,null==e._currentRequest?(c=f.timeScale().rightOffset())<0||e._haveNoMoreData||(u=f.mainSeries().getSymbolString(),h=Math.max(Math.ceil(c),r),d=!1,(p=new s(new window.WSBackendConnectionCtor(window.WEBSOCKET_HOST,window.WEBSOCKET_PORT,{pingRequired:window.WS_HOST_PING_REQUIRED,proHost:window.WEBSOCKET_PRO_HOST,reconnectHost:window.WEBSOCKET_HOST_FOR_RECONNECT}))).setLoadNew(!0),e._currentRequest=new a(p),e._currentRequest.isConnected().subscribe(n),e._currentRequest.connect(function(e){var t,i,n,r,s,a,l;"timescale_update"===e.method&&(t=o(f.mainSeries().bars().lastIndex()),i=o(f.timeScale().indexToUserTime(t)).valueOf()/1e3,r=(n=f.timeScale().points()).valueAt(t),e.params.changes.length>0&&((s=e.params.changes[0]===r)||(i+=1),f.timeScale().points().remove(t+1),f.timeScale().addTail(e,i,s),a=n.lastIndex(),l=n.valueAt(a),function(e,t,i){var n,r,o,s,a,l,c,u=e.allLineTools(),h=u.length,d=e.timeScale();for(n=0;n<h;++n){for(o=0,a=(s=(r=u[n]).points()).length,l=0;l<a;++l)(c=s[l]).time>t&&c.time<=i&&(c.index=d.points().indexOf(c.time),++o);o>0&&r.updateAllViews()}}(f.model(),r,l)))})):l.logDebug("requestSnapshotBars: unexpected requestSnapshotBars")}},wOSo:function(e,t,i){"use strict";var n,r,o,s,a;i.r(t),i.d(t,"QuotesProvider",function(){return a}),n=i("IWXC"),r=i("aIyQ"),o=i.n(r),s=i("0waE"),a=function(){function e(){this._quotes=null,this._quoteSessionSymbol=null,this._quoteSessionClientId="",this._quotesUpdate=new o.a}return e.prototype.setQuotesSessionSymbol=function(e){this._quoteSessionSymbol!==e&&(this._quoteSessionClientId||(this._quoteSessionClientId="series-"+Object(s.guid)()),this._unsubscribeQuoteSession(),e&&(this._quoteSessionSymbol=e,Object(n.getQuoteSessionInstance)("full").subscribe(this._quoteSessionClientId,this._quoteSessionSymbol,this._onUpdate.bind(this))))},e.prototype.quotesUpdate=function(){return this._quotesUpdate},e.prototype.quotes=function(){return this._quotes},e.prototype.destroy=function(){this._unsubscribeQuoteSession()},e.prototype._onUpdate=function(e,t){this._quotes=e&&e.values||null,t&&t.values&&t.values.current_session&&this._quotesUpdate.fire(e,t)},e.prototype._unsubscribeQuoteSession=function(){this._quoteSessionSymbol&&(Object(n.getQuoteSessionInstance)("full").unsubscribe(this._quoteSessionClientId,this._quoteSessionSymbol),this._quoteSessionSymbol=null,this._quotes=null)},e}()},wURc:function(e,t,i){"use strict";function n(e,t,i){this._study=e,this._series=t,this._model=i,this._invalidated=!0,this._orderArrow={vMargin:n.DEFAULT_ORDER_ARROW_VMARGIN,width:n.DEFAULT_ORDER_ARROW_WIDTH,height:n.DEFAULT_ORDER_ARROW_HEIGHT},this._exitLineWidth=n.DEFAULT_ORDER_ARROW_EXIT_LINE_WIDTH,this._priceArrow={width:n.DEFAULT_PRICE_ARROW_WIDTH,height:n.DEFAULT_PRICE_ARROW_HEIGHT},this._text={vMargin:n.DEFAULT_TEXT_VMARGIN,font:n.DEFAULT_FONT,fontSize:n.DEFAULT_FONT_SIZE},
this._checkHideTextIfBarSpacingLT=n.DEFAULT_CHECK_HIDE_TEXT_IF_BARSPACING_LT,this._textIsVisible=!0,this._colors={entryBuy:n.DEFAULT_ENTRY_BUY_COLOR,entrySell:n.DEFAULT_ENTRY_SELL_COLOR,exit:n.DEFAULT_EXIT_COLOR},this._items={entryBuy:[],entrySell:[],exit:[]},this._textWidths={},this._study.properties().strategy.orders.subscribe(this,this.update)}var r=i("aO4+").Point,o=i("2ku2").PaneRendererStudyStrategyOrders,s=i("Zy3/").CompositeRenderer,a=i("k9/m").PlotRowSearchMode,l=i("zDbI").CHART_FONT_FAMILY;n.DEFAULT_ORDER_ARROW_VMARGIN=7,n.DEFAULT_ORDER_ARROW_WIDTH=9,n.DEFAULT_ORDER_ARROW_HEIGHT=11,n.DEFAULT_ORDER_ARROW_EXIT_LINE_WIDTH=2,n.DEFAULT_PRICE_ARROW_WIDTH=5,n.DEFAULT_PRICE_ARROW_HEIGHT=9,n.DEFAULT_TEXT_VMARGIN=2,n.DEFAULT_FONT=l,n.DEFAULT_FONT_SIZE=10,n.DEFAULT_CHECK_HIDE_TEXT_IF_BARSPACING_LT=10,n.DEFAULT_ENTRY_BUY_COLOR="#008fff",n.DEFAULT_ENTRY_SELL_COLOR="#f00",n.DEFAULT_EXIT_COLOR="#cc47ed",n.prototype._updateImpl=function(){var e,t,i,n,o,s,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A;if(this.clearItems(),(e=this._study.ordersData())&&e.length&&(t=this._model.timeScale(),i=this._series.priceScale(),!(!t||!i||t&&t.isEmpty()||i&&i.isEmpty())&&null!==(n=t.visibleBarsStrictRange()))){for(o=this._study.barsIndexes(),s=this._series.nearestIndex(n.firstBar(),a.NearestRight),l=this._series.nearestIndex(n.lastBar(),a.NearestLeft),c=s,u=[],h=[];c<=l;c++)for(d=-1;-1!==(d=o.indexOf(c,d+1));)(p=e[d])&&(u.push(p),h.push(c));for(_=(f=this._study.properties()).strategy.orders.showLabels.value(),m=f.strategy.orders.showQty.value(),(g=_||m)&&t.barSpacing()<this._checkHideTextIfBarSpacingLT&&this._orderArrow.width*u.length*2>t.width()&&(g=!1),v=(y=g&&this._text.fontSize+this._text.vMargin||0)&&y*(_+m),b=this._series.firstValue(),S=i.isInverted(),w=0,P={upper:[],lower:[]};w<u.length;w++)p=u[w],A=S?!p.b:p.b,d=h[w],T=t.indexToCoordinate(d,!0),C=i.priceToCoordinate(this._series[p.b?"low":"high"](d),b),I="number"==typeof P[x=A?"lower":"upper"][d]&&P[x][d]||0,C+=A?I:-I,"number"!=typeof P[x][d]&&(P[x][d]=0),P[x][d]+=(p.e?0:this._exitLineWidth)+this._orderArrow.vMargin+this._orderArrow.height+v,E=i.priceToCoordinate(p.p,b),L=p.e?!p.b&&p.e?"entrySell":"entryBuy":"exit",this._items[L].push({orderPoint:new r(T,C),pricePoint:new r(T,E),label:_&&(p.c||p.id||"Untitled")||null,qty:m&&(p.b?"+":"-")+p.q||null,pos:x});this._textLabelIsVisible=_,this._textQtyIsVisible=m,this._textIsVisible=g}},n.prototype.update=function(){this._invalidated=!0},n.prototype.clearItems=function(){this._items.entryBuy.length=this._items.entrySell.length=this._items.exit.length=0},n.prototype.renderer=function(){var e,t,i,n=this._study.properties();if(n.visible.value()&&n.strategy.orders.visible.value()&&(e=this._series.priceScale(),(this._invalidated||e&&e.isScaled())&&(this._updateImpl(),this._invalidated=!1),this._items.entryBuy.length||this._items.entrySell.length||this._items.exit.length)){for(i in t=new s,this._items)this._items[i].length&&t.append(new o({items:this._items[i],color:this._colors[i],orderArrow:this._orderArrow,
exitLineWidth:"exit"===i&&this._exitLineWidth||0,priceArrow:this._priceArrow,text:this._textIsVisible&&this._text||null},this._textWidths));return t}},e.exports=n},wZIs:function(e,t,i){"use strict";function n(e,t,i,n,r){function o(e){return t&&t[e]?t[e]:e}function s(e,t,i,n){var r=o(t[0]);return!!e.hasOwnProperty(r)&&(t.length>1?s(e[r],t.slice(1),i):(e[r]&&e[r].setValue?e[r].setValue(i):e[r]=i,!0))}function a(e){i||g.logWarn("Path `"+e+"` does not exist.")}var l,c,u,h;if(n)for(l in n)u=o((c=l.split("."))[0]),h=void 0!==r&&r===c[0],0!==c.length&&h&&(u=o((c=c.slice(1))[0])),0!==c.length&&e.hasOwnProperty(u)?s(e,c,n[l])||a(l):h&&a(l)}function r(e,t,i,r){window.__defaultsOverrides&&n(e,t,i,window.__defaultsOverrides,r)}function o(){var e=/^linetool.+/;Object.keys(TradingView.defaultProperties).forEach(function(t){e.test(t)&&r(TradingView.defaultProperties[t],null,!1,t)})}function s(e,t){return t?function(e,t){var i,n,r,o,s=v(e);window._UNIT_TESTS||(i=TradingView.clone(TVSettings.getJSON(e,null)),e.startsWith("study_")&&i&&function(e){if(!e)return!1;e=e.toString();var t=new RegExp("\\d+").exec(e);return null!==t&&t[0]===e}(i.version)&&(n=i.inputs,r=t.updateStudyInputs(i.id,i.version,"last",n,null),i.inputs=r,o=t.updateStudyState(i,i),i=o),TradingView.merge(s,i));return s}(e,t):function(e){var t,i=v(e);window._UNIT_TESTS||(t=TradingView.clone(TVSettings.getJSON(e,null)))&&TradingView.merge(i,t);return i}(e)}var a=i("dfhE"),l=i("rCHB").LineToolPitchforkStyle,c=i("Ye2/").LineToolBarsPatternMode,u=i("23IT").LineStudyPlotStyle,h=i("8OdW"),d=i("oXaB").PriceAxisLastValueMode,p=i("4o++").MagnetMode,f=i("a7Ha").LineEnd,_=i("bKFv").StatsPosition,m=i("KUek").sessionsPreferencesDefault,g=i("uOxu").getLogger("Chart.Defaults"),y=i("zDbI").CHART_FONT_FAMILY,v=function(e){var t,i,n,s,g,v,b,S,w=function(e,t){return{color:e,visible:t}},P=function(e,t,i){return{coeff:e,color:t,visible:i}},T=function(e,t,i,n,r){return{coeff:e,color:t,visible:i,linestyle:void 0===n?CanvasEx.LINESTYLE_SOLID:n,linewidth:void 0===r?1:r}},C=function(e,t,i){return{color:e,width:i,visible:t}},x=function(e,t,i,n,r){return{color:e,visible:t,width:i,x:n,y:r}},I=function(e,t,i,n,r,o){return{coeff1:e,coeff2:t,color:i,visible:n,linestyle:void 0===r?CanvasEx.LINESTYLE_SOLID:r,linewidth:void 0===o?1:o}};if(void 0===TradingView.defaultProperties){switch(window.locale){case"ar_AE":t="Asia/Dubai";break;case"au":t="Australia/Sydney";break;case"br":t="America/Sao_Paulo";break;case"ca":t="America/Toronto";break;case"de_DE":case"it":t="Europe/Berlin";break;case"es":t="Europe/Madrid";break;case"fa_IR":t="Asia/Tehran";break;case"fr":case"sv_SE":t="Europe/Paris";break;case"he_IL":case"tr":t="Europe/Athens";break;case"hu_HU":case"pl":t="Europe/Warsaw";break;case"id":case"th_TH":case"vi_VN":t="Asia/Bangkok";break;case"in":t="Asia/Kolkata";break;case"ja":case"kr":t="Asia/Tokyo";break;case"ms_MY":t="Asia/Singapore";break;case"ru":t="Europe/Moscow";break;case"uk":t="Europe/London";break;case"zh_CN":case"zh_TW":t="Asia/Shanghai";break;default:t="Etc/UTC"}TradingView.defaultProperties={
chartproperties:{timezone:t,priceScaleSelectionStrategyName:"auto",dataWindowProperties:{background:"rgba( 255, 254, 206, 0.2)",border:"rgba( 96, 96, 144, 1)",font:"Verdana",fontBold:!1,fontItalic:!1,fontSize:10,transparency:80,visible:!0},paneProperties:{background:"#ffffff",gridProperties:{color:"#e1ecf2",style:CanvasEx.LINESTYLE_SOLID},vertGridProperties:{color:"#e1ecf2",style:CanvasEx.LINESTYLE_SOLID},horzGridProperties:{color:"#e1ecf2",style:CanvasEx.LINESTYLE_SOLID},crossHairProperties:{color:"#758696",style:CanvasEx.LINESTYLE_DASHED,transparency:0,width:1},topMargin:10,bottomMargin:8,axisProperties:{autoScale:!0,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,indexedTo100:!1,log:!1,logDisabled:!1,alignLabels:!0,isInverted:!1},legendProperties:{showStudyArguments:!0,showStudyTitles:!0,showStudyValues:!0,showSeriesTitle:!0,showSeriesOHLC:!0,showLegend:!0,showBarChange:!0,showBackground:!0,backgroundTransparency:50,wrapText:!1}},scalesProperties:{backgroundColor:"#ffffff",lineColor:"#50535E",textColor:"#50535E",fontSize:12,scaleSeriesOnly:!1,showSeriesLastValue:!0,seriesLastValueMode:d.LastValueAccordingToScale,showSeriesPrevCloseValue:!1,showStudyLastValue:!1,showSymbolLabels:!1,showStudyPlotLabels:!1,showFundamentalNameLabel:!1,showFundamentalLastValue:!1,barSpacing:h.DEFAULT_BAR_SPACING,showCurrency:!0},mainSeriesProperties:{style:a.STYLE_CANDLES,esdShowDividends:!0,esdShowSplits:!0,esdShowEarnings:!0,esdShowBreaks:!1,esdBreaksStyle:{color:"rgba( 235, 77, 92, 1)",style:CanvasEx.LINESTYLE_DASHED,width:1},esdFlagSize:2,showCountdown:!0,showInDataWindow:!0,visible:!0,showPriceLine:!0,priceLineWidth:1,priceLineColor:"",baseLineColor:"#B2B5BE",showPrevClosePriceLine:!1,prevClosePriceLineWidth:1,prevClosePriceLineColor:"rgba( 85, 85, 85, 1)",minTick:"default",extendedHours:!1,dividendsAdjustment:!1,sessVis:!1,statusViewStyle:{fontSize:16,showExchange:!0,showInterval:!0,symbolTextSource:"description"},candleStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350",barColorsOnPrevClose:!1,drawBody:!0},hollowCandleStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,borderColor:"rgba( 55, 134, 88, 1)",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"rgba( 115, 115, 117, 1)",wickUpColor:"#26a69a",wickDownColor:"#ef5350",drawBody:!0},haStyle:{upColor:"#26a69a",downColor:"#ef5350",drawWick:!0,drawBorder:!0,borderColor:"rgba( 55, 134, 88, 1)",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"rgba( 115, 115, 117, 1)",wickUpColor:"#26a69a",wickDownColor:"#ef5350",showRealLastPrice:!1,barColorsOnPrevClose:!1,inputs:{},inputInfo:{},drawBody:!0},barStyle:{upColor:"#26a69a",downColor:"#ef5350",barColorsOnPrevClose:!1,dontDrawOpen:!1,thinBars:!0},hiloStyle:{color:"#2196f3",showBorders:!0,borderColor:"#2196f3",showLabels:!0,labelColor:"#2196f3",fontSize:7,drawBody:!0},lineStyle:{color:"#2196f3",
linestyle:CanvasEx.LINESTYLE_SOLID,linewidth:2,priceSource:"close",styleType:a.STYLE_LINE_TYPE_SIMPLE},areaStyle:{color1:"rgba(33, 150, 243, 0.28)",color2:"#2196f3",linecolor:"#2196f3",linestyle:CanvasEx.LINESTYLE_SOLID,linewidth:2,priceSource:"close",transparency:100},priceAxisProperties:{autoScale:!0,autoScaleDisabled:!1,lockScale:!1,percentage:!1,percentageDisabled:!1,indexedTo100:!1,log:!1,logDisabled:!1,isInverted:!1,alignLabels:!0},renkoStyle:{upColor:"#26a69a",downColor:"#ef5350",borderUpColor:"#26a69a",borderDownColor:"#ef5350",upColorProjection:"rgba( 169, 220, 195, 1)",downColorProjection:"rgba( 245, 166, 174, 1)",borderUpColorProjection:"rgba( 169, 220, 195, 1)",borderDownColorProjection:"rgba( 245, 166, 174, 1)",wickUpColor:"#26a69a",wickDownColor:"#ef5350",inputs:{source:"close",sources:"Close",boxSize:3,style:"ATR",atrLength:14,wicks:!0},inputInfo:{source:{name:"source"},sources:{name:"Source"},boxSize:{name:"Box size"},style:{name:"Style"},atrLength:{name:"ATR length"},wicks:{name:"Wicks"}}},pbStyle:{upColor:"#26a69a",downColor:"#ef5350",borderUpColor:"#26a69a",borderDownColor:"#ef5350",upColorProjection:"rgba( 169, 220, 195, 1)",downColorProjection:"rgba( 245, 166, 174, 1)",borderUpColorProjection:"rgba( 169, 220, 195, 1)",borderDownColorProjection:"rgba( 245, 166, 174, 1)",inputs:{source:"close",lb:3},inputInfo:{source:{name:"Source"},lb:{name:"Number of line"}}},kagiStyle:{upColor:"#26a69a",downColor:"#ef5350",upColorProjection:"rgba( 169, 220, 195, 1)",downColorProjection:"rgba( 245, 166, 174, 1)",inputs:{source:"close",style:"ATR",atrLength:14,reversalAmount:1},inputInfo:{source:{name:"Source"},style:{name:"Style"},atrLength:{name:"ATR length"},reversalAmount:{name:"Reversal amount"}}},pnfStyle:{upColor:"#26a69a",downColor:"#ef5350",upColorProjection:"rgba( 169, 220, 195, 1)",downColorProjection:"rgba( 245, 166, 174, 1)",inputs:{sources:"Close",reversalAmount:3,boxSize:1,style:"ATR",atrLength:14,oneStepBackBuilding:!1},inputInfo:{sources:{name:"Source"},boxSize:{name:"Box size"},reversalAmount:{name:"Reversal amount"},style:{name:"Style"},atrLength:{name:"ATR length"},oneStepBackBuilding:{name:"One step back building"}}},baselineStyle:{baselineColor:"rgba( 117, 134, 150, 1)",topFillColor1:"rgba( 38, 166, 154, 0.28)",topFillColor2:"rgba( 38, 166, 154, 0.05)",bottomFillColor1:"rgba( 239, 83, 80, 0.05)",bottomFillColor2:"rgba( 239, 83, 80, 0.28)",topLineColor:"rgba( 38, 166, 154, 1)",bottomLineColor:"rgba( 239, 83, 80, 1)",topLineWidth:2,bottomLineWidth:2,priceSource:"close",transparency:50,baseLevelPercentage:50},rangeStyle:{upColor:"#26a69a",downColor:"#ef5350",thinBars:!0,upColorProjection:"rgba( 169, 220, 195, 1)",downColorProjection:"rgba( 245, 166, 174, 1)",inputs:{range:10,phantomBars:!1},inputInfo:{range:{name:"Range"},phantomBars:{name:"Phantom bars"}}}},chartEventsSourceProperties:{visible:!0,futureOnly:!0,breaks:{color:"rgba(85, 85, 85, 1)",visible:!1,style:CanvasEx.LINESTYLE_DASHED,width:1}},tradingProperties:{showPositions:!0,showOrders:!0,showExecutions:!0,extendLeft:!0,lineLength:5,
lineWidth:1,lineStyle:CanvasEx.LINESTYLE_DOTTED},editorFontsList:["Verdana","Courier New","Times New Roman","Arial"],volumePaneSize:"large"},sessions:m,drawings:{magnet:!1,magnetMode:p.WeakMagnet,stayInDrawingMode:!1,drawOnAllCharts:!0},linetoolorder:{extendLeft:"inherit",lineLength:"inherit",lineColor:"rgba( 255, 0, 0, 1)",lineActiveBuyColor:"rgb(64,148,232)",lineInactiveBuyColor:"rgba(64,148,232,.5)",lineActiveSellColor:"rgb(231,86,86)",lineInactiveSellColor:"rgba(231,86,86,.5)",lineStyle:"inherit",lineWidth:"inherit",bodyBorderActiveBuyColor:"rgb(64,148,232)",bodyBorderInactiveBuyColor:"rgba(64,148,232,.5)",bodyBorderActiveSellColor:"rgb(231,86,86)",bodyBorderInactiveSellColor:"rgba(231,86,86,.5)",bodyBackgroundColor:"rgba( 255, 255, 255, 0.75)",bodyBackgroundTransparency:25,bodyTextInactiveLimitColor:"rgba(38,140,2,.5)",bodyTextActiveLimitColor:"rgb(38,140,2)",bodyTextInactiveStopColor:"rgba(231,86,86,.5)",bodyTextActiveStopColor:"rgb(231,86,86)",bodyTextInactiveBuyColor:"rgba(64,148,232,.5)",bodyTextActiveBuyColor:"rgb(64,148,232)",bodyTextInactiveSellColor:"rgba(231,86,86,.5)",bodyTextActiveSellColor:"rgb(231,86,86)",bodyFontFamily:"Verdana",bodyFontSize:9,bodyFontBold:!0,bodyFontItalic:!1,quantityBorderActiveBuyColor:"rgb(64,148,232)",quantityBorderInactiveBuyColor:"rgba(64,148,232,.5)",quantityBorderActiveSellColor:"rgb(231,86,86)",quantityBorderInactiveSellColor:"rgba(231,86,86,.5)",quantityBackgroundInactiveBuyColor:"rgba(64,148,232,.5)",quantityBackgroundActiveBuyColor:"rgb(64,148,232)",quantityBackgroundInactiveSellColor:"rgba(231,86,86,.5)",quantityBackgroundActiveSellColor:"rgb(231,86,86)",quantityTextColor:"rgba( 255, 255, 255, 1)",quantityTextTransparency:0,quantityFontFamily:"Verdana",quantityFontSize:9,quantityFontBold:!0,quantityFontItalic:!1,cancelButtonBorderActiveBuyColor:"rgb(64,148,232)",cancelButtonBorderInactiveBuyColor:"rgba(64,148,232,.5)",cancelButtonBorderActiveSellColor:"rgb(231,86,86)",cancelButtonBorderInactiveSellColor:"rgba(231,86,86,.5)",cancelButtonBackgroundColor:"rgba( 255, 255, 255, 0.75)",cancelButtonBackgroundTransparency:25,cancelButtonIconActiveBuyColor:"rgb(64,148,232)",cancelButtonIconInactiveBuyColor:"rgba(64,148,232,.5)",cancelButtonIconActiveSellColor:"rgb(231,86,86)",cancelButtonIconInactiveSellColor:"rgba(231,86,86,.5)",tooltip:"",modifyTooltip:"",cancelTooltip:""},linetoolposition:{extendLeft:"inherit",lineLength:"inherit",lineBuyColor:"rgb(64,148,232)",lineSellColor:"rgb(231,86,86)",lineStyle:"inherit",lineWidth:"inherit",bodyBorderBuyColor:"rgb(64,148,232)",bodyBorderSellColor:"rgb(231,86,86)",bodyBackgroundColor:"rgba( 255, 255, 255, 0.75)",bodyBackgroundTransparency:25,bodyTextPositiveColor:"rgb(38,140,2)",bodyTextNeutralColor:"rgb(100,100,100)",bodyTextNegativeColor:"rgb(231,86,86)",bodyFontFamily:"Verdana",bodyFontSize:9,bodyFontBold:!0,bodyFontItalic:!1,quantityBorderBuyColor:"rgb(64,148,232)",quantityBorderSellColor:"rgb(231,86,86)",quantityBackgroundBuyColor:"rgb(64,148,232)",quantityBackgroundSellColor:"rgb(231,86,86)",
quantityTextColor:"rgba( 255, 255, 255, 1)",quantityTextTransparency:0,quantityFontFamily:"Verdana",quantityFontSize:9,quantityFontBold:!0,quantityFontItalic:!1,reverseButtonBorderBuyColor:"rgb(64,148,232)",reverseButtonBorderSellColor:"rgb(231,86,86)",reverseButtonBackgroundColor:"rgba( 255, 255, 255, 0.75)",reverseButtonBackgroundTransparency:25,reverseButtonIconBuyColor:"rgb(64,148,232)",reverseButtonIconSellColor:"rgb(231,86,86)",closeButtonBorderBuyColor:"rgb(64,148,232)",closeButtonBorderSellColor:"rgb(231,86,86)",closeButtonBackgroundColor:"rgba( 255, 255, 255, 0.75)",closeButtonBackgroundTransparency:25,closeButtonIconBuyColor:"rgb(64,148,232)",closeButtonIconSellColor:"rgb(231,86,86)",tooltip:"",protectTooltip:"",closeTooltip:"",reverseTooltip:""},linetoolexecution:{direction:"buy",arrowHeight:8,arrowSpacing:1,arrowBuyColor:"#4094e8",arrowSellColor:"#e75656",text:"",textColor:"rgba( 0, 0, 0, 1)",textTransparency:0,fontFamily:"Verdana",fontSize:10,fontBold:!1,fontItalic:!1,tooltip:""},linetoolicon:{color:"rgba( 61, 133, 198, 1)",size:40,icon:61536,angle:.5*Math.PI,scale:1},linetoolbezierquadro:{linecolor:"#2196f3",linewidth:1,fillBackground:!1,backgroundColor:"rgba(33, 150, 243, 0.2)",transparency:50,linestyle:CanvasEx.LINESTYLE_SOLID,extendLeft:!1,extendRight:!1,leftEnd:f.Normal,rightEnd:f.Normal},linetoolbeziercubic:{linecolor:"#00bcd4",linewidth:1,fillBackground:!1,backgroundColor:"rgba(0, 188, 212, 0.2)",transparency:50,linestyle:CanvasEx.LINESTYLE_SOLID,extendLeft:!1,extendRight:!1,leftEnd:f.Normal,rightEnd:f.Normal},linetooltrendline:{linecolor:"rgba(33, 150, 243, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID,extendLeft:!1,extendRight:!1,leftEnd:f.Normal,rightEnd:f.Normal,showLabel:!1,horzLabelsAlign:"center",vertLabelsAlign:"bottom",font:"Verdana",textcolor:"#2196f3",fontsize:14,bold:!1,italic:!1,snapTo45Degrees:!0,alwaysShowStats:!1,showMiddlePoint:!1,showPriceRange:!1,showBarsRange:!1,showDateTimeRange:!1,showDistance:!1,showAngle:!1,statsPosition:_.Right},linetoolinfoline:{linecolor:"rgba(33, 150, 243, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID,extendLeft:!1,extendRight:!1,leftEnd:f.Normal,rightEnd:f.Normal,font:"Verdana",showLabel:!1,horzLabelsAlign:"center",vertLabelsAlign:"bottom",textcolor:"#2196f3",fontsize:14,bold:!1,italic:!1,snapTo45Degrees:!0,alwaysShowStats:!0,showMiddlePoint:!1,showPriceRange:!0,showBarsRange:!0,showDateTimeRange:!0,showDistance:!0,showAngle:!0,statsPosition:_.Center},linetooltimecycles:{linecolor:"rgba(21, 153, 128, 1)",linewidth:1,fillBackground:!0,backgroundColor:"rgba(106, 168, 79, 0.5)",transparency:50,linestyle:CanvasEx.LINESTYLE_SOLID},linetoolsineline:{linecolor:"rgba( 21, 153, 128, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID},linetooltrendangle:{linecolor:"rgba(33, 150, 243, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID,snapTo45Degrees:!0,font:"Verdana",textcolor:"rgba(33, 150, 243, 1)",fontsize:12,bold:!1,italic:!1,alwaysShowStats:!1,showMiddlePoint:!1,showPriceRange:!1,showBarsRange:!1,extendRight:!1,extendLeft:!1,statsPosition:_.Right
},linetooldisjointangle:{linecolor:"rgba(0, 150, 136, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID,fillBackground:!0,backgroundColor:"rgba(0, 150, 136, 0.2)",transparency:20,extendLeft:!1,extendRight:!1,leftEnd:f.Normal,rightEnd:f.Normal,font:"Verdana",textcolor:"rgba(0, 150, 136, 1)",fontsize:12,bold:!1,italic:!1,showPrices:!1,showPriceRange:!1,showDateTimeRange:!1,showBarsRange:!1},linetoolflatbottom:{linecolor:"rgba(171, 71, 188, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID,fillBackground:!0,backgroundColor:"rgba(171, 71, 188, 0.2)",transparency:20,extendLeft:!1,extendRight:!1,leftEnd:f.Normal,rightEnd:f.Normal,font:"Verdana",textcolor:"rgba(171, 71, 188, 1)",fontsize:12,bold:!1,italic:!1,showPrices:!1,showPriceRange:!1,showDateTimeRange:!1,showBarsRange:!1},linetoolfibspiral:{counterclockwise:!1,linecolor:"rgba(0, 150, 136, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID},linetooldaterange:{linecolor:"rgba(30,136,229,1)",linewidth:1,font:y,textcolor:"rgba( 255, 255, 255, 1)",fontsize:12,fillLabelBackground:!0,labelBackgroundColor:"rgba(30,136,229,0.9)",fillBackground:!0,backgroundColor:"rgba(30,136,229,0.2)",backgroundTransparency:60,drawBorder:!1,borderColor:"rgba(30,136,229,0.9)",extendTop:!1,extendBottom:!1},linetoolpricerange:{linecolor:"rgba(30,136,229,1)",linewidth:1,font:y,textcolor:"rgba( 255, 255, 255, 1)",fontsize:12,fillLabelBackground:!0,labelBackgroundColor:"rgba(30,136,229,0.9)",fillBackground:!0,backgroundColor:"rgba(30,136,229,0.2)",backgroundTransparency:60,drawBorder:!1,borderColor:"rgba(30,136,229,0.9)",extendLeft:!1,extendRight:!1},linetooldateandpricerange:{linecolor:"rgba(30,136,229,1)",linewidth:1,font:y,textcolor:"rgba( 255, 255, 255, 1)",fontsize:12,fillLabelBackground:!0,labelBackgroundColor:"rgba(30,136,229,0.9)",fillBackground:!0,backgroundColor:"rgba(30,136,229,0.2)",backgroundTransparency:60,drawBorder:!1,borderColor:"rgba(30,136,229,0.9)"},linetoolriskrewardshort:{linecolor:"rgba(120, 123, 134, 1)",linewidth:1,font:"Verdana",textcolor:"rgba(255, 255, 255, 1)",fontsize:12,fillLabelBackground:!0,labelBackgroundColor:"rgba( 88, 88, 88, 1)",fillBackground:!0,stopBackground:"rgba(244, 67, 54, 0.2)",profitBackground:"rgba(0, 150, 136, 0.2)",stopBackgroundTransparency:80,profitBackgroundTransparency:80,drawBorder:!1,borderColor:"rgba( 102, 123, 139, 1)",compact:!1,riskDisplayMode:"percents",accountSize:1e3,risk:25,alwaysShowStats:!1},linetoolriskrewardlong:{linecolor:"rgba(120, 123, 134, 1)",linewidth:1,font:"Verdana",textcolor:"rgba(255, 255, 255, 1)",fontsize:12,fillLabelBackground:!0,labelBackgroundColor:"rgba( 88, 88, 88, 1)",fillBackground:!0,stopBackground:"rgba(244, 67, 54, 0.2)",profitBackground:"rgba(0, 150, 136, 0.2)",stopBackgroundTransparency:80,profitBackgroundTransparency:80,drawBorder:!1,borderColor:"rgba( 102, 123, 139, 1)",compact:!1,riskDisplayMode:"percents",accountSize:1e3,risk:25,alwaysShowStats:!1},linetoolarrow:{linecolor:"rgba(33, 150, 243, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID,extendLeft:!1,extendRight:!1,leftEnd:f.Normal,
rightEnd:f.Arrow,font:"Verdana",showLabel:!1,horzLabelsAlign:"center",vertLabelsAlign:"bottom",textcolor:"#2196f3",fontsize:14,bold:!1,italic:!1,alwaysShowStats:!1,showMiddlePoint:!1,showPriceRange:!1,showBarsRange:!1,showDateTimeRange:!1,showDistance:!1,showAngle:!1,statsPosition:_.Right},linetoolray:{linecolor:"rgba(33, 150, 243, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID,extendLeft:!1,extendRight:!0,leftEnd:f.Normal,rightEnd:f.Normal,font:"Verdana",showLabel:!1,horzLabelsAlign:"center",vertLabelsAlign:"bottom",textcolor:"#2196f3",fontsize:14,bold:!1,italic:!1,alwaysShowStats:!1,showMiddlePoint:!1,showPriceRange:!1,showBarsRange:!1,showDateTimeRange:!1,showDistance:!1,showAngle:!1,statsPosition:_.Right},linetoolextended:{linecolor:"rgba(33, 150, 243, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID,extendLeft:!0,extendRight:!0,leftEnd:f.Normal,rightEnd:f.Normal,font:"Verdana",showLabel:!1,horzLabelsAlign:"center",vertLabelsAlign:"bottom",textcolor:"#2196f3",fontsize:14,bold:!1,italic:!1,alwaysShowStats:!1,showMiddlePoint:!1,showPriceRange:!1,showBarsRange:!1,showDateTimeRange:!1,showDistance:!1,showAngle:!1,statsPosition:_.Right},linetoolhorzline:{linecolor:"rgba(33, 150, 243, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID,showPrice:!0,showLabel:!1,font:"Verdana",textcolor:"rgba(33, 150, 243, 1)",fontsize:12,bold:!1,italic:!1,horzLabelsAlign:"center",vertLabelsAlign:"top"},linetoolhorzray:{linecolor:"rgba(33, 150, 243, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID,showPrice:!0,showLabel:!1,font:"Verdana",textcolor:"rgba(33, 150, 243, 1)",fontsize:12,bold:!1,italic:!1,horzLabelsAlign:"center",vertLabelsAlign:"top"},linetoolvertline:{linecolor:"rgba(33, 150, 243, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID,showTime:!0,showLabel:!1,horzLabelsAlign:"right",vertLabelsAlign:"top",font:"Verdana",textcolor:"#2196f3",textOrientation:"vertical",fontsize:14,bold:!1,italic:!1},linetoolcrossline:{linecolor:"rgba(33, 150, 243, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID,showPrice:!0,showTime:!0},linetoolcirclelines:{trendline:{visible:!0,color:"rgba( 128, 128, 128, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_DASHED},linecolor:"rgba( 128, 204, 219, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID},linetoolfibtimezone:{horzLabelsAlign:"right",vertLabelsAlign:"bottom",baselinecolor:"rgba( 128, 128, 128, 1)",linecolor:"rgba( 0, 85, 219, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID,showLabels:!0,font:y,fillBackground:!1,transparency:80,trendline:{visible:!0,color:"rgba( 128, 128, 128, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_DASHED},level1:T(0,"rgba(120, 123, 134, 1)",!0),level2:T(1,"rgba(33, 150, 243, 1)",!0),level3:T(2,"rgba(33, 150, 243, 1)",!0),level4:T(3,"rgba(33, 150, 243, 1)",!0),level5:T(5,"rgba(33, 150, 243, 1)",!0),level6:T(8,"rgba(33, 150, 243, 1)",!0),level7:T(13,"rgba(33, 150, 243, 1)",!0),level8:T(21,"rgba(33, 150, 243, 1)",!0),level9:T(34,"rgba(33, 150, 243, 1)",!0),level10:T(55,"rgba(33, 150, 243, 1)",!0),level11:T(89,"rgba(33, 150, 243, 1)",!0),
__collectibleLines:["trendline","level1","level2","level3","level4","level5","level6","level7","level8","level9","level10","level11"]},linetooltext:{color:"#2196f3",font:"Verdana",fontsize:14,fillBackground:!1,backgroundColor:"rgba( 91, 133, 191, 0.3)",backgroundTransparency:70,drawBorder:!1,borderColor:"rgba( 102, 123, 139, 1)",bold:!1,italic:!1,fixedSize:!0,wordWrap:!1,wordWrapWidth:400},linetooltextabsolute:{color:"#2196f3",font:"Verdana",fontsize:14,fillBackground:!1,backgroundColor:"rgba( 155, 190, 213, 0.3)",backgroundTransparency:70,drawBorder:!1,borderColor:"rgba( 102, 123, 139, 1)",bold:!1,italic:!1,wordWrap:!1,wordWrapWidth:400},linetoolballoon:{color:"#ffffff",backgroundColor:"rgba(156, 39, 176, 0.7)",borderColor:"rgba(156, 39, 176, 0.0)",fontsize:16,fontWeight:"normal",font:"Arial",transparency:30},linetoolbrush:{linecolor:"#00bcd4",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID,smooth:5,fillBackground:!1,backgroundColor:"rgba(0, 188, 212, 0.5)",transparency:50,leftEnd:f.Normal,rightEnd:f.Normal},linetoolpolyline:{linecolor:"#7e57c2",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID,fillBackground:!0,backgroundColor:"rgba(126, 87, 194, 0.2)",transparency:50,filled:!1},linetoolarrowmark:{color:"rgba( 120, 120, 120, 1)",fontsize:20,font:"Verdana"},linetoolarrowmarkleft:{color:"rgba( 120, 120, 120, 1)",fontsize:20,font:"Verdana"},linetoolarrowmarkup:{color:"rgba( 120, 120, 120, 1)",fontsize:20,font:"Verdana"},linetoolarrowmarkright:{color:"rgba( 120, 120, 120, 1)",fontsize:20,font:"Verdana"},linetoolarrowmarkdown:{color:"rgba( 120, 120, 120, 1)",fontsize:20,font:"Verdana"},linetoolflagmark:{color:"rgba( 255, 0, 0, 1)"},linetoolnote:{markerColor:"#2196f3",textColor:"#ffffff",backgroundColor:"rgba(33, 150, 243, 0.7)",backgroundTransparency:0,borderColor:"#2196f3",font:"Arial",fontSize:20,bold:!1,italic:!1,fixedSize:!0},linetoolnoteabsolute:{markerColor:"#2196f3",textColor:"#ffffff",backgroundColor:"rgba(33, 150, 243, 0.7)",backgroundTransparency:0,font:"Arial",fontSize:20,bold:!1,italic:!1,fixedSize:!0},linetoolpricelabel:{color:"#ffffff",backgroundColor:"#2196f3",borderColor:"#2196f3",fontWeight:"bold",fontsize:14,font:y,transparency:0},linetoolrectangle:{color:"#9c27b0",fillBackground:!0,backgroundColor:"rgba(156, 39, 176, 0.2)",linewidth:1,snapTo45Degrees:!0,transparency:50},linetoolrotatedrectangle:{color:"#4caf50",fillBackground:!0,backgroundColor:"rgba(76, 175, 80, 0.2)",transparency:50,linewidth:1,snapTo45Degrees:!0},linetoolellipse:{color:"#e91e63",fillBackground:!0,backgroundColor:"rgba(233, 30, 99, 0.2)",transparency:50,linewidth:1},linetoolarc:{color:"#ab47bc",fillBackground:!0,backgroundColor:"rgba(171, 71, 188, 0.2)",transparency:50,linewidth:1},linetoolprediction:{linecolor:"rgba(33, 150, 243, 1)",linewidth:1,sourceBackColor:"rgba(33, 150, 243, 1)",sourceTextColor:"rgba(255, 255, 255, 1)",sourceStrokeColor:"rgba(33, 150, 243, 1)",targetStrokeColor:"rgba(33, 150, 243, 1)",targetBackColor:"rgba(33, 150, 243, 1)",targetTextColor:"rgba(255, 255, 255, 1)",successBackground:"rgba(76, 175, 80, 1)",
successTextColor:"rgba(255, 255, 255, 1)",failureBackground:"rgba(244, 67, 54, 1)",failureTextColor:"rgba(255, 255, 255, 1)",intermediateBackColor:"rgba(234, 210, 137, 1)",intermediateTextColor:"rgba(109, 77, 34, 1)",transparency:10,centersColor:"rgba( 32, 32, 32, 1)"},linetooltriangle:{color:"#f57c00",fillBackground:!0,backgroundColor:"rgba(245, 124, 0, 0.2)",transparency:50,linewidth:1},linetoolcallout:{color:"#ffffff",backgroundColor:"rgba(0, 151, 167, 0.7)",transparency:50,linewidth:1,fontsize:16,font:"Verdana",bordercolor:"rgba(0, 151, 167, 1)",bold:!1,italic:!1,wordWrap:!1,wordWrapWidth:400},linetoolparallelchannel:{linecolor:"rgba(33, 150, 243, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID,extendLeft:!1,extendRight:!1,fillBackground:!0,backgroundColor:"rgba(33, 150, 243, 0.2)",transparency:20,showMidline:!0,midlinecolor:"rgba(33, 150, 243, 1)",midlinewidth:1,midlinestyle:CanvasEx.LINESTYLE_DASHED},linetoolelliottimpulse:{degree:7,showWave:!0,color:"rgba( 61, 133, 198, 1)",linewidth:1},linetoolelliotttriangle:{degree:7,showWave:!0,color:"rgba( 255, 152, 0, 1)",linewidth:1},linetoolelliotttriplecombo:{degree:7,showWave:!0,color:"rgba( 106, 168, 79, 1)",linewidth:1},linetoolelliottcorrection:{degree:7,showWave:!0,color:"rgba( 61, 133, 198, 1)",linewidth:1},linetoolelliottdoublecombo:{degree:7,showWave:!0,color:"rgba( 106, 168, 79, 1)",linewidth:1},linetoolbarspattern:{color:"rgba(33, 150, 243, 1)",mode:c.Bars,mirrored:!1,flipped:!1},linetoolghostfeed:{averageHL:20,variance:50,candleStyle:{upColor:"rgba(178, 223, 219, 1)",downColor:"rgba(239, 154, 154, 1)",drawWick:!0,drawBorder:!0,borderColor:"#378658",borderUpColor:"rgba(0, 150, 136, 1)",borderDownColor:"rgba(244, 67, 54, 1)",wickColor:"rgba(120, 123, 134, 1)"},transparency:50},study:{inputs:{},styles:{},palettes:{},bands:{},area:{},graphics:{},showInDataWindow:!0,visible:!0,showStudyArguments:!0,precision:"default"},linetoolpitchfork:{fillBackground:!0,transparency:80,style:l.Original,median:{visible:!0,color:"rgba(244, 67, 54, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID},extendLines:!1,level0:T(.25,"rgba(255, 183, 77, 1)",!1),level1:T(.382,"rgba(129, 199, 132, 1)",!1),level2:T(.5,"rgba(76, 175, 80, 1)",!0),level3:T(.618,"rgba(0, 150, 136, 1)",!1),level4:T(.75,"rgba(100, 181, 246, 1)",!1),level5:T(1,"rgba(33, 150, 243, 1)",!0),level6:T(1.5,"rgba(156, 39, 176, 1)",!1),level7:T(1.75,"rgba(233, 30, 99, 1)",!1),level8:T(2,"rgba(229, 115, 115, 1)",!1),__collectibleLines:["median","level0","level1","level2","level3","level4","level5","level6","level7","level8"]},linetoolpitchfan:{fillBackground:!0,transparency:80,median:{visible:!0,color:"rgba(244, 67, 54, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID},level0:T(.25,"rgba(255, 183, 77, 1)",!1),level1:T(.382,"rgba(129, 199, 132, 1)",!1),level2:T(.5,"rgba(76, 175, 80, 1)",!0),level3:T(.618,"rgba(0, 150, 136, 1)",!1),level4:T(.75,"rgba(100, 181, 246, 1)",!1),level5:T(1,"rgba(33, 150, 243, 1)",!0),level6:T(1.5,"rgba(156, 39, 176, 1)",!1),level7:T(1.75,"rgba(233, 30, 99, 1)",!1),
level8:T(2,"rgba(229, 115, 115, 1)",!1),__collectibleLines:["median","level0","level1","level2","level3","level4","level5","level6","level7","level8"]},linetoolgannfan:{showLabels:!0,font:"Verdana",fillBackground:!0,transparency:80,level1:I(1,8,"rgba(255, 183, 77, 1)",!0),level2:I(1,4,"rgba(129, 199, 132, 1)",!0),level3:I(1,3,"rgba(76, 175, 80, 1)",!0),level4:I(1,2,"rgba(0, 150, 136, 1)",!0),level5:I(1,1,"rgba(100, 181, 246, 1)",!0),level6:I(2,1,"rgba(33, 150, 243, 1)",!0),level7:I(3,1,"rgba(156, 39, 176, 1)",!0),level8:I(4,1,"rgba(233, 30, 99, 1)",!0),level9:I(8,1,"rgba(229, 115, 115, 1)",!0),__collectibleLines:["level1","level2","level3","level4","level5","level6","level7","level8","level9","level10","level11"]},linetoolganncomplex:{fillBackground:!1,arcsBackground:{fillBackground:!0,transparency:80},reverse:!1,scaleRatio:"",showLabels:!0,labelsStyle:{font:y,fontSize:12,bold:!1,italic:!1},levels:[C("rgba(120, 123, 134, 1)",!0,1),C("rgba(255, 152, 0, 1)",!0,1),C("rgba(129, 199, 132, 1)",!0,1),C("rgba(76, 175, 80, 1)",!0,1),C("rgba(0, 150, 136, 1)",!0,1),C("rgba(120, 123, 134, 1)",!0,1)],fanlines:[x("rgba(179, 157, 219, 1)",!1,1,8,1),x("rgba(244, 67, 54, 1)",!1,1,5,1),x("rgba(120, 123, 134, 1)",!1,1,4,1),x("rgba(255, 152, 0, 1)",!1,1,3,1),x("rgba(129, 199, 132, 1)",!0,1,2,1),x("rgba(76, 175, 80, 1)",!0,1,1,1),x("rgba(0, 150, 136, 1)",!0,1,1,2),x("rgba(0, 150, 136, 1)",!1,1,1,3),x("rgba(33, 150, 243, 1)",!1,1,1,4),x("rgba(149, 117, 205, 1)",!1,1,1,5),x("rgba(179, 157, 219, 1)",!1,1,1,8)],arcs:[x("rgba(255, 152, 0, 1)",!0,1,1,0),x("rgba(255, 152, 0, 1)",!0,1,1,1),x("rgba(255, 152, 0, 1)",!0,1,1.5,0),x("rgba(129, 199, 132, 1)",!0,1,2,0),x("rgba(129, 199, 132, 1)",!0,1,2,1),x("rgba(76, 175, 80, 1)",!0,1,3,0),x("rgba(76, 175, 80, 1)",!0,1,3,1),x("rgba(0, 150, 136, 1)",!0,1,4,0),x("rgba(0, 150, 136, 1)",!0,1,4,1),x("rgba(33, 150, 243, 1)",!0,1,5,0),x("rgba(33, 150, 243, 1)",!0,1,5,1)],__collectibleLines:["trendline","levels.0","levels.1","levels.2","levels.3","levels.4","levels.5","fanlines.0","fanlines.1","fanlines.2","fanlines.3","fanlines.4","fanlines.5","fanlines.6","fanlines.7","fanlines.8","fanlines.9","fanlines.10","arcs.0","arcs.1","arcs.2","arcs.3","arcs.4","arcs.5","arcs.6","arcs.7","arcs.8","arcs.9","arcs.10"]},linetoolgannfixed:{fillBackground:!1,arcsBackground:{fillBackground:!0,transparency:80},reverse:!1,levels:[C("rgba(120, 123, 134, 1)",!0,1),C("rgba(255, 152, 0, 1)",!0,1),C("rgba(129, 199, 132, 1)",!0,1),C("rgba(76, 175, 80, 1)",!0,1),C("rgba(0, 150, 136, 1)",!0,1),C("rgba(120, 123, 134, 1)",!0,1)],fanlines:[x("rgba(179, 157, 219, 1)",!1,1,8,1),x("rgba(244, 67, 54, 1)",!1,1,5,1),x("rgba(120, 123, 134, 1)",!1,1,4,1),x("rgba(255, 152, 0, 1)",!1,1,3,1),x("rgba(129, 199, 132, 1)",!0,1,2,1),x("rgba(76, 175, 80, 1)",!0,1,1,1),x("rgba(0, 150, 136, 1)",!0,1,1,2),x("rgba(0, 150, 136, 1)",!1,1,1,3),x("rgba(33, 150, 243, 1)",!1,1,1,4),x("rgba(149, 117, 205, 1)",!1,1,1,5),x("rgba(179, 157, 219, 1)",!1,1,1,8)],
arcs:[x("rgba(255, 152, 0, 1)",!0,1,1,0),x("rgba(255, 152, 0, 1)",!0,1,1,1),x("rgba(255, 152, 0, 1)",!0,1,1.5,0),x("rgba(129, 199, 132, 1)",!0,1,2,0),x("rgba(129, 199, 132, 1)",!0,1,2,1),x("rgba(76, 175, 80, 1)",!0,1,3,0),x("rgba(76, 175, 80, 1)",!0,1,3,1),x("rgba(0, 150, 136, 1)",!0,1,4,0),x("rgba(0, 150, 136, 1)",!0,1,4,1),x("rgba(33, 150, 243, 1)",!0,1,5,0),x("rgba(33, 150, 243, 1)",!0,1,5,1)],__collectibleLines:["trendline","levels.0","levels.1","levels.2","levels.3","levels.4","levels.5","fanlines.0","fanlines.1","fanlines.2","fanlines.3","fanlines.4","fanlines.5","fanlines.6","fanlines.7","fanlines.8","fanlines.9","fanlines.10","arcs.0","arcs.1","arcs.2","arcs.3","arcs.4","arcs.5","arcs.6","arcs.7","arcs.8","arcs.9","arcs.10"]},linetoolgannsquare:{color:"rgba( 21, 56, 153, 0.8)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID,font:y,showTopLabels:!0,showBottomLabels:!0,showLeftLabels:!0,showRightLabels:!0,fillHorzBackground:!0,horzTransparency:80,fillVertBackground:!0,vertTransparency:80,reverse:!1,fans:w("rgba(149, 152, 161, 1)",!1),hlevel1:P(0,"rgba(120, 123, 134, 1)",!0),hlevel2:P(.25,"rgba(245, 124, 0, 1)",!0),hlevel3:P(.382,"rgba(129, 199, 132, 1)",!0),hlevel4:P(.5,"rgba(76, 175, 80, 1)",!0),hlevel5:P(.618,"rgba(0, 150, 136, 1)",!0),hlevel6:P(.75,"rgba(33, 150, 243, 1)",!0),hlevel7:P(1,"rgba(120, 123, 134, 1)",!0),vlevel1:P(0,"rgba(120, 123, 134, 1)",!0),vlevel2:P(.25,"rgba(245, 124, 0, 1)",!0),vlevel3:P(.382,"rgba(129, 199, 132, 1)",!0),vlevel4:P(.5,"rgba(76, 175, 80, 1)",!0),vlevel5:P(.618,"rgba(0, 150, 136, 1)",!0),vlevel6:P(.75,"rgba(33, 150, 243, 1)",!0),vlevel7:P(1,"rgba(120, 123, 134, 1)",!0),__collectibleLines:["fans","hlevel1","hlevel2","hlevel3","hlevel4","hlevel5","hlevel6","hlevel7","vlevel1","vlevel2","vlevel3","vlevel4","vlevel5","vlevel6","vlevel7"]},linetoolfibspeedresistancefan:{fillBackground:!0,transparency:80,grid:{color:"rgba( 21, 56, 153, 0.8)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID,visible:!0},linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID,font:y,showTopLabels:!0,showBottomLabels:!0,showLeftLabels:!0,showRightLabels:!0,snapTo45Degrees:!0,reverse:!1,hlevel1:P(0,"rgba(120, 123, 134, 1)",!0),hlevel2:P(.25,"rgba(245, 124, 0, 1)",!0),hlevel3:P(.382,"rgba(129, 199, 132, 1)",!0),hlevel4:P(.5,"rgba(76, 175, 80, 1)",!0),hlevel5:P(.618,"rgba(0, 150, 136, 1)",!0),hlevel6:P(.75,"rgba(33, 150, 243, 1)",!0),hlevel7:P(1,"rgba(120, 123, 134, 1)",!0),vlevel1:P(0,"rgba(120, 123, 134, 1)",!0),vlevel2:P(.25,"rgba(245, 124, 0, 1)",!0),vlevel3:P(.382,"rgba(129, 199, 132, 1)",!0),vlevel4:P(.5,"rgba(76, 175, 80, 1)",!0),vlevel5:P(.618,"rgba(0, 150, 136, 1)",!0),vlevel6:P(.75,"rgba(33, 150, 243, 1)",!0),vlevel7:P(1,"rgba(120, 123, 134, 1)",!0),__collectibleLines:["trendline","hlevel1","hlevel2","hlevel3","hlevel4","hlevel5","hlevel6","hlevel7","vlevel1","vlevel2","vlevel3","vlevel4","vlevel5","vlevel6","vlevel7"]},linetoolfibretracement:{showCoeffs:!0,showPrices:!0,font:y,fillBackground:!0,transparency:80,extendLines:!1,extendLinesLeft:!1,horzLabelsAlign:"left",vertLabelsAlign:"bottom",reverse:!1,
coeffsAsPercents:!1,fibLevelsBasedOnLogScale:!1,trendline:{visible:!0,color:"rgba(120, 123, 134, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_DASHED},levelsStyle:{linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID},level1:P(0,"rgba(120, 123, 134, 1)",!0),level2:P(.236,"rgba(244, 67, 54, 1)",!0),level3:P(.382,"rgba(129, 199, 132, 1)",!0),level4:P(.5,"rgba(76, 175, 80, 1)",!0),level5:P(.618,"rgba(0, 150, 136, 1)",!0),level6:P(.786,"rgba(100, 181, 246, 1)",!0),level7:P(1,"rgba(120, 123, 134, 1)",!0),level8:P(1.618,"rgba(33, 150, 243, 1)",!0),level9:P(2.618,"rgba(244, 67, 54, 1)",!0),level10:P(3.618,"rgba(156, 39, 176, 1)",!0),level11:P(4.236,"rgba(233, 30, 99, 1)",!0),level12:P(1.272,"rgba(129, 199, 132, 1)",!1),level13:P(1.414,"rgba(244, 67, 54, 1)",!1),level16:P(2,"rgba(0, 150, 136, 1)",!1),level14:P(2.272,"rgba(129, 199, 132, 1)",!1),level15:P(2.414,"rgba(76, 175, 80, 1)",!1),level17:P(3,"rgba(100, 181, 246, 1)",!1),level18:P(3.272,"rgba(120, 123, 134, 1)",!1),level19:P(3.414,"rgba(33, 150, 243, 1)",!1),level20:P(4,"rgba( 204, 40, 40, 1)",!1),level21:P(4.272,"rgba(156, 39, 176, 1)",!1),level22:P(4.414,"rgba(233, 30, 99, 1)",!1),level23:P(4.618,"rgba(129, 199, 132, 1)",!1),level24:P(4.764,"rgba(0, 150, 136, 1)",!1),__collectibleLines:["trendline","level1","level2","level3","level4","level5","level6","level7","level8","level9","level10","level11","level12","level13","level14","level15","level16","level17","level18","level19","level20","level21","level22","level23","level24"]},linetoolfibchannel:{showCoeffs:!0,showPrices:!0,font:y,fillBackground:!0,transparency:80,extendLeft:!1,extendRight:!1,horzLabelsAlign:"left",vertLabelsAlign:"middle",coeffsAsPercents:!1,levelsStyle:{linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID},level1:P(0,"rgba(120, 123, 134, 1)",!0),level2:P(.236,"rgba(244, 67, 54, 1)",!0),level3:P(.382,"rgba(129, 199, 132, 1)",!0),level4:P(.5,"rgba(76, 175, 80, 1)",!0),level5:P(.618,"rgba(0, 150, 136, 1)",!0),level6:P(.786,"rgba(100, 181, 246, 1)",!0),level7:P(1,"rgba(120, 123, 134, 1)",!0),level8:P(1.618,"rgba(33, 150, 243, 1)",!0),level9:P(2.618,"rgba(244, 67, 54, 1)",!0),level10:P(3.618,"rgba(156, 39, 176, 1)",!0),level11:P(4.236,"rgba(233, 30, 99, 1)",!0),level12:P(1.272,"rgba(129, 199, 132, 1)",!1),level13:P(1.414,"rgba(244, 67, 54, 1)",!1),level16:P(2,"rgba(0, 150, 136, 1)",!1),level14:P(2.272,"rgba(129, 199, 132, 1)",!1),level15:P(2.414,"rgba(76, 175, 80, 1)",!1),level17:P(3,"rgba(100, 181, 246, 1)",!1),level18:P(3.272,"rgba(120, 123, 134, 1)",!1),level19:P(3.414,"rgba(33, 150, 243, 1)",!1),level20:P(4,"rgba( 204, 40, 40, 1)",!1),level21:P(4.272,"rgba(156, 39, 176, 1)",!1),level22:P(4.414,"rgba(233, 30, 99, 1)",!1),level23:P(4.618,"rgba(129, 199, 132, 1)",!1),level24:P(4.764,"rgba(0, 150, 136, 1)",!1),__collectibleLines:["level1","level2","level3","level4","level5","level6","level7","level8","level9","level10","level11","level12","level13","level14","level15","level16","level17","level18","level19","level20","level21","level22","level23","level24"]},linetoolprojection:{showCoeffs:!0,font:"Verdana",
fillBackground:!0,transparency:80,color1:"rgba(33, 150, 243, 0.2)",color2:"rgba(156, 39, 176, 0.2)",linewidth:1,trendline:{visible:!0,color:"rgba(149, 152, 161, 1)",linestyle:CanvasEx.LINESTYLE_SOLID},level1:T(1,"rgba( 128, 128, 128, 1)",!0)},linetool5pointspattern:{color:"rgba( 204, 40, 149, 1)",textcolor:"rgba( 255, 255, 255, 1)",fillBackground:!0,backgroundColor:"rgba( 204, 40, 149, 0.5)",font:"Verdana",fontsize:12,bold:!1,italic:!1,transparency:50,linewidth:1},linetoolcypherpattern:{color:"#CC2895",textcolor:"#FFFFFF",fillBackground:!0,backgroundColor:"#CC2895",font:"Verdana",fontsize:12,bold:!1,italic:!1,transparency:50,linewidth:1},linetooltrianglepattern:{color:"rgba( 149, 40, 255, 1)",textcolor:"rgba( 255, 255, 255, 1)",fillBackground:!0,backgroundColor:"rgba( 149, 40, 204, 0.5)",font:"Verdana",fontsize:12,bold:!1,italic:!1,transparency:50,linewidth:1},linetoolabcd:{color:"rgba( 0, 155, 0, 1)",textcolor:"rgba( 255, 255, 255, 1)",font:"Verdana",fontsize:12,bold:!1,italic:!1,linewidth:1},linetoolthreedrivers:{color:"rgba( 149, 40, 255, 1)",textcolor:"rgba( 255, 255, 255, 1)",fillBackground:!0,backgroundColor:"rgba( 149, 40, 204, 0.5)",font:"Verdana",fontsize:12,bold:!1,italic:!1,transparency:50,linewidth:1},linetoolheadandshoulders:{color:"rgba( 69, 104, 47, 1)",textcolor:"rgba( 255, 255, 255, 1)",fillBackground:!0,backgroundColor:"rgba( 69, 168, 47, 0.5)",font:"Verdana",fontsize:12,bold:!1,italic:!1,transparency:50,linewidth:1},linetoolfibwedge:{showCoeffs:!0,font:y,fillBackground:!0,transparency:80,trendline:{visible:!0,color:"rgba( 128, 128, 128, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID},level1:T(.236,"rgba(244, 67, 54, 1)",!0),level2:T(.382,"rgba(129, 199, 132, 1)",!0),level3:T(.5,"rgba(76, 175, 80, 1)",!0),level4:T(.618,"rgba(0, 150, 136, 1)",!0),level5:T(.786,"rgba(100, 181, 246, 1)",!0),level6:T(1,"rgba(120, 123, 134, 1)",!0),level7:T(1.618,"rgba(33, 150, 243, 1)",!1),level8:T(2.618,"rgba(244, 67, 54, 1)",!1),level9:T(3.618,"rgba(103, 58, 183, 1)",!1),level10:T(4.236,"rgba(233, 30, 99, 1)",!1),level11:T(4.618,"rgba(233, 30, 99, 1)",!1),__collectibleLines:["trendline","level1","level2","level3","level4","level5","level6","level7","level8","level9","level10","level11"]},linetoolfibcircles:{showCoeffs:!0,font:y,fillBackground:!0,transparency:80,snapTo45Degrees:!0,coeffsAsPercents:!1,trendline:{visible:!0,color:"rgba(120, 123, 134, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_DASHED},level1:T(.236,"rgba(244, 67, 54, 1)",!0),level2:T(.382,"rgba(129, 199, 132, 1)",!0),level3:T(.5,"rgba(76, 175, 80, 1)",!0),level4:T(.618,"rgba(0, 150, 136, 1)",!0),level5:T(.786,"rgba(100, 181, 246, 1)",!0),level6:T(1,"rgba(120, 123, 134, 1)",!0),level7:T(1.618,"rgba(33, 150, 243, 1)",!0),level8:T(2.618,"rgba(244, 67, 54, 1)",!0),level9:T(3.618,"rgba(103, 58, 183, 1)",!0),level10:T(4.236,"rgba(233, 30, 99, 1)",!0),level11:T(4.618,"rgba(233, 30, 99, 1)",!0),__collectibleLines:["trendline","level1","level2","level3","level4","level5","level6","level7","level8","level9","level10","level11"]},
linetoolfibspeedresistancearcs:{showCoeffs:!0,font:y,fillBackground:!0,transparency:80,fullCircles:!1,trendline:{visible:!0,color:"rgba(120, 123, 134, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_DASHED},level1:T(.236,"rgba(244, 67, 54, 1)",!0),level2:T(.382,"rgba(129, 199, 132, 1)",!0),level3:T(.5,"rgba(76, 175, 80, 1)",!0),level4:T(.618,"rgba(0, 150, 136, 1)",!0),level5:T(.786,"rgba(100, 181, 246, 1)",!0),level6:T(1,"rgba(120, 123, 134, 1)",!0),level7:T(1.618,"rgba(33, 150, 243, 1)",!0),level8:T(2.618,"rgba(244, 67, 54, 1)",!0),level9:T(3.618,"rgba(103, 58, 183, 1)",!0),level10:T(4.236,"rgba(233, 30, 99, 1)",!0),level11:T(4.618,"rgba(233, 30, 99, 1)",!0),__collectibleLines:["trendline","level1","level2","level3","level4","level5","level6","level7","level8","level9","level10","level11"]},linetooltrendbasedfibextension:{showCoeffs:!0,showPrices:!0,font:y,fillBackground:!0,transparency:80,extendLines:!1,extendLinesLeft:!1,horzLabelsAlign:"left",vertLabelsAlign:"bottom",reverse:!1,coeffsAsPercents:!1,fibLevelsBasedOnLogScale:!1,trendline:{visible:!0,color:"rgba(120, 123, 134, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_DASHED},levelsStyle:{linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID},level1:P(0,"rgba(120, 123, 134, 1)",!0),level2:P(.236,"rgba(244, 67, 54, 1)",!0),level3:P(.382,"rgba(129, 199, 132, 1)",!0),level4:P(.5,"rgba(76, 175, 80, 1)",!0),level5:P(.618,"rgba(0, 150, 136, 1)",!0),level6:P(.786,"rgba(100, 181, 246, 1)",!0),level7:P(1,"rgba(120, 123, 134, 1)",!0),level8:P(1.618,"rgba(33, 150, 243, 1)",!0),level9:P(2.618,"rgba(244, 67, 54, 1)",!0),level10:P(3.618,"rgba(156, 39, 176, 1)",!0),level11:P(4.236,"rgba(233, 30, 99, 1)",!0),level12:P(1.272,"rgba(129, 199, 132, 1)",!1),level13:P(1.414,"rgba(244, 67, 54, 1)",!1),level16:P(2,"rgba(0, 150, 136, 1)",!1),level14:P(2.272,"rgba(129, 199, 132, 1)",!1),level15:P(2.414,"rgba(76, 175, 80, 1)",!1),level17:P(3,"rgba(100, 181, 246, 1)",!1),level18:P(3.272,"rgba(120, 123, 134, 1)",!1),level19:P(3.414,"rgba(33, 150, 243, 1)",!1),level20:P(4,"rgba( 204, 40, 40, 1)",!1),level21:P(4.272,"rgba(156, 39, 176, 1)",!1),level22:P(4.414,"rgba(233, 30, 99, 1)",!1),level23:P(4.618,"rgba(129, 199, 132, 1)",!1),level24:P(4.764,"rgba(0, 150, 136, 1)",!1),__collectibleLines:["trendline","level1","level2","level3","level4","level5","level6","level7","level8","level9","level10","level11","level12","level13","level14","level15","level16","level17","level18","level19","level20","level21","level22","level23","level24"]},linetooltrendbasedfibtime:{showCoeffs:!0,font:"Verdana",fillBackground:!0,transparency:80,horzLabelsAlign:"right",vertLabelsAlign:"bottom",trendline:{visible:!0,color:"rgba(120, 123, 134, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_DASHED},level1:T(0,"rgba(120, 123, 134, 1)",!0),level2:T(.382,"rgba(244, 67, 54, 1)",!0),level3:T(.5,"rgba(129, 199, 132, 1)",!1),level4:T(.618,"rgba(76, 175, 80, 1)",!0),level5:T(1,"rgba(0, 150, 136, 1)",!0),level6:T(1.382,"rgba(100, 181, 246, 1)",!0),level7:T(1.618,"rgba(120, 123, 134, 1)",!0),level8:T(2,"rgba(33, 150, 243, 1)",!0),
level9:T(2.382,"rgba(244, 67, 54, 1)",!0),level10:T(2.618,"rgba(156, 39, 176, 1)",!0),level11:T(3,"rgba(233, 30, 99, 1)",!0),__collectibleLines:["trendline","level1","level2","level3","level4","level5","level6","level7","level8","level9","level10","level11"]},linetoolschiffpitchfork:{fillBackground:!0,transparency:80,style:l.Schiff,median:{visible:!0,color:"rgba(244, 67, 54, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID},extendLines:!1,level0:T(.25,"rgba(255, 183, 77, 1)",!1),level1:T(.382,"rgba(129, 199, 132, 1)",!1),level2:T(.5,"rgba(76, 175, 80, 1)",!0),level3:T(.618,"rgba(0, 150, 136, 1)",!1),level4:T(.75,"rgba(100, 181, 246, 1)",!1),level5:T(1,"rgba(33, 150, 243, 1)",!0),level6:T(1.5,"rgba(156, 39, 176, 1)",!1),level7:T(1.75,"rgba(233, 30, 99, 1)",!1),level8:T(2,"rgba(229, 115, 115, 1)",!1),__collectibleLines:["median","level0","level1","level2","level3","level4","level5","level6","level7","level8"]},linetoolschiffpitchfork2:{fillBackground:!0,transparency:80,style:l.Schiff2,median:{visible:!0,color:"rgba(244, 67, 54, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID},extendLines:!1,level0:T(.25,"rgba(255, 183, 77, 1)",!1),level1:T(.382,"rgba(129, 199, 132, 1)",!1),level2:T(.5,"rgba(76, 175, 80, 1)",!0),level3:T(.618,"rgba(0, 150, 136, 1)",!1),level4:T(.75,"rgba(100, 181, 246, 1)",!1),level5:T(1,"rgba(33, 150, 243, 1)",!0),level6:T(1.5,"rgba(156, 39, 176, 1)",!1),level7:T(1.75,"rgba(233, 30, 99, 1)",!1),level8:T(2,"rgba(229, 115, 115, 1)",!1),__collectibleLines:["median","level0","level1","level2","level3","level4","level5","level6","level7","level8"]},linetoolinsidepitchfork:{fillBackground:!0,transparency:80,style:l.Inside,median:{visible:!0,color:"rgba(244, 67, 54, 1)",linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID},extendLines:!1,level0:T(.25,"rgba(255, 183, 77, 1)",!1),level1:T(.382,"rgba(129, 199, 132, 1)",!1),level2:T(.5,"rgba(76, 175, 80, 1)",!0),level3:T(.618,"rgba(0, 150, 136, 1)",!1),level4:T(.75,"rgba(100, 181, 246, 1)",!1),level5:T(1,"rgba(33, 150, 243, 1)",!0),level6:T(1.5,"rgba(156, 39, 176, 1)",!1),level7:T(1.75,"rgba(233, 30, 99, 1)",!1),level8:T(2,"rgba(229, 115, 115, 1)",!1),__collectibleLines:["median","level0","level1","level2","level3","level4","level5","level6","level7","level8"]}},r(TradingView.defaultProperties.chartproperties),o()}for(void 0===TradingView.defaultProperties["study_MA@tv-basicstudies"]&&(TradingView.defaultProperties["study_MA@tv-basicstudies"]={description:"Moving Average",shortDescription:"MA",inputs:{length:9,source:"close"},styles:{MovAvg:{visible:!0,color:"rgba( 4, 150, 255, 1)",linestyle:CanvasEx.LINESTYLE_SOLID,linewidth:1,plottype:u.Line,histogramBase:0,title:"MA"}}}),void 0===TradingView.defaultProperties["study_PivotPointsHighLow@tv-basicstudies"]&&(TradingView.defaultProperties["study_PivotPointsHighLow@tv-basicstudies"]={font:"Arial",fontsize:10,borderColor:"rgba( 83, 143, 31, 1)",backColor:"rgba( 240, 255, 204, 1)",textColor:"rgba( 0, 0, 0, 1)"}),
void 0===TradingView.defaultProperties["study_PivotPointsStandard@tv-basicstudies"]&&(i="rgba( 212, 121, 40, 1)",n=!0,s=1,TradingView.defaultProperties["study_PivotPointsStandard@tv-basicstudies"]={_hardCodedDefaultsVersion:1,font:"Arial",fontsize:11,levelsStyle:{showLabels:!0,visibility:{P:n,"S1/R1":n,"S2/R2":n,"S3/R3":n,"S4/R4":n,"S5/R5":n},colors:{P:i,"S1/R1":i,"S2/R2":i,"S3/R3":i,"S4/R4":i,"S5/R5":i},widths:{P:s,"S1/R1":s,"S2/R2":s,"S3/R3":s,"S4/R4":s,"S5/R5":s}}}),void 0===TradingView.defaultProperties["study_ZigZag@tv-basicstudies"]&&(TradingView.defaultProperties["study_ZigZag@tv-basicstudies"]={color:"rgba( 86, 135, 29, 1)",linewidth:2}),void 0===TradingView.defaultProperties["study_ElliottWave@tv-basicstudies"]&&(TradingView.defaultProperties["study_ElliottWave@tv-basicstudies"]={inputs:{},level0:w("rgba( 255, 0, 0, 1)",!1),level1:w("rgba( 0, 128, 0, 1)",!1),level2:w("rgba( 0, 0, 255, 1)",!1),level3:w("rgba( 255, 0, 255, 1)",!1),level4:w("rgba( 0, 128, 255, 1)",!0),level5:w("rgba( 255, 0, 0, 1)",!0),level6:w("rgba( 0, 128, 0, 1)",!0),level7:w("rgba( 0, 0, 255, 1)",!0),level8:w("rgba( 255, 0, 255, 1)",!0)}),void 0===TradingView.defaultProperties["study_LinearRegression@tv-basicstudies"]&&(TradingView.defaultProperties["study_LinearRegression@tv-basicstudies"]={styles:{upLine:{visible:!0,color:"rgba( 0, 0, 255, 0.3)",linestyle:CanvasEx.LINESTYLE_SOLID,linewidth:1},downLine:{visible:!0,color:"rgba( 0, 0, 255, 0.3)",linestyle:CanvasEx.LINESTYLE_SOLID,linewidth:1},baseLine:{visible:!0,color:"rgba( 255, 0, 0, 0.3)",linestyle:CanvasEx.LINESTYLE_SOLID,linewidth:1},extendLines:!0,showPearsons:!0,backgroundColor:"rgba( 153, 21, 21, 0.3)",transparency:70}}),void 0===TradingView.defaultProperties["study_RegressionTrend@tv-basicstudies"]&&(TradingView.defaultProperties["study_RegressionTrend@tv-basicstudies"]={linewidth:1,linestyle:CanvasEx.LINESTYLE_SOLID,styles:{upLine:{visible:!0,color:"rgba(33, 150, 243, 0.3)",linestyle:CanvasEx.LINESTYLE_SOLID,linewidth:1},downLine:{visible:!0,color:"rgba(33, 150, 243, 0.3)",linestyle:CanvasEx.LINESTYLE_SOLID,linewidth:1},baseLine:{visible:!0,color:"rgba(244, 67, 54, 0.3)",linestyle:CanvasEx.LINESTYLE_SOLID,linewidth:1},extendLines:!1,showPearsons:!0,transparency:70}}),void 0===TradingView.defaultProperties["study_Compare@tv-basicstudies"]&&(TradingView.defaultProperties["study_Compare@tv-basicstudies"]={minTick:"default"}),void 0===TradingView.defaultProperties["study_Overlay@tv-basicstudies"]&&(g="study_Overlay@tv-basicstudies",TradingView.defaultProperties[g]={style:a.STYLE_LINE,showPriceLine:!1,minTick:"default",candleStyle:{upColor:"rgba( 107, 165, 131, 1)",downColor:"rgba( 215, 84, 66, 1)",drawWick:!0,drawBorder:!0,drawBody:!0,borderColor:"rgba( 55, 134, 88, 1)",borderUpColor:"rgba( 34, 84, 55, 1)",borderDownColor:"rgba( 91, 26, 19, 1)",wickColor:"rgba( 115, 115, 117, 1)",wickUpColor:"rgba( 115, 115, 117, 1)",wickDownColor:"rgba( 115, 115, 117, 1)",barColorsOnPrevClose:!1},hollowCandleStyle:{upColor:"rgba( 107, 165, 131, 1)",downColor:"rgba( 215, 84, 66, 1)",drawWick:!0,
drawBorder:!0,drawBody:!0,borderColor:"rgba( 55, 134, 88, 1)",borderUpColor:"rgba( 34, 84, 55, 1)",borderDownColor:"rgba( 91, 26, 19, 1)",wickColor:"rgba( 115, 115, 117, 1)",wickUpColor:"rgba( 115, 115, 117, 1)",wickDownColor:"rgba( 115, 115, 117, 1)",barColorsOnPrevClose:!1},barStyle:{upColor:"rgba( 107, 165, 131, 1)",downColor:"rgba( 215, 84, 66, 1)",barColorsOnPrevClose:!1,dontDrawOpen:!1,thinBars:!0},lineStyle:{color:"#2196f3",linestyle:CanvasEx.LINESTYLE_SOLID,linewidth:2,priceSource:"close",styleType:a.STYLE_LINE_TYPE_SIMPLE},areaStyle:{color1:"#2196f3",color2:"#2196f3",linecolor:"#2196f3",linestyle:CanvasEx.LINESTYLE_SOLID,linewidth:2,priceSource:"close",transparency:95},baselineStyle:{baselineColor:"rgba( 117, 134, 150, 1)",topFillColor1:"rgba( 83, 185, 135, 0.05)",topFillColor2:"rgba( 83, 185, 135, 0.05)",bottomFillColor1:"rgba( 235, 77, 92, 0.05)",bottomFillColor2:"rgba( 235, 77, 92, 0.05)",topLineColor:"rgba( 83, 185, 135, 1)",bottomLineColor:"rgba( 235, 77, 92, 1)",topLineWidth:2,bottomLineWidth:2,priceSource:"close",transparency:50,baseLevelPercentage:50},styles:{open:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:CanvasEx.LINESTYLE_SOLID,linewidth:1,plottype:u.Line,histogramBase:0},high:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:CanvasEx.LINESTYLE_SOLID,linewidth:1,plottype:u.Line,histogramBase:0},low:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:CanvasEx.LINESTYLE_SOLID,linewidth:1,plottype:u.Line,histogramBase:0},close:{visible:!0,color:"rgba( 255, 0, 0, 1)",linestyle:CanvasEx.LINESTYLE_SOLID,linewidth:1,plottype:u.Line,histogramBase:0}}}),v=e.split("."),b=TradingView.defaultProperties,S=0;S<v.length;S++)b&&(b=b[v[S]]);return null!=b?TradingView.clone(b):{}};s.create=function(e,t){if(t){var i=v(e);TradingView.defaultProperties[e]=Object.assign(t,i)}},s.remove=function(e){TradingView.defaultProperties[e]=void 0},TradingView.saveDefaults=function(e,t){TVSettings.setJSON(e,t)},TradingView.factoryDefaults=v,window.applyDefaultOverridesToLinetools=o,window.applyDefaultsOverrides=r,window.applyPropertiesOverrides=n,window.defaults=s,t.applyDefaultOverridesToLinetools=o,t.applyDefaultsOverrides=r,t.applyPropertiesOverrides=n,t.defaults=s,t.factoryDefaults=v,t.saveDefaults=TradingView.saveDefaults},wamh:function(e,t,i){"use strict";var n,r,o,s,a;i.r(t),i.d(t,"ChangeToolBarsThemeUndoCommand",function(){return a}),n=i("mrSG"),r=i("EsvI"),o=i("oiZD"),s=i("RDU5"),a=function(e){function t(t,i,n){void 0===n&&(n=!0);var r=e.call(this,"Apply Toolbars Theme")||this;return r._prevThemeName=t,r._themeName=i,r._syncState=n,r}return Object(n.__extends)(t,e),t.prototype.undo=function(){Object(r.isStdThemeName)(this._prevThemeName)&&(Object(o.setTheme)(this._prevThemeName),this._syncState&&Object(r.syncTheme)())},t.prototype.redo=function(){Object(r.isStdThemeName)(this._themeName.toLowerCase())&&(Object(o.setTheme)(this._themeName.toLowerCase()),this._syncState&&Object(r.syncTheme)())},t}(s.UndoCommand)},wi9r:function(e,t,i){"use strict";(function(e){function t(e){this._chartApi=e,this._sessionid="qs_"+n(),
this._sessionstarted=!1}var n=i("0waE").randomHash;t.prototype.destroy=function(){this._sessionstarted&&(this._chartApi.quoteDeleteSession(this._sessionid),this._sessionid=null,this._sessionstarted=!1)},t.prototype.connected=function(){return this._chartApi.connected()},t.prototype.connect=function(e){this._globalHandler=e,this._chartApi.createSession(this._sessionid,this),this._chartApi.connect()},t.prototype.disconnect=function(){this._chartApi.disconnect()},t.prototype.quoteAddSymbols=function(e,t){e=[].concat(e),t&&t.forcePermission&&(e=e.concat({flags:["force_permission"]})),this._chartApi.quoteAddSymbols(this._sessionid,e)},t.prototype.quoteRemoveSymbols=function(e){this._chartApi.quoteRemoveSymbols(this._sessionid,e)},t.prototype.quoteFastSymbols=function(e){this._chartApi.quoteFastSymbols(this._sessionid,e)},t.prototype.quoteSetFields=function(e){this._chartApi.quoteSetFields(this._sessionid,e)},t.prototype.onMessage=function(e){switch(e.method){case"connected":this._sessionstarted||(this._chartApi.quoteCreateSession(this._sessionid),this._sessionstarted=!0);break;case"disconnected":this._sessionstarted=!1}this._globalHandler(e)},t.prototype.quoteHibernateAll=function(e){this._chartApi.quoteHibernateAll(this._sessionid)},TradingView.QuoteSession=t,e&&e.exports&&(e.exports=t)}).call(this,i("YuTi")(e))},wjVR:function(e,t,i){"use strict";function n(e,t,i){var n=t.mainSeries().syncModel(),r=e.mainSeries().syncModel(),o=i;return null!==n&&null!==r&&(o=e.createSyncPoint(n,r).sourceTimeToTargetTime(i)),e.timeScale().points().roughIndex(o,r&&r.distance.bind(r))}var r,o,s,a,l,c,u,h;i.r(t),i.d(t,"ChartWidgetBase",function(){return h}),r=i("mrSG"),o=i("Eyy1"),s=i("ogJP"),a=i("CW80"),l=i("mMWL"),c=i("KnF9"),u={addToWatchlistEnabled:!0,sourceSelectionEnabled:!0,propertyPagesEnabled:!0,paneContextMenuEnabled:!0,priceScaleContextMenuEnabled:!0,currencyLabelEnabled:!1,goToDateEnabled:!1,marketStatusWidgetEnabled:!0,chartWarningWidgetEnabled:!0,paneControlsEnabled:!0,isSymbolAvailable:function(e){return Promise.resolve(!0)},legendWidgetEnabled:!0,chartEventsEnabled:!0,esdEnabled:!1,croppedTickMarks:!0,handleScale:{mouseWheel:!0,pinch:!0,axisPressedMouseMove:!0},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0}},h=function(){function e(e){this.activePaneWidget=null,this._model=null,this._timeAxisWidget=null,this._options=Object(s.merge)(Object(s.clone)(u),e),this._subscribeToDrawingState()}return e.prototype.timeAxisHeight=function(){return null!==this._timeAxisWidget?this._timeAxisWidget.size.h:0},e.prototype._subscribeToDrawingState=function(){var e,t,i=this;this._options.readOnly||(Object(l.init)(),e=function(e,t){if(null!==i._model){var n=i._model.model();e.model!==n&&t(n,i._model)}},t=function(e,t){return e.dataSources().find(function(e){return Object(a.isLineTool)(e)&&e.getLinkKey()===t})||null},l.createdLineTool.subscribe(null,function(t){e(t,function(e,r){var s,a,l=Object(o.ensureNotNull)(e.paneForSource(e.mainSeries())),c=n(e,t.model,t.point.timeStamp);null!==c&&(s={index:c,
price:t.point.price},null!==(a=r.createLineTool(l,s,t.linetool,t.properties,t.linkKey,e.mainSeries()))&&!Boolean(i.model().lineBeingCreated())&&t.finalState&&a.restoreExternalPoints(t.finalState))})}),l.continuedLineTool.subscribe(null,function(t){e(t,function(e,i){var r,o,s=n(e,t.model,t.point.timeStamp);null!==s&&(r={index:s,price:t.point.price},null!==(o=e.lineBeingCreated())&&i.continueExternalLine(r,null===t.envState?void 0:t.envState,!!t.finalState)&&t.finalState&&o.restoreExternalPoints(t.finalState))})}),l.cancelledLineTool.subscribe(null,function(t){e(t,function(e,t){e.cancelCreatingLine()})}),l.beenSetLineToolLastPoint.subscribe(null,function(t){e(t,function(e,i){var r,o,s=e.lineBeingCreated();null!==s&&s.getLinkKey()===t.linkKey&&null!==(r=n(e,t.model,t.point.timeStamp))&&(o={index:r,price:t.point.price},s.setLastPoint(o),s.updateAllViews(),e.lightUpdate())})}),l.startedMovingLineTool.subscribe(null,function(i){e(i,function(e,r){var o,a,l=i.linkKeys.map(t.bind(null,e)).filter(s.notNull);if(l.length){if(null===(o=n(e,i.model,i.point.timeStamp)))return;a={index:o,price:i.point.price},e.startMovingSources(l,{logical:a},null,null===i.envState?void 0:i.envState)}})}),l.movedLineTool.subscribe(null,function(t){e(t,function(e,i){var r,o,s=function(e){return t.linkKeys.some(function(t){return e.getLinkKey()===t})},a=e.sourcesBeingMoved().filter(function(e){return s(e)});a.length&&null!==(r=n(e,t.model,t.point.timeStamp))&&(o={index:r,price:t.point.price},e.moveSources({logical:o},null===t.envState?void 0:t.envState))})}),l.finishedMovingLineTool.subscribe(null,function(t){e(t,function(e,i){var n,r=e.sourcesBeingMoved();0!==r.length&&(n=function(e){for(var i=0;i<t.linkKeys.length;i++)if(t.linkKeys[i]===e.getLinkKey())return t.finalStates[i];return null},r.forEach(function(t){var i=n(t);e.endMovingSources(null!==i),null!==i&&t.restoreExternalPoints(i)}))})}),l.startedChangingLineTool.subscribe(null,function(i){e(i,function(e,r){var o,s=t(e,i.linkKey),a=n(e,i.model,i.point.timeStamp);null!==a&&null!==s&&(o={index:a,price:i.point.price},e.startChangingLinetool(s,o,i.pointIndex,null===i.envState?void 0:i.envState,!0))})}),l.changedLineTool.subscribe(null,function(t){e(t,function(e,i){var r,o,s=e.lineBeingEdited();null!==s&&s.getLinkKey()===t.linkKey&&null!==(r=n(e,t.model,t.point.timeStamp))&&(o={index:r,price:t.point.price},e.changeLinePoint(o,null===t.envState?void 0:t.envState,!0))})}),l.finishedChangingLineTool.subscribe(null,function(i){e(i,function(e,n){var r=t(e,i.linkKey);null!==e.lineBeingEdited()&&e.endChangingLinetool(!!i.finalState,!0),null!==r&&i.finalState&&r.restoreExternalPoints(i.finalState)})}),l.removedLineTool.subscribe(null,function(i){e(i,function(e,n){var r=t(e,i.linkKey);null!==r&&n.removeSource(r,!1)})}),l.finishedLineTool.subscribe(null,function(i){e(i,function(e,n){null!==t(e,i.linkKey)&&e.finishLineTool(!1)})}),l.changedLineStyle.subscribe(null,function(i){e(i,function(e,n){var r=t(e,i.linkKey);null!==r&&(r.properties().merge(i.state),r.propertiesChanged())})}),
l.restoredLineToolState.subscribe(null,function(i){e(i,function(e,o){var s,a=t(e,i.linkKey);null!==a&&((s=Object(r.__assign)({},i.state)).indexes=i.state.points.map(function(t){return{index:n(e,i.model,t.time_t),price:t.price}}),e.restoreLineToolState(a,s))})}),l.restoredLineTool.subscribe(null,function(t){e(t,function(e,i){e.restoreSource(t.state.restorePane,t.state.paneIndex,t.state.paneState,t.state.sourceState,null)})}),l.copiedLineTool.subscribe(null,function(t){e(t,function(e,i){var r,s,a,l=Object(o.ensureNotNull)(e.paneForSource(e.mainSeries())),u=t.points.map(function(i){return{index:Object(o.ensureNotNull)(n(e,t.model,i.timeStamp)),price:i.price}});if(0!==u.length){if(r=u[0],s=e.createLineTool(l,r,t.linetool,null,t.linkKey),e.lineBeingCreated())for(a=1;a<u.length;a++)a!==u.length-1||"LineToolBrush"!==t.linetool&&"LineToolGhostFeed"!==t.linetool||e.finishLineTool(!0),e.coninueCreatingLine(u[a],new c.EnvironmentState(void 0),a<u.length-1,!0);s.properties().interval.setValue(t.state.interval),s.properties().merge(t.state),s.restoreData&&s.restoreData(t),s.propertiesChanged(),t.finalState&&(s.calcIsActualSymbol(),s.restoreExternalPoints(t.finalState))}})}))},e}()},wnP7:function(e,t,i){"use strict";var n,r,o,s,a,l;i.r(t),i.d(t,"ExchangeGroup",function(){return o}),i.d(t,"Countries",function(){return s}),i.d(t,"exchangeGroupName",function(){return a}),i.d(t,"exchanges",function(){return l}),i("YFKU"),n=i("JUKA"),function(e){e.NorthAmerica="North America",e.Europe="Europe",e.MiddleEastAfrica="Middle East / Africa",e.MexicoSouthAmerica="Mexico and South America",e.AsiaPacific="Asia / Pacific",e.Worldwide="Worldwide",e.Cryptocurrency="Cryptocurrency",e.Forex="Forex",e.AllExchanges="AllExchanges",e.Others="Others"}(o||(o={})),function(e){e.USA="United States",e.Canada="Canada",e.EU="European Union",e.Germany="Germany",e.Italy="Italy",e.Poland="Poland",e.Russia="Russian Federation",e.Serbia="Serbia",e.Spain="Spain",e.Switzerland="Switzerland",e.Turkey="Turkey",e.UK="United Kingdom",e.Bahrain="Bahrain",e.Egypt="Egypt",e.Israel="Israel",e.Nigeria="Nigeria",e.SaudiArabia="Saudi Arabia",e.UAE="United Arab Emirates",e.Argentina="Argentina",e.Brazil="Brazil",e.Chile="Chile",e.Mexico="Mexico",e.Australia="Australia",e.China="China",e.India="India",e.Indonesia="Indonesia",e.HongKong="Hong Kong",e.Japan="Japan",e.Malaysia="Malaysia",e.NewZealand="New Zealand",e.Singapore="Singapore",e.Taiwan="Taiwan",e.Thailand="Thailand",e.SouthKorea="South Korea",e.Peru="Peru",e.Colombia="Colombia",e.Sweden="Sweden",e.Ireland="Ireland",e.Austria="Austria",e.Norway="Norway",e.Qatar="Qatar",e.Denmark="Denmark",e.Iceland="Iceland",e.Finland="Finland",e.Lithuania="Lithuania",e.Estonia="Estonia",e.Latvia="Latvia",e.Vietnam="Vietnam",e.SouthAfrica="South Africa",e.Netherlands="Netherlands",e.Belgium="Belgium",e.Portugal="Portugal",e.France="France"}(s||(s={})),(r={})[o.NorthAmerica]=window.t("North America"),r[o.Europe]=window.t("Europe"),r[o.MiddleEastAfrica]=window.t("Middle East / Africa"),
r[o.MexicoSouthAmerica]=window.t("Mexico and South America"),r[o.AsiaPacific]=window.t("Asia / Pacific"),r[o.Worldwide]=window.t("Worldwide"),r[o.Cryptocurrency]=window.t("Cryptocurrency"),r[o.Forex]=window.t("Forex"),r[o.Others]=window.t("Others"),a=r,l=n},wuAJ:function(e,t,i){"use strict";function n(e){var t=document.createElement("a");return t.href=e,l(t)&&a(t)&&s(t)}function r(e){var t=document.createElement("a");return t.href=e,a(t)&&s(t)}function o(e,t){var i,n,r;return void 0===t&&(t=window.location.hostname),i="."===t.slice(-1)?3:2,n=t.toLowerCase().split(".").slice(-i),r=e.toLowerCase().split(".").slice(-n.length),n.join(".")===r.join(".")}var s,a,l;i.d(t,"b",function(){return n}),i.d(t,"c",function(){return r}),i.d(t,"a",function(){return o}),s=function(e){return!e.username},a=function(e){return"http:"===e.protocol||"https:"===e.protocol},l=function(e){return e.hostname===location.hostname||!/^\d+\.\d+\.\d+\.\d+$/.test(e.hostname)&&o(e.hostname)}},"x+tH":function(e,t,i){"use strict";var n;i.r(t),i.d(t,"WSMode",function(){return n}),function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"}(n||(n={}))},x0JF:function(e,t,i){"use strict";function n(e,t){this.m_series=e,this.m_model=t,this.m_bars=[],this._invalidated=!0,this._isMarkersEnabled=x.enabled("source_selection_markers"),this._selectionData=null}function r(e,t){return void 0!==e[TradingView.OPEN_PLOT]&&void 0!==e[TradingView.HIGH_PLOT]&&void 0!==e[TradingView.LOW_PLOT]&&void 0!==e[TradingView.CLOSE_PLOT]&&(t.open=e[TradingView.OPEN_PLOT],t.high=e[TradingView.HIGH_PLOT],t.low=e[TradingView.LOW_PLOT],t.close=e[TradingView.CLOSE_PLOT],!0)}function o(e,t){n.call(this,e,t)}function s(e,t){n.call(this,e,t)}function a(e,t){n.call(this,e,t)}function l(e,t){n.call(this,e,t)}function c(e,t){this.m_series=e,this.m_model=t,this.m_items=[],this._isMarkersEnabled=x.enabled("source_selection_markers")}function u(e,t){c.call(this,e,t),this._invaidated=!0}function h(e,t){c.call(this,e,t),this._invaidated=!0}function d(e,t){c.call(this,e,t),this._invaidated=!0,this._renderer=new S}var p=i("aO4+").Point,f=i("vq8G").SelectionRenderer,_=i("VdBB").HitTestResult,m=i("29fS").PaneRendererBars,g=i("gyZD").PaneRendererLine,y=i("Zp8I").PaneRendererStepLine,v=i("u0yd").PaneRendererArea,b=i("/hKg").PaneRendererCandles,S=i("M7/j").PaneRendererBaseline,w=i("Zy3/").CompositeRenderer,P=i("ga+R"),T=i("Tmoa"),C=i("k9/m").PlotRowSearchMode,x=i("Kxc7"),I=i("Zp/P");n.prototype._series=function(){return this.m_series},n.prototype._model=function(){return this.m_model},n.prototype._bars=function(){return this.m_bars},n.prototype.update=function(){this._invalidated=!0},n.prototype._updateImpl=function(e){var t,i,n,o,s,a,l,c,u,h,d,f,m,g,y=this;if(e=e||r,this.m_bars=[],!this.m_model.timeScale().isEmpty()&&!this.m_series.priceScale().isEmpty()&&null!==(t=this.m_model.timeScale().visibleBarsStrictRange())&&0!==this.m_series.bars().size()){for(i=this.m_series.nearestIndex(t.firstBar(),C.NearestRight),
n=this.m_series.nearestIndex(t.lastBar(),C.NearestLeft);i<=n&&null===this.m_series.bars().valueAt(i);i++);if(!(i>n)&&(t=this.m_series.bars().range(i,n),o=this.m_series.priceScale(),s=this.m_series.barColorer(),a={},t.each(function(t,i){var n,r={};r.time=Math.round(t),e(i,r)&&(a.value=i,n=i[TradingView.STYLE_PLOT]?i[TradingView.STYLE_PLOT]:s.barStyle(t,!1,a),i[TradingView.STYLE_PLOT]=n,a.previousValue=i,r.color=n.barColor,r.borderColor=n.barBorderColor,r.wickColor=n.barWickColor,r.hollow=n.isBarHollow,y.m_bars.push(r))},this),0!==this.m_bars.length&&(l=this.m_series.firstValue(),o.barPricesToCoordinates(this.m_bars,l)),this.m_model.timeScale().barIndexesToCoordinates(this.m_bars),this.m_model.selection().isSelected(this.m_series)))for(c=P(i,n),this._selectionData={points:[],bgColor:this.m_model.backgroundColor().value(),visible:!0},this._selectionData.hittestResult=_.REGULAR,u=0;u<c.length;u++)h=c[u],null!==(d=this.m_series.bars().valueAt(h))&&(f=.5*(d[TradingView.OPEN_PLOT]+d[TradingView.CLOSE_PLOT]),m=this.m_model.timeScale().indexToCoordinate(h),g=this.m_series.priceScale().priceToCoordinate(f,l),this._selectionData.points.push(new p(m,g)))}},n.prototype.items=function(){return this.m_bars},inherit(o,n),o.prototype.renderer=function(){var e,t,i;return this._invalidated&&(this._updateImpl(),this._invalidated=!1),(e={}).bars=this.m_bars,e.barSpacing=this.m_model.timeScale().barSpacing(),t=this.m_series.properties(),e.dontDrawOpen=t.barStyle.dontDrawOpen.value(),e.thinBars=t.style.value()===TradingView.Series.STYLE_RANGE?t.rangeStyle.thinBars.value():t.barStyle.thinBars.value(),(i=new w).append(new m(e)),this.m_model.selection().isSelected(this.m_series)&&this._isMarkersEnabled&&i.append(new f(this._selectionData)),i},inherit(s,n),s.prototype.renderer=function(){var e,t;return this._invalidated&&(this._updateImpl(),this._invalidated=!1),(e={}).bars=this.m_bars,e.barSpacing=this.m_model.timeScale().barSpacing(),e.wickVisible=this.m_series.properties().candleStyle.drawWick.value(),e.bodyVisible=this.m_series.properties().candleStyle.drawBody.value(),e.borderVisible=this.m_series.properties().candleStyle.drawBorder.value(),e.borderColor=this.m_series.properties().candleStyle.borderColor.value(),e.wickColor=this.m_series.properties().candleStyle.wickColor.value(),e.barWidth=I.optimalBarWidth(e.barSpacing),(t=new w).append(new b(e)),this.m_model.selection().isSelected(this.m_series)&&this._isMarkersEnabled&&t.append(new f(this._selectionData)),t},inherit(a,n),a.prototype.renderer=function(){var e,t;return this._invalidated&&(this._updateImpl(),this._invalidated=!1),(e={}).bars=this.m_bars,e.barSpacing=this.m_model.timeScale().barSpacing(),e.wickVisible=this.m_series.properties().haStyle.drawWick.value(),e.bodyVisible=this.m_series.properties().haStyle.drawBody.value(),e.borderVisible=this.m_series.properties().haStyle.drawBorder.value(),e.borderColor=this.m_series.properties().haStyle.borderColor.value(),e.wickColor=this.m_series.properties().haStyle.wickColor.value(),e.barWidth=I.optimalBarWidth(e.barSpacing),
(t=new w).append(new b(e)),this.m_model.selection().isSelected(this.m_series)&&this._isMarkersEnabled&&t.append(new f(this._selectionData)),t},inherit(l,n),l.prototype.renderer=function(){var e,t;return this._invalidated&&(this._updateImpl(),this._invalidated=!1),(e={}).bars=this.m_bars,e.barSpacing=this.m_model.timeScale().barSpacing(),e.wickVisible=this.m_series.properties().hollowCandleStyle.drawWick.value(),e.bodyVisible=this.m_series.properties().hollowCandleStyle.drawBody.value(),e.borderVisible=this.m_series.properties().hollowCandleStyle.drawBorder.value(),e.borderColor=this.m_series.properties().hollowCandleStyle.borderColor.value(),e.wickColor=this.m_series.properties().hollowCandleStyle.wickColor.value(),e.barWidth=I.optimalBarWidth(e.barSpacing),(t=new w).append(new b(e)),this.m_model.selection().isSelected(this.m_series)&&this._isMarkersEnabled&&t.append(new f(this._selectionData)),t},c.prototype.update=function(){var e,t,i,n,r,o,s,a,l,c,u,h,d,f;if(this.m_items=[],!this.m_model.timeScale().isEmpty()&&this.m_series.priceScale()&&!this.m_series.priceScale().isEmpty()&&null!==(e=this.m_model.timeScale().visibleBarsStrictRange())&&0!==this.m_series.bars().size()&&(t=this.m_series.nearestIndex(e.firstBar(),C.NearestRight),i=this.m_series.nearestIndex(e.lastBar(),C.NearestLeft),e=this.m_series.bars().range(t,i),r=this.m_series.priceScale(),o={color:this.m_series.properties().lineStyle.color.value()},s=this.m_series.barFunction(),e.each(function(e,t){var i,r=s(t);return void 0!==r&&null!==r&&(void 0===n&&(n=r),(i=new p(e,r)).style=o,this.m_items.push(i),!1)}.bind(this)),r.pointsArrayToCoordinates(this.m_items,n),this.m_model.timeScale().indexesToCoordinates(this.m_items),this.m_model.selection().isSelected(this.m_series)))for(a=P(t,i),this._selectionData={points:[],isDark:this.m_model.isDark(),bgColor:this.m_model.backgroundColor().value(),visible:!0},this._selectionData.hittestResult=_.REGULAR,l=0;l<a.length;l++)c=a[l],null!==(u=this.m_series.data().valueAt(c))&&(h=s(u),d=this.m_model.timeScale().indexToCoordinate(c),f=this.m_series.priceScale().priceToCoordinate(h,n),this._selectionData.points.push(new p(d,f)))},inherit(u,c),u.prototype.update=function(){this._invalidated=!0},u.prototype.renderer=function(){var e,t,i,n;return this._invalidated&&(c.prototype.update.call(this),this._invalidated=!1),e=this.m_series.properties().lineStyle,t={barSpacing:this.m_model.timeScale().barSpacing(),items:this.m_items,lineColor:e.color.value(),lineStyle:e.linestyle.value(),withMarkers:e.styleType.value()===TradingView.Series.STYLE_LINE_TYPE_MARKERS,lineWidth:e.linewidth.value(),simpleMode:!0},e.styleType.value()===TradingView.Series.STYLE_LINE_TYPE_STEP?(i=new y).setData(t):i=new g(t),this.m_model.selection().isSelected(this.m_series)?((n=new w).append(i),this._isMarkersEnabled&&n.append(new f(this._selectionData))):n=i,n},inherit(h,c),h.prototype.update=function(){this._invalidated=!0},h.prototype.renderer=function(){var e,t,i;return this._invalidated&&(c.prototype.update.call(this),this._invalidated=!1),
(e={}).simpleMode=!1,e.barSpacing=this.m_model.timeScale().barSpacing(),e.items=this.m_items,e.lineColor=this.m_series.properties().areaStyle.linecolor.value(),e.lineStyle=this.m_series.properties().areaStyle.linestyle.value(),e.lineWidth=this.m_series.properties().areaStyle.linewidth.value(),t=this.m_series.properties().areaStyle.transparency.value(),e.isSeries=!0,e.color1=T.generateColor(this.m_series.properties().areaStyle.color1.value(),t),e.color2=T.generateColor(this.m_series.properties().areaStyle.color2.value(),t),e.bottom=this.m_series.priceScale().height(),(i=new w).append(new v(e)),this.m_model.selection().isSelected(this.m_series)&&this._isMarkersEnabled&&i.append(new f(this._selectionData)),i},inherit(d,c),d.prototype.update=function(){this._invalidated=!0},d.prototype._updateImpl=function(){var e,t;c.prototype.update.call(this),t=(e=this.m_series.properties().baselineStyle).transparency.value(),this._topFillColor1=T.generateColor(e.topFillColor1.value(),t),this._topFillColor2=T.generateColor(e.topFillColor2.value(),t),this._bottomFillColor1=T.generateColor(e.bottomFillColor1.value(),t),this._bottomFillColor2=T.generateColor(e.bottomFillColor2.value(),t),this._topLineColor=e.topLineColor.value(),this._bottomLineColor=e.bottomLineColor.value(),this._topLineWidth=e.topLineWidth.value(),this._bottomLineWidth=e.bottomLineWidth.value(),this._barSpacing=this.m_model.timeScale().barSpacing(),this._bottom=this.m_series.priceScale().height(),this._baseLevelCoordinate=Math.round(this._bottom*(Math.abs(100-e.baseLevelPercentage.value())/100))},d.prototype.renderer=function(){this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._renderer.setData({items:this.m_items,topFillColor1:this._topFillColor1,topFillColor2:this._topFillColor2,bottomFillColor1:this._bottomFillColor1,bottomFillColor2:this._bottomFillColor2,topLineColor:this._topLineColor,bottomLineColor:this._bottomLineColor,topLineWidth:this._topLineWidth,bottomLineWidth:this._bottomLineWidth,lineStyle:CanvasEx.LINESTYLE_SOLID,barSpacing:this._barSpacing,baseLevelCoordinate:this._baseLevelCoordinate,bottom:this._bottom});var e=new w;return e.append(this._renderer),this.m_model.selection().isSelected(this.m_series)&&e.append(new f(this._selectionData)),e},t.SeriesBarsPaneView=o,t.SeriesCandlesPaneView=s,t.SeriesHollowCandlesPaneView=l,t.SeriesLinePaneView=u,t.SeriesAreaPaneView=h,t.SeriesHeikenAshiPaneView=a,t.SeriesBaselinePaneView=d,t.SeriesBarCandlesPaneView=n},"x40+":function(e,t,i){"use strict";function n(){f.call(this),this._data=null}function r(e){this._source=e,this._points1=[],this._points2=[],this._timePoints=[],this._getBarSpacing=e.model().timeScale().barSpacing.bind(e.model().timeScale()),this._invalidated=!0,this._areaRenderer=new n,this._plIndex1=null,this._plIndex2=null}function o(e){r.call(this,e)}function s(e,t,i){var n,o;if(r.call(this,e),this._isHlineFill=t.type===u.FilledArea.TYPE_HLINES,a(this._isHlineFill||t.type===u.FilledArea.TYPE_PLOTS,"Wrong filledArea type: "+t.type),
this._isHlineFill&&this._initBandIndexes(t.objAId,t.objBId),this._fillMetaInfo=t,this._fillStyleProps=i,n=e._metaInfo,t.palette)for(o in n.plots)if(n.plots[o].palette===t.palette){this._colorPlotOffset=parseInt(o),this._colorsMap=n.palettes[t.palette].valToIndex,this._colorValues=e.properties().palettes[t.palette].colors;break}}var a=i("Eyy1").assert,l=i("VdBB").HitTestResult,c=i("Zp/P").coordinateIsValid,u=i("0YCj"),h=i("Tmoa"),d=i("Hr11").clamp,p=i("k9/m").PlotRowSearchMode,f=i("cPgM").ScaledPaneRenderer;inherit(n,f),n.prototype.setData=function(e){this._data=e},n.prototype.hitTest=function(e){var t,i,n;if(null===this._data)return null;for(n=1;n<this._data.points1.length;++n)if(t=this._data.points1[n],i=this._data.points2[n],this._data.timePoints[n]===e.x&&(e.y>=t&&e.y<=i||e.y<=t&&e.y>=i))return new l(l.REGULAR);return null},n.prototype._drawImpl=function(e){var t,i,n,r,o,s,a,l,u,d,p,f,_,m,g,y,v,b,S,w,P,T;if(null!==this._data&&((t=this._data.isHlineFill)||0!==this._data.points1.length&&0!==this._data.points2.length)){for(i=this._data.timePoints,n=this._data.points1,r=this._data.points2,o=this._data.colors,s=isNumber(this._data.transparency)?this._data.transparency:50,s=Math.min(s,100),s=Math.max(s,0),a={},l=[],d=.25*this._data.getBarSpacing(),p=0;p<this._data.timePoints.length;p++)f={point1:t?this._data.level1:n[p],point2:t?this._data.level2:r[p],timePoint:i[p]},(_=c(f.point1)&&c(f.point2))&&(u=o?o[p]:this._data.backcolor,l.push(f)),(p===this._data.timePoints.length-1||o&&u!==o[p+1]||!_)&&(l.length>0&&null!==u&&((m=a[u]||[]).push(l),a[u]=m),l=_?[f]:[]);for(g in a){for(y=a[g],e.beginPath(),v=0;v<y.length;v++)if(S=(b=y[v])[0].timePoint,w=b[0].point1,e.moveTo(S,w),1!==b.length){for(T=1;T<b.length;T++)e.lineTo(b[T].timePoint,b[T].point1);for(T=b.length-1;T>=0;T--)e.lineTo(b[T].timePoint,b[T].point2)}else P=b[0].point2,e.lineTo(S+d,w),e.lineTo(S+d,P),e.lineTo(S-d,P),e.lineTo(S-d,w);e.closePath(),e.fillStyle=h.generateColor(g,s),e.fill()}}},r.prototype.update=function(){this._invalidated=!0},r.prototype._plotNames=function(){return this._source.metaInfo().plots.map(function(e){return e.id})},r.prototype._plotIndex1=function(){return null===this._plIndex1&&(this._plIndex1=this._plotNames().indexOf(this._plotAId())+1),this._plIndex1},r.prototype._plotIndex2=function(){return null===this._plIndex2&&(this._plIndex2=this._plotNames().indexOf(this._plotBId())+1),this._plIndex2},r.prototype._updateImpl=function(){var e,t,i,n,r,o,s,a,l,c,u,h,d,f,_,m,g,y,v,b,S,w,P,T,C,x,I;if(this._points1=[],this._points2=[],this._colorsMap&&(this._colors=[]),this._timePoints=[],this._visible()&&(e=this._source.priceScale(),t=this._source._model.timeScale(),e&&!e.isEmpty()&&!this._source._model.timeScale().isEmpty()&&!(this._source._series.bars().isEmpty()||(this._isHlineFill&&(i=this._source.firstValue(),n=this._source.properties().bands[this._bandAKey],r=this._source.properties().bands[this._bandBKey],this._level1=e.priceToCoordinate(n.value.value(),i),this._level2=e.priceToCoordinate(r.value.value(),i)),
null===(o=this._source._model.timeScale().visibleBarsStrictRange())||(s=this._source._series.nearestIndex(o.firstBar(),p.NearestRight),a=this._source._series.nearestIndex(o.lastBar(),p.NearestLeft),(s=this._correctStartBarIndex(s))>a))))){if((l=this._source.data().range(s,a)).size()>0)for(c=l.firstIndex(),u=l.lastIndex(),h=this._source.offset(this._plotAId()),d=this._source.offset(this._plotBId()),f=Math.max(h,d),_=Math.min(h,d),m=c+f,c>(g=this._source.data().firstIndex())&&(m=c<f+g?f+g:c),y=u+_,u>(v=this._source.data().lastIndex())+_&&u<v&&(y=v+_),_<0&&u<=v+_&&(y=u),b=m<c?c+f:m>u?c+f:m,S=m;S<=y;++S)this._timePoints.push(t.indexToCoordinate(b++)),this._colors&&null!==(w=this._source.data().valueAt(S-_))&&(null==(P=w[this._colorPlotOffset+1])?this._colors.push(null):this._colors.push(this._colorValues[this._colorsMap[P]].color.value())),this._isHlineFill||(T=this._source.data().valueAt(S-h),C=this._source.data().valueAt(S-d),null!==T&&null!==C&&(x=T[this._plotIndex1()],I=C[this._plotIndex2()],this._points1.push(x),this._points2.push(I)));i=this._source.firstValue(),e.pricesArrayToCoordinates(this._points1,i),e.pricesArrayToCoordinates(this._points2,i)}},r.prototype.renderer=function(){this._invalidated&&(this._updateImpl(),this._invalidated=!1);var e={};return e.points1=this._points1,e.points2=this._points2,e.timePoints=this._timePoints,e.getBarSpacing=this._getBarSpacing,e.backcolor=this._color(),e.transparency=this._transparency(),e.isHlineFill=this._isHlineFill,e.level1=this._level1,e.level2=this._level2,this._colors&&(e.colors=this._colors),this._areaRenderer.setData(e),this._areaRenderer},r.prototype._plotAId=function(){a(!1,"Pure virtual call!")},r.prototype._plotBId=function(){a(!1,"Pure virtual call!")},r.prototype._color=function(){a(!1,"Pure virtual call!")},r.prototype._transparency=function(){a(!1,"Pure virtual call!")},r.prototype._visible=function(){a(!1,"Pure virtual call!")},r.prototype._correctStartBarIndex=function(e){return e},inherit(o,r),o.prototype._plotAId=function(){return this._source.properties().area[0].name.value()},o.prototype._plotBId=function(){return this._source.properties().area[1].name.value()},o.prototype._color=function(){return this._source.properties().areaBackground.backgroundColor.value()},o.prototype._transparency=function(){var e=this._source.properties().areaBackground.transparency.value();return d(e,0,100)},o.prototype._visible=function(){return this._source.properties().areaBackground.fillBackground.value()},inherit(s,r),s.prototype._initBandIndexes=function(e,t){var i,n;for(this._bandAKey=null,this._bandBKey=null,i=0;i<this._source.metaInfo().bands.length;++i)n=this._source.metaInfo().bands[i],null!==this._bandAKey||n.id!==e?null!==this._bandBKey||n.id!==t||(this._bandBKey=i):this._bandAKey=i},s.prototype._plotAId=function(){return this._fillMetaInfo.objAId},s.prototype._plotBId=function(){return this._fillMetaInfo.objBId},s.prototype._color=function(){return this._fillStyleProps.color.value()},s.prototype._transparency=function(){
return this._fillStyleProps.transparency.value()},s.prototype._visible=function(){return this._fillStyleProps.visible.value()},s.prototype._correctStartBarIndex=function(e){var t=this._source.getMinFirstBarIndexForPlot(this._fillMetaInfo.id);return Math.max(t,e)},t.PlotFillPaneView=s,t.AreaBackgroundPaneView=o},x5Tw:function(e,t,i){"use strict";function n(e){function t(e,t,o){if(g)g.show(e,o?void 0:n.bind(null,t));else{var a=s.tool.value();Promise.all([i.e(50),i.e(281),i.e("chart-event-hint")]).then(i.bind(null,"PN5r")).then(function(i){g=new i.ChartEventHintRenderer(Object(r.ensureNotNull)(m)),a===s.tool.value()&&g.show(e,o?void 0:n.bind(null,t))})}}function n(e){o.setValue(e,!0,{forceFlush:!0}),Object(r.ensureNotNull)(g).destroy(),null!==y&&y()}var d,p,f,_,m=e.getContainer()[0],g=null,y=null;s.tool.subscribe(function(){if(!Boolean(o.getBool(u))){var e=s.tool.value();Object(a.b)(e)&&"LineToolRegressionTrend"!==e&&!l.CheckMobile.any()?t(window.t("Click to set a point"),u):l.CheckMobile.any()&&"LineToolBrush"!==e&&Object(a.a)(e)?t(window.t("Move the point to position the anchor then tap to place"),u):g&&g.hide()}}),l.CheckMobile.any()||Boolean(o.getBool(h))||(p=function(e){var i;Boolean(o.getBool(h))||(e?g&&(y=null,n(h)):(i=c.isMacKeyboard?"⌘":"Ctrl",t(window.t("Press and hold {0} while zooming to maintain the chart position").format(i),h)))},f=!1,_=function(e){e?(f&&p(e),d.onZoom().unsubscribe(null,_)):f||(p(e),f=!0)},(d=e).onZoom().subscribe(null,_),y=function(){return d.onZoom().unsubscribe(null,_)})}var r,o,s,a,l,c,u,h;i.r(t),i.d(t,"setupChartEventHint",function(){return n}),r=i("Eyy1"),i("YFKU"),o=i("Vdly"),s=i("mMWL"),a=i("e92V"),l=i("qFKp"),c=i("/3z9"),u="hint.touchPainting",h="hint.startFocusedZoom"},x8jL:function(e,t,i){"use strict";function n(){function e(e){var r,o,s;i.length>0?i[i.length-1].addCommand(e):(a.clear(),o=(r=n.head())&&r.text(),r&&r.canMerge(e)?r.merge(e):n.push(e),""!==(s=e.text())&&s!==o&&p.logNormal("DO: "+s)),e.executeOnPush()&&e.redo(),i.length||l.fire(t())}function t(){var e=n.head(),t=a.head();return{enableUndo:!n.isEmpty(),undoText:void 0===e?void 0:e.text(),enableRedo:!a.isEmpty(),redoText:void 0===t?void 0:t.text()}}var i=[],n=new o.UndoStack,a=new o.UndoStack,l=new d.a;return{beginUndoMacro:function(e){var t=new s.a(e);return i.push(t),t},clearStack:function(){n.clear(),a.clear(),l.fire(t())},createUndoCheckpoint:function(){return{lastActualCommand:n.isEmpty()?null:n.head()}},endUndoMacro:function(){var t=Object(r.ensureDefined)(i.pop());t.isEmpty()||e(t)},pushUndoCommand:e,redo:function(){if(a.isEmpty())return!1;var e=a.pop();return!!e&&(e.redo(),n.push(e),p.logNormal("REDO: "+e.text()),l.fire(t()),!0)},redoStack:function(){return a},setWatchedValue:function(t,i,n){if(t.value()!==i){var r=new c(t,i,n);e(r),r.redo()}},undo:function(){if(n.isEmpty())return!1;var e=n.pop();return!!e&&(e.undo(),a.push(e),p.logNormal("UNDO: "+e.text()),l.fire(t()),!0)},undoStack:function(){return n},undoToCheckpoint:function(e){for(;!n.isEmpty()&&e.lastActualCommand!==n.head();)n.pop().undo();a.clear(),
l.fire(t())},state:t,onChange:function(){return l}}}var r,o,s,a,l,c,u,h,d,p;i.r(t),r=i("Eyy1"),o=i("MY2c"),s=i("bOGh"),a=i("mrSG"),l=i("RDU5"),c=function(e){function t(t,i,n){var r=e.call(this,n)||this;return r._wv=t,r._newValue=i,r._oldValue=t.value(),r}return Object(a.__extends)(t,e),t.prototype.redo=function(){this._wv.setValue(this._newValue)},t.prototype.undo=function(){this._wv.setValue(this._oldValue)},t}(l.UndoCommand),u=i("uOxu"),h=i("aIyQ"),d=i.n(h),i.d(t,"createUndoHistory",function(){return n}),p=Object(u.getLogger)("Common.UndoHistory")},xD5v:function(e,t,i){"use strict";function n(e){var t=JSON.stringify(e);return t=t.replace(/'/g,"\\'")}var r=i("WqyU");e.exports={formatCallstudyArg:n,prepareCallStudyArgs:function(e,t){var i,o,s,a,l,c={};if(t.isTVScript)i=t.defaults.inputs.text,c.text=r.patchILTemplate(i,t,e);else for(s=(o=Object.keys(e)).length-1;s>=0;s--)(l=e[a=o[s]]?e[a].id:null)&&e[l]&&(c[l]=e[l]);return n(c)}}},xUGI:function(e,t,i){"use strict";function n(e){this._fibLevelsBasedOnLogScaleProperty=e,this._sourcesToRow={},this._rowsToSources={},this._currentSymbol="",this._actualCapacity=1,this._actualWidth=1,this._numericFormatter=new o,this._percentageFormatter=new r,this._canvas=l(document,new h(this._actualWidth,n.ROW_HEIGHT*this._actualCapacity)),this._cache=c(this._canvas.canvas)}var r=i("GH0z").PercentageFormatter,o=i("zXvd").NumericFormatter,s=i("zDbI").CHART_FONT_FAMILY,a=i("d1Pk").fibLevelPrice,l=i("ikwP").createDisconnectedBoundCanvas,c=i("ikwP").getPrescaledContext2D,u=i("ikwP").resizeCanvasPreservingContent,h=i("ikwP").Size;n.prototype.destroy=function(){this._canvas.destroy(),this._cache=null},n.prototype.levelsCount=function(){return 0},n.prototype.topByRow=function(e){return e*n.ROW_HEIGHT},n.prototype.rowHeight=function(e){return n.ROW_HEIGHT},n.prototype.devicePixelRatio=function(){return this._canvas&&this._canvas.pixelRatio||0},n.prototype._recreateCanvas=function(e,t){this._canvas=u(this._canvas,new h(e,t)),this._cache=c(this._canvas.canvas),this._cache.font="12px "+s},n.prototype.canvas=function(){return this._canvas.canvas},n.ROW_HEIGHT=14,n.prototype.points=function(e){return[e.points()[0],e.points()[1]]},n.prototype.startPoint=function(e,t){var i,n=t?e.points()[0].price:e.points()[1].price;return this._calculateLogLevels(e)?(i=e.ownerSource().firstValue(),{price:n,coordinate:e.priceScale().priceToCoordinate(n,i)}):{price:n}},n.prototype.priceRange=function(e,t){var i,n,r,o,s=this.points(e),a=s[0],l=s[1],c=t?l.price-a.price:a.price-l.price;return this._calculateLogLevels(e)?(i=e.priceScale(),n=e.ownerSource().firstValue(),r=i.priceToCoordinate(a.price,n),o=i.priceToCoordinate(l.price,n),{price:c,coordinate:t?o-r:r-o}):{price:c}},n.prototype.sourceIsReady=function(e){return e.points().length>=2},n.prototype._calculateLogLevels=function(e){return e.fibLevelsBasedOnLogScale&&e.fibLevelsBasedOnLogScale()},n.prototype._calculateWidth=function(e){var t,i,n,r,o,l,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T;if(!this.sourceIsReady(e))return null;if((t=c(this.canvas())).font="12px "+s,
i=!!e.properties().showPrices&&e.properties().showPrices.value(),n=!!e.properties().coeffsAsPercents&&e.properties().coeffsAsPercents.value(),r=e.properties().showCoeffs.value(),l=(o=this.points(e))[0],u=o[1],!l||!u)return null;if(null===(h=e.ownerSource().firstValue()))return 0;for(d=!1,(p=e.properties()).reverse&&p.reverse.value()&&(d=p.reverse.value()),f=this.startPoint(e,d),_=this.priceRange(e,d),m=this._calculateLogLevels(e),g=0,y=[],v=1;v<=this.levelsCount();v++)b=p["level"+v].coeff.value(),S="",r&&(S+=n?this._percentageFormatter.format(Math.round(1e4*b)/100):this._numericFormatter.format(b)),i&&(w=e.priceScale(),P=a(f,_,b,w,h,m),S+="("+w.formatPrice(P,h)+")"),T={text:S,left:g,width:t.measureText(S).width+4},y.push(T),g+=T.width;return{totalWidth:g,cells:y}},n.prototype._effectiveState=function(e){var t,i,n,r,o={},s=e.properties();for(s.showPrices&&(o.showPrices=s.showPrices.value()),s.coeffsAsPercents&&(o.coeffsAsPercents=s.coeffsAsPercents.value()),o.showCoeffs=s.showCoeffs.value(),(t=e.priceScale())&&(t.formatter().state&&(o.formatter=e.priceScale().formatter().state()),o.logLevels=this._calculateLogLevels(e)),s.reverse&&(o.reverse=s.reverse.value()),o.p1=e.points()[0],o.p2=e.points()[1],3===e.points().length&&(o.p3=e.points()[2]),o.items=[],i=1;i<=this.levelsCount();i++)r={coeff:(n=s["level"+i]).coeff.value(),color:n.color.value()},o.items.push(r);return o},n.prototype._findEmptyRow=function(e){for(var t=0;this._rowsToSources[t];)t++;return this._rowsToSources[t]=e,t>=this._actualCapacity&&(this._actualCapacity++,this._recreateCanvas(this._actualWidth,n.ROW_HEIGHT*this._actualCapacity)),t},n.prototype._repaintSource=function(e,t,i){var r,o,a=n.ROW_HEIGHT*i.row,l=c(this.canvas());for(l.clearRect(0,a,this._actualWidth,n.ROW_HEIGHT),l.textBaseline="bottom",l.font="12px "+s,a+=n.ROW_HEIGHT,r=0;r<e.cells.length;r++)o=e.cells[r],l.fillStyle=t.items[r].color,l.fillText(o.text,o.left,a)},n.prototype.removeSource=function(e){var t,i;this._sourcesToRow[e]&&(t=this._sourcesToRow[e].row,(i=c(this.canvas())).save(),i.clearRect(0,this.topByRow(t),this._actualWidth,n.ROW_HEIGHT),i.restore(),delete this._sourcesToRow[e],delete this._rowsToSources[t])},n.prototype._effectiveStatesEquals=function(e,t){var i,n=function(e,t){return!(!e&&!t)&&(!(!e||t)||(!(e||!t)||(e.minMove!==t.minMove||(e.minMove2!==t.minMove2||(e.fractional!==t.fractional||e.fractionalLength!==t.fractionalLength)))))},r=function(e,t){return!(!e&&!t)&&(!(!e||t)||(!(e||!t)||(e.index!==t.index||e.price!==t.price)))},o=function(e,t){return e.coeff!==t.coeff||e.color!==t.color};if(e&&!t)return!1;if(!e&&t)return!1;if(e.showPrices!==t.showPrices)return!1;if(e.coeffsAsPercents!==t.coeffsAsPercents)return!1;if(e.showCoeffs!==t.showCoeffs)return!1;if(e.reverse!==t.reverse)return!1;if(e.logLevels!==t.logLevels)return!1;if(n(e.formatter,t.formatter))return!1;if(r(e.p1,t.p1))return!1;if(r(e.p2,t.p2))return!1;if(r(e.p3,t.p3))return!1;if(e.items.length!==t.items.length)return!1;for(i=0;i<e.items.length;i++)if(o(e.items[i],t.items[i]))return!1;return!0},
n.prototype.updateSource=function(e){var t,i,r,o,s=e.properties().symbol.value();return this._currentSymbol!==s&&(this._currentSymbol=s,this._sourcesToRow={},this._rowsToSources={}),this._sourcesToRow[e.id()]||(t=this._findEmptyRow(e.id()),this._sourcesToRow[e.id()]={effectiveState:null,row:t}),i=this._sourcesToRow[e.id()].effectiveState,r=this._effectiveState(e),this._effectiveStatesEquals(i,r)||((o=this._calculateWidth(e))?(this._sourcesToRow[e.id()].effectiveState=r,o.totalWidth>this._actualWidth&&(this._recreateCanvas(o.totalWidth,n.ROW_HEIGHT*this._actualCapacity),this._actualWidth=o.totalWidth),t=this._sourcesToRow[e.id()],this._repaintSource(o,r,t),this._sourcesToRow[e.id()].effectiveState=r,this._sourcesToRow[e.id()].preparedCells=o):this._sourcesToRow[e.id()].effectiveState=null),this._sourcesToRow[e.id()]},e.exports=n},xWfy:function(e,t,i){"use strict";function n(e,t,i){var n=new Map;return e.forEach(function(e,r){var o=n.get(r)||new Set;e.forEach(function(e){var n=i(e,t);null!==n&&o.add(n)}),n.set(r,o)}),n}function r(e,t,i){var n,r,o,s=new Map;if(void 0===e)return s;for(n=function(e){var n=e.styleId,r=s.get(n)||new Set;e.data.forEach(function(e){var n=i(e,t);null!==n&&r.add(n)}),s.set(n,r)},r=0,o=e;r<o.length;r++)n(o[r]);return s}function o(e,t,i,n){var r=[];return e.forEach(function(e,o){e.forEach(function(e){!function(e,t,i){var n,r,o,s=null;for(n=0,r=e;n<r.length;n++)(o=r[n]).styleId===t&&(s=o);null===s&&(s={styleId:t,data:[]},e.push(s)),s.data.push(i)}(r,o,n(e,++t.currentId,i))})}),r.length>0?r:void 0}function s(){return new w}function a(e){return new w("state",e)}function l(e){var t=function(e){var t,i=new Set;e.horizlines().forEach(function(e,t){e.forEach(function(e){i.add(e.startIndex),i.add(e.endIndex)})}),e.vertlines().forEach(function(e,t){e.forEach(function(e){i.add(e.index)})}),e.lines().forEach(function(e,t){e.forEach(function(e){i.add(e.startIndex),i.add(e.endIndex)})}),e.textmarks().forEach(function(e,t){e.forEach(function(e){i.add(e.time)})}),e.shapemarks().forEach(function(e,t){e.forEach(function(e){i.add(e.time)})}),e.backgrounds().forEach(function(e,t){e.forEach(function(e){i.add(e.start),i.add(e.stop)})}),e.polygons().forEach(function(e,t){e.forEach(function(e){e.points.forEach(function(e){i.add(e.index)})})}),e.trendchannels().forEach(function(e,t){e.forEach(function(e){i.add(e.startIndex),i.add(e.endIndex)})}),e.hhists().forEach(function(e,t){e.forEach(function(e){i.add(e.firstBarTime),i.add(e.lastBarTime)})}),e.dwglabels().forEach(function(e,t){e.forEach(function(e){i.add(e.x)})}),e.dwglines().forEach(function(e,t){e.forEach(function(e){i.add(e.x1),i.add(e.x2)})});t=Array.from(i);return t.sort(function(e,t){return e-t}),t}(e),i={indexes:t},n={currentId:0};return i.vertlines=o(e.vertlines(),n,t,c.a),i.horizlines=o(e.horizlines(),n,t,d.a),i.lines=o(e.lines(),n,t,f.a),i.hlines=o(e.hlines(),n,t,p.b),i.textmarks=o(e.textmarks(),n,t,g.b),i.shapemarks=o(e.shapemarks(),n,t,m.a),i.backgrounds=o(e.backgrounds(),n,t,u.a),i.polygons=o(e.polygons(),n,t,_.a),
i.trendchannels=o(e.trendchannels(),n,t,y.a),i.hhists=o(e.hhists(),n,t,h.c),i.dwglabels=o(e.dwglabels(),n,t,v.d),i.dwglines=o(e.dwglines(),n,t,b.b),i}var c,u,h,d,p,f,_,m,g,y,v,b,S,w;i.d(t,"a",function(){return w}),i.d(t,"b",function(){return s}),i.d(t,"c",function(){return a}),i.d(t,"d",function(){return l}),c=i("SqfW"),u=i("+a6K"),h=i("KG+6"),d=i("fFKx"),p=i("VSsv"),f=i("t1rv"),_=i("5vwb"),m=i("6Y0w"),g=i("nInm"),y=i("sqlk"),v=i("vaiT"),b=i("2tp3"),S=i("7Fue"),w=function(){function e(e,t){var i,o;this._indexes=[],this._horizlines=new Map,this._vertlines=new Map,this._lines=new Map,this._hlines=new Map,this._textmarks=new Map,this._shapemarks=new Map,this._backgrounds=new Map,this._polygons=new Map,this._trendchannels=new Map,this._hhists=new Map,this._dwglabels=new Map,this._dwglines=new Map,"data"===e?(i=t,this._indexes=i.indexes,this._vertlines=n(i.vertlines,this._indexes,c.b),this._horizlines=n(i.horizlines,this._indexes,d.b),this._lines=n(i.lines,this._indexes,f.b),this._hlines=n(i.hlines,this._indexes,p.c),this._textmarks=n(i.textmarks,this._indexes,g.c),this._shapemarks=n(i.shapemarks,this._indexes,m.b),this._backgrounds=n(i.backgrounds,this._indexes,u.b),this._polygons=n(i.polygons,this._indexes,_.b),this._trendchannels=n(i.trendchannels,this._indexes,y.b),this._hhists=n(i.hhists,this._indexes,h.d),this._dwglabels=n(i.dwglabels,this._indexes,v.e),this._dwglines=n(i.dwglines,this._indexes,b.d)):"state"===e&&(o=t,this._indexes=o.indexes||[],this._vertlines=r(o.vertlines,this._indexes,c.b),this._horizlines=r(o.horizlines,this._indexes,d.b),this._lines=r(o.lines,this._indexes,f.b),this._hlines=r(o.hlines,this._indexes,p.c),this._textmarks=r(o.textmarks,this._indexes,g.c),this._shapemarks=r(o.shapemarks,this._indexes,m.b),this._backgrounds=r(o.backgrounds,this._indexes,u.b),this._polygons=r(o.polygons,this._indexes,_.b),this._trendchannels=r(o.trendchannels,this._indexes,y.b),this._hhists=r(o.hhists,this._indexes,h.d),this._dwglabels=r(o.dwglabels,this._indexes,v.e),this._dwglines=r(o.dwglines,this._indexes,b.d)),this._hhistsByTimePointIndex=Object(S.b)(this._hhists)}return e.prototype.horizlines=function(){return this._horizlines},e.prototype.vertlines=function(){return this._vertlines},e.prototype.lines=function(){return this._lines},e.prototype.hlines=function(){return this._hlines},e.prototype.textmarks=function(){return this._textmarks},e.prototype.shapemarks=function(){return this._shapemarks},e.prototype.backgrounds=function(){return this._backgrounds},e.prototype.polygons=function(){return this._polygons},e.prototype.trendchannels=function(){return this._trendchannels},e.prototype.hhists=function(){return this._hhists},e.prototype.dwglabels=function(){return this._dwglabels},e.prototype.dwglines=function(){return this._dwglines},e.prototype.hhistsByTimePointIndex=function(){return this._hhistsByTimePointIndex},e}()},xlAu:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._start=0,this._size=0,this._buffer=new Array(e)}
return e.prototype.size=function(){return this._size},e.prototype.capacity=function(){return this._buffer.length},e.prototype.enqueue=function(e){this._size<this._buffer.length?this._size++:this._start=(this._start+1)%this._buffer.length;var t=(this._start+this._size-1)%this._buffer.length;this._buffer[t]=e},e.prototype.dequeue=function(){if(0===this._size)throw new Error("Buffer is empty");var e=this._buffer[this._start];return this._buffer[this._start]=void 0,this._start=(this._start+1)%this._buffer.length,this._size--,e},e.prototype.get=function(e){if(e>=this._size)throw new Error("Index is out of range");var t=(this._start+e)%this._buffer.length;return this._buffer[t]},e.prototype.forEach=function(e,t){var i,n;for(i=0;i<this._size;i++)n=(this._start+i)%this._buffer.length,e.call(t,this._buffer[n],n,this)},e.prototype.clear=function(){var e,t=this._buffer.length;for(e=0;e<t;e++)this._buffer[e]=void 0;this._start=0,this._size=0},e}();t.CircularBuffer=n},xlKU:function(e,t,i){"use strict";function n(e){return new Promise(function(t){Promise.all([i.e("vendors_embed"),i.e("dialogs-core"),i.e(0),i.e(1),i.e(3),i.e(5),i.e(46),i.e(47),i.e(210),i.e(8),i.e(42),i.e(111),i.e(145),i.e("signin-dialog")]).then(function(n){var r=i("YTu0");t(r.showSignModal(e)),o=r.isSignModalOpen}.bind(null,i)).catch(void 0)})}function r(){return o()}i.r(t),i.d(t,"showSignModal",function(){return n}),i.d(t,"isSignModalOpen",function(){return r});var o=function(){return!1}},xlbu:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h,d,p,f,_;i.r(t),i.d(t,"Telemetry",function(){return f}),i.d(t,"telemetry",function(){return _}),n=i("bSeV"),r=i("aIyQ"),o=i.n(r),s=i("BHQF"),a=i("qFKp"),l=i("iKPL"),c=i("uOxu"),u=Object(c.getLogger)("Common.Telemetry"),h=15e3,d=["before_websocket_connection_time_frame","websocket_connection_time_frame","first_series_full_time_frame","page_full_load_time_frame","page_load_time_frame"],p="0",_=new(f=function(){function e(){this.reportSent=new o.a,this.timeCounters={series:{marks:[]},study:{},pine:{}},this._timeout=null,this._commonAdditionalData={cluster:null,userId:p},this._reportStash={}}return e.prototype.setSessionInfo=function(e){var t=this._parseCluster(e);null!==t&&(this._commonAdditionalData.cluster=t)},e.prototype.sendReport=function(e,t,i){var n,r;this._isAbleToSendReport(t)&&(n=this._getSubserviceType(e),null!==(r=this._getHost(e,n))?(i=void 0===i?{count:1}:i,this._addReportToStash(i,t,r),this._timeout||(this._timeout=setTimeout(this._sendTelemetryToService.bind(this),h))):u.logError("Unable to get host for counter: "+t+", metric type: "+e+", serivce type: "+n))},e.prototype.sendChartReport=function(e,t,i){void 0===i&&(i=!0),this._updateUserInfo(),t=void 0===t?{count:1}:t,i&&(t=this._appendCommonAdditionalInfo(t,["cluster","userId"])),this.sendReport("charts",e,t)},e.prototype._updateUserInfo=function(){var e="user"in window&&"id"in window.user?window.user.id:p;this._commonAdditionalData.userId=String(e)},e.prototype._isAbleToSendReport=function(e){
var t=window.TELEMETRY_HOSTS,i=d.includes(e),n=Boolean(window.TradingView.onChartPage||Object(a.onWidget)());return t&&(!i||n)},e.prototype._sendTelemetryToService=function(){var e,t,i;for(e in this._reportStash)this._reportStash.hasOwnProperty(e)&&(t=this._renameAllParams(this._reportStash[e]),i={event:"report_stash",params:this._cleanAllParams(t)},u.logDebug("Report to host: "+e+"; stash: "+JSON.stringify(this._reportStash[e])),this.reportSent.fire(this._reportStash[e]),delete this._reportStash[e],Object(s.fetch)(e+"/report",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(i)}));this._timeout=null},e.prototype._getHost=function(e,t){var i=window.TELEMETRY_HOSTS,n=i[e]&&i[e][t];return Boolean(n)?n:null},e.prototype._getSubserviceType=function(e){var t="free";return Object(a.onWidget)()?t="widget":window.user.is_pro&&(t="pro"),["charts","site"].includes(e)||(t="all"),t},e.prototype._parseCluster=function(e){var t,i;try{t=JSON.parse(e).session_id}catch(e){return u.logError("Could not parse cluster id (session id)"),null}return null!==(i=/(.*@)(.*)/gi.exec(t))&&i.length>=3?i[2]:null},e.prototype._appendCommonAdditionalInfo=function(e,t){var i=this;return t.forEach(function(t){t in i._commonAdditionalData&&(e.additional=e.additional||{},e.additional[t]=i._commonAdditionalData[t])}),e},e.prototype._renameAllParams=function(e){var t,i=this,n={},r=function(t){e.hasOwnProperty(t)&&(n[t]=[],e[t].forEach(function(e){n[t].push(i._renameEntryParams(e))}))};for(t in e)r(t);return n},e.prototype._renameEntryParams=function(e){var t={count:"c",value:"v",text:"t",additional:"a"};return Object.keys(e).reduce(function(i,n){return i[t[n]]=e[n],i},{})},e.prototype._cleanAllParams=function(e){var t,i=this,n={},r=function(t){if(e.hasOwnProperty(t)){n[t]=[];var r={c:0};e[t].forEach(function(e){var o=i._cleanEntryParams(e),s=Object.keys(o).length;1===s&&void 0!==o.c?r.c+=o.c:s>0&&n[t].push(o)}),r.c>0&&n[t].push(r),0===n[t].length&&delete n[t]}};for(t in e)r(t);return n},e.prototype._cleanEntryParams=function(e){var t=Object.keys(e).reduce(function(t,i){return"c"!==i&&"t"!==i||e[i]?(t[i]=e[i],t):t},{});return"c"in t||"v"in t||"t"in t?t:{}},e.prototype._addReportToStash=function(e,t,i){i in this._reportStash||(this._reportStash[i]={}),t in this._reportStash[i]||(this._reportStash[i][t]=[]),Object.keys(e).length>0&&this._reportStash[i][t].push(e)},e}())},xnA2:function(e,t,i){"use strict";function n(){a.call(this)}function r(e,t){this._constructor="LineToolFibChannel";var s=t||r.createProperties();o.call(this,e,s),this.version=r.version,e._fibChannelLabelsCache||(e._fibChannelLabelsCache=new n),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("CR3a").FibChannelPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var o=i("Ss5c").LineDataSource,s=i("5rJj"),a=i("xUGI"),l=i("hayr").propertyPages,c=window.t("Fib Channel");inherit(n,a),n.prototype.levelsCount=function(){return r.LevelsCount},inherit(r,o),r.LevelsCount=24,r.version=2,
r.prototype.levelsCount=function(){return r.LevelsCount},r.prototype.migrateVersion=function(e,t,i){i.properties.removeProperty("reverse")},r.prototype.pointsCount=function(){return 3},r.prototype.translatedType=function(){return c},r.prototype.name=function(){return"Fib Channel"},r.prototype.processErase=function(e,t){var i="level"+t,n=this.properties()[i].visible;e.setProperty(n,!1,"Erase level line")},r.prototype.getStylesPropertyPage=function(){return l.LineToolFibChannelStylesPropertyPage},r.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("17v9").FibDrawingsWith24LevelsDefinitionsViewModel}.bind(null,i)).catch(i.oe)},r.createProperties=function(e){var t=new s("linetoolfibchannel",e,!1,{range:[1,24],names:["coeff","color","visible"]});return r._configureProperties(t),t},r._configureProperties=function(e){o._configureProperties(e)},t.LineToolFibChannel=r},xrEm:function(e,t,i){},xtHi:function(e,t,i){"use strict";function n(e,t){var i,n=Object.assign({},t),r=e.bridge().container.value();return r&&(n.useStylesFrom=r.ownerDocument||void 0),!!(i=h(n))&&(e.pushOwner(i.allocate()),!0)}function r(e){var t=Object(o.ensureNotNull)(e.ownerDocument),i=Object(o.ensureNotNull)(t.defaultView),n=e.getBoundingClientRect(),r={left:n.left+i.pageXOffset,top:n.top+i.pageYOffset,width:e.clientWidth,height:e.clientHeight},s=i.innerWidth/t.documentElement.clientWidth;return isFinite(s)&&(r.left*=s,r.top*=s,r.width*=s,r.height*=s),r.left+=i.screenLeft||i.screenX||0,r.top+=i.screenTop||i.screenY||0,r}var o,s,a,l,c,u,h;i.r(t),i.d(t,"detachToPopup",function(){return n}),i.d(t,"screenBox",function(){return r}),o=i("Eyy1"),s=i("lW/c"),a=i("6et/"),l=i("lxNp"),c=function(e,t){var i,n,r,o,s,a,l=e.querySelectorAll('style, link[rel~="stylesheet"]'),c=t.createDocumentFragment();for(i=0;i<l.length;i++){for(n=l[i],r=t.createElement(n.tagName),o=0;o<n.attributes.length;o++)s=n.attributes[o],r.setAttribute(s.nodeName,s.nodeValue||"");(a=n.textContent)&&(r.textContent=a),c.appendChild(r)}return c},u=function(e,t,n){var r,o,s=!1;Object(a.listen)(t),Object(l.registerWindow)(t),r=null,Promise.all([Promise.resolve().then(i.bind(null,"oiZD")),Promise.resolve().then(i.bind(null,"bMzf"))]).then(function(e){var i=e[0],n=e[1];s||(r=i.watchedTheme.spawn()).subscribe(function(e){n.applyTheme(e,t)},{callWithLast:!0})}),Promise.resolve().then(i.bind(null,"lxNp")).then(function(e){s||e.registerWindow(t)}),o=function(){s=!0,e&&e.removeEventListener("unload",o,!1),t&&(t.removeEventListener("unload",o,!1),t.close()),n&&n.free(),r&&(r.destroy(),r=null)},e.addEventListener("unload",o,!1),t.addEventListener("unload",o,!1)},h=function(e){var t,i,n,r,o,a,l,h,d;for(void 0===e&&(e={}),t="menubar=no,toolbar=no,location=no,personalbar=no,status=no",i=0,n=["top","left","width","height"];i<n.length;i++)r=n[i],o=Number(e[r]),isFinite(o)&&o>=0&&(t+=","+r+"="+o);if(!(a=window.open("",e.name||"_blank",t))||a.closed)return null;l=null;try{(l=a.document).close()}catch(e){
return null}return l.open(),l.write('<!DOCTYPE html><html><head><meta http-equiv="X-UA-Compatible" content="IE=Edge" /></head><body></body></html>'),l.close(),null!=e.title&&(l.title=String(e.title)),e.useStylesFrom&&(l.head.appendChild(c(e.useStylesFrom,l)),(h=l.createElement("style")).textContent="html, body {min-width: 0 !important; max-width: none !important}",l.head.appendChild(h)),d=new s.Root(a),u(window,a,d),d}},"xz+e":function(e,t,i){"use strict";function n(e,t){var r=t||n.createProperties();h.call(this,e,r),this.version=n.version,Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("Ht/7").ElliottLabelsPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}function r(e,t){n.call(this,e,t)}function o(e,t){this._constructor="LineToolElliottImpulse";var i=t||o.createProperties();r.call(this,e,i)}function s(e,t){this._constructor="LineToolElliottTriangle";var i=t||s.createProperties();r.call(this,e,i)}function a(e,t){this._constructor="LineToolElliottTripleCombo";var i=t||a.createProperties();r.call(this,e,i)}function l(e,t){n.call(this,e,t)}function c(e,t){this._constructor="LineToolElliottCorrection";var i=t||c.createProperties();l.call(this,e,i)}function u(e,t){var i=t||u.createProperties();l.call(this,e,i),this._constructor="LineToolElliottDoubleCombo"}var h=i("Ss5c").LineDataSource,d=i("7KDR").Action,p=i("Ocx9").DefaultProperty,f=i("hayr").propertyPages,_=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],m=window.t("Elliott Impulse Wave (12345)"),g=window.t("Elliott Triangle Wave (ABCDE)"),y=window.t("Elliott Triple Combo Wave (WXYXZ)"),v=window.t("Elliott Correction Wave (ABC)"),b=window.t("Elliott Double Combo Wave (WXY)"),S=[{value:_[0],title:window.t("Supermillennium")},{value:_[1],title:window.t("Millennium")},{value:_[2],title:window.t("Submillennium")},{value:_[3],title:window.t("Grand Supercycle")},{value:_[4],title:window.t("Supercycle")},{value:_[5],title:window.t("Cycle")},{value:_[6],title:window.t("Primary")},{value:_[7],title:window.t("Intermediate")},{value:_[8],title:window.t("Minor",{context:"wave"})},{value:_[9],title:window.t("Minute",{context:"wave"})},{value:_[10],title:window.t("Minuette")},{value:_[11],title:window.t("Subminuette")},{value:_[12],title:window.t("Micro")},{value:_[13],title:window.t("Submicro")},{value:_[14],title:window.t("Miniscule")}];inherit(n,h),n.version=4,n.migrateState=function(e){var t={0:11,1:10,2:9,3:8,4:7,5:6,6:5,7:4,8:3},i={0:11,1:8};"LineToolElliottSubminuette"===e.type&&(e.type="LineToolElliottImpulse",e.state.degree=t[e.state.wavesize]),"LineToolElliottMinor"===e.type&&(e.type="LineToolElliottImpulse",e.state.degree=t[e.state.wavesize]),"LineToolElliottCircle"===e.type&&(e.type="LineToolElliottImpulse",e.state.degree=t[e.state.wavesize]),"LineToolElliottMinorRetr"===e.type&&(e.type="LineToolElliottCorrection",e.state.degree=i[e.state.wavesize]),"LineToolElliottMajorRetr"===e.type&&(e.type="LineToolElliottCorrection",e.state.degree=i[e.state.wavesize])},n.prototype.migrateVersion=function(e,t,i){
if(i.properties.hasChild("background")&&i.properties.removeProperty("background"),i.properties.hasChild("backgroundColor")&&i.properties.removeProperty("backgroundColor"),i.properties.hasChild("showBackground")&&i.properties.removeProperty("showBackground"),1===e){var n=Object.assign({},this._timePoint[0]);this._timePoint.unshift(n),this._points.length>0&&(n=Object.assign({},this._points[0]),this._points.unshift(n))}},n.prototype.applyTemplate=function(e){delete e.background,delete e.backgroundColor,delete e.showBackground,h.prototype.applyTemplate.call(this,e)},n.prototype.translatedType=function(){return"Elliott Labels"},n.prototype.name=function(){return"Elliott Labels"},n.prototype.additionalActions=function(e){var t=this,i=new d({label:window.t("Degree"),subItems:_.map(function(i){var n=S.filter(function(e){return e.value===i})[0];return new d({label:n.title,checkable:!0,checked:t.properties().degree.value()===i,onExecute:function(){e.setProperty(t.properties().degree,i,"Change Elliott Degree")}})})});return[i]},n.prototype.label=function(e){var t=_.length-this.properties().degree.value()-1,i=Math.floor(t/3),n=t%3,r=4*Math.floor(i),o=!!(i%2),s=["","brackets","circle"][n],a=this.labelsGroup(),l=a[i][e];return{fontIncrease:r,bold:o,decoration:s,label:l}},n.prototype.getStylesPropertyPage=function(){return f.LineToolElliottStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("UHSU").ElliottPatternDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.prototype.availableDegreesValues=function(){return S},n.prototype.getDegrees=function(){return S.map(function(e){return e.title})},n.createProperties=function(e){var t=new p("linetoolelliott",e);return n._configureProperties(t),t},n._configureProperties=function(e){h._configureProperties(e)},inherit(r,n),r.prototype.pointsCount=function(){return 6},r._configureProperties=function(e){n._configureProperties(e)},inherit(o,r),o._labelsGroups=[["0","1","2","3","4","5"],["0","i","ii","iii","iv","v"],["0","1","2","3","4","5"],["0","I","II","III","IV","V"],["0","1","2","3","4","5"]],o.prototype.translatedType=function(){return m},o.prototype.name=function(){return"Elliott Impulse Wave (12345)"},o.prototype.labelsGroup=function(){return o._labelsGroups},o.createProperties=function(e){var t=new p("linetoolelliottimpulse",e);return o._configureProperties(t),t},o._configureProperties=function(e){r._configureProperties(e)},inherit(s,r),s._labelsGroups=[["0","A","B","C","D","E"],["0","a","b","c","d","e"],["0","A","B","C","D","E"],["0","a","b","c","d","e"],["0","A","B","C","D","E"]],s.prototype.translatedType=function(){return g},s.prototype.name=function(){return"Elliott Triangle Wave (ABCDE)"},s.prototype.labelsGroup=function(){return s._labelsGroups},s.createProperties=function(e){var t=new p("linetoolelliotttriangle",e);return s._configureProperties(t),t},s._configureProperties=function(e){r._configureProperties(e)},inherit(a,r),
a._labelsGroups=[["0","W","X","Y","X","Z"],["0","w","x","y","x","z"],["0","W","X","Y","X","Z"],["0","w","x","y","x","z"],["0","W","X","Y","X","Z"]],a.prototype.translatedType=function(){return y},a.prototype.name=function(){return"Elliott Triple Combo Wave (WXYXZ)"},a.prototype.labelsGroup=function(){return a._labelsGroups},a.createProperties=function(e){var t=new p("linetoolelliotttriplecombo",e);return a._configureProperties(t),t},a._configureProperties=function(e){r._configureProperties(e)},inherit(l,n),l.prototype.pointsCount=function(){return 4},l._configureProperties=function(e){n._configureProperties(e)},inherit(c,l),c._labelsGroups=[["0","A","B","C"],["0","a","b","c"],["0","A","B","C"],["0","a","b","c"],["0","A","B","C"]],c.prototype.translatedType=function(){return v},c.prototype.name=function(){return"Elliott Correction Wave (ABC)"},c.prototype.labelsGroup=function(){return c._labelsGroups},c.createProperties=function(e){var t=new p("linetoolelliottcorrection",e);return c._configureProperties(t),t},c._configureProperties=function(e){l._configureProperties(e)},inherit(u,l),u._labelsGroups=[["0","W","X","Y"],["0","w","x","y"],["0","W","X","Y"],["0","w","x","y"],["0","W","X","Y"]],u.prototype.translatedType=function(){return b},u.prototype.name=function(){return"Elliott Double Combo Wave (WXY)"},u.prototype.labelsGroup=function(){return u._labelsGroups},u.createProperties=function(e){var t=new p("linetoolelliottdoublecombo",e);return u._configureProperties(t),t},u._configureProperties=function(e){l._configureProperties(e)},t.LineToolElliott=n,t.LineToolElliottImpulse=o,t.LineToolElliottTriangle=s,t.LineToolElliottTripleCombo=a,t.LineToolElliottCorrection=c,t.LineToolElliottDoubleCombo=u},y8Ih:function(e,t,i){"use strict";function n(e){return!!e&&(!(void 0===e.symbolname||!Object(r.isSfFlag)(e.symbolname))||Boolean("permission_denied"===e.status&&e.values&&void 0!==e.values.alternative&&Object(r.isSfFlag)(e.values.alternative)))}i.r(t),i.d(t,"isSfQuoteData",function(){return n});var r=i("hfc+")},yUly:function(e,t,i){"use strict";function n(e,t){var o,s,l;for(this._constructor="LineToolTrendBasedFibTime",o=t||n.createProperties(),r.call(this,e,o),this.version=n.version,Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("SvjA").TrendBasedFibTimePaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe),s=[this._properties.child("trendline").child("linewidth")],l=1;l<=n.LevelsCount;l++)s.push(this._properties.child("level"+l).child("linewidth"));this._widthsProperty=new a(s)}var r=i("Ss5c").LineDataSource,o=i("5rJj"),s=i("hayr").propertyPages,a=i("ytGH").LineToolWidthsProperty,l=window.t("Trend-Based Fib Time");inherit(n,r),n.LevelsCount=11,n.prototype.levelsCount=function(){return n.LevelsCount},n.version=1,n.prototype.pointsCount=function(){return 3},n.prototype.translatedType=function(){return l},n.prototype.name=function(){return"Trend-Based Fib Time"},n.prototype.migrateVersion=function(e,t,i){},n.prototype.processErase=function(e,t){
var i="level"+t,n=this.properties()[i].visible;e.setProperty(n,!1,"Erase level line")},n.prototype.getStylesPropertyPage=function(){return s.LineToolTrendBasedFibTimeStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("u52p").TrendBasedFibTimeDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new o("linetooltrendbasedfibtime",e,!1,{range:[1,11]});return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolTrendBasedFibTime=n},yfAl:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u;i.r(t),i.d(t,"PaneBase",function(){return u}),n=i("aO4+"),r=i("Eyy1"),o=i("aIyQ"),s=i.n(o),a=i("0waE"),l=i("Y7w9"),c=i("s1Gx"),u=function(){function e(){this._id=Object(a.randomHashN)(6),this._sourcesById=new Map,this._dataSourcesCollectionChanged=new s.a,this._tagsChanged=new s.a,this._stretchFactor=1e3}return e.prototype.id=function(){return this._id},e.prototype.dataSourceForId=function(e){return this._sourcesById.get(e)||null},e.prototype.replaceSource=function(e,t,i){var n=e.zorder();this.insertDataSource(t,i,n),this.removeDataSource(e),this._sourcesById.set(t.id(),t)},e.prototype.setZOrder=function(e,t){e.setZorder(t),this._invalidateSourcesCache(),this._dataSourcesCollectionChanged.fire()},e.prototype.setZOrders=function(e){e.forEach(function(e,t){t.setZorder(e)}),this._invalidateSourcesCache(),this._dataSourcesCollectionChanged.fire(),this.model().lightUpdate()},e.prototype.containsMainSeries=function(){return this._sourcesById.has(this.model().mainSeries().id())},e.prototype.sendToBack=function(e){this._batchReorder(e,0,l.moveBefore)},e.prototype.bringToFront=function(e){var t=this.allOrderedSourcesWithoutSpecial().length-1;this._batchReorder(e,t,l.moveAfter)},e.prototype.sendBackward=function(e){var t,i=this.allOrderedSources(),n=i.indexOf(e[0]);0===n?this.bringToFront(e):(t=i[n-1],this.insertBefore(e,t))},e.prototype.bringForward=function(e){var t,i=this.allOrderedSourcesWithoutSpecial(),n=i.indexOf(e[e.length-1]);n===i.length-1?this.sendToBack(e):(t=i[n+1],this.insertAfter(e,t))},e.prototype.insertAfter=function(e,t){var i=this.allOrderedSources(),n=i.indexOf(t);this._batchReorder(e,n,l.moveAfter)},e.prototype.insertBefore=function(e,t){var i=this.allOrderedSources(),n=i.indexOf(t);this._batchReorder(e,n,l.moveBefore)},e.prototype.setPaneSize=function(e){var t;switch(e){case"large":t=1;break;case"medium":t=.6;break;case"small":t=.3;break;case"tiny":t=.15;break;default:throw new Error("Unknown size enum value: "+e)}this._stretchFactor=1e3*t},e.prototype.stretchFactor=function(){return this._stretchFactor},e.prototype.setStretchFactor=function(e){this._stretchFactor=e},e.prototype.onTagsChanged=function(){return this._tagsChanged},e.prototype.dataSourcesCollectionChanged=function(){return this._dataSourcesCollectionChanged},e.prototype.allOrderedSourcesWithoutSpecial=function(){
return this.allOrderedSources().filter(function(e){return e.zorder()<c.specialZOrderBase})},e.prototype.logicalRectToPixels=function(e){var t=this.defaultPriceScale(),i=this.timeScale(),o=Object(r.ensureNotNull)(Object(r.ensureNotNull)(t.mainSource()).firstValue()),s=t.priceToCoordinate(e.p1.price,o),a=i.indexToCoordinate(e.p1.index),l=t.priceToCoordinate(e.p2.price,o),c=i.indexToCoordinate(e.p2.index),u=new n.Point(Math.min(a,c),Math.min(s,l)),h=new n.Point(Math.max(a,c),Math.max(s,l));return Object(n.box)(u,h)},e.prototype._batchReorder=function(e,t,i){var n=this.allOrderedSources(),r=i(n,e,t);r.forEach(function(e,t){return e.setZorder(t+1)}),this._invalidateSourcesCache(),this._dataSourcesCollectionChanged.fire(),this.model().lightUpdate()},e}()},yi8X:function(e,t,i){"use strict";var n,r,o,s,a,l;i.r(t),i.d(t,"LineToolInfoLine",function(){return l}),n=i("mrSG"),r=i("Ocx9"),o=i("WPQD"),s=i("hayr"),a=window.t("Info Line"),l=function(e){function t(i,n){var r=e.call(this,i,n||t.createProperties())||this;return r._constructor="LineToolInfoLine",r}return Object(n.__extends)(t,e),t.prototype.pointsCount=function(){return 2},t.prototype.translatedType=function(){return a},t.prototype.name=function(){return"Info Line"},t.prototype.getStylesPropertyPage=function(){return s.propertyPages.LineToolInfoLineStylesPropertyPage},t.createProperties=function(e){var i=new r.DefaultProperty("linetoolinfoline",e);return t._configureProperties(i),i},t._configureProperties=function(e){o.LineToolTrendLine._configureProperties(e)},t}(o.LineToolTrendLine)},yl30:function(e,t,i){"use strict";function n(e){for(var t=arguments.length-1,i="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)i+="&args[]="+encodeURIComponent(arguments[n+1]);!function(e,t,i,n,r,o,s,a){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[i,n,r,o,s,a],c=0;(e=Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",i)}function r(e,t,i,n,r,o,s,a,l){kn=!1,Dn=null,function(e,t,i,n,r,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(i,c)}catch(e){this.onError(e)}}.apply(Bn,arguments)}function o(){var e,t,i,r,o,a,l,c,u;if(Nn)for(e in Fn)if(t=Fn[e],-1<(i=Nn.indexOf(e))||n("96",e),!jn[i])for(r in t.extractEvents||n("97",e),jn[i]=t,i=t.eventTypes){if(o=void 0,a=i[r],l=t,c=r,Wn.hasOwnProperty(c)&&n("99",c),Wn[c]=a,u=a.phasedRegistrationNames){for(o in u)u.hasOwnProperty(o)&&s(u[o],l,c);o=!0}else a.registrationName?(s(a.registrationName,l,c),o=!0):o=!1;o||n("98",r,e)}}function s(e,t,i){Un[e]&&n("100",e),Un[e]=t,Hn[e]=t.eventTypes[i].dependencies}function a(e,t,i){var o=e.type||"unknown-event";e.currentTarget=Yn(i),function(e,t,i,o,s,a,l,c,u){if(r.apply(this,arguments),kn){if(kn){var h=Dn;kn=!1,Dn=null}else n("198"),h=void 0
;Rn||(Rn=!0,Vn=h)}}(o,t,void 0,e),e.currentTarget=null}function l(e,t){return null==t&&n("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function c(e,t,i){Array.isArray(e)?e.forEach(t,i):e&&t.call(i,e)}function u(e){var t,i,n;if(e){if(t=e._dispatchListeners,i=e._dispatchInstances,Array.isArray(t))for(n=0;n<t.length&&!e.isPropagationStopped();n++)a(e,t[n],i[n]);else t&&a(e,t,i);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function h(e,t){var i,r=e.stateNode;if(!r)return null;if(!(i=zn(r)))return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}return e?null:(r&&"function"!=typeof r&&n("231",t,typeof r),r)}function d(e){if(null!==e&&(qn=l(qn,e)),e=qn,qn=null,e&&(c(e,u),qn&&n("95"),Rn))throw e=Vn,Rn=!1,Vn=null,e}function p(e){if(e[Qn])return e[Qn];for(;!e[Qn];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[Qn]).tag||6===e.tag?e:null}function f(e){return!(e=e[Qn])||5!==e.tag&&6!==e.tag?null:e}function _(e){if(5===e.tag||6===e.tag)return e.stateNode;n("33")}function m(e){return e[Zn]||null}function g(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function y(e,t,i){(t=h(e,i.dispatchConfig.phasedRegistrationNames[t]))&&(i._dispatchListeners=l(i._dispatchListeners,t),i._dispatchInstances=l(i._dispatchInstances,e))}function v(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,i=[];t;)i.push(t),t=g(t);for(t=i.length;0<t--;)y(i[t],"captured",e);for(t=0;t<i.length;t++)y(i[t],"bubbled",e)}}function b(e,t,i){e&&i&&i.dispatchConfig.registrationName&&(t=h(e,i.dispatchConfig.registrationName))&&(i._dispatchListeners=l(i._dispatchListeners,t),i._dispatchInstances=l(i._dispatchInstances,e))}function S(e){e&&e.dispatchConfig.registrationName&&b(e._targetInst,null,e)}function w(e){c(e,v)}function P(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}function T(e){if(er[e])return er[e];if(!$n[e])return e;var t,i=$n[e];for(t in i)if(i.hasOwnProperty(t)&&t in tr)return er[e]=i[t];return e}function C(){var e,t,i,n,r,o,s;if(cr)return cr;i=(t=lr).length,o=(r="value"in ar?ar.value:ar.textContent).length;for(e=0;e<i&&t[e]===r[e];e++);for(s=i-e,n=1;n<=s&&t[i-n]===r[o-n];n++);return cr=r.slice(e,1<n?1-n:void 0)}function x(){return!0}function I(){return!1}function E(e,t,i,n){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=i,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(i):"target"===r?this.target=n:this[r]=i[r]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?x:I,this.isPropagationStopped=I,this}function L(e,t,i,n){if(this.eventPool.length){
var r=this.eventPool.pop();return this.call(r,e,t,i,n),r}return new this(e,t,i,n)}function A(e){e instanceof this||n("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function O(e){e.eventPool=[],e.getPooled=L,e.release=A}function M(e,t){switch(e){case"keyup":return-1!==dr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function k(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}function D(e){if(e=Gn(e)){"function"!=typeof wr&&n("280");var t=zn(e.stateNode);wr(e.stateNode,e.type,t)}}function R(e){Pr?Tr?Tr.push(e):Tr=[e]:Pr=e}function V(){if(Pr){var e=Pr,t=Tr;if(Tr=Pr=null,D(e),t)for(e=0;e<t.length;e++)D(t[e])}}function B(e,t){return e(t)}function N(e,t,i){return e(t,i)}function F(){}function j(e,t){if(Cr)return e(t);Cr=!0;try{return B(e,t)}finally{Cr=!1,(null!==Pr||null!==Tr)&&(F(),V())}}function W(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!xr[e.type]:"textarea"===t}function U(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function H(e){if(!Jn)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t,i,n=z(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set)return t=r.get,i=r.set,Object.defineProperty(e,n,{configurable:!0,get:function(){return t.call(this)},set:function(e){o=""+e,i.call(this,e)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}(e))}function Y(e){var t,i,n;return!!e&&(!(t=e._valueTracker)||(i=t.getValue(),n="",e&&(n=z(e)?e.checked?"true":"false":e.value),(e=n)!==i&&(t.setValue(e),!0)))}function q(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Ur&&e[Ur]||e["@@iterator"])?e:null}function X(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Br:return"ConcurrentMode";case Mr:return"Fragment";case Or:return"Portal";case Dr:return"Profiler";case kr:return"StrictMode";case Fr:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case Vr:return"Context.Consumer";case Rr:return"Context.Provider";case Nr:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case jr:return X(e.type);case Wr:if(e=1===e._status?e._result:null)return X(e)}return null}function K(e){var t,i,n,r,o="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:t="";break e;default:i=e._debugOwner,n=e._debugSource,r=X(e.type),t=null,i&&(t=X(i.type)),i=r,r="",
n?r=" (at "+n.fileName.replace(Er,"")+":"+n.lineNumber+")":t&&(r=" (created by "+t+")"),t="\n    in "+(i||"Unknown")+r}o+=t,e=e.return}while(e);return o}function Q(e,t,i,n,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=e,this.type=t}function Z(e){return e[1].toUpperCase()}function J(e,t,i,n){var r=qr.hasOwnProperty(t)?qr[t]:null,o=null!==r?0===r.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]));o||(function(e,t,i,n){if(null===t||void 0===t||function(e,t,i,n){if(null!==i&&0===i.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,i,r,n)&&(i=null),n||null===r?function(e){return!!zr.call(Yr,e)||!zr.call(Gr,e)&&(Hr.test(e)?Yr[e]=!0:(Gr[e]=!0,!1))}(t)&&(null===i?e.removeAttribute(t):e.setAttribute(t,""+i)):r.mustUseProperty?e[r.propertyName]=null===i?3!==r.type&&"":i:(t=r.attributeName,n=r.attributeNamespace,null===i?e.removeAttribute(t):(i=3===(r=r.type)||4===r&&!0===i?"":""+i,n?e.setAttributeNS(n,t,i):e.setAttribute(t,i))))}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ee(e,t){var i=t.checked;return Ga({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:e._wrapperState.initialChecked})}function te(e,t){var i=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;i=$(null!=t.value?t.value:i),e._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ie(e,t){null!=(t=t.checked)&&J(e,"checked",t,!1)}function ne(e,t){ie(e,t);var i=$(t.value),n=t.type;if(null!=i)"number"===n?(0===i&&""===e.value||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?oe(e,t.type,i):t.hasOwnProperty("defaultValue")&&oe(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}""!==(i=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==i&&(e.name=i)}function oe(e,t,i){"number"===t&&e.ownerDocument.activeElement===e||(null==i?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}function se(e,t,i){return(e=E.getPooled(Kr.change,e,t,i)).type="change",R(i),w(e),e}function ae(e){d(e)}function le(e){if(Y(_(e)))return e}function ce(e,t){
if("change"===e)return t}function ue(){Qr&&(Qr.detachEvent("onpropertychange",he),Zr=Qr=null)}function he(e){"value"===e.propertyName&&le(Zr)&&j(ae,e=se(Zr,e,U(e)))}function de(e,t,i){"focus"===e?(ue(),Zr=i,(Qr=t).attachEvent("onpropertychange",he)):"blur"===e&&ue()}function pe(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return le(Zr)}function fe(e,t){if("click"===e)return le(t)}function _e(e,t){if("input"===e||"change"===e)return le(t)}function me(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=to[e])&&!!t[e]}function ge(){return me}function ye(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}function ve(e,t){if(ye(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++)if(!uo.call(t,i[n])||!ye(e[i[n]],t[i[n]]))return!1;return!0}function be(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function Se(e){2!==be(e)&&n("188")}function we(e){if(!(e=function(e){var t,i,r,o,s,a,l=e.alternate;if(!l)return 3===(l=be(e))&&n("188"),1===l?null:e;for(t=e,i=l;o=(r=t.return)?r.alternate:null,r&&o;){if(r.child===o.child){for(s=r.child;s;){if(s===t)return Se(r),e;if(s===i)return Se(r),l;s=s.sibling}n("188")}if(t.return!==i.return)t=r,i=o;else{for(s=!1,a=r.child;a;){if(a===t){s=!0,t=r,i=o;break}if(a===i){s=!0,i=r,t=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===t){s=!0,t=o,i=r;break}if(a===i){s=!0,i=o,t=r;break}a=a.sibling}s||n("189")}}t.alternate!==i&&n("190")}return 3!==t.tag&&n("188"),t.stateNode.current===t?e:l}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Pe(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Te(e,t){var i,n=e[0];t={phasedRegistrationNames:{bubbled:i="on"+((e=e[1])[0].toUpperCase()+e.slice(1)),captured:i+"Capture"},dependencies:[n],isInteractive:t},Po[e]=t,To[n]=t}function Ce(e){var t,i,n,r,o,s,a=e.targetInst,c=a;do{if(!c){e.ancestors.push(c);break}for(t=c;t.return;)t=t.return;if(!(t=3!==t.tag?null:t.stateNode.containerInfo))break;e.ancestors.push(c),c=p(t)}while(c);for(c=0;c<e.ancestors.length;c++){for(a=e.ancestors[c],i=U(e.nativeEvent),t=e.topLevelType,n=e.nativeEvent,r=null,o=0;o<jn.length;o++)(s=jn[o])&&(s=s.extractEvents(t,a,n,i))&&(r=l(r,s));d(r)}}function xe(e,t){if(!t)return null;var i=(xo(e)?Ee:Le).bind(null,e);t.addEventListener(e,i,!1)}function Ie(e,t){if(!t)return null;var i=(xo(e)?Ee:Le).bind(null,e);t.addEventListener(e,i,!0)}function Ee(e,t){N(Le,e,t)}function Le(e,t){var i,n;if(Eo){null===(i=p(i=U(t)))||"number"!=typeof i.tag||2===be(i)||(i=null),Io.length?((n=Io.pop()).topLevelType=e,n.nativeEvent=t,n.targetInst=i,e=n):e={topLevelType:e,
nativeEvent:t,targetInst:i,ancestors:[]};try{j(Ce,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Io.length&&Io.push(e)}}}function Ae(e){return Object.prototype.hasOwnProperty.call(e,Oo)||(e[Oo]=Ao++,Lo[e[Oo]]={}),Lo[e[Oo]]}function Oe(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Me(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ke(e,t){var i,n=Me(e);for(e=0;n;){if(3===n.nodeType){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Me(n)}}function De(){for(var e=window,t=Oe();t instanceof e.HTMLIFrameElement;){try{e=t.contentDocument.defaultView}catch(e){break}t=Oe(e.document)}return t}function Re(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Ve(e){var t,i,n,r=De(),o=e.focusedElem,s=e.selectionRange;if(r!==o&&o&&o.ownerDocument&&function e(t,i){return!(!t||!i)&&(t===i||(!t||3!==t.nodeType)&&(i&&3===i.nodeType?e(t,i.parentNode):"contains"in t?t.contains(i):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(i))))}(o.ownerDocument.documentElement,o)){null!==s&&Re(o)&&(r=s.start,void 0===(e=s.end)&&(e=r),"selectionStart"in o?(o.selectionStart=r,o.selectionEnd=Math.min(e,o.value.length)):(e=(r=o.ownerDocument||document)&&r.defaultView||window).getSelection&&(e=e.getSelection(),t=o.textContent.length,i=Math.min(s.start,t),s=void 0===s.end?i:Math.min(s.end,t),!e.extend&&i>s&&(t=s,s=i,i=t),t=ke(o,i),n=ke(o,s),t&&n&&(1!==e.rangeCount||e.anchorNode!==t.node||e.anchorOffset!==t.offset||e.focusNode!==n.node||e.focusOffset!==n.offset)&&((r=r.createRange()).setStart(t.node,t.offset),e.removeAllRanges(),i>s?(e.addRange(r),e.extend(n.node,n.offset)):(r.setEnd(n.node,n.offset),e.addRange(r))))),r=[];for(e=o;e=e.parentNode;)1===e.nodeType&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<r.length;o++)(e=r[o]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}function Be(e,t){var i=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Bo||null==Do||Do!==Oe(i)?null:("selectionStart"in(i=Do)&&Re(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},Vo&&ve(Vo,i)?null:(Vo=i,(e=E.getPooled(ko.select,Ro,e,t)).type="select",e.target=Do,w(e),e))}function Ne(e,t){return e=Ga({children:void 0},t),(t=function(e){var t="";return za.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Fe(e,t,i,n){if(e=e.options,t){t={};for(var r=0;r<i.length;r++)t["$"+i[r]]=!0;for(i=0;i<e.length;i++)r=t.hasOwnProperty("$"+e[i].value),
e[i].selected!==r&&(e[i].selected=r),r&&n&&(e[i].defaultSelected=!0)}else{for(i=""+$(i),t=null,r=0;r<e.length;r++){if(e[r].value===i)return e[r].selected=!0,void(n&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function je(e,t){return null!=t.dangerouslySetInnerHTML&&n("91"),Ga({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function We(e,t){var i=t.value;null==i&&(i=t.defaultValue,null!=(t=t.children)&&(null!=i&&n("92"),Array.isArray(t)&&(1>=t.length||n("93"),t=t[0]),i=t),null==i&&(i="")),e._wrapperState={initialValue:$(i)}}function Ue(e,t){var i=$(t.value),n=$(t.defaultValue);null!=i&&((i=""+i)!==e.value&&(e.value=i),null==t.defaultValue&&e.defaultValue!==i&&(e.defaultValue=i)),null!=n&&(e.defaultValue=""+n)}function He(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function ze(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ge(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ze(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function Ye(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&3===i.nodeType)return void(i.nodeValue=t)}e.textContent=t}function qe(e,t,i){return null==t||"boolean"==typeof t||""===t?"":i||"number"!=typeof t||0===t||Uo.hasOwnProperty(e)&&Uo[e]?(""+t).trim():t+"px"}function Xe(e,t){var i,n,r;for(i in e=e.style,t)t.hasOwnProperty(i)&&(n=0===i.indexOf("--"),r=qe(i,t[i],n),"float"===i&&(i="cssFloat"),n?e.setProperty(i,r):e[i]=r)}function Ke(e,t){t&&(zo[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&n("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&n("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||n("61")),null!=t.style&&"object"!=typeof t.style&&n("62",""))}function Qe(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ze(e,t){var i,n,r;for(i=Ae(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument),t=Hn[t],n=0;n<t.length;n++)if(r=t[n],!i.hasOwnProperty(r)||!i[r]){switch(r){case"scroll":Ie("scroll",e);break;case"focus":case"blur":Ie("focus",e),Ie("blur",e),i.blur=!0,i.focus=!0;break;case"cancel":case"close":H(r)&&Ie(r,e);break;case"invalid":case"submit":case"reset":break;default:-1===sr.indexOf(r)&&xe(r,e)}i[r]=!0}}function Je(){}function $e(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function et(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function tt(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling
;return e}function it(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function nt(e){0>Jo||(e.current=Zo[Jo],Zo[Jo]=null,Jo--)}function rt(e,t){Zo[++Jo]=e.current,e.current=t}function ot(e,t){var i,n,r,o=e.type.contextTypes;if(!o)return $o;if((i=e.stateNode)&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;for(r in n={},o)n[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function st(e){return null!==(e=e.childContextTypes)&&void 0!==e}function at(e){nt(ts),nt(es)}function lt(e){nt(ts),nt(es)}function ct(e,t,i){es.current!==$o&&n("168"),rt(es,t),rt(ts,i)}function ut(e,t,i){var r,o=e.stateNode;if(e=t.childContextTypes,"function"!=typeof o.getChildContext)return i;for(r in o=o.getChildContext())r in e||n("108",X(t)||"Unknown",r);return Ga({},i,o)}function ht(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||$o,is=es.current,rt(es,t),rt(ts,ts.current),!0}function dt(e,t,i){var r=e.stateNode;r||n("169"),i?(t=ut(e,t,is),r.__reactInternalMemoizedMergedChildContext=t,nt(ts),nt(es),rt(es,t)):nt(ts),rt(ts,i)}function pt(e){return function(t){try{return e(t)}catch(e){}}}function ft(e,t,i,n){return new function(e,t,i,n){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}(e,t,i,n)}function _t(e){return!(!(e=e.prototype)||!e.isReactComponent)}function mt(e,t){var i=e.alternate;return null===i?((i=ft(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,i.contextDependencies=e.contextDependencies,i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function gt(e,t,i,r,o,s){var a=2;if(r=e,"function"==typeof e)_t(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case Mr:return yt(i.children,o,s,t);case Br:return vt(i,3|o,s,t);case kr:return vt(i,2|o,s,t);case Dr:return(e=ft(12,i,t,4|o)).elementType=Dr,e.type=Dr,e.expirationTime=s,e;case Fr:return(e=ft(13,i,t,o)).elementType=Fr,e.type=Fr,e.expirationTime=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Rr:a=10;break e;case Vr:a=9;break e;case Nr:a=11;break e;case jr:a=14;break e;case Wr:a=16,r=null;break e}n("130",null==e?e:typeof e,"")}return(t=ft(a,i,t,o)).elementType=e,t.type=r,t.expirationTime=s,t}function yt(e,t,i,n){return(e=ft(7,e,n,t)).expirationTime=i,e}function vt(e,t,i,n){return e=ft(8,e,n,t),
t=0==(1&t)?kr:Br,e.elementType=t,e.type=t,e.expirationTime=i,e}function bt(e,t,i){return(e=ft(6,e,null,t)).expirationTime=i,e}function St(e,t,i){return(t=ft(4,null!==e.children?e.children:[],e.key,t)).expirationTime=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wt(e,t){e.didError=!1;var i=e.earliestPendingTime;0===i?e.earliestPendingTime=e.latestPendingTime=t:i<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),Ct(t,e)}function Pt(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var i=e.earliestPendingTime,n=e.latestPendingTime;i===t?e.earliestPendingTime=n===t?e.latestPendingTime=0:n:n===t&&(e.latestPendingTime=i),i=e.earliestSuspendedTime,n=e.latestSuspendedTime,0===i?e.earliestSuspendedTime=e.latestSuspendedTime=t:i<t?e.earliestSuspendedTime=t:n>t&&(e.latestSuspendedTime=t),Ct(t,e)}function Tt(e,t){var i=e.earliestPendingTime;return e=e.earliestSuspendedTime,i>t&&(t=i),e>t&&(t=e),t}function Ct(e,t){var i=t.earliestSuspendedTime,n=t.latestSuspendedTime,r=t.earliestPendingTime,o=t.latestPingedTime;0===(r=0!==r?r:o)&&(0===e||n<e)&&(r=n),0!==(e=r)&&i>e&&(e=i),t.nextExpirationTimeToWorkOn=r,t.expirationTime=e}function xt(e,t){if(e&&e.defaultProps)for(var i in t=Ga({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}function It(e,t,i,n){i=null===(i=i(n,t=e.memoizedState))||void 0===i?t:Ga({},t,i),e.memoizedState=i,null!==(n=e.updateQueue)&&0===e.expirationTime&&(n.baseState=i)}function Et(e,t,i,n,r,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!ve(i,n)||!ve(r,o))}function Lt(e,t,i){var n=!1,r=$o,o=t.contextType;return"object"==typeof o&&null!==o?o=Si(o):(r=st(t)?is:es.current,o=(n=null!==(n=t.contextTypes)&&void 0!==n)?ot(e,r):$o),t=new t(i,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ss,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function At(e,t,i,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==e&&ss.enqueueReplaceState(t,t.state,null)}function Ot(e,t,i,n){var r,o=e.stateNode;o.props=i,o.state=e.memoizedState,o.refs=os,"object"==typeof(r=t.contextType)&&null!==r?o.context=Si(r):(r=st(t)?is:es.current,o.context=ot(e,r)),null!==(r=e.updateQueue)&&(Ai(e,r,i,o,n),o.state=e.memoizedState),"function"==typeof(r=t.getDerivedStateFromProps)&&(It(e,t,r,i),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),
t!==o.state&&ss.enqueueReplaceState(o,o.state,null),null!==(r=e.updateQueue)&&(Ai(e,r,i,o,n),o.state=e.memoizedState)),"function"==typeof o.componentDidMount&&(e.effectTag|=4)}function Mt(e,t,i){var r,o;if(null!==(e=i.ref)&&"function"!=typeof e&&"object"!=typeof e){if(i._owner)return i=i._owner,r=void 0,i&&(1!==i.tag&&n("309"),r=i.stateNode),r||n("147",e),o=""+e,null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===os&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t);"string"!=typeof e&&n("284"),i._owner||n("290",e)}return e}function kt(e,t){"textarea"!==e.type&&n("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Dt(e){function t(t,i){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i,i.nextEffect=null,i.effectTag=8}}function i(i,n){if(!e)return null;for(;null!==n;)t(i,n),n=n.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,i){return(e=mt(e,t)).index=0,e.sibling=null,e}function s(t,i,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<i?(t.effectTag=2,i):n:(t.effectTag=2,i):i}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,i,n){return null===t||6!==t.tag?((t=bt(i,e.mode,n)).return=e,t):((t=o(t,i)).return=e,t)}function c(e,t,i,n){return null!==t&&t.elementType===i.type?((n=o(t,i.props)).ref=Mt(e,t,i),n.return=e,n):((n=gt(i.type,i.key,i.props,null,e.mode,n)).ref=Mt(e,t,i),n.return=e,n)}function u(e,t,i,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=St(i,e.mode,n)).return=e,t):((t=o(t,i.children||[])).return=e,t)}function h(e,t,i,n,r){return null===t||7!==t.tag?((t=yt(i,e.mode,n,r)).return=e,t):((t=o(t,i)).return=e,t)}function d(e,t,i){if("string"==typeof t||"number"==typeof t)return(t=bt(""+t,e.mode,i)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ar:return(i=gt(t.type,t.key,t.props,null,e.mode,i)).ref=Mt(e,null,t),i.return=e,i;case Or:return(t=St(t,e.mode,i)).return=e,t}if(as(t)||q(t))return(t=yt(t,e.mode,i,null)).return=e,t;kt(e,t)}return null}function p(e,t,i,n){var r=null!==t?t.key:null;if("string"==typeof i||"number"==typeof i)return null!==r?null:l(e,t,""+i,n);if("object"==typeof i&&null!==i){switch(i.$$typeof){case Ar:return i.key===r?i.type===Mr?h(e,t,i.props.children,n,r):c(e,t,i,n):null;case Or:return i.key===r?u(e,t,i,n):null}if(as(i)||q(i))return null!==r?null:h(e,t,i,n,null);kt(e,i)}return null}function f(e,t,i,n,r){if("string"==typeof n||"number"==typeof n)return l(t,e=e.get(i)||null,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ar:return e=e.get(null===n.key?i:n.key)||null,n.type===Mr?h(t,e,n.props.children,r,n.key):c(t,e,n,r);case Or:return u(t,e=e.get(null===n.key?i:n.key)||null,n,r)}if(as(n)||q(n))return h(t,e=e.get(i)||null,n,r,null);kt(t,n)}return null}function _(n,o,a,l){
var c,u,h,_,m,g;for(c=null,u=null,h=o,_=o=0,m=null;null!==h&&_<a.length;_++){if(h.index>_?(m=h,h=null):m=h.sibling,null===(g=p(n,h,a[_],l))){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(n,h),o=s(g,o,_),null===u?c=g:u.sibling=g,u=g,h=m}if(_===a.length)return i(n,h),c;if(null===h){for(;_<a.length;_++)(h=d(n,a[_],l))&&(o=s(h,o,_),null===u?c=h:u.sibling=h,u=h);return c}for(h=r(n,h);_<a.length;_++)(m=f(h,n,_,a[_],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?_:m.key),o=s(m,o,_),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach(function(e){return t(n,e)}),c}function m(o,a,l,c){var u,h,_,m,g,y,v=q(l);for("function"!=typeof v&&n("150"),null==(l=v.call(l))&&n("151"),u=v=null,h=a,_=a=0,m=null,g=l.next();null!==h&&!g.done;_++,g=l.next()){if(h.index>_?(m=h,h=null):m=h.sibling,null===(y=p(o,h,g.value,c))){h||(h=m);break}e&&h&&null===y.alternate&&t(o,h),a=s(y,a,_),null===u?v=y:u.sibling=y,u=y,h=m}if(g.done)return i(o,h),v;if(null===h){for(;!g.done;_++,g=l.next())null!==(g=d(o,g.value,c))&&(a=s(g,a,_),null===u?v=g:u.sibling=g,u=g);return v}for(h=r(o,h);!g.done;_++,g=l.next())null!==(g=f(h,o,_,g.value,c))&&(e&&null!==g.alternate&&h.delete(null===g.key?_:g.key),a=s(g,a,_),null===u?v=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(o,e)}),v}return function(e,r,s,l){var c,u="object"==typeof s&&null!==s&&s.type===Mr&&null===s.key;if(u&&(s=s.props.children),c="object"==typeof s&&null!==s)switch(s.$$typeof){case Ar:e:{for(c=s.key,u=r;null!==u;){if(u.key===c){if(7===u.tag?s.type===Mr:u.elementType===s.type){i(e,u.sibling),(r=o(u,s.type===Mr?s.props.children:s.props)).ref=Mt(e,u,s),r.return=e,e=r;break e}i(e,u);break}t(e,u),u=u.sibling}s.type===Mr?((r=yt(s.props.children,e.mode,l,s.key)).return=e,e=r):((l=gt(s.type,s.key,s.props,null,e.mode,l)).ref=Mt(e,r,s),l.return=e,e=l)}return a(e);case Or:e:{for(u=s.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){i(e,r.sibling),(r=o(r,s.children||[])).return=e,e=r;break e}i(e,r);break}t(e,r),r=r.sibling}(r=St(s,e.mode,l)).return=e,e=r}return a(e)}if("string"==typeof s||"number"==typeof s)return s=""+s,null!==r&&6===r.tag?(i(e,r.sibling),(r=o(r,s)).return=e,e=r):(i(e,r),(r=bt(s,e.mode,l)).return=e,e=r),a(e);if(as(s))return _(e,r,s,l);if(q(s))return m(e,r,s,l);if(c&&kt(e,s),void 0===s&&!u)switch(e.tag){case 1:case 0:n("152",(l=e.type).displayName||l.name||"Component")}return i(e,r)}}function Rt(e){return e===us&&n("174"),e}function Vt(e,t){rt(ps,t),rt(ds,e),rt(hs,us);var i=t.nodeType;switch(i){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ge(null,"");break;default:t=Ge(t=(i=8===i?t.parentNode:t).namespaceURI||null,i=i.tagName)}nt(hs),rt(hs,t)}function Bt(e){nt(hs),nt(ds),nt(ps)}function Nt(e){var t,i;Rt(ps.current),(t=Rt(hs.current))!==(i=Ge(t,e.type))&&(rt(ds,e),rt(hs,i))}function Ft(e){ds.current===e&&(nt(hs),nt(ds))}function jt(){n("307")}function Wt(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!ye(e[i],t[i]))return!1;return!0}function Ut(e,t,i,r,o,s){if(Ps=s,Ts=t,
xs=null!==e?e.memoizedState:null,ws.current=null===xs?Bs:Ns,t=i(r,o),ks){do{ks=!1,Rs+=1,xs=null!==e?e.memoizedState:null,Ls=Is,Os=Es=Cs=null,ws.current=Ns,t=i(r,o)}while(ks);Ds=null,Rs=0}return ws.current=Vs,(e=Ts).memoizedState=Is,e.expirationTime=As,e.updateQueue=Os,e.effectTag|=Ms,e=null!==Cs&&null!==Cs.next,Ps=0,Ls=Es=Is=xs=Cs=Ts=null,As=0,Os=null,Ms=0,e&&n("300"),t}function Ht(){ws.current=Vs,Ps=0,Ls=Es=Is=xs=Cs=Ts=null,As=0,Os=null,Ms=0,ks=!1,Ds=null,Rs=0}function zt(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Es?Is=Es=e:Es=Es.next=e,Es}function Gt(){if(null!==Ls)Ls=(Es=Ls).next,xs=null!==(Cs=xs)?Cs.next:null;else{null===xs&&n("310");var e={memoizedState:(Cs=xs).memoizedState,baseState:Cs.baseState,queue:Cs.queue,baseUpdate:Cs.baseUpdate,next:null};Es=null===Es?Is=e:Es.next=e,xs=Cs.next}return Es}function Yt(e,t){return"function"==typeof t?t(e):t}function qt(e){var t,i,r,o,s,a,l,c,u=Gt(),h=u.queue;if(null===h&&n("311"),0<Rs){if(t=h.dispatch,null!==Ds&&void 0!==(i=Ds.get(h))){Ds.delete(h),r=u.memoizedState;do{r=e(r,i.action),i=i.next}while(null!==i);return ye(r,u.memoizedState)||(Hs=!0),u.memoizedState=r,u.baseUpdate===h.last&&(u.baseState=r),[r,t]}return[u.memoizedState,t]}if(t=h.last,o=u.baseUpdate,r=u.baseState,null!==o?(null!==t&&(t.next=null),t=o.next):t=null!==t?t.next:null,null!==t){s=i=null,a=t,l=!1;do{(c=a.expirationTime)<Ps?(l||(l=!0,s=o,i=r),c>As&&(As=c)):r=a.eagerReducer===e?a.eagerState:e(r,a.action),o=a,a=a.next}while(null!==a&&a!==t);l||(s=o,i=r),ye(r,u.memoizedState)||(Hs=!0),u.memoizedState=r,u.baseUpdate=s,u.baseState=i,h.eagerReducer=e,h.eagerState=r}return[u.memoizedState,h.dispatch]}function Xt(e,t,i,n){return e={tag:e,create:t,destroy:i,deps:n,next:null},null===Os?(Os={lastEffect:null}).lastEffect=e.next=e:null===(t=Os.lastEffect)?Os.lastEffect=e.next=e:(i=t.next,t.next=e,e.next=i,Os.lastEffect=e),e}function Kt(e,t,i,n){var r=zt();Ms|=e,r.memoizedState=Xt(t,i,void 0,void 0===n?null:n)}function Qt(e,t,i,n){var r,o,s=Gt();n=void 0===n?null:n,r=void 0,null!==Cs&&(r=(o=Cs.memoizedState).destroy,null!==n&&Wt(n,o.deps))?Xt(fs,i,r,n):(Ms|=e,s.memoizedState=Xt(t,i,r,n))}function Zt(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Jt(){}function $t(e,t,i){var r,o,s,a,l,c,u;if(25>Rs||n("301"),r=e.alternate,e===Ts||null!==r&&r===Ts)if(ks=!0,e={expirationTime:Ps,action:i,eagerReducer:null,eagerState:null,next:null},null===Ds&&(Ds=new Map),void 0===(i=Ds.get(t)))Ds.set(t,e);else{for(t=i;null!==t.next;)t=t.next;t.next=e}else{if(Qi(),s={expirationTime:o=nn(o=hn(),e),action:i,eagerReducer:null,eagerState:null,next:null},null===(a=t.last)?s.next=s:(null!==(l=a.next)&&(s.next=l),a.next=s),t.last=s,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.eagerReducer))try{if(u=r(c=t.eagerState,i),s.eagerReducer=r,s.eagerState=u,ye(u,c))return}catch(e){}sn(e,o)}}function ei(e,t){var i=ft(5,null,null,0);i.elementType="DELETED",i.type="DELETED",
i.stateNode=t,i.return=e,i.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=i,e.lastEffect=i):e.firstEffect=e.lastEffect=i}function ti(e,t){switch(e.tag){case 5:var i=e.type;return null!==(t=1!==t.nodeType||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ii(e){var t,i;if(Ws)if(t=js){if(i=t,!ti(e,t)){if(!(t=tt(i))||!ti(e,t))return e.effectTag|=2,Ws=!1,void(Fs=e);ei(Fs,i)}Fs=e,js=it(t)}else e.effectTag|=2,Ws=!1,Fs=e}function ni(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;Fs=e}function ri(e){if(e!==Fs)return!1;if(!Ws)return ni(e),Ws=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!et(t,e.memoizedProps))for(t=js;t;)ei(e,t),t=tt(t);return ni(e),js=Fs?tt(e.stateNode):null,!0}function oi(){js=Fs=null,Ws=!1}function si(e,t,i,n){t.child=null===e?cs(t,null,i,n):ls(t,e.child,i,n)}function ai(e,t,i,n,r){i=i.render;var o=t.ref;return bi(t,r),n=Ut(e,t,i,n,o,r),null===e||Hs?(t.effectTag|=1,si(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),mi(e,t,r))}function li(e,t,i,n,r,o){if(null===e){var s=i.type;return"function"!=typeof s||_t(s)||void 0!==s.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=gt(i.type,null,n,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ci(e,t,s,n,r,o))}return s=e.child,r<o&&(r=s.memoizedProps,(i=null!==(i=i.compare)?i:ve)(r,n)&&e.ref===t.ref)?mi(e,t,o):(t.effectTag|=1,(e=mt(s,n)).ref=t.ref,e.return=t,t.child=e)}function ci(e,t,i,n,r,o){return null!==e&&ve(e.memoizedProps,n)&&e.ref===t.ref&&(Hs=!1,r<o)?mi(e,t,o):hi(e,t,i,n,o)}function ui(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.effectTag|=128)}function hi(e,t,i,n,r){var o=st(i)?is:es.current;return o=ot(t,o),bi(t,r),i=Ut(e,t,i,n,o,r),null===e||Hs?(t.effectTag|=1,si(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),mi(e,t,r))}function di(e,t,i,n,r){var o,s,a,l,c,u,h,d,p;return st(i)?(o=!0,ht(t)):o=!1,bi(t,r),null===t.stateNode?(null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Lt(t,i,n),Ot(t,i,n,r),n=!0):null===e?(s=t.stateNode,a=t.memoizedProps,s.props=a,l=s.context,"object"==typeof(c=i.contextType)&&null!==c?c=Si(c):c=ot(t,c=st(i)?is:es.current),(h="function"==typeof(u=i.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==n||l!==c)&&At(t,s,n,c),Js=!1,d=t.memoizedState,l=s.state=d,null!==(p=t.updateQueue)&&(Ai(t,p,n,s,r),l=t.memoizedState),a!==n||d!==l||ts.current||Js?("function"==typeof u&&(It(t,i,u,n),l=t.memoizedState),(a=Js||Et(t,i,a,n,d,l,c))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),
"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.effectTag|=4)):("function"==typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=a):("function"==typeof s.componentDidMount&&(t.effectTag|=4),n=!1)):(s=t.stateNode,a=t.memoizedProps,s.props=t.type===t.elementType?a:xt(t.type,a),l=s.context,"object"==typeof(c=i.contextType)&&null!==c?c=Si(c):c=ot(t,c=st(i)?is:es.current),(h="function"==typeof(u=i.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==n||l!==c)&&At(t,s,n,c),Js=!1,l=t.memoizedState,d=s.state=l,null!==(p=t.updateQueue)&&(Ai(t,p,n,s,r),d=t.memoizedState),a!==n||l!==d||ts.current||Js?("function"==typeof u&&(It(t,i,u,n),d=t.memoizedState),(u=Js||Et(t,i,a,n,l,d,c))?(h||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(n,d,c),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,d,c)),"function"==typeof s.componentDidUpdate&&(t.effectTag|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=d),s.props=n,s.state=d,s.context=c,n=u):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),n=!1)),pi(e,t,i,n,o,r)}function pi(e,t,i,n,r,o){var s,a;return ui(e,t),s=0!=(64&t.effectTag),n||s?(n=t.stateNode,Us.current=t,a=s&&"function"!=typeof i.getDerivedStateFromError?null:n.render(),t.effectTag|=1,null!==e&&s?(t.child=ls(t,e.child,null,o),t.child=ls(t,null,a,o)):si(e,t,a,o),t.memoizedState=n.state,r&&dt(t,i,!0),t.child):(r&&dt(t,i,!1),mi(e,t,o))}function fi(e){var t=e.stateNode;t.pendingContext?ct(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ct(0,t.context,!1),Vt(e,t.containerInfo)}function _i(e,t,i){var n,r,o=t.mode,s=t.pendingProps,a=t.memoizedState;return 0==(64&t.effectTag)?(a=null,n=!1):(a={timedOutAt:null!==a?a.timedOutAt:0},n=!0,t.effectTag&=-65),null===e?n?(r=s.fallback,e=yt(null,o,0,null),0==(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),o=yt(r,o,i,null),e.sibling=o,(i=e).return=o.return=t):i=o=cs(t,null,s.children,i):(null!==e.memoizedState?(r=(o=e.child).sibling,n?(i=s.fallback,s=mt(o,o.pendingProps),0==(1&t.mode)&&((n=null!==t.memoizedState?t.child.child:t.child)!==o.child&&(s.child=n)),o=s.sibling=mt(r,i,r.expirationTime),i=s,s.childExpirationTime=0,i.return=o.return=t):i=o=ls(t,o.child,s.children,i)):(r=e.child,n?(n=s.fallback,(s=yt(null,o,0,null)).child=r,
0==(1&t.mode)&&(s.child=null!==t.memoizedState?t.child.child:t.child),(o=s.sibling=yt(n,o,i,null)).effectTag|=2,i=s,s.childExpirationTime=0,i.return=o.return=t):o=i=ls(t,r,s.children,i)),t.stateNode=e.stateNode),t.memoizedState=a,t.child=i,o}function mi(e,t,i){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<i)return null;if(null!==e&&t.child!==e.child&&n("153"),null!==t.child){for(i=mt(e=t.child,e.pendingProps,e.expirationTime),t.child=i,i.return=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=mt(e,e.pendingProps,e.expirationTime)).return=t;i.sibling=null}return t.child}function gi(e,t,i){var r,o,s,a,l,c,u,h,d=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||ts.current)Hs=!0;else if(d<i){switch(Hs=!1,t.tag){case 3:fi(t),oi();break;case 5:Nt(t);break;case 1:st(t.type)&&ht(t);break;case 4:Vt(t,t.stateNode.containerInfo);break;case 10:yi(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(d=t.child.childExpirationTime)&&d>=i?_i(e,t,i):null!==(t=mi(e,t,i))?t.sibling:null}return mi(e,t,i)}}else Hs=!1;switch(t.expirationTime=0,t.tag){case 2:return d=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=ot(t,es.current),bi(t,i),r=Ut(null,t,d,e,r,i),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(t.tag=1,Ht(),st(d)?(o=!0,ht(t)):o=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,"function"==typeof(s=d.getDerivedStateFromProps)&&It(t,d,s,e),r.updater=ss,t.stateNode=r,r._reactInternalFiber=t,Ot(t,d,e,i),t=pi(null,t,d,!0,o,i)):(t.tag=0,si(null,t,r,i),t=t.child),t;case 16:switch(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),o=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(r),t.type=e,r=t.tag=function(e){if("function"==typeof e)return _t(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===Nr)return 11;if(e===jr)return 14}return 2}(e),o=xt(e,o),s=void 0,r){case 0:s=hi(null,t,e,o,i);break;case 1:s=di(null,t,e,o,i);break;case 11:s=ai(null,t,e,o,i);break;case 14:s=li(null,t,e,xt(e.type,o),d,i);break;default:n("306",e,"")}return s;case 0:return d=t.type,r=t.pendingProps,hi(e,t,d,r=t.elementType===d?r:xt(d,r),i);case 1:return d=t.type,r=t.pendingProps,di(e,t,d,r=t.elementType===d?r:xt(d,r),i);case 3:return fi(t),null===(d=t.updateQueue)&&n("282"),r=null!==(r=t.memoizedState)?r.element:null,Ai(t,d,t.pendingProps,null,i),(d=t.memoizedState.element)===r?(oi(),t=mi(e,t,i)):(r=t.stateNode,(r=(null===e||null===e.child)&&r.hydrate)&&(js=it(t.stateNode.containerInfo),Fs=t,r=Ws=!0),r?(t.effectTag|=2,t.child=cs(t,null,d,i)):(si(e,t,d,i),oi()),t=t.child),t;case 5:return Nt(t),null===e&&ii(t),d=t.type,r=t.pendingProps,
o=null!==e?e.memoizedProps:null,s=r.children,et(d,r)?s=null:null!==o&&et(d,o)&&(t.effectTag|=16),ui(e,t),1!==i&&1&t.mode&&r.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(si(e,t,s,i),t=t.child),t;case 6:return null===e&&ii(t),null;case 13:return _i(e,t,i);case 4:return Vt(t,t.stateNode.containerInfo),d=t.pendingProps,null===e?t.child=ls(t,null,d,i):si(e,t,d,i),t.child;case 11:return d=t.type,r=t.pendingProps,ai(e,t,d,r=t.elementType===d?r:xt(d,r),i);case 7:return si(e,t,t.pendingProps,i),t.child;case 8:case 12:return si(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(d=t.type._context,r=t.pendingProps,s=t.memoizedProps,yi(t,o=r.value),null!==s)if(0===(o=ye(a=s.value,o)?0:0|("function"==typeof d._calculateChangedBits?d._calculateChangedBits(a,o):1073741823))){if(s.children===r.children&&!ts.current){t=mi(e,t,i);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){if(null!==(l=a.contextDependencies))for(s=a.child,c=l.first;null!==c;){if(c.context===d&&0!=(c.observedBits&o)){for(1===a.tag&&((c=Ti(i)).tag=Qs,xi(a,c)),a.expirationTime<i&&(a.expirationTime=i),null!==(c=a.alternate)&&c.expirationTime<i&&(c.expirationTime=i),c=i,u=a.return;null!==u;){if(h=u.alternate,u.childExpirationTime<c)u.childExpirationTime=c,null!==h&&h.childExpirationTime<c&&(h.childExpirationTime=c);else{if(!(null!==h&&h.childExpirationTime<c))break;h.childExpirationTime=c}u=u.return}l.expirationTime<i&&(l.expirationTime=i);break}c=c.next}else s=10===a.tag&&a.type===t.type?null:a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}si(e,t,r.children,i),t=t.child}return t;case 9:return r=t.type,d=(o=t.pendingProps).children,bi(t,i),d=d(r=Si(r,o.unstable_observedBits)),t.effectTag|=1,si(e,t,d,i),t.child;case 14:return o=xt(r=t.type,t.pendingProps),li(e,t,r,o=xt(r.type,o),d,i);case 15:return ci(e,t,t.type,t.pendingProps,d,i);case 17:return d=t.type,r=t.pendingProps,r=t.elementType===d?r:xt(d,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,st(d)?(e=!0,ht(t)):e=!1,bi(t,i),Lt(t,d,r),Ot(t,d,r,i),pi(null,t,d,!0,e,i)}n("156")}function yi(e,t){var i=e.type._context;rt(zs,i._currentValue),i._currentValue=t}function vi(e){var t=zs.current;nt(zs),e.type._context._currentValue=t}function bi(e,t){Gs=e,qs=Ys=null;var i=e.contextDependencies;null!==i&&i.expirationTime>=t&&(Hs=!0),e.contextDependencies=null}function Si(e,t){return qs!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(qs=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ys?(null===Gs&&n("308"),Ys=t,Gs.contextDependencies={first:t,expirationTime:0}):Ys=Ys.next=t),e._currentValue}function wi(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Pi(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,
firstCapturedEffect:null,lastCapturedEffect:null}}function Ti(e){return{expirationTime:e,tag:Xs,payload:null,callback:null,next:null,nextEffect:null}}function Ci(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function xi(e,t){var i,n,r=e.alternate;null===r?(n=null,null===(i=e.updateQueue)&&(i=e.updateQueue=wi(e.memoizedState))):(i=e.updateQueue,n=r.updateQueue,null===i?null===n?(i=e.updateQueue=wi(e.memoizedState),n=r.updateQueue=wi(r.memoizedState)):i=e.updateQueue=Pi(n):null===n&&(n=r.updateQueue=Pi(i))),null===n||i===n?Ci(i,t):null===i.lastUpdate||null===n.lastUpdate?(Ci(i,t),Ci(n,t)):(Ci(i,t),n.lastUpdate=t)}function Ii(e,t){var i=e.updateQueue;null===(i=null===i?e.updateQueue=wi(e.memoizedState):Ei(e,i)).lastCapturedUpdate?i.firstCapturedUpdate=i.lastCapturedUpdate=t:(i.lastCapturedUpdate.next=t,i.lastCapturedUpdate=t)}function Ei(e,t){var i=e.alternate;return null!==i&&t===i.updateQueue&&(t=e.updateQueue=Pi(t)),t}function Li(e,t,i,n,r,o){switch(i.tag){case Ks:return"function"==typeof(e=i.payload)?e.call(o,n,r):e;case Zs:e.effectTag=-2049&e.effectTag|64;case Xs:if(null===(r="function"==typeof(e=i.payload)?e.call(o,n,r):e)||void 0===r)break;return Ga({},n,r);case Qs:Js=!0}return n}function Ai(e,t,i,n,r){var o,s,a,l,c,u,h;for(Js=!1,o=(t=Ei(e,t)).baseState,s=null,a=0,l=t.firstUpdate,c=o;null!==l;)(u=l.expirationTime)<r?(null===s&&(s=l,o=c),a<u&&(a=u)):(c=Li(e,0,l,c,i,n),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next;for(u=null,l=t.firstCapturedUpdate;null!==l;)(h=l.expirationTime)<r?(null===u&&(u=l,null===s&&(o=c)),a<h&&(a=h)):(c=Li(e,0,l,c,i,n),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next;null===s&&(t.lastUpdate=null),null===u?t.lastCapturedUpdate=null:e.effectTag|=32,null===s&&null===u&&(o=c),t.baseState=o,t.firstUpdate=s,t.firstCapturedUpdate=u,e.expirationTime=a,e.memoizedState=c}function Oi(e,t,i){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Mi(t.firstEffect,i),t.firstEffect=t.lastEffect=null,Mi(t.firstCapturedEffect,i),t.firstCapturedEffect=t.lastCapturedEffect=null}function Mi(e,t){for(var i,r;null!==e;)null!==(i=e.callback)&&(e.callback=null,r=t,"function"!=typeof i&&n("191",i),i.call(r)),e=e.nextEffect}function ki(e,t){return{value:e,source:t,stack:K(t)}}function Di(e){e.effectTag|=4}function Ri(e,t){var i=t.source,n=t.stack;null===n&&null!==i&&(n=K(i)),null!==i&&X(i.type),t=t.value,null!==e&&1===e.tag&&X(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function Vi(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){tn(e,t)}else t.current=null}function Bi(e,t,i){var n,r;if(null!==(i=null!==(i=i.updateQueue)?i.lastEffect:null)){
n=i=i.next;do{(n.tag&e)!==fs&&(r=n.destroy,n.destroy=void 0,void 0!==r&&r()),(n.tag&t)!==fs&&(r=n.create,n.destroy=r()),n=n.next}while(n!==i)}}function Ni(e){var t,i,n,r;switch("function"==typeof rs&&rs(e),e.tag){case 0:case 11:case 14:case 15:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){i=t=t.next;do{if(void 0!==(n=i.destroy)){r=e;try{n()}catch(e){tn(r,e)}}i=i.next}while(i!==t)}break;case 1:if(Vi(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){tn(e,t)}break;case 5:Vi(e);break;case 4:Wi(e)}}function Fi(e){return 5===e.tag||3===e.tag||4===e.tag}function ji(e){var t,i,r,o,s,a,l;e:{for(t=e.return;null!==t;){if(Fi(t)){i=t;break e}t=t.return}n("160"),i=void 0}switch(r=t=void 0,i.tag){case 5:t=i.stateNode,r=!1;break;case 3:case 4:t=i.stateNode.containerInfo,r=!0;break;default:n("161")}16&i.effectTag&&(Ye(t,""),i.effectTag&=-17);e:t:for(i=e;;){for(;null===i.sibling;){if(null===i.return||Fi(i.return)){i=null;break e}i=i.return}for(i.sibling.return=i.return,i=i.sibling;5!==i.tag&&6!==i.tag&&18!==i.tag;){if(2&i.effectTag)continue t;if(null===i.child||4===i.tag)continue t;i.child.return=i,i=i.child}if(!(2&i.effectTag)){i=i.stateNode;break e}}for(o=e;;){if(5===o.tag||6===o.tag)i?r?(s=t,a=o.stateNode,l=i,8===s.nodeType?s.parentNode.insertBefore(a,l):s.insertBefore(a,l)):t.insertBefore(o.stateNode,i):r?(a=t,l=o.stateNode,8===a.nodeType?(s=a.parentNode).insertBefore(l,a):(s=a).appendChild(l),null!==(a=a._reactRootContainer)&&void 0!==a||null!==s.onclick||(s.onclick=Je)):t.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function Wi(e){var t,i,r,o,s,a;for(t=e,i=!1,r=void 0,o=void 0;;){if(!i){i=t.return;e:for(;;){switch(null===i&&n("160"),i.tag){case 5:r=i.stateNode,o=!1;break e;case 3:case 4:r=i.stateNode.containerInfo,o=!0;break e}i=i.return}i=!0}if(5===t.tag||6===t.tag){e:for(s=t,a=s;;)if(Ni(a),null!==a.child&&4!==a.tag)a.child.return=a,a=a.child;else{if(a===s)break;for(;null===a.sibling;){if(null===a.return||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}o?(s=r,a=t.stateNode,8===s.nodeType?s.parentNode.removeChild(a):s.removeChild(a)):r.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){r=t.stateNode.containerInfo,o=!0,t.child.return=t,t=t.child;continue}}else if(Ni(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(i=!1)}t.sibling.return=t.return,t=t.sibling}}function Ui(e,t){var i,r,o,s,a;switch(t.tag){case 0:case 11:case 14:case 15:Bi(ms,gs,t);break;case 1:break;case 5:null!=(i=t.stateNode)&&(r=t.memoizedProps,e=null!==e?e.memoizedProps:r,o=t.type,s=t.updateQueue,t.updateQueue=null,null!==s&&function(e,t,i,n,r){var o,s,a;for(e[Zn]=r,"input"===i&&"radio"===r.type&&null!=r.name&&ie(e,r),Qe(i,n),n=Qe(i,r),
o=0;o<t.length;o+=2)s=t[o],a=t[o+1],"style"===s?Xe(e,a):"dangerouslySetInnerHTML"===s?Wo(e,a):"children"===s?Ye(e,a):J(e,s,a,n);switch(i){case"input":ne(e,r);break;case"textarea":Ue(e,r);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!r.multiple,null!=(i=r.value)?Fe(e,!!r.multiple,i,!1):t!==!!r.multiple&&(null!=r.defaultValue?Fe(e,!!r.multiple,r.defaultValue,!0):Fe(e,!!r.multiple,r.multiple?[]:"",!1))}}(i,s,o,e,r));break;case 6:null===t.stateNode&&n("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:i=t.memoizedState,r=void 0,e=t,null===i?r=!1:(r=!0,e=t.child,0===i.timedOutAt&&(i.timedOutAt=hn())),null!==e&&function(e,t){var i,n,r;for(i=e;;){if(5===i.tag)n=i.stateNode,t?n.style.display="none":(n=i.stateNode,r=void 0!==(r=i.memoizedProps.style)&&null!==r&&r.hasOwnProperty("display")?r.display:null,n.style.display=qe("display",r));else if(6===i.tag)i.stateNode.nodeValue=t?"":i.memoizedProps;else{if(13===i.tag&&null!==i.memoizedState){(n=i.child.sibling).return=i,i=n;continue}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}(e,r),null!==(i=t.updateQueue)&&(t.updateQueue=null,null===(a=t.stateNode)&&(a=t.stateNode=new na),i.forEach(function(e){var i=function(e,t){var i=e.stateNode;null!==i&&i.delete(t),t=nn(t=hn(),e),null!==(e=on(e,t))&&(wt(e,t),0!==(t=e.expirationTime)&&dn(e,t))}.bind(null,t,e);a.has(e)||(a.add(e),e.then(i,i))}));break;case 17:break;default:n("163")}}function Hi(e,t,i){(i=Ti(i)).tag=Zs,i.payload={element:null};var n=t.value;return i.callback=function(){bn(n),Ri(e,t)},i}function zi(e,t,i){var n,r,o;return(i=Ti(i)).tag=Zs,"function"==typeof(n=e.type.getDerivedStateFromError)&&(r=t.value,i.payload=function(){return n(r)}),null!==(o=e.stateNode)&&"function"==typeof o.componentDidCatch&&(i.callback=function(){"function"!=typeof n&&(null===va?va=new Set([this]):va.add(this));var i=t.value,r=t.stack;Ri(e,t),this.componentDidCatch(i,{componentStack:null!==r?r:""})}),i}function Gi(e){switch(e.tag){case 1:st(e.type)&&at();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return Bt(),lt(),0!=(64&(t=e.effectTag))&&n("285"),e.effectTag=-2049&t|64,e;case 5:return Ft(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return Bt(),null;case 10:return vi(e),null;default:return null}}function Yi(){var e,t,i;if(null!==ca)for(e=ca.return;null!==e;){switch((t=e).tag){case 1:null!==(i=t.type.childContextTypes)&&void 0!==i&&at();break;case 3:Bt(),lt();break;case 5:Ft(t);break;case 4:Bt();break;case 10:vi(t)}e=e.return}ua=null,ha=0,da=-1,pa=!1,ca=null}function qi(){for(var e,t;null!==fa;){switch(16&(e=fa.effectTag)&&Ye(fa.stateNode,""),128&e&&null!==(t=fa.alternate)&&null!==(t=t.ref)&&("function"==typeof t?t(null):t.current=null),14&e){case 2:ji(fa),fa.effectTag&=-3;break;case 6:ji(fa),fa.effectTag&=-3,Ui(fa.alternate,fa);break;case 4:Ui(fa.alternate,fa);break
;case 8:Wi(e=fa),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}fa=fa.nextEffect}}function Xi(){for(var e,t,i,r;null!==fa;){if(256&fa.effectTag)e:switch(e=fa.alternate,(t=fa).tag){case 0:case 11:case 15:Bi(_s,fs,t);break e;case 1:256&t.effectTag&&null!==e&&(i=e.memoizedProps,r=e.memoizedState,t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?i:xt(t.type,i),r),e.__reactInternalSnapshotBeforeUpdate=t);break e;case 3:case 5:case 6:case 4:case 17:break e;default:n("163")}fa=fa.nextEffect}}function Ki(e,t){for(var i,r,o,s,a,l;null!==fa;){if(36&(i=fa.effectTag))switch(r=fa.alternate,s=t,(o=fa).tag){case 0:case 11:case 15:Bi(ys,vs,o);break;case 1:a=o.stateNode,4&o.effectTag&&(null===r?a.componentDidMount():(l=o.elementType===o.type?r.memoizedProps:xt(o.type,r.memoizedProps),a.componentDidUpdate(l,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate))),null!==(r=o.updateQueue)&&Oi(0,r,a);break;case 3:if(null!==(r=o.updateQueue)){if(a=null,null!==o.child)switch(o.child.tag){case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}Oi(0,r,a)}break;case 5:s=o.stateNode,null===r&&4&o.effectTag&&$e(o.type,o.memoizedProps)&&s.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:n("163")}128&i&&(null!==(o=fa.ref)&&(s=fa.stateNode,"function"==typeof o?o(s):o.current=s)),512&i&&(ma=e),fa=fa.nextEffect}}function Qi(){null!==ga&&Qo(ga),null!==ya&&ya()}function Zi(e,t){var i,r,o,s,a;for(_a=la=!0,e.current===t&&n("177"),0===(i=e.pendingCommitExpirationTime)&&n("261"),e.pendingCommitExpirationTime=0,r=t.expirationTime,function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var i=e.latestPendingTime;0!==i&&(i>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(i=e.earliestSuspendedTime)?wt(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,wt(e,t)):t>i&&wt(e,t)}Ct(0,e)}(e,(o=t.childExpirationTime)>r?o:r),sa.current=null,r=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,Go=Eo,Yo=function(){var e,t,i,n,r,o,s,a,l,c,u,h,d=De();if(Re(d)){if("selectionStart"in d)e={start:d.selectionStart,end:d.selectionEnd};else e:if((t=(e=(e=d.ownerDocument)&&e.defaultView||window).getSelection&&e.getSelection())&&0!==t.rangeCount){e=t.anchorNode,i=t.anchorOffset,n=t.focusNode,t=t.focusOffset;try{e.nodeType,n.nodeType}catch(t){e=null;break e}r=0,o=-1,s=-1,a=0,l=0,c=d,u=null;t:for(;;){for(;c!==e||0!==i&&3!==c.nodeType||(o=r+i),c!==n||0!==t&&3!==c.nodeType||(s=r+t),3===c.nodeType&&(r+=c.nodeValue.length),null!==(h=c.firstChild);)u=c,c=h;for(;;){if(c===d)break t;if(u===e&&++a===i&&(o=r),u===n&&++l===t&&(s=r),null!==(h=c.nextSibling))break;u=(c=u).parentNode}c=h}e=-1===o||-1===s?null:{start:o,end:s}
}else e=null;e=e||{start:0,end:0}}else e=null;return{focusedElem:d,selectionRange:e}}(),Eo=!1,fa=r;null!==fa;){o=!1,s=void 0;try{Xi()}catch(e){o=!0,s=e}o&&(null===fa&&n("178"),tn(fa,s),null!==fa&&(fa=fa.nextEffect))}for(fa=r;null!==fa;){o=!1,s=void 0;try{qi()}catch(e){o=!0,s=e}o&&(null===fa&&n("178"),tn(fa,s),null!==fa&&(fa=fa.nextEffect))}for(Ve(Yo),Yo=null,Eo=!!Go,Go=null,e.current=t,fa=r;null!==fa;){o=!1,s=void 0;try{Ki(e,i)}catch(e){o=!0,s=e}o&&(null===fa&&n("178"),tn(fa,s),null!==fa&&(fa=fa.nextEffect))}null!==r&&null!==ma&&(a=function(e,t){var i,n,r,o;ya=ga=ma=null,i=Ta,Ta=!0;do{if(512&t.effectTag){n=!1,r=void 0;try{Bi(Ss,fs,o=t),Bi(fs,bs,o)}catch(e){n=!0,r=e}n&&tn(t,r)}t=t.nextEffect}while(null!==t);Ta=i,0!==(i=e.expirationTime)&&dn(e,i),Aa||Ta||mn(1073741823,!1)}.bind(null,e,r),ga=Ya.unstable_runWithPriority(Ya.unstable_NormalPriority,function(){return Ko(a)}),ya=a),la=_a=!1,"function"==typeof ns&&ns(t.stateNode),i=t.expirationTime,0===(t=(t=t.childExpirationTime)>i?t:i)&&(va=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function Ji(e){for(var t,i,r,o,s,a,l,c,u,h,d,p,f,_,m,g,y;;){if(t=e.alternate,i=e.return,r=e.sibling,0==(1024&e.effectTag)){ca=e;e:{switch(o=t,s=ha,a=(t=e).pendingProps,t.tag){case 2:case 16:break;case 15:case 0:break;case 1:st(t.type)&&at();break;case 3:Bt(),lt(),(a=t.stateNode).pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==o&&null!==o.child||(ri(t),t.effectTag&=-3),ea(t);break;case 5:if(Ft(t),l=Rt(ps.current),s=t.type,null!==o&&null!=t.stateNode)ta(o,t,s,a,l),o.ref!==t.ref&&(t.effectTag|=128);else if(a){if(c=Rt(hs.current),ri(t)){switch(o=(a=t).stateNode,u=a.type,h=a.memoizedProps,d=l,o[Qn]=a,o[Zn]=h,s=void 0,l=u){case"iframe":case"object":xe("load",o);break;case"video":case"audio":for(u=0;u<sr.length;u++)xe(sr[u],o);break;case"source":xe("error",o);break;case"img":case"image":case"link":xe("error",o),xe("load",o);break;case"form":xe("reset",o),xe("submit",o);break;case"details":xe("toggle",o);break;case"input":te(o,h),xe("invalid",o),Ze(d,"onChange");break;case"select":o._wrapperState={wasMultiple:!!h.multiple},xe("invalid",o),Ze(d,"onChange");break;case"textarea":We(o,h),xe("invalid",o),Ze(d,"onChange")}for(s in Ke(l,h),u=null,h)h.hasOwnProperty(s)&&(c=h[s],"children"===s?"string"==typeof c?o.textContent!==c&&(u=["children",c]):"number"==typeof c&&o.textContent!==""+c&&(u=["children",""+c]):Un.hasOwnProperty(s)&&null!=c&&Ze(d,s));switch(l){case"input":G(o),re(o,h,!0);break;case"textarea":G(o),He(o);break;case"select":case"option":break;default:"function"==typeof h.onClick&&(o.onclick=Je)}s=u,a.updateQueue=s,(a=null!==s)&&Di(t)}else{switch(h=t,o=s,d=a,u=9===l.nodeType?l:l.ownerDocument,c===Fo.html&&(c=ze(o)),c===Fo.html?"script"===o?((o=u.createElement("div")).innerHTML="<script><\/script>",u=o.removeChild(o.firstChild)):"string"==typeof d.is?u=u.createElement(o,{is:d.is}):(u=u.createElement(o),"select"===o&&d.multiple&&(u.multiple=!0)):u=u.createElementNS(c,o),(o=u)[Qn]=h,o[Zn]=a,$s(o,t,!1,!1),d=o,p=l,f=Qe(u=s,h=a),u){case"iframe":
case"object":xe("load",d),l=h;break;case"video":case"audio":for(l=0;l<sr.length;l++)xe(sr[l],d);l=h;break;case"source":xe("error",d),l=h;break;case"img":case"image":case"link":xe("error",d),xe("load",d),l=h;break;case"form":xe("reset",d),xe("submit",d),l=h;break;case"details":xe("toggle",d),l=h;break;case"input":te(d,h),l=ee(d,h),xe("invalid",d),Ze(p,"onChange");break;case"option":l=Ne(d,h);break;case"select":d._wrapperState={wasMultiple:!!h.multiple},l=Ga({},h,{value:void 0}),xe("invalid",d),Ze(p,"onChange");break;case"textarea":We(d,h),l=je(d,h),xe("invalid",d),Ze(p,"onChange");break;default:l=h}for(c in Ke(u,l),c=void 0,_=u,m=d,g=l)g.hasOwnProperty(c)&&(y=g[c],"style"===c?Xe(m,y):"dangerouslySetInnerHTML"===c?null!=(y=y?y.__html:void 0)&&Wo(m,y):"children"===c?"string"==typeof y?("textarea"!==_||""!==y)&&Ye(m,y):"number"==typeof y&&Ye(m,""+y):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(Un.hasOwnProperty(c)?null!=y&&Ze(p,c):null!=y&&J(m,c,y,f)));switch(u){case"input":G(d),re(d,h,!1);break;case"textarea":G(d),He(d);break;case"option":null!=h.value&&d.setAttribute("value",""+$(h.value));break;case"select":(l=d).multiple=!!h.multiple,null!=(d=h.value)?Fe(l,!!h.multiple,d,!1):null!=h.defaultValue&&Fe(l,!!h.multiple,h.defaultValue,!0);break;default:"function"==typeof l.onClick&&(d.onclick=Je)}(a=$e(s,a))&&Di(t),t.stateNode=o}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&n("166");break;case 6:o&&null!=t.stateNode?ia(o,t,o.memoizedProps,a):("string"!=typeof a&&(null===t.stateNode&&n("166")),o=Rt(ps.current),Rt(hs.current),ri(t)?(s=(a=t).stateNode,o=a.memoizedProps,s[Qn]=a,(a=s.nodeValue!==o)&&Di(t)):(s=t,(a=(9===o.nodeType?o:o.ownerDocument).createTextNode(a))[Qn]=t,s.stateNode=a));break;case 11:break;case 13:if(a=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=s,ca=t;break e}a=null!==a,s=null!==o&&null!==o.memoizedState,null!==o&&!a&&s&&(null!==(o=o.child.sibling)&&(null!==(l=t.firstEffect)?(t.firstEffect=o,o.nextEffect=l):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),(a||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Bt(),ea(t);break;case 10:vi(t);break;case 9:case 14:break;case 17:st(t.type)&&at();break;case 18:break;default:n("156")}ca=null}if(t=e,1===ha||1!==t.childExpirationTime){for(a=0,s=t.child;null!==s;)o=s.expirationTime,l=s.childExpirationTime,o>a&&(a=o),l>a&&(a=l),s=s.sibling;t.childExpirationTime=a}if(null!==ca)return ca;null!==i&&0==(1024&i.effectTag)&&(null===i.firstEffect&&(i.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==i.lastEffect&&(i.lastEffect.nextEffect=e.firstEffect),i.lastEffect=e.lastEffect),1<e.effectTag&&(null!==i.lastEffect?i.lastEffect.nextEffect=e:i.firstEffect=e,i.lastEffect=e))}else{if(null!==(e=Gi(e)))return e.effectTag&=1023,e;null!==i&&(i.firstEffect=i.lastEffect=null,i.effectTag|=1024)}if(null!==r)return r;if(null===i)break;e=i}return null}function $i(e){var t=gi(e.alternate,e,ha);return e.memoizedProps=e.pendingProps,null===t&&(t=Ji(e)),sa.current=null,t}function en(e,t){
var i,r,o,s,a,l,c,u,h,d,p,f,_,m;for(la&&n("243"),Qi(),la=!0,i=oa.current,oa.current=Vs,(r=e.nextExpirationTimeToWorkOn)===ha&&e===ua&&null!==ca||(Yi(),ha=r,ca=mt((ua=e).current,null),e.pendingCommitExpirationTime=0),o=!1;;){try{if(t)for(;null!==ca&&!fn();)ca=$i(ca);else for(;null!==ca;)ca=$i(ca)}catch(t){if(qs=Ys=Gs=null,Ht(),null===ca)o=!0,bn(t);else{if(null===ca&&n("271"),null!==(a=(s=ca).return)){e:{if(l=e,c=a,h=t,a=ha,(u=s).effectTag|=1024,u.firstEffect=u.lastEffect=null,null!==h&&"object"==typeof h&&"function"==typeof h.then){d=h,h=c,p=-1,f=-1;do{if(13===h.tag){if(null!==(_=h.alternate)&&null!==(_=_.memoizedState)){f=10*(1073741822-_.timedOutAt);break}"number"==typeof(_=h.pendingProps.maxDuration)&&(0>=_?p=0:(-1===p||_<p)&&(p=_))}h=h.return}while(null!==h);h=c;do{if((_=13===h.tag)&&(_=void 0!==h.memoizedProps.fallback&&null===h.memoizedState),_){if(null===(c=h.updateQueue)?((c=new Set).add(d),h.updateQueue=c):c.add(d),0==(1&h.mode)){h.effectTag|=64,u.effectTag&=-1957,1===u.tag&&(null===u.alternate?u.tag=17:((a=Ti(1073741823)).tag=Qs,xi(u,a))),u.expirationTime=1073741823;break e}c=a,null===(m=(u=l).pingCache)?(m=u.pingCache=new ra,_=new Set,m.set(d,_)):void 0===(_=m.get(d))&&(_=new Set,m.set(d,_)),_.has(c)||(_.add(c),u=rn.bind(null,u,d,c),d.then(u,u)),-1===p?l=1073741823:(-1===f&&(f=10*(1073741822-Tt(l,a))-5e3),l=f+p),0<=l&&da<l&&(da=l),h.effectTag|=2048,h.expirationTime=a;break e}h=h.return}while(null!==h);h=Error((X(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+K(u))}pa=!0,h=ki(h,u),l=c;do{switch(l.tag){case 3:l.effectTag|=2048,l.expirationTime=a,Ii(l,a=Hi(l,h,a));break e;case 1:if(p=h,f=l.type,u=l.stateNode,0==(64&l.effectTag)&&("function"==typeof f.getDerivedStateFromError||null!==u&&"function"==typeof u.componentDidCatch&&(null===va||!va.has(u)))){l.effectTag|=2048,l.expirationTime=a,Ii(l,a=zi(l,p,a));break e}}l=l.return}while(null!==l)}ca=Ji(s);continue}o=!0,bn(t)}}break}if(la=!1,oa.current=i,qs=Ys=Gs=null,Ht(),o)ua=null,e.finishedWork=null;else if(null!==ca)e.finishedWork=null;else{if(null===(i=e.current.alternate)&&n("281"),ua=null,pa){if(o=e.latestPendingTime,s=e.latestSuspendedTime,a=e.latestPingedTime,0!==o&&o<r||0!==s&&s<r||0!==a&&a<r)return Pt(e,r),void un(e,i,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void un(e,i,r,t,-1)}t&&-1!==da?(Pt(e,r),(t=10*(1073741822-Tt(e,r)))<da&&(da=t),t=10*(1073741822-hn()),t=da-t,un(e,i,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=i)}}function tn(e,t){var i,n;for(i=e.return;null!==i;){switch(i.tag){case 1:if(n=i.stateNode,"function"==typeof i.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===va||!va.has(n)))return xi(i,e=zi(i,e=ki(t,e),1073741823)),void sn(i,1073741823);break;case 3:return xi(i,e=Hi(i,e=ki(t,e),1073741823)),void sn(i,1073741823)}i=i.return}
3===e.tag&&(xi(e,i=Hi(e,i=ki(t,e),1073741823)),sn(e,1073741823))}function nn(e,t){var i=Ya.unstable_getCurrentPriorityLevel(),r=void 0;if(0==(1&t.mode))r=1073741823;else if(la&&!_a)r=ha;else{switch(i){case Ya.unstable_ImmediatePriority:r=1073741823;break;case Ya.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-e+15)/10|0));break;case Ya.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-e+500)/25|0));break;case Ya.unstable_LowPriority:case Ya.unstable_IdlePriority:r=1;break;default:n("313")}null!==ua&&r===ha&&--r}return i===Ya.unstable_UserBlockingPriority&&(0===Ia||r<Ia)&&(Ia=r),r}function rn(e,t,i){var n=e.pingCache;null!==n&&n.delete(t),null!==ua&&ha===i?ua=null:(t=e.earliestSuspendedTime,n=e.latestSuspendedTime,0!==t&&i<=t&&i>=n&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>i)&&(e.latestPingedTime=i),Ct(i,e),0!==(i=e.expirationTime)&&dn(e,i)))}function on(e,t){var i,n,r;if(e.expirationTime<t&&(e.expirationTime=t),null!==(i=e.alternate)&&i.expirationTime<t&&(i.expirationTime=t),r=null,null===(n=e.return)&&3===e.tag)r=e.stateNode;else for(;null!==n;){if(i=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==i&&i.childExpirationTime<t&&(i.childExpirationTime=t),null===n.return&&3===n.tag){r=n.stateNode;break}n=n.return}return r}function sn(e,t){null!==(e=on(e,t))&&(!la&&0!==ha&&t>ha&&Yi(),wt(e,t),la&&!_a&&ua===e||dn(e,e.expirationTime),Ba>Va&&(Ba=0,n("185")))}function an(e,t,i,n,r){return Ya.unstable_runWithPriority(Ya.unstable_ImmediatePriority,function(){return e(t,i,n,r)})}function ln(){Da=1073741822-((Ya.unstable_now()-ka)/10|0)}function cn(e,t){if(0!==wa){if(t<wa)return;null!==Pa&&Ya.unstable_cancelCallback(Pa)}wa=t,e=Ya.unstable_now()-ka,Pa=Ya.unstable_scheduleCallback(_n,{timeout:10*(1073741822-t)-e})}function un(e,t,i,n,r){e.expirationTime=n,0!==r||fn()?0<r&&(e.timeoutHandle=qo(function(e,t,i){e.pendingCommitExpirationTime=i,e.finishedWork=t,ln(),Ra=Da,gn(e,i)}.bind(null,e,t,i),r)):(e.pendingCommitExpirationTime=i,e.finishedWork=t)}function hn(){return Ta?Ra:(pn(),0!==xa&&1!==xa||(ln(),Ra=Da),Ra)}function dn(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===Sa?(ba=Sa=e,e.nextScheduledRoot=e):(Sa=Sa.nextScheduledRoot=e).nextScheduledRoot=ba):t>e.expirationTime&&(e.expirationTime=t),Ta||(Aa?Oa&&(Ca=e,xa=1073741823,yn(e,1073741823,!1)):1073741823===t?mn(1073741823,!1):cn(e,t))}function pn(){var e,t,i,r=0,o=null;if(null!==Sa)for(e=Sa,t=ba;null!==t;)if(0===(i=t.expirationTime)){if((null===e||null===Sa)&&n("244"),t===t.nextScheduledRoot){ba=Sa=t.nextScheduledRoot=null;break}if(t===ba)ba=i=t.nextScheduledRoot,Sa.nextScheduledRoot=i,t.nextScheduledRoot=null;else{if(t===Sa){(Sa=e).nextScheduledRoot=ba,t.nextScheduledRoot=null;break}e.nextScheduledRoot=t.nextScheduledRoot,t.nextScheduledRoot=null}t=e.nextScheduledRoot}else{if(i>r&&(r=i,o=t),t===Sa)break;if(1073741823===r)break;e=t,t=t.nextScheduledRoot}Ca=o,xa=r}function fn(){return!!Fa||!!Ya.unstable_shouldYield()&&(Fa=!0)}function _n(){var e,t;try{if(!fn()&&null!==ba){ln(),e=ba;do{
0!==(t=e.expirationTime)&&Da<=t&&(e.nextExpirationTimeToWorkOn=Da),e=e.nextScheduledRoot}while(e!==ba)}mn(0,!0)}finally{Fa=!1}}function mn(e,t){if(pn(),t)for(ln(),Ra=Da;null!==Ca&&0!==xa&&e<=xa&&!(Fa&&Da>xa);)yn(Ca,xa,Da>xa),pn(),ln(),Ra=Da;else for(;null!==Ca&&0!==xa&&e<=xa;)yn(Ca,xa,!1),pn();if(t&&(wa=0,Pa=null),0!==xa&&cn(Ca,xa),Ba=0,Na=null,null!==Ma)for(e=Ma,Ma=null,t=0;t<e.length;t++){var i=e[t];try{i._onComplete()}catch(e){Ea||(Ea=!0,La=e)}}if(Ea)throw e=La,La=null,Ea=!1,e}function gn(e,t){Ta&&n("253"),Ca=e,xa=t,yn(e,t,!1),mn(1073741823,!1)}function yn(e,t,i){if(Ta&&n("245"),Ta=!0,i){var r=e.finishedWork;null!==r?vn(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,Xo(r)),en(e,i),null!==(r=e.finishedWork)&&(fn()?e.finishedWork=r:vn(e,r,t)))}else null!==(r=e.finishedWork)?vn(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,Xo(r)),en(e,i),null!==(r=e.finishedWork)&&vn(e,r,t));Ta=!1}function vn(e,t,i){var n=e.firstBatch;if(null!==n&&n._expirationTime>=i&&(null===Ma?Ma=[n]:Ma.push(n),n._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===Na?Ba++:(Na=e,Ba=0),Ya.unstable_runWithPriority(Ya.unstable_ImmediatePriority,function(){Zi(e,t)})}function bn(e){null===Ca&&n("246"),Ca.expirationTime=0,Ea||(Ea=!0,La=e)}function Sn(e,t){var i=Aa;Aa=!0;try{return e(t)}finally{(Aa=i)||Ta||mn(1073741823,!1)}}function wn(e,t){if(Aa&&!Oa){Oa=!0;try{return e(t)}finally{Oa=!1}}return e(t)}function Pn(e,t,i){Aa||Ta||0===Ia||(mn(Ia,!1),Ia=0);var n=Aa;Aa=!0;try{return Ya.unstable_runWithPriority(Ya.unstable_UserBlockingPriority,function(){return e(t,i)})}finally{(Aa=n)||Ta||mn(1073741823,!1)}}function Tn(e,t,i,r,o){var s,a,l=t.current;e:if(i){i=i._reactInternalFiber;t:{2===be(i)&&1===i.tag||n("170"),s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(st(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);n("171"),s=void 0}if(1===i.tag&&st(a=i.type)){i=ut(i,a,s);break e}i=s}else i=$o;return null===t.context?t.context=i:t.pendingContext=i,t=o,(o=Ti(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(o.callback=t),Qi(),xi(l,o),sn(l,r),r}function Cn(e,t,i,n){var r=t.current;return Tn(e,t,i,r=nn(hn(),r),n)}function xn(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function In(e){var t=1073741822-25*(1+((1073741822-hn()+500)/25|0));t>=aa&&(t=aa-1),this._expirationTime=aa=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function En(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ln(e,t,i){e={current:t=ft(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:i,nextExpirationTimeToWorkOn:0,
expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function An(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function On(e,t,i,n,r){var o,s,a=i._reactRootContainer;return a?("function"==typeof r&&(o=r,r=function(){var e=xn(a._internalRoot);o.call(e)}),null!=e?a.legacy_renderSubtreeIntoContainer(e,t,r):a.render(t,r)):(a=i._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var i;i=e.lastChild;)e.removeChild(i);return new Ln(e,!1,t)}(i,n),"function"==typeof r&&(s=r,r=function(){var e=xn(a._internalRoot);s.call(e)}),wn(function(){null!=e?a.legacy_renderSubtreeIntoContainer(e,t,r):a.render(t,r)})),xn(a._internalRoot)}function Mn(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return An(t)||n("200"),function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Or,key:null==n?null:""+n,children:e,containerInfo:t,implementation:i}}(e,t,null,i)}var kn,Dn,Rn,Vn,Bn,Nn,Fn,jn,Wn,Un,Hn,zn,Gn,Yn,qn,Xn,Kn,Qn,Zn,Jn,$n,er,tr,ir,nr,rr,or,sr,ar,lr,cr,ur,hr,dr,pr,fr,_r,mr,gr,yr,vr,br,Sr,wr,Pr,Tr,Cr,xr,Ir,Er,Lr,Ar,Or,Mr,kr,Dr,Rr,Vr,Br,Nr,Fr,jr,Wr,Ur,Hr,zr,Gr,Yr,qr,Xr,Kr,Qr,Zr,Jr,$r,eo,to,io,no,ro,oo,so,ao,lo,co,uo,ho,po,fo,_o,mo,go,yo,vo,bo,So,wo,Po,To,Co,xo,Io,Eo,Lo,Ao,Oo,Mo,ko,Do,Ro,Vo,Bo,No,Fo,jo,Wo,Uo,Ho,zo,Go,Yo,qo,Xo,Ko,Qo,Zo,Jo,$o,es,ts,is,ns,rs,os,ss,as,ls,cs,us,hs,ds,ps,fs,_s,ms,gs,ys,vs,bs,Ss,ws,Ps,Ts,Cs,xs,Is,Es,Ls,As,Os,Ms,ks,Ds,Rs,Vs,Bs,Ns,Fs,js,Ws,Us,Hs,zs,Gs,Ys,qs,Xs,Ks,Qs,Zs,Js,$s,ea,ta,ia,na,ra,oa,sa,aa,la,ca,ua,ha,da,pa,fa,_a,ma,ga,ya,va,ba,Sa,wa,Pa,Ta,Ca,xa,Ia,Ea,La,Aa,Oa,Ma,ka,Da,Ra,Va,Ba,Na,Fa,ja,Wa,Ua,Ha,za=i("q1tI"),Ga=i("MgzW"),Ya=i("QCnb");za||n("227"),kn=!1,Dn=null,Rn=!1,Vn=null,Bn={onError:function(e){kn=!0,Dn=e}},Nn=null,Fn={},jn=[],Wn={},Un={},Hn={},zn=null,Gn=null,Yn=null,qn=null,Xn={injectEventPluginOrder:function(e){Nn&&n("101"),Nn=Array.prototype.slice.call(e),o()},injectEventPluginsByName:function(e){var t,i,r=!1;for(t in e)e.hasOwnProperty(t)&&(i=e[t],Fn.hasOwnProperty(t)&&Fn[t]===i||(Fn[t]&&n("102",t),Fn[t]=i,r=!0));r&&o()}},Kn=Math.random().toString(36).slice(2),Qn="__reactInternalInstance$"+Kn,Zn="__reactEventHandlers$"+Kn,Jn=!("undefined"==typeof window||!window.document||!window.document.createElement),$n={animationend:P("Animation","AnimationEnd"),animationiteration:P("Animation","AnimationIteration"),animationstart:P("Animation","AnimationStart"),transitionend:P("Transition","TransitionEnd")},er={},tr={},Jn&&(tr=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition),ir=T("animationend"),nr=T("animationiteration"),rr=T("animationstart"),or=T("transitionend"),
sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ar=null,lr=null,cr=null,Ga(E.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=x)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=x)},persist:function(){this.isPersistent=x},isPersistent:I,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=I,this._dispatchInstances=this._dispatchListeners=null}}),E.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},E.extend=function(e){function t(){}function i(){return r.apply(this,arguments)}var n,r=this;return t.prototype=r.prototype,n=new t,Ga(n,i.prototype),i.prototype=n,i.prototype.constructor=i,i.Interface=Ga({},r.Interface,e),i.extend=r.extend,O(i),i},O(E),ur=E.extend({data:null}),hr=E.extend({data:null}),dr=[9,13,27,32],pr=Jn&&"CompositionEvent"in window,fr=null,Jn&&"documentMode"in document&&(fr=document.documentMode),_r=Jn&&"TextEvent"in window&&!fr,mr=Jn&&(!pr||fr&&8<fr&&11>=fr),gr=String.fromCharCode(32),yr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},vr=!1,br=!1,Sr={eventTypes:yr,extractEvents:function(e,t,i,n){var r=void 0,o=void 0;if(pr)e:{switch(e){case"compositionstart":r=yr.compositionStart;break e;case"compositionend":r=yr.compositionEnd;break e;case"compositionupdate":r=yr.compositionUpdate;break e}r=void 0}else br?M(e,i)&&(r=yr.compositionEnd):"keydown"===e&&229===i.keyCode&&(r=yr.compositionStart);return r?(mr&&"ko"!==i.locale&&(br||r!==yr.compositionStart?r===yr.compositionEnd&&br&&(o=C()):(lr="value"in(ar=n)?ar.value:ar.textContent,br=!0)),r=ur.getPooled(r,t,i,n),o?r.data=o:null!==(o=k(i))&&(r.data=o),w(r),o=r):o=null,(e=_r?function(e,t){switch(e){case"compositionend":return k(t);case"keypress":
return 32!==t.which?null:(vr=!0,gr);case"textInput":return(e=t.data)===gr&&vr?null:e;default:return null}}(e,i):function(e,t){if(br)return"compositionend"===e||!pr&&M(e,t)?(e=C(),cr=lr=ar=null,br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mr&&"ko"!==t.locale?null:t.data;default:return null}}(e,i))?((t=hr.getPooled(yr.beforeInput,t,i,n)).data=e,w(t)):t=null,null===o?t:null===t?o:[o,t]}},wr=null,Pr=null,Tr=null,Cr=!1,xr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},(Ir=za.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED).hasOwnProperty("ReactCurrentDispatcher")||(Ir.ReactCurrentDispatcher={current:null}),Er=/^(.*)[\\\/]/,Lr="function"==typeof Symbol&&Symbol.for,Ar=Lr?Symbol.for("react.element"):60103,Or=Lr?Symbol.for("react.portal"):60106,Mr=Lr?Symbol.for("react.fragment"):60107,kr=Lr?Symbol.for("react.strict_mode"):60108,Dr=Lr?Symbol.for("react.profiler"):60114,Rr=Lr?Symbol.for("react.provider"):60109,Vr=Lr?Symbol.for("react.context"):60110,Br=Lr?Symbol.for("react.concurrent_mode"):60111,Nr=Lr?Symbol.for("react.forward_ref"):60112,Fr=Lr?Symbol.for("react.suspense"):60113,jr=Lr?Symbol.for("react.memo"):60115,Wr=Lr?Symbol.for("react.lazy"):60116,Ur="function"==typeof Symbol&&Symbol.iterator,Hr=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zr=Object.prototype.hasOwnProperty,Gr={},Yr={},qr={},"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qr[e]=new Q(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qr[t]=new Q(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){qr[e]=new Q(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qr[e]=new Q(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qr[e]=new Q(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){qr[e]=new Q(e,3,!0,e,null)}),["capture","download"].forEach(function(e){qr[e]=new Q(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){qr[e]=new Q(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){
qr[e]=new Q(e,5,!1,e.toLowerCase(),null)}),Xr=/[\-:]([a-z])/g,"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xr,Z);qr[t]=new Q(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xr,Z);qr[t]=new Q(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xr,Z);qr[t]=new Q(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){qr[e]=new Q(e,1,!1,e.toLowerCase(),null)}),Kr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Qr=null,Zr=null,Jr=!1,Jn&&(Jr=H("input")&&(!document.documentMode||9<document.documentMode)),$r={eventTypes:Kr,_isInputEventSupported:Jr,extractEvents:function(e,t,i,n){var r=t?_(t):window,o=void 0,s=void 0,a=r.nodeName&&r.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===r.type?o=ce:W(r)?Jr?o=_e:(o=pe,s=de):(a=r.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=fe),o&&(o=o(e,t)))return se(o,i,n);s&&s(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&oe(r,"number",r.value)}},eo=E.extend({view:null,detail:null}),to={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},io=0,no=0,ro=!1,oo=!1,so=eo.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ge,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=io;return io=e.screenX,ro?"mousemove"===e.type?e.screenX-t:0:(ro=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=no;return no=e.screenY,oo?"mousemove"===e.type?e.screenY-t:0:(oo=!0,0)}}),
ao=so.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),co={eventTypes:lo={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},extractEvents:function(e,t,i,n){var r,o,s,a,l,c="mouseover"===e||"pointerover"===e,u="mouseout"===e||"pointerout"===e;if(c&&(i.relatedTarget||i.fromElement)||!u&&!c)return null;if(c=n.window===n?n:(c=n.ownerDocument)?c.defaultView||c.parentWindow:window,u?(u=t,t=(t=i.relatedTarget||i.toElement)?p(t):null):u=null,u===t)return null;if(r=void 0,o=void 0,s=void 0,a=void 0,"mouseout"===e||"mouseover"===e?(r=so,o=lo.mouseLeave,s=lo.mouseEnter,a="mouse"):"pointerout"!==e&&"pointerover"!==e||(r=ao,o=lo.pointerLeave,s=lo.pointerEnter,a="pointer"),l=null==u?c:_(u),c=null==t?c:_(t),(e=r.getPooled(o,u,i,n)).type=a+"leave",e.target=l,e.relatedTarget=c,(i=r.getPooled(s,t,i,n)).type=a+"enter",i.target=c,i.relatedTarget=l,n=t,u&&n)e:{for(c=n,a=0,r=t=u;r;r=g(r))a++;for(r=0,s=c;s;s=g(s))r++;for(;0<a-r;)t=g(t),a--;for(;0<r-a;)c=g(c),r--;for(;a--;){if(t===c||t===c.alternate)break e;t=g(t),c=g(c)}t=null}else t=null;for(c=t,t=[];u&&u!==c&&(null===(a=u.alternate)||a!==c);)t.push(u),u=g(u);for(u=[];n&&n!==c&&(null===(a=n.alternate)||a!==c);)u.push(n),n=g(n);for(n=0;n<t.length;n++)b(t[n],"bubbled",e);for(n=u.length;0<n--;)b(u[n],"captured",i);return[e,i]}},uo=Object.prototype.hasOwnProperty,ho=E.extend({animationName:null,elapsedTime:null,pseudoElement:null}),po=E.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fo=eo.extend({relatedTarget:null}),_o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},go=eo.extend({key:function(e){if(e.key){var t=_o[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Pe(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mo[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:ge,charCode:function(e){return"keypress"===e.type?Pe(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){
return"keypress"===e.type?Pe(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),yo=so.extend({dataTransfer:null}),vo=eo.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ge}),bo=E.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),So=so.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),wo=[["abort","abort"],[ir,"animationEnd"],[nr,"animationIteration"],[rr,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[or,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],Po={},To={},[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){Te(e,!0)}),wo.forEach(function(e){Te(e,!1)}),xo=(Co={eventTypes:Po,isInteractiveTopLevelEventType:function(e){return void 0!==(e=To[e])&&!0===e.isInteractive},extractEvents:function(e,t,i,n){var r=To[e];if(!r)return null;switch(e){case"keypress":if(0===Pe(i))return null;case"keydown":case"keyup":e=go;break;case"blur":case"focus":e=fo;break;case"click":if(2===i.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=so;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=yo;break;case"touchcancel":case"touchend":case"touchmove":
case"touchstart":e=vo;break;case ir:case nr:case rr:e=ho;break;case or:e=bo;break;case"scroll":e=eo;break;case"wheel":e=So;break;case"copy":case"cut":case"paste":e=po;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=ao;break;default:e=E}return w(t=e.getPooled(r,t,i,n)),t}}).isInteractiveTopLevelEventType,Io=[],Eo=!0,Lo={},Ao=0,Oo="_reactListenersID"+(""+Math.random()).slice(2),Mo=Jn&&"documentMode"in document&&11>=document.documentMode,ko={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Do=null,Ro=null,Vo=null,Bo=!1,No={eventTypes:ko,extractEvents:function(e,t,i,n){var r,o,s,a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;if(!(r=!a)){e:{for(a=Ae(a),r=Hn.onSelect,o=0;o<r.length;o++)if(s=r[o],!a.hasOwnProperty(s)||!a[s]){a=!1;break e}a=!0}r=!a}if(r)return null;switch(a=t?_(t):window,e){case"focus":(W(a)||"true"===a.contentEditable)&&(Do=a,Ro=t,Vo=null);break;case"blur":Vo=Ro=Do=null;break;case"mousedown":Bo=!0;break;case"contextmenu":case"mouseup":case"dragend":return Bo=!1,Be(i,n);case"selectionchange":if(Mo)break;case"keydown":case"keyup":return Be(i,n)}return null}},Xn.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),zn=m,Gn=f,Yn=_,Xn.injectEventPluginsByName({SimpleEventPlugin:Co,EnterLeaveEventPlugin:co,ChangeEventPlugin:$r,SelectEventPlugin:No,BeforeInputEventPlugin:Sr}),Fo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},jo=void 0,Ha=function(e,t){if(e.namespaceURI!==Fo.svg||"innerHTML"in e)e.innerHTML=t;else{for((jo=jo||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=jo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},Wo="undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,i,n){MSApp.execUnsafeLocalFunction(function(){return Ha(e,t)})}:Ha,Uo={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ho=["Webkit","ms","Moz","O"],Object.keys(Uo).forEach(function(e){Ho.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Uo[t]=Uo[e]})}),zo=Ga({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,
meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Go=null,Yo=null,qo="function"==typeof setTimeout?setTimeout:void 0,Xo="function"==typeof clearTimeout?clearTimeout:void 0,Ko=Ya.unstable_scheduleCallback,Qo=Ya.unstable_cancelCallback,new Set,Zo=[],Jo=-1,es={current:$o={}},ts={current:!1},is=$o,ns=null,rs=null,os=(new za.Component).refs,ss={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===be(e)},enqueueSetState:function(e,t,i){var n,r;e=e._reactInternalFiber,(r=Ti(n=nn(n=hn(),e))).payload=t,void 0!==i&&null!==i&&(r.callback=i),Qi(),xi(e,r),sn(e,n)},enqueueReplaceState:function(e,t,i){var n,r;e=e._reactInternalFiber,(r=Ti(n=nn(n=hn(),e))).tag=Ks,r.payload=t,void 0!==i&&null!==i&&(r.callback=i),Qi(),xi(e,r),sn(e,n)},enqueueForceUpdate:function(e,t){var i,n;e=e._reactInternalFiber,(n=Ti(i=nn(i=hn(),e))).tag=Qs,void 0!==t&&null!==t&&(n.callback=t),Qi(),xi(e,n),sn(e,i)}},as=Array.isArray,ls=Dt(!0),cs=Dt(!1),hs={current:us={}},ds={current:us},ps={current:us},fs=0,_s=2,ms=4,gs=8,ys=16,vs=32,bs=64,Ss=128,ws=Ir.ReactCurrentDispatcher,Ps=0,Ts=null,Cs=null,xs=null,Is=null,Es=null,Ls=null,As=0,Os=null,Ms=0,ks=!1,Ds=null,Rs=0,Vs={readContext:Si,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt},Bs={readContext:Si,useCallback:function(e,t){return zt().memoizedState=[e,void 0===t?null:t],e},useContext:Si,useEffect:function(e,t){return Kt(516,Ss|bs,e,t)},useImperativeHandle:function(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,Kt(4,ms|vs,Zt.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Kt(4,ms|vs,e,t)},useMemo:function(e,t){var i=zt();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var n=zt();return t=void 0!==i?i(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={last:null,dispatch:null,eagerReducer:e,eagerState:t}).dispatch=$t.bind(null,Ts,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},zt().memoizedState=e},useState:function(e){var t=zt();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,eagerReducer:Yt,eagerState:e}).dispatch=$t.bind(null,Ts,e),[t.memoizedState,e]},useDebugValue:Jt},Ns={readContext:Si,useCallback:function(e,t){var i,n=Gt();return t=void 0===t?null:t,null!==(i=n.memoizedState)&&null!==t&&Wt(t,i[1])?i[0]:(n.memoizedState=[e,t],e)},useContext:Si,useEffect:function(e,t){return Qt(516,Ss|bs,e,t)},useImperativeHandle:function(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,Qt(4,ms|vs,Zt.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Qt(4,ms|vs,e,t)},useMemo:function(e,t){var i,n=Gt();return t=void 0===t?null:t,null!==(i=n.memoizedState)&&null!==t&&Wt(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:qt,useRef:function(){return Gt().memoizedState},useState:function(e){return qt(Yt)},useDebugValue:Jt},Fs=null,js=null,Ws=!1,Us=Ir.ReactCurrentOwner,Hs=!1,zs={current:null},Gs=null,Ys=null,qs=null,Xs=0,Ks=1,Qs=2,Zs=3,Js=!1,$s=void 0,ea=void 0,ta=void 0,ia=void 0,
$s=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},ea=function(){},ta=function(e,t,i,n,r){var o,s,a,l,c=e.memoizedProps;if(c!==n){switch(o=t.stateNode,Rt(hs.current),e=null,i){case"input":c=ee(o,c),n=ee(o,n),e=[];break;case"option":c=Ne(o,c),n=Ne(o,n),e=[];break;case"select":c=Ga({},c,{value:void 0}),n=Ga({},n,{value:void 0}),e=[];break;case"textarea":c=je(o,c),n=je(o,n),e=[];break;default:"function"!=typeof c.onClick&&"function"==typeof n.onClick&&(o.onclick=Je)}for(i in Ke(i,n),o=i=void 0,s=null,c)if(!n.hasOwnProperty(i)&&c.hasOwnProperty(i)&&null!=c[i])if("style"===i)for(o in a=c[i])a.hasOwnProperty(o)&&(s||(s={}),s[o]="");else"dangerouslySetInnerHTML"!==i&&"children"!==i&&"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(Un.hasOwnProperty(i)?e||(e=[]):(e=e||[]).push(i,null));for(i in n)if(l=n[i],a=null!=c?c[i]:void 0,n.hasOwnProperty(i)&&l!==a&&(null!=l||null!=a))if("style"===i)if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(s||(s={}),s[o]=l[o])}else s||(e||(e=[]),e.push(i,s)),s=l;else"dangerouslySetInnerHTML"===i?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(e=e||[]).push(i,""+l)):"children"===i?a===l||"string"!=typeof l&&"number"!=typeof l||(e=e||[]).push(i,""+l):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&(Un.hasOwnProperty(i)?(null!=l&&Ze(r,i),e||a===l||(e=[])):(e=e||[]).push(i,l));s&&(e=e||[]).push("style",s),r=e,(t.updateQueue=r)&&Di(t)}},ia=function(e,t,i,n){i!==n&&Di(t)},na="function"==typeof WeakSet?WeakSet:Set,ra="function"==typeof WeakMap?WeakMap:Map,oa=Ir.ReactCurrentDispatcher,sa=Ir.ReactCurrentOwner,aa=1073741822,la=!1,ca=null,ua=null,ha=0,da=-1,pa=!1,fa=null,_a=!1,ma=null,ga=null,ya=null,va=null,ba=null,Sa=null,wa=0,Pa=void 0,Ta=!1,Ca=null,xa=0,Ia=0,Ea=!1,La=null,Aa=!1,Oa=!1,Ma=null,ka=Ya.unstable_now(),Ra=Da=1073741822-(ka/10|0),Va=50,Ba=0,Na=null,Fa=!1,wr=function(e,t,i){var r,o;switch(t){case"input":if(ne(e,i),t=i.name,"radio"===i.type&&null!=t){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++)(r=i[t])!==e&&r.form===e.form&&((o=m(r))||n("90"),Y(r),ne(r,o))}break;case"textarea":Ue(e,i);break;case"select":null!=(t=i.value)&&Fe(e,!!i.multiple,t,!1)}},In.prototype.render=function(e){this._defer||n("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,i=this._expirationTime,r=new En;return Tn(e,t,null,i,r._onCommit),r},In.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},In.prototype.commit=function(){var e,t,i,r=this._root._internalRoot,o=r.firstBatch;if(this._defer&&null!==o||n("251"),this._hasChildren){
if(e=this._expirationTime,o!==this){for(this._hasChildren&&(e=this._expirationTime=o._expirationTime,this.render(this._children)),t=null,i=o;i!==this;)t=i,i=i._next;null===t&&n("251"),t._next=i._next,this._next=o,r.firstBatch=this}this._defer=!1,gn(r,e),o=this._next,this._next=null,null!==(o=r.firstBatch=o)&&o._hasChildren&&o.render(o._children)}else this._next=null,this._defer=!1},In.prototype._onComplete=function(){var e,t;if(!this._didComplete&&(this._didComplete=!0,null!==(e=this._callbacks)))for(t=0;t<e.length;t++)(0,e[t])()},En.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},En.prototype._onCommit=function(){var e,t,i;if(!this._didCommit&&(this._didCommit=!0,null!==(e=this._callbacks)))for(t=0;t<e.length;t++)"function"!=typeof(i=e[t])&&n("191",i),i()},Ln.prototype.render=function(e,t){var i=this._internalRoot,n=new En;return null!==(t=void 0===t?null:t)&&n.then(t),Cn(e,i,null,n._onCommit),n},Ln.prototype.unmount=function(e){var t=this._internalRoot,i=new En;return null!==(e=void 0===e?null:e)&&i.then(e),Cn(null,t,null,i._onCommit),i},Ln.prototype.legacy_renderSubtreeIntoContainer=function(e,t,i){var n=this._internalRoot,r=new En;return null!==(i=void 0===i?null:i)&&r.then(i),Cn(t,n,e,r._onCommit),r},Ln.prototype.createBatch=function(){var e=new In(this),t=e._expirationTime,i=this._internalRoot,n=i.firstBatch;if(null===n)i.firstBatch=e,e._next=null;else{for(i=null;null!==n&&n._expirationTime>=t;)i=n,n=n._next;e._next=n,null!==i&&(i._next=e)}return e},B=Sn,N=Pn,F=function(){Ta||0===Ia||(mn(Ia,!1),Ia=0)},ja={createPortal:Mn,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?n("188"):n("268",Object.keys(e))),e=null===(e=we(t))?null:e.stateNode},hydrate:function(e,t,i){return An(t)||n("200"),On(null,e,t,!0,i)},render:function(e,t,i){return An(t)||n("200"),On(null,e,t,!1,i)},unstable_renderSubtreeIntoContainer:function(e,t,i,r){return An(i)||n("200"),(null==e||void 0===e._reactInternalFiber)&&n("38"),On(e,t,i,!1,r)},unmountComponentAtNode:function(e){return An(e)||n("40"),!!e._reactRootContainer&&(wn(function(){On(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Mn.apply(void 0,arguments)},unstable_batchedUpdates:Sn,unstable_interactiveUpdates:Pn,flushSync:function(e,t){Ta&&n("187");var i=Aa;Aa=!0;try{return an(e,t)}finally{Aa=i,mn(1073741823,!1)}},unstable_createRoot:function(e,t){return An(e)||n("299","unstable_createRoot"),new Ln(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=Aa;Aa=!0;try{an(e)}finally{(Aa=t)||Ta||mn(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[f,_,m,Xn.injectEventPluginsByName,Wn,w,function(e){c(e,S)},R,V,Le,d]}},function(e){var t=e.findFiberByHostInstance;(function(e){var t,i;if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;if((t=__REACT_DEVTOOLS_GLOBAL_HOOK__).isDisabled||!t.supportsFiber)return!0
;try{i=t.inject(e),ns=pt(function(e){return t.onCommitFiberRoot(i,e)}),rs=pt(function(e){return t.onCommitFiberUnmount(i,e)})}catch(e){}})(Ga({},e,{overrideProps:null,currentDispatcherRef:Ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=we(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:p,bundleType:0,version:"16.8.2",rendererPackageName:"react-dom"}),Ua=(Wa={default:ja})&&ja||Wa,e.exports=Ua.default||Ua},ytGH:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u;i.r(t),i.d(t,"LineToolWidthsPropertyBaseImpl",function(){return l}),i.d(t,"LineToolWidthsProperty",function(){return c}),i.d(t,"MultipleLineWidthsProperty",function(){return u}),n=i("mrSG"),r=i("uOxu"),o=i("aIyQ"),s=i.n(o),a=Object(r.getLogger)("Chart.LineToolWidthsProperty"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.setValue=function(e,t){"mixed"!==e&&this._properties.forEach(function(i){return t.applyValue(i,e)})},t}(l=function(){function e(e){var t=this;this._onChange=new s.a,this._properties=e,e.forEach(function(e){return e.subscribe(t,function(){t._onChange.fire(t)})})}return e.prototype.value=function(){if(0===this._properties.length)return a.logError("Incorrect call, should not request value of 0 properties"),"mixed";var e=this._properties[0].value();return 1===this._properties.length?e:this._properties.every(function(t){return t.value()===e})?e:"mixed"},e.prototype.destroy=function(){var e=this;this._properties.forEach(function(t){return t.unsubscribeAll(e)})},e.prototype.subscribe=function(e,t){this._onChange.subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._onChange.unsubscribe(e,t)},e.prototype.unsubscribeAll=function(e){this._onChange.unsubscribeAll(e)},e}()),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype.setValue=function(e,t){"mixed"!==e&&this._properties.forEach(function(i){return i.setValue(e,t)})},t.canCreateForSources=function(e){return e.some(function(e){return null!==e.widthsProperty()})},t}(l)},"z+Sa":function(e,t,i){"use strict";var n,r,o;i.r(t),i.d(t,"SeriesHorizontalBaseLinePaneView",function(){return o}),n=i("mrSG"),r=i("k4w6"),o=function(e){function t(t){return e.call(this,t)||this}return Object(n.__extends)(t,e),t.prototype._updateImpl=function(){var e,t;this._lineRendererData.visible=!1,((e=this._series.priceScale().mode()).percentage||e.indexedTo100)&&null!==(t=this._series.firstValue())&&(this._lineRendererData.visible=!0,this._lineRendererData.y=this._series.priceScale().priceToCoordinate(t,t),this._lineRendererData.width=this._model.timeScale().width(),this._lineRendererData.height=this._series.priceScale().height(),this._lineRendererData.color=this._series.properties().baseLineColor.value())},t}(r.a)},"z+cS":function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"VerticalLineRenderer",function(){return s}),n=i("VdBB"),r=i("jFln"),o=i("gAom"),s=function(){function e(){this._data=null,
this._hitTest=null}return e.prototype.setData=function(e){this._data=e},e.prototype.setHitTest=function(e){this._hitTest=e},e.prototype.hitTest=function(e){var t,i,r,o;return null===this._data?null:(t=this._hitTest||new n.HitTestResult(n.HitTestResult.MOVEPOINT),i=Math.abs(e.x-this._data.x)<=3+this._data.linewidth/2,r=void 0===this._data.top||this._data.top-e.y<=3,o=void 0===this._data.bottom||e.y-this._data.bottom<=3,i&&r&&o?t:null)},e.prototype.draw=function(e,t){var i,n,s,a,l,c;null!==this._data&&(this._data.linewidth<=0||this._data.x<-this._data.linewidth/2||this._data.x>this._data.width+this._data.linewidth/2||(i=t.pixelRatio,e.lineCap="butt",e.strokeStyle=this._data.color,e.lineWidth=Math.max(1,Math.floor(this._data.linewidth*i)),void 0!==this._data.linestyle&&Object(r.setLineStyle)(e,this._data.linestyle),n=void 0!==this._data.top?Math.max(this._data.top,0):0,s=void 0!==this._data.bottom?Math.min(this._data.bottom,this._data.height):this._data.height,a=Math.round(this._data.x*i),l=Math.floor(n*i),c=Math.ceil(s*i),Object(o.drawVerticalLine)(e,a,l,c)))},e}()},z3gQ:function(e,t,i){"use strict";function n(){return new Promise(function(e){i.e("disconnect-messages").then(function(t){e(i("Mho2"))}.bind(null,i)).catch(void 0)})}function r(e){n().then(function(t){return t.showDisconnectedMessage(e)})}function o(e){n().then(function(t){return t.showCriticalErrorMessage(e)})}i.r(t),i.d(t,"showDisconnectedMessage",function(){return r}),i.d(t,"showCriticalErrorMessage",function(){return o})},"z61+":function(e,t,i){"use strict";function n(e){return"strategy_props"===e.groupId}var r,o,s,a,l,c,u,h,d,p,f,_,m;i.d(t,"a",function(){return _}),r=i("mrSG"),o=i("Eyy1"),s=i("0YCj"),a=i.n(s),l=i("23IT"),c=i("ogJP"),u=i("uOxu"),h=i("W5mg"),d=i("Ecpn"),f=Object(u.getLogger)("Platform.GUI.PropertyDialog.Indicators.MetaInfo"),_=function(){function e(e){this._metaInfo=e}return e.prototype.hasUserEditableInputs=function(){return this._metaInfo.inputs.some(h.a)},e.prototype.getUserEditableInputs=function(){return this._metaInfo.inputs.filter(h.a)},e.prototype.hasUserEditableProperties=function(){return a.a.isScriptStrategy(this._metaInfo)},e.prototype.hasUserEditableStyles=function(){var e=this._metaInfo;return this.getUserEditablePlots().length>0||void 0!==e.bands||void 0!==e.filledAreas||Object(d.a)(e.shortId)||a.a.isScriptStrategy(this._metaInfo)||Object.values(e.graphics).some(function(e){return void 0!==e})},e.prototype.getUserEditablePlots=function(){var e=new Set,t=this._metaInfo;return t.plots.filter(function(i){var n,r,s;return!(Object(l.isColorerPlot)(i)||Object(l.isTextColorerPlot)(i)||Object(l.isDataOffsetPlot)(i)||Object(l.isOhlcColorerPlot)(i)||Object(l.isAlertConditionPlot)(i))&&(Object(l.isOhlcPlot)(i)?(n=i.target,!e.has(n)&&(e.add(n),r=Object(o.ensureDefined)(t.ohlcPlots),!Object(o.ensureDefined)(r[n]).isHidden)):void 0===(s=t.styles?t.styles[i.id]:void 0)||!s.isHidden)})},e.prototype.hasUserEditableOptions=function(){return this.hasUserEditableInputs()||this.hasUserEditableProperties()||this.hasUserEditableStyles()},
e.prototype.getStrategyProperties=function(){var e,t,i,s,a,l=this._metaInfo,u=l.inputs.filter(n),h=Object(r.__assign)({},m);for(e=0,t=u;e<t.length;e++)h[s=(i=t[e]).internalID]=i,m.hasOwnProperty(s)||f.logWarn("Unknown strategy input internal id "+s+" in "+l.fullId);return Object(c.clone)((a=h,Object.values(a).forEach(o.ensureDefined),a))},e}(),(p={}).currency=void 0,p.backtest_fill_limits_assumption=void 0,p.calc_on_every_tick=void 0,p.calc_on_order_fills=void 0,p.commission_value=void 0,p.commission_type=void 0,p.initial_capital=void 0,p.pyramiding=void 0,p.slippage=void 0,p.default_qty_type=void 0,p.default_qty_value=void 0,m=p},"z8/4":function(e,t,i){"use strict";var n,r,o,s,a;i.r(t),i.d(t,"OverlayLegendView",function(){return a}),n=i("mrSG"),r=i("JjUe"),o=i("n5al"),s=i("oxKA"),a=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._additional=null,n._showBarChange=i.properties().paneProperties.legendProperties.showBarChange,n._showSeriesOHLC=i.properties().paneProperties.legendProperties.showSeriesOHLC,n._seriesStyle=t.properties().childs().style,n._studyOverlay=t,n._showBarChange.subscribe(n,n.update),n._showSeriesOHLC.subscribe(n,n.update),n}return Object(n.__extends)(t,e),t.prototype.isValuesVisible=function(){return this._showSeriesOHLC.value()||this._showBarChange.value()},t.prototype.additional=function(){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._additional},t.prototype.destroy=function(){this._showBarChange.unsubscribeAll(this),this._showSeriesOHLC.unsubscribeAll(this)},t.prototype._updateImpl=function(){var t,i,n,r,a;e.prototype._updateImpl.call(this),this._showLastPriceAndChangeOnly()||(t=Object(o.isPriceSourceStyle)(this._seriesStyle.value()),n=(i=this._showSeriesOHLC.value())&&!t,r=i&&t,this._items[0].setVisible(n),this._items[1].setVisible(n),this._items[2].setVisible(n),this._items[3].setVisible(n),this._items[6].setVisible(this._showBarChange.value()),this._items[4].setVisible(r)),a=Object(s.getDataVendorString)(this._studyOverlay.symbolInfo()),this._additional=a?window.t("Data Provided by")+" "+a:null},t}(r.OverlayDataWindowView)},zDbI:function(e,t,i){"use strict";var n,r,o,s;i.r(t),i.d(t,"CHART_FONT_FAMILY",function(){return s}),n=i("qFKp"),r="'Trebuchet MS', Roboto, Ubuntu, sans-serif",o="system-ui, -apple-system",s=Object(n.isOnMobileAppPage)("old")?o:r},zL3Q:function(e,t,i){"use strict";function n(){var e=s.pressedKeys.value(),t=255&e,i=Boolean(e&s.Modifiers.Mod)&&(17===t||91===t),n=u.tool.value(),r=i&&(Object(h.isLineToolName)(n)||u.isToolEditingNow.value()||Object(u.toolIsMeasure)(n)),o=Object(u.properties)().childs().magnet.value();d.setValue(r?!o:o),p.setValue(!o&&r?c.MagnetMode.StrongMagnet:Object(u.properties)().childs().magnetMode.value())}function r(){return d}function o(){return p}var s,a,l,c,u,h,d,p;i.d(t,"a",function(){return r}),i.d(t,"b",function(){return o}),s=i("lxNp"),a=i("hY0g"),l=i.n(a),c=i("4o++"),u=i("mMWL"),h=i("CW80"),d=new l.a(!1),p=new l.a(c.MagnetMode.WeakMagnet),Object(u.runOnDrawingStateReady)(function(){
Object(u.properties)().childs().magnet.subscribe(null,n),Object(u.properties)().childs().magnetMode.subscribe(null,n),s.pressedKeys.subscribe(n),u.tool.subscribe(n),u.isToolEditingNow.subscribe(n),n()})},zM7N:function(e,t,i){"use strict";function n(){var e;return(e={})[_.Light]=JSON.parse(JSON.stringify(d)),e[_.Dark]=JSON.parse(JSON.stringify(p)),e}function r(){return[_.Light,_.Dark]}function o(e){return n()[e]}function s(e){return m[e]||e}function a(e){var t=n();return r().some(function(i){return c(t[i],e)})}function l(e){var t,i,o,s=n(),a=r();for(t=0,i=a;t<i.length;t++)if(c(s[o=i[t]],e))return o;return null}function c(e,t){var i=e.content===t.content;return function(e,t){void 0===e&&(e={});try{!function e(t,i,n){var r,o;for(r in t)if(t.hasOwnProperty(r))if(o=i.concat(r),"object"==typeof t[r])e(t[r],o,n);else if(n(o,t[r]))throw new Error("exit")}(e,[],t)}catch(e){return}}(e.content,function(e,n){var r=function(e,t){void 0===t&&(t={});for(var i=t,n=0;n<e.length;n++){if(!i||"object"!=typeof i)return;i=i[e[n]]}if("string"==typeof i||"number"==typeof i)return i;return}(e,t.content);return!(i=function(e,t){if("string"==typeof e&&"string"==typeof t)try{return Object(h.areEqualRgb)(Object(h.parseRgb)(e),Object(h.parseRgb)(t))}catch(i){return e===t}return e===t}(n,r))}),i}var u,h,d,p,f,_,m;i.r(t),i.d(t,"StdTheme",function(){return _}),i.d(t,"getStdThemeNames",function(){return r}),i.d(t,"getStdChartTheme",function(){return o}),i.d(t,"translateThemeName",function(){return s}),i.d(t,"isStdTheme",function(){return a}),i.d(t,"getThemeNameIfStdTheme",function(){return l}),u=i("YFKU"),h=i("eJTA"),d=i("/McG"),p=i("8pII"),function(e){e.Light="light",e.Dark="dark"}(_||(_={})),(f={})[_.Light]=u.t("Light",{context:"colorThemeName"}),f[_.Dark]=u.t("Dark",{context:"colorThemeName"}),m=f},zRdu:function(e,t,i){"use strict";var n;i.d(t,"a",function(){return n}),function(e){e[e.Separator=0]="Separator",e[e.Action=1]="Action",e[e.ActionAsync=2]="ActionAsync"}(n||(n={}))},zUrt:function(e,t,i){"use strict";var n,r;i.r(t),i.d(t,"backend",function(){return r}),n=i("JWp+"),r=n},zXvd:function(e,t,i){"use strict";var n,r;i.r(t),i.d(t,"NumericFormatter",function(){return r}),n=i("kcTO"),r=function(){function e(e){this._precision=e}return e.prototype.format=function(t){return(void 0!==this._precision?t.toFixed(this._precision):e.formatNoE(t)).replace(".",n.formatterOptions.decimalSign)},e.prototype.parse=function(e){var t=e.replace(n.formatterOptions.decimalSign,"."),i=parseFloat(t);return this._precision&&(i=+i.toFixed(this._precision)),i},e.formatNoE=function(e){return e>=1e-15&&e<1?e.toFixed(15).replace(/\.?0+$/,""):String(e)},e}()},zZ2k:function(e,t,i){"use strict";var n,r,o,s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,A,O,M,k,D,R,V,B,N,F,j,W,U,H,z,G,Y,q,X,K,Q,Z,J,$,ee,te;i.r(t),n=i("mrSG"),r=i("Eyy1"),o=i("fgLi"),s=i("hY0g"),a=i.n(s),l=i("KcY8"),c="#4c525e",u=function(e){function t(t,i,n){var r=e.call(this)||this;return r._source=t,r._priceScale=i,r._priceProvider=n,r}return Object(n.__extends)(t,e),t.prototype.setHitTestData=function(e){
this._hitTestData=e},t.prototype._updateRendererData=function(e,t,i){var n,r,o;e.visible=!1,t.visible=!1,r=null!==(n=this._priceScale.mainSource())?n.firstValue():null,this._isVisible()&&!this._priceScale.isEmpty()&&null!==r&&null!==(o=this._priceProvider(this._priceScale))&&(i.background=this._bgColor(),i.color=this.generateTextColor(i.background),i.coordinate=this._priceScale.priceToCoordinate(o,r),e.text=this._priceScale.formatPrice(o,r),e.visible=!0,t.visible=!0,t.hitTestData=this._hitTestData)},t}(l.a),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype._isVisible=function(){return this._source.visible&&null!==this._source.pane},t.prototype._bgColor=function(){return c},t}(u),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.__extends)(t,e),t.prototype._isVisible=function(){return null!==this._source.measurePane()},t.prototype._bgColor=function(){return this._source.model().isDark()?"#1E88E5":"#2196F3"},t}(u),p=i("mMWL"),i("YFKU"),f=i("KtbP"),_=i("N22A"),m=i("PC8g"),g=i("7KDR"),y=i("YFkB"),v=i("2O5g"),b=i("hqNu"),S=i("CW80"),w=i("Y7w9"),P=i("+slJ"),T=i("rzvv"),C=i("5VQP"),x=i("Kxc7"),I=function(e){function t(t,i,n,r,o){var s=e.call(this,t,i,r)||this;return s._currMainDataSourceId=null,s._hasActions=!1,s._tooltipText=null,s._gaOrigin="CH menu",s._crosshairPriceAxisView=t,t.setPaneRendererLabelIcon(0),s._crosshair=i,s._scale=n,s._options=o,Object(_.waitTradingService)().then(function(){s._currMainDataSourceId=null}),s}return Object(n.__extends)(t,e),t.prototype.update=function(){var t,i,n,r,o,s,a,l,c,u,h,d,p,f;e.prototype.update.call(this),t=this._crosshair.y,i=this._chartModel.properties().scalesProperties.fontSize.value(),n=this._chartModel.timeScale().width(),s=t-(r=i+2*Math.floor(i/3.5))/2,a=0,l=n-(o=r),null!==(u=null!==(c=this._crosshair.pane)?c.mainDataSource():null)&&u.idForAlert()!==this._currMainDataSourceId&&(this._currMainDataSourceId=u.idForAlert(),this._hasActions=this._hasAvailableActions(u),this._tooltipText=this._getTooltipText(u)),h=null!==c&&0!==c.leftPriceScales().length&&this._hasActions,d=null!==c&&0!==c.rightPriceScales().length&&this._hasActions,p=n-o/2,f=this._tooltipText?{text:this._tooltipText,rect:{x:p,y:s,w:0,h:0}}:void 0,this._data={left:h,right:d,xl:a,xr:l,y:s,containerWidth:o,containerHeight:r,mouseClickHandler:this._handleClick.bind(this),tooltip:f},this._crosshairPriceAxisView.setHitTestData(this._data)},t.prototype._priceScale=function(){return this._scale},t.prototype._hasAvailableActions=function(e){return this._canCreateAlert(e)||this._canTrade(e)},t.prototype._getTooltipText=function(e){return this._canCreateAlert(e)&&!this._canTrade(e)?window.t("Add Alert"):null},t.prototype._canCreateAlert=function(e){return e.hasStateForAlert&&e.hasStateForAlert()||!1},t.prototype._canTrade=function(e){return e===this._chartModel.mainSeries()&&Boolean(Object(_.tradingService)())},t.prototype._handleClick=function(e,t,i){var n=this
;x.enabled("widget")&&x.enabled("referral_program_for_widget_owners")?Object(b.showGoToTradingViewReferralDialog)({feature:"plusMenu"}):(Object(m.trackEvent)(this._gaOrigin,"click"),this._getMenuItems(t).then(function(r){var o=r[0];1!==r.length||o.isDisabled()?r.length>0&&n._showContextMenu(r,e,i,t):o.execute()}))},t.prototype._getMenuItems=function(e){var t=this,i=this._options.disableTradingMenuActions?null:Object(_.tradingService)(),o=Object(r.ensureNotNull)(this._crosshair.pane).mainDataSource(),s=o===this._chartModel.mainSeries()&&Boolean(i),a=this._createAlertMenuItems(e),l=s?this._createTradingMenuItems():Promise.resolve([]);return Promise.all([a,l]).then(function(e){var o,s=e[0],a=e[1];return a.length>0&&Object(r.ensureNotNull)(i).trackEvent(t._gaOrigin,"click"),o=s.length>0&&a.length>0,Object(n.__spreadArrays)(s,[o?new g.Separator:null],a).filter(function(e){return null!==e})})},t.prototype._createAlertMenuItems=function(e){var t,i,n,o,s=this;return null===this._crosshair.pane?Promise.resolve([]):null===(t=this._crosshair.pane.mainDataSource())?Promise.resolve([]):(i=this._crosshair.y,this._options.menuForMainSourceOnly?t.hasStateForAlert()&&t.isVisible()?(n=this._getActionAddAlert({source:t,y:i,isDisabled:!1}),Promise.resolve(null===n?[]:[n])):Promise.resolve([]):(o=[],(o=Object(r.ensureNotNull)(this._crosshair.pane).orderedSources(e).filter(function(e){return!Object(S.isLineTool)(e)&&void 0!==e.hasStateForAlert&&e.hasStateForAlert()&&e.isVisible()})).reverse(),o=Object(w.moveToHead)(o,this._chartModel.mainSeries()),Object(P.a)(o).then(function(e){var t,n,r,a,l=new Set(e),c=[];for(t=0,n=o;t<n.length;t++)r=n[t],null!==(a=s._getActionAddAlert({source:r,y:i,isDisabled:!l.has(r)}))&&c.push(a);return c})))},t.prototype._createTradingMenuItems=function(){var e,t,i,n=this;return e=this._crosshair.y,null===(t=Object(_.tradingService)())||null===this._crosshair.pane?Promise.resolve([]):(i=Object(r.ensureNotNull)(this._crosshair.pane.mainDataSource()),Object(y.a)(i,e).then(function(e){return t.chartContextMenuActions(e,{onlyMainActions:!0,gaOrigin:n._gaOrigin})}))},t.prototype._getActionAddAlert=function(e){var t,i,n,r,o,s,a=this;return t=e.source,i=e.y,n=e.isDisabled,null===(r=this._getValue(t,i))?null:(o=this._formatValue(r,t),s={label:window.t("Add Alert For {title}").format({title:t.title(!0,{},!0)})+" ("+o+")",icon:T},n?s.disabled=!0:s.onExecute=function(){return a._addAlert(r,t)},new g.Action(s))},t.prototype._getValue=function(e,t){var i,n;return i=e.priceScale(),n=e.firstValue(),null===i||null===n?null:i.isPercentage()||i.isIndexedTo100()?null:i.coordinateToPrice(t,n)},t.prototype._formatValue=function(e,t){return t.formatter().format(e)},t.prototype._addAlert=function(e,t){var i,n=this;i=function(){Object(v.invokeAlertEditor)({dataSourceHub:n._chartModel,series:t,value:e,silent:!0,actionSource:"crosshair_menu"}),Object(m.trackEvent)(n._gaOrigin,"alert")},window.runOrSignIn(i,{source:this._gaOrigin})},t.prototype._showContextMenu=function(e,t,i,n){var o=this,s="left"===n;setTimeout(function(){
C.ContextMenuManager.createMenu(e).then(function(e){e.show(function(e,t){var n=Object(r.ensureDefined)(o._data),a=Object(r.ensureNotNull)(i.view).innerHeight,l=s?n.xl:n.xr,c=i.localX-l,u={left:i.clientX-c,right:i.clientX-c+n.containerWidth,top:i.clientY-n.containerHeight/2,bottom:i.clientY+n.containerHeight/2},h=s?u.left:u.right-e,d=a<u.bottom+t?u.top-t:u.bottom;return{clientX:h,clientY:d}})})})},t}(f.PanePriceAxisView),E=i("qFKp"),L=i("Tmoa"),A=i("8Uy/"),O=i("jFln"),M=i("VdBB"),k=i("gAom"),D=function(){function e(e){this._data=e}return e.prototype.hitTest=function(e){return void 0===this._data.mouseClickHandler?null:new M.HitTestResult(M.HitTestResult.CUSTOM,{mouseClickHandler:this._data.mouseClickHandler})},e.prototype.draw=function(e,t){var i,n,r,o,s=t.pixelRatio,a=this._data.vertLinesVisible,l=this._data.horzLinesVisible;(a||l)&&(e.save(),e.lineWidth=Math.max(1,Math.floor(this._data.lineWidth*s)),e.strokeStyle=this._data.color,e.fillStyle=this._data.color,e.lineCap="butt",Object(O.setLineStyle)(e,this._data.lineStyle),i=Math.round(this._data.x*s),n=Math.round(this._data.y*s),r=Math.ceil(this._data.w*s),o=Math.ceil(this._data.h*s),a&&i>=0&&Object(k.drawVerticalLine)(e,i,0,o),l&&n>=0&&Object(k.drawHorizontalLine)(e,n,0,r),this._data.drawCenter&&(e.beginPath(),e.arc(i,n,Math.round(3*s),0,2*Math.PI,!0),e.fillStyle=this._data.color,e.fill()),e.restore())},e}(),R=function(){function e(e,t,i){this._rendererData={},this._renderer=new D(this._rendererData),this._source=e,this._pane=t,this._horzVisible=i}return e.prototype.update=function(){},e.prototype.renderer=function(e,t){var i,n,r,o,s,a,l=this._source.visible&&this._source.areLinesVisible,c=Object(p.lockTimeAxis)().value(),u=this._rendererData;return l&&null!==this._pane?(u.horzLinesVisible=l&&this._horzVisible,u.vertLinesVisible=l||c,i=this._source.model(),n=this._source.properties(),r=this._source.selectBarMode().value()&&this._source.isOnHoveredChartWidget(),s=(o=E.CheckMobile.any()&&Object(S.isLineToolName)(i.currentTool())&&!r)?i.isDark()?"#1E88E5":"#2196F3":n.childs().color.value(),a=n.childs().transparency.value(),!o&&a>0&&(s=Object(L.generateColor)(s,a)),u.color=s,u.lineWidth=n.childs().width.value(),u.lineStyle=n.childs().style.value(),u.drawCenter=o&&this._pane===this._source.pane,u.w=this._pane.width(),u.h=this._pane.height(),u.x=void 0!==this._source.lockedX&&isFinite(this._source.lockedX)&&this._source.lockedX||this._source.x,u.y=this._source.y,r&&(u.vertLinesVisible=!0,u.lineStyle=A.LINESTYLE_SOLID,u.lineWidth=2,u.color="#ff0000"),this._renderer):null},e}(),V=i("IjC5"),B=function(){function e(e){this._renderer=new V.RectangleRenderer,this._rectangle=null,this._crosshair=e}return e.prototype.update=function(){var e=this._crosshair.selection();null!==e&&null!==this._crosshair.pane?this._rectangle=this._crosshair.pane.logicalRectToPixels(e):this._rectangle=null},e.prototype.renderer=function(e,t){var i,n;return this._rectangle?(n={backcolor:(i=this._crosshair.model().isDark())?"rgba(21, 101, 192, 0.3)":"rgba(33, 150, 243, 0.3)",
color:i?"rgba(21, 101, 192, 0.8)":"rgba(33, 150, 243, 0.8)",fillBackground:!0,linewidth:1,points:[this._rectangle.min,this._rectangle.max]},this._renderer.setData(n),this._renderer):null},e}(),N=i("aO4+"),F=i("Ialn"),j=i("GH0z"),W=i("5C6T"),U=i("nda6"),H=i("pJOz"),z=i("qgcf"),G=i("Zy3/"),Y=i("a7Ha"),q=i("zDbI"),X=window.t("{0} bars"),K=new U.TimeSpanFormatter,Q=function(){function e(e,t){this._pipFormatter=null,this._lastSymbolInfo=null,this._horzTrenRenderer=new H.TrendLineRenderer,this._vertTrenRenderer=new H.TrendLineRenderer,this._bgRenderer=new V.RectangleRenderer,this._labelRenderer=new z.TextRenderer,this._p1=null,this._p2=null,this._label=null,this._source=e,this._pane=t}return e.prototype.update=function(){var e,t,i,n,o,s,a,l,c,u,h,d,p,f,_,m,g,y,v,b,S,w,P,T,C,x,I,E,L,O,M,k,D,R,V,B,U,H,G,Q,Z,J,$=this._source.measurePoints(),ee=$[0],te=$[1];if(void 0===te)return this._p1=null,void(this._p2=null);e=Object(r.ensureNotNull)(this._source.measurePane()),t=ee.price,i=te.price,n=te.price-t,o=te.index-ee.index,s=Object(F.forceLTRStr)(""+o),a=Object(r.ensureNotNull)(e.mainDataSource()),l=Object(r.ensureNotNull)(a.formatter()).format(n),Math.abs(t)>1e-8&&(c=n/Math.abs(t),l+=" ("+(new j.PercentageFormatter).format(100*c)+")"),u=Object(F.forceLTRStr)(l),this._label=u+"\n"+X.format(s),h=Object(r.ensureNotNull)(a.firstValue()),d=this._source.model().timeScale().indexToCoordinate(ee.index),p=this._source.model().timeScale().indexToCoordinate(te.index),f=e.defaultPriceScale().priceToCoordinate(t,h),_=e.defaultPriceScale().priceToCoordinate(i,h),this._p1=new N.Point(d,f),this._p2=new N.Point(p,_),m=this._source.model().timeScale().indexToUserTime(ee.index),g=this._source.model().timeScale().indexToUserTime(te.index),y=null,null!==m&&null!==g&&(null!==(v=this._pane.model().mainSeries().symbolInfo())&&v!==this._lastSymbolInfo&&(this._pipFormatter=new W.PipFormatter(v.pricescale,v.minmov,v.type,v.minmove2),this._lastSymbolInfo=v),y=(g.valueOf()-m.valueOf())/1e3),S=null!==(b=this._pipFormatter?this._pipFormatter.format(n):null)?" , "+b:"",P=null!==(w=null!==y?K.format(y):null)?", "+Object(F.startWithLTR)(w):"",this._label=Object(F.forceLTRStr)(u+S)+"\n"+X.format(s)+P,T=i<t?"rgba(239,83,80,0.2)":"rgba(30,136,229,0.2)",C=i<t?"#EF5350":"#1E88E5",x=i<t?"#EF5350":"#2196F3",I={points:[this._p1,this._p2],linewidth:0,fillBackground:!0,color:T,backcolor:T},this._bgRenderer.setData(I),E=this._p1.add(this._p2).scaled(.5),L=e.defaultPriceScale().height(),O=Math.round(E.y),D={points:[M=new N.Point(this._p1.x,O),k=new N.Point(this._p2.x,O)],width:this._source.model().timeScale().width(),height:L,color:C,linewidth:1,linestyle:A.LINESTYLE_SOLID,extendleft:!1,extendright:!1,leftend:Y.LineEnd.Normal,rightend:Math.abs(M.x-k.x)>=50?Y.LineEnd.Arrow:Y.LineEnd.Normal},this._horzTrenRenderer.setData(D),R=Math.round(E.x),D={points:[M=new N.Point(R,this._p1.y),k=new N.Point(R,this._p2.y)],width:this._source.model().timeScale().width(),height:L,color:C,linewidth:1,linestyle:A.LINESTYLE_SOLID,extendleft:!1,extendright:!1,leftend:Y.LineEnd.Normal,
rightend:Math.abs(M.y-k.y)>=50?Y.LineEnd.Arrow:Y.LineEnd.Normal},this._vertTrenRenderer.setData(D),V={x:0,y:10},B=function(e,t){return{points:[t],text:e,color:"#FFFFFF",horzAlign:"center",vertAlign:"middle",font:q.CHART_FONT_FAMILY,offsetX:V.x,offsetY:V.y,bold:!1,italic:!1,fontsize:12,padding:8,highlightBorder:!1,backgroundColor:x,backgroundTransparency:10,backgroundVertInflate:5,backgroundHorzInflate:5,backgroundRoundRect:4}},U=.5*(this._p1.x+this._p2.x),H=this._p2.y,G=new N.Point(U,H),Q=B(Object(r.ensureNotNull)(this._label),G),this._labelRenderer.setData(Q),Z=this._labelRenderer.measure(),J=Object(z.calculateLabelPosition)(Z,this._p1,this._p2,V,this._pane.height()),this._labelRenderer.setPoints([J])},e.prototype.renderer=function(){if(null===this._p1||null===this._p2)return null;var e=new G.CompositeRenderer;return e.append(this._bgRenderer),e.append(this._horzTrenRenderer),e.append(this._vertTrenRenderer),e.append(this._labelRenderer),e},e}(),Z=i("cPgM"),J=function(e){function t(t){var i=e.call(this)||this;return i._data=t,i}return Object(n.__extends)(t,e),t.prototype.hitTest=function(e){return null},t.prototype._drawImpl=function(e){e.translate(this._data.x-this._data.width/2,this._data.y-this._data.height/2),e.strokeStyle="rgba(153,153,153,.3)",e.lineWidth=2,e.beginPath(),this._drawShackle(e),e.stroke(),e.closePath(),e.strokeStyle="rgba(153,153,153,.7)",e.lineWidth=1,e.beginPath(),e.rect(0,this._data.height-this._data.bodyHeight+.5,this._data.width,this._data.bodyHeight),e.closePath(),e.stroke(),e.translate(0,-1),e.strokeStyle="#777",e.beginPath(),this._drawShackle(e),e.stroke(),e.closePath(),e.fillStyle="rgba(255,255,255,.7)",e.beginPath(),e.rect(1,this._data.height-this._data.bodyHeight+1.5,this._data.width-2,this._data.bodyHeight-2),e.fill(),e.beginPath(),e.rect(.5,this._data.height-this._data.bodyHeight+1,this._data.width-1,this._data.bodyHeight-1),e.stroke(),e.closePath(),e.fillStyle="#777",e.fillRect(this._data.width/2-.5,this._data.height-this._data.bodyHeight/2,1,2)},t.prototype._drawShackle=function(e){var t=this._data.width-3,i=t/2,n=this._data.height-this._data.bodyHeight;e.moveTo(1.5,i),e.arc(this._data.width/2,i,i,Math.PI,2*Math.PI),n>i&&(e.moveTo(1.5,i),e.lineTo(1.5,n),e.moveTo(this._data.width-1.5,i),e.lineTo(this._data.width-1.5,n))},t}(Z.ScaledPaneRenderer),$=function(){function e(e,t,i){this._horzVisible=!1,this._source=e,this._pane=t,this._axis=i||"x"}return e.prototype.update=function(){},e.prototype.renderer=function(e,t){var i,n,o,s,a=this._source.visible&&this._source.areLinesVisible,l=Object(p.lockTimeAxis)().value(),c=a&&this._horzVisible,u=a||l;return"y"===this._axis&&!c||!u?null:(i=9,n=11,o="y"===this._axis?this._pane.width()-i/2:Object(r.ensureDefined)(this._source.lockedX)+1,s="y"===this._axis?this._source.y:this._pane.height()-n/2-1,new J({x:o,y:s,width:i,height:n,bodyHeight:7}))},e}(),i.d(t,"CrosshairBase",function(){return te}),ee={menuEnabled:!1,menuForMainSourceOnly:!1,disableTradingMenuActions:!1},te=function(e){function t(t,i){var n,o=e.call(this)||this
;return o._measurePane=null,o._startMeasurePoint=null,o._endMeasurePoint=null,o._lastValidMeasurePoint=null,o._isOnHoveredChartWidget=!1,o._selectBarMode=new a.a(!1),o._selectionPane=null,o._selectionView=new B(o),o._selectionStartPoint=null,o._measurePaneView=null,o._timeLockPaneView=null,o._priceAxisViews=new Map,o._panePriceAxisViews=new Map,o._startMeasurePriceAxisViews=new Map,o._endMeasurePriceAxisViews=new Map,o._model=t,o._options=Object.assign({},ee,i||{}),o._linesShouldBeHidden=o._model.readOnly(),n=function(e){return function(t){return t===Object(r.ensureNotNull)(o._measurePane).defaultPriceScale()?e():null}},o._currentPosPriceProvider=function(e){var t,i,n,s=Object(r.ensureNotNull)(o.pane);return e===s.defaultPriceScale()?o.price:null===(t=Object(r.ensureNotNull)(s.defaultPriceScale().mainSource()).firstValue())?null:(i=s.defaultPriceScale().priceToCoordinate(o.price,t),null===(n=Object(r.ensureNotNull)(e.mainSource()).firstValue())?null:e.coordinateToPrice(i,n))},o._startMeasurePriceProvider=n(function(){return Object(r.ensureNotNull)(o._startMeasurePoint).price}),o._endMeasurePriceProvider=n(function(){return Object(r.ensureNotNull)(o._lastMeasurePoint()).price}),o}return Object(n.__extends)(t,e),t.prototype.startMeasurePoint=function(){return this._startMeasurePoint||null},t.prototype.endMeasurePoint=function(){return this._endMeasurePoint||null},t.prototype.measurePane=function(){return this._measurePane||null},t.prototype.startMeasuring=function(e,t){this._startMeasurePoint=e,this._measurePane=t},t.prototype.finishMeasure=function(e){this._endMeasurePoint=e},t.prototype.clearMeasure=function(){delete this._measurePane,delete this._startMeasurePoint,delete this._endMeasurePoint,delete this._lastValidMeasurePoint,this._model.lightUpdate()},t.prototype.measurePoints=function(){var e,t;return this.updateAllViews(),e=[Object(r.ensureNotNull)(this._startMeasurePoint)],null!==(t=this._lastMeasurePoint())&&e.push(t),e},t.prototype.startSelection=function(e){this._selectionStartPoint=this.currentLogicalPoint(),this._selectionPane=e},t.prototype.clearSelection=function(){this._selectionStartPoint=null,this._selectionPane=null},t.prototype.selection=function(){return this._selectionStartPoint?{p1:this._selectionStartPoint,p2:this.currentLogicalPoint()}:null},t.prototype.currentLogicalPoint=function(){return{index:this.appliedIndex(),price:this.price}},t.prototype.priceAxisViews=function(e,t){var i=this._selectBarMode.value()&&this._isOnHoveredChartWidget,n=[];return i||this.pane!==e||n.push(this._createPriceAxisViewOnDemand(this._priceAxisViews,this._panePriceAxisViews,e,t,this._currentPosPriceProvider,h,!0)),this._startMeasurePoint&&n.push(this._createPriceAxisViewOnDemand(this._startMeasurePriceAxisViews,null,e,t,this._startMeasurePriceProvider,d)),this._lastMeasurePoint()&&n.push(this._createPriceAxisViewOnDemand(this._endMeasurePriceAxisViews,null,e,t,this._endMeasurePriceProvider,d)),n},t.prototype.timeAxisViews=function(){var e=[]
;return this._linesShouldBeHidden||!this.visible&&!Object(p.lockTimeAxis)().value()||e.push(this._timeAxisView),this._startMeasurePoint&&e.push(this._startMeasureTimeAxisView),this._lastMeasurePoint()&&e.push(this._endMeasureTimeAxisView),e},t.prototype.paneViews=function(e){var t,i,n,r,o,s,a,l,c;return void 0===e?null:(t=this._selectBarMode.value()&&this._isOnHoveredChartWidget,i=e===this.pane&&!t,n=[new R(this,e,i)],e===this._selectionPane&&n.push(this._selectionView),e===this._measurePane&&(null===this._measurePaneView&&(this._measurePaneView=new Q(this,e)),this._measurePaneView.update(),n.push(this._measurePaneView)),r=e===this.pane,o=!E.CheckMobile.any()||window.screen.width>=320,s=p.tool.value(),a=Object(S.isLineToolName)(s),l=null!==this._model.lineBeingEdited()||null!==this._model.lineBeingCreated()||this._model.sourcesBeingMoved().length>0,r&&this._isOnHoveredChartWidget&&!t&&o&&!a&&!l&&void 0!==(c=this._panePriceAxisViews.get(e))&&c.forEach(function(e){return n.push(e)}),Object(p.lockTimeAxis)().value()&&(null===this._timeLockPaneView&&(this._timeLockPaneView=new $(this,e)),n.push(this._timeLockPaneView)),n)},t.prototype.updateAllViews=function(){this._priceAxisViews.forEach(function(e){e.forEach(function(e){return e.update()})}),this._panePriceAxisViews.forEach(function(e){e.forEach(function(e){return e.update()})}),this._startMeasurePoint&&(this._startMeasurePriceAxisViews.forEach(function(e){e.forEach(function(e){return e.update()})}),this._startMeasureTimeAxisView.update()),this._lastMeasurePoint()&&(this._endMeasurePriceAxisViews.forEach(function(e){e.forEach(function(e){return e.update()})}),this._endMeasureTimeAxisView.update()),this._timeAxisView.update(),this._selectionView.update(),this._dataWindowView.update()},t.prototype._lastMeasurePoint=function(){return this._endMeasurePoint?this._endMeasurePoint:(null!==this.pane&&this._measurePane===this.pane&&(this._lastValidMeasurePoint={price:this._model.magnet().align(this.price,this.index,this.pane),index:this.index}),this._lastValidMeasurePoint||null)},t.prototype._createPriceAxisViewOnDemand=function(e,t,i,n,r,o,s){var a,l,c,u,h=this;return void 0===s&&(s=!1),a=e.get(i),l=null!==t?t.get(i):void 0,void 0===a&&(a=new Map,e.set(i,a),this._options.menuEnabled&&null!==t&&(l=new Map,t.set(i,l)),s&&i.onDestroyed().subscribe(this,function(){return h._onPaneDestroyed(i)})),void 0===(c=a.get(n))&&(c=new o(this,n,r),a.set(n,c),void 0!==l&&(u=new I(c,this,n,this._model,{menuForMainSourceOnly:this._options.menuForMainSourceOnly}),l.set(n,u)),s&&n.lastSourceRemoved().subscribe(this,function(){return h._onPriceScaleCleared(n)})),c},t.prototype._onPaneDestroyed=function(e){e.onDestroyed().unsubscribeAll(this),this._priceAxisViews.delete(e),this._panePriceAxisViews.delete(e),this._startMeasurePriceAxisViews.delete(e),this._endMeasurePriceAxisViews.delete(e)},t.prototype._onPriceScaleCleared=function(e){e.lastSourceRemoved().unsubscribeAll(this),this._priceAxisViews.forEach(function(t){return t.delete(e)}),this._panePriceAxisViews.forEach(function(t){
return t.delete(e)}),this._startMeasurePriceAxisViews.forEach(function(t){return t.delete(e)}),this._endMeasurePriceAxisViews.forEach(function(t){return t.delete(e)})},t}(o.DataSource)},zZ5f:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolFibSpeedResistanceFan";var o=t||n.createProperties();r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("xp9B").FibSpeedResistanceFanPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("5rJj"),s=i("hayr").propertyPages,a=window.t("Fib Speed Resistance Fan");inherit(n,r),n.HLevelsCount=7,n.VLevelsCount=7,n.prototype.hLevelsCount=function(){return n.HLevelsCount},n.prototype.vLevelsCount=function(){return n.VLevelsCount},n.prototype.pointsCount=function(){return 2},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Fib Speed Resistance Fan"},n.prototype.processErase=function(e,t){var i="h"===t.type?"hlevel"+t.index:"vlevel"+t.index,n=this.properties()[i].visible;e.setProperty(n,!1,"Erase level line")},n.prototype.getStylesPropertyPage=function(){return s.LineToolFibSpeedResistanceFanStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("2PB4").FibSpeedResistanceFanDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){void 0!==e&&void 0===e.reverse&&(e.reverse=!0);var t=new o("linetoolfibspeedresistancefan",e,!1,{range:[1,7],prefixes:["h","v"],names:["coeff","color","visible"]});return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolFibSpeedResistanceFan=n},zgLM:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 34 24" width="34" height="24"><rect width="34" height="24" fill="currentColor" rx="12"/><path fill="#fff" d="M14.94 17l-.73-2.03h-3.44l-.7 2.03H8.1l4-10.15h.77L16.9 17h-1.97zm-2.46-7.09l-1.2 3.7h2.4l-1.2-3.7zm7.7 7.09h-2.22V7c1.42-.06 2.31-.08 2.68-.08 1.45 0 2.61.43 3.46 1.28a4.58 4.58 0 0 1 1.29 3.4c0 3.6-1.74 5.4-5.2 5.4zm-.44-8.46v6.84c.29.03.6.04.93.04.9 0 1.6-.33 2.1-.98.52-.65.77-1.56.77-2.73 0-2.14-1-3.21-2.98-3.21-.2 0-.47.01-.82.04z"/></svg>'},ziJ5:function(e,t,i){"use strict";(function(e){function n(e){this._line=e,this._data={bodyText:"position",quantityText:"0"},this._closeEnabled=!0,this._direction="buy",this._profitState="neutral"}function r(e){return null==e?e="":e+="",e}function o(e,t){var r,a,l,c,u,d;this._adapter=new n(this),this._constructor="LineToolPosition",r=t||o.createProperties(),s.call(this,e,r),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("GzSs").PositionPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe),l=null!==(a=e.mainSeries().symbolInfo())?a.pricescale:100,c=null!==a&&a.fractional?a.minmov:1,u=null!==a&&a.fractional,d=null!==a?a.minmove2:void 0,this._formatter=new h(l,c,u,d)}
var s=i("QIuV"),a=i("Ss5c").LineDataSource,l=i("RTYN").PositionAveragePriceAxisView,c=i("jkoZ"),u=i("Ocx9").DefaultProperty,h=i("kcTO").PriceFormatter,d=i("s1Gx").sortSourcesPreOrdered,p=d.LineToolPosition;n.prototype.setDirection=function(e){return this._direction=e,this._line.updateAllViewsAndRedraw(),this},n.prototype.setProfitState=function(e){return this._profitState=e,this._line.updateAllViewsAndRedraw(),this},n.prototype.getPrice=function(){return this._line.points().length>0?this._line.points()[0].price:this._line._timePoint.length>0?this._line._timePoint[0].price:void 0},n.prototype.setPrice=function(e){if(this._line.points().length>0){var t=this._line.points()[0];t.price=e,this._line._points[0]=t,this._line.normalizePoints(),this._line.updateAllViewsAndRedraw()}return this._line._timePoint.length>0&&(this._line._timePoint[0].price=e),this},n.prototype.getText=function(){return this._data.bodyText},n.prototype.setText=function(e){return this._data.bodyText=e||"",this._line.updateAllViewsAndRedraw(),this},n.prototype.setTooltip=function(e){return this._line.properties().tooltip.setValue(r(e)),this},n.prototype.getTooltip=function(){return this._line.properties().tooltip.value()},n.prototype.setProtectTooltip=function(e){return this._line.properties().protectTooltip.setValue(r(e)),this},n.prototype.getProtectTooltip=function(){return this._line.properties().protectTooltip.value()},n.prototype.setCloseTooltip=function(e){return this._line.properties().closeTooltip.setValue(r(e)),this},n.prototype.getCloseTooltip=function(){return this._line.properties().closeTooltip.value()},n.prototype.setReverseTooltip=function(e){return this._line.properties().reverseTooltip.setValue(r(e)),this},n.prototype.getReverseTooltip=function(){return this._line.properties().reverseTooltip.value()},n.prototype.getQuantity=function(){return this._data.quantityText},n.prototype.setQuantity=function(e){return this._data.quantityText=e||"",this._line.updateAllViewsAndRedraw(),this},n.prototype.getExtendLeft=function(){var e=this._line.properties().extendLeft.value();return"inherit"===e?this._line._model.properties().tradingProperties.extendLeft.value():e},n.prototype.setExtendLeft=function(e){return this._line.properties().extendLeft.setValue(e),this},n.prototype.getLineLength=function(){var e=this._line.properties().lineLength.value();return"inherit"===e?this._line._model.properties().tradingProperties.lineLength.value():e},n.prototype.setLineLength=function(e){return this._line.properties().lineLength.setValue(Math.max(0,Math.min(e,100))),this},n.prototype.getLineColor=function(){var e=this._line.properties(),t="buy"===this._direction?e.lineBuyColor:e.lineSellColor;return t.value()},n.prototype.setLineColor=function(e){return"buy"===this._direction?this.setLineBuyColor(e):this.setLineSellColor(e),this},n.prototype.setLineBuyColor=function(e){return this._line.properties().lineBuyColor.setValue(e),this},n.prototype.setLineSellColor=function(e){return this._line.properties().lineSellColor.setValue(e),this},
n.prototype.getLineStyle=function(){var e=this._line.properties().lineStyle.value();return"inherit"===e?this._line._model.properties().tradingProperties.lineStyle.value():e},n.prototype.setLineStyle=function(e){return this._line.properties().lineStyle.setValue(e),this},n.prototype.getLineWidth=function(){var e=this._line.properties().lineWidth.value();return"inherit"===e?this._line._model.properties().tradingProperties.lineWidth.value():e},n.prototype.setLineWidth=function(e){return this._line.properties().lineWidth.setValue(e),this},n.prototype.getBodyBorderColor=function(){var e=this._line.properties(),t="buy"===this._direction?e.bodyBorderBuyColor:e.bodyBorderSellColor;return t.value()},n.prototype.setBodyBorderColor=function(e){return"buy"===this._direction?this.setBodyBorderBuyColor(e):this.setBodyBorderSellColor(e),this},n.prototype.setBodyBorderBuyColor=function(e){return this._line.properties().bodyBorderBuyColor.setValue(e),this},n.prototype.setBodyBorderSellColor=function(e){return this._line.properties().bodyBorderSellColor.setValue(e),this},n.prototype.getBodyBackgroundColor=function(){return c.getColorFromProperties(this._line.properties().bodyBackgroundColor,this._line.properties().bodyBackgroundTransparency)},n.prototype.setBodyBackgroundColor=function(e){return c.setColorToProperties(e,this._line.properties().bodyBackgroundColor,this._line.properties().bodyBackgroundTransparency),this},n.prototype.getBodyTextColor=function(){var e=this._line.properties(),t="positive"===this._profitState?e.bodyTextPositiveColor:"negative"===this._profitState?e.bodyTextNegativeColor:e.bodyTextNeutralColor;return t.value()},n.prototype.setBodyTextColor=function(e){return"positive"===this._profitState?this.setBodyTextPositiveColor(e):"negative"===this._profitState?this.setBodyTextNegativeColor(e):this.setBodyTextNeutralColor(e),this},n.prototype.setBodyTextPositiveColor=function(e){return this._line.properties().bodyTextPositiveColor.setValue(e),this},n.prototype.setBodyTextNegativeColor=function(e){return this._line.properties().bodyTextNegativeColor.setValue(e),this},n.prototype.setBodyTextNeutralColor=function(e){return this._line.properties().bodyTextNeutralColor.setValue(e),this},n.prototype.getBodyFont=function(){return c.getFontFromProperties(this._line.properties().bodyFontFamily,this._line.properties().bodyFontSize,this._line.properties().bodyFontBold,this._line.properties().bodyFontItalic)},n.prototype.setBodyFont=function(e){return c.setFontToProperties(e,this._line.properties().bodyFontFamily,this._line.properties().bodyFontSize,this._line.properties().bodyFontBold,this._line.properties().bodyFontItalic),this},n.prototype.getQuantityBorderColor=function(){var e=this._line.properties(),t="buy"===this._direction?e.quantityBorderBuyColor:e.quantityBorderSellColor;return t.value()},n.prototype.setQuantityBorderColor=function(e){return"buy"===this._direction?this.setQuantityBorderBuyColor(e):this.setQuantityBorderSellColor(e),this},n.prototype.setQuantityBorderBuyColor=function(e){
return this._line.properties().quantityBorderBuyColor.setValue(e),this},n.prototype.setQuantityBorderSellColor=function(e){return this._line.properties().quantityBorderSellColor.setValue(e),this},n.prototype.getQuantityBackgroundColor=function(){var e=this._line.properties(),t="buy"===this._direction?e.quantityBackgroundBuyColor:e.quantityBackgroundSellColor;return t.value()},n.prototype.setQuantityBackgroundColor=function(e){return"buy"===this._direction?this.setQuantityBackgroundBuyColor(e):this.setQuantityBackgroundSellColor(e),this},n.prototype.setQuantityBackgroundBuyColor=function(e){return this._line.properties().quantityBackgroundBuyColor.setValue(e),this},n.prototype.setQuantityBackgroundSellColor=function(e){return this._line.properties().quantityBackgroundSellColor.setValue(e),this},n.prototype.getQuantityTextColor=function(){return c.getColorFromProperties(this._line.properties().quantityTextColor,this._line.properties().quantityTextTransparency)},n.prototype.setQuantityTextColor=function(e){return c.setColorToProperties(e,this._line.properties().quantityTextColor,this._line.properties().quantityTextTransparency),this},n.prototype.getQuantityFont=function(){return c.getFontFromProperties(this._line.properties().quantityFontFamily,this._line.properties().quantityFontSize,this._line.properties().quantityFontBold,this._line.properties().quantityFontItalic)},n.prototype.setQuantityFont=function(e){return c.setFontToProperties(e,this._line.properties().quantityFontFamily,this._line.properties().quantityFontSize,this._line.properties().quantityFontBold,this._line.properties().quantityFontItalic),this},n.prototype.getReverseButtonBorderColor=function(){var e=this._line.properties(),t="buy"===this._direction?e.reverseButtonBorderBuyColor:e.reverseButtonBorderSellColor;return t.value()},n.prototype.setReverseButtonBorderColor=function(e){return"buy"===this._direction?this.setReverseButtonBorderBuyColor(e):this.setReverseButtonBorderSellColor(e),this},n.prototype.setReverseButtonBorderBuyColor=function(e){return this._line.properties().reverseButtonBorderBuyColor.setValue(e),this},n.prototype.setReverseButtonBorderSellColor=function(e){return this._line.properties().reverseButtonBorderSellColor.setValue(e),this},n.prototype.getReverseButtonBackgroundColor=function(){return c.getColorFromProperties(this._line.properties().reverseButtonBackgroundColor,this._line.properties().reverseButtonBackgroundTransparency)},n.prototype.setReverseButtonBackgroundColor=function(e){return c.setColorToProperties(e,this._line.properties().reverseButtonBackgroundColor,this._line.properties().reverseButtonBackgroundTransparency),this},n.prototype.getReverseButtonIconColor=function(){var e=this._line.properties(),t="buy"===this._direction?e.reverseButtonIconBuyColor:e.reverseButtonIconSellColor;return t.value()},n.prototype.setReverseButtonIconColor=function(e){return"buy"===this._direction?this.setReverseButtonIconBuyColor(e):this.setReverseButtonIconSellColor(e),this},n.prototype.setReverseButtonIconBuyColor=function(e){
return this._line.properties().reverseButtonIconBuyColor.setValue(e),this},n.prototype.setReverseButtonIconSellColor=function(e){return this._line.properties().reverseButtonIconSellColor.setValue(e),this},n.prototype.getCloseButtonBorderColor=function(){var e=this._line.properties(),t="buy"===this._direction?e.closeButtonBorderBuyColor:e.closeButtonBorderSellColor;return t.value()},n.prototype.setCloseButtonBorderColor=function(e){return"buy"===this._direction?this.setCloseButtonBorderBuyColor(e):this.setCloseButtonBorderSellColor(e),this},n.prototype.setCloseButtonBorderBuyColor=function(e){return this._line.properties().closeButtonBorderBuyColor.setValue(e),this},n.prototype.setCloseButtonBorderSellColor=function(e){return this._line.properties().closeButtonBorderSellColor.setValue(e),this},n.prototype.getCloseButtonBackgroundColor=function(){return c.getColorFromProperties(this._line.properties().closeButtonBackgroundColor,this._line.properties().closeButtonBackgroundTransparency)},n.prototype.setCloseButtonBackgroundColor=function(e){return c.setColorToProperties(e,this._line.properties().closeButtonBackgroundColor,this._line.properties().closeButtonBackgroundTransparency),this},n.prototype.getCloseButtonIconColor=function(){var e=this._line.properties(),t="buy"===this._direction?e.closeButtonIconBuyColor:e.closeButtonIconSellColor;return t.value()},n.prototype.setCloseButtonIconColor=function(e){return"buy"===this._direction?this.setCloseButtonIconBuyColor(e):this.setCloseButtonIconSellColor(e),this},n.prototype.setCloseButtonIconBuyColor=function(e){return this._line.properties().closeButtonIconBuyColor.setValue(e),this},n.prototype.setCloseButtonIconSellColor=function(e){return this._line.properties().closeButtonIconSellColor.setValue(e),this},n.prototype.block=function(){this._blocked=!0,this._line.updateAllViewsAndRedraw()},n.prototype.unblock=function(){this._blocked=!1,this._line.updateAllViewsAndRedraw()},n.prototype.isFunction=function(e){return"function"==typeof e},n.prototype.onReverse=function(e,t){return t?this.isFunction(t)&&(this._onReverseData=e,this._onReverseCallback=t):this.isFunction(e)&&(this._onReverseCallback=e),this},n.prototype.callOnReverse=function(){this.isFunction(this._onReverseCallback)&&this._onReverseCallback.call(this,this._onReverseData)},n.prototype.isOnReverseCallbackPresent=function(){return this.isFunction(this._onReverseCallback)},n.prototype.onClose=function(e,t){return t?this.isFunction(t)&&(this._onCloseData=e,this._onCloseCallback=t):this.isFunction(e)&&(this._onCloseCallback=e),this},n.prototype.setCloseEnabled=function(e){return this._closeEnabled===e?this:(this._closeEnabled=e,this._onCloseCallback&&this._line.updateAllViewsAndRedraw(),this)},n.prototype.isCloseEnabled=function(){return this._closeEnabled},n.prototype.callOnClose=function(){this.isFunction(this._onCloseCallback)&&this._closeEnabled&&this._onCloseCallback.call(this,this._onCloseData)},n.prototype.isOnCloseCallbackPresent=function(){return this._closeEnabled&&this.isFunction(this._onCloseCallback)},
n.prototype.onModify=function(e,t){return t?this.isFunction(t)&&(this._onModifyData=e,this._onModifyCallback=t):this.isFunction(e)&&(this._onModifyCallback=e),this},n.prototype.callOnModify=function(){this.isFunction(this._onModifyCallback)&&this._onModifyCallback.call(this,this._onModifyData)},n.prototype.onContextMenu=function(e,t){return t?this.isFunction(t)&&(this._onContextMenuData=e,this._onContextMenuCallback=t):this.isFunction(e)&&(this._onContextMenuCallback=e),this},n.prototype.shouldShowContextMenu=function(){return this.isFunction(this._onContextMenuCallback)},n.prototype.callOnContextMenu=function(){if(this.isFunction(this._onContextMenuCallback))return this._onContextMenuCallback.call(this,this._onContextMenuData)},n.prototype.remove=function(){this._line._model.removeSource(this._line),delete this._line},inherit(o,s),o.prototype.zorder=function(){return p},o.prototype.setPoint=function(e,t,i){this._points[e]=t,this.normalizePoints()},o.prototype.addPoint=function(e,t){return this._points.push(e),this._lastPoint=null,this.normalizePoints(),this.createServerPoints(),!0},o.prototype.translatedType=function(){return"Position"},o.prototype.name=function(){return"Position"},o.prototype.createPriceAxisView=function(e){return this._priceAxisView=new l(this,{pointIndex:e,backgroundPropertyGetter:this._adapter.getLineColor.bind(this._adapter)}),this._priceAxisView},o.prototype.paneViews=function(){return TradingView.printing&&!e.enabled("snapshot_trading_drawings")?null:this._model.properties().tradingProperties.showPositions.value()?a.prototype.paneViews.call(this):null},o.prototype.priceAxisViews=function(t,i){return TradingView.printing&&!e.enabled("snapshot_trading_drawings")?null:this._model.properties().tradingProperties.showPositions.value()?a.prototype.priceAxisViews.call(this,t,i):null},o.prototype.hasContextMenu=function(){return this._adapter.shouldShowContextMenu()},o.prototype.contextMenuItems=function(){return this._adapter.callOnContextMenu()},o.prototype.formatter=function(){return this._formatter},o.createProperties=function(e){var t=new u("linetoolposition",e,!1,!1);return o._configureProperties(t),t},o._configureProperties=function(e){s._configureProperties(e)},t.LineToolPosition=o}).call(this,i("Kxc7"))},zqZp:function(e,t,i){"use strict";function n(e,t){this._constructor="LineToolPriceLabel";var o=t||n.createProperties();r.call(this,e,o),Promise.all([i.e(165),i.e("lt-pane-views")]).then(function(e){var t=i("Ni7V").PriceLabelPaneView;this._setPaneViews([new t(this,this._model)])}.bind(this).bind(null,i)).catch(i.oe)}var r=i("Ss5c").LineDataSource,o=i("Ocx9").DefaultProperty,s=i("hayr").propertyPages,a=window.t("Price Label");inherit(n,r),n.prototype.pointsCount=function(){return 1},n.prototype.translatedType=function(){return a},n.prototype.name=function(){return"Price Label"},n.prototype.getStylesPropertyPage=function(){return s.LineToolPriceLabelStylesPropertyPage},n.prototype._getPropertyDefinitionsViewModelClass=function(){
return Promise.all([i.e(44),i.e(164),i.e("lt-property-pages-with-definitions")]).then(function(e){return i("hQgR").PriceLabelDefinitionsViewModel}.bind(null,i)).catch(i.oe)},n.createProperties=function(e){var t=new o("linetoolpricelabel",e);return n._configureProperties(t),t},n._configureProperties=function(e){r._configureProperties(e)},t.LineToolPriceLabel=n}},[["Ob86","runtime","vendors_embed"]]]);