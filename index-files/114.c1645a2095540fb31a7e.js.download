(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{M3fW:function(e,t,n){"use strict";function o(e){function t(e){var t=e.getPlots();return e.title({formatter:o,withPlotTitle:t&&t.length>1})}var n,o,i,c,d,p,f,g,y,m,h=Object(a.ensureNotNull)(e.get("extra")),w=h.getAlertSeries();if("StudyStrategy"===w.type())return{type:l.Strategy,strategyTitle:w.title()};if(n=h.conditionData(),["pine_script","pine_alertcondition_plot"].includes(n.type))return{type:l.PineScript,conditionTitle:n.title,conditionMessage:n.message};switch(o=e.getFormatter(),i="",n.type){case"moving":c=h.movingValue(),d=h.movingPeriod(),i=n.percents?c+"% "+s.format({period:d}):(o?o.format(c):c)+" "+s.format({period:d});break;case"comparison":n.isChannel?(p=t(h.getUpperBand()),f=t(h.getLowerBand()),i="("+u.format({alertChannelUpperBoundaryTitle:p,alertChannelLowerBoundaryTitle:f})+")"):i=t(h.getBand())}return y=(g=h.getMainSeries())?g.title({withInterval:!e.get("crossInterval")}):e.shortSymbol(),m=n.descriptionTitle||n.title,Object(r.__assign)({conditionTitle:m,conditionOptions:i},"MainSeries"===w.type()?{type:l.MainSeries,alertSeries:y}:{type:l.Study,alertSeries:w.title(),mainSeries:y})}var r,i,a,l,s,u;n.r(t),n.d(t,"AlertConditionTokenMapType",function(){return l}),n.d(t,"getAlertConditionTokenMap",function(){return o}),r=n("mrSG"),n("HbRj"),i=n("YFKU"),a=n("Eyy1"),function(e){e[e.MainSeries=0]="MainSeries",e[e.Study=1]="Study",e[e.PineScript=2]="PineScript",e[e.Strategy=3]="Strategy"}(l||(l={})),s=Object(i.t)("in {period} bars"),u=Object(i.t)("Upper Bound: {alertChannelUpperBoundaryTitle}, Lower Bound: {alertChannelLowerBoundaryTitle}")},YG2F:function(e,t,n){"use strict";function o(e){switch(e.type){case i.AlertConditionTokenMapType.MainSeries:return e.alertSeries+" "+e.conditionTitle+" "+e.conditionOptions;case i.AlertConditionTokenMapType.Study:return a.format({alertSeries:e.alertSeries,chartSeries:e.mainSeries,alertCondition:e.conditionTitle,alertConditionOptions:e.conditionOptions});case i.AlertConditionTokenMapType.PineScript:return e.conditionMessage;case i.AlertConditionTokenMapType.Strategy:return l.format({strategyName:e.strategyTitle})}}var r,i,a,l;n.r(t),n.d(t,"getAlertDefaultDescription",function(){return o}),n("HbRj"),r=n("YFKU"),i=n("M3fW"),a=Object(r.t)("{alertSeries} {alertCondition} {alertConditionOptions} on {chartSeries}"),l=Object(r.t)("{strategyName}: order {{strategy.order.action}} @ {{strategy.order.contracts}} filled on {{ticker}}. New strategy position is {{strategy.position_size}}")},"hp/T":function(e,t,n){"use strict";function o(e,t){return void 0===e&&(e=g.sound),Object(u.isOnMobileAppPage)("any")?Promise.resolve():(f.logNormal('Sound play attempt for "'+e+'" duration-'+t+"s;"),h(e).play(t))}function r(e){if(!Object(u.isOnMobileAppPage)("any")){var t=[];e?t.push(h(e)):t=Object.values(m),t.forEach(function(e){e.stop()})}}function i(e,t){Object(u.isOnMobileAppPage)("any")||h(e).playing.subscribe(function(e){e||t()},{once:!0})}function a(e){return!Object(u.isOnMobileAppPage)("any")&&h(e).playing.value()}function l(){
s(y.filter(function(e){return!!e.soundForAlerts}).map(function(e){return e.path}))}function s(e){var t,n;Object(u.isOnMobileAppPage)("any")||e&&/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(window.navigator.userAgent)&&(Array.isArray(e)||(e=[e]),0!==(e=e.filter(function(e){var t=h(e);return!(!t||!t.el.load||t._mobilePreloadActive)&&(t._mobilePreloadActive=!0,!0)})).length?(t=function(){var o=[];Array.isArray(e)&&e.forEach(function(e){var t,n=h(e);n.el.load(),t=n.play().catch(function(e){if("AbortError"!==e.name)throw f.logError('enableForMobile for "'+n.el.src+'" preload error: - '+e.message),e}),n.el.pause(),o.push(t)}),Promise.all(o).then(function(){f.logNormal("enableForMobile sounds initialized")}),n.forEach(function(e){document.removeEventListener(e,t,!0)})},(n=["click","touchend","keydown"]).forEach(function(e){document.addEventListener(e,t,!0)})):f.logNormal("enableForMobile no sounds passed"))}var u,c,d,p,f,g,y,m,h;n.r(t),n.d(t,"DEFAULT_SOUNDS",function(){return g}),n.d(t,"availableSounds",function(){return y}),n.d(t,"play",function(){return o}),n.d(t,"stop",function(){return r}),n.d(t,"onStopped",function(){return i}),n.d(t,"isPlaying",function(){return a}),n.d(t,"enableAlertSoundsForMobile",function(){return l}),n.d(t,"enableForMobile",function(){return s}),n("YFKU"),u=n("qFKp"),c=n("uOxu"),d=n("hY0g"),p=n.n(d),f=Object(c.getLogger)("Lib.Sound",{color:"#dea433"}),g={sound:"notification/notification",alert:"alert/fired"},(y=[{title:window.t("Alarm Clock"),path:"alert/alarm_clock",soundForAlerts:!0}]).unshift({path:g.sound,title:window.t("Default"),common:!0},{title:window.t("Chat Message"),path:"chat/message",common:!0},{title:window.t("Chat Popup"),path:"chat/popup",common:!0},{title:window.t("Chat Call"),path:"chat/call"},{title:window.t("Chat Calling"),path:"chat/calling"},{title:window.t("Chat Hangup"),path:"chat/hangup"},{title:window.t("Thin"),path:"alert/fired",soundForAlerts:!0},{title:window.t("3 Notes Reverb"),path:"alert/3_notes_reverb",soundForAlerts:!0}),y.push({title:window.t("Beep-beep"),path:"alert/beep_beep",soundForAlerts:!0},{title:window.t("Calling"),path:"alert/calling",soundForAlerts:!0},{title:window.t("Chirpy"),path:"alert/chirpy",soundForAlerts:!0},{title:window.t("Fault"),path:"alert/fault",soundForAlerts:!0},{title:window.t("Hand Bell"),path:"alert/hand_bell",soundForAlerts:!0}),m={},h=function(e){var t,n,o;return e in m?m[e]:(f.logNormal("requested sound  "+e+" not cached, building a new audio element"),t=Object(u.wrapUrl)("/static/sounds/"+e+".mp3"),n=new Audio(t),o={el:n,playing:new p.a(!1),play:function(t){return void 0===t&&(t=0),o.playing.value()?(f.logNormal("sound already playing"),Promise.reject("already playing")):(o.playing.setValue(!0),new Promise(function(n,r){var i=t>0,a=function(){(function(e){try{f.logNormal('"'+e.el.src+'" triggering html5 play method, readyState - '+e.el.readyState+"; muted - "+e.el.muted+"; volume - "+e.el.volume+"; currentTime - "+e.el.currentTime);var t=e.el.play();return t||(t=Promise.resolve()),t}catch(t){
return f.logError('play method for "'+e.el.src+'" catch error - '+t.message),Promise.reject(t)}})(o).catch(function(t){f.logNormal('stop counting sound "'+e+'"; as playing due to an error: '+t.message),o.stop(),r(t)})};o._onEnded=function(){i?a():(o.stop(),n())},o.el.addEventListener("ended",o._onEnded),i&&setTimeout(function(){f.logNormal('"'+e+'" repeat timeout - '+t+"s off"),i=!1},1e3*t),a()}))},stop:function(){o.el.pause(),o.playing.setValue(!1),o._onEnded&&o.el.removeEventListener("ended",o._onEnded)}},m[e]=o,["canplaythrough","error"].forEach(function(t){n.addEventListener(t,function(){f.logNormal('for sound "'+e+'", event - '+t+" is fired")},!1)}),f.logNormal("canPlayType - "+n.canPlayType("audio/mp3")),m[e])},s(y.filter(function(e){return!!e.common}).map(function(e){return e.path}))}}]);